function cU(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wb={exports:{}},jd={},Hb={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function dU(){if(Xj)return tt;Xj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function b(W,Y,de){this.props=W,this.context=Y,this.refs=w,this.updater=de||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,Y){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Y,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function T(){}T.prototype=b.prototype;function E(W,Y,de){this.props=W,this.context=Y,this.refs=w,this.updater=de||x}var I=E.prototype=new T;I.constructor=E,S(I,b.prototype),I.isPureReactComponent=!0;var N=Array.isArray,k=Object.prototype.hasOwnProperty,O={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(W,Y,de){var oe,xe={},Re=null,ce=null;if(Y!=null)for(oe in Y.ref!==void 0&&(ce=Y.ref),Y.key!==void 0&&(Re=""+Y.key),Y)k.call(Y,oe)&&!P.hasOwnProperty(oe)&&(xe[oe]=Y[oe]);var Se=arguments.length-2;if(Se===1)xe.children=de;else if(1<Se){for(var fe=Array(Se),Ee=0;Ee<Se;Ee++)fe[Ee]=arguments[Ee+2];xe.children=fe}if(W&&W.defaultProps)for(oe in Se=W.defaultProps,Se)xe[oe]===void 0&&(xe[oe]=Se[oe]);return{$$typeof:t,type:W,key:Re,ref:ce,props:xe,_owner:O.current}}function R(W,Y){return{$$typeof:t,type:W.type,key:Y,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var Y={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(de){return Y[de]})}var $=/\/+/g;function V(W,Y){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):Y.toString(36)}function q(W,Y,de,oe,xe){var Re=typeof W;(Re==="undefined"||Re==="boolean")&&(W=null);var ce=!1;if(W===null)ce=!0;else switch(Re){case"string":case"number":ce=!0;break;case"object":switch(W.$$typeof){case t:case e:ce=!0}}if(ce)return ce=W,xe=xe(ce),W=oe===""?"."+V(ce,0):oe,N(xe)?(de="",W!=null&&(de=W.replace($,"$&/")+"/"),q(xe,Y,de,"",function(Ee){return Ee})):xe!=null&&(F(xe)&&(xe=R(xe,de+(!xe.key||ce&&ce.key===xe.key?"":(""+xe.key).replace($,"$&/")+"/")+W)),Y.push(xe)),1;if(ce=0,oe=oe===""?".":oe+":",N(W))for(var Se=0;Se<W.length;Se++){Re=W[Se];var fe=oe+V(Re,Se);ce+=q(Re,Y,de,fe,xe)}else if(fe=y(W),typeof fe=="function")for(W=fe.call(W),Se=0;!(Re=W.next()).done;)Re=Re.value,fe=oe+V(Re,Se++),ce+=q(Re,Y,de,fe,xe);else if(Re==="object")throw Y=String(W),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ce}function X(W,Y,de){if(W==null)return W;var oe=[],xe=0;return q(W,oe,"","",function(Re){return Y.call(de,Re,xe++)}),oe}function te(W){if(W._status===-1){var Y=W._result;Y=Y(),Y.then(function(de){(W._status===0||W._status===-1)&&(W._status=1,W._result=de)},function(de){(W._status===0||W._status===-1)&&(W._status=2,W._result=de)}),W._status===-1&&(W._status=0,W._result=Y)}if(W._status===1)return W._result.default;throw W._result}var re={current:null},Q={transition:null},ae={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:O};function ne(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:X,forEach:function(W,Y,de){X(W,function(){Y.apply(this,arguments)},de)},count:function(W){var Y=0;return X(W,function(){Y++}),Y},toArray:function(W){return X(W,function(Y){return Y})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},tt.Component=b,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=E,tt.StrictMode=n,tt.Suspense=c,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,tt.act=ne,tt.cloneElement=function(W,Y,de){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var oe=S({},W.props),xe=W.key,Re=W.ref,ce=W._owner;if(Y!=null){if(Y.ref!==void 0&&(Re=Y.ref,ce=O.current),Y.key!==void 0&&(xe=""+Y.key),W.type&&W.type.defaultProps)var Se=W.type.defaultProps;for(fe in Y)k.call(Y,fe)&&!P.hasOwnProperty(fe)&&(oe[fe]=Y[fe]===void 0&&Se!==void 0?Se[fe]:Y[fe])}var fe=arguments.length-2;if(fe===1)oe.children=de;else if(1<fe){Se=Array(fe);for(var Ee=0;Ee<fe;Ee++)Se[Ee]=arguments[Ee+2];oe.children=Se}return{$$typeof:t,type:W.type,key:xe,ref:Re,props:oe,_owner:ce}},tt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},tt.createElement=C,tt.createFactory=function(W){var Y=C.bind(null,W);return Y.type=W,Y},tt.createRef=function(){return{current:null}},tt.forwardRef=function(W){return{$$typeof:l,render:W}},tt.isValidElement=F,tt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:te}},tt.memo=function(W,Y){return{$$typeof:d,type:W,compare:Y===void 0?null:Y}},tt.startTransition=function(W){var Y=Q.transition;Q.transition={};try{W()}finally{Q.transition=Y}},tt.unstable_act=ne,tt.useCallback=function(W,Y){return re.current.useCallback(W,Y)},tt.useContext=function(W){return re.current.useContext(W)},tt.useDebugValue=function(){},tt.useDeferredValue=function(W){return re.current.useDeferredValue(W)},tt.useEffect=function(W,Y){return re.current.useEffect(W,Y)},tt.useId=function(){return re.current.useId()},tt.useImperativeHandle=function(W,Y,de){return re.current.useImperativeHandle(W,Y,de)},tt.useInsertionEffect=function(W,Y){return re.current.useInsertionEffect(W,Y)},tt.useLayoutEffect=function(W,Y){return re.current.useLayoutEffect(W,Y)},tt.useMemo=function(W,Y){return re.current.useMemo(W,Y)},tt.useReducer=function(W,Y,de){return re.current.useReducer(W,Y,de)},tt.useRef=function(W){return re.current.useRef(W)},tt.useState=function(W){return re.current.useState(W)},tt.useSyncExternalStore=function(W,Y,de){return re.current.useSyncExternalStore(W,Y,de)},tt.useTransition=function(){return re.current.useTransition()},tt.version="18.3.1",tt}var Yj;function PE(){return Yj||(Yj=1,Hb.exports=dU()),Hb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj;function fU(){if(Qj)return jd;Qj=1;var t=PE(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var p,m={},y=null,x=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(x=c.ref);for(p in c)n.call(c,p)&&!a.hasOwnProperty(p)&&(m[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:e,type:l,key:y,ref:x,props:m,_owner:i.current}}return jd.Fragment=r,jd.jsx=o,jd.jsxs=o,jd}var Jj;function hU(){return Jj||(Jj=1,Wb.exports=fU()),Wb.exports}var f=hU(),D=PE();const G=wt(D),pU=cU({__proto__:null,default:G},[D]);var Zp={},Gb={exports:{}},vn={},Kb={exports:{}},Xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj;function mU(){return Zj||(Zj=1,(function(t){function e(Q,ae){var ne=Q.length;Q.push(ae);e:for(;0<ne;){var W=ne-1>>>1,Y=Q[W];if(0<i(Y,ae))Q[W]=ae,Q[ne]=Y,ne=W;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ae=Q[0],ne=Q.pop();if(ne!==ae){Q[0]=ne;e:for(var W=0,Y=Q.length,de=Y>>>1;W<de;){var oe=2*(W+1)-1,xe=Q[oe],Re=oe+1,ce=Q[Re];if(0>i(xe,ne))Re<Y&&0>i(ce,xe)?(Q[W]=ce,Q[Re]=ne,W=Re):(Q[W]=xe,Q[oe]=ne,W=oe);else if(Re<Y&&0>i(ce,ne))Q[W]=ce,Q[Re]=ne,W=Re;else break e}}return ae}function i(Q,ae){var ne=Q.sortIndex-ae.sortIndex;return ne!==0?ne:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,m=null,y=3,x=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=Q)n(d),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=r(d)}}function N(Q){if(w=!1,I(Q),!S)if(r(c)!==null)S=!0,te(k);else{var ae=r(d);ae!==null&&re(N,ae.startTime-Q)}}function k(Q,ae){S=!1,w&&(w=!1,T(C),C=-1),x=!0;var ne=y;try{for(I(ae),m=r(c);m!==null&&(!(m.expirationTime>ae)||Q&&!L());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var Y=W(m.expirationTime<=ae);ae=t.unstable_now(),typeof Y=="function"?m.callback=Y:m===r(c)&&n(c),I(ae)}else n(c);m=r(c)}if(m!==null)var de=!0;else{var oe=r(d);oe!==null&&re(N,oe.startTime-ae),de=!1}return de}finally{m=null,y=ne,x=!1}}var O=!1,P=null,C=-1,R=5,F=-1;function L(){return!(t.unstable_now()-F<R)}function $(){if(P!==null){var Q=t.unstable_now();F=Q;var ae=!0;try{ae=P(!0,Q)}finally{ae?V():(O=!1,P=null)}}else O=!1}var V;if(typeof E=="function")V=function(){E($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=$,V=function(){X.postMessage(null)}}else V=function(){b($,0)};function te(Q){P=Q,O||(O=!0,V())}function re(Q,ae){C=b(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,te(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ne=y;y=ae;try{return Q()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=y;y=Q;try{return ae()}finally{y=ne}},t.unstable_scheduleCallback=function(Q,ae,ne){var W=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?W+ne:W):ne=W,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,Q={id:p++,callback:ae,priorityLevel:Q,startTime:ne,expirationTime:Y,sortIndex:-1},ne>W?(Q.sortIndex=ne,e(d,Q),r(c)===null&&Q===r(d)&&(w?(T(C),C=-1):w=!0,re(N,ne-W))):(Q.sortIndex=Y,e(c,Q),S||x||(S=!0,te(k))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var ae=y;return function(){var ne=y;y=ae;try{return Q.apply(this,arguments)}finally{y=ne}}}})(Xb)),Xb}var ek;function gU(){return ek||(ek=1,Kb.exports=mU()),Kb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function yU(){if(tk)return vn;tk=1;var t=PE(),e=gU();function r(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,u){o(s,u),o(s+"Capture",u)}function o(s,u){for(i[s]=u,s=0;s<u.length;s++)n.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return c.call(m,s)?!0:c.call(p,s)?!1:d.test(s)?m[s]=!0:(p[s]=!0,!1)}function x(s,u,h,v){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,u,h,v){if(u===null||typeof u>"u"||x(s,u,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(s,u,h,v,_,j,U){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=s,this.type=u,this.sanitizeURL=j,this.removeEmptyString=U}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];b[u]=new w(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(T,E);b[u]=new w(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(T,E);b[u]=new w(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(T,E);b[u]=new w(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function I(s,u,h,v){var _=b.hasOwnProperty(u)?b[u]:null;(_!==null?_.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,h,_,v)&&(h=null),v||_===null?y(u)&&(h===null?s.removeAttribute(u):s.setAttribute(u,""+h)):_.mustUseProperty?s[_.propertyName]=h===null?_.type===3?!1:"":h:(u=_.attributeName,v=_.attributeNamespace,h===null?s.removeAttribute(u):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,v?s.setAttributeNS(v,u,h):s.setAttribute(u,h))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,W;function Y(s){if(W===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+s}var de=!1;function oe(s,u){if(!s||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ie){var v=ie}Reflect.construct(s,[],u)}else{try{u.call()}catch(ie){v=ie}s.call(u.prototype)}else{try{throw Error()}catch(ie){v=ie}s()}}catch(ie){if(ie&&v&&typeof ie.stack=="string"){for(var _=ie.stack.split(`
`),j=v.stack.split(`
`),U=_.length-1,B=j.length-1;1<=U&&0<=B&&_[U]!==j[B];)B--;for(;1<=U&&0<=B;U--,B--)if(_[U]!==j[B]){if(U!==1||B!==1)do if(U--,B--,0>B||_[U]!==j[B]){var H=`
`+_[U].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=U&&0<=B);break}}}finally{de=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Y(s):""}function xe(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function Re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case O:return"Portal";case R:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case $:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return u=s.displayName||null,u!==null?u:Re(s.type)||"Memo";case te:u=s._payload,s=s._init;try{return Re(s(u))}catch{}}return null}function ce(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(u);case 8:return u===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fe(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ee(s){var u=fe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),v=""+s[u];if(!s.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,j=h.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return _.call(this)},set:function(U){v=""+U,j.call(this,U)}}),Object.defineProperty(s,u,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(U){v=""+U},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Le(s){s._valueTracker||(s._valueTracker=Ee(s))}function pe(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var h=u.getValue(),v="";return s&&(v=fe(s)?s.checked?"true":"false":s.value),s=v,s!==h?(u.setValue(s),!0):!1}function it(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function We(s,u){var h=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function gt(s,u){var h=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;h=Se(u.value!=null?u.value:h),s._wrapperState={initialChecked:v,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ft(s,u){u=u.checked,u!=null&&I(s,"checked",u,!1)}function _t(s,u){ft(s,u);var h=Se(u.value),v=u.type;if(h!=null)v==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?fr(s,u.type,h):u.hasOwnProperty("defaultValue")&&fr(s,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function nr(s,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,h||u===s.value||(s.value=u),s.defaultValue=u}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function fr(s,u,h){(u!=="number"||it(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var hr=Array.isArray;function $t(s,u,h,v){if(s=s.options,u){u={};for(var _=0;_<h.length;_++)u["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=u.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&v&&(s[h].defaultSelected=!0)}else{for(h=""+Se(h),u=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,v&&(s[_].defaultSelected=!0);return}u!==null||s[_].disabled||(u=s[_])}u!==null&&(u.selected=!0)}}function me(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xe(s,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(hr(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}s._wrapperState={initialValue:Se(h)}}function Nt(s,u){var h=Se(u.value),v=Se(u.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),u.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),v!=null&&(s.defaultValue=""+v)}function Gt(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Jt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Jt(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var qn,Ss=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,v,_){MSApp.execUnsafeLocalFunction(function(){return s(u,h,v,_)})}:s})(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(qn=qn||document.createElement("div"),qn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=qn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function pi(s,u){if(u){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=u;return}}s.textContent=u}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mi=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(s){mi.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),xa[u]=xa[s]})});function Es(s,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||xa.hasOwnProperty(s)&&xa[s]?(""+u).trim():u+"px"}function mo(s,u){s=s.style;for(var h in u)if(u.hasOwnProperty(h)){var v=h.indexOf("--")===0,_=Es(h,u[h],v);h==="float"&&(h="cssFloat"),v?s.setProperty(h,_):s[h]=_}}var Oe=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Be(s,u){if(u){if(Oe[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function jn(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ts=null;function $l(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Vl=null,Wn=null,Bi=null;function Fl(s){if(s=hd(s)){if(typeof Vl!="function")throw Error(r(280));var u=s.stateNode;u&&(u=hp(u),Vl(s.stateNode,s.type,u))}}function qi(s){Wn?Bi?Bi.push(s):Bi=[s]:Wn=s}function qc(){if(Wn){var s=Wn,u=Bi;if(Bi=Wn=null,Fl(s),u)for(s=0;s<u.length;s++)Fl(u[s])}}function As(s,u){return s(u)}function Wc(){}var wa=!1;function Hc(s,u,h){if(wa)return s(u,h);wa=!0;try{return As(s,u,h)}finally{wa=!1,(Wn!==null||Bi!==null)&&(Wc(),qc())}}function Zt(s,u){var h=s.stateNode;if(h===null)return null;var v=hp(h);if(v===null)return null;h=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ul=!1;if(l)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Ul=!1}function Ps(s,u,h,v,_,j,U,B,H){var ie=Array.prototype.slice.call(arguments,3);try{u.apply(h,ie)}catch(ye){this.onError(ye)}}var js=!1,zl=null,yi=!1,Gc=null,bv={onError:function(s){js=!0,zl=s}};function Bl(s,u,h,v,_,j,U,B,H){js=!1,zl=null,Ps.apply(bv,arguments)}function $h(s,u,h,v,_,j,U,B,H){if(Bl.apply(this,arguments),js){if(js){var ie=zl;js=!1,zl=null}else throw Error(r(198));yi||(yi=!0,Gc=ie)}}function vi(s){var u=s,h=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(h=u.return),s=u.return;while(s)}return u.tag===3?h:null}function ks(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function bi(s){if(vi(s)!==s)throw Error(r(188))}function Vh(s){var u=s.alternate;if(!u){if(u=vi(s),u===null)throw Error(r(188));return u!==s?null:s}for(var h=s,v=u;;){var _=h.return;if(_===null)break;var j=_.alternate;if(j===null){if(v=_.return,v!==null){h=v;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===h)return bi(_),s;if(j===v)return bi(_),u;j=j.sibling}throw Error(r(188))}if(h.return!==v.return)h=_,v=j;else{for(var U=!1,B=_.child;B;){if(B===h){U=!0,h=_,v=j;break}if(B===v){U=!0,v=_,h=j;break}B=B.sibling}if(!U){for(B=j.child;B;){if(B===h){U=!0,h=j,v=_;break}if(B===v){U=!0,v=j,h=_;break}B=B.sibling}if(!U)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:u}function Kc(s){return s=Vh(s),s!==null?ql(s):null}function ql(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=ql(s);if(u!==null)return u;s=s.sibling}return null}var Wl=e.unstable_scheduleCallback,Xc=e.unstable_cancelCallback,Fh=e.unstable_shouldYield,xv=e.unstable_requestPaint,jt=e.unstable_now,Uh=e.unstable_getCurrentPriorityLevel,Is=e.unstable_ImmediatePriority,go=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,Yc=e.unstable_LowPriority,zh=e.unstable_IdlePriority,Cs=null,kn=null;function Bh(s){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Cs,s,void 0,(s.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Wh,Qc=Math.log,qh=Math.LN2;function Wh(s){return s>>>=0,s===0?32:31-(Qc(s)/qh|0)|0}var Hl=64,Gl=4194304;function yo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ns(s,u){var h=s.pendingLanes;if(h===0)return 0;var v=0,_=s.suspendedLanes,j=s.pingedLanes,U=h&268435455;if(U!==0){var B=U&~_;B!==0?v=yo(B):(j&=U,j!==0&&(v=yo(j)))}else U=h&~_,U!==0?v=yo(U):j!==0&&(v=yo(j));if(v===0)return 0;if(u!==0&&u!==v&&(u&_)===0&&(_=v&-v,j=u&-u,_>=j||_===16&&(j&4194240)!==0))return u;if((v&4)!==0&&(v|=h&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=v;0<u;)h=31-tn(u),_=1<<h,v|=s[h],u&=~_;return v}function wv(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(s,u){for(var h=s.suspendedLanes,v=s.pingedLanes,_=s.expirationTimes,j=s.pendingLanes;0<j;){var U=31-tn(j),B=1<<U,H=_[U];H===-1?((B&h)===0||(B&v)!==0)&&(_[U]=wv(B,u)):H<=u&&(s.expiredLanes|=B),j&=~B}}function In(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Os(){var s=Hl;return Hl<<=1,(Hl&4194240)===0&&(Hl=64),s}function vo(s){for(var u=[],h=0;31>h;h++)u.push(s);return u}function bo(s,u,h){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-tn(u),s[u]=h}function Tt(s,u){var h=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<h;){var _=31-tn(h),j=1<<_;u[_]=0,v[_]=-1,s[_]=-1,h&=~j}}function xo(s,u){var h=s.entangledLanes|=u;for(s=s.entanglements;h;){var v=31-tn(h),_=1<<v;_&u|s[v]&u&&(s[v]|=u),h&=~_}}var st=0;function wo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Hh,Kl,Gh,Kh,Xh,Jc=!1,Wi=[],Or=null,xi=null,wi=null,_o=new Map,Gn=new Map,Hi=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yh(s,u){switch(s){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":_o.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(u.pointerId)}}function dn(s,u,h,v,_,j){return s===null||s.nativeEvent!==j?(s={blockedOn:u,domEventName:h,eventSystemFlags:v,nativeEvent:j,targetContainers:[_]},u!==null&&(u=hd(u),u!==null&&Kl(u)),s):(s.eventSystemFlags|=v,u=s.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),s)}function Sv(s,u,h,v,_){switch(u){case"focusin":return Or=dn(Or,s,u,h,v,_),!0;case"dragenter":return xi=dn(xi,s,u,h,v,_),!0;case"mouseover":return wi=dn(wi,s,u,h,v,_),!0;case"pointerover":var j=_.pointerId;return _o.set(j,dn(_o.get(j)||null,s,u,h,v,_)),!0;case"gotpointercapture":return j=_.pointerId,Gn.set(j,dn(Gn.get(j)||null,s,u,h,v,_)),!0}return!1}function Qh(s){var u=$s(s.target);if(u!==null){var h=vi(u);if(h!==null){if(u=h.tag,u===13){if(u=ks(h),u!==null){s.blockedOn=u,Xh(s.priority,function(){Gh(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sa(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var h=Xl(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);Ts=v,h.target.dispatchEvent(v),Ts=null}else return u=hd(h),u!==null&&Kl(u),s.blockedOn=h,!1;u.shift()}return!0}function Rs(s,u,h){Sa(s)&&h.delete(u)}function Jh(){Jc=!1,Or!==null&&Sa(Or)&&(Or=null),xi!==null&&Sa(xi)&&(xi=null),wi!==null&&Sa(wi)&&(wi=null),_o.forEach(Rs),Gn.forEach(Rs)}function _i(s,u){s.blockedOn===u&&(s.blockedOn=null,Jc||(Jc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jh)))}function Si(s){function u(_){return _i(_,s)}if(0<Wi.length){_i(Wi[0],s);for(var h=1;h<Wi.length;h++){var v=Wi[h];v.blockedOn===s&&(v.blockedOn=null)}}for(Or!==null&&_i(Or,s),xi!==null&&_i(xi,s),wi!==null&&_i(wi,s),_o.forEach(u),Gn.forEach(u),h=0;h<Hi.length;h++)v=Hi[h],v.blockedOn===s&&(v.blockedOn=null);for(;0<Hi.length&&(h=Hi[0],h.blockedOn===null);)Qh(h),h.blockedOn===null&&Hi.shift()}var Ea=N.ReactCurrentBatchConfig,So=!0;function Vt(s,u,h,v){var _=st,j=Ea.transition;Ea.transition=null;try{st=1,Zc(s,u,h,v)}finally{st=_,Ea.transition=j}}function Ev(s,u,h,v){var _=st,j=Ea.transition;Ea.transition=null;try{st=4,Zc(s,u,h,v)}finally{st=_,Ea.transition=j}}function Zc(s,u,h,v){if(So){var _=Xl(s,u,h,v);if(_===null)Mv(s,u,v,Ms,h),Yh(s,v);else if(Sv(_,s,u,h,v))v.stopPropagation();else if(Yh(s,v),u&4&&-1<_v.indexOf(s)){for(;_!==null;){var j=hd(_);if(j!==null&&Hh(j),j=Xl(s,u,h,v),j===null&&Mv(s,u,v,Ms,h),j===_)break;_=j}_!==null&&v.stopPropagation()}else Mv(s,u,v,null,h)}}var Ms=null;function Xl(s,u,h,v){if(Ms=null,s=$l(v),s=$s(s),s!==null)if(u=vi(s),u===null)s=null;else if(h=u.tag,h===13){if(s=ks(u),s!==null)return s;s=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return Ms=s,null}function ed(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uh()){case Is:return 1;case go:return 4;case Hn:case Yc:return 16;case zh:return 536870912;default:return 16}default:return 16}}var Cn=null,Yl=null,fn=null;function td(){if(fn)return fn;var s,u=Yl,h=u.length,v,_="value"in Cn?Cn.value:Cn.textContent,j=_.length;for(s=0;s<h&&u[s]===_[s];s++);var U=h-s;for(v=1;v<=U&&u[h-v]===_[j-v];v++);return fn=_.slice(s,1<v?1-v:void 0)}function Ql(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Gi(){return!0}function rd(){return!1}function Rr(s){function u(h,v,_,j,U){this._reactName=h,this._targetInst=_,this.type=v,this.nativeEvent=j,this.target=U,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(h=s[B],this[B]=h?h(j):j[B]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Gi:rd,this.isPropagationStopped=rd,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),u}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Rr(Ei),Ki=ne({},Ei,{view:0,detail:0}),Tv=Rr(Ki),Zl,Ta,Eo,Ds=ne({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Eo&&(Eo&&s.type==="mousemove"?(Zl=s.screenX-Eo.screenX,Ta=s.screenY-Eo.screenY):Ta=Zl=0,Eo=s),Zl)},movementY:function(s){return"movementY"in s?s.movementY:Ta}}),eu=Rr(Ds),nd=ne({},Ds,{dataTransfer:0}),Zh=Rr(nd),tu=ne({},Ki,{relatedTarget:0}),ru=Rr(tu),ep=ne({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Rr(ep),tp=ne({},Ei,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rp=Rr(tp),np=ne({},Ei,{data:0}),id=Rr(np),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=ip[s])?!!u[s]:!1}function Xi(){return ap}var g=ne({},Ki,{key:function(s){if(s.key){var u=nu[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Ql(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?rn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(s){return s.type==="keypress"?Ql(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ql(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),A=Rr(g),M=ne({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=Rr(M),J=ne({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),se=Rr(J),we=ne({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=Rr(we),pr=ne({},Ds,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lt=Rr(pr),Er=[9,13,27,32],ir=l&&"CompositionEvent"in window,Kn=null;l&&"documentMode"in document&&(Kn=document.documentMode);var Nn=l&&"TextEvent"in window&&!Kn,Ls=l&&(!ir||Kn&&8<Kn&&11>=Kn),iu=" ",BA=!1;function qA(s,u){switch(s){case"keyup":return Er.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var au=!1;function sF(s,u){switch(s){case"compositionend":return WA(u);case"keypress":return u.which!==32?null:(BA=!0,iu);case"textInput":return s=u.data,s===iu&&BA?null:s;default:return null}}function lF(s,u){if(au)return s==="compositionend"||!ir&&qA(s,u)?(s=td(),fn=Yl=Cn=null,au=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ls&&u.locale!=="ko"?null:u.data;default:return null}}var uF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HA(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!uF[s.type]:u==="textarea"}function GA(s,u,h,v){qi(v),u=cp(u,"onChange"),0<u.length&&(h=new Jl("onChange","change",null,h,v),s.push({event:h,listeners:u}))}var ad=null,od=null;function cF(s){dP(s,0)}function op(s){var u=cu(s);if(pe(u))return s}function dF(s,u){if(s==="change")return u}var KA=!1;if(l){var Av;if(l){var Pv="oninput"in document;if(!Pv){var XA=document.createElement("div");XA.setAttribute("oninput","return;"),Pv=typeof XA.oninput=="function"}Av=Pv}else Av=!1;KA=Av&&(!document.documentMode||9<document.documentMode)}function YA(){ad&&(ad.detachEvent("onpropertychange",QA),od=ad=null)}function QA(s){if(s.propertyName==="value"&&op(od)){var u=[];GA(u,od,s,$l(s)),Hc(cF,u)}}function fF(s,u,h){s==="focusin"?(YA(),ad=u,od=h,ad.attachEvent("onpropertychange",QA)):s==="focusout"&&YA()}function hF(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return op(od)}function pF(s,u){if(s==="click")return op(u)}function mF(s,u){if(s==="input"||s==="change")return op(u)}function gF(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Ti=typeof Object.is=="function"?Object.is:gF;function sd(s,u){if(Ti(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var h=Object.keys(s),v=Object.keys(u);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var _=h[v];if(!c.call(u,_)||!Ti(s[_],u[_]))return!1}return!0}function JA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ZA(s,u){var h=JA(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=u&&v>=u)return{node:h,offset:u-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=JA(h)}}function eP(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?eP(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function tP(){for(var s=window,u=it();u instanceof s.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)s=u.contentWindow;else break;u=it(s.document)}return u}function jv(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function yF(s){var u=tP(),h=s.focusedElem,v=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&eP(h.ownerDocument.documentElement,h)){if(v!==null&&jv(h)){if(u=v.start,s=v.end,s===void 0&&(s=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(s,h.value.length);else if(s=(u=h.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var _=h.textContent.length,j=Math.min(v.start,_);v=v.end===void 0?j:Math.min(v.end,_),!s.extend&&j>v&&(_=v,v=j,j=_),_=ZA(h,j);var U=ZA(h,v);_&&U&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),s.removeAllRanges(),j>v?(s.addRange(u),s.extend(U.node,U.offset)):(u.setEnd(U.node,U.offset),s.addRange(u)))}}for(u=[],s=h;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)s=u[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var vF=l&&"documentMode"in document&&11>=document.documentMode,ou=null,kv=null,ld=null,Iv=!1;function rP(s,u,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Iv||ou==null||ou!==it(v)||(v=ou,"selectionStart"in v&&jv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ld&&sd(ld,v)||(ld=v,v=cp(kv,"onSelect"),0<v.length&&(u=new Jl("onSelect","select",null,u,h),s.push({event:u,listeners:v}),u.target=ou)))}function sp(s,u){var h={};return h[s.toLowerCase()]=u.toLowerCase(),h["Webkit"+s]="webkit"+u,h["Moz"+s]="moz"+u,h}var su={animationend:sp("Animation","AnimationEnd"),animationiteration:sp("Animation","AnimationIteration"),animationstart:sp("Animation","AnimationStart"),transitionend:sp("Transition","TransitionEnd")},Cv={},nP={};l&&(nP=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function lp(s){if(Cv[s])return Cv[s];if(!su[s])return s;var u=su[s],h;for(h in u)if(u.hasOwnProperty(h)&&h in nP)return Cv[s]=u[h];return s}var iP=lp("animationend"),aP=lp("animationiteration"),oP=lp("animationstart"),sP=lp("transitionend"),lP=new Map,uP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(s,u){lP.set(s,u),a(u,[s])}for(var Nv=0;Nv<uP.length;Nv++){var Ov=uP[Nv],bF=Ov.toLowerCase(),xF=Ov[0].toUpperCase()+Ov.slice(1);To(bF,"on"+xF)}To(iP,"onAnimationEnd"),To(aP,"onAnimationIteration"),To(oP,"onAnimationStart"),To("dblclick","onDoubleClick"),To("focusin","onFocus"),To("focusout","onBlur"),To(sP,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ud));function cP(s,u,h){var v=s.type||"unknown-event";s.currentTarget=h,$h(v,u,void 0,s),s.currentTarget=null}function dP(s,u){u=(u&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],_=v.event;v=v.listeners;e:{var j=void 0;if(u)for(var U=v.length-1;0<=U;U--){var B=v[U],H=B.instance,ie=B.currentTarget;if(B=B.listener,H!==j&&_.isPropagationStopped())break e;cP(_,B,ie),j=H}else for(U=0;U<v.length;U++){if(B=v[U],H=B.instance,ie=B.currentTarget,B=B.listener,H!==j&&_.isPropagationStopped())break e;cP(_,B,ie),j=H}}}if(yi)throw s=Gc,yi=!1,Gc=null,s}function Ot(s,u){var h=u[Uv];h===void 0&&(h=u[Uv]=new Set);var v=s+"__bubble";h.has(v)||(fP(u,s,2,!1),h.add(v))}function Rv(s,u,h){var v=0;u&&(v|=4),fP(h,s,v,u)}var up="_reactListening"+Math.random().toString(36).slice(2);function cd(s){if(!s[up]){s[up]=!0,n.forEach(function(h){h!=="selectionchange"&&(wF.has(h)||Rv(h,!1,s),Rv(h,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[up]||(u[up]=!0,Rv("selectionchange",!1,u))}}function fP(s,u,h,v){switch(ed(u)){case 1:var _=Vt;break;case 4:_=Ev;break;default:_=Zc}h=_.bind(null,u,h,s),_=void 0,!Ul||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),v?_!==void 0?s.addEventListener(u,h,{capture:!0,passive:_}):s.addEventListener(u,h,!0):_!==void 0?s.addEventListener(u,h,{passive:_}):s.addEventListener(u,h,!1)}function Mv(s,u,h,v,_){var j=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var U=v.tag;if(U===3||U===4){var B=v.stateNode.containerInfo;if(B===_||B.nodeType===8&&B.parentNode===_)break;if(U===4)for(U=v.return;U!==null;){var H=U.tag;if((H===3||H===4)&&(H=U.stateNode.containerInfo,H===_||H.nodeType===8&&H.parentNode===_))return;U=U.return}for(;B!==null;){if(U=$s(B),U===null)return;if(H=U.tag,H===5||H===6){v=j=U;continue e}B=B.parentNode}}v=v.return}Hc(function(){var ie=j,ye=$l(h),ve=[];e:{var ge=lP.get(s);if(ge!==void 0){var Pe=Jl,Ne=s;switch(s){case"keypress":if(Ql(h)===0)break e;case"keydown":case"keyup":Pe=A;break;case"focusin":Ne="focus",Pe=ru;break;case"focusout":Ne="blur",Pe=ru;break;case"beforeblur":case"afterblur":Pe=ru;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=se;break;case iP:case aP:case oP:Pe=Aa;break;case sP:Pe=xt;break;case"scroll":Pe=Tv;break;case"wheel":Pe=lt;break;case"copy":case"cut":case"paste":Pe=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=z}var Me=(u&4)!==0,er=!Me&&s==="scroll",Z=Me?ge!==null?ge+"Capture":null:ge;Me=[];for(var K=ie,ee;K!==null;){ee=K;var be=ee.stateNode;if(ee.tag===5&&be!==null&&(ee=be,Z!==null&&(be=Zt(K,Z),be!=null&&Me.push(dd(K,be,ee)))),er)break;K=K.return}0<Me.length&&(ge=new Pe(ge,Ne,null,h,ye),ve.push({event:ge,listeners:Me}))}}if((u&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",ge&&h!==Ts&&(Ne=h.relatedTarget||h.fromElement)&&($s(Ne)||Ne[Pa]))break e;if((Pe||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Pe?(Ne=h.relatedTarget||h.toElement,Pe=ie,Ne=Ne?$s(Ne):null,Ne!==null&&(er=vi(Ne),Ne!==er||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Pe=null,Ne=ie),Pe!==Ne)){if(Me=eu,be="onMouseLeave",Z="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Me=z,be="onPointerLeave",Z="onPointerEnter",K="pointer"),er=Pe==null?ge:cu(Pe),ee=Ne==null?ge:cu(Ne),ge=new Me(be,K+"leave",Pe,h,ye),ge.target=er,ge.relatedTarget=ee,be=null,$s(ye)===ie&&(Me=new Me(Z,K+"enter",Ne,h,ye),Me.target=ee,Me.relatedTarget=er,be=Me),er=be,Pe&&Ne)t:{for(Me=Pe,Z=Ne,K=0,ee=Me;ee;ee=lu(ee))K++;for(ee=0,be=Z;be;be=lu(be))ee++;for(;0<K-ee;)Me=lu(Me),K--;for(;0<ee-K;)Z=lu(Z),ee--;for(;K--;){if(Me===Z||Z!==null&&Me===Z.alternate)break t;Me=lu(Me),Z=lu(Z)}Me=null}else Me=null;Pe!==null&&hP(ve,ge,Pe,Me,!1),Ne!==null&&er!==null&&hP(ve,er,Ne,Me,!0)}}e:{if(ge=ie?cu(ie):window,Pe=ge.nodeName&&ge.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ge.type==="file")var De=dF;else if(HA(ge))if(KA)De=mF;else{De=hF;var Ve=fF}else(Pe=ge.nodeName)&&Pe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(De=pF);if(De&&(De=De(s,ie))){GA(ve,De,h,ye);break e}Ve&&Ve(s,ge,ie),s==="focusout"&&(Ve=ge._wrapperState)&&Ve.controlled&&ge.type==="number"&&fr(ge,"number",ge.value)}switch(Ve=ie?cu(ie):window,s){case"focusin":(HA(Ve)||Ve.contentEditable==="true")&&(ou=Ve,kv=ie,ld=null);break;case"focusout":ld=kv=ou=null;break;case"mousedown":Iv=!0;break;case"contextmenu":case"mouseup":case"dragend":Iv=!1,rP(ve,h,ye);break;case"selectionchange":if(vF)break;case"keydown":case"keyup":rP(ve,h,ye)}var Fe;if(ir)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else au?qA(s,h)&&(He="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(He="onCompositionStart");He&&(Ls&&h.locale!=="ko"&&(au||He!=="onCompositionStart"?He==="onCompositionEnd"&&au&&(Fe=td()):(Cn=ye,Yl="value"in Cn?Cn.value:Cn.textContent,au=!0)),Ve=cp(ie,He),0<Ve.length&&(He=new id(He,s,null,h,ye),ve.push({event:He,listeners:Ve}),Fe?He.data=Fe:(Fe=WA(h),Fe!==null&&(He.data=Fe)))),(Fe=Nn?sF(s,h):lF(s,h))&&(ie=cp(ie,"onBeforeInput"),0<ie.length&&(ye=new id("onBeforeInput","beforeinput",null,h,ye),ve.push({event:ye,listeners:ie}),ye.data=Fe))}dP(ve,u)})}function dd(s,u,h){return{instance:s,listener:u,currentTarget:h}}function cp(s,u){for(var h=u+"Capture",v=[];s!==null;){var _=s,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=Zt(s,h),j!=null&&v.unshift(dd(s,j,_)),j=Zt(s,u),j!=null&&v.push(dd(s,j,_))),s=s.return}return v}function lu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hP(s,u,h,v,_){for(var j=u._reactName,U=[];h!==null&&h!==v;){var B=h,H=B.alternate,ie=B.stateNode;if(H!==null&&H===v)break;B.tag===5&&ie!==null&&(B=ie,_?(H=Zt(h,j),H!=null&&U.unshift(dd(h,H,B))):_||(H=Zt(h,j),H!=null&&U.push(dd(h,H,B)))),h=h.return}U.length!==0&&s.push({event:u,listeners:U})}var _F=/\r\n?/g,SF=/\u0000|\uFFFD/g;function pP(s){return(typeof s=="string"?s:""+s).replace(_F,`
`).replace(SF,"")}function dp(s,u,h){if(u=pP(u),pP(s)!==u&&h)throw Error(r(425))}function fp(){}var Dv=null,Lv=null;function $v(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Vv=typeof setTimeout=="function"?setTimeout:void 0,EF=typeof clearTimeout=="function"?clearTimeout:void 0,mP=typeof Promise=="function"?Promise:void 0,TF=typeof queueMicrotask=="function"?queueMicrotask:typeof mP<"u"?function(s){return mP.resolve(null).then(s).catch(AF)}:Vv;function AF(s){setTimeout(function(){throw s})}function Fv(s,u){var h=u,v=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(v===0){s.removeChild(_),Si(u);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=_}while(h);Si(u)}function Ao(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function gP(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return s;u--}else h==="/$"&&u++}s=s.previousSibling}return null}var uu=Math.random().toString(36).slice(2),Yi="__reactFiber$"+uu,fd="__reactProps$"+uu,Pa="__reactContainer$"+uu,Uv="__reactEvents$"+uu,PF="__reactListeners$"+uu,jF="__reactHandles$"+uu;function $s(s){var u=s[Yi];if(u)return u;for(var h=s.parentNode;h;){if(u=h[Pa]||h[Yi]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(s=gP(s);s!==null;){if(h=s[Yi])return h;s=gP(s)}return u}s=h,h=s.parentNode}return null}function hd(s){return s=s[Yi]||s[Pa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function cu(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function hp(s){return s[fd]||null}var zv=[],du=-1;function Po(s){return{current:s}}function Rt(s){0>du||(s.current=zv[du],zv[du]=null,du--)}function kt(s,u){du++,zv[du]=s.current,s.current=u}var jo={},Wr=Po(jo),hn=Po(!1),Vs=jo;function fu(s,u){var h=s.type.contextTypes;if(!h)return jo;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in h)_[j]=u[j];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=_),_}function pn(s){return s=s.childContextTypes,s!=null}function pp(){Rt(hn),Rt(Wr)}function yP(s,u,h){if(Wr.current!==jo)throw Error(r(168));kt(Wr,u),kt(hn,h)}function vP(s,u,h){var v=s.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var _ in v)if(!(_ in u))throw Error(r(108,ce(s)||"Unknown",_));return ne({},h,v)}function mp(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||jo,Vs=Wr.current,kt(Wr,s),kt(hn,hn.current),!0}function bP(s,u,h){var v=s.stateNode;if(!v)throw Error(r(169));h?(s=vP(s,u,Vs),v.__reactInternalMemoizedMergedChildContext=s,Rt(hn),Rt(Wr),kt(Wr,s)):Rt(hn),kt(hn,h)}var ja=null,gp=!1,Bv=!1;function xP(s){ja===null?ja=[s]:ja.push(s)}function kF(s){gp=!0,xP(s)}function ko(){if(!Bv&&ja!==null){Bv=!0;var s=0,u=st;try{var h=ja;for(st=1;s<h.length;s++){var v=h[s];do v=v(!0);while(v!==null)}ja=null,gp=!1}catch(_){throw ja!==null&&(ja=ja.slice(s+1)),Wl(Is,ko),_}finally{st=u,Bv=!1}}return null}var hu=[],pu=0,yp=null,vp=0,Xn=[],Yn=0,Fs=null,ka=1,Ia="";function Us(s,u){hu[pu++]=vp,hu[pu++]=yp,yp=s,vp=u}function wP(s,u,h){Xn[Yn++]=ka,Xn[Yn++]=Ia,Xn[Yn++]=Fs,Fs=s;var v=ka;s=Ia;var _=32-tn(v)-1;v&=~(1<<_),h+=1;var j=32-tn(u)+_;if(30<j){var U=_-_%5;j=(v&(1<<U)-1).toString(32),v>>=U,_-=U,ka=1<<32-tn(u)+_|h<<_|v,Ia=j+s}else ka=1<<j|h<<_|v,Ia=s}function qv(s){s.return!==null&&(Us(s,1),wP(s,1,0))}function Wv(s){for(;s===yp;)yp=hu[--pu],hu[pu]=null,vp=hu[--pu],hu[pu]=null;for(;s===Fs;)Fs=Xn[--Yn],Xn[Yn]=null,Ia=Xn[--Yn],Xn[Yn]=null,ka=Xn[--Yn],Xn[Yn]=null}var On=null,Rn=null,Ft=!1,Ai=null;function _P(s,u){var h=ei(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=s,u=s.deletions,u===null?(s.deletions=[h],s.flags|=16):u.push(h)}function SP(s,u){switch(s.tag){case 5:var h=s.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,On=s,Rn=Ao(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,On=s,Rn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Fs!==null?{id:ka,overflow:Ia}:null,s.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=ei(18,null,null,0),h.stateNode=u,h.return=s,s.child=h,On=s,Rn=null,!0):!1;default:return!1}}function Hv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Gv(s){if(Ft){var u=Rn;if(u){var h=u;if(!SP(s,u)){if(Hv(s))throw Error(r(418));u=Ao(h.nextSibling);var v=On;u&&SP(s,u)?_P(v,h):(s.flags=s.flags&-4097|2,Ft=!1,On=s)}}else{if(Hv(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ft=!1,On=s}}}function EP(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function bp(s){if(s!==On)return!1;if(!Ft)return EP(s),Ft=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!$v(s.type,s.memoizedProps)),u&&(u=Rn)){if(Hv(s))throw TP(),Error(r(418));for(;u;)_P(s,u),u=Ao(u.nextSibling)}if(EP(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(u===0){Rn=Ao(s.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}s=s.nextSibling}Rn=null}}else Rn=On?Ao(s.stateNode.nextSibling):null;return!0}function TP(){for(var s=Rn;s;)s=Ao(s.nextSibling)}function mu(){Rn=On=null,Ft=!1}function Kv(s){Ai===null?Ai=[s]:Ai.push(s)}var IF=N.ReactCurrentBatchConfig;function pd(s,u,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,s));var _=v,j=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===j?u.ref:(u=function(U){var B=_.refs;U===null?delete B[j]:B[j]=U},u._stringRef=j,u)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function xp(s,u){throw s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function AP(s){var u=s._init;return u(s._payload)}function PP(s){function u(Z,K){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[K],Z.flags|=16):ee.push(K)}}function h(Z,K){if(!s)return null;for(;K!==null;)u(Z,K),K=K.sibling;return null}function v(Z,K){for(Z=new Map;K!==null;)K.key!==null?Z.set(K.key,K):Z.set(K.index,K),K=K.sibling;return Z}function _(Z,K){return Z=Lo(Z,K),Z.index=0,Z.sibling=null,Z}function j(Z,K,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<K?(Z.flags|=2,K):ee):(Z.flags|=2,K)):(Z.flags|=1048576,K)}function U(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function B(Z,K,ee,be){return K===null||K.tag!==6?(K=Vb(ee,Z.mode,be),K.return=Z,K):(K=_(K,ee),K.return=Z,K)}function H(Z,K,ee,be){var De=ee.type;return De===P?ye(Z,K,ee.props.children,be,ee.key):K!==null&&(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&AP(De)===K.type)?(be=_(K,ee.props),be.ref=pd(Z,K,ee),be.return=Z,be):(be=qp(ee.type,ee.key,ee.props,null,Z.mode,be),be.ref=pd(Z,K,ee),be.return=Z,be)}function ie(Z,K,ee,be){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=Fb(ee,Z.mode,be),K.return=Z,K):(K=_(K,ee.children||[]),K.return=Z,K)}function ye(Z,K,ee,be,De){return K===null||K.tag!==7?(K=Xs(ee,Z.mode,be,De),K.return=Z,K):(K=_(K,ee),K.return=Z,K)}function ve(Z,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Vb(""+K,Z.mode,ee),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return ee=qp(K.type,K.key,K.props,null,Z.mode,ee),ee.ref=pd(Z,null,K),ee.return=Z,ee;case O:return K=Fb(K,Z.mode,ee),K.return=Z,K;case te:var be=K._init;return ve(Z,be(K._payload),ee)}if(hr(K)||ae(K))return K=Xs(K,Z.mode,ee,null),K.return=Z,K;xp(Z,K)}return null}function ge(Z,K,ee,be){var De=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return De!==null?null:B(Z,K,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return ee.key===De?H(Z,K,ee,be):null;case O:return ee.key===De?ie(Z,K,ee,be):null;case te:return De=ee._init,ge(Z,K,De(ee._payload),be)}if(hr(ee)||ae(ee))return De!==null?null:ye(Z,K,ee,be,null);xp(Z,ee)}return null}function Pe(Z,K,ee,be,De){if(typeof be=="string"&&be!==""||typeof be=="number")return Z=Z.get(ee)||null,B(K,Z,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case k:return Z=Z.get(be.key===null?ee:be.key)||null,H(K,Z,be,De);case O:return Z=Z.get(be.key===null?ee:be.key)||null,ie(K,Z,be,De);case te:var Ve=be._init;return Pe(Z,K,ee,Ve(be._payload),De)}if(hr(be)||ae(be))return Z=Z.get(ee)||null,ye(K,Z,be,De,null);xp(K,be)}return null}function Ne(Z,K,ee,be){for(var De=null,Ve=null,Fe=K,He=K=0,Pr=null;Fe!==null&&He<ee.length;He++){Fe.index>He?(Pr=Fe,Fe=null):Pr=Fe.sibling;var ht=ge(Z,Fe,ee[He],be);if(ht===null){Fe===null&&(Fe=Pr);break}s&&Fe&&ht.alternate===null&&u(Z,Fe),K=j(ht,K,He),Ve===null?De=ht:Ve.sibling=ht,Ve=ht,Fe=Pr}if(He===ee.length)return h(Z,Fe),Ft&&Us(Z,He),De;if(Fe===null){for(;He<ee.length;He++)Fe=ve(Z,ee[He],be),Fe!==null&&(K=j(Fe,K,He),Ve===null?De=Fe:Ve.sibling=Fe,Ve=Fe);return Ft&&Us(Z,He),De}for(Fe=v(Z,Fe);He<ee.length;He++)Pr=Pe(Fe,Z,He,ee[He],be),Pr!==null&&(s&&Pr.alternate!==null&&Fe.delete(Pr.key===null?He:Pr.key),K=j(Pr,K,He),Ve===null?De=Pr:Ve.sibling=Pr,Ve=Pr);return s&&Fe.forEach(function($o){return u(Z,$o)}),Ft&&Us(Z,He),De}function Me(Z,K,ee,be){var De=ae(ee);if(typeof De!="function")throw Error(r(150));if(ee=De.call(ee),ee==null)throw Error(r(151));for(var Ve=De=null,Fe=K,He=K=0,Pr=null,ht=ee.next();Fe!==null&&!ht.done;He++,ht=ee.next()){Fe.index>He?(Pr=Fe,Fe=null):Pr=Fe.sibling;var $o=ge(Z,Fe,ht.value,be);if($o===null){Fe===null&&(Fe=Pr);break}s&&Fe&&$o.alternate===null&&u(Z,Fe),K=j($o,K,He),Ve===null?De=$o:Ve.sibling=$o,Ve=$o,Fe=Pr}if(ht.done)return h(Z,Fe),Ft&&Us(Z,He),De;if(Fe===null){for(;!ht.done;He++,ht=ee.next())ht=ve(Z,ht.value,be),ht!==null&&(K=j(ht,K,He),Ve===null?De=ht:Ve.sibling=ht,Ve=ht);return Ft&&Us(Z,He),De}for(Fe=v(Z,Fe);!ht.done;He++,ht=ee.next())ht=Pe(Fe,Z,He,ht.value,be),ht!==null&&(s&&ht.alternate!==null&&Fe.delete(ht.key===null?He:ht.key),K=j(ht,K,He),Ve===null?De=ht:Ve.sibling=ht,Ve=ht);return s&&Fe.forEach(function(uU){return u(Z,uU)}),Ft&&Us(Z,He),De}function er(Z,K,ee,be){if(typeof ee=="object"&&ee!==null&&ee.type===P&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:e:{for(var De=ee.key,Ve=K;Ve!==null;){if(Ve.key===De){if(De=ee.type,De===P){if(Ve.tag===7){h(Z,Ve.sibling),K=_(Ve,ee.props.children),K.return=Z,Z=K;break e}}else if(Ve.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&AP(De)===Ve.type){h(Z,Ve.sibling),K=_(Ve,ee.props),K.ref=pd(Z,Ve,ee),K.return=Z,Z=K;break e}h(Z,Ve);break}else u(Z,Ve);Ve=Ve.sibling}ee.type===P?(K=Xs(ee.props.children,Z.mode,be,ee.key),K.return=Z,Z=K):(be=qp(ee.type,ee.key,ee.props,null,Z.mode,be),be.ref=pd(Z,K,ee),be.return=Z,Z=be)}return U(Z);case O:e:{for(Ve=ee.key;K!==null;){if(K.key===Ve)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){h(Z,K.sibling),K=_(K,ee.children||[]),K.return=Z,Z=K;break e}else{h(Z,K);break}else u(Z,K);K=K.sibling}K=Fb(ee,Z.mode,be),K.return=Z,Z=K}return U(Z);case te:return Ve=ee._init,er(Z,K,Ve(ee._payload),be)}if(hr(ee))return Ne(Z,K,ee,be);if(ae(ee))return Me(Z,K,ee,be);xp(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(h(Z,K.sibling),K=_(K,ee),K.return=Z,Z=K):(h(Z,K),K=Vb(ee,Z.mode,be),K.return=Z,Z=K),U(Z)):h(Z,K)}return er}var gu=PP(!0),jP=PP(!1),wp=Po(null),_p=null,yu=null,Xv=null;function Yv(){Xv=yu=_p=null}function Qv(s){var u=wp.current;Rt(wp),s._currentValue=u}function Jv(s,u,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),s===h)break;s=s.return}}function vu(s,u){_p=s,Xv=yu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(mn=!0),s.firstContext=null)}function Qn(s){var u=s._currentValue;if(Xv!==s)if(s={context:s,memoizedValue:u,next:null},yu===null){if(_p===null)throw Error(r(308));yu=s,_p.dependencies={lanes:0,firstContext:s}}else yu=yu.next=s;return u}var zs=null;function Zv(s){zs===null?zs=[s]:zs.push(s)}function kP(s,u,h,v){var _=u.interleaved;return _===null?(h.next=h,Zv(u)):(h.next=_.next,_.next=h),u.interleaved=h,Ca(s,v)}function Ca(s,u){s.lanes|=u;var h=s.alternate;for(h!==null&&(h.lanes|=u),h=s,s=s.return;s!==null;)s.childLanes|=u,h=s.alternate,h!==null&&(h.childLanes|=u),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Io=!1;function eb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IP(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Na(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Co(s,u,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(ct&2)!==0){var _=v.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),v.pending=u,Ca(s,h)}return _=v.interleaved,_===null?(u.next=u,Zv(v)):(u.next=_.next,_.next=u),v.interleaved=u,Ca(s,h)}function Sp(s,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var v=u.lanes;v&=s.pendingLanes,h|=v,u.lanes=h,xo(s,h)}}function CP(s,u){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var _=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var U={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?_=j=U:j=j.next=U,h=h.next}while(h!==null);j===null?_=j=u:j=j.next=u}else _=j=u;h={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:v.shared,effects:v.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=u}function Ep(s,u,h,v){var _=s.updateQueue;Io=!1;var j=_.firstBaseUpdate,U=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var H=B,ie=H.next;H.next=null,U===null?j=ie:U.next=ie,U=H;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,B=ye.lastBaseUpdate,B!==U&&(B===null?ye.firstBaseUpdate=ie:B.next=ie,ye.lastBaseUpdate=H))}if(j!==null){var ve=_.baseState;U=0,ye=ie=H=null,B=j;do{var ge=B.lane,Pe=B.eventTime;if((v&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ne=s,Me=B;switch(ge=u,Pe=h,Me.tag){case 1:if(Ne=Me.payload,typeof Ne=="function"){ve=Ne.call(Pe,ve,ge);break e}ve=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Me.payload,ge=typeof Ne=="function"?Ne.call(Pe,ve,ge):Ne,ge==null)break e;ve=ne({},ve,ge);break e;case 2:Io=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,ge=_.effects,ge===null?_.effects=[B]:ge.push(B))}else Pe={eventTime:Pe,lane:ge,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ye===null?(ie=ye=Pe,H=ve):ye=ye.next=Pe,U|=ge;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;ge=B,B=ge.next,ge.next=null,_.lastBaseUpdate=ge,_.shared.pending=null}}while(!0);if(ye===null&&(H=ve),_.baseState=H,_.firstBaseUpdate=ie,_.lastBaseUpdate=ye,u=_.shared.interleaved,u!==null){_=u;do U|=_.lane,_=_.next;while(_!==u)}else j===null&&(_.shared.lanes=0);Ws|=U,s.lanes=U,s.memoizedState=ve}}function NP(s,u,h){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var v=s[u],_=v.callback;if(_!==null){if(v.callback=null,v=h,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var md={},Qi=Po(md),gd=Po(md),yd=Po(md);function Bs(s){if(s===md)throw Error(r(174));return s}function tb(s,u){switch(kt(yd,u),kt(gd,s),kt(Qi,md),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Kt(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=Kt(u,s)}Rt(Qi),kt(Qi,u)}function bu(){Rt(Qi),Rt(gd),Rt(yd)}function OP(s){Bs(yd.current);var u=Bs(Qi.current),h=Kt(u,s.type);u!==h&&(kt(gd,s),kt(Qi,h))}function rb(s){gd.current===s&&(Rt(Qi),Rt(gd))}var Bt=Po(0);function Tp(s){for(var u=s;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var nb=[];function ib(){for(var s=0;s<nb.length;s++)nb[s]._workInProgressVersionPrimary=null;nb.length=0}var Ap=N.ReactCurrentDispatcher,ab=N.ReactCurrentBatchConfig,qs=0,qt=null,mr=null,Tr=null,Pp=!1,vd=!1,bd=0,CF=0;function Hr(){throw Error(r(321))}function ob(s,u){if(u===null)return!1;for(var h=0;h<u.length&&h<s.length;h++)if(!Ti(s[h],u[h]))return!1;return!0}function sb(s,u,h,v,_,j){if(qs=j,qt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ap.current=s===null||s.memoizedState===null?MF:DF,s=h(v,_),vd){j=0;do{if(vd=!1,bd=0,25<=j)throw Error(r(301));j+=1,Tr=mr=null,u.updateQueue=null,Ap.current=LF,s=h(v,_)}while(vd)}if(Ap.current=Ip,u=mr!==null&&mr.next!==null,qs=0,Tr=mr=qt=null,Pp=!1,u)throw Error(r(300));return s}function lb(){var s=bd!==0;return bd=0,s}function Ji(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?qt.memoizedState=Tr=s:Tr=Tr.next=s,Tr}function Jn(){if(mr===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=mr.next;var u=Tr===null?qt.memoizedState:Tr.next;if(u!==null)Tr=u,mr=s;else{if(s===null)throw Error(r(310));mr=s,s={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Tr===null?qt.memoizedState=Tr=s:Tr=Tr.next=s}return Tr}function xd(s,u){return typeof u=="function"?u(s):u}function ub(s){var u=Jn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=mr,_=v.baseQueue,j=h.pending;if(j!==null){if(_!==null){var U=_.next;_.next=j.next,j.next=U}v.baseQueue=_=j,h.pending=null}if(_!==null){j=_.next,v=v.baseState;var B=U=null,H=null,ie=j;do{var ye=ie.lane;if((qs&ye)===ye)H!==null&&(H=H.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),v=ie.hasEagerState?ie.eagerState:s(v,ie.action);else{var ve={lane:ye,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};H===null?(B=H=ve,U=v):H=H.next=ve,qt.lanes|=ye,Ws|=ye}ie=ie.next}while(ie!==null&&ie!==j);H===null?U=v:H.next=B,Ti(v,u.memoizedState)||(mn=!0),u.memoizedState=v,u.baseState=U,u.baseQueue=H,h.lastRenderedState=v}if(s=h.interleaved,s!==null){_=s;do j=_.lane,qt.lanes|=j,Ws|=j,_=_.next;while(_!==s)}else _===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function cb(s){var u=Jn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,_=h.pending,j=u.memoizedState;if(_!==null){h.pending=null;var U=_=_.next;do j=s(j,U.action),U=U.next;while(U!==_);Ti(j,u.memoizedState)||(mn=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),h.lastRenderedState=j}return[j,v]}function RP(){}function MP(s,u){var h=qt,v=Jn(),_=u(),j=!Ti(v.memoizedState,_);if(j&&(v.memoizedState=_,mn=!0),v=v.queue,db($P.bind(null,h,v,s),[s]),v.getSnapshot!==u||j||Tr!==null&&Tr.memoizedState.tag&1){if(h.flags|=2048,wd(9,LP.bind(null,h,v,_,u),void 0,null),Ar===null)throw Error(r(349));(qs&30)!==0||DP(h,u,_)}return _}function DP(s,u,h){s.flags|=16384,s={getSnapshot:u,value:h},u=qt.updateQueue,u===null?(u={lastEffect:null,stores:null},qt.updateQueue=u,u.stores=[s]):(h=u.stores,h===null?u.stores=[s]:h.push(s))}function LP(s,u,h,v){u.value=h,u.getSnapshot=v,VP(u)&&FP(s)}function $P(s,u,h){return h(function(){VP(u)&&FP(s)})}function VP(s){var u=s.getSnapshot;s=s.value;try{var h=u();return!Ti(s,h)}catch{return!0}}function FP(s){var u=Ca(s,1);u!==null&&Ii(u,s,1,-1)}function UP(s){var u=Ji();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:s},u.queue=s,s=s.dispatch=RF.bind(null,qt,s),[u.memoizedState,s]}function wd(s,u,h,v){return s={tag:s,create:u,destroy:h,deps:v,next:null},u=qt.updateQueue,u===null?(u={lastEffect:null,stores:null},qt.updateQueue=u,u.lastEffect=s.next=s):(h=u.lastEffect,h===null?u.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,u.lastEffect=s)),s}function zP(){return Jn().memoizedState}function jp(s,u,h,v){var _=Ji();qt.flags|=s,_.memoizedState=wd(1|u,h,void 0,v===void 0?null:v)}function kp(s,u,h,v){var _=Jn();v=v===void 0?null:v;var j=void 0;if(mr!==null){var U=mr.memoizedState;if(j=U.destroy,v!==null&&ob(v,U.deps)){_.memoizedState=wd(u,h,j,v);return}}qt.flags|=s,_.memoizedState=wd(1|u,h,j,v)}function BP(s,u){return jp(8390656,8,s,u)}function db(s,u){return kp(2048,8,s,u)}function qP(s,u){return kp(4,2,s,u)}function WP(s,u){return kp(4,4,s,u)}function HP(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function GP(s,u,h){return h=h!=null?h.concat([s]):null,kp(4,4,HP.bind(null,u,s),h)}function fb(){}function KP(s,u){var h=Jn();u=u===void 0?null:u;var v=h.memoizedState;return v!==null&&u!==null&&ob(u,v[1])?v[0]:(h.memoizedState=[s,u],s)}function XP(s,u){var h=Jn();u=u===void 0?null:u;var v=h.memoizedState;return v!==null&&u!==null&&ob(u,v[1])?v[0]:(s=s(),h.memoizedState=[s,u],s)}function YP(s,u,h){return(qs&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=h):(Ti(h,u)||(h=Os(),qt.lanes|=h,Ws|=h,s.baseState=!0),u)}function NF(s,u){var h=st;st=h!==0&&4>h?h:4,s(!0);var v=ab.transition;ab.transition={};try{s(!1),u()}finally{st=h,ab.transition=v}}function QP(){return Jn().memoizedState}function OF(s,u,h){var v=Mo(s);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},JP(s))ZP(u,h);else if(h=kP(s,u,h,v),h!==null){var _=an();Ii(h,s,v,_),ej(h,u,v)}}function RF(s,u,h){var v=Mo(s),_={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(JP(s))ZP(u,_);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var U=u.lastRenderedState,B=j(U,h);if(_.hasEagerState=!0,_.eagerState=B,Ti(B,U)){var H=u.interleaved;H===null?(_.next=_,Zv(u)):(_.next=H.next,H.next=_),u.interleaved=_;return}}catch{}finally{}h=kP(s,u,_,v),h!==null&&(_=an(),Ii(h,s,v,_),ej(h,u,v))}}function JP(s){var u=s.alternate;return s===qt||u!==null&&u===qt}function ZP(s,u){vd=Pp=!0;var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}function ej(s,u,h){if((h&4194240)!==0){var v=u.lanes;v&=s.pendingLanes,h|=v,u.lanes=h,xo(s,h)}}var Ip={readContext:Qn,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},MF={readContext:Qn,useCallback:function(s,u){return Ji().memoizedState=[s,u===void 0?null:u],s},useContext:Qn,useEffect:BP,useImperativeHandle:function(s,u,h){return h=h!=null?h.concat([s]):null,jp(4194308,4,HP.bind(null,u,s),h)},useLayoutEffect:function(s,u){return jp(4194308,4,s,u)},useInsertionEffect:function(s,u){return jp(4,2,s,u)},useMemo:function(s,u){var h=Ji();return u=u===void 0?null:u,s=s(),h.memoizedState=[s,u],s},useReducer:function(s,u,h){var v=Ji();return u=h!==void 0?h(u):u,v.memoizedState=v.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},v.queue=s,s=s.dispatch=OF.bind(null,qt,s),[v.memoizedState,s]},useRef:function(s){var u=Ji();return s={current:s},u.memoizedState=s},useState:UP,useDebugValue:fb,useDeferredValue:function(s){return Ji().memoizedState=s},useTransition:function(){var s=UP(!1),u=s[0];return s=NF.bind(null,s[1]),Ji().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,h){var v=qt,_=Ji();if(Ft){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Ar===null)throw Error(r(349));(qs&30)!==0||DP(v,u,h)}_.memoizedState=h;var j={value:h,getSnapshot:u};return _.queue=j,BP($P.bind(null,v,j,s),[s]),v.flags|=2048,wd(9,LP.bind(null,v,j,h,u),void 0,null),h},useId:function(){var s=Ji(),u=Ar.identifierPrefix;if(Ft){var h=Ia,v=ka;h=(v&~(1<<32-tn(v)-1)).toString(32)+h,u=":"+u+"R"+h,h=bd++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=CF++,u=":"+u+"r"+h.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},DF={readContext:Qn,useCallback:KP,useContext:Qn,useEffect:db,useImperativeHandle:GP,useInsertionEffect:qP,useLayoutEffect:WP,useMemo:XP,useReducer:ub,useRef:zP,useState:function(){return ub(xd)},useDebugValue:fb,useDeferredValue:function(s){var u=Jn();return YP(u,mr.memoizedState,s)},useTransition:function(){var s=ub(xd)[0],u=Jn().memoizedState;return[s,u]},useMutableSource:RP,useSyncExternalStore:MP,useId:QP,unstable_isNewReconciler:!1},LF={readContext:Qn,useCallback:KP,useContext:Qn,useEffect:db,useImperativeHandle:GP,useInsertionEffect:qP,useLayoutEffect:WP,useMemo:XP,useReducer:cb,useRef:zP,useState:function(){return cb(xd)},useDebugValue:fb,useDeferredValue:function(s){var u=Jn();return mr===null?u.memoizedState=s:YP(u,mr.memoizedState,s)},useTransition:function(){var s=cb(xd)[0],u=Jn().memoizedState;return[s,u]},useMutableSource:RP,useSyncExternalStore:MP,useId:QP,unstable_isNewReconciler:!1};function Pi(s,u){if(s&&s.defaultProps){u=ne({},u),s=s.defaultProps;for(var h in s)u[h]===void 0&&(u[h]=s[h]);return u}return u}function hb(s,u,h,v){u=s.memoizedState,h=h(v,u),h=h==null?u:ne({},u,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Cp={isMounted:function(s){return(s=s._reactInternals)?vi(s)===s:!1},enqueueSetState:function(s,u,h){s=s._reactInternals;var v=an(),_=Mo(s),j=Na(v,_);j.payload=u,h!=null&&(j.callback=h),u=Co(s,j,_),u!==null&&(Ii(u,s,_,v),Sp(u,s,_))},enqueueReplaceState:function(s,u,h){s=s._reactInternals;var v=an(),_=Mo(s),j=Na(v,_);j.tag=1,j.payload=u,h!=null&&(j.callback=h),u=Co(s,j,_),u!==null&&(Ii(u,s,_,v),Sp(u,s,_))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var h=an(),v=Mo(s),_=Na(h,v);_.tag=2,u!=null&&(_.callback=u),u=Co(s,_,v),u!==null&&(Ii(u,s,v,h),Sp(u,s,v))}};function tj(s,u,h,v,_,j,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,j,U):u.prototype&&u.prototype.isPureReactComponent?!sd(h,v)||!sd(_,j):!0}function rj(s,u,h){var v=!1,_=jo,j=u.contextType;return typeof j=="object"&&j!==null?j=Qn(j):(_=pn(u)?Vs:Wr.current,v=u.contextTypes,j=(v=v!=null)?fu(s,_):jo),u=new u(h,j),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Cp,s.stateNode=u,u._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=j),u}function nj(s,u,h,v){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==s&&Cp.enqueueReplaceState(u,u.state,null)}function pb(s,u,h,v){var _=s.stateNode;_.props=h,_.state=s.memoizedState,_.refs={},eb(s);var j=u.contextType;typeof j=="object"&&j!==null?_.context=Qn(j):(j=pn(u)?Vs:Wr.current,_.context=fu(s,j)),_.state=s.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(hb(s,u,j,h),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Cp.enqueueReplaceState(_,_.state,null),Ep(s,h,_,v),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function xu(s,u){try{var h="",v=u;do h+=xe(v),v=v.return;while(v);var _=h}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:u,stack:_,digest:null}}function mb(s,u,h){return{value:s,source:null,stack:h??null,digest:u??null}}function gb(s,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var $F=typeof WeakMap=="function"?WeakMap:Map;function ij(s,u,h){h=Na(-1,h),h.tag=3,h.payload={element:null};var v=u.value;return h.callback=function(){$p||($p=!0,Cb=v),gb(s,u)},h}function aj(s,u,h){h=Na(-1,h),h.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;h.payload=function(){return v(_)},h.callback=function(){gb(s,u)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){gb(s,u),typeof v!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var U=u.stack;this.componentDidCatch(u.value,{componentStack:U!==null?U:""})}),h}function oj(s,u,h){var v=s.pingCache;if(v===null){v=s.pingCache=new $F;var _=new Set;v.set(u,_)}else _=v.get(u),_===void 0&&(_=new Set,v.set(u,_));_.has(h)||(_.add(h),s=JF.bind(null,s,u,h),u.then(s,s))}function sj(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function lj(s,u,h,v,_){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Na(-1,1),u.tag=2,Co(h,u,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var VF=N.ReactCurrentOwner,mn=!1;function nn(s,u,h,v){u.child=s===null?jP(u,null,h,v):gu(u,s.child,h,v)}function uj(s,u,h,v,_){h=h.render;var j=u.ref;return vu(u,_),v=sb(s,u,h,v,j,_),h=lb(),s!==null&&!mn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~_,Oa(s,u,_)):(Ft&&h&&qv(u),u.flags|=1,nn(s,u,v,_),u.child)}function cj(s,u,h,v,_){if(s===null){var j=h.type;return typeof j=="function"&&!$b(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=j,dj(s,u,j,v,_)):(s=qp(h.type,null,v,u,u.mode,_),s.ref=u.ref,s.return=u,u.child=s)}if(j=s.child,(s.lanes&_)===0){var U=j.memoizedProps;if(h=h.compare,h=h!==null?h:sd,h(U,v)&&s.ref===u.ref)return Oa(s,u,_)}return u.flags|=1,s=Lo(j,v),s.ref=u.ref,s.return=u,u.child=s}function dj(s,u,h,v,_){if(s!==null){var j=s.memoizedProps;if(sd(j,v)&&s.ref===u.ref)if(mn=!1,u.pendingProps=v=j,(s.lanes&_)!==0)(s.flags&131072)!==0&&(mn=!0);else return u.lanes=s.lanes,Oa(s,u,_)}return yb(s,u,h,v,_)}function fj(s,u,h){var v=u.pendingProps,_=v.children,j=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(_u,Mn),Mn|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,kt(_u,Mn),Mn|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:h,kt(_u,Mn),Mn|=v}else j!==null?(v=j.baseLanes|h,u.memoizedState=null):v=h,kt(_u,Mn),Mn|=v;return nn(s,u,_,h),u.child}function hj(s,u){var h=u.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function yb(s,u,h,v,_){var j=pn(h)?Vs:Wr.current;return j=fu(u,j),vu(u,_),h=sb(s,u,h,v,j,_),v=lb(),s!==null&&!mn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~_,Oa(s,u,_)):(Ft&&v&&qv(u),u.flags|=1,nn(s,u,h,_),u.child)}function pj(s,u,h,v,_){if(pn(h)){var j=!0;mp(u)}else j=!1;if(vu(u,_),u.stateNode===null)Op(s,u),rj(u,h,v),pb(u,h,v,_),v=!0;else if(s===null){var U=u.stateNode,B=u.memoizedProps;U.props=B;var H=U.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=Qn(ie):(ie=pn(h)?Vs:Wr.current,ie=fu(u,ie));var ye=h.getDerivedStateFromProps,ve=typeof ye=="function"||typeof U.getSnapshotBeforeUpdate=="function";ve||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(B!==v||H!==ie)&&nj(u,U,v,ie),Io=!1;var ge=u.memoizedState;U.state=ge,Ep(u,v,U,_),H=u.memoizedState,B!==v||ge!==H||hn.current||Io?(typeof ye=="function"&&(hb(u,h,ye,v),H=u.memoizedState),(B=Io||tj(u,h,B,v,ge,H,ie))?(ve||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(u.flags|=4194308)):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=H),U.props=v,U.state=H,U.context=ie,v=B):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{U=u.stateNode,IP(s,u),B=u.memoizedProps,ie=u.type===u.elementType?B:Pi(u.type,B),U.props=ie,ve=u.pendingProps,ge=U.context,H=h.contextType,typeof H=="object"&&H!==null?H=Qn(H):(H=pn(h)?Vs:Wr.current,H=fu(u,H));var Pe=h.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(B!==ve||ge!==H)&&nj(u,U,v,H),Io=!1,ge=u.memoizedState,U.state=ge,Ep(u,v,U,_);var Ne=u.memoizedState;B!==ve||ge!==Ne||hn.current||Io?(typeof Pe=="function"&&(hb(u,h,Pe,v),Ne=u.memoizedState),(ie=Io||tj(u,h,ie,v,ge,Ne,H)||!1)?(ye||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(v,Ne,H),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(v,Ne,H)),typeof U.componentDidUpdate=="function"&&(u.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof U.componentDidUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ne),U.props=v,U.state=Ne,U.context=H,v=ie):(typeof U.componentDidUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=1024),v=!1)}return vb(s,u,h,v,j,_)}function vb(s,u,h,v,_,j){hj(s,u);var U=(u.flags&128)!==0;if(!v&&!U)return _&&bP(u,h,!1),Oa(s,u,j);v=u.stateNode,VF.current=u;var B=U&&typeof h.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,s!==null&&U?(u.child=gu(u,s.child,null,j),u.child=gu(u,null,B,j)):nn(s,u,B,j),u.memoizedState=v.state,_&&bP(u,h,!0),u.child}function mj(s){var u=s.stateNode;u.pendingContext?yP(s,u.pendingContext,u.pendingContext!==u.context):u.context&&yP(s,u.context,!1),tb(s,u.containerInfo)}function gj(s,u,h,v,_){return mu(),Kv(_),u.flags|=256,nn(s,u,h,v),u.child}var bb={dehydrated:null,treeContext:null,retryLane:0};function xb(s){return{baseLanes:s,cachePool:null,transitions:null}}function yj(s,u,h){var v=u.pendingProps,_=Bt.current,j=!1,U=(u.flags&128)!==0,B;if((B=U)||(B=s!==null&&s.memoizedState===null?!1:(_&2)!==0),B?(j=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),kt(Bt,_&1),s===null)return Gv(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(U=v.children,s=v.fallback,j?(v=u.mode,j=u.child,U={mode:"hidden",children:U},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=U):j=Wp(U,v,0,null),s=Xs(s,v,h,null),j.return=u,s.return=u,j.sibling=s,u.child=j,u.child.memoizedState=xb(h),u.memoizedState=bb,s):wb(u,U));if(_=s.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return FF(s,u,U,v,B,_,h);if(j){j=v.fallback,U=u.mode,_=s.child,B=_.sibling;var H={mode:"hidden",children:v.children};return(U&1)===0&&u.child!==_?(v=u.child,v.childLanes=0,v.pendingProps=H,u.deletions=null):(v=Lo(_,H),v.subtreeFlags=_.subtreeFlags&14680064),B!==null?j=Lo(B,j):(j=Xs(j,U,h,null),j.flags|=2),j.return=u,v.return=u,v.sibling=j,u.child=v,v=j,j=u.child,U=s.child.memoizedState,U=U===null?xb(h):{baseLanes:U.baseLanes|h,cachePool:null,transitions:U.transitions},j.memoizedState=U,j.childLanes=s.childLanes&~h,u.memoizedState=bb,v}return j=s.child,s=j.sibling,v=Lo(j,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=h),v.return=u,v.sibling=null,s!==null&&(h=u.deletions,h===null?(u.deletions=[s],u.flags|=16):h.push(s)),u.child=v,u.memoizedState=null,v}function wb(s,u){return u=Wp({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function Np(s,u,h,v){return v!==null&&Kv(v),gu(u,s.child,null,h),s=wb(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function FF(s,u,h,v,_,j,U){if(h)return u.flags&256?(u.flags&=-257,v=mb(Error(r(422))),Np(s,u,U,v)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(j=v.fallback,_=u.mode,v=Wp({mode:"visible",children:v.children},_,0,null),j=Xs(j,_,U,null),j.flags|=2,v.return=u,j.return=u,v.sibling=j,u.child=v,(u.mode&1)!==0&&gu(u,s.child,null,U),u.child.memoizedState=xb(U),u.memoizedState=bb,j);if((u.mode&1)===0)return Np(s,u,U,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var B=v.dgst;return v=B,j=Error(r(419)),v=mb(j,v,void 0),Np(s,u,U,v)}if(B=(U&s.childLanes)!==0,mn||B){if(v=Ar,v!==null){switch(U&-U){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|U))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,Ca(s,_),Ii(v,s,_,-1))}return Lb(),v=mb(Error(r(421))),Np(s,u,U,v)}return _.data==="$?"?(u.flags|=128,u.child=s.child,u=ZF.bind(null,s),_._reactRetry=u,null):(s=j.treeContext,Rn=Ao(_.nextSibling),On=u,Ft=!0,Ai=null,s!==null&&(Xn[Yn++]=ka,Xn[Yn++]=Ia,Xn[Yn++]=Fs,ka=s.id,Ia=s.overflow,Fs=u),u=wb(u,v.children),u.flags|=4096,u)}function vj(s,u,h){s.lanes|=u;var v=s.alternate;v!==null&&(v.lanes|=u),Jv(s.return,u,h)}function _b(s,u,h,v,_){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:_}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=h,j.tailMode=_)}function bj(s,u,h){var v=u.pendingProps,_=v.revealOrder,j=v.tail;if(nn(s,u,v.children,h),v=Bt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj(s,h,u);else if(s.tag===19)vj(s,h,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(kt(Bt,v),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(h=u.child,_=null;h!==null;)s=h.alternate,s!==null&&Tp(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=u.child,u.child=null):(_=h.sibling,h.sibling=null),_b(u,!1,_,h,j);break;case"backwards":for(h=null,_=u.child,u.child=null;_!==null;){if(s=_.alternate,s!==null&&Tp(s)===null){u.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}_b(u,!0,h,null,j);break;case"together":_b(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Op(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function Oa(s,u,h){if(s!==null&&(u.dependencies=s.dependencies),Ws|=u.lanes,(h&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,h=Lo(s,s.pendingProps),u.child=h,h.return=u;s.sibling!==null;)s=s.sibling,h=h.sibling=Lo(s,s.pendingProps),h.return=u;h.sibling=null}return u.child}function UF(s,u,h){switch(u.tag){case 3:mj(u),mu();break;case 5:OP(u);break;case 1:pn(u.type)&&mp(u);break;case 4:tb(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,_=u.memoizedProps.value;kt(wp,v._currentValue),v._currentValue=_;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(kt(Bt,Bt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?yj(s,u,h):(kt(Bt,Bt.current&1),s=Oa(s,u,h),s!==null?s.sibling:null);kt(Bt,Bt.current&1);break;case 19:if(v=(h&u.childLanes)!==0,(s.flags&128)!==0){if(v)return bj(s,u,h);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),kt(Bt,Bt.current),v)break;return null;case 22:case 23:return u.lanes=0,fj(s,u,h)}return Oa(s,u,h)}var xj,Sb,wj,_j;xj=function(s,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Sb=function(){},wj=function(s,u,h,v){var _=s.memoizedProps;if(_!==v){s=u.stateNode,Bs(Qi.current);var j=null;switch(h){case"input":_=We(s,_),v=We(s,v),j=[];break;case"select":_=ne({},_,{value:void 0}),v=ne({},v,{value:void 0}),j=[];break;case"textarea":_=me(s,_),v=me(s,v),j=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=fp)}Be(h,v);var U;h=null;for(ie in _)if(!v.hasOwnProperty(ie)&&_.hasOwnProperty(ie)&&_[ie]!=null)if(ie==="style"){var B=_[ie];for(U in B)B.hasOwnProperty(U)&&(h||(h={}),h[U]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?j||(j=[]):(j=j||[]).push(ie,null));for(ie in v){var H=v[ie];if(B=_!=null?_[ie]:void 0,v.hasOwnProperty(ie)&&H!==B&&(H!=null||B!=null))if(ie==="style")if(B){for(U in B)!B.hasOwnProperty(U)||H&&H.hasOwnProperty(U)||(h||(h={}),h[U]="");for(U in H)H.hasOwnProperty(U)&&B[U]!==H[U]&&(h||(h={}),h[U]=H[U])}else h||(j||(j=[]),j.push(ie,h)),h=H;else ie==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(j=j||[]).push(ie,H)):ie==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(ie,""+H):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(H!=null&&ie==="onScroll"&&Ot("scroll",s),j||B===H||(j=[])):(j=j||[]).push(ie,H))}h&&(j=j||[]).push("style",h);var ie=j;(u.updateQueue=ie)&&(u.flags|=4)}},_j=function(s,u,h,v){h!==v&&(u.flags|=4)};function _d(s,u){if(!Ft)switch(s.tailMode){case"hidden":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Gr(s){var u=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(u)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=v,s.childLanes=h,u}function zF(s,u,h){var v=u.pendingProps;switch(Wv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(u),null;case 1:return pn(u.type)&&pp(),Gr(u),null;case 3:return v=u.stateNode,bu(),Rt(hn),Rt(Wr),ib(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(bp(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ai!==null&&(Rb(Ai),Ai=null))),Sb(s,u),Gr(u),null;case 5:rb(u);var _=Bs(yd.current);if(h=u.type,s!==null&&u.stateNode!=null)wj(s,u,h,v,_),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Gr(u),null}if(s=Bs(Qi.current),bp(u)){v=u.stateNode,h=u.type;var j=u.memoizedProps;switch(v[Yi]=u,v[fd]=j,s=(u.mode&1)!==0,h){case"dialog":Ot("cancel",v),Ot("close",v);break;case"iframe":case"object":case"embed":Ot("load",v);break;case"video":case"audio":for(_=0;_<ud.length;_++)Ot(ud[_],v);break;case"source":Ot("error",v);break;case"img":case"image":case"link":Ot("error",v),Ot("load",v);break;case"details":Ot("toggle",v);break;case"input":gt(v,j),Ot("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},Ot("invalid",v);break;case"textarea":Xe(v,j),Ot("invalid",v)}Be(h,j),_=null;for(var U in j)if(j.hasOwnProperty(U)){var B=j[U];U==="children"?typeof B=="string"?v.textContent!==B&&(j.suppressHydrationWarning!==!0&&dp(v.textContent,B,s),_=["children",B]):typeof B=="number"&&v.textContent!==""+B&&(j.suppressHydrationWarning!==!0&&dp(v.textContent,B,s),_=["children",""+B]):i.hasOwnProperty(U)&&B!=null&&U==="onScroll"&&Ot("scroll",v)}switch(h){case"input":Le(v),nr(v,j,!0);break;case"textarea":Le(v),Gt(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=fp)}v=_,u.updateQueue=v,v!==null&&(u.flags|=4)}else{U=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Jt(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=U.createElement(h,{is:v.is}):(s=U.createElement(h),h==="select"&&(U=s,v.multiple?U.multiple=!0:v.size&&(U.size=v.size))):s=U.createElementNS(s,h),s[Yi]=u,s[fd]=v,xj(s,u,!1,!1),u.stateNode=s;e:{switch(U=jn(h,v),h){case"dialog":Ot("cancel",s),Ot("close",s),_=v;break;case"iframe":case"object":case"embed":Ot("load",s),_=v;break;case"video":case"audio":for(_=0;_<ud.length;_++)Ot(ud[_],s);_=v;break;case"source":Ot("error",s),_=v;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),_=v;break;case"details":Ot("toggle",s),_=v;break;case"input":gt(s,v),_=We(s,v),Ot("invalid",s);break;case"option":_=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},_=ne({},v,{value:void 0}),Ot("invalid",s);break;case"textarea":Xe(s,v),_=me(s,v),Ot("invalid",s);break;default:_=v}Be(h,_),B=_;for(j in B)if(B.hasOwnProperty(j)){var H=B[j];j==="style"?mo(s,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ss(s,H)):j==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&pi(s,H):typeof H=="number"&&pi(s,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?H!=null&&j==="onScroll"&&Ot("scroll",s):H!=null&&I(s,j,H,U))}switch(h){case"input":Le(s),nr(s,v,!1);break;case"textarea":Le(s),Gt(s);break;case"option":v.value!=null&&s.setAttribute("value",""+Se(v.value));break;case"select":s.multiple=!!v.multiple,j=v.value,j!=null?$t(s,!!v.multiple,j,!1):v.defaultValue!=null&&$t(s,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=fp)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Gr(u),null;case 6:if(s&&u.stateNode!=null)_j(s,u,s.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(h=Bs(yd.current),Bs(Qi.current),bp(u)){if(v=u.stateNode,h=u.memoizedProps,v[Yi]=u,(j=v.nodeValue!==h)&&(s=On,s!==null))switch(s.tag){case 3:dp(v.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&dp(v.nodeValue,h,(s.mode&1)!==0)}j&&(u.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Yi]=u,u.stateNode=v}return Gr(u),null;case 13:if(Rt(Bt),v=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ft&&Rn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)TP(),mu(),u.flags|=98560,j=!1;else if(j=bp(u),v!==null&&v.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=u.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Yi]=u}else mu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gr(u),j=!1}else Ai!==null&&(Rb(Ai),Ai=null),j=!0;if(!j)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(Bt.current&1)!==0?gr===0&&(gr=3):Lb())),u.updateQueue!==null&&(u.flags|=4),Gr(u),null);case 4:return bu(),Sb(s,u),s===null&&cd(u.stateNode.containerInfo),Gr(u),null;case 10:return Qv(u.type._context),Gr(u),null;case 17:return pn(u.type)&&pp(),Gr(u),null;case 19:if(Rt(Bt),j=u.memoizedState,j===null)return Gr(u),null;if(v=(u.flags&128)!==0,U=j.rendering,U===null)if(v)_d(j,!1);else{if(gr!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(U=Tp(s),U!==null){for(u.flags|=128,_d(j,!1),v=U.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=h,h=u.child;h!==null;)j=h,s=v,j.flags&=14680066,U=j.alternate,U===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=U.childLanes,j.lanes=U.lanes,j.child=U.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=U.memoizedProps,j.memoizedState=U.memoizedState,j.updateQueue=U.updateQueue,j.type=U.type,s=U.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return kt(Bt,Bt.current&1|2),u.child}s=s.sibling}j.tail!==null&&jt()>Su&&(u.flags|=128,v=!0,_d(j,!1),u.lanes=4194304)}else{if(!v)if(s=Tp(U),s!==null){if(u.flags|=128,v=!0,h=s.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),_d(j,!0),j.tail===null&&j.tailMode==="hidden"&&!U.alternate&&!Ft)return Gr(u),null}else 2*jt()-j.renderingStartTime>Su&&h!==1073741824&&(u.flags|=128,v=!0,_d(j,!1),u.lanes=4194304);j.isBackwards?(U.sibling=u.child,u.child=U):(h=j.last,h!==null?h.sibling=U:u.child=U,j.last=U)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=jt(),u.sibling=null,h=Bt.current,kt(Bt,v?h&1|2:h&1),u):(Gr(u),null);case 22:case 23:return Db(),v=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Mn&1073741824)!==0&&(Gr(u),u.subtreeFlags&6&&(u.flags|=8192)):Gr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function BF(s,u){switch(Wv(u),u.tag){case 1:return pn(u.type)&&pp(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return bu(),Rt(hn),Rt(Wr),ib(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return rb(u),null;case 13:if(Rt(Bt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));mu()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Rt(Bt),null;case 4:return bu(),null;case 10:return Qv(u.type._context),null;case 22:case 23:return Db(),null;case 24:return null;default:return null}}var Rp=!1,Kr=!1,qF=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function wu(s,u){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Xt(s,u,v)}else h.current=null}function Eb(s,u,h){try{h()}catch(v){Xt(s,u,v)}}var Sj=!1;function WF(s,u){if(Dv=So,s=tP(),jv(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var _=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var U=0,B=-1,H=-1,ie=0,ye=0,ve=s,ge=null;t:for(;;){for(var Pe;ve!==h||_!==0&&ve.nodeType!==3||(B=U+_),ve!==j||v!==0&&ve.nodeType!==3||(H=U+v),ve.nodeType===3&&(U+=ve.nodeValue.length),(Pe=ve.firstChild)!==null;)ge=ve,ve=Pe;for(;;){if(ve===s)break t;if(ge===h&&++ie===_&&(B=U),ge===j&&++ye===v&&(H=U),(Pe=ve.nextSibling)!==null)break;ve=ge,ge=ve.parentNode}ve=Pe}h=B===-1||H===-1?null:{start:B,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lv={focusedElem:s,selectionRange:h},So=!1,Ie=u;Ie!==null;)if(u=Ie,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Ie=s;else for(;Ie!==null;){u=Ie;try{var Ne=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Me=Ne.memoizedProps,er=Ne.memoizedState,Z=u.stateNode,K=Z.getSnapshotBeforeUpdate(u.elementType===u.type?Me:Pi(u.type,Me),er);Z.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=u.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Xt(u,u.return,be)}if(s=u.sibling,s!==null){s.return=u.return,Ie=s;break}Ie=u.return}return Ne=Sj,Sj=!1,Ne}function Sd(s,u,h){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&s)===s){var j=_.destroy;_.destroy=void 0,j!==void 0&&Eb(u,h,j)}_=_.next}while(_!==v)}}function Mp(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&s)===s){var v=h.create;h.destroy=v()}h=h.next}while(h!==u)}}function Tb(s){var u=s.ref;if(u!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof u=="function"?u(s):u.current=s}}function Ej(s){var u=s.alternate;u!==null&&(s.alternate=null,Ej(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Yi],delete u[fd],delete u[Uv],delete u[PF],delete u[jF])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj(s){return s.tag===5||s.tag===3||s.tag===4}function Aj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ab(s,u,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(s,u):h.insertBefore(s,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(s,h)):(u=h,u.appendChild(s)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=fp));else if(v!==4&&(s=s.child,s!==null))for(Ab(s,u,h),s=s.sibling;s!==null;)Ab(s,u,h),s=s.sibling}function Pb(s,u,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?h.insertBefore(s,u):h.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(Pb(s,u,h),s=s.sibling;s!==null;)Pb(s,u,h),s=s.sibling}var Mr=null,ji=!1;function No(s,u,h){for(h=h.child;h!==null;)Pj(s,u,h),h=h.sibling}function Pj(s,u,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Cs,h)}catch{}switch(h.tag){case 5:Kr||wu(h,u);case 6:var v=Mr,_=ji;Mr=null,No(s,u,h),Mr=v,ji=_,Mr!==null&&(ji?(s=Mr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Mr.removeChild(h.stateNode));break;case 18:Mr!==null&&(ji?(s=Mr,h=h.stateNode,s.nodeType===8?Fv(s.parentNode,h):s.nodeType===1&&Fv(s,h),Si(s)):Fv(Mr,h.stateNode));break;case 4:v=Mr,_=ji,Mr=h.stateNode.containerInfo,ji=!0,No(s,u,h),Mr=v,ji=_;break;case 0:case 11:case 14:case 15:if(!Kr&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var j=_,U=j.destroy;j=j.tag,U!==void 0&&((j&2)!==0||(j&4)!==0)&&Eb(h,u,U),_=_.next}while(_!==v)}No(s,u,h);break;case 1:if(!Kr&&(wu(h,u),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(B){Xt(h,u,B)}No(s,u,h);break;case 21:No(s,u,h);break;case 22:h.mode&1?(Kr=(v=Kr)||h.memoizedState!==null,No(s,u,h),Kr=v):No(s,u,h);break;default:No(s,u,h)}}function jj(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new qF),u.forEach(function(v){var _=eU.bind(null,s,v);h.has(v)||(h.add(v),v.then(_,_))})}}function ki(s,u){var h=u.deletions;if(h!==null)for(var v=0;v<h.length;v++){var _=h[v];try{var j=s,U=u,B=U;e:for(;B!==null;){switch(B.tag){case 5:Mr=B.stateNode,ji=!1;break e;case 3:Mr=B.stateNode.containerInfo,ji=!0;break e;case 4:Mr=B.stateNode.containerInfo,ji=!0;break e}B=B.return}if(Mr===null)throw Error(r(160));Pj(j,U,_),Mr=null,ji=!1;var H=_.alternate;H!==null&&(H.return=null),_.return=null}catch(ie){Xt(_,u,ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)kj(u,s),u=u.sibling}function kj(s,u){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ki(u,s),Zi(s),v&4){try{Sd(3,s,s.return),Mp(3,s)}catch(Me){Xt(s,s.return,Me)}try{Sd(5,s,s.return)}catch(Me){Xt(s,s.return,Me)}}break;case 1:ki(u,s),Zi(s),v&512&&h!==null&&wu(h,h.return);break;case 5:if(ki(u,s),Zi(s),v&512&&h!==null&&wu(h,h.return),s.flags&32){var _=s.stateNode;try{pi(_,"")}catch(Me){Xt(s,s.return,Me)}}if(v&4&&(_=s.stateNode,_!=null)){var j=s.memoizedProps,U=h!==null?h.memoizedProps:j,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&j.type==="radio"&&j.name!=null&&ft(_,j),jn(B,U);var ie=jn(B,j);for(U=0;U<H.length;U+=2){var ye=H[U],ve=H[U+1];ye==="style"?mo(_,ve):ye==="dangerouslySetInnerHTML"?Ss(_,ve):ye==="children"?pi(_,ve):I(_,ye,ve,ie)}switch(B){case"input":_t(_,j);break;case"textarea":Nt(_,j);break;case"select":var ge=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Pe=j.value;Pe!=null?$t(_,!!j.multiple,Pe,!1):ge!==!!j.multiple&&(j.defaultValue!=null?$t(_,!!j.multiple,j.defaultValue,!0):$t(_,!!j.multiple,j.multiple?[]:"",!1))}_[fd]=j}catch(Me){Xt(s,s.return,Me)}}break;case 6:if(ki(u,s),Zi(s),v&4){if(s.stateNode===null)throw Error(r(162));_=s.stateNode,j=s.memoizedProps;try{_.nodeValue=j}catch(Me){Xt(s,s.return,Me)}}break;case 3:if(ki(u,s),Zi(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Si(u.containerInfo)}catch(Me){Xt(s,s.return,Me)}break;case 4:ki(u,s),Zi(s);break;case 13:ki(u,s),Zi(s),_=s.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(Ib=jt())),v&4&&jj(s);break;case 22:if(ye=h!==null&&h.memoizedState!==null,s.mode&1?(Kr=(ie=Kr)||ye,ki(u,s),Kr=ie):ki(u,s),Zi(s),v&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!ye&&(s.mode&1)!==0)for(Ie=s,ye=s.child;ye!==null;){for(ve=Ie=ye;Ie!==null;){switch(ge=Ie,Pe=ge.child,ge.tag){case 0:case 11:case 14:case 15:Sd(4,ge,ge.return);break;case 1:wu(ge,ge.return);var Ne=ge.stateNode;if(typeof Ne.componentWillUnmount=="function"){v=ge,h=ge.return;try{u=v,Ne.props=u.memoizedProps,Ne.state=u.memoizedState,Ne.componentWillUnmount()}catch(Me){Xt(v,h,Me)}}break;case 5:wu(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Nj(ve);continue}}Pe!==null?(Pe.return=ge,Ie=Pe):Nj(ve)}ye=ye.sibling}e:for(ye=null,ve=s;;){if(ve.tag===5){if(ye===null){ye=ve;try{_=ve.stateNode,ie?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(B=ve.stateNode,H=ve.memoizedProps.style,U=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=Es("display",U))}catch(Me){Xt(s,s.return,Me)}}}else if(ve.tag===6){if(ye===null)try{ve.stateNode.nodeValue=ie?"":ve.memoizedProps}catch(Me){Xt(s,s.return,Me)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===s)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===s)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===s)break e;ye===ve&&(ye=null),ve=ve.return}ye===ve&&(ye=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:ki(u,s),Zi(s),v&4&&jj(s);break;case 21:break;default:ki(u,s),Zi(s)}}function Zi(s){var u=s.flags;if(u&2){try{e:{for(var h=s.return;h!==null;){if(Tj(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(pi(_,""),v.flags&=-33);var j=Aj(s);Pb(s,j,_);break;case 3:case 4:var U=v.stateNode.containerInfo,B=Aj(s);Ab(s,B,U);break;default:throw Error(r(161))}}catch(H){Xt(s,s.return,H)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function HF(s,u,h){Ie=s,Ij(s)}function Ij(s,u,h){for(var v=(s.mode&1)!==0;Ie!==null;){var _=Ie,j=_.child;if(_.tag===22&&v){var U=_.memoizedState!==null||Rp;if(!U){var B=_.alternate,H=B!==null&&B.memoizedState!==null||Kr;B=Rp;var ie=Kr;if(Rp=U,(Kr=H)&&!ie)for(Ie=_;Ie!==null;)U=Ie,H=U.child,U.tag===22&&U.memoizedState!==null?Oj(_):H!==null?(H.return=U,Ie=H):Oj(_);for(;j!==null;)Ie=j,Ij(j),j=j.sibling;Ie=_,Rp=B,Kr=ie}Cj(s)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Ie=j):Cj(s)}}function Cj(s){for(;Ie!==null;){var u=Ie;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Kr||Mp(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Kr)if(h===null)v.componentDidMount();else{var _=u.elementType===u.type?h.memoizedProps:Pi(u.type,h.memoizedProps);v.componentDidUpdate(_,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=u.updateQueue;j!==null&&NP(u,j,v);break;case 3:var U=u.updateQueue;if(U!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}NP(u,U,h)}break;case 5:var B=u.stateNode;if(h===null&&u.flags&4){h=B;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ie=u.alternate;if(ie!==null){var ye=ie.memoizedState;if(ye!==null){var ve=ye.dehydrated;ve!==null&&Si(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kr||u.flags&512&&Tb(u)}catch(ge){Xt(u,u.return,ge)}}if(u===s){Ie=null;break}if(h=u.sibling,h!==null){h.return=u.return,Ie=h;break}Ie=u.return}}function Nj(s){for(;Ie!==null;){var u=Ie;if(u===s){Ie=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Ie=h;break}Ie=u.return}}function Oj(s){for(;Ie!==null;){var u=Ie;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Mp(4,u)}catch(H){Xt(u,h,H)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var _=u.return;try{v.componentDidMount()}catch(H){Xt(u,_,H)}}var j=u.return;try{Tb(u)}catch(H){Xt(u,j,H)}break;case 5:var U=u.return;try{Tb(u)}catch(H){Xt(u,U,H)}}}catch(H){Xt(u,u.return,H)}if(u===s){Ie=null;break}var B=u.sibling;if(B!==null){B.return=u.return,Ie=B;break}Ie=u.return}}var GF=Math.ceil,Dp=N.ReactCurrentDispatcher,jb=N.ReactCurrentOwner,Zn=N.ReactCurrentBatchConfig,ct=0,Ar=null,ar=null,Dr=0,Mn=0,_u=Po(0),gr=0,Ed=null,Ws=0,Lp=0,kb=0,Td=null,gn=null,Ib=0,Su=1/0,Ra=null,$p=!1,Cb=null,Oo=null,Vp=!1,Ro=null,Fp=0,Ad=0,Nb=null,Up=-1,zp=0;function an(){return(ct&6)!==0?jt():Up!==-1?Up:Up=jt()}function Mo(s){return(s.mode&1)===0?1:(ct&2)!==0&&Dr!==0?Dr&-Dr:IF.transition!==null?(zp===0&&(zp=Os()),zp):(s=st,s!==0||(s=window.event,s=s===void 0?16:ed(s.type)),s)}function Ii(s,u,h,v){if(50<Ad)throw Ad=0,Nb=null,Error(r(185));bo(s,h,v),((ct&2)===0||s!==Ar)&&(s===Ar&&((ct&2)===0&&(Lp|=h),gr===4&&Do(s,Dr)),yn(s,v),h===1&&ct===0&&(u.mode&1)===0&&(Su=jt()+500,gp&&ko()))}function yn(s,u){var h=s.callbackNode;_a(s,u);var v=Ns(s,s===Ar?Dr:0);if(v===0)h!==null&&Xc(h),s.callbackNode=null,s.callbackPriority=0;else if(u=v&-v,s.callbackPriority!==u){if(h!=null&&Xc(h),u===1)s.tag===0?kF(Mj.bind(null,s)):xP(Mj.bind(null,s)),TF(function(){(ct&6)===0&&ko()}),h=null;else{switch(wo(v)){case 1:h=Is;break;case 4:h=go;break;case 16:h=Hn;break;case 536870912:h=zh;break;default:h=Hn}h=Bj(h,Rj.bind(null,s))}s.callbackPriority=u,s.callbackNode=h}}function Rj(s,u){if(Up=-1,zp=0,(ct&6)!==0)throw Error(r(327));var h=s.callbackNode;if(Eu()&&s.callbackNode!==h)return null;var v=Ns(s,s===Ar?Dr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||u)u=Bp(s,v);else{u=v;var _=ct;ct|=2;var j=Lj();(Ar!==s||Dr!==u)&&(Ra=null,Su=jt()+500,Gs(s,u));do try{YF();break}catch(B){Dj(s,B)}while(!0);Yv(),Dp.current=j,ct=_,ar!==null?u=0:(Ar=null,Dr=0,u=gr)}if(u!==0){if(u===2&&(_=In(s),_!==0&&(v=_,u=Ob(s,_))),u===1)throw h=Ed,Gs(s,0),Do(s,v),yn(s,jt()),h;if(u===6)Do(s,v);else{if(_=s.current.alternate,(v&30)===0&&!KF(_)&&(u=Bp(s,v),u===2&&(j=In(s),j!==0&&(v=j,u=Ob(s,j))),u===1))throw h=Ed,Gs(s,0),Do(s,v),yn(s,jt()),h;switch(s.finishedWork=_,s.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Ks(s,gn,Ra);break;case 3:if(Do(s,v),(v&130023424)===v&&(u=Ib+500-jt(),10<u)){if(Ns(s,0)!==0)break;if(_=s.suspendedLanes,(_&v)!==v){an(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=Vv(Ks.bind(null,s,gn,Ra),u);break}Ks(s,gn,Ra);break;case 4:if(Do(s,v),(v&4194240)===v)break;for(u=s.eventTimes,_=-1;0<v;){var U=31-tn(v);j=1<<U,U=u[U],U>_&&(_=U),v&=~j}if(v=_,v=jt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*GF(v/1960))-v,10<v){s.timeoutHandle=Vv(Ks.bind(null,s,gn,Ra),v);break}Ks(s,gn,Ra);break;case 5:Ks(s,gn,Ra);break;default:throw Error(r(329))}}}return yn(s,jt()),s.callbackNode===h?Rj.bind(null,s):null}function Ob(s,u){var h=Td;return s.current.memoizedState.isDehydrated&&(Gs(s,u).flags|=256),s=Bp(s,u),s!==2&&(u=gn,gn=h,u!==null&&Rb(u)),s}function Rb(s){gn===null?gn=s:gn.push.apply(gn,s)}function KF(s){for(var u=s;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var _=h[v],j=_.getSnapshot;_=_.value;try{if(!Ti(j(),_))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Do(s,u){for(u&=~kb,u&=~Lp,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var h=31-tn(u),v=1<<h;s[h]=-1,u&=~v}}function Mj(s){if((ct&6)!==0)throw Error(r(327));Eu();var u=Ns(s,0);if((u&1)===0)return yn(s,jt()),null;var h=Bp(s,u);if(s.tag!==0&&h===2){var v=In(s);v!==0&&(u=v,h=Ob(s,v))}if(h===1)throw h=Ed,Gs(s,0),Do(s,u),yn(s,jt()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Ks(s,gn,Ra),yn(s,jt()),null}function Mb(s,u){var h=ct;ct|=1;try{return s(u)}finally{ct=h,ct===0&&(Su=jt()+500,gp&&ko())}}function Hs(s){Ro!==null&&Ro.tag===0&&(ct&6)===0&&Eu();var u=ct;ct|=1;var h=Zn.transition,v=st;try{if(Zn.transition=null,st=1,s)return s()}finally{st=v,Zn.transition=h,ct=u,(ct&6)===0&&ko()}}function Db(){Mn=_u.current,Rt(_u)}function Gs(s,u){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,EF(h)),ar!==null)for(h=ar.return;h!==null;){var v=h;switch(Wv(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&pp();break;case 3:bu(),Rt(hn),Rt(Wr),ib();break;case 5:rb(v);break;case 4:bu();break;case 13:Rt(Bt);break;case 19:Rt(Bt);break;case 10:Qv(v.type._context);break;case 22:case 23:Db()}h=h.return}if(Ar=s,ar=s=Lo(s.current,null),Dr=Mn=u,gr=0,Ed=null,kb=Lp=Ws=0,gn=Td=null,zs!==null){for(u=0;u<zs.length;u++)if(h=zs[u],v=h.interleaved,v!==null){h.interleaved=null;var _=v.next,j=h.pending;if(j!==null){var U=j.next;j.next=_,v.next=U}h.pending=v}zs=null}return s}function Dj(s,u){do{var h=ar;try{if(Yv(),Ap.current=Ip,Pp){for(var v=qt.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Pp=!1}if(qs=0,Tr=mr=qt=null,vd=!1,bd=0,jb.current=null,h===null||h.return===null){gr=1,Ed=u,ar=null;break}e:{var j=s,U=h.return,B=h,H=u;if(u=Dr,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=H,ye=B,ve=ye.tag;if((ye.mode&1)===0&&(ve===0||ve===11||ve===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=sj(U);if(Pe!==null){Pe.flags&=-257,lj(Pe,U,B,j,u),Pe.mode&1&&oj(j,ie,u),u=Pe,H=ie;var Ne=u.updateQueue;if(Ne===null){var Me=new Set;Me.add(H),u.updateQueue=Me}else Ne.add(H);break e}else{if((u&1)===0){oj(j,ie,u),Lb();break e}H=Error(r(426))}}else if(Ft&&B.mode&1){var er=sj(U);if(er!==null){(er.flags&65536)===0&&(er.flags|=256),lj(er,U,B,j,u),Kv(xu(H,B));break e}}j=H=xu(H,B),gr!==4&&(gr=2),Td===null?Td=[j]:Td.push(j),j=U;do{switch(j.tag){case 3:j.flags|=65536,u&=-u,j.lanes|=u;var Z=ij(j,H,u);CP(j,Z);break e;case 1:B=H;var K=j.type,ee=j.stateNode;if((j.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Oo===null||!Oo.has(ee)))){j.flags|=65536,u&=-u,j.lanes|=u;var be=aj(j,B,u);CP(j,be);break e}}j=j.return}while(j!==null)}Vj(h)}catch(De){u=De,ar===h&&h!==null&&(ar=h=h.return);continue}break}while(!0)}function Lj(){var s=Dp.current;return Dp.current=Ip,s===null?Ip:s}function Lb(){(gr===0||gr===3||gr===2)&&(gr=4),Ar===null||(Ws&268435455)===0&&(Lp&268435455)===0||Do(Ar,Dr)}function Bp(s,u){var h=ct;ct|=2;var v=Lj();(Ar!==s||Dr!==u)&&(Ra=null,Gs(s,u));do try{XF();break}catch(_){Dj(s,_)}while(!0);if(Yv(),ct=h,Dp.current=v,ar!==null)throw Error(r(261));return Ar=null,Dr=0,gr}function XF(){for(;ar!==null;)$j(ar)}function YF(){for(;ar!==null&&!Fh();)$j(ar)}function $j(s){var u=zj(s.alternate,s,Mn);s.memoizedProps=s.pendingProps,u===null?Vj(s):ar=u,jb.current=null}function Vj(s){var u=s;do{var h=u.alternate;if(s=u.return,(u.flags&32768)===0){if(h=zF(h,u,Mn),h!==null){ar=h;return}}else{if(h=BF(h,u),h!==null){h.flags&=32767,ar=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gr=6,ar=null;return}}if(u=u.sibling,u!==null){ar=u;return}ar=u=s}while(u!==null);gr===0&&(gr=5)}function Ks(s,u,h){var v=st,_=Zn.transition;try{Zn.transition=null,st=1,QF(s,u,h,v)}finally{Zn.transition=_,st=v}return null}function QF(s,u,h,v){do Eu();while(Ro!==null);if((ct&6)!==0)throw Error(r(327));h=s.finishedWork;var _=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(Tt(s,j),s===Ar&&(ar=Ar=null,Dr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Vp||(Vp=!0,Bj(Hn,function(){return Eu(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=Zn.transition,Zn.transition=null;var U=st;st=1;var B=ct;ct|=4,jb.current=null,WF(s,h),kj(h,s),yF(Lv),So=!!Dv,Lv=Dv=null,s.current=h,HF(h),xv(),ct=B,st=U,Zn.transition=j}else s.current=h;if(Vp&&(Vp=!1,Ro=s,Fp=_),j=s.pendingLanes,j===0&&(Oo=null),Bh(h.stateNode),yn(s,jt()),u!==null)for(v=s.onRecoverableError,h=0;h<u.length;h++)_=u[h],v(_.value,{componentStack:_.stack,digest:_.digest});if($p)throw $p=!1,s=Cb,Cb=null,s;return(Fp&1)!==0&&s.tag!==0&&Eu(),j=s.pendingLanes,(j&1)!==0?s===Nb?Ad++:(Ad=0,Nb=s):Ad=0,ko(),null}function Eu(){if(Ro!==null){var s=wo(Fp),u=Zn.transition,h=st;try{if(Zn.transition=null,st=16>s?16:s,Ro===null)var v=!1;else{if(s=Ro,Ro=null,Fp=0,(ct&6)!==0)throw Error(r(331));var _=ct;for(ct|=4,Ie=s.current;Ie!==null;){var j=Ie,U=j.child;if((Ie.flags&16)!==0){var B=j.deletions;if(B!==null){for(var H=0;H<B.length;H++){var ie=B[H];for(Ie=ie;Ie!==null;){var ye=Ie;switch(ye.tag){case 0:case 11:case 15:Sd(8,ye,j)}var ve=ye.child;if(ve!==null)ve.return=ye,Ie=ve;else for(;Ie!==null;){ye=Ie;var ge=ye.sibling,Pe=ye.return;if(Ej(ye),ye===ie){Ie=null;break}if(ge!==null){ge.return=Pe,Ie=ge;break}Ie=Pe}}}var Ne=j.alternate;if(Ne!==null){var Me=Ne.child;if(Me!==null){Ne.child=null;do{var er=Me.sibling;Me.sibling=null,Me=er}while(Me!==null)}}Ie=j}}if((j.subtreeFlags&2064)!==0&&U!==null)U.return=j,Ie=U;else e:for(;Ie!==null;){if(j=Ie,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Sd(9,j,j.return)}var Z=j.sibling;if(Z!==null){Z.return=j.return,Ie=Z;break e}Ie=j.return}}var K=s.current;for(Ie=K;Ie!==null;){U=Ie;var ee=U.child;if((U.subtreeFlags&2064)!==0&&ee!==null)ee.return=U,Ie=ee;else e:for(U=K;Ie!==null;){if(B=Ie,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Mp(9,B)}}catch(De){Xt(B,B.return,De)}if(B===U){Ie=null;break e}var be=B.sibling;if(be!==null){be.return=B.return,Ie=be;break e}Ie=B.return}}if(ct=_,ko(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Cs,s)}catch{}v=!0}return v}finally{st=h,Zn.transition=u}}return!1}function Fj(s,u,h){u=xu(h,u),u=ij(s,u,1),s=Co(s,u,1),u=an(),s!==null&&(bo(s,1,u),yn(s,u))}function Xt(s,u,h){if(s.tag===3)Fj(s,s,h);else for(;u!==null;){if(u.tag===3){Fj(u,s,h);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Oo===null||!Oo.has(v))){s=xu(h,s),s=aj(u,s,1),u=Co(u,s,1),s=an(),u!==null&&(bo(u,1,s),yn(u,s));break}}u=u.return}}function JF(s,u,h){var v=s.pingCache;v!==null&&v.delete(u),u=an(),s.pingedLanes|=s.suspendedLanes&h,Ar===s&&(Dr&h)===h&&(gr===4||gr===3&&(Dr&130023424)===Dr&&500>jt()-Ib?Gs(s,0):kb|=h),yn(s,u)}function Uj(s,u){u===0&&((s.mode&1)===0?u=1:(u=Gl,Gl<<=1,(Gl&130023424)===0&&(Gl=4194304)));var h=an();s=Ca(s,u),s!==null&&(bo(s,u,h),yn(s,h))}function ZF(s){var u=s.memoizedState,h=0;u!==null&&(h=u.retryLane),Uj(s,h)}function eU(s,u){var h=0;switch(s.tag){case 13:var v=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),Uj(s,h)}var zj;zj=function(s,u,h){if(s!==null)if(s.memoizedProps!==u.pendingProps||hn.current)mn=!0;else{if((s.lanes&h)===0&&(u.flags&128)===0)return mn=!1,UF(s,u,h);mn=(s.flags&131072)!==0}else mn=!1,Ft&&(u.flags&1048576)!==0&&wP(u,vp,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Op(s,u),s=u.pendingProps;var _=fu(u,Wr.current);vu(u,h),_=sb(null,u,v,s,_,h);var j=lb();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,pn(v)?(j=!0,mp(u)):j=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,eb(u),_.updater=Cp,u.stateNode=_,_._reactInternals=u,pb(u,v,s,h),u=vb(null,u,v,!0,j,h)):(u.tag=0,Ft&&j&&qv(u),nn(null,u,_,h),u=u.child),u;case 16:v=u.elementType;e:{switch(Op(s,u),s=u.pendingProps,_=v._init,v=_(v._payload),u.type=v,_=u.tag=rU(v),s=Pi(v,s),_){case 0:u=yb(null,u,v,s,h);break e;case 1:u=pj(null,u,v,s,h);break e;case 11:u=uj(null,u,v,s,h);break e;case 14:u=cj(null,u,v,Pi(v.type,s),h);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Pi(v,_),yb(s,u,v,_,h);case 1:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Pi(v,_),pj(s,u,v,_,h);case 3:e:{if(mj(u),s===null)throw Error(r(387));v=u.pendingProps,j=u.memoizedState,_=j.element,IP(s,u),Ep(u,v,null,h);var U=u.memoizedState;if(v=U.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){_=xu(Error(r(423)),u),u=gj(s,u,v,h,_);break e}else if(v!==_){_=xu(Error(r(424)),u),u=gj(s,u,v,h,_);break e}else for(Rn=Ao(u.stateNode.containerInfo.firstChild),On=u,Ft=!0,Ai=null,h=jP(u,null,v,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(mu(),v===_){u=Oa(s,u,h);break e}nn(s,u,v,h)}u=u.child}return u;case 5:return OP(u),s===null&&Gv(u),v=u.type,_=u.pendingProps,j=s!==null?s.memoizedProps:null,U=_.children,$v(v,_)?U=null:j!==null&&$v(v,j)&&(u.flags|=32),hj(s,u),nn(s,u,U,h),u.child;case 6:return s===null&&Gv(u),null;case 13:return yj(s,u,h);case 4:return tb(u,u.stateNode.containerInfo),v=u.pendingProps,s===null?u.child=gu(u,null,v,h):nn(s,u,v,h),u.child;case 11:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Pi(v,_),uj(s,u,v,_,h);case 7:return nn(s,u,u.pendingProps,h),u.child;case 8:return nn(s,u,u.pendingProps.children,h),u.child;case 12:return nn(s,u,u.pendingProps.children,h),u.child;case 10:e:{if(v=u.type._context,_=u.pendingProps,j=u.memoizedProps,U=_.value,kt(wp,v._currentValue),v._currentValue=U,j!==null)if(Ti(j.value,U)){if(j.children===_.children&&!hn.current){u=Oa(s,u,h);break e}}else for(j=u.child,j!==null&&(j.return=u);j!==null;){var B=j.dependencies;if(B!==null){U=j.child;for(var H=B.firstContext;H!==null;){if(H.context===v){if(j.tag===1){H=Na(-1,h&-h),H.tag=2;var ie=j.updateQueue;if(ie!==null){ie=ie.shared;var ye=ie.pending;ye===null?H.next=H:(H.next=ye.next,ye.next=H),ie.pending=H}}j.lanes|=h,H=j.alternate,H!==null&&(H.lanes|=h),Jv(j.return,h,u),B.lanes|=h;break}H=H.next}}else if(j.tag===10)U=j.type===u.type?null:j.child;else if(j.tag===18){if(U=j.return,U===null)throw Error(r(341));U.lanes|=h,B=U.alternate,B!==null&&(B.lanes|=h),Jv(U,h,u),U=j.sibling}else U=j.child;if(U!==null)U.return=j;else for(U=j;U!==null;){if(U===u){U=null;break}if(j=U.sibling,j!==null){j.return=U.return,U=j;break}U=U.return}j=U}nn(s,u,_.children,h),u=u.child}return u;case 9:return _=u.type,v=u.pendingProps.children,vu(u,h),_=Qn(_),v=v(_),u.flags|=1,nn(s,u,v,h),u.child;case 14:return v=u.type,_=Pi(v,u.pendingProps),_=Pi(v.type,_),cj(s,u,v,_,h);case 15:return dj(s,u,u.type,u.pendingProps,h);case 17:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Pi(v,_),Op(s,u),u.tag=1,pn(v)?(s=!0,mp(u)):s=!1,vu(u,h),rj(u,v,_),pb(u,v,_,h),vb(null,u,v,!0,s,h);case 19:return bj(s,u,h);case 22:return fj(s,u,h)}throw Error(r(156,u.tag))};function Bj(s,u){return Wl(s,u)}function tU(s,u,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(s,u,h,v){return new tU(s,u,h,v)}function $b(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rU(s){if(typeof s=="function")return $b(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===X)return 14}return 2}function Lo(s,u){var h=s.alternate;return h===null?(h=ei(s.tag,u,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=u,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,u=s.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function qp(s,u,h,v,_,j){var U=2;if(v=s,typeof s=="function")$b(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case P:return Xs(h.children,_,j,u);case C:U=8,_|=8;break;case R:return s=ei(12,h,u,_|2),s.elementType=R,s.lanes=j,s;case V:return s=ei(13,h,u,_),s.elementType=V,s.lanes=j,s;case q:return s=ei(19,h,u,_),s.elementType=q,s.lanes=j,s;case re:return Wp(h,_,j,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:U=10;break e;case L:U=9;break e;case $:U=11;break e;case X:U=14;break e;case te:U=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return u=ei(U,h,u,_),u.elementType=s,u.type=v,u.lanes=j,u}function Xs(s,u,h,v){return s=ei(7,s,v,u),s.lanes=h,s}function Wp(s,u,h,v){return s=ei(22,s,v,u),s.elementType=re,s.lanes=h,s.stateNode={isHidden:!1},s}function Vb(s,u,h){return s=ei(6,s,null,u),s.lanes=h,s}function Fb(s,u,h){return u=ei(4,s.children!==null?s.children:[],s.key,u),u.lanes=h,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function nU(s,u,h,v,_){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Ub(s,u,h,v,_,j,U,B,H){return s=new nU(s,u,h,B,H),u===1?(u=1,j===!0&&(u|=8)):u=0,j=ei(3,null,null,u),s.current=j,j.stateNode=s,j.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},eb(j),s}function iU(s,u,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:v==null?null:""+v,children:s,containerInfo:u,implementation:h}}function qj(s){if(!s)return jo;s=s._reactInternals;e:{if(vi(s)!==s||s.tag!==1)throw Error(r(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(pn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(pn(h))return vP(s,h,u)}return u}function Wj(s,u,h,v,_,j,U,B,H){return s=Ub(h,v,!0,s,_,j,U,B,H),s.context=qj(null),h=s.current,v=an(),_=Mo(h),j=Na(v,_),j.callback=u??null,Co(h,j,_),s.current.lanes=_,bo(s,_,v),yn(s,v),s}function Hp(s,u,h,v){var _=u.current,j=an(),U=Mo(_);return h=qj(h),u.context===null?u.context=h:u.pendingContext=h,u=Na(j,U),u.payload={element:s},v=v===void 0?null:v,v!==null&&(u.callback=v),s=Co(_,u,U),s!==null&&(Ii(s,_,U,j),Sp(s,_,U)),U}function Gp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Hj(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<u?h:u}}function zb(s,u){Hj(s,u),(s=s.alternate)&&Hj(s,u)}function aU(){return null}var Gj=typeof reportError=="function"?reportError:function(s){console.error(s)};function Bb(s){this._internalRoot=s}Kp.prototype.render=Bb.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));Hp(s,u,null,null)},Kp.prototype.unmount=Bb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Hs(function(){Hp(null,s,null,null)}),u[Pa]=null}};function Kp(s){this._internalRoot=s}Kp.prototype.unstable_scheduleHydration=function(s){if(s){var u=Kh();s={blockedOn:null,target:s,priority:u};for(var h=0;h<Hi.length&&u!==0&&u<Hi[h].priority;h++);Hi.splice(h,0,s),h===0&&Qh(s)}};function qb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Kj(){}function oU(s,u,h,v,_){if(_){if(typeof v=="function"){var j=v;v=function(){var ie=Gp(U);j.call(ie)}}var U=Wj(u,v,s,0,null,!1,!1,"",Kj);return s._reactRootContainer=U,s[Pa]=U.current,cd(s.nodeType===8?s.parentNode:s),Hs(),U}for(;_=s.lastChild;)s.removeChild(_);if(typeof v=="function"){var B=v;v=function(){var ie=Gp(H);B.call(ie)}}var H=Ub(s,0,!1,null,null,!1,!1,"",Kj);return s._reactRootContainer=H,s[Pa]=H.current,cd(s.nodeType===8?s.parentNode:s),Hs(function(){Hp(u,H,h,v)}),H}function Yp(s,u,h,v,_){var j=h._reactRootContainer;if(j){var U=j;if(typeof _=="function"){var B=_;_=function(){var H=Gp(U);B.call(H)}}Hp(u,U,s,_)}else U=oU(h,u,s,_,v);return Gp(U)}Hh=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var h=yo(u.pendingLanes);h!==0&&(xo(u,h|1),yn(u,jt()),(ct&6)===0&&(Su=jt()+500,ko()))}break;case 13:Hs(function(){var v=Ca(s,1);if(v!==null){var _=an();Ii(v,s,1,_)}}),zb(s,1)}},Kl=function(s){if(s.tag===13){var u=Ca(s,134217728);if(u!==null){var h=an();Ii(u,s,134217728,h)}zb(s,134217728)}},Gh=function(s){if(s.tag===13){var u=Mo(s),h=Ca(s,u);if(h!==null){var v=an();Ii(h,s,u,v)}zb(s,u)}},Kh=function(){return st},Xh=function(s,u){var h=st;try{return st=s,u()}finally{st=h}},Vl=function(s,u,h){switch(u){case"input":if(_t(s,h),u=h.name,h.type==="radio"&&u!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var v=h[u];if(v!==s&&v.form===s.form){var _=hp(v);if(!_)throw Error(r(90));pe(v),_t(v,_)}}}break;case"textarea":Nt(s,h);break;case"select":u=h.value,u!=null&&$t(s,!!h.multiple,u,!1)}},As=Mb,Wc=Hs;var sU={usingClientEntryPoint:!1,Events:[hd,cu,hp,qi,qc,Mb]},Pd={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lU={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Kc(s),s===null?null:s.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||aU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{Cs=Qp.inject(lU),kn=Qp}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sU,vn.createPortal=function(s,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qb(u))throw Error(r(200));return iU(s,u,null,h)},vn.createRoot=function(s,u){if(!qb(s))throw Error(r(299));var h=!1,v="",_=Gj;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=Ub(s,1,!1,null,null,h,!1,v,_),s[Pa]=u.current,cd(s.nodeType===8?s.parentNode:s),new Bb(u)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Kc(u),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return Hs(s)},vn.hydrate=function(s,u,h){if(!Xp(u))throw Error(r(200));return Yp(null,s,u,!0,h)},vn.hydrateRoot=function(s,u,h){if(!qb(s))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,_=!1,j="",U=Gj;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(U=h.onRecoverableError)),u=Wj(u,null,s,1,h??null,_,!1,j,U),s[Pa]=u.current,cd(s),v)for(s=0;s<v.length;s++)h=v[s],_=h._getVersion,_=_(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,_]:u.mutableSourceEagerHydrationData.push(h,_);return new Kp(u)},vn.render=function(s,u,h){if(!Xp(u))throw Error(r(200));return Yp(null,s,u,!1,h)},vn.unmountComponentAtNode=function(s){if(!Xp(s))throw Error(r(40));return s._reactRootContainer?(Hs(function(){Yp(null,null,s,!1,function(){s._reactRootContainer=null,s[Pa]=null})}),!0):!1},vn.unstable_batchedUpdates=Mb,vn.unstable_renderSubtreeIntoContainer=function(s,u,h,v){if(!Xp(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Yp(s,u,h,!1,v)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var rk;function d4(){if(rk)return Gb.exports;rk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=yU(),Gb.exports}var nk;function vU(){if(nk)return Zp;nk=1;var t=d4();return Zp.createRoot=t.createRoot,Zp.hydrateRoot=t.hydrateRoot,Zp}var bU=vU();d4();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}var Ko;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ko||(Ko={}));const ik="popstate";function xU(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:l="",hash:c=""}=Al(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),w1("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof a=="string"?a:Om(a))}function n(i,a){ty(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return _U(e,r,n,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ty(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wU(){return Math.random().toString(36).substr(2,8)}function ak(t,e){return{usr:t.state,key:t.key,idx:e}}function w1(t,e,r,n){return r===void 0&&(r=null),pf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Al(e):e,{state:r,key:e&&e.key||n||wU()})}function Om(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Al(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function _U(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Ko.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(pf({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=Ko.Pop;let b=p(),T=b==null?null:b-d;d=b,c&&c({action:l,location:w.location,delta:T})}function y(b,T){l=Ko.Push;let E=w1(w.location,b,T);r&&r(E,b),d=p()+1;let I=ak(E,d),N=w.createHref(E);try{o.pushState(I,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(N)}a&&c&&c({action:l,location:w.location,delta:1})}function x(b,T){l=Ko.Replace;let E=w1(w.location,b,T);r&&r(E,b),d=p();let I=ak(E,d),N=w.createHref(E);o.replaceState(I,"",N),a&&c&&c({action:l,location:w.location,delta:0})}function S(b){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:Om(b);return E=E.replace(/ $/,"%20"),Wt(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let w={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ik,m),c=b,()=>{i.removeEventListener(ik,m),c=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let T=S(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:x,go(b){return o.go(b)}};return w}var ok;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ok||(ok={}));function SU(t,e,r){return r===void 0&&(r="/"),EU(t,e,r)}function EU(t,e,r,n){let i=typeof e=="string"?Al(e):e,a=Gu(i.pathname||"/",r);if(a==null)return null;let o=f4(t);TU(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=DU(a);l=RU(o[c],d)}return l}function f4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Wt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Jo([n,c.relativePath]),p=r.concat(c);a.children&&a.children.length>0&&(Wt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),f4(a.children,e,p,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:NU(d,a.index),routesMeta:p})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of h4(a.path))i(a,o,c)}),e}function h4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=h4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function TU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:OU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AU=/^:[\w-]+$/,PU=3,jU=2,kU=1,IU=10,CU=-2,sk=t=>t==="*";function NU(t,e){let r=t.split("/"),n=r.length;return r.some(sk)&&(n+=CU),e&&(n+=jU),r.filter(i=>!sk(i)).reduce((i,a)=>i+(AU.test(a)?PU:a===""?kU:IU),n)}function OU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function RU(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=_1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Jo([a,m.pathname]),pathnameBase:UU(Jo([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Jo([a,m.pathnameBase]))}return o}function _1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=MU(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,p,m)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let w=l[m]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const S=l[m];return x&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function MU(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ty(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function DU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ty(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const LU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$U=t=>LU.test(t);function VU(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Al(t):t,a;if(r)if($U(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ty(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=lk(r.substring(1),"/"):a=lk(r,e)}else a=e;return{pathname:a,search:zU(n),hash:BU(i)}}function lk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Yb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function jE(t,e){let r=FU(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Al(t):(i=pf({},t),Wt(!i.pathname||!i.pathname.includes("?"),Yb("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),Yb("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),Yb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let c=VU(i,l),d=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Jo=t=>t.join("/").replace(/\/\/+/g,"/"),UU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const p4=["post","put","patch","delete"];new Set(p4);const WU=["get",...p4];new Set(WU);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}const ry=D.createContext(null),m4=D.createContext(null),so=D.createContext(null),ny=D.createContext(null),ga=D.createContext({outlet:null,matches:[],isDataRoute:!1}),g4=D.createContext(null);function HU(t,e){let{relative:r}=e===void 0?{}:e;Pc()||Wt(!1);let{basename:n,navigator:i}=D.useContext(so),{hash:a,pathname:o,search:l}=iy(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Jo([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Pc(){return D.useContext(ny)!=null}function Pl(){return Pc()||Wt(!1),D.useContext(ny).location}function y4(t){D.useContext(so).static||D.useLayoutEffect(t)}function ya(){let{isDataRoute:t}=D.useContext(ga);return t?sz():GU()}function GU(){Pc()||Wt(!1);let t=D.useContext(ry),{basename:e,future:r,navigator:n}=D.useContext(so),{matches:i}=D.useContext(ga),{pathname:a}=Pl(),o=JSON.stringify(jE(i,r.v7_relativeSplatPath)),l=D.useRef(!1);return y4(()=>{l.current=!0}),D.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=kE(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Jo([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,a,t])}const KU=D.createContext(null);function XU(t){let e=D.useContext(ga).outlet;return e&&D.createElement(KU.Provider,{value:t},e)}function v4(){let{matches:t}=D.useContext(ga),e=t[t.length-1];return e?e.params:{}}function iy(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(so),{matches:i}=D.useContext(ga),{pathname:a}=Pl(),o=JSON.stringify(jE(i,n.v7_relativeSplatPath));return D.useMemo(()=>kE(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function YU(t,e){return QU(t,e)}function QU(t,e,r,n){Pc()||Wt(!1);let{navigator:i}=D.useContext(so),{matches:a}=D.useContext(ga),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Pl(),p;if(e){var m;let b=typeof e=="string"?Al(e):e;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Wt(!1),p=b}else p=d;let y=p.pathname||"/",x=y;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=SU(t,{pathname:x}),w=rz(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Jo([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Jo([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&w?D.createElement(ny.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ko.Pop}},w):w}function JU(){let t=oz(),e=qU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const ZU=D.createElement(JU,null);class ez extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(ga.Provider,{value:this.props.routeContext},D.createElement(g4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tz(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(ry);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(ga.Provider,{value:e},n)}function rz(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||Wt(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:x}=r,S=m.route.loader&&y[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let x,S=!1,w=null,b=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||ZU,c&&(d<0&&y===0?(lz("route-fallback"),S=!0,b=null):d===y&&(S=!0,b=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,y+1)),E=()=>{let I;return x?I=w:S?I=b:m.route.Component?I=D.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=p,D.createElement(tz,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:r!=null},children:I})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?D.createElement(ez,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var b4=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(b4||{}),x4=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(x4||{});function nz(t){let e=D.useContext(ry);return e||Wt(!1),e}function iz(t){let e=D.useContext(m4);return e||Wt(!1),e}function az(t){let e=D.useContext(ga);return e||Wt(!1),e}function w4(t){let e=az(),r=e.matches[e.matches.length-1];return r.route.id||Wt(!1),r.route.id}function oz(){var t;let e=D.useContext(g4),r=iz(),n=w4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function sz(){let{router:t}=nz(b4.UseNavigateStable),e=w4(x4.UseNavigateStable),r=D.useRef(!1);return y4(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mf({fromRouteId:e},a)))},[t,e])}const uk={};function lz(t,e,r){uk[t]||(uk[t]=!0)}function uz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function S1(t){let{to:e,replace:r,state:n,relative:i}=t;Pc()||Wt(!1);let{future:a,static:o}=D.useContext(so),{matches:l}=D.useContext(ga),{pathname:c}=Pl(),d=ya(),p=kE(e,jE(l,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return D.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:i}),[d,m,i,r,n]),null}function _4(t){return XU(t.context)}function vr(t){Wt(!1)}function cz(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ko.Pop,navigator:a,static:o=!1,future:l}=t;Pc()&&Wt(!1);let c=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:a,static:o,future:mf({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Al(n));let{pathname:p="/",search:m="",hash:y="",state:x=null,key:S="default"}=n,w=D.useMemo(()=>{let b=Gu(p,c);return b==null?null:{location:{pathname:b,search:m,hash:y,state:x,key:S},navigationType:i}},[c,p,m,y,x,S,i]);return w==null?null:D.createElement(so.Provider,{value:d},D.createElement(ny.Provider,{children:r,value:w}))}function dz(t){let{children:e,location:r}=t;return YU(E1(e),r)}new Promise(()=>{});function E1(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,E1(n.props.children,a));return}n.type!==vr&&Wt(!1),!n.props.index||!n.props.children||Wt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=E1(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}function S4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hz(t,e){return t.button===0&&(!e||e==="_self")&&!fz(t)}const pz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gz="6";try{window.__reactRouterVersion=gz}catch{}const yz=D.createContext({isTransitioning:!1}),vz="startTransition",ck=pU[vz];function bz(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=xU({window:i,v5Compat:!0}));let o=a.current,[l,c]=D.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},p=D.useCallback(m=>{d&&ck?ck(()=>c(m)):c(m)},[c,d]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.useEffect(()=>uz(n),[n]),D.createElement(cz,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const xz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:m}=e,y=S4(e,pz),{basename:x}=D.useContext(so),S,w=!1;if(typeof d=="string"&&wz.test(d)&&(S=d,xz))try{let I=new URL(window.location.href),N=d.startsWith("//")?new URL(I.protocol+d):new URL(d),k=Gu(N.pathname,x);N.origin===I.origin&&k!=null?d=k+N.search+N.hash:w=!0}catch{}let b=HU(d,{relative:i}),T=Sz(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function E(I){n&&n(I),I.defaultPrevented||T(I)}return D.createElement("a",Rm({},y,{href:S||b,onClick:w||a?n:E,ref:r,target:c}))}),wm=D.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p}=e,m=S4(e,mz),y=iy(c,{relative:m.relative}),x=Pl(),S=D.useContext(m4),{navigator:w,basename:b}=D.useContext(so),T=S!=null&&Ez(y)&&d===!0,E=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,I=x.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(I=I.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&b&&(N=Gu(N,b)||N);const k=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=I===E||!o&&I.startsWith(E)&&I.charAt(k)==="/",P=N!=null&&(N===E||!o&&N.startsWith(E)&&N.charAt(E.length)==="/"),C={isActive:O,isPending:P,isTransitioning:T},R=O?n:void 0,F;typeof a=="function"?F=a(C):F=[a,O?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(C):l;return D.createElement(Fn,Rm({},m,{"aria-current":R,className:F,ref:r,style:L,to:c,viewTransition:d}),typeof p=="function"?p(C):p)});var T1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(T1||(T1={}));var dk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dk||(dk={}));function _z(t){let e=D.useContext(ry);return e||Wt(!1),e}function Sz(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=ya(),d=Pl(),p=iy(t,{relative:o});return D.useCallback(m=>{if(hz(m,r)){m.preventDefault();let y=n!==void 0?n:Om(d)===Om(p);c(t,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,p,n,i,r,t,a,o,l])}function Ez(t,e){e===void 0&&(e={});let r=D.useContext(yz);r==null&&Wt(!1);let{basename:n}=_z(T1.useViewTransitionState),i=iy(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Gu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Gu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _1(i.pathname,o)!=null||_1(i.pathname,a)!=null}const Tz=()=>{};var fk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Az=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},T4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=a>>2,m=(a&3)<<4|l>>4;let y=(l&15)<<2|d>>6,x=d&63;c||(x=64,o||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Az(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new Pz;const y=a<<2|l>>4;if(n.push(y),d!==64){const x=l<<4&240|d>>2;if(n.push(x),m!==64){const S=d<<6&192|m;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jz=function(t){const e=E4(t);return T4.encodeByteArray(e,!0)},Mm=function(t){return jz(t).replace(/\./g,"")},A4=function(t){try{return T4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=()=>kz().__FIREBASE_DEFAULTS__,Cz=()=>{if(typeof process>"u"||typeof fk>"u")return;const t=fk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&A4(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return Tz()||Iz()||Cz()||Nz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P4=t=>{var e,r;return(r=(e=ay())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Oz=t=>{const e=P4(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},j4=()=>{var t;return(t=ay())===null||t===void 0?void 0:t.config},k4=t=>{var e;return(e=ay())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mm(JSON.stringify(r)),Mm(JSON.stringify(o)),""].join(".")}const Jd={};function Dz(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jd))Jd[e]?t.emulator.push(e):t.prod.push(e);return t}function Lz(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let hk=!1;function C4(t,e){if(typeof window>"u"||typeof document>"u"||!jc(window.location.host)||Jd[t]===e||Jd[t]||hk)return;Jd[t]=e;function r(y){return`__firebase__banner__${y}`}const n="__firebase__banner",a=Dz().prod.length>0;function o(){const y=document.getElementById(n);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{hk=!0,o()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=Lz(n),x=r("text"),S=document.getElementById(x)||document.createElement("span"),w=r("learnmore"),b=document.getElementById(w)||document.createElement("a"),T=r("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;l(I),p(b,w);const N=d();c(E,T),I.append(E,S,b,N),document.body.appendChild(I)}a?(S.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Vz(){var t;const e=(t=ay())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Uz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bz(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qz(){return!Vz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wz(){try{return typeof indexedDB=="object"}catch{return!1}}function Hz(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="FirebaseError";class lo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Gz,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Kz(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new lo(i,l,n)}}function Kz(t,e){return t.replace(Xz,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Xz=/\{\$([^}]+)}/g;function Yz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qa(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(pk(a)&&pk(o)){if(!Qa(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function pk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function zd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Qz(t,e){const r=new Jz(t,e);return r.subscribe.bind(r)}class Jz{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Zz(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Qb),i.error===void 0&&(i.error=Qb),i.complete===void 0&&(i.complete=Qb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zz(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Qb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class ml{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Rz;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rB(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:tB(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tB(t){return t===el?void 0:t}function rB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new eB(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const iB={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},aB=at.INFO,oB={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},sB=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=oB[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class IE{constructor(e){this.name=e,this._logLevel=aB,this._logHandler=sB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const lB=(t,e)=>e.some(r=>t instanceof r);let mk,gk;function uB(){return mk||(mk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cB(){return gk||(gk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N4=new WeakMap,A1=new WeakMap,O4=new WeakMap,Jb=new WeakMap,CE=new WeakMap;function dB(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Zo(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&N4.set(r,t)}).catch(()=>{}),CE.set(e,t),e}function fB(t){if(A1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});A1.set(t,e)}let P1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return A1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Zo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hB(t){P1=t(P1)}function pB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Zb(this),e,...r);return O4.set(n,e.sort?e.sort():[e]),Zo(n)}:cB().includes(t)?function(...e){return t.apply(Zb(this),e),Zo(N4.get(this))}:function(...e){return Zo(t.apply(Zb(this),e))}}function mB(t){return typeof t=="function"?pB(t):(t instanceof IDBTransaction&&fB(t),lB(t,uB())?new Proxy(t,P1):t)}function Zo(t){if(t instanceof IDBRequest)return dB(t);if(Jb.has(t))return Jb.get(t);const e=mB(t);return e!==t&&(Jb.set(t,e),CE.set(e,t)),e}const Zb=t=>CE.get(t);function gB(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Zo(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Zo(o.result),c.oldVersion,c.newVersion,Zo(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const yB=["get","getKey","getAll","getAllKeys","count"],vB=["put","add","delete","clear"],ex=new Map;function yk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ex.get(e))return ex.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=vB.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||yB.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return ex.set(e,a),a}hB(t=>({...t,get:(e,r,n)=>yk(e,r)||t.get(e,r,n),has:(e,r)=>!!yk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(xB(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function xB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j1="@firebase/app",vk="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new IE("@firebase/app"),wB="@firebase/app-compat",_B="@firebase/analytics-compat",SB="@firebase/analytics",EB="@firebase/app-check-compat",TB="@firebase/app-check",AB="@firebase/auth",PB="@firebase/auth-compat",jB="@firebase/database",kB="@firebase/data-connect",IB="@firebase/database-compat",CB="@firebase/functions",NB="@firebase/functions-compat",OB="@firebase/installations",RB="@firebase/installations-compat",MB="@firebase/messaging",DB="@firebase/messaging-compat",LB="@firebase/performance",$B="@firebase/performance-compat",VB="@firebase/remote-config",FB="@firebase/remote-config-compat",UB="@firebase/storage",zB="@firebase/storage-compat",BB="@firebase/firestore",qB="@firebase/ai",WB="@firebase/firestore-compat",HB="firebase",GB="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="[DEFAULT]",KB={[j1]:"fire-core",[wB]:"fire-core-compat",[SB]:"fire-analytics",[_B]:"fire-analytics-compat",[TB]:"fire-app-check",[EB]:"fire-app-check-compat",[AB]:"fire-auth",[PB]:"fire-auth-compat",[jB]:"fire-rtdb",[kB]:"fire-data-connect",[IB]:"fire-rtdb-compat",[CB]:"fire-fn",[NB]:"fire-fn-compat",[OB]:"fire-iid",[RB]:"fire-iid-compat",[MB]:"fire-fcm",[DB]:"fire-fcm-compat",[LB]:"fire-perf",[$B]:"fire-perf-compat",[VB]:"fire-rc",[FB]:"fire-rc-compat",[UB]:"fire-gcs",[zB]:"fire-gcs-compat",[BB]:"fire-fst",[WB]:"fire-fst-compat",[qB]:"fire-vertex","fire-js":"fire-js",[HB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map,XB=new Map,I1=new Map;function bk(t,e){try{t.container.addComponent(e)}catch(r){Ja.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ku(t){const e=t.name;if(I1.has(e))return Ja.debug(`There were multiple attempts to register component ${e}.`),!1;I1.set(e,t);for(const r of Dm.values())bk(r,t);for(const r of XB.values())bk(r,t);return!0}function NE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new ch("app","Firebase",YB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=GB;function R4(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:k1,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(r||(r=j4()),!r)throw es.create("no-options");const a=Dm.get(i);if(a){if(Qa(r,a.options)&&Qa(n,a.config))return a;throw es.create("duplicate-app",{appName:i})}const o=new nB(i);for(const c of I1.values())o.addComponent(c);const l=new QB(r,n,o);return Dm.set(i,l),l}function M4(t=k1){const e=Dm.get(t);if(!e&&t===k1&&j4())return R4();if(!e)throw es.create("no-app",{appName:t});return e}function ts(t,e,r){var n;let i=(n=KB[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ja.warn(l.join(" "));return}Ku(new ml(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="firebase-heartbeat-database",ZB=1,gf="firebase-heartbeat-store";let tx=null;function D4(){return tx||(tx=gB(JB,ZB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gf)}catch(r){console.warn(r)}}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),tx}async function e9(t){try{const r=(await D4()).transaction(gf),n=await r.objectStore(gf).get(L4(t));return await r.done,n}catch(e){if(e instanceof lo)Ja.warn(e.message);else{const r=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ja.warn(r.message)}}}async function xk(t,e){try{const n=(await D4()).transaction(gf,"readwrite");await n.objectStore(gf).put(e,L4(t)),await n.done}catch(r){if(r instanceof lo)Ja.warn(r.message);else{const n=es.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ja.warn(n.message)}}}function L4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=1024,r9=30;class n9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new a9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=wk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>r9){const o=o9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ja.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=wk(),{heartbeatsToSend:n,unsentEntries:i}=i9(this._heartbeatsCache.heartbeats),a=Mm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ja.warn(r),""}}}function wk(){return new Date().toISOString().substring(0,10)}function i9(t,e=t9){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),_k(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),_k(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class a9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wz()?Hz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await e9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return xk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return xk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _k(t){return Mm(JSON.stringify({version:2,heartbeats:t})).length}function o9(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){Ku(new ml("platform-logger",e=>new bB(e),"PRIVATE")),Ku(new ml("heartbeat",e=>new n9(e),"PRIVATE")),ts(j1,vk,t),ts(j1,vk,"esm2017"),ts("fire-js","")}s9("");function OE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function $4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l9=$4,V4=new ch("auth","Firebase",$4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new IE("@firebase/auth");function u9(t,...e){Lm.logLevel<=at.WARN&&Lm.warn(`Auth (${kc}): ${t}`,...e)}function _m(t,...e){Lm.logLevel<=at.ERROR&&Lm.error(`Auth (${kc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw ME(t,...e)}function Di(t,...e){return ME(t,...e)}function RE(t,e,r){const n=Object.assign(Object.assign({},l9()),{[e]:r});return new ch("auth","Firebase",n).create(e,{appName:t.name})}function ia(t){return RE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F4(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ci(t,"argument-error"),RE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ME(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return V4.create(t,...e)}function ze(t,e,...r){if(!t)throw ME(e,...r)}function Ua(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _m(e),new Error(e)}function Za(t,e){t||Ua(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c9(){return Sk()==="http:"||Sk()==="https:"}function Sk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c9()||Uz()||"connection"in navigator)?navigator.onLine:!0}function f9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Za(r>e,"Short delay should be less than long delay!"),this.isMobile=$z()||zz()}get(){return d9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){Za(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m9=new fh(3e4,6e4);function uo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fi(t,e,r,n,i={}){return z4(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=dh(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return Fz()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&jc(t.emulatorConfig.host)&&(d.credentials="include"),U4.fetch()(await B4(t,t.config.apiHost,r,l),d)})}async function z4(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},h9),e);try{const i=new y9(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw em(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw em(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw em(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw em(t,"user-disabled",o);const p=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw RE(t,p,d);ci(t,p)}}catch(i){if(i instanceof lo)throw i;ci(t,"network-request-failed",{message:String(i)})}}async function hh(t,e,r,n,i={}){const a=await Fi(t,e,r,n,i);return"mfaPendingCredential"in a&&ci(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function B4(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?DE(t.config,i):`${t.config.apiScheme}://${i}`;return p9.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function g9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Di(this.auth,"network-request-failed")),m9.get())})}}function em(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Di(t,e,n);return i.customData._tokenResponse=r,i}function Ek(t){return t!==void 0&&t.enterprise!==void 0}class v9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return g9(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function b9(t,e){return Fi(t,"GET","/v2/recaptchaConfig",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function $m(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w9(t,e=!1){const r=Pt(t),n=await r.getIdToken(e),i=LE(n);ze(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Zd(rx(i.auth_time)),issuedAtTime:Zd(rx(i.iat)),expirationTime:Zd(rx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rx(t){return Number(t)*1e3}function LE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const i=A4(r);return i?JSON.parse(i):(_m("Failed to decode base64 JWT payload"),null)}catch(i){return _m("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Tk(t){const e=LE(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof lo&&_9(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function _9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zd(this.lastLoginAt),this.creationTime=Zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t){var e;const r=t.auth,n=await t.getIdToken(),i=await gl(t,$m(r,{idToken:n}));ze(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?q4(a.providerUserInfo):[],l=T9(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),p=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new N1(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function E9(t){const e=Pt(t);await yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T9(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function q4(t){return t.map(e=>{var{providerId:r}=e,n=OE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){const r=await z4(t,{},async()=>{const n=dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await B4(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&jc(t.emulatorConfig.host)&&(c.credentials="include"),U4.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function P9(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const r=Tk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await A9(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new $u;return n&&(ze(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return Ua("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=OE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new N1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await gl(this,this.stsTokenManager.getToken(this.auth,e));return ze(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return w9(this,e)}reload(){return E9(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await yf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await gl(this,x9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,l,c,d,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(l=r.tenantId)!==null&&l!==void 0?l:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,T=(d=r.createdAt)!==null&&d!==void 0?d:void 0,E=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:I,emailVerified:N,isAnonymous:k,providerData:O,stsTokenManager:P}=r;ze(I&&P,e,"internal-error");const C=$u.fromJSON(this.name,P);ze(typeof I=="string",e,"internal-error"),Vo(m,e.name),Vo(y,e.name),ze(typeof N=="boolean",e,"internal-error"),ze(typeof k=="boolean",e,"internal-error"),Vo(x,e.name),Vo(S,e.name),Vo(w,e.name),Vo(b,e.name),Vo(T,e.name),Vo(E,e.name);const R=new Ri({uid:I,auth:e,email:y,emailVerified:N,displayName:m,isAnonymous:k,photoURL:S,phoneNumber:x,tenantId:w,stsTokenManager:C,createdAt:T,lastLoginAt:E});return O&&Array.isArray(O)&&(R.providerData=O.map(F=>Object.assign({},F))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new $u;i.updateFromServerResponse(r);const a=new Ri({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await yf(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?q4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new $u;l.updateFromIdToken(n);const c=new Ri({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new N1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Map;function za(t){Za(t instanceof Function,"Expected a class definition");let e=Ak.get(t);return e?(Za(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ak.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}W4.type="NONE";const Pk=W4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e,r){return`firebase:${t}:${e}:${r}`}class Vu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Sm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Sm("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await $m(this.auth,{idToken:e}).catch(()=>{});return r?Ri._fromGetAccountInfoResponse(this.auth,r,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Vu(za(Pk),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||za(Pk);const o=Sm(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const p=await d._get(o);if(p){let m;if(typeof p=="string"){const y=await $m(e,{idToken:p}).catch(()=>{});if(!y)break;m=await Ri._fromGetAccountInfoResponse(e,y,p)}else m=Ri._fromJSON(e,p);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Vu(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Vu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q4(e))return"Blackberry";if(J4(e))return"Webos";if(G4(e))return"Safari";if((e.includes("chrome/")||K4(e))&&!e.includes("edge/"))return"Chrome";if(Y4(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function H4(t=en()){return/firefox\//i.test(t)}function G4(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K4(t=en()){return/crios\//i.test(t)}function X4(t=en()){return/iemobile/i.test(t)}function Y4(t=en()){return/android/i.test(t)}function Q4(t=en()){return/blackberry/i.test(t)}function J4(t=en()){return/webos/i.test(t)}function $E(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j9(t=en()){var e;return $E(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k9(){return Bz()&&document.documentMode===10}function Z4(t=en()){return $E(t)||Y4(t)||J4(t)||Q4(t)||/windows phone/i.test(t)||X4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e=[]){let r;switch(t){case"Browser":r=jk(en());break;case"Worker":r=`${jk(en())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${kc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=6;class O9{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:N9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kk(this),this.idTokenSubscription=new kk(this),this.beforeStateQueue=new I9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=za(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Vu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await $m(this,{idToken:e}),n=await Ri._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await yf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(ia(this));const r=e?Pt(e):null;return r&&ze(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(za(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C9(this),r=new O9(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ch("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await P9(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&za(e)||this._popupRedirectResolver;ze(r,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[za(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&u9(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function co(t){return Pt(t)}class kk{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qz(r=>this.observer=r)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M9(t){oy=t}function tL(t){return oy.loadJS(t)}function D9(){return oy.recaptchaEnterpriseScript}function L9(){return oy.gapiScript}function $9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class V9{constructor(){this.enterprise=new F9}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class F9{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const U9="recaptcha-enterprise",rL="NO_RECAPTCHA";class z9{constructor(e){this.type=U9,this.auth=co(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{b9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new v9(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;Ek(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(rL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new V9().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&Ek(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=D9();c.length!==0&&(c+=l),tL(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Ik(t,e,r,n=!1,i=!1){const a=new z9(t);let o;if(i)o=rL;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Vm(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ik(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ik(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t,e){const r=NE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Qa(a,e??{}))return i;ci(i,"already-initialized")}return r.initialize({options:e})}function q9(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(za);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function W9(t,e,r){const n=co(t);ze(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=nL(e),{host:o,port:l}=H9(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},p=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ze(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ze(Qa(d,n.config.emulator)&&Qa(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,jc(o)?(I4(`${a}//${o}${c}`),C4("Auth",!0)):G9()}function nL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H9(t){const e=nL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Ck(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Ck(o)}}}function Ck(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G9(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ua("not implemented")}_getIdTokenResponse(e){return Ua("not implemented")}_linkToIdToken(e,r){return Ua("not implemented")}_getReauthenticationResolver(e){return Ua("not implemented")}}async function K9(t,e){return Fi(t,"POST","/v1/accounts:update",e)}async function X9(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e){return hh(t,"POST","/v1/accounts:signInWithPassword",uo(t,e))}async function Q9(t,e){return Fi(t,"POST","/v1/accounts:sendOobCode",uo(t,e))}async function J9(t,e){return Q9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",uo(t,e))}async function e8(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends VE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new vf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new vf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,r,"signInWithPassword",Y9);case"emailLink":return Z9(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signUpPassword",X9);case"emailLink":return e8(e,{idToken:r,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e){return hh(t,"POST","/v1/accounts:signInWithIdp",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="http://localhost";class yl extends VE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ci("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=OE(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new yl(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Fu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Fu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Fu(e,r)}buildRequest(){const e={requestUri:t8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=dh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n8(t){const e=Ud(zd(t)).link,r=e?Ud(zd(e)).deep_link_id:null,n=Ud(zd(t)).deep_link_id;return(n?Ud(zd(n)).link:null)||n||r||e||t}class FE{constructor(e){var r,n,i,a,o,l;const c=Ud(zd(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,p=(n=c.oobCode)!==null&&n!==void 0?n:null,m=r8((i=c.mode)!==null&&i!==void 0?i:null);ze(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=n8(e);try{return new FE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,r){return vf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=FE.parseLink(r);return ze(n,"argument-error"),vf._fromEmailAndCode(e,n.code,n.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends ph{constructor(){super("facebook.com")}static credential(e){return yl._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return yl._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ra.credential(r,n)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends ph{constructor(){super("github.com")}static credential(e){return yl._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.GITHUB_SIGN_IN_METHOD="github.com";Wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends ph{constructor(){super("twitter.com")}static credential(e,r){return yl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ho.credential(r,n)}catch{return null}}}Ho.TWITTER_SIGN_IN_METHOD="twitter.com";Ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t,e){return hh(t,"POST","/v1/accounts:signUp",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ri._fromIdTokenResponse(e,n,i),o=Nk(n);return new vl({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Nk(n);return new vl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Nk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends lo{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Fm(e,r,n,i)}}function iL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,a,e,n):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function aL(t,e,r=!1){const n=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return vl._forOperation(t,"link",n)}async function o8(t,e,r){await yf(e);const n=a8(e.providerData);ze(n.has(r)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e,r=!1){const{auth:n}=t;if(wn(n.app))return Promise.reject(ia(n));const i="reauthenticate";try{const a=await gl(t,iL(n,i,e,t),r);ze(a.idToken,n,"internal-error");const o=LE(a.idToken);ze(o,n,"internal-error");const{sub:l}=o;return ze(t.uid===l,n,"user-mismatch"),vl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ci(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e,r=!1){if(wn(t.app))return Promise.reject(ia(t));const n="signIn",i=await iL(t,n,e),a=await vl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function s8(t,e){return sL(co(t),e)}async function l8(t,e){const r=Pt(t);return await o8(!1,r,e.providerId),aL(r,e)}async function Ok(t,e){return oL(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t){const e=co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u8(t,e,r){const n=co(t);await Vm(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",J9)}async function c8(t,e,r){if(wn(t.app))return Promise.reject(ia(t));const n=co(t),o=await Vm(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i8).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&lL(t),c}),l=await vl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function d8(t,e,r){return wn(t.app)?Promise.reject(ia(t)):s8(Pt(t),Ha.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&lL(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e){return Fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Pt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await gl(n,f8(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function h8(t,e){const r=Pt(t);return wn(r.auth.app)?Promise.reject(ia(r.auth)):uL(r,e,null)}function p8(t,e){return uL(Pt(t),null,e)}async function uL(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const o=await gl(t,K9(n,a));await t._updateTokensIfNecessary(o,!0)}function m8(t,e,r,n){return Pt(t).onIdTokenChanged(e,r,n)}function g8(t,e,r){return Pt(t).beforeAuthStateChanged(e,r)}function y8(t,e,r,n){return Pt(t).onAuthStateChanged(e,r,n)}function v8(t){return Pt(t).signOut()}const Um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=1e3,x8=10;class dL extends cL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);k9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x8):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},b8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}dL.type="LOCAL";const w8=dL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL extends cL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}fL.type="SESSION";const hL=fL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ly(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,a)),c=await _8(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=UE("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(){return window}function E8(t){aa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){return typeof aa().WorkerGlobalScope<"u"&&typeof aa().importScripts=="function"}async function T8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function P8(){return pL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="firebaseLocalStorageDb",j8=1,zm="firebaseLocalStorage",gL="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function uy(t,e){return t.transaction([zm],e?"readwrite":"readonly").objectStore(zm)}function k8(){const t=indexedDB.deleteDatabase(mL);return new mh(t).toPromise()}function O1(){const t=indexedDB.open(mL,j8);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(zm,{keyPath:gL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(zm)?e(n):(n.close(),await k8(),e(await O1()))})})}async function Mk(t,e,r){const n=uy(t,!0).put({[gL]:e,value:r});return new mh(n).toPromise()}async function I8(t,e){const r=uy(t,!1).get(e),n=await new mh(r).toPromise();return n===void 0?null:n.value}function Dk(t,e){const r=uy(t,!0).delete(e);return new mh(r).toPromise()}const C8=800,N8=3;class yL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>N8)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(P8()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await T8(),!this.activeServiceWorker)return;this.sender=new S8(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O1();return await Mk(e,Um,"1"),await Dk(e,Um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>I8(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dk(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=uy(i,!1).getAll();return new mh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yL.type="LOCAL";const O8=yL;new fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){return e?za(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends VE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Fu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function R8(t){return sL(t.auth,new BE(t),t.bypassAuthState)}function M8(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),oL(r,new BE(t),t.bypassAuthState)}async function D8(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),aL(r,new BE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R8;case"linkViaPopup":case"linkViaRedirect":return D8;case"reauthViaPopup":case"reauthViaRedirect":return M8;default:ci(this.auth,"internal-error")}}resolve(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=new fh(2e3,1e4);async function $8(t,e,r){if(wn(t.app))return Promise.reject(Di(t,"operation-not-supported-in-this-environment"));const n=co(t);F4(t,e,sy);const i=zE(n,r);return new Xo(n,"signInViaPopup",e,i).executeNotNull()}async function V8(t,e,r){const n=Pt(t);F4(n.auth,e,sy);const i=zE(n.auth,r);return new Xo(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class Xo extends vL{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Za(this.filter.length===1,"Popup operations only handle one event");const e=UE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L8.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="pendingRedirect",Em=new Map;class U8 extends vL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const n=await z8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z8(t,e){const r=W8(e),n=q8(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function B8(t,e){Em.set(t._key(),e)}function q8(t){return za(t._redirectPersistence)}function W8(t){return Sm(F8,t.config.apiKey,t.name)}async function H8(t,e,r=!1){if(wn(t.app))return Promise.reject(ia(t));const n=co(t),i=zE(n,e),o=await new U8(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=600*1e3;class K8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X8(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!bL(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Di(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lk(e))}saveEventToCache(e){this.cachedEventUids.add(Lk(e)),this.lastProcessedEventTime=Date.now()}}function Lk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J8=/^https?/;async function Z8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y8(t);for(const r of e)try{if(eq(r))return}catch{}ci(t,"unauthorized-domain")}function eq(t){const e=C1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!J8.test(r))return!1;if(Q8.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new fh(3e4,6e4);function $k(){const t=aa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function rq(t){return new Promise((e,r)=>{var n,i,a;function o(){$k(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$k(),r(Di(t,"network-request-failed"))},timeout:tq.get()})}if(!((i=(n=aa().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=aa().gapi)===null||a===void 0)&&a.load)o();else{const l=$9("iframefcb");return aa()[l]=()=>{gapi.load?o():r(Di(t,"network-request-failed"))},tL(`${L9()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Tm=null,e})}let Tm=null;function nq(t){return Tm=Tm||rq(t),Tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new fh(5e3,15e3),aq="__/auth/iframe",oq="emulator/auth/iframe",sq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uq(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?DE(e,oq):`https://${t.config.authDomain}/${aq}`,n={apiKey:e.apiKey,appName:t.name,v:kc},i=lq.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${dh(n).slice(1)}`}async function cq(t){const e=await nq(t),r=aa().gapi;return ze(r,t,"internal-error"),e.open({where:document.body,url:uq(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sq,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Di(t,"network-request-failed"),l=aa().setTimeout(()=>{a(o)},iq.get());function c(){aa().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fq=500,hq=600,pq="_blank",mq="http://localhost";class Vk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gq(t,e,r,n=fq,i=hq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},dq),{width:n.toString(),height:i.toString(),top:a,left:o}),d=en().toLowerCase();r&&(l=K4(d)?pq:r),H4(d)&&(e=e||mq,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(j9(d)&&l!=="_self")return yq(e||"",l),new Vk(null);const m=window.open(e||"",l,p);ze(m,t,"popup-blocked");try{m.focus()}catch{}return new Vk(m)}function yq(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq="__/auth/handler",bq="emulator/auth/handler",xq=encodeURIComponent("fac");async function Fk(t,e,r,n,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:kc,eventId:i};if(e instanceof sy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Yz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof ph){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),d=c?`#${xq}=${encodeURIComponent(c)}`:"";return`${wq(t)}?${dh(l).slice(1)}${d}`}function wq({config:t}){return t.emulator?DE(t,bq):`https://${t.authDomain}/${vq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="webStorageSupport";class _q{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hL,this._completeRedirectFn=H8,this._overrideRedirectResult=B8}async _openPopup(e,r,n,i){var a;Za((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Fk(e,r,n,C1(),i);return gq(e,o,UE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await Fk(e,r,n,C1(),i);return E8(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Za(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await cq(e),n=new K8(e);return r.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(nx,{type:nx},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[nx];o!==void 0&&r(!!o),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Z8(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Z4()||G4()||$E()}}const Sq=_q;var Uk="@firebase/auth",zk="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aq(t){Ku(new ml("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eL(t)},d=new R9(n,i,a,c);return q9(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ku(new ml("auth-internal",e=>{const r=co(e.getProvider("auth").getImmediate());return(n=>new Eq(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Uk,zk,Tq(t)),ts(Uk,zk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=300,jq=k4("authIdTokenMaxAge")||Pq;let Bk=null;const kq=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>jq)return;const i=r==null?void 0:r.token;Bk!==i&&(Bk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Iq(t=M4()){const e=NE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=B9(t,{popupRedirectResolver:Sq,persistence:[O8,w8,hL]}),n=k4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=kq(a.toString());g8(r,o,()=>o(r.currentUser)),m8(r,l=>o(l))}}const i=P4("auth");return i&&W9(r,`http://${i}`),r}function Cq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M9({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Di("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Cq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aq("Browser");var Nq="firebase",Oq="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(Nq,Oq,"app");var qk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,xL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function R(){}R.prototype=C.prototype,P.D=C.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(F,L,$){for(var V=Array(arguments.length-2),q=2;q<arguments.length;q++)V[q-2]=arguments[q];return C.prototype[L].apply(F,V)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,R){R||(R=0);var F=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)F[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;16>L;++L)F[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=P.g[0],R=P.g[1],L=P.g[2];var $=P.g[3],V=C+($^R&(L^$))+F[0]+3614090360&4294967295;C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[1]+3905402710&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[2]+606105819&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[3]+3250441966&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+($^R&(L^$))+F[4]+4118548399&4294967295,C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[5]+1200080426&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[6]+2821735955&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[7]+4249261313&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+($^R&(L^$))+F[8]+1770035416&4294967295,C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[9]+2336552879&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[10]+4294925233&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[11]+2304563134&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+($^R&(L^$))+F[12]+1804603682&4294967295,C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[13]+4254626195&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[14]+2792965006&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[15]+1236535329&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+(L^$&(R^L))+F[1]+4129170786&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[6]+3225465664&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[11]+643717713&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[0]+3921069994&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(L^$&(R^L))+F[5]+3593408605&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[10]+38016083&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[15]+3634488961&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[4]+3889429448&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(L^$&(R^L))+F[9]+568446438&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[14]+3275163606&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[3]+4107603335&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[8]+1163531501&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(L^$&(R^L))+F[13]+2850285829&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[2]+4243563512&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[7]+1735328473&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[12]+2368359562&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(R^L^$)+F[5]+4294588738&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[8]+2272392833&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[11]+1839030562&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[14]+4259657740&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(R^L^$)+F[1]+2763975236&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[4]+1272893353&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[7]+4139469664&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[10]+3200236656&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(R^L^$)+F[13]+681279174&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[0]+3936430074&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[3]+3572445317&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[6]+76029189&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(R^L^$)+F[9]+3654602809&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[12]+3873151461&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[15]+530742520&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[2]+3299628645&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(L^(R|~$))+F[0]+4096336452&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[7]+1126891415&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[14]+2878612391&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[5]+4237533241&4294967295,R=L+(V<<21&4294967295|V>>>11),V=C+(L^(R|~$))+F[12]+1700485571&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[3]+2399980690&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[10]+4293915773&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[1]+2240044497&4294967295,R=L+(V<<21&4294967295|V>>>11),V=C+(L^(R|~$))+F[8]+1873313359&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[15]+4264355552&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[6]+2734768916&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[13]+1309151649&4294967295,R=L+(V<<21&4294967295|V>>>11),V=C+(L^(R|~$))+F[4]+4149444226&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[11]+3174756917&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[2]+718787259&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+$&4294967295}n.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var R=C-this.blockSize,F=this.B,L=this.h,$=0;$<C;){if(L==0)for(;$<=R;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<C;)if(F[L++]=P.charCodeAt($++),L==this.blockSize){i(this,F),L=0;break}}else for(;$<C;)if(F[L++]=P[$++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=C},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var R=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=R&255,R/=256;for(this.u(P),P=Array(16),C=R=0;4>C;++C)for(var F=0;32>F;F+=8)P[R++]=this.g[C]>>>F&255;return P};function a(P,C){var R=l;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=C(P)}function o(P,C){this.h=C;for(var R=[],F=!0,L=P.length-1;0<=L;L--){var $=P[L]|0;F&&$==C||(R[L]=$,F=!1)}this.g=R}var l={};function c(P){return-128<=P&&128>P?a(P,function(C){return new o([C|0],0>C?-1:0)}):new o([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return b(d(-P));for(var C=[],R=1,F=0;P>=R;F++)C[F]=P/R|0,R*=4294967296;return new o(C,0)}function p(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return b(p(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(C,8)),F=m,L=0;L<P.length;L+=8){var $=Math.min(8,P.length-L),V=parseInt(P.substring(L,L+$),C);8>$?($=d(Math.pow(C,$)),F=F.j($).add(d(V))):(F=F.j(R),F=F.add(d(V)))}return F}var m=c(0),y=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();for(var P=0,C=1,R=0;R<this.g.length;R++){var F=this.i(R);P+=(0<=F?F:4294967296+F)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(w(this))return"-"+b(this).toString(P);for(var C=d(Math.pow(P,6)),R=this,F="";;){var L=N(R,C).g;R=T(R,L.j(C));var $=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=L,S(R))return $+F;for(;6>$.length;)$="0"+$;F=$+F}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=T(this,P),w(P)?-1:S(P)?0:1};function b(P){for(var C=P.g.length,R=[],F=0;F<C;F++)R[F]=~P.g[F];return new o(R,~P.h).add(y)}t.abs=function(){return w(this)?b(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0,L=0;L<=C;L++){var $=F+(this.i(L)&65535)+(P.i(L)&65535),V=($>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);F=V>>>16,$&=65535,V&=65535,R[L]=V<<16|$}return new o(R,R[R.length-1]&-2147483648?-1:0)};function T(P,C){return P.add(b(C))}t.j=function(P){if(S(this)||S(P))return m;if(w(this))return w(P)?b(this).j(b(P)):b(b(this).j(P));if(w(P))return b(this.j(b(P)));if(0>this.l(x)&&0>P.l(x))return d(this.m()*P.m());for(var C=this.g.length+P.g.length,R=[],F=0;F<2*C;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<P.g.length;L++){var $=this.i(F)>>>16,V=this.i(F)&65535,q=P.i(L)>>>16,X=P.i(L)&65535;R[2*F+2*L]+=V*X,E(R,2*F+2*L),R[2*F+2*L+1]+=$*X,E(R,2*F+2*L+1),R[2*F+2*L+1]+=V*q,E(R,2*F+2*L+1),R[2*F+2*L+2]+=$*q,E(R,2*F+2*L+2)}for(F=0;F<C;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=C;F<2*C;F++)R[F]=0;return new o(R,0)};function E(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function I(P,C){this.g=P,this.h=C}function N(P,C){if(S(C))throw Error("division by zero");if(S(P))return new I(m,m);if(w(P))return C=N(b(P),C),new I(b(C.g),b(C.h));if(w(C))return C=N(P,b(C)),new I(b(C.g),C.h);if(30<P.g.length){if(w(P)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var R=y,F=C;0>=F.l(P);)R=k(R),F=k(F);var L=O(R,1),$=O(F,1);for(F=O(F,2),R=O(R,2);!S(F);){var V=$.add(F);0>=V.l(P)&&(L=L.add(R),$=V),F=O(F,1),R=O(R,1)}return C=T(P,L.j(C)),new I(L,C)}for(L=m;0<=P.l(C);){for(R=Math.max(1,Math.floor(P.m()/C.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),$=d(R),V=$.j(C);w(V)||0<V.l(P);)R-=F,$=d(R),V=$.j(C);S($)&&($=y),L=L.add($),P=T(P,V)}return new I(L,P)}t.A=function(P){return N(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0;F<C;F++)R[F]=this.i(F)&P.i(F);return new o(R,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0;F<C;F++)R[F]=this.i(F)|P.i(F);return new o(R,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0;F<C;F++)R[F]=this.i(F)^P.i(F);return new o(R,this.h^P.h)};function k(P){for(var C=P.g.length+1,R=[],F=0;F<C;F++)R[F]=P.i(F)<<1|P.i(F-1)>>>31;return new o(R,P.h)}function O(P,C){var R=C>>5;C%=32;for(var F=P.g.length-R,L=[],$=0;$<F;$++)L[$]=0<C?P.i($+R)>>>C|P.i($+R+1)<<32-C:P.i($+R);return new o(L,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,xL=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,rs=o}).apply(typeof qk<"u"?qk:typeof self<"u"?self:typeof window<"u"?window:{});var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wL,Bd,_L,Am,R1,SL,EL,TL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,M){return g==Array.prototype||g==Object.prototype||(g[A]=M.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof tm=="object"&&tm];for(var A=0;A<g.length;++A){var M=g[A];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function i(g,A){if(A)e:{var M=n;g=g.split(".");for(var z=0;z<g.length-1;z++){var J=g[z];if(!(J in M))break e;M=M[J]}g=g[g.length-1],z=M[g],A=A(z),A!=z&&A!=null&&e(M,g,{configurable:!0,writable:!0,value:A})}}function a(g,A){g instanceof String&&(g+="");var M=0,z=!1,J={next:function(){if(!z&&M<g.length){var se=M++;return{value:A(se,g[se]),done:!1}}return z=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(g){return g||function(){return a(this,function(A,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function d(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function p(g,A,M){return g.call.apply(g.bind,arguments)}function m(g,A,M){if(!g)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,z),g.apply(A,J)}}return function(){return g.apply(A,arguments)}}function y(g,A,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,A){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function S(g,A){function M(){}M.prototype=A.prototype,g.aa=A.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(z,J,se){for(var we=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)we[xt-2]=arguments[xt];return A.prototype[J].apply(z,we)}}function w(g){const A=g.length;if(0<A){const M=Array(A);for(let z=0;z<A;z++)M[z]=g[z];return M}return[]}function b(g,A){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(c(z)){const J=g.length||0,se=z.length||0;g.length=J+se;for(let we=0;we<se;we++)g[J+we]=z[we]}else g.push(z)}}class T{constructor(A,M){this.i=A,this.j=M,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function E(g){return/^[\s\xa0]*$/.test(g)}function I(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function N(g){return N[" "](g),g}N[" "]=function(){};var k=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function O(g,A,M){for(const z in g)A.call(M,g[z],z,g)}function P(g,A){for(const M in g)A.call(void 0,g[M],M,g)}function C(g){const A={};for(const M in g)A[M]=g[M];return A}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(g,A){let M,z;for(let J=1;J<arguments.length;J++){z=arguments[J];for(M in z)g[M]=z[M];for(let se=0;se<R.length;se++)M=R[se],Object.prototype.hasOwnProperty.call(z,M)&&(g[M]=z[M])}}function L(g){var A=1;g=g.split(":");const M=[];for(;0<A&&g.length;)M.push(g.shift()),A--;return g.length&&M.push(g.join(":")),M}function $(g){l.setTimeout(()=>{throw g},0)}function V(){var g=ae;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class q{constructor(){this.h=this.g=null}add(A,M){const z=X.get();z.set(A,M),this.h?this.h.next=z:this.g=z,this.h=z}}var X=new T(()=>new te,g=>g.reset());class te{constructor(){this.next=this.g=this.h=null}set(A,M){this.h=A,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Q=!1,ae=new q,ne=()=>{const g=l.Promise.resolve(void 0);re=()=>{g.then(W)}};var W=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(M){$(M)}var A=X;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}Q=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};l.addEventListener("test",M,A),l.removeEventListener("test",M,A)}catch{}return g})();function xe(g,A){if(de.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(k){e:{try{N(A.nodeName);var J=!0;break e}catch{}J=!1}J||(A=null)}}else M=="mouseover"?A=g.fromElement:M=="mouseout"&&(A=g.toElement);this.relatedTarget=A,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Re[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}S(xe,de);var Re={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Se=0;function fe(g,A,M,z,J){this.listener=g,this.proxy=null,this.src=A,this.type=M,this.capture=!!z,this.ha=J,this.key=++Se,this.da=this.fa=!1}function Ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Le(g){this.src=g,this.g={},this.h=0}Le.prototype.add=function(g,A,M,z,J){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var we=it(g,A,z,J);return-1<we?(A=g[we],M||(A.fa=!1)):(A=new fe(A,this.src,se,!!z,J),A.fa=M,g.push(A)),A};function pe(g,A){var M=A.type;if(M in g.g){var z=g.g[M],J=Array.prototype.indexOf.call(z,A,void 0),se;(se=0<=J)&&Array.prototype.splice.call(z,J,1),se&&(Ee(A),g.g[M].length==0&&(delete g.g[M],g.h--))}}function it(g,A,M,z){for(var J=0;J<g.length;++J){var se=g[J];if(!se.da&&se.listener==A&&se.capture==!!M&&se.ha==z)return J}return-1}var We="closure_lm_"+(1e6*Math.random()|0),gt={};function ft(g,A,M,z,J){if(Array.isArray(A)){for(var se=0;se<A.length;se++)ft(g,A[se],M,z,J);return null}return M=Gt(M),g&&g[ce]?g.K(A,M,d(z)?!!z.capture:!1,J):_t(g,A,M,!1,z,J)}function _t(g,A,M,z,J,se){if(!A)throw Error("Invalid event type");var we=d(J)?!!J.capture:!!J,xt=Xe(g);if(xt||(g[We]=xt=new Le(g)),M=xt.add(A,M,z,we,se),M.proxy)return M;if(z=nr(),M.proxy=z,z.src=g,z.listener=M,g.addEventListener)oe||(J=we),J===void 0&&(J=!1),g.addEventListener(A.toString(),z,J);else if(g.attachEvent)g.attachEvent($t(A.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function nr(){function g(M){return A.call(g.src,g.listener,M)}const A=me;return g}function fr(g,A,M,z,J){if(Array.isArray(A))for(var se=0;se<A.length;se++)fr(g,A[se],M,z,J);else z=d(z)?!!z.capture:!!z,M=Gt(M),g&&g[ce]?(g=g.i,A=String(A).toString(),A in g.g&&(se=g.g[A],M=it(se,M,z,J),-1<M&&(Ee(se[M]),Array.prototype.splice.call(se,M,1),se.length==0&&(delete g.g[A],g.h--)))):g&&(g=Xe(g))&&(A=g.g[A.toString()],g=-1,A&&(g=it(A,M,z,J)),(M=-1<g?A[g]:null)&&hr(M))}function hr(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[ce])pe(A.i,g);else{var M=g.type,z=g.proxy;A.removeEventListener?A.removeEventListener(M,z,g.capture):A.detachEvent?A.detachEvent($t(M),z):A.addListener&&A.removeListener&&A.removeListener(z),(M=Xe(A))?(pe(M,g),M.h==0&&(M.src=null,A[We]=null)):Ee(g)}}}function $t(g){return g in gt?gt[g]:gt[g]="on"+g}function me(g,A){if(g.da)g=!0;else{A=new xe(A,this);var M=g.listener,z=g.ha||g.src;g.fa&&hr(g),g=M.call(z,A)}return g}function Xe(g){return g=g[We],g instanceof Le?g:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(g){return typeof g=="function"?g:(g[Nt]||(g[Nt]=function(A){return g.handleEvent(A)}),g[Nt])}function Jt(){Y.call(this),this.i=new Le(this),this.M=this,this.F=null}S(Jt,Y),Jt.prototype[ce]=!0,Jt.prototype.removeEventListener=function(g,A,M,z){fr(this,g,A,M,z)};function Kt(g,A){var M,z=g.F;if(z)for(M=[];z;z=z.F)M.push(z);if(g=g.M,z=A.type||A,typeof A=="string")A=new de(A,g);else if(A instanceof de)A.target=A.target||g;else{var J=A;A=new de(z,g),F(A,J)}if(J=!0,M)for(var se=M.length-1;0<=se;se--){var we=A.g=M[se];J=qn(we,z,!0,A)&&J}if(we=A.g=g,J=qn(we,z,!0,A)&&J,J=qn(we,z,!1,A)&&J,M)for(se=0;se<M.length;se++)we=A.g=M[se],J=qn(we,z,!1,A)&&J}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var M=g.g[A],z=0;z<M.length;z++)Ee(M[z]);delete g.g[A],g.h--}}this.F=null},Jt.prototype.K=function(g,A,M,z){return this.i.add(String(g),A,!1,M,z)},Jt.prototype.L=function(g,A,M,z){return this.i.add(String(g),A,!0,M,z)};function qn(g,A,M,z){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var J=!0,se=0;se<A.length;++se){var we=A[se];if(we&&!we.da&&we.capture==M){var xt=we.listener,pr=we.ha||we.src;we.fa&&pe(g.i,we),J=xt.call(pr,z)!==!1&&J}}return J&&!z.defaultPrevented}function Ss(g,A,M){if(typeof g=="function")M&&(g=y(g,M));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:l.setTimeout(g,A||0)}function pi(g){g.g=Ss(()=>{g.g=null,g.i&&(g.i=!1,pi(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class xa extends Y{constructor(A,M){super(),this.m=A,this.l=M,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:pi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(g){Y.call(this),this.h=g,this.g={}}S(mi,Y);var Es=[];function mo(g){O(g.g,function(A,M){this.g.hasOwnProperty(M)&&hr(A)},g),g.g={}}mi.prototype.N=function(){mi.aa.N.call(this),mo(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=l.JSON.stringify,Be=l.JSON.parse,jn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Ts(){}Ts.prototype.h=null;function $l(g){return g.h||(g.h=g.i())}function Vl(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){de.call(this,"d")}S(Bi,de);function Fl(){de.call(this,"c")}S(Fl,de);var qi={},qc=null;function As(){return qc=qc||new Jt}qi.La="serverreachability";function Wc(g){de.call(this,qi.La,g)}S(Wc,de);function wa(g){const A=As();Kt(A,new Wc(A))}qi.STAT_EVENT="statevent";function Hc(g,A){de.call(this,qi.STAT_EVENT,g),this.stat=A}S(Hc,de);function Zt(g){const A=As();Kt(A,new Hc(A,g))}qi.Ma="timingevent";function Ul(g,A){de.call(this,qi.Ma,g),this.size=A}S(Ul,de);function gi(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function Ps(){this.g=!0}Ps.prototype.xa=function(){this.g=!1};function js(g,A,M,z,J,se){g.info(function(){if(g.g)if(se)for(var we="",xt=se.split("&"),pr=0;pr<xt.length;pr++){var lt=xt[pr].split("=");if(1<lt.length){var Er=lt[0];lt=lt[1];var ir=Er.split("_");we=2<=ir.length&&ir[1]=="type"?we+(Er+"="+lt+"&"):we+(Er+"=redacted&")}}else we=null;else we=se;return"XMLHTTP REQ ("+z+") [attempt "+J+"]: "+A+`
`+M+`
`+we})}function zl(g,A,M,z,J,se,we){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+J+"]: "+A+`
`+M+`
`+se+" "+we})}function yi(g,A,M,z){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+bv(g,M)+(z?" "+z:"")})}function Gc(g,A){g.info(function(){return"TIMEOUT: "+A})}Ps.prototype.info=function(){};function bv(g,A){if(!g.g)return A;if(!A)return null;try{var M=JSON.parse(A);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var z=M[g];if(!(2>z.length)){var J=z[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var we=1;we<J.length;we++)J[we]=""}}}}return Oe(M)}catch{return A}}var Bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$h={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function ks(){}S(ks,Ts),ks.prototype.g=function(){return new XMLHttpRequest},ks.prototype.i=function(){return{}},vi=new ks;function bi(g,A,M,z){this.j=g,this.i=A,this.l=M,this.R=z||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vh}function Vh(){this.i=null,this.g="",this.h=!1}var Kc={},ql={};function Wl(g,A,M){g.L=1,g.v=xo(In(A)),g.m=M,g.P=!0,Xc(g,null)}function Xc(g,A){g.F=Date.now(),jt(g),g.A=In(g.v);var M=g.A,z=g.R;Array.isArray(z)||(z=[String(z)]),_o(M.i,"t",z),g.C=0,M=g.j.J,g.h=new Vh,g.g=np(g.j,M?A:null,!g.m),0<g.O&&(g.M=new xa(y(g.Y,g,g.g),g.O)),A=g.U,M=g.g,z=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(Es[0]=J.toString()),J=Es);for(var se=0;se<J.length;se++){var we=ft(M,J[se],z||A.handleEvent,!1,A.h||A);if(!we)break;A.g[we.key]=we}A=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),wa(),js(g.i,g.u,g.A,g.l,g.R,g.m)}bi.prototype.ca=function(g){g=g.target;const A=this.M;A&&fn(g)==3?A.j():this.Y(g)},bi.prototype.Y=function(g){try{if(g==this.g)e:{const ir=fn(this.g);var A=this.g.Ba();const Kn=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||td(this.g)))){this.J||ir!=4||A==7||(A==8||0>=Kn?wa(3):wa(2)),Is(this);var M=this.g.Z();this.X=M;t:if(Fh(this)){var z=td(this.g);g="";var J=z.length,se=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),go(this);var we="";break t}this.h.i=new l.TextDecoder}for(A=0;A<J;A++)this.h.h=!0,g+=this.h.i.decode(z[A],{stream:!(se&&A==J-1)});z.length=0,this.h.g+=g,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=M==200,zl(this.i,this.u,this.A,this.l,this.R,ir,M),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,pr=this.g;if((xt=pr.g?pr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(xt)){var lt=xt;break t}}lt=null}if(M=lt)yi(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yc(this,M);else{this.o=!1,this.s=3,Zt(12),Hn(this),go(this);break e}}if(this.P){M=!0;let Nn;for(;!this.J&&this.C<we.length;)if(Nn=xv(this,we),Nn==ql){ir==4&&(this.s=4,Zt(14),M=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Kc){this.s=4,Zt(15),yi(this.i,this.l,we,"[Invalid Chunk]"),M=!1;break}else yi(this.i,this.l,Nn,null),Yc(this,Nn);if(Fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||we.length!=0||this.h.h||(this.s=1,Zt(16),M=!1),this.o=this.o&&M,!M)yi(this.i,this.l,we,"[Invalid Chunked Response]"),Hn(this),go(this);else if(0<we.length&&!this.W){this.W=!0;var Er=this.j;Er.g==this&&Er.ba&&!Er.M&&(Er.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),nd(Er),Er.M=!0,Zt(11))}}else yi(this.i,this.l,we,null),Yc(this,we);ir==4&&Hn(this),this.o&&!this.J&&(ir==4?ru(this.j,this):(this.o=!1,jt(this)))}else Ql(this.g),M==400&&0<we.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Hn(this),go(this)}}}catch{}finally{}};function Fh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function xv(g,A){var M=g.C,z=A.indexOf(`
`,M);return z==-1?ql:(M=Number(A.substring(M,z)),isNaN(M)?Kc:(z+=1,z+M>A.length?ql:(A=A.slice(z,z+M),g.C=z+M,A)))}bi.prototype.cancel=function(){this.J=!0,Hn(this)};function jt(g){g.S=Date.now()+g.I,Uh(g,g.I)}function Uh(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=gi(y(g.ba,g),A)}function Is(g){g.B&&(l.clearTimeout(g.B),g.B=null)}bi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Gc(this.i,this.A),this.L!=2&&(wa(),Zt(17)),Hn(this),this.s=2,go(this)):Uh(this,this.S-g)};function go(g){g.j.G==0||g.J||ru(g.j,g)}function Hn(g){Is(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,mo(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function Yc(g,A){try{var M=g.j;if(M.G!=0&&(M.g==g||tn(M.h,g))){if(!g.K&&tn(M.h,g)&&M.G==3){try{var z=M.Da.g.parse(A)}catch{z=null}if(Array.isArray(z)&&z.length==3){var J=z;if(J[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)tu(M),Ei(M);else break e;eu(M),Zt(18)}}else M.za=J[1],0<M.za-M.T&&37500>J[2]&&M.F&&M.v==0&&!M.C&&(M.C=gi(y(M.Za,M),6e3));if(1>=Bh(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Aa(M,11)}else if((g.K||M.g==g)&&tu(M),!E(A))for(J=M.Da.g.parse(A),A=0;A<J.length;A++){let lt=J[A];if(M.T=lt[0],lt=lt[1],M.G==2)if(lt[0]=="c"){M.K=lt[1],M.ia=lt[2];const Er=lt[3];Er!=null&&(M.la=Er,M.j.info("VER="+M.la));const ir=lt[4];ir!=null&&(M.Aa=ir,M.j.info("SVER="+M.Aa));const Kn=lt[5];Kn!=null&&typeof Kn=="number"&&0<Kn&&(z=1.5*Kn,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const Nn=g.g;if(Nn){const Ls=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var se=z.h;se.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Qc(se,se.h),se.h=null))}if(z.D){const iu=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(z.ya=iu,Tt(z.I,z.D,iu))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var we=g;if(z.qa=rp(z,z.J?z.ia:null,z.W),we.K){qh(z.h,we);var xt=we,pr=z.L;pr&&(xt.I=pr),xt.B&&(Is(xt),jt(xt)),z.g=we}else Ds(z);0<M.i.length&&Ki(M)}else lt[0]!="stop"&&lt[0]!="close"||Aa(M,7);else M.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Aa(M,7):Rr(M):lt[0]!="noop"&&M.l&&M.l.ta(lt),M.v=0)}}wa(4)}catch{}}var zh=class{constructor(g,A){this.g=g,this.map=A}};function Cs(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Bh(g){return g.h?1:g.g?g.g.size:0}function tn(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function Qc(g,A){g.g?g.g.add(A):g.h=A}function qh(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}Cs.prototype.cancel=function(){if(this.i=Wh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Wh(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const M of g.g.values())A=A.concat(M.D);return A}return w(g.i)}function Hl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var A=[],M=g.length,z=0;z<M;z++)A.push(g[z]);return A}A=[],M=0;for(z in g)A[M++]=g[z];return A}function Gl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var A=[];g=g.length;for(var M=0;M<g;M++)A.push(M);return A}A=[],M=0;for(const z in g)A[M++]=z;return A}}}function yo(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var M=Gl(g),z=Hl(g),J=z.length,se=0;se<J;se++)A.call(void 0,z[se],M&&M[se],g)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wv(g,A){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var z=g[M].indexOf("="),J=null;if(0<=z){var se=g[M].substring(0,z);J=g[M].substring(z+1)}else se=g[M];A(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function _a(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof _a){this.h=g.h,Os(this,g.j),this.o=g.o,this.g=g.g,vo(this,g.s),this.l=g.l;var A=g.i,M=new Wi;M.i=A.i,A.g&&(M.g=new Map(A.g),M.h=A.h),bo(this,M),this.m=g.m}else g&&(A=String(g).match(Ns))?(this.h=!1,Os(this,A[1]||"",!0),this.o=st(A[2]||""),this.g=st(A[3]||"",!0),vo(this,A[4]),this.l=st(A[5]||"",!0),bo(this,A[6]||"",!0),this.m=st(A[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}_a.prototype.toString=function(){var g=[],A=this.j;A&&g.push(wo(A,Kl,!0),":");var M=this.g;return(M||A=="file")&&(g.push("//"),(A=this.o)&&g.push(wo(A,Kl,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(wo(M,M.charAt(0)=="/"?Kh:Gh,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",wo(M,Jc)),g.join("")};function In(g){return new _a(g)}function Os(g,A,M){g.j=M?st(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function vo(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function bo(g,A,M){A instanceof Wi?(g.i=A,Hi(g.i,g.h)):(M||(A=wo(A,Xh)),g.i=new Wi(A,g.h))}function Tt(g,A,M){g.i.set(A,M)}function xo(g){return Tt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function st(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function wo(g,A,M){return typeof g=="string"?(g=encodeURI(g).replace(A,Hh),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Hh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Kl=/[#\/\?@]/g,Gh=/[#\?:]/g,Kh=/[#\?]/g,Xh=/[#\?@]/g,Jc=/#/g;function Wi(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Or(g){g.g||(g.g=new Map,g.h=0,g.i&&wv(g.i,function(A,M){g.add(decodeURIComponent(A.replace(/\+/g," ")),M)}))}t=Wi.prototype,t.add=function(g,A){Or(this),this.i=null,g=Gn(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(A),this.h+=1,this};function xi(g,A){Or(g),A=Gn(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function wi(g,A){return Or(g),A=Gn(g,A),g.g.has(A)}t.forEach=function(g,A){Or(this),this.g.forEach(function(M,z){M.forEach(function(J){g.call(A,J,z,this)},this)},this)},t.na=function(){Or(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),M=[];for(let z=0;z<A.length;z++){const J=g[z];for(let se=0;se<J.length;se++)M.push(A[z])}return M},t.V=function(g){Or(this);let A=[];if(typeof g=="string")wi(this,g)&&(A=A.concat(this.g.get(Gn(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)A=A.concat(g[M])}return A},t.set=function(g,A){return Or(this),this.i=null,g=Gn(this,g),wi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function _o(g,A,M){xi(g,A),0<M.length&&(g.i=null,g.g.set(Gn(g,A),w(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var M=0;M<A.length;M++){var z=A[M];const se=encodeURIComponent(String(z)),we=this.V(z);for(z=0;z<we.length;z++){var J=se;we[z]!==""&&(J+="="+encodeURIComponent(String(we[z]))),g.push(J)}}return this.i=g.join("&")};function Gn(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function Hi(g,A){A&&!g.j&&(Or(g),g.i=null,g.g.forEach(function(M,z){var J=z.toLowerCase();z!=J&&(xi(this,z),_o(this,J,M))},g)),g.j=A}function _v(g,A){const M=new Ps;if(l.Image){const z=new Image;z.onload=x(dn,M,"TestLoadImage: loaded",!0,A,z),z.onerror=x(dn,M,"TestLoadImage: error",!1,A,z),z.onabort=x(dn,M,"TestLoadImage: abort",!1,A,z),z.ontimeout=x(dn,M,"TestLoadImage: timeout",!1,A,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else A(!1)}function Yh(g,A){const M=new Ps,z=new AbortController,J=setTimeout(()=>{z.abort(),dn(M,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:z.signal}).then(se=>{clearTimeout(J),se.ok?dn(M,"TestPingServer: ok",!0,A):dn(M,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),dn(M,"TestPingServer: error",!1,A)})}function dn(g,A,M,z,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),z(M)}catch{}}function Sv(){this.g=new jn}function Qh(g,A,M){const z=M||"";try{yo(g,function(J,se){let we=J;d(J)&&(we=Oe(J)),A.push(z+se+"="+encodeURIComponent(we))})}catch(J){throw A.push(z+"type="+encodeURIComponent("_badmap")),J}}function Sa(g){this.l=g.Ub||null,this.j=g.eb||!1}S(Sa,Ts),Sa.prototype.g=function(){return new Rs(this.l,this.j)},Sa.prototype.i=(function(g){return function(){return g}})({});function Rs(g,A){Jt.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Rs,Jt),t=Rs.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,Si(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||l).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jh(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jh(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?_i(this):Si(this),this.readyState==3&&Jh(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,_i(this))},t.Qa=function(g){this.g&&(this.response=g,_i(this))},t.ga=function(){this.g&&_i(this)};function _i(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Si(g)}t.setRequestHeader=function(g,A){this.u.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var M=A.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=A.next();return g.join(`\r
`)};function Si(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ea(g){let A="";return O(g,function(M,z){A+=z,A+=":",A+=M,A+=`\r
`}),A}function So(g,A,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=Ea(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):Tt(g,A,M))}function Vt(g){Jt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Vt,Jt);var Ev=/^https?$/i,Zc=["POST","PUT"];t=Vt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,A,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?$l(this.o):$l(vi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(se){Ms(this,se);return}if(g=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var J in z)M.set(J,z[J]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const se of z.keys())M.set(se,z.get(se));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(se=>se.toLowerCase()=="content-type"),J=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Zc,A,void 0))||z||J||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,we]of M)this.g.setRequestHeader(se,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yl(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){Ms(this,se)}};function Ms(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,Xl(g),Cn(g)}function Xl(g){g.A||(g.A=!0,Kt(g,"complete"),Kt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Kt(this,"complete"),Kt(this,"abort"),Cn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ed(this):this.bb())},t.bb=function(){ed(this)};function ed(g){if(g.h&&typeof o<"u"&&(!g.v[1]||fn(g)!=4||g.Z()!=2)){if(g.u&&fn(g)==4)Ss(g.Ea,0,g);else if(Kt(g,"readystatechange"),fn(g)==4){g.h=!1;try{const we=g.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var M;if(!(M=A)){var z;if(z=we===0){var J=String(g.D).match(Ns)[1]||null;!J&&l.self&&l.self.location&&(J=l.self.location.protocol.slice(0,-1)),z=!Ev.test(J?J.toLowerCase():"")}M=z}if(M)Kt(g,"complete"),Kt(g,"success");else{g.m=6;try{var se=2<fn(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",Xl(g)}}finally{Cn(g)}}}}function Cn(g,A){if(g.g){Yl(g);const M=g.g,z=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||Kt(g,"ready");try{M.onreadystatechange=z}catch{}}}function Yl(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function fn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Be(A)}};function td(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ql(g){const A={};g=(g.g&&2<=fn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(E(g[z]))continue;var M=L(g[z]);const J=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const se=A[J]||[];A[J]=se,se.push(M)}P(A,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(g,A,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||A}function rd(g){this.Aa=0,this.i=[],this.j=new Ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,g),this.cb=Gi("retryDelaySeedMs",1e4,g),this.Wa=Gi("forwardChannelMaxRetries",2,g),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Cs(g&&g.concurrentRequestLimit),this.Da=new Sv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rd.prototype,t.la=8,t.G=1,t.connect=function(g,A,M,z){Zt(0),this.W=g,this.H=A||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=rp(this,null,this.W),Ki(this)};function Rr(g){if(Jl(g),g.G==3){var A=g.U++,M=In(g.I);if(Tt(M,"SID",g.K),Tt(M,"RID",A),Tt(M,"TYPE","terminate"),Ta(g,M),A=new bi(g,g.j,A),A.L=2,A.v=xo(In(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(A.v.toString(),"")}catch{}!M&&l.Image&&(new Image().src=A.v,M=!0),M||(A.g=np(A.j,null),A.g.ea(A.v)),A.F=Date.now(),jt(A)}tp(g)}function Ei(g){g.g&&(nd(g),g.g.cancel(),g.g=null)}function Jl(g){Ei(g),g.u&&(l.clearTimeout(g.u),g.u=null),tu(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function Ki(g){if(!kn(g.h)&&!g.s){g.s=!0;var A=g.Ga;re||ne(),Q||(re(),Q=!0),ae.add(A,g),g.B=0}}function Tv(g,A){return Bh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=gi(y(g.Ga,g,A),ep(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new bi(this,this.j,g);let se=this.o;if(this.S&&(se?(se=C(se),F(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var A=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(A+=z,4096<A){A=M;break e}if(A===4096||M===this.i.length-1){A=M+1;break e}}A=1e3}else A=1e3;A=Eo(this,J,A),M=In(this.I),Tt(M,"RID",g),Tt(M,"CVER",22),this.D&&Tt(M,"X-HTTP-Session-Id",this.D),Ta(this,M),se&&(this.O?A="headers="+encodeURIComponent(String(Ea(se)))+"&"+A:this.m&&So(M,this.m,se)),Qc(this.h,J),this.Ua&&Tt(M,"TYPE","init"),this.P?(Tt(M,"$req",A),Tt(M,"SID","null"),J.T=!0,Wl(J,M,null)):Wl(J,M,A),this.G=2}}else this.G==3&&(g?Zl(this,g):this.i.length==0||kn(this.h)||Zl(this))};function Zl(g,A){var M;A?M=A.l:M=g.U++;const z=In(g.I);Tt(z,"SID",g.K),Tt(z,"RID",M),Tt(z,"AID",g.T),Ta(g,z),g.m&&g.o&&So(z,g.m,g.o),M=new bi(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),A&&(g.i=A.D.concat(g.i)),A=Eo(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Qc(g.h,M),Wl(M,z,A)}function Ta(g,A){g.H&&O(g.H,function(M,z){Tt(A,z,M)}),g.l&&yo({},function(M,z){Tt(A,z,M)})}function Eo(g,A,M){M=Math.min(g.i.length,M);var z=g.l?y(g.l.Na,g.l,g):null;e:{var J=g.i;let se=-1;for(;;){const we=["count="+M];se==-1?0<M?(se=J[0].g,we.push("ofs="+se)):se=0:we.push("ofs="+se);let xt=!0;for(let pr=0;pr<M;pr++){let lt=J[pr].g;const Er=J[pr].map;if(lt-=se,0>lt)se=Math.max(0,J[pr].g-100),xt=!1;else try{Qh(Er,we,"req"+lt+"_")}catch{z&&z(Er)}}if(xt){z=we.join("&");break e}}}return g=g.i.splice(0,M),A.D=g,z}function Ds(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;re||ne(),Q||(re(),Q=!0),ae.add(A,g),g.v=0}}function eu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=gi(y(g.Fa,g),ep(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Zh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=gi(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Ei(this),Zh(this))};function nd(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Zh(g){g.g=new bi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=In(g.qa);Tt(A,"RID","rpc"),Tt(A,"SID",g.K),Tt(A,"AID",g.T),Tt(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Tt(A,"TO",g.ja),Tt(A,"TYPE","xmlhttp"),Ta(g,A),g.m&&g.o&&So(A,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=xo(In(A)),M.m=null,M.P=!0,Xc(M,g)}t.Za=function(){this.C!=null&&(this.C=null,Ei(this),eu(this),Zt(19))};function tu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function ru(g,A){var M=null;if(g.g==A){tu(g),nd(g),g.g=null;var z=2}else if(tn(g.h,A))M=A.D,qh(g.h,A),z=1;else return;if(g.G!=0){if(A.o)if(z==1){M=A.m?A.m.length:0,A=Date.now()-A.F;var J=g.B;z=As(),Kt(z,new Ul(z,M)),Ki(g)}else Ds(g);else if(J=A.s,J==3||J==0&&0<A.X||!(z==1&&Tv(g,A)||z==2&&eu(g)))switch(M&&0<M.length&&(A=g.h,A.i=A.i.concat(M)),J){case 1:Aa(g,5);break;case 4:Aa(g,10);break;case 3:Aa(g,6);break;default:Aa(g,2)}}}function ep(g,A){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*A}function Aa(g,A){if(g.j.info("Error code "+A),A==2){var M=y(g.fb,g),z=g.Xa;const J=!z;z=new _a(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Os(z,"https"),xo(z),J?_v(z.toString(),M):Yh(z.toString(),M)}else Zt(2);g.G=0,g.l&&g.l.sa(A),tp(g),Jl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function tp(g){if(g.G=0,g.ka=[],g.l){const A=Wh(g.h);(A.length!=0||g.i.length!=0)&&(b(g.ka,A),b(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function rp(g,A,M){var z=M instanceof _a?In(M):new _a(M);if(z.g!="")A&&(z.g=A+"."+z.g),vo(z,z.s);else{var J=l.location;z=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;var se=new _a(null);z&&Os(se,z),A&&(se.g=A),J&&vo(se,J),M&&(se.l=M),z=se}return M=g.D,A=g.ya,M&&A&&Tt(z,M,A),Tt(z,"VER",g.la),Ta(g,z),z}function np(g,A,M){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new Vt(new Sa({eb:M})):new Vt(g.pa),A.Ha(g.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function id(){}t=id.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(g,A){return new rn(g,A)};function rn(g,A){Jt.call(this),this.g=new rd(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!E(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!E(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Xi(this)}S(rn,Jt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Rr(this.g)},rn.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=Oe(g),g=M);A.i.push(new zh(A.Ya++,g)),A.G==3&&Ki(A)},rn.prototype.N=function(){this.g.l=null,delete this.j,Rr(this.g),delete this.g,rn.aa.N.call(this)};function ip(g){Bi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const M in A){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}S(ip,Bi);function ap(){Fl.call(this),this.status=1}S(ap,Fl);function Xi(g){this.g=g}S(Xi,id),Xi.prototype.ua=function(){Kt(this.g,"a")},Xi.prototype.ta=function(g){Kt(this.g,new ip(g))},Xi.prototype.sa=function(g){Kt(this.g,new ap)},Xi.prototype.ra=function(){Kt(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,TL=function(){return new nu},EL=function(){return As()},SL=qi,R1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bl.NO_ERROR=0,Bl.TIMEOUT=8,Bl.HTTP_ERROR=6,Am=Bl,$h.COMPLETE="complete",_L=$h,Vl.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,Bd=Vl,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,wL=Vt}).apply(typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{});const Wk="@firebase/firestore",Hk="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new IE("@firebase/firestore");function ku(){return bl.logLevel}function je(t,...e){if(bl.logLevel<=at.DEBUG){const r=e.map(qE);bl.debug(`Firestore (${Ic}): ${t}`,...r)}}function eo(t,...e){if(bl.logLevel<=at.ERROR){const r=e.map(qE);bl.error(`Firestore (${Ic}): ${t}`,...r)}}function os(t,...e){if(bl.logLevel<=at.WARN){const r=e.map(qE);bl.warn(`Firestore (${Ic}): ${t}`,...r)}}function qE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,AL(t,n,r)}function AL(t,e,r){let n=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw eo(n),new Error(n)}function bt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||AL(e,i,n)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends lo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Qr.UNAUTHENTICATED)))}shutdown(){}}class Mq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Dq{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){bt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ga,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ga)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(bt(typeof n.accessToken=="string",31837,{l:n}),new PL(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Qr(e)}}class Lq{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $q{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Lq(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Qr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vq{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){bt(this.o===void 0,3512);const n=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(bt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Gk(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Fq(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ze(t,e){return t<e?-1:t>e?1:0}function M1(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Ze(n,i);{const a=jL(),o=Uq(a.encode(Kk(t,r)),a.encode(Kk(e,r)));return o!==0?o:Ze(n,i)}}r+=n>65535?2:1}return Ze(t.length,e.length)}function Kk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Uq(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ze(t[r],e[r]);return Ze(t.length,e.length)}function Xu(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="__name__";class ea{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=ea.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ze(e.length,r.length)}static compareSegments(e,r){const n=ea.isNumericId(e),i=ea.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ea.extractNumericId(e).compare(ea.extractNumericId(r)):M1(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class Ct extends ea{construct(e,r,n){return new Ct(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Ct(r)}static emptyPath(){return new Ct([])}}const zq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends ea{construct(e,r,n){return new zr(e,r,n)}static isValidIdentifier(e){return zq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xk}static keyField(){return new zr([Xk])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new Te(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(r)}static emptyPath(){return new zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Ct.fromString(e))}static fromName(e){return new $e(Ct.fromString(e).popFirst(5))}static empty(){return new $e(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ct.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e,r){if(!r)throw new Te(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bq(t,e,r,n){if(e===!0&&n===!0)throw new Te(ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Yk(t){if(!$e.isDocumentKey(t))throw new Te(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qk(t){if($e.isDocumentKey(t))throw new Te(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function IL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cy(t);throw new Te(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){const r={typeString:t};return e&&(r.value=e),r}function gh(t,e){if(!IL(t))throw new Te(ue.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Te(ue.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=-62135596800,Zk=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Zk);return new Lt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Jk)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zk}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:ur("string",Lt._jsonSchemaVersion),seconds:ur("number"),nanoseconds:ur("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Lt(0,0))}static max(){return new Ke(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=-1;function qq(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(n===1e9?new Lt(r+1,0):new Lt(r,n));return new ss(i,$e.empty(),e)}function Wq(t){return new ss(t.readTime,t.key,bf)}class ss{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ss(Ke.min(),$e.empty(),bf)}static max(){return new ss(Ke.max(),$e.empty(),bf)}}function Hq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=$e.comparator(t.documentKey,e.documentKey),r!==0?r:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==Gq)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):he.reject(r)}static resolve(e){return new he(((r,n)=>{r(e)}))}static reject(e){return new he(((r,n)=>{n(e)}))}static waitFor(e){return new he(((r,n)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&r()}),(c=>n(c)))})),o=!0,a===i&&r()}))}static or(e){let r=he.resolve(!1);for(const n of e)r=r.next((i=>i?he.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new he(((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;r(e[d]).next((p=>{o[d]=p,++l,l===a&&n(o)}),(p=>i(p)))}}))}static doWhile(e,r){return new he(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Xq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this._e(n),this.ae=n=>r.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dy.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=-1;function fy(t){return t==null}function Bm(t){return t===0&&1/t==-1/0}function Yq(t){return typeof t=="number"&&Number.isInteger(t)&&!Bm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="";function Qq(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=eI(e)),e=Jq(t.get(r),e);return eI(e)}function Jq(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case CL:r+="";break;default:r+=a}}return r}function eI(t){return t+CL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ms(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function NL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,r){this.comparator=e,this.root=r||Vr.EMPTY}insert(e,r){return new Ht(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rm(this.root,e,this.comparator,!0)}}class rm{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Vr.RED,this.left=i??Vr.EMPTY,this.right=a??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Vr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Vr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1;Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new rI(this.data.getIterator())}getIteratorFrom(e){return new rI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new _r(this.comparator);return r.data=e,r}}class rI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new Un([])}unionWith(e){let r=new _r(zr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Un(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OL("Invalid base64 string: "+a):a}})(e);return new qr(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new qr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const Zq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const r=Zq.exec(t);if(bt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function us(t){return typeof t=="string"?qr.fromBase64String(t):qr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="server_timestamp",ML="__type__",DL="__previous_value__",LL="__local_write_time__";function GE(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ML])===null||r===void 0?void 0:r.stringValue)===RL}function hy(t){const e=t.mapValue.fields[DL];return GE(e)?hy(e):e}function xf(t){const e=ls(t.mapValue.fields[LL].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,r,n,i,a,o,l,c,d,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const qm="(default)";class wf{constructor(e,r){this.projectId=e,this.database=r||qm}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database===qm}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="__type__",t7="__max__",nm={mapValue:{}},VL="__vector__",Wm="value";function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GE(t)?4:n7(t)?9007199254740991:r7(t)?10:11:qe(28295,{value:t})}function ha(t,e){if(t===e)return!0;const r=cs(t);if(r!==cs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xf(t).isEqual(xf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ls(i.timestampValue),l=ls(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return us(i.bytesValue).isEqual(us(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return tr(i.geoPointValue.latitude)===tr(a.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return tr(i.integerValue)===tr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=tr(i.doubleValue),l=tr(a.doubleValue);return o===l?Bm(o)===Bm(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Xu(t.arrayValue.values||[],e.arrayValue.values||[],ha);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(tI(o)!==tI(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ha(o[c],l[c])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function _f(t,e){return(t.values||[]).find((r=>ha(r,e)))!==void 0}function Yu(t,e){if(t===e)return 0;const r=cs(t),n=cs(e);if(r!==n)return Ze(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=tr(a.integerValue||a.doubleValue),c=tr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return nI(t.timestampValue,e.timestampValue);case 4:return nI(xf(t),xf(e));case 5:return M1(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=us(a),c=us(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const p=Ze(l[d],c[d]);if(p!==0)return p}return Ze(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=Ze(tr(a.latitude),tr(o.latitude));return l!==0?l:Ze(tr(a.longitude),tr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return iI(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var l,c,d,p;const m=a.fields||{},y=o.fields||{},x=(l=m[Wm])===null||l===void 0?void 0:l.arrayValue,S=(c=y[Wm])===null||c===void 0?void 0:c.arrayValue,w=Ze(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:iI(x,S)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===nm.mapValue&&o===nm.mapValue)return 0;if(a===nm.mapValue)return 1;if(o===nm.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const y=M1(c[m],p[m]);if(y!==0)return y;const x=Yu(l[c[m]],d[p[m]]);if(x!==0)return x}return Ze(c.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{le:r})}}function nI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const r=ls(t),n=ls(e),i=Ze(r.seconds,n.seconds);return i!==0?i:Ze(r.nanos,n.nanos)}function iI(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Yu(r[i],n[i]);if(a)return a}return Ze(r.length,n.length)}function Qu(t){return D1(t)}function D1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=ls(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return us(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return $e.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=D1(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${D1(r.fields[o])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function Pm(t){switch(cs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hy(t);return e?16+Pm(e):16;case 5:return 2*t.stringValue.length;case 6:return us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Pm(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return ms(n.fields,((a,o)=>{i+=a.length+Pm(o)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function aI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L1(t){return!!t&&"integerValue"in t}function KE(t){return!!t&&"arrayValue"in t}function oI(t){return!!t&&"nullValue"in t}function sI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jm(t){return!!t&&"mapValue"in t}function r7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$L])===null||r===void 0?void 0:r.stringValue)===VL}function ef(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ms(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=ef(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ef(t.arrayValue.values[r]);return e}return Object.assign({},t)}function n7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!jm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ef(r)}setAll(e){let r=zr.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=ef(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());jm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ha(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ms(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new _n(ef(this.value))}}function FL(t){const e=[];return ms(t.fields,((r,n)=>{const i=new zr([r]);if(jm(n)){const a=FL(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Jr(e,0,Ke.min(),Ke.min(),Ke.min(),_n.empty(),0)}static newFoundDocument(e,r,n,i){return new Jr(e,1,r,Ke.min(),n,i,0)}static newNoDocument(e,r){return new Jr(e,2,r,Ke.min(),Ke.min(),_n.empty(),0)}static newUnknownDocument(e,r){return new Jr(e,3,r,Ke.min(),Ke.min(),_n.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,r){this.position=e,this.inclusive=r}}function lI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=$e.comparator($e.fromName(o.referenceValue),r.key):n=Yu(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function uI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ha(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,r="asc"){this.field=e,this.dir=r}}function i7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{}class lr extends UL{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new o7(e,r,n):r==="array-contains"?new u7(e,n):r==="in"?new c7(e,n):r==="not-in"?new d7(e,n):r==="array-contains-any"?new f7(e,n):new lr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new s7(e,n):new l7(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Yu(r,this.value)):r!==null&&cs(this.value)===cs(r)&&this.matchesComparison(Yu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends UL{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new Li(e,r)}matches(e){return zL(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function zL(t){return t.op==="and"}function BL(t){return a7(t)&&zL(t)}function a7(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function $1(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+Qu(t.value);if(BL(t))return t.filters.map((e=>$1(e))).join(",");{const e=t.filters.map((r=>$1(r))).join(",");return`${t.op}(${e})`}}function qL(t,e){return t instanceof lr?(function(n,i){return i instanceof lr&&n.op===i.op&&n.field.isEqual(i.field)&&ha(n.value,i.value)})(t,e):t instanceof Li?(function(n,i){return i instanceof Li&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,l)=>a&&qL(o,i.filters[l])),!0):!1})(t,e):void qe(19439)}function WL(t){return t instanceof lr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Qu(r.value)}`})(t):t instanceof Li?(function(r){return r.op.toString()+" {"+r.getFilters().map(WL).join(" ,")+"}"})(t):"Filter"}class o7 extends lr{constructor(e,r,n){super(e,r,n),this.key=$e.fromName(n.referenceValue)}matches(e){const r=$e.comparator(e.key,this.key);return this.matchesComparison(r)}}class s7 extends lr{constructor(e,r){super(e,"in",r),this.keys=HL("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class l7 extends lr{constructor(e,r){super(e,"not-in",r),this.keys=HL("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function HL(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>$e.fromName(n.referenceValue)))}class u7 extends lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return KE(r)&&_f(r.arrayValue,this.value)}}class c7 extends lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&_f(this.value.arrayValue,r)}}class d7 extends lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!_f(this.value.arrayValue,r)}}class f7 extends lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!KE(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>_f(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Pe=null}}function cI(t,e=null,r=[],n=[],i=null,a=null,o=null){return new h7(t,e,r,n,i,a,o)}function XE(t){const e=Ye(t);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>$1(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),fy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Qu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Qu(n))).join(",")),e.Pe=r}return e.Pe}function YE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!i7(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!qL(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uI(t.startAt,e.startAt)&&uI(t.endAt,e.endAt)}function V1(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function p7(t,e,r,n,i,a,o,l){return new Oc(t,e,r,n,i,a,o,l)}function py(t){return new Oc(t)}function dI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GL(t){return t.collectionGroup!==null}function tf(t){const e=Ye(t);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _r(zr.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Sf(a,n))})),r.has(zr.keyField().canonicalString())||e.Te.push(new Sf(zr.keyField(),n))}return e.Te}function oa(t){const e=Ye(t);return e.Ie||(e.Ie=m7(e,tf(t))),e.Ie}function m7(t,e){if(t.limitType==="F")return cI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Sf(i.field,a)}));const r=t.endAt?new Hm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Hm(t.startAt.position,t.startAt.inclusive):null;return cI(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function F1(t,e){const r=t.filters.concat([e]);return new Oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function U1(t,e,r){return new Oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function my(t,e){return YE(oa(t),oa(e))&&t.limitType===e.limitType}function KL(t){return`${XE(oa(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>WL(i))).join(", ")}]`),fy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Qu(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Qu(i))).join(",")),`Target(${n})`})(oa(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):$e.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of tf(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const d=lI(o,l,c);return o.inclusive?d<=0:d<0})(n.startAt,tf(n),i)||n.endAt&&!(function(o,l,c){const d=lI(o,l,c);return o.inclusive?d>=0:d>0})(n.endAt,tf(n),i))})(t,e)}function g7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XL(t){return(e,r)=>{let n=!1;for(const i of tf(t)){const a=y7(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function y7(t,e,r){const n=t.field.isKeyField()?$e.comparator(e.key,r.key):(function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Yu(c,d):qe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return NL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new Ht($e.comparator);function to(){return v7}const YL=new Ht($e.comparator);function qd(...t){let e=YL;for(const r of t)e=e.insert(r.key,r);return e}function QL(t){let e=YL;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function al(){return rf()}function JL(){return rf()}function rf(){return new jl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const b7=new Ht($e.comparator),x7=new _r($e.comparator);function ot(...t){let e=x7;for(const r of t)e=e.add(r);return e}const w7=new _r(Ze);function _7(){return w7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bm(e)?"-0":e}}function ZL(t){return{integerValue:""+t}}function S7(t,e){return Yq(e)?ZL(e):QE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function E7(t,e,r){return t instanceof Gm?(function(i,a){const o={fields:{[ML]:{stringValue:RL},[LL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&GE(a)&&(a=hy(a)),a&&(o.fields[DL]=a),{mapValue:o}})(r,e):t instanceof Ju?t5(t,e):t instanceof Zu?r5(t,e):(function(i,a){const o=e5(i,a),l=fI(o)+fI(i.Ee);return L1(o)&&L1(i.Ee)?ZL(l):QE(i.serializer,l)})(t,e)}function T7(t,e,r){return t instanceof Ju?t5(t,e):t instanceof Zu?r5(t,e):r}function e5(t,e){return t instanceof Km?(function(n){return L1(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Gm extends yy{}class Ju extends yy{constructor(e){super(),this.elements=e}}function t5(t,e){const r=n5(e);for(const n of t.elements)r.some((i=>ha(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Zu extends yy{constructor(e){super(),this.elements=e}}function r5(t,e){let r=n5(e);for(const n of t.elements)r=r.filter((i=>!ha(i,n)));return{arrayValue:{values:r}}}class Km extends yy{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function fI(t){return tr(t.integerValue||t.doubleValue)}function n5(t){return KE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,r){this.field=e,this.transform=r}}function A7(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Ju&&i instanceof Ju||n instanceof Zu&&i instanceof Zu?Xu(n.elements,i.elements,ha):n instanceof Km&&i instanceof Km?ha(n.Ee,i.Ee):n instanceof Gm&&i instanceof Gm})(t.transform,e.transform)}class P7{constructor(e,r){this.version=e,this.transformResults=r}}class un{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vy{}function a5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new by(t.key,un.none()):new yh(t.key,t.data,un.none());{const r=t.data,n=_n.empty();let i=new _r(zr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new gs(t.key,n,new Un(i.toArray()),un.none())}}function j7(t,e,r){t instanceof yh?(function(i,a,o){const l=i.value.clone(),c=pI(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof gs?(function(i,a,o){if(!km(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=pI(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(o5(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function nf(t,e,r,n){return t instanceof yh?(function(a,o,l,c){if(!km(a.precondition,o))return l;const d=a.value.clone(),p=mI(a.fieldTransforms,c,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof gs?(function(a,o,l,c){if(!km(a.precondition,o))return l;const d=mI(a.fieldTransforms,c,o),p=o.data;return p.setAll(o5(a)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(a,o,l){return km(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function k7(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=e5(n.transform,i||null);a!=null&&(r===null&&(r=_n.empty()),r.set(n.field,a))}return r||null}function hI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Xu(n,i,((a,o)=>A7(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yh extends vy{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gs extends vy{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function o5(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function pI(t,e,r){const n=new Map;bt(t.length===r.length,32656,{Ae:r.length,Re:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,T7(o,l,r[i]))}return n}function mI(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,E7(a,o,e))}return n}class by extends vy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I7 extends vy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&j7(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=nf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=nf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=JL();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=a5(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ke.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,((r,n)=>hI(r,n)))&&Xu(this.baseMutations,e.baseMutations,((r,n)=>hI(r,n)))}}class JE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){bt(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=(function(){return b7})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new JE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,ut;function R7(t){switch(t){case ue.OK:return qe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function s5(t){if(t===void 0)return eo("GRPC error has no .code"),ue.UNKNOWN;switch(t){case or.OK:return ue.OK;case or.CANCELLED:return ue.CANCELLED;case or.UNKNOWN:return ue.UNKNOWN;case or.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case or.INTERNAL:return ue.INTERNAL;case or.UNAVAILABLE:return ue.UNAVAILABLE;case or.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case or.NOT_FOUND:return ue.NOT_FOUND;case or.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case or.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case or.ABORTED:return ue.ABORTED;case or.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case or.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case or.DATA_LOSS:return ue.DATA_LOSS;default:return qe(39323,{code:t})}}(ut=or||(or={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=new rs([4294967295,4294967295],0);function gI(t){const e=jL().encode(t),r=new xL;return r.update(e),new Uint8Array(r.digest())}function yI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new rs([r,n],0),new rs([i,a],0)]}class ZE{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Wd(`Invalid padding: ${r}`);if(n<0)throw new Wd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Wd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Wd(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=rs.fromNumber(this.fe)}pe(e,r,n){let i=e.add(r.multiply(rs.fromNumber(n)));return i.compare(M7)===1&&(i=new rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=gI(e),[n,i]=yI(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);if(!this.ye(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new ZE(a,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.fe===0)return;const r=gI(e),[n,i]=yI(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);this.we(o)}}we(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new xy(Ke.min(),i,new Ht(Ze),to(),ot())}}class vh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new vh(n,r,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.be=i}}class l5{constructor(e,r){this.targetId=e,this.De=r}}class u5{constructor(e,r,n=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class vI{constructor(){this.ve=0,this.Ce=bI(),this.Fe=qr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ot(),r=ot(),n=ot();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qe(38017,{changeType:a})}})),new vh(this.Fe,this.Me,e,r,n)}ke(){this.xe=!1,this.Ce=bI()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class D7{constructor(e){this.We=e,this.Ge=new Map,this.ze=to(),this.je=im(),this.Je=im(),this.He=new Ht(Ze)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const n=this.tt(r);switch(e.state){case 0:this.nt(r)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),n.Be(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((n,i)=>{this.nt(i)&&r(i)}))}it(e){const r=e.targetId,n=e.De.count,i=this.st(r);if(i){const a=i.target;if(V1(a))if(n===0){const o=new $e(a.path);this.Xe(r,o,Jr.newNoDocument(o,Ke.min()))}else bt(n===1,20013,{expectedCount:n});else{const o=this.ot(r);if(o!==n){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,d)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=us(n).toUint8Array()}catch(c){if(c instanceof OL)return os("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ZE(o,i,a)}catch(c){return os(c instanceof Wd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,r,n){return r.De.count===n-this.ht(e,r.targetId)?0:2}ht(e,r){const n=this.We.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(r,a,null),i++)})),i}Pt(e){const r=new Map;this.Ge.forEach(((a,o)=>{const l=this.st(o);if(l){if(a.current&&V1(l.target)){const c=new $e(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Jr.newNoDocument(c,e))}a.Ne&&(r.set(o,a.Le()),a.ke())}}));let n=ot();this.Je.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.ze.forEach(((a,o)=>o.setReadTime(e)));const i=new xy(e,r,this.He,this.ze,n);return this.ze=to(),this.je=im(),this.Je=im(),this.He=new Ht(Ze),i}Ze(e,r){if(!this.nt(e))return;const n=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,n),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,r)?i.qe(r,1):i.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),n&&(this.ze=this.ze.insert(r,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new vI,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new _r(Ze),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new _r(Ze),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||je("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new vI),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function im(){return new Ht($e.comparator)}function bI(){return new Ht($e.comparator)}const L7={asc:"ASCENDING",desc:"DESCENDING"},$7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V7={and:"AND",or:"OR"};class F7{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function z1(t,e){return t.useProto3Json||fy(e)?e:{value:e}}function Xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U7(t,e){return Xm(t,e.toTimestamp())}function sa(t){return bt(!!t,49232),Ke.fromTimestamp((function(r){const n=ls(r);return new Lt(n.seconds,n.nanos)})(t))}function eT(t,e){return B1(t,e).canonicalString()}function B1(t,e){const r=(function(i){return new Ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function d5(t){const e=Ct.fromString(t);return bt(g5(e),10190,{key:e.toString()}),e}function q1(t,e){return eT(t.databaseId,e.path)}function ix(t,e){const r=d5(e);if(r.get(1)!==t.databaseId.projectId)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new $e(h5(r))}function f5(t,e){return eT(t.databaseId,e)}function z7(t){const e=d5(t);return e.length===4?Ct.emptyPath():h5(e)}function W1(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h5(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xI(t,e,r){return{name:q1(t,e),fields:r.value.mapValue.fields}}function B7(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,p){return d.useProto3Json?(bt(p===void 0||typeof p=="string",58123),qr.fromBase64String(p||"")):(bt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),qr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const p=d.code===void 0?ue.UNKNOWN:s5(d.code);return new Te(p,d.message||"")})(o);r=new u5(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ix(t,n.document.name),a=sa(n.document.updateTime),o=n.document.createTime?sa(n.document.createTime):Ke.min(),l=new _n({mapValue:{fields:n.document.fields}}),c=Jr.newFoundDocument(i,a,o,l),d=n.targetIds||[],p=n.removedTargetIds||[];r=new Im(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ix(t,n.document),a=n.readTime?sa(n.readTime):Ke.min(),o=Jr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Im([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ix(t,n.document),a=n.removedTargetIds||[];r=new Im([],a,i,null)}else{if(!("filter"in e))return qe(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new O7(i,a),l=n.targetId;r=new l5(l,o)}}return r}function q7(t,e){let r;if(e instanceof yh)r={update:xI(t,e.key,e.value)};else if(e instanceof by)r={delete:q1(t,e.key)};else if(e instanceof gs)r={update:xI(t,e.key,e.data),updateMask:Z7(e.fieldMask)};else{if(!(e instanceof I7))return qe(16599,{Rt:e.type});r={verify:q1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const l=o.transform;if(l instanceof Gm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ju)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Km)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw qe(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:U7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)})(t,e.precondition)),r}function W7(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?sa(i.updateTime):sa(a);return o.isEqual(Ke.min())&&(o=sa(a)),new P7(o,i.transformResults||[])})(r,e)))):[]}function H7(t,e){return{documents:[f5(t,e.path)]}}function G7(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=f5(t,i);const a=(function(d){if(d.length!==0)return m5(Li.create(d,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((p=>(function(y){return{field:Cu(y.field),direction:Y7(y.dir)}})(p)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=z1(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:r,parent:i}}function K7(t){let e=z7(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){bt(n===1,65062);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(m){const y=p5(m);return y instanceof Li&&BL(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(m){return m.map((y=>(function(S){return new Sf(Nu(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,fy(y)?null:y})(r.limit));let c=null;r.startAt&&(c=(function(m){const y=!!m.before,x=m.values||[];return new Hm(x,y)})(r.startAt));let d=null;return r.endAt&&(d=(function(m){const y=!m.before,x=m.values||[];return new Hm(x,y)})(r.endAt)),p7(e,i,o,a,l,"F",c,d)}function X7(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function p5(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Nu(r.unaryFilter.field);return lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(r.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Nu(r.unaryFilter.field);return lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Nu(r.unaryFilter.field);return lr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return lr.create(Nu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Li.create(r.compositeFilter.filters.map((n=>p5(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(r.compositeFilter.op))})(t):qe(30097,{filter:t})}function Y7(t){return L7[t]}function Q7(t){return $7[t]}function J7(t){return V7[t]}function Cu(t){return{fieldPath:t.canonicalString()}}function Nu(t){return zr.fromServerFormat(t.fieldPath)}function m5(t){return t instanceof lr?(function(r){if(r.op==="=="){if(sI(r.value))return{unaryFilter:{field:Cu(r.field),op:"IS_NAN"}};if(oI(r.value))return{unaryFilter:{field:Cu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(sI(r.value))return{unaryFilter:{field:Cu(r.field),op:"IS_NOT_NAN"}};if(oI(r.value))return{unaryFilter:{field:Cu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(r.field),op:Q7(r.op),value:r.value}}})(t):t instanceof Li?(function(r){const n=r.getFilters().map((i=>m5(i)));return n.length===1?n[0]:{compositeFilter:{op:J7(r.op),filters:n}}})(t):qe(54877,{filter:t})}function Z7(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function g5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,r,n,i,a=Ke.min(),o=Ke.min(),l=qr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.gt=e}}function tW(t){const e=K7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.Dn=new nW}addToCollectionParentIndex(e,r){return this.Dn.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve(ss.min())}updateCollectionGroup(e,r,n){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class nW{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new _r(Ct.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new _r(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y5=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(y5,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ec(0)}static ur(){return new ec(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="LruGarbageCollector",iW=1048576;function SI([t,e],[r,n]){const i=Ze(t,r);return i===0?Ze(e,n):i}class aW{constructor(e){this.Tr=e,this.buffer=new _r(SI),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();SI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class oW{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){je(_I,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Nc(r)?je(_I,"Ignoring IndexedDB error during garbage collection: ",r):await Cc(r)}await this.Rr(3e5)}))}}class sW{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return he.resolve(dy.ue);const n=new aW(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(wI)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wI):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let n,i,a,o,l,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,r)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(d=Date.now(),ku()<=at.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function lW(t,e){return new sW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(){this.changes=new jl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?he.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&nf(n.mutation,i,Un.empty(),Lt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,ot()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=ot()){const i=al();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=qd();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=al();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,ot())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let a=to();const o=rf(),l=(function(){return rf()})();return r.forEach(((c,d)=>{const p=n.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof gs)?a=a.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),nf(p.mutation,d,p.mutation.getFieldMask(),Lt.now())):o.set(d.key,Un.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,p)=>o.set(d,p))),r.forEach(((d,p)=>{var m;return l.set(d,new cW(p,(m=o.get(d))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,r){const n=rf();let i=new Ht(((o,l)=>o-l)),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let p=n.get(c)||Un.empty();p=l.applyToLocalView(d,p),n.set(c,p);const m=(i.get(l.batchId)||ot()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,p=c.value,m=JL();p.forEach((y=>{if(!a.has(y)){const x=a5(r.get(y),n.get(y));x!==null&&m.set(y,x),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return he.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):GL(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):he.resolve(al());let l=bf,c=a;return o.next((d=>he.forEach(d,((p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{c=c.insert(p,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,ot()))).next((p=>({batchId:l,changes:QL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $e(r)).next((n=>{let i=qd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=qd();return this.indexManager.getCollectionParents(e,a).next((l=>he.forEach(l,(c=>{const d=(function(m,y){return new Oc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((p=>{p.forEach(((m,y)=>{o=o.insert(m,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((c,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Jr.newInvalidDocument(p)))}));let l=qd();return o.forEach(((c,d)=>{const p=a.get(c);p!==void 0&&nf(p.mutation,d,Un.empty(),Lt.now()),gy(r,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return he.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:sa(i.createTime)}})(r)),he.resolve()}getNamedQuery(e,r){return he.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(i){return{name:i.name,query:tW(i.bundledQuery),readTime:sa(i.readTime)}})(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.overlays=new Ht($e.comparator),this.kr=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const n=al();return he.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.wt(e,r,a)})),he.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(n)),he.resolve()}getOverlaysForCollection(e,r,n){const i=al(),a=r.length+1,o=new $e(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return he.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ht(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let p=a.get(d.largestBatchId);p===null&&(p=al(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=al(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,p)=>l.set(d,p))),!(l.size()>=i)););return he.resolve(l)}wt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new N7(r,n));let a=this.kr.get(r);a===void 0&&(a=ot(),this.kr.set(r,a)),this.kr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.qr=new _r(kr.Qr),this.$r=new _r(kr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const n=new kr(e,r);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new kr(e,r))}Gr(e,r){e.forEach((n=>this.removeReference(n,r)))}zr(e){const r=new $e(new Ct([])),n=new kr(r,e),i=new kr(r,e+1),a=[];return this.$r.forEachInRange([n,i],(o=>{this.Wr(o),a.push(o.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new $e(new Ct([])),n=new kr(r,e),i=new kr(r,e+1);let a=ot();return this.$r.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new kr(e,0),n=this.qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kr{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return $e.comparator(e.key,r.key)||Ze(e.Hr,r.Hr)}static Ur(e,r){return Ze(e.Hr,r.Hr)||$e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new _r(kr.Qr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C7(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Yr=this.Yr.add(new kr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,r){return he.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?HE:this.er-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kr(r,0),i=new kr(r,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,i],(o=>{const l=this.Zr(o.Hr);a.push(l)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new _r(Ze);return r.forEach((i=>{const a=new kr(i,0),o=new kr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,o],(l=>{n=n.add(l.Hr)}))})),he.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;$e.isDocumentKey(a)||(a=a.child(""));const o=new kr(new $e(a),0);let l=new _r(Ze);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),o),he.resolve(this.ei(l))}ei(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){bt(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return he.forEach(r.mutations,(i=>{const a=new kr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,r){const n=new kr(r,0),i=this.Yr.firstAfterOrEqual(n);return he.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.ni=e,this.docs=(function(){return new Ht($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ni(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return he.resolve(n?n.document.mutableCopy():Jr.newInvalidDocument(r))}getEntries(e,r){let n=to();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Jr.newInvalidDocument(i))})),he.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=to();const o=r.path,l=new $e(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Hq(Wq(p),n)<=0||(i.has(p.key)||gy(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,r,n,i){qe(9500)}ri(e,r){return he.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new yW(this)}getSize(e){return he.resolve(this.size)}}class yW extends uW{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),he.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.persistence=e,this.ii=new jl((r=>XE(r)),YE),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.si=0,this.oi=new tT,this.targetCount=0,this._i=ec.ar()}forEachTarget(e,r){return this.ii.forEach(((n,i)=>r(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.si&&(this.si=r),he.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new ec(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.hr(r),he.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ii.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const n=this.ii.get(r)||null;return he.resolve(n)}addMatchingKeys(e,r,n){return this.oi.Kr(r,n),he.resolve()}removeMatchingKeys(e,r,n){this.oi.Gr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),he.resolve()}getMatchingKeysForTargetId(e,r){const n=this.oi.Jr(r);return he.resolve(n)}containsKey(e,r){return he.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,r){this.ai={},this.overlays={},this.ui=new dy(0),this.ci=!1,this.ci=!0,this.li=new pW,this.referenceDelegate=e(this),this.hi=new vW(this),this.indexManager=new rW,this.remoteDocumentCache=(function(i){return new gW(i)})((n=>this.referenceDelegate.Pi(n))),this.serializer=new eW(r),this.Ti=new fW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new hW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ai[e.toKey()];return n||(n=new mW(r,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,n){je("MemoryPersistence","Starting transaction:",e);const i=new bW(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,r){return he.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,r))))}}class bW extends Kq{constructor(e){super(),this.currentSequenceNumber=e}}class rT{constructor(e){this.persistence=e,this.Ai=new tT,this.Ri=null}static Vi(e){return new rT(e)}get mi(){if(this.Ri)return this.Ri;throw qe(60996)}addReference(e,r,n){return this.Ai.addReference(n,r),this.mi.delete(n.toString()),he.resolve()}removeReference(e,r,n){return this.Ai.removeReference(n,r),this.mi.add(n.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),he.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((i=>this.mi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.mi,(n=>{const i=$e.fromPath(n);return this.fi(e,i).next((a=>{a||r.removeEntry(i,Ke.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((n=>{n?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return he.or([()=>he.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Ym{constructor(e,r){this.persistence=e,this.gi=new jl((n=>Qq(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=lW(this,r)}static Vi(e,r){return new Ym(e,r)}Ii(){}di(e){return he.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}yr(e){let r=0;return this.gr(e,(n=>{r++})).next((()=>r))}gr(e,r){return he.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((a=>a?he.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(o=>this.Sr(e,o,r).next((l=>{l||(n++,a.removeEntry(o,Ke.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}removeReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Pm(e.data.value)),r}Sr(e,r,n){return he.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.gi.get(r);return he.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Is=n,this.ds=i}static Es(e,r){let n=ot(),i=ot();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new nT(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return qz()?8:Xq(en())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ps(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ys(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new xW;return this.ws(e,r,o).next((l=>{if(a.result=l,this.Rs)return this.Ss(e,r,o,l.size)}))})).next((()=>a.result))}Ss(e,r,n,i){return n.documentReadCount<this.Vs?(ku()<=at.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Iu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(ku()<=at.DEBUG&&je("QueryEngine","Query:",Iu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(ku()<=at.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Iu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oa(r))):he.resolve())}ps(e,r){if(dI(r))return he.resolve(null);let n=oa(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=U1(r,null,"F"),n=oa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=ot(...a);return this.gs.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.bs(r,l);return this.Ds(r,d,o,c.readTime)?this.ps(e,U1(r,null,"F")):this.vs(e,d,r,c)}))))})))))}ys(e,r,n,i){return dI(r)||i.isEqual(Ke.min())?he.resolve(null):this.gs.getDocuments(e,n).next((a=>{const o=this.bs(r,a);return this.Ds(r,o,n,i)?he.resolve(null):(ku()<=at.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(r)),this.vs(e,o,r,qq(i,bf)).next((l=>l)))}))}bs(e,r){let n=new _r(XL(e));return r.forEach(((i,a)=>{gy(e,a)&&(n=n.add(a))})),n}Ds(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,r,n){return ku()<=at.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Iu(r)),this.gs.getDocumentsMatchingQuery(e,r,ss.min(),n)}vs(e,r,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="LocalStore",_W=3e8;class SW{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.Fs=new Ht(Ze),this.Ms=new jl((a=>XE(a)),YE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dW(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function EW(t,e,r,n){return new SW(t,e,r,n)}async function b5(t,e){const r=Ye(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Ns(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],l=[];let c=ot();for(const d of i){o.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of a){l.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Bs:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function TW(t,e){const r=Ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,p){const m=d.batch,y=m.keys();let x=he.resolve();return y.forEach((S=>{x=x.next((()=>p.getEntry(c,S))).next((w=>{const b=d.docVersions.get(S);bt(b!==null,48541),w.version.compareTo(b)<0&&(m.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),p.addEntry(w)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=ot();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function x5(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function AW(t,e){const r=Ye(t),n=e.snapshotVersion;let i=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Os.newChangeBuffer({trackRemovals:!0});i=r.Fs;const l=[];e.targetChanges.forEach(((p,m)=>{const y=i.get(m);if(!y)return;l.push(r.hi.removeMatchingKeys(a,p.removedDocuments,m).next((()=>r.hi.addMatchingKeys(a,p.addedDocuments,m))));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(qr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(m,x),(function(w,b,T){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=_W?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(y,x,p)&&l.push(r.hi.updateTargetData(a,x))}));let c=to(),d=ot();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),l.push(PW(a,o,e.documentUpdates).next((p=>{c=p.Ls,d=p.ks}))),!n.isEqual(Ke.min())){const p=r.hi.getLastRemoteSnapshotVersion(a).next((m=>r.hi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(p)}return he.waitFor(l).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(r.Fs=i,a)))}function PW(t,e,r){let n=ot(),i=ot();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=to();return r.forEach(((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):je(iT,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Ls:o,ks:i}}))}function jW(t,e){const r=Ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=HE),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function kW(t,e){const r=Ye(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.hi.getTargetData(n,e).next((a=>a?(i=a,he.resolve(i)):r.hi.allocateTargetId(n).next((o=>(i=new Yo(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.hi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(n.targetId,n),r.Ms.set(e,n.targetId)),n}))}async function H1(t,e,r){const n=Ye(t),i=n.Fs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Nc(o))throw o;je(iT,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function EI(t,e,r){const n=Ye(t);let i=Ke.min(),a=ot();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,p){const m=Ye(c),y=m.Ms.get(p);return y!==void 0?he.resolve(m.Fs.get(y)):m.hi.getTargetData(d,p)})(n,o,oa(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(o,e,r?i:Ke.min(),r?a:ot()))).next((l=>(IW(n,g7(e),l),{documents:l,qs:a})))))}function IW(t,e,r){let n=t.xs.get(e)||Ke.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.xs.set(e,n)}class TI{constructor(){this.activeTargetIds=_7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CW{constructor(){this.Fo=new TI,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,n){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new TI,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="ConnectivityMonitor";class PI{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){je(AI,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){je(AI,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am=null;function G1(){return am===null?am=(function(){return 268435456+Math.round(2147483648*Math.random())})():am++,"0x"+am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="RestConnection",OW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RW{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===qm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const o=G1(),l=this.Go(e,r.toUriEncodedString());je(ax,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:d}=new URL(l),p=jc(d);return this.jo(e,l,c,n,p).then((m=>(je(ax,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw os(ax,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",n),m}))}Jo(e,r,n,i,a,o){return this.Wo(e,r,n,i,a)}zo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Go(e,r){const n=OW[e];return`${this.$o}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="WebChannelConnection";class DW extends RW{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,n,i,a){const o=G1();return new Promise(((l,c)=>{const d=new wL;d.setWithCredentials(!0),d.listenOnce(_L.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Am.NO_ERROR:const m=d.getResponseJson();je(Xr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Am.TIMEOUT:je(Xr,`RPC '${e}' ${o} timed out`),c(new Te(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const y=d.getStatus();if(je(Xr,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const w=(function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(E)>=0?E:ue.UNKNOWN})(S.status);c(new Te(w,S.message))}else c(new Te(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Te(ue.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{je(Xr,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);je(Xr,`RPC '${e}' ${o} sending request:`,i),d.send(r,"POST",p,n,15)}))}P_(e,r,n){const i=G1(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TL(),l=EL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const p=a.join("");je(Xr,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=o.createWebChannel(p,c);this.T_(m);let y=!1,x=!1;const S=new MW({Ho:b=>{x?je(Xr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(je(Xr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),je(Xr,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},Yo:()=>m.close()}),w=(b,T,E)=>{b.listen(T,(I=>{try{E(I)}catch(N){setTimeout((()=>{throw N}),0)}}))};return w(m,Bd.EventType.OPEN,(()=>{x||(je(Xr,`RPC '${e}' stream ${i} transport opened.`),S.s_())})),w(m,Bd.EventType.CLOSE,(()=>{x||(x=!0,je(Xr,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(m))})),w(m,Bd.EventType.ERROR,(b=>{x||(x=!0,os(Xr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.__(new Te(ue.UNAVAILABLE,"The operation could not be completed")))})),w(m,Bd.EventType.MESSAGE,(b=>{var T;if(!x){const E=b.data[0];bt(!!E,16349);const I=E,N=(I==null?void 0:I.error)||((T=I[0])===null||T===void 0?void 0:T.error);if(N){je(Xr,`RPC '${e}' stream ${i} received error:`,N);const k=N.status;let O=(function(R){const F=or[R];if(F!==void 0)return s5(F)})(k),P=N.message;O===void 0&&(O=ue.INTERNAL,P="Unknown error status: "+k+" with message "+N.message),x=!0,S.__(new Te(O,P)),m.close()}else je(Xr,`RPC '${e}' stream ${i} received:`,E),S.a_(E)}})),w(l,SL.STAT_EVENT,(b=>{b.stat===R1.PROXY?je(Xr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===R1.NOPROXY&&je(Xr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.o_()}),0),S}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function ox(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){return new F7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=r,this.d_=n,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-n);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="PersistentStream";class _5{constructor(e,r,n,i,a,o,l,c){this.Fi=e,this.w_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new w5(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(eo(r.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.b_===r&&this.W_(n,i)}),(n=>{e((()=>{const i=new Te(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)}))}))}W_(e,r){const n=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{n((()=>this.G_(i)))})),this.stream.onMessage((i=>{n((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return je(jI,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(je(jI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LW extends _5{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=B7(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ke.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?sa(o.readTime):Ke.min()})(e);return this.listener.J_(r,n)}H_(e){const r={};r.database=W1(this.serializer),r.addTarget=(function(a,o){let l;const c=o.target;if(l=V1(c)?{documents:H7(a,c)}:{query:G7(a,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=c5(a,o.resumeToken);const d=z1(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ke.min())>0){l.readTime=Xm(a,o.snapshotVersion.toTimestamp());const d=z1(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const n=X7(this.serializer,e);n&&(r.labels=n),this.k_(r)}Y_(e){const r={};r.database=W1(this.serializer),r.removeTarget=e,this.k_(r)}}class $W extends _5{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=W7(e.writeResults,e.commitTime),n=sa(e.commitTime);return this.listener.ta(n,r)}na(){const e={};e.database=W1(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>q7(this.serializer,n)))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{}class FW extends VW{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Wo(e,B1(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ue.UNKNOWN,a.toString())}))}Jo(e,r,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Jo(e,B1(r,n),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ue.UNKNOWN,o.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class UW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(eo(r),this._a=!1):je("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="RemoteStore";class zW{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((o=>{n.enqueueAndForget((async()=>{kl(this)&&(je(xl,"Restarting streams for network reachability change."),await(async function(c){const d=Ye(c);d.Ia.add(4),await bh(d),d.Aa.set("Unknown"),d.Ia.delete(4),await _y(d)})(this))}))})),this.Aa=new UW(n,i)}}async function _y(t){if(kl(t))for(const e of t.da)await e(!0)}async function bh(t){for(const e of t.da)await e(!1)}function S5(t,e){const r=Ye(t);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),lT(r)?sT(r):Rc(r).x_()&&oT(r,e))}function aT(t,e){const r=Ye(t),n=Rc(r);r.Ta.delete(e),n.x_()&&E5(r,e),r.Ta.size===0&&(n.x_()?n.B_():kl(r)&&r.Aa.set("Unknown"))}function oT(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Rc(t).H_(e)}function E5(t,e){t.Ra.$e(e),Rc(t).Y_(e)}function sT(t){t.Ra=new D7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.Aa.aa()}function lT(t){return kl(t)&&!Rc(t).M_()&&t.Ta.size>0}function kl(t){return Ye(t).Ia.size===0}function T5(t){t.Ra=void 0}async function BW(t){t.Aa.set("Online")}async function qW(t){t.Ta.forEach(((e,r)=>{oT(t,e)}))}async function WW(t,e){T5(t),lT(t)?(t.Aa.la(e),sT(t)):t.Aa.set("Unknown")}async function HW(t,e,r){if(t.Aa.set("Online"),e instanceof u5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ta.delete(l),i.Ra.removeTarget(l))})(t,e)}catch(n){je(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qm(t,n)}else if(e instanceof Im?t.Ra.Ye(e):e instanceof l5?t.Ra.it(e):t.Ra.et(e),!r.isEqual(Ke.min()))try{const n=await x5(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const l=a.Ra.Pt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Ta.get(d);p&&a.Ta.set(d,p.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const p=a.Ta.get(c);if(!p)return;a.Ta.set(c,p.withResumeToken(qr.EMPTY_BYTE_STRING,p.snapshotVersion)),E5(a,c);const m=new Yo(p.target,c,d,p.sequenceNumber);oT(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){je(xl,"Failed to raise snapshot:",n),await Qm(t,n)}}async function Qm(t,e,r){if(!Nc(e))throw e;t.Ia.add(1),await bh(t),t.Aa.set("Offline"),r||(r=()=>x5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(xl,"Retrying IndexedDB access"),await r(),t.Ia.delete(1),await _y(t)}))}function A5(t,e){return e().catch((r=>Qm(t,r,e)))}async function Sy(t){const e=Ye(t),r=ds(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:HE;for(;GW(e);)try{const i=await jW(e.localStore,n);if(i===null){e.Pa.length===0&&r.B_();break}n=i.batchId,KW(e,i)}catch(i){await Qm(e,i)}P5(e)&&j5(e)}function GW(t){return kl(t)&&t.Pa.length<10}function KW(t,e){t.Pa.push(e);const r=ds(t);r.x_()&&r.Z_&&r.X_(e.mutations)}function P5(t){return kl(t)&&!ds(t).M_()&&t.Pa.length>0}function j5(t){ds(t).start()}async function XW(t){ds(t).na()}async function YW(t){const e=ds(t);for(const r of t.Pa)e.X_(r.mutations)}async function QW(t,e,r){const n=t.Pa.shift(),i=JE.from(n,e,r);await A5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Sy(t)}async function JW(t,e){e&&ds(t).Z_&&await(async function(n,i){if((function(o){return R7(o)&&o!==ue.ABORTED})(i.code)){const a=n.Pa.shift();ds(n).N_(),await A5(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Sy(n)}})(t,e),P5(t)&&j5(t)}async function kI(t,e){const r=Ye(t);r.asyncQueue.verifyOperationInProgress(),je(xl,"RemoteStore received new credentials");const n=kl(r);r.Ia.add(3),await bh(r),n&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await _y(r)}async function ZW(t,e){const r=Ye(t);e?(r.Ia.delete(2),await _y(r)):e||(r.Ia.add(2),await bh(r),r.Aa.set("Unknown"))}function Rc(t){return t.Va||(t.Va=(function(r,n,i){const a=Ye(r);return a.ia(),new LW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:BW.bind(null,t),e_:qW.bind(null,t),n_:WW.bind(null,t),J_:HW.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),lT(t)?sT(t):t.Aa.set("Unknown")):(await t.Va.stop(),T5(t))}))),t.Va}function ds(t){return t.ma||(t.ma=(function(r,n,i){const a=Ye(r);return a.ia(),new $W(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:XW.bind(null,t),n_:JW.bind(null,t),ea:YW.bind(null,t),ta:QW.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Sy(t)):(await t.ma.stop(),t.Pa.length>0&&(je(xl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new uT(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cT(t,e){if(eo("AsyncQueue",`${e}: ${t}`),Nc(t))return new Te(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{static emptySet(e){return new Uu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||$e.comparator(r.key,n.key):(r,n)=>$e.comparator(r.key,n.key),this.keyedMap=qd(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Uu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.fa=new Ht($e.comparator)}track(e){const r=e.doc.key,n=this.fa.get(r);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(r,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(r):e.type===1&&n.type===2?this.fa=this.fa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):qe(63341,{At:e,ga:n}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,n)=>{e.push(n)})),e}}class tc{constructor(e,r,n,i,a,o,l,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new tc(e,r,Uu.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class tH{constructor(){this.queries=CI(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,n){const i=Ye(r),a=i.queries;i.queries=CI(),a.forEach(((o,l)=>{for(const c of l.wa)c.onError(n)}))})(this,new Te(ue.ABORTED,"Firestore shutting down"))}}function CI(){return new jl((t=>KL(t)),my)}async function dT(t,e){const r=Ye(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.ba()&&(n=2):(a=new eH,n=e.ba()?0:1);try{switch(n){case 0:a.ya=await r.onListen(i,!0);break;case 1:a.ya=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=cT(o,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.wa.push(e),e.va(r.onlineState),a.ya&&e.Ca(a.ya)&&hT(r)}async function fT(t,e){const r=Ye(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.wa.indexOf(e);o>=0&&(a.wa.splice(o,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function rH(t,e){const r=Ye(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.wa)l.Ca(i)&&(n=!0);o.ya=i}}n&&hT(r)}function nH(t,e,r){const n=Ye(t),i=n.queries.get(e);if(i)for(const a of i.wa)a.onError(r);n.queries.delete(e)}function hT(t){t.Da.forEach((e=>{e.next()}))}var K1,NI;(NI=K1||(K1={})).Fa="default",NI.Cache="cache";class pT{constructor(e,r,n){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new tc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const n=r!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==K1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.key=e}}class I5{constructor(e){this.key=e}}class iH{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ot(),this.mutatedKeys=ot(),this.Xa=XL(e),this.eu=new Uu(this.Xa)}get tu(){return this.Ha}nu(e,r){const n=r?r.ru:new II,i=r?r.eu:this.eu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const y=i.get(p),x=gy(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?S!==w&&(n.track({type:3,doc:x}),b=!0):this.iu(y,x)||(n.track({type:2,doc:x}),b=!0,(c&&this.Xa(x,c)>0||d&&this.Xa(x,d)<0)&&(l=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(c||d)&&(l=!0)),b&&(x?(o=o.add(x),a=w?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{eu:o,ru:n,Ds:l,mutatedKeys:a}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((p,m)=>(function(x,S){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{At:b})}};return w(x)-w(S)})(p.type,m.type)||this.Xa(p.doc,m.doc))),this.su(n),i=i!=null&&i;const l=r&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,d=c!==this.Ya;return this.Ya=c,o.length!==0||d?{snapshot:new tc(this.query,e.eu,a,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new II,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ot(),this.eu.forEach((n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))}));const r=[];return e.forEach((n=>{this.Za.has(n)||r.push(new I5(n))})),this.Za.forEach((n=>{e.has(n)||r.push(new k5(n))})),r}uu(e){this.Ha=e.qs,this.Za=ot();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return tc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const mT="SyncEngine";class aH{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class oH{constructor(e){this.key=e,this.lu=!1}}class sH{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new jl((l=>KL(l)),my),this.Tu=new Map,this.Iu=new Set,this.du=new Ht($e.comparator),this.Eu=new Map,this.Au=new tT,this.Ru={},this.Vu=new Map,this.mu=ec.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function lH(t,e,r=!0){const n=D5(t);let i;const a=n.Pu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await C5(n,e,r,!0),i}async function uH(t,e){const r=D5(t);await C5(r,e,!0,!1)}async function C5(t,e,r,n){const i=await kW(t.localStore,oa(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await cH(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&S5(t.remoteStore,i),l}async function cH(t,e,r,n,i){t.gu=(m,y,x)=>(async function(w,b,T,E){let I=b.view.nu(T);I.Ds&&(I=await EI(w.localStore,b.query,!1).then((({documents:P})=>b.view.nu(P,I))));const N=E&&E.targetChanges.get(b.targetId),k=E&&E.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(I,w.isPrimaryClient,N,k);return RI(w,b.targetId,O._u),O.snapshot})(t,m,y,x);const a=await EI(t.localStore,e,!0),o=new iH(e,a.qs),l=o.nu(a.documents),c=vh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);RI(t,r,d._u);const p=new aH(e,r,o);return t.Pu.set(e,p),t.Tu.has(r)?t.Tu.get(r).push(e):t.Tu.set(r,[e]),d.snapshot}async function dH(t,e,r){const n=Ye(t),i=n.Pu.get(e),a=n.Tu.get(i.targetId);if(a.length>1)return n.Tu.set(i.targetId,a.filter((o=>!my(o,e)))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await H1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&aT(n.remoteStore,i.targetId),X1(n,i.targetId)})).catch(Cc)):(X1(n,i.targetId),await H1(n.localStore,i.targetId,!0))}async function fH(t,e){const r=Ye(t),n=r.Pu.get(e),i=r.Tu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),aT(r.remoteStore,n.targetId))}async function hH(t,e,r){const n=xH(t);try{const i=await(function(o,l){const c=Ye(o),d=Lt.now(),p=l.reduce(((x,S)=>x.add(S.key)),ot());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=to(),w=ot();return c.Os.getEntries(x,p).next((b=>{S=b,S.forEach(((T,E)=>{E.isValidDocument()||(w=w.add(T))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((b=>{m=b;const T=[];for(const E of l){const I=k7(E,m.get(E.key).overlayedDocument);I!=null&&T.push(new gs(E.key,I,FL(I.value.mapValue),un.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,T,l)})).next((b=>{y=b;const T=b.applyToLocalDocumentSet(m,w);return c.documentOverlayCache.saveOverlays(x,b.batchId,T)}))})).then((()=>({batchId:y.batchId,changes:QL(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new Ht(Ze)),d=d.insert(l,c),o.Ru[o.currentUser.toKey()]=d})(n,i.batchId,r),await xh(n,i.changes),await Sy(n.remoteStore)}catch(i){const a=cT(i,"Failed to persist write");r.reject(a)}}async function N5(t,e){const r=Ye(t);try{const n=await AW(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Eu.get(a);o&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?bt(o.lu,14607):i.removedDocuments.size>0&&(bt(o.lu,42227),o.lu=!1))})),await xh(r,n,e)}catch(n){await Cc(n)}}function OI(t,e,r){const n=Ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Pu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=Ye(o);c.onlineState=l;let d=!1;c.queries.forEach(((p,m)=>{for(const y of m.wa)y.va(l)&&(d=!0)})),d&&hT(c)})(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function pH(t,e,r){const n=Ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),a=i&&i.key;if(a){let o=new Ht($e.comparator);o=o.insert(a,Jr.newNoDocument(a,Ke.min()));const l=ot().add(a),c=new xy(Ke.min(),new Map,new Ht(Ze),o,l);await N5(n,c),n.du=n.du.remove(a),n.Eu.delete(e),gT(n)}else await H1(n.localStore,e,!1).then((()=>X1(n,e,r))).catch(Cc)}async function mH(t,e){const r=Ye(t),n=e.batch.batchId;try{const i=await TW(r.localStore,e);R5(r,n,null),O5(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await xh(r,i)}catch(i){await Cc(i)}}async function gH(t,e,r){const n=Ye(t);try{const i=await(function(o,l){const c=Ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(bt(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>c.localDocuments.getDocuments(d,p)))}))})(n.localStore,e);R5(n,e,r),O5(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await xh(n,i)}catch(i){await Cc(i)}}function O5(t,e){(t.Vu.get(e)||[]).forEach((r=>{r.resolve()})),t.Vu.delete(e)}function R5(t,e,r){const n=Ye(t);let i=n.Ru[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function X1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Tu.get(e))t.Pu.delete(n),r&&t.hu.pu(n,r);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((n=>{t.Au.containsKey(n)||M5(t,n)}))}function M5(t,e){t.Iu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(aT(t.remoteStore,r),t.du=t.du.remove(e),t.Eu.delete(r),gT(t))}function RI(t,e,r){for(const n of r)n instanceof k5?(t.Au.addReference(n.key,e),yH(t,n)):n instanceof I5?(je(mT,"Document no longer in limbo: "+n.key),t.Au.removeReference(n.key,e),t.Au.containsKey(n.key)||M5(t,n.key)):qe(19791,{yu:n})}function yH(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Iu.has(n)||(je(mT,"New document in limbo: "+r),t.Iu.add(n),gT(t))}function gT(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const r=new $e(Ct.fromString(e)),n=t.mu.next();t.Eu.set(n,new oH(r)),t.du=t.du.insert(r,n),S5(t.remoteStore,new Yo(oa(py(r.path)),n,"TargetPurposeLimboResolution",dy.ue))}}async function xh(t,e,r){const n=Ye(t),i=[],a=[],o=[];n.Pu.isEmpty()||(n.Pu.forEach(((l,c)=>{o.push(n.gu(c,e,r).then((d=>{var p;if((d||r)&&n.isPrimaryClient){const m=d?!d.fromCache:(p=r==null?void 0:r.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=nT.Es(c.targetId,d);a.push(m)}})))})),await Promise.all(o),n.hu.J_(i),await(async function(c,d){const p=Ye(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>he.forEach(d,(y=>he.forEach(y.Is,(x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x))).next((()=>he.forEach(y.ds,(x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))))))}catch(m){if(!Nc(m))throw m;je(iT,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const x=p.Fs.get(y),S=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(S);p.Fs=p.Fs.insert(y,w)}}})(n.localStore,a))}async function vH(t,e){const r=Ye(t);if(!r.currentUser.isEqual(e)){je(mT,"User change. New user:",e.toKey());const n=await b5(r.localStore,e);r.currentUser=e,(function(a,o){a.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Te(ue.CANCELLED,o))}))})),a.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await xh(r,n.Bs)}}function bH(t,e){const r=Ye(t),n=r.Eu.get(e);if(n&&n.lu)return ot().add(n.key);{let i=ot();const a=r.Tu.get(e);if(!a)return i;for(const o of a){const l=r.Pu.get(o);i=i.unionWith(l.view.tu)}return i}}function D5(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pH.bind(null,e),e.hu.J_=rH.bind(null,e.eventManager),e.hu.pu=nH.bind(null,e.eventManager),e}function xH(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gH.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return EW(this.persistence,new wW,e.initialUser,this.serializer)}Du(e){return new v5(rT.Vi,this.serializer)}bu(e){return new CW}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class wH extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){bt(this.persistence.referenceDelegate instanceof Ym,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new oW(n,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new v5((n=>Ym.Vi(n,r)),this.serializer)}}class Y1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>OI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=vH.bind(null,this.syncEngine),await ZW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tH})()}createDatastore(e){const r=wy(e.databaseInfo.databaseId),n=(function(a){return new DW(a)})(e.databaseInfo);return(function(a,o,l,c){return new FW(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,l){return new zW(n,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>OI(this.syncEngine,r,0)),(function(){return PI.C()?new PI:new NW})())}createSyncEngine(e,r){return(function(i,a,o,l,c,d,p){const m=new sH(i,a,o,l,c,d);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=Ye(i);je(xl,"RemoteStore shutting down."),a.Ia.add(5),await bh(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Y1.provider={build:()=>new Y1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class _H{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Qr.UNAUTHENTICATED,this.clientId=WE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{je(fs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(je(fs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=cT(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function sx(t,e){t.asyncQueue.verifyOperationInProgress(),je(fs,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await b5(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>{os("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{je("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{os("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function MI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await SH(t);je(fs,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>kI(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>kI(e.remoteStore,i))),t._onlineComponents=e}async function SH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(fs,"Using user provided OfflineComponentProvider");try{await sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;os("Error using user provided cache. Falling back to memory cache: "+r),await sx(t,new Jm)}}else je(fs,"Using default OfflineComponentProvider"),await sx(t,new wH(void 0));return t._offlineComponents}async function L5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(fs,"Using user provided OnlineComponentProvider"),await MI(t,t._uninitializedComponentsProvider._online)):(je(fs,"Using default OnlineComponentProvider"),await MI(t,new Y1))),t._onlineComponents}function EH(t){return L5(t).then((e=>e.syncEngine))}async function Zm(t){const e=await L5(t),r=e.eventManager;return r.onListen=lH.bind(null,e.syncEngine),r.onUnlisten=dH.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=uH.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=fH.bind(null,e.syncEngine),r}function TH(t,e,r={}){const n=new Ga;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,d){const p=new yT({next:y=>{p.Ou(),o.enqueueAndForget((()=>fT(a,m)));const x=y.docs.has(l);!x&&y.fromCache?d.reject(new Te(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&c&&c.source==="server"?d.reject(new Te(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new pT(py(l.path),p,{includeMetadataChanges:!0,ka:!0});return dT(a,m)})(await Zm(t),t.asyncQueue,e,r,n))),n.promise}function AH(t,e,r={}){const n=new Ga;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,d){const p=new yT({next:y=>{p.Ou(),o.enqueueAndForget((()=>fT(a,m))),y.fromCache&&c.source==="server"?d.reject(new Te(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new pT(l,p,{includeMetadataChanges:!0,ka:!0});return dT(a,m)})(await Zm(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="firestore.googleapis.com",LI=!0;class $I{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V5,this.ssl=LI}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:LI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iW)throw new Te(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$5((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $I({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $I(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Rq;switch(n.type){case"firstParty":return new $q(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=DI.get(r);n&&(je("ComponentProvider","Removing Datastore"),DI.delete(r),n.terminate())})(this),Promise.resolve()}}function PH(t,e,r,n={}){var i;t=ln(t,Ey);const a=jc(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;a&&(I4(`https://${c}`),C4("Firestore",!0)),o.host!==V5&&o.host!==c&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:n});if(!Qa(d,l)&&(t._setSettings(d),n.mockUserToken)){let p,m;if(typeof n.mockUserToken=="string")p=n.mockUserToken,m=Qr.MOCK_USER;else{p=Mz(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new Te(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Qr(y)}t._authCredentials=new Mq(new PL(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class Qt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(gh(r,Qt._jsonSchema))return new Qt(e,n||null,new $e(Ct.fromString(r.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:ur("string",Qt._jsonSchemaVersion),referencePath:ur("string")};class ns extends ys{constructor(e,r,n){super(e,r,py(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new $e(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Tn(t,e,...r){if(t=Pt(t),kL("collection","path",e),t instanceof Ey){const n=Ct.fromString(e,...r);return Qk(n),new ns(t,null,n)}{if(!(t instanceof Qt||t instanceof ns))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ct.fromString(e,...r));return Qk(n),new ns(t.firestore,null,n)}}function Br(t,e,...r){if(t=Pt(t),arguments.length===1&&(e=WE.newId()),kL("doc","path",e),t instanceof Ey){const n=Ct.fromString(e,...r);return Yk(n),new Qt(t,null,new $e(n))}{if(!(t instanceof Qt||t instanceof ns))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ct.fromString(e,...r));return Yk(n),new Qt(t.firestore,t instanceof ns?t.converter:null,new $e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="AsyncQueue";class FI{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new w5(this,"async_queue_retry"),this.oc=()=>{const n=ox();n&&je(VI,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const r=ox();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=ox();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Ga;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Nc(e))throw e;je(VI,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((n=>{throw this.tc=n,this.nc=!1,eo("INTERNAL UNHANDLED ERROR: ",UI(n)),n})).then((n=>(this.nc=!1,n))))));return this._c=r,r}enqueueAfterDelay(e,r,n){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const i=uT.createAndSchedule(this,e,r,n,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&qe(47125,{hc:UI(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function UI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class pa extends Ey{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new FI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FI(e),this._firestoreClient=void 0,await e}}}function jH(t,e){const r=typeof t=="object"?t:M4(),n=typeof t=="string"?t:qm,i=NE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Oz("firestore");a&&PH(i,...a)}return i}function wh(t){if(t._terminated)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kH(t),t._firestoreClient}function kH(t){var e,r,n;const i=t._freezeSettings(),a=(function(l,c,d,p){return new e7(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$5(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _H(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(qr.fromBase64String(e))}catch(r){throw new Te(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ai(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:ur("string",ai._jsonSchemaVersion),bytes:ur("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Te(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Te(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Te(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:la._jsonSchemaVersion}}static fromJSON(e){if(gh(e,la._jsonSchema))return new la(e.latitude,e.longitude)}}la._jsonSchemaVersion="firestore/geoPoint/1.0",la._jsonSchema={type:ur("string",la._jsonSchemaVersion),latitude:ur("number"),longitude:ur("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ua(e.vectorValues);throw new Te(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ua._jsonSchemaVersion="firestore/vectorValue/1.0",ua._jsonSchema={type:ur("string",ua._jsonSchemaVersion),vectorValues:ur("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=/^__.*__$/;class CH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,r,this.fieldTransforms):new yh(e,this.data,r,this.fieldTransforms)}}class F5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new gs(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function U5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ec:t})}}class Ty{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return eg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(U5(this.Ec)&&IH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class NH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||wy(e)}Dc(e,r,n,i=!1){return new Ty({Ec:e,methodName:r,bc:n,path:zr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(t){const e=t._freezeSettings(),r=wy(t._databaseId);return new NH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function vT(t,e,r,n,i,a={}){const o=t.Dc(a.merge||a.mergeFields?2:0,e,r,i);wT("Data must be an object, but it was:",o,n);const l=W5(n,o);let c,d;if(a.merge)c=new Un(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=Q1(e,m,r);if(!o.contains(y))throw new Te(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);G5(p,y)||p.push(y)}c=new Un(p),d=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=o.fieldTransforms;return new CH(new _n(l),c,d)}class Ay extends Sh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function z5(t,e,r){return new Ty({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bT extends Sh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=z5(this,e,!0),n=this.vc.map((a=>Il(a,r))),i=new Ju(n);return new i5(e.path,i)}isEqual(e){return e instanceof bT&&Qa(this.vc,e.vc)}}class xT extends Sh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=z5(this,e,!0),n=this.vc.map((a=>Il(a,r))),i=new Zu(n);return new i5(e.path,i)}isEqual(e){return e instanceof xT&&Qa(this.vc,e.vc)}}function B5(t,e,r,n){const i=t.Dc(1,e,r);wT("Data must be an object, but it was:",i,n);const a=[],o=_n.empty();ms(n,((c,d)=>{const p=_T(e,c,r);d=Pt(d);const m=i.gc(p);if(d instanceof Ay)a.push(p);else{const y=Il(d,m);y!=null&&(a.push(p),o.set(p,y))}}));const l=new Un(a);return new F5(o,l,i.fieldTransforms)}function q5(t,e,r,n,i,a){const o=t.Dc(1,e,r),l=[Q1(e,n,r)],c=[i];if(a.length%2!=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(Q1(e,a[y])),c.push(a[y+1]);const d=[],p=_n.empty();for(let y=l.length-1;y>=0;--y)if(!G5(d,l[y])){const x=l[y];let S=c[y];S=Pt(S);const w=o.gc(x);if(S instanceof Ay)d.push(x);else{const b=Il(S,w);b!=null&&(d.push(x),p.set(x,b))}}const m=new Un(d);return new F5(p,m,o.fieldTransforms)}function OH(t,e,r,n=!1){return Il(r,t.Dc(n?4:3,e))}function Il(t,e){if(H5(t=Pt(t)))return wT("Unsupported field value:",e,t),W5(t,e);if(t instanceof Sh)return(function(n,i){if(!U5(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const l of n){let c=Il(l,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return S7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Lt.fromDate(n);return{timestampValue:Xm(i.serializer,a)}}if(n instanceof Lt){const a=new Lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xm(i.serializer,a)}}if(n instanceof la)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ai)return{bytesValue:c5(i.serializer,n._byteString)};if(n instanceof Qt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:eT(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ua)return(function(o,l){return{mapValue:{fields:{[$L]:{stringValue:VL},[Wm]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return QE(l.serializer,d)}))}}}}}})(n,i);throw i.wc(`Unsupported field value: ${cy(n)}`)})(t,e)}function W5(t,e){const r={};return NL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(t,((n,i)=>{const a=Il(i,e.Vc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function H5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof la||t instanceof ai||t instanceof Qt||t instanceof Sh||t instanceof ua)}function wT(t,e,r){if(!H5(r)||!IL(r)){const n=cy(r);throw n==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+n)}}function Q1(t,e,r){if((e=Pt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return _T(t,e);throw eg("Field path arguments must be of type string or ",t,!1,void 0,r)}const RH=new RegExp("[~\\*/\\[\\]]");function _T(t,e,r){if(e.search(RH)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new _h(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function eg(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new Te(ue.INVALID_ARGUMENT,l+t+c)}function G5(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class MH extends K5{data(){return super.data()}}function Py(t,e){return typeof e=="string"?_T(t,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ST{}class Y5 extends ST{}function cn(t,e,...r){let n=[];e instanceof ST&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((c=>c instanceof ET)).length,l=a.filter((c=>c instanceof jy)).length;if(o>1||o>0&&l>0)throw new Te(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class jy extends Y5{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new jy(e,r,n)}_apply(e){const r=this._parse(e);return J5(e._query,r),new ys(e.firestore,e.converter,F1(e._query,r))}_parse(e){const r=Eh(e.firestore);return(function(a,o,l,c,d,p,m){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){qI(m,p);const S=[];for(const w of m)S.push(BI(c,a,w));y={arrayValue:{values:S}}}else y=BI(c,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||qI(m,p),y=OH(l,o,m,p==="in"||p==="not-in");return lr.create(d,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function An(t,e,r){const n=e,i=Py("where",t);return jy._create(i,n,r)}class ET extends ST{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new ET(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Li.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)J5(o,c),o=F1(o,c)})(e._query,r),new ys(e.firestore,e.converter,F1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class TT extends Y5{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new TT(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sf(a,o)})(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Oc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function Q5(t,e="asc"){const r=e,n=Py("orderBy",t);return TT._create(n,r)}function BI(t,e,r){if(typeof(r=Pt(r))=="string"){if(r==="")throw new Te(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GL(e)&&r.indexOf("/")!==-1)throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ct.fromString(r));if(!$e.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return aI(t,new $e(n))}if(r instanceof Qt)return aI(t,r._key);throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cy(r)}.`)}function qI(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J5(t,e){const r=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class DH{convertValue(e,r="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ms(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Wm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((o=>tr(o.doubleValue)));return new ua(a)}convertGeoPoint(e){return new la(tr(e.latitude),tr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=hy(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(xf(e));default:return null}}convertTimestamp(e){const r=ls(e);return new Lt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ct.fromString(e);bt(g5(n),9688,{name:e});const i=new wf(n.get(1),n.get(3)),a=new $e(n.popFirst(5));return i.isEqual(r)||eo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Hd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends K5{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=cl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:ur("string",cl._jsonSchemaVersion),bundleSource:ur("string","DocumentSnapshot"),bundleName:ur("string"),bundle:ur("string")};class Cm extends cl{data(e={}){return super.data(e)}}class dl{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Hd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Cm(this._firestore,this._userDataWriter,n.key,n,new Hd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Te(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new Cm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Cm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:LH(l.type),doc:c,oldIndex:d,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=WE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t){t=ln(t,Qt);const e=ln(t.firestore,pa);return TH(wh(e),t._key).then((r=>e3(e,t,r)))}dl._jsonSchemaVersion="firestore/querySnapshot/1.0",dl._jsonSchema={type:ur("string",dl._jsonSchemaVersion),bundleSource:ur("string","QuerySnapshot"),bundleName:ur("string"),bundle:ur("string")};class PT extends DH{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,r)}}function hs(t){t=ln(t,ys);const e=ln(t.firestore,pa),r=wh(e),n=new PT(e);return X5(t._query),AH(r,t._query).then((i=>new dl(e,n,t,i)))}function $i(t,e,r){t=ln(t,Qt);const n=ln(t.firestore,pa),i=AT(t.converter,e,r);return Th(n,[vT(Eh(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,un.none())])}function rt(t,e,r,...n){t=ln(t,Qt);const i=ln(t.firestore,pa),a=Eh(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof _h?q5(a,"updateDoc",t._key,e,r,n):B5(a,"updateDoc",t._key,e),Th(i,[o.toMutation(t._key,un.exists(!0))])}function Z5(t){return Th(ln(t.firestore,pa),[new by(t._key,un.none())])}function zn(t,e){const r=ln(t.firestore,pa),n=Br(t),i=AT(t.converter,e);return Th(r,[vT(Eh(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,un.exists(!1))]).then((()=>n))}function Cr(t,...e){var r,n,i;t=Pt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||zI(e[o])||(a=e[o++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(zI(e[o])){const m=e[o];e[o]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,p;if(t instanceof Qt)d=ln(t.firestore,pa),p=py(t._key.path),c={next:m=>{e[o]&&e[o](e3(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=ln(t,ys);d=ln(m.firestore,pa),p=m._query;const y=new PT(d);c={next:x=>{e[o]&&e[o](new dl(d,y,m,x))},error:e[o+1],complete:e[o+2]},X5(t._query)}return(function(y,x,S,w){const b=new yT(w),T=new pT(x,b,S);return y.asyncQueue.enqueueAndForget((async()=>dT(await Zm(y),T))),()=>{b.Ou(),y.asyncQueue.enqueueAndForget((async()=>fT(await Zm(y),T)))}})(wh(d),p,l,c)}function Th(t,e){return(function(n,i){const a=new Ga;return n.asyncQueue.enqueueAndForget((async()=>hH(await EH(n),i,a))),a.promise})(wh(t),e)}function e3(t,e,r){const n=r.docs.get(e._key),i=new PT(t);return new cl(t,i,e._key,n,new Hd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Eh(e)}set(e,r,n){this._verifyNotCommitted();const i=lx(e,this._firestore),a=AT(i.converter,r,n),o=vT(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,un.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=lx(e,this._firestore);let o;return o=typeof(r=Pt(r))=="string"||r instanceof _h?q5(this._dataReader,"WriteBatch.update",a._key,r,n,i):B5(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=lx(e,this._firestore);return this._mutations=this._mutations.concat(new by(r._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lx(t,e){if((t=Pt(t)).firestore!==e)throw new Te(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Gd(...t){return new bT("arrayUnion",t)}function Kd(...t){return new xT("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){return wh(t=ln(t,pa)),new $H(t,(e=>Th(t,e)))}(function(e,r=!0){(function(i){Ic=i})(kc),Ku(new ml("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new pa(new Dq(n.getProvider("auth-internal")),new Vq(o,n.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(d.options.projectId,p)})(o,i),o);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),ts(Wk,Hk,e),ts(Wk,Hk,"esm2017")})();const VH={apiKey:"AIzaSyCe85WvMIdGqpB4fQ-5l4c46fikr-EwO5s",authDomain:"sarasva-e25dd.firebaseapp.com",projectId:"sarasva-e25dd",storageBucket:"sarasva-e25dd.firebasestorage.app",messagingSenderId:"1033167676784",appId:"1:1033167676784:web:9134c434cc4716434ddbb5"},t3=R4(VH),Lr=Iq(t3),dt=jH(t3);function rr(t,e){return Tn(dt,"users",t,e)}function nt(t,e,r){return Br(dt,"users",t,e,r)}async function Ys(t,e={}){const r={uid:t};if(e.name!==void 0){const n=e.name??"";r.name=n,r.nameLower=n.toLowerCase()}e.course!==void 0&&(r.course=e.course??""),e.institute!==void 0&&(r.institute=e.institute??""),e.avatarColor!==void 0&&(r.avatarColor=e.avatarColor),e.avatarEmoji!==void 0&&(r.avatarEmoji=e.avatarEmoji),await $i(Br(dt,"publicProfiles",t),r,{merge:!0})}const tl={focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0};function ti(t){return Br(dt,"users",t,"profile","data")}function Tu(t,e={}){return{id:t.uid,name:e.name??t.displayName??"",email:t.email,course:e.course??"",semester:e.semester??"",institute:e.institute??"",settings:e.settings??tl,notificationsEmail:e.notificationsEmail??!1,avatarColor:e.avatarColor??"#6366f1",avatarEmoji:e.avatarEmoji??null,role:e.role??"user"}}const xn={async register({name:t,email:e,password:r,course:n="",semester:i=""}){const a=await c8(Lr,e,r);await Rk(a.user,{displayName:t});const o={name:t,course:n,semester:i,institute:"",settings:tl};return await $i(ti(a.user.uid),o),await Ys(a.user.uid,{name:t,course:n,institute:"",avatarColor:"#6366f1",avatarEmoji:null}),Tu(a.user,o)},async loginWithGoogle(){const t=new ra,e=await $8(Lr,t),r=await $n(ti(e.user.uid));if(!r.exists()){const i={name:e.user.displayName??"",course:"",semester:"",settings:tl};return await $i(ti(e.user.uid),i),await Ys(e.user.uid,{name:i.name,course:"",institute:""}),Tu(e.user,i)}const n=r.data();return Ys(e.user.uid,{name:n.name??e.user.displayName??"",course:n.course??"",institute:n.institute??""}).catch(()=>{}),Tu(e.user,n)},async login({email:t,password:e}){try{const r=await d8(Lr,t,e),n=await $n(ti(r.user.uid)),i=n.exists()?n.data():{};return Ys(r.user.uid,{name:i.name??r.user.displayName??"",course:i.course??"",institute:i.institute??"",avatarColor:i.avatarColor??"#6366f1",avatarEmoji:i.avatarEmoji??null}).catch(()=>{}),Tu(r.user,i)}catch(r){throw r.code==="auth/invalid-credential"||r.code==="auth/wrong-password"?Object.assign(new Error('Incorrect password. If you previously signed in with Google, use "Forgot password?" to set a password for email login.'),{code:r.code}):r}},async linkGoogle(){const t=Lr.currentUser;if(!t)throw new Error("Not logged in.");const e=new ra;await V8(t,e)},async addPassword(t){const e=Lr.currentUser;if(!e)throw new Error("Not logged in.");if(!e.email)throw new Error("No email on account.");const r=Ha.credential(e.email,t);await l8(e,r)},async getMe(){const t=Lr.currentUser;if(!t)return null;const e=await $n(ti(t.uid)),r=e.exists()?e.data():{};return Ys(t.uid,{name:r.name??t.displayName??"",course:r.course??"",institute:r.institute??"",avatarColor:r.avatarColor??"#6366f1",avatarEmoji:r.avatarEmoji??null}).catch(()=>{}),Tu(t,r)},async logout(){await v8(Lr)},async resetPassword(t){await u8(Lr,t)},async updateProfile({name:t,course:e,semester:r,institute:n}){const i=Lr.currentUser;if(!i)throw new Error("Not logged in.");await Rk(i,{displayName:t}),await rt(ti(i.uid),{name:t,course:e,semester:r,institute:n??""}),await Ys(i.uid,{name:t,course:e,institute:n??""});const a=await $n(ti(i.uid));return Tu(i,a.data())},async getSettings(){const t=Lr.currentUser;if(!t)return null;const e=await $n(ti(t.uid));return e.exists()?e.data().settings??tl:tl},async updateSettings(t){const e=Lr.currentUser;if(!e)throw new Error("Not logged in.");const r=await $n(ti(e.uid)),i={...r.exists()?r.data().settings??tl:tl,...t};return await rt(ti(e.uid),{settings:i}),i},async updateNotificationPrefs({notificationsEmail:t}){const e=Lr.currentUser;if(!e)throw new Error("Not logged in.");await rt(ti(e.uid),{notificationsEmail:t})},async changeEmail(t,e){const r=Lr.currentUser;if(!r)throw new Error("Not logged in.");if(!r.email)throw new Error("No email on account.");const n=Ha.credential(r.email,t);await Ok(r,n),await h8(r,e)},async changePassword(t,e){const r=Lr.currentUser;if(!r)throw new Error("Not logged in.");if(!r.email)throw new Error("No email on account.");const n=Ha.credential(r.email,t);await Ok(r,n),await p8(r,e)},async updateAvatar({avatarColor:t,avatarEmoji:e}){const r=Lr.currentUser;if(!r)throw new Error("Not logged in.");const n={};t!==void 0&&(n.avatarColor=t),e!==void 0&&(n.avatarEmoji=e),await rt(ti(r.uid),n),await Ys(r.uid,n)}},jT=D.createContext(null);function Bn(){return D.useContext(jT)}function FH({children:t}){const[e,r]=D.useState(null),[n,i]=D.useState(!0);D.useEffect(()=>y8(Lr,async m=>{if(m){const y=await xn.getMe();r(y)}else r(null);i(!1)}),[]);const a=D.useCallback(async(p,m)=>{const y=await xn.login({email:p,password:m});return r(y),y},[]),o=D.useCallback(async p=>{const m=await xn.register(p);return r(m),m},[]),l=D.useCallback(async()=>{const p=await xn.loginWithGoogle();return r(p),p},[]),c=D.useCallback(async()=>{await xn.logout(),r(null)},[]),d=D.useCallback(async()=>{const p=await xn.getMe();r(p??null)},[]);return f.jsx(jT.Provider,{value:{user:e,loading:n,login:a,loginWithGoogle:l,register:o,logout:c,refreshUser:d},children:t})}function fi(){const t=D.useContext(jT);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>D.createElement("svg",{ref:c,...zH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:r3("lucide",i),...l},[...o.map(([d,p])=>D.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(BH,{ref:a,iconNode:e,className:r3(`lucide-${UH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=Ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=Ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=Ae("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Ae("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Ae("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Ae("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Ae("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=Ae("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ae("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Ae("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Ae("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Ae("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=Ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Ae("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ae("MessageSquareShare",[["path",{d:"M21 12v3a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h7",key:"tqtdkg"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m16 8 5-5",key:"15mbrl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Ae("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Ae("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=Ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=Ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Ae("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=Ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=Ae("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=Ae("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=Ae("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=Ae("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Ae("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=Ae("ZapOff",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function v3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=v3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=v3(t))&&(n&&(n+=" "),n+=e);return n}const RT="-",gG=t=>{const e=vG(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(RT);return l[0]===""&&l.length!==1&&l.shift(),b3(l,e)||yG(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},b3=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?b3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(RT);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},XI=/^\[(.+)\]$/,yG=t=>{if(XI.test(t)){const e=XI.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},vG=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return xG(Object.entries(t.classGroups),r).forEach(([a,o])=>{nS(o,n,a,e)}),n},nS=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:YI(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(bG(i)){nS(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{nS(o,YI(e,a),r,n)})})},YI=(t,e)=>{let r=t;return e.split(RT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bG=t=>t.isThemeGetter,xG=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,wG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},x3="!",_G=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,p=0,m;for(let b=0;b<l.length;b++){let T=l[b];if(d===0){if(T===i&&(n||l.slice(b,b+a)===e)){c.push(l.slice(p,b)),p=b+a;continue}if(T==="/"){m=b;continue}}T==="["?d++:T==="]"&&d--}const y=c.length===0?l:l.substring(p),x=y.startsWith(x3),S=x?y.substring(1):y,w=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:w}};return r?l=>r({className:l,parseClassName:o}):o},SG=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},EG=t=>({cache:wG(t.cacheSize),parseClassName:_G(t),...gG(t)}),TG=/\s+/,AG=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(TG);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=r(d);let S=!!x,w=n(S?y.substring(0,x):y);if(!w){if(!S){l=d+(l.length>0?" "+l:l);continue}if(w=n(y),!w){l=d+(l.length>0?" "+l:l);continue}S=!1}const b=SG(p).join(":"),T=m?b+x3:b,E=T+w;if(a.includes(E))continue;a.push(E);const I=i(w,S);for(let N=0;N<I.length;++N){const k=I[N];a.push(T+k)}l=d+(l.length>0?" "+l:l)}return l};function PG(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=w3(e))&&(n&&(n+=" "),n+=r);return n}const w3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=w3(t[n]))&&(r&&(r+=" "),r+=e);return r};function jG(t,...e){let r,n,i,a=o;function o(c){const d=e.reduce((p,m)=>m(p),t());return r=EG(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const p=AG(c,r);return i(c,p),p}return function(){return a(PG.apply(null,arguments))}}const Mt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},_3=/^\[(?:([a-z-]+):)?(.+)\]$/i,kG=/^\d+\/\d+$/,IG=new Set(["px","full","screen"]),CG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,RG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ma=t=>zu(t)||IG.has(t)||kG.test(t),Fo=t=>Mc(t,"length",BG),zu=t=>!!t&&!Number.isNaN(Number(t)),ux=t=>Mc(t,"number",zu),kd=t=>!!t&&Number.isInteger(Number(t)),DG=t=>t.endsWith("%")&&zu(t.slice(0,-1)),Je=t=>_3.test(t),Uo=t=>CG.test(t),LG=new Set(["length","size","percentage"]),$G=t=>Mc(t,LG,S3),VG=t=>Mc(t,"position",S3),FG=new Set(["image","url"]),UG=t=>Mc(t,FG,WG),zG=t=>Mc(t,"",qG),Id=()=>!0,Mc=(t,e,r)=>{const n=_3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},BG=t=>NG.test(t)&&!OG.test(t),S3=()=>!1,qG=t=>RG.test(t),WG=t=>MG.test(t),HG=()=>{const t=Mt("colors"),e=Mt("spacing"),r=Mt("blur"),n=Mt("brightness"),i=Mt("borderColor"),a=Mt("borderRadius"),o=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),d=Mt("grayscale"),p=Mt("hueRotate"),m=Mt("invert"),y=Mt("gap"),x=Mt("gradientColorStops"),S=Mt("gradientColorStopPositions"),w=Mt("inset"),b=Mt("margin"),T=Mt("opacity"),E=Mt("padding"),I=Mt("saturate"),N=Mt("scale"),k=Mt("sepia"),O=Mt("skew"),P=Mt("space"),C=Mt("translate"),R=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Je,e],$=()=>[Je,e],V=()=>["",Ma,Fo],q=()=>["auto",zu,Je],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Je],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[zu,Je];return{cacheSize:500,separator:":",theme:{colors:[Id],spacing:[Ma,Fo],blur:["none","",Uo,Je],brightness:W(),borderColor:[t],borderRadius:["none","","full",Uo,Je],borderSpacing:$(),borderWidth:V(),contrast:W(),grayscale:ae(),hueRotate:W(),invert:ae(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[DG,Fo],inset:L(),margin:L(),opacity:W(),padding:$(),saturate:W(),scale:W(),sepia:ae(),skew:W(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Uo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Je]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kd,Je]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",kd,Je]}],"grid-cols":[{"grid-cols":[Id]}],"col-start-end":[{col:["auto",{span:["full",kd,Je]},Je]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Id]}],"row-start-end":[{row:["auto",{span:[kd,Je]},Je]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Uo]},Uo]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Uo,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ux]}],"font-family":[{font:[Id]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",zu,ux]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ma,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ma,Fo]}],"underline-offset":[{"underline-offset":["auto",Ma,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),VG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$G]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Ma,Je]}],"outline-w":[{outline:[Ma,Fo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Ma,Fo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Uo,zG]}],"shadow-color":[{shadow:[Id]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Uo,Je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[kd,Je]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ma,Fo,ux]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GG=jG(HG);function ke(...t){return GG(et(t))}const KG=[{hex:"#6366f1",label:"Indigo"},{hex:"#8b5cf6",label:"Violet"},{hex:"#ec4899",label:"Pink"},{hex:"#f43f5e",label:"Rose"},{hex:"#f97316",label:"Orange"},{hex:"#f59e0b",label:"Amber"},{hex:"#10b981",label:"Emerald"},{hex:"#0ea5e9",label:"Sky"},{hex:"#14b8a6",label:"Teal"},{hex:"#84cc16",label:"Lime"}],XG=[null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function oi({user:t,size:e="md"}){const r={xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-14 w-14 text-xl",xl:"h-20 w-20 text-3xl"},n=((t==null?void 0:t.name)??"?").split(" ").filter(Boolean).slice(0,2).map(o=>o[0]).join("").toUpperCase(),i=(t==null?void 0:t.avatarColor)??"#6366f1",a=(t==null?void 0:t.avatarEmoji)??null;return f.jsx("div",{className:`${r[e]} shrink-0 rounded-full flex items-center justify-center font-bold select-none`,style:{background:a?"#f3f4f6":i,color:a?void 0:"#ffffff"},children:a??n})}const YG=[{to:"/dashboard",label:"Dashboard",icon:d3},{to:"/attendance",label:"Attendance",icon:Ef},{to:"/timetable",label:"Timetable",icon:Ah},{to:"/subjects",label:"Subjects",icon:Tf},{to:"/exams",label:"Exams",icon:ro},{to:"/tasks",label:"Tasks",icon:OT},{to:"/calendar",label:"Calendar",icon:ca},{to:"/ptp",label:"Study Peers",icon:af}];function QG(){const{user:t,logout:e}=fi(),r=ya();function n(){e(),r("/login")}return f.jsxs("aside",{className:"hidden lg:flex w-56 flex-shrink-0 flex-col border-r border-border bg-card px-3 py-5",children:[f.jsxs("div",{className:"mb-6 px-2 flex items-center gap-2.5",children:[f.jsxs("div",{className:"relative shrink-0",children:[f.jsx("div",{className:"absolute inset-0 rounded-xl bg-primary/25 blur-md"}),f.jsx("img",{src:"/SARASVA/logo.png",alt:"Sarasva",className:"relative h-9 w-9 rounded-xl object-contain shadow-sm",onError:i=>{i.target.style.display="none"}})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-base font-bold tracking-tight text-gradient",children:"Sarasva"}),f.jsx("p",{className:"truncate text-[11px] text-muted-foreground leading-tight max-w-[108px]",children:t==null?void 0:t.name})]})]}),f.jsx("nav",{className:"flex flex-col gap-0.5",children:YG.map(({to:i,label:a,icon:o})=>f.jsxs(wm,{to:i,className:({isActive:l})=>ke("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-150",l?"gradient-primary text-white shadow-sm":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[f.jsx(o,{size:15}),a]},i))}),(t==null?void 0:t.role)==="admin"&&f.jsxs(wm,{to:"/admin",className:({isActive:i})=>ke("mt-0.5 flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-150",i?"gradient-primary text-white shadow-sm":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[f.jsx(m3,{size:15}),"Admin"]}),f.jsxs("div",{className:"mt-auto flex flex-col gap-0.5 border-t border-border pt-3",children:[f.jsxs(wm,{to:"/profile",className:({isActive:i})=>ke("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-150",i?"gradient-primary text-white shadow-sm":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[f.jsx(oi,{user:t,size:"xs"}),"Profile"]}),f.jsxs("button",{onClick:n,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-all duration-150 hover:bg-destructive/10 hover:text-destructive",children:[f.jsx(IT,{size:15}),"Logout"]})]})]})}const JG=[{to:"/dashboard",label:"Home",icon:d3},{to:"/attendance",label:"Attend",icon:Ef},{to:"/exams",label:"Exams",icon:ro},{to:"/tasks",label:"Tasks",icon:OT},{to:"/ptp",label:"Peers",icon:af}];function ZG(){return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-16 lg:hidden border-t border-border bg-card/95 backdrop-blur-sm",children:JG.map(({to:t,label:e,icon:r})=>f.jsx(wm,{to:t,className:({isActive:n})=>ke("relative flex flex-1 flex-col items-center justify-center gap-0.5 text-[10px] font-medium transition-colors",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:n})=>f.jsxs(f.Fragment,{children:[n&&f.jsx("span",{className:"absolute top-2 left-1/2 -translate-x-1/2 h-8 w-10 rounded-full gradient-primary-soft animate-scale-in"}),f.jsx(r,{size:19,className:"relative z-10"}),f.jsx("span",{className:"relative z-10",children:e})]})},t))})}function vs({archived:t=!1}={}){const{user:e}=Bn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,l]=D.useState(null);D.useEffect(()=>e?Cr(rr(e.id,"subjects"),T=>{const E=T.docs.map(I=>({id:I.id,...I.data()})).filter(I=>t?I.archived===!0:I.archived!==!0).sort((I,N)=>(I.createdAt??"").localeCompare(N.createdAt??""));n(E),a(!1)},T=>{l(T.message),a(!1)}):void 0,[e,t]);const c=D.useCallback(async b=>{if(e)try{await zn(rr(e.id,"subjects"),{name:b,archived:!1,chapters:[],createdAt:new Date().toISOString()})}catch(T){l(T.message)}},[e]),d=D.useCallback(async(b,T)=>{if(e)try{await rt(nt(e.id,"subjects",b),T)}catch(E){l(E.message)}},[e]),p=D.useCallback(async b=>{await d(b,{archived:!0})},[d]),m=D.useCallback(async(b,T)=>{if(!e)return;const E=r.find(k=>k.id===b);if(!E)return;const I={id:crypto.randomUUID(),name:T.trim()},N=[...E.chapters??[],I];try{await rt(nt(e.id,"subjects",b),{chapters:N})}catch(k){l(k.message)}},[e,r]),y=D.useCallback(async(b,T,E)=>{if(!e)return;const I=r.find(k=>k.id===b);if(!I)return;const N=(I.chapters??[]).map(k=>k.id===T?{...k,name:E.trim()}:k);try{await rt(nt(e.id,"subjects",b),{chapters:N})}catch(k){l(k.message)}},[e,r]),x=D.useCallback(async(b,T)=>{if(!e)return;const E=r.find(N=>N.id===b);if(!E)return;const I=(E.chapters??[]).filter(N=>N.id!==T);try{await rt(nt(e.id,"subjects",b),{chapters:I})}catch(N){l(N.message)}},[e,r]),S=D.useCallback(async({name:b,chapters:T=[]})=>{if(e)try{await zn(rr(e.id,"subjects"),{name:b,archived:!1,chapters:T.map(E=>({id:crypto.randomUUID(),name:E.name})),createdAt:new Date().toISOString()})}catch(E){l(E.message)}},[e]),w=D.useCallback(()=>{},[]);return{subjects:r,loading:i,error:o,refresh:w,create:c,update:d,archive:p,addChapter:m,updateChapter:y,deleteChapter:x,importSubject:S}}function eK(t){const e=t.theoryDone??(typeof t.theoryProgress=="number"?t.theoryProgress>=100:!1),r=t.practiceCount??(typeof t.practiceProgress=="number"&&t.practiceProgress>0?1:0);return{...t,theoryDone:e,practiceCount:r}}function tK(t){const e=(t.subjects??[]).map(r=>{const n=(r.chapters??[]).map(eK),i=n.length,a=i===0?0:Math.round(n.filter(d=>d.theoryDone).length/i*100),o=i===0?0:Math.round(n.filter(d=>(d.practiceCount??0)>0).length/i*100),l=Math.round((a+o)/2),c=i>0&&a===100&&o===100;return{...r,chapters:n,theoryProgress:a,practiceProgress:o,overallProgress:l,allDone:c}});return{...t,subjects:e}}const cx={async create(t,{name:e,examDate:r}){return(await zn(rr(t,"exams"),{name:e,examDate:r??null,archived:!1,subjects:[],createdAt:new Date().toISOString()})).id},async update(t,e,r){await rt(nt(t,"exams",e),r)},async archive(t,e){await rt(nt(t,"exams",e),{archived:!0})}};function MT(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>{if(t)return Cr(rr(t.id,"exams"),E=>{const I=E.docs.map(N=>tK({id:N.id,...N.data()})).filter(N=>N.archived!==!0).sort((N,k)=>(N.createdAt??"").localeCompare(k.createdAt??""));r(I),i(!1)},E=>{o(E.message),i(!1)})},[t]);const l=D.useCallback(async({name:E,examDate:I})=>{if(t)try{await cx.create(t.id,{name:E,examDate:I})}catch(N){o(N.message)}},[t]),c=D.useCallback(async(E,I)=>{if(t)try{await cx.update(t.id,E,I)}catch(N){o(N.message)}},[t]),d=D.useCallback(async E=>{if(t)try{await cx.archive(t.id,E)}catch(I){o(I.message)}},[t]),p=D.useCallback(async(E,I,N=[])=>{if(t)try{const k=e.find(C=>C.id===E);if(!k)return;if(k.subjects.find(C=>C.subjectId===I))throw new Error("Subject already added.");const O=N.map(C=>({id:C.id,name:C.name,theoryProgress:0,practiceProgress:0,weightage:1})),P=[...k.subjects,{subjectId:I,chapters:O,dueDate:null}];await rt(nt(t.id,"exams",E),{subjects:P})}catch(k){o(k.message)}},[t,e]),m=D.useCallback(async(E,I)=>{if(t)try{const N=e.find(O=>O.id===E);if(!N)return;const k=N.subjects.filter(O=>O.subjectId!==I);await rt(nt(t.id,"exams",E),{subjects:k})}catch(N){o(N.message)}},[t,e]),y=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(C=>C.id===E);if(!k)return;const O={id:crypto.randomUUID(),name:N.name,theoryProgress:N.theoryProgress??0,practiceProgress:N.practiceProgress??0,weightage:N.weightage??1},P=k.subjects.map(C=>C.subjectId===I?{...C,chapters:[...C.chapters,O]}:C);await rt(nt(t.id,"exams",E),{subjects:P})}catch(k){o(k.message)}},[t,e]),x=D.useCallback(async(E,I,N,k)=>{if(t)try{const O=e.find(C=>C.id===E);if(!O)return;const P=O.subjects.map(C=>C.subjectId===I?{...C,chapters:C.chapters.map(R=>R.id===N?{...R,...k}:R)}:C);await rt(nt(t.id,"exams",E),{subjects:P})}catch(O){o(O.message)}},[t,e]),S=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(P=>P.id===E);if(!k)return;const O=k.subjects.map(P=>P.subjectId===I?{...P,chapters:P.chapters.filter(C=>C.id!==N)}:P);await rt(nt(t.id,"exams",E),{subjects:O})}catch(k){o(k.message)}},[t,e]),w=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(R=>R.id===E);if(!k)return;const O=k.subjects.findIndex(R=>R.subjectId===I);if(O<0)return;const P=N==="up"?O-1:O+1;if(P<0||P>=k.subjects.length)return;const C=[...k.subjects];[C[O],C[P]]=[C[P],C[O]],await rt(nt(t.id,"exams",E),{subjects:C})}catch(k){o(k.message)}},[t,e]),b=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(P=>P.id===E);if(!k)return;const O=k.subjects.map(P=>P.subjectId===I?{...P,dueDate:N||null}:P);await rt(nt(t.id,"exams",E),{subjects:O})}catch(k){o(k.message)}},[t,e]),T=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(P=>P.id===E);if(!k)return;const O=k.subjects.map(P=>P.subjectId===I?{...P,notes:N}:P);await rt(nt(t.id,"exams",E),{subjects:O})}catch(k){o(k.message)}},[t,e]);return{exams:e,loading:n,error:a,create:l,update:c,archive:d,addSubject:p,removeSubject:m,moveSubject:w,setSubjectDueDate:b,setSubjectNotes:T,addChapter:y,updateChapter:x,deleteChapter:S}}function rK({open:t,onClose:e}){const[r,n]=D.useState(!1),[i,a]=D.useState(""),[o,l]=D.useState(""),[c,d]=D.useState(!1),[p,m]=D.useState(""),{logout:y}=fi(),{create:x}=vs({archived:!1}),{create:S}=MT(),w=ya();async function b(k){if(k.preventDefault(),!!i.trim()){l("");try{await x(i.trim()),a(""),n(!1)}catch(O){l(O.message)}}}async function T(k){k.preventDefault(),p.trim()&&(await S({name:p.trim()}),m(""),d(!1))}function E(k){w(k),e()}function I(){n(k=>!k),d(!1),l("")}function N(){d(k=>!k),n(!1)}return f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:e}),f.jsxs("div",{className:`fixed top-0 left-0 z-50 h-full w-72 bg-card shadow-2xl transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-4",children:[f.jsx("h2",{className:"text-base font-bold tracking-tight",children:"Quick Actions"}),f.jsx("button",{onClick:e,className:"rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground",children:f.jsx(on,{size:18})})]}),f.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto p-4 h-[calc(100%-61px)]",children:[f.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[f.jsxs("button",{onClick:I,className:"flex w-full items-center gap-3",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Tf,{size:15,className:"text-primary"})}),f.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add Subject"}),f.jsx(dr,{size:15,className:`text-primary transition-transform duration-200 ${r?"rotate-45":""}`})]}),r&&f.jsxs("form",{onSubmit:b,className:"mt-3 flex flex-col gap-2",children:[f.jsx("input",{autoFocus:!0,value:i,onChange:k=>a(k.target.value),placeholder:"e.g. Mathematics",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),o&&f.jsx("p",{className:"text-xs text-destructive",children:o}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{n(!1),a("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[f.jsxs("button",{onClick:N,className:"flex w-full items-center gap-3",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(kT,{size:15,className:"text-primary"})}),f.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add New Exam"}),f.jsx(dr,{size:15,className:`text-primary transition-transform duration-200 ${c?"rotate-45":""}`})]}),c&&f.jsxs("form",{onSubmit:T,className:"mt-3 flex flex-col gap-2",children:[f.jsx("input",{autoFocus:!0,value:p,onChange:k=>m(k.target.value),placeholder:"e.g. Mid-term 2026",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{d(!1),m("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),f.jsx("div",{className:"my-1 border-t border-border"}),f.jsxs("button",{onClick:()=>E("/calendar"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(ca,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Task Calendar"})]}),f.jsxs("button",{onClick:()=>E("/subjects"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Tf,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Subjects"})]}),f.jsxs("button",{onClick:()=>E("/timetable"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Ah,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Schedule / Timetable"})]}),f.jsx("div",{className:"flex-1"}),f.jsxs("button",{onClick:()=>E("/profile"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Nm,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Profile & Settings"})]}),f.jsxs("button",{onClick:async()=>{await y(),e()},className:"flex w-full items-center gap-3 rounded-xl border border-destructive/20 bg-destructive/5 p-3 hover:bg-destructive/10 transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-destructive/10",children:f.jsx(IT,{size:15,className:"text-destructive"})}),f.jsx("span",{className:"text-sm font-medium text-destructive",children:"Log Out"})]})]})]})]})}function nK(){const{user:t}=fi(),[e,r]=D.useState(!1);return f.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[f.jsx(QG,{}),f.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[f.jsxs("header",{className:"flex lg:hidden shrink-0 items-center justify-between border-b border-border bg-card/95 backdrop-blur-sm px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("button",{onClick:()=>r(!0),className:"-ml-1 rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Open quick actions",children:f.jsx(ZH,{size:20})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:"/SARASVA/logo.png",alt:"",className:"h-7 w-7 rounded-lg object-contain",onError:n=>{n.target.style.display="none"}}),f.jsx("span",{className:"text-base font-bold tracking-tight text-gradient",children:"Sarasva"})]})]}),f.jsx(Fn,{to:"/profile",title:"Profile",children:f.jsx(oi,{user:t,size:"sm"})})]}),f.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-20 lg:p-6 lg:pb-6",children:f.jsx(_4,{})})]}),f.jsx(ZG,{}),f.jsx(rK,{open:e,onClose:()=>r(!1)})]})}function iK(){const{user:t}=fi();return t?f.jsx(_4,{}):f.jsx(S1,{to:"/login",replace:!0})}function aK(){var I;const{login:t,loginWithGoogle:e,user:r}=fi(),n=ya(),i=Pl(),[a,o]=D.useState({email:"",password:""}),[l,c]=D.useState(""),[d,p]=D.useState(""),[m,y]=D.useState(!1),[x,S]=D.useState(!1);if(r)return n(((I=i.state)==null?void 0:I.from)||"/dashboard",{replace:!0}),null;function w(N){o(k=>({...k,[N.target.name]:N.target.value}))}async function b(N){var k;N.preventDefault(),c(""),p(""),y(!0);try{await t(a.email,a.password),n(((k=i.state)==null?void 0:k.from)||"/dashboard",{replace:!0})}catch(O){c(O.message||"Login failed. Please try again.")}finally{y(!1)}}async function T(){var N;c(""),p(""),S(!0);try{await e(),n(((N=i.state)==null?void 0:N.from)||"/dashboard",{replace:!0})}catch(k){k.code!=="auth/popup-closed-by-user"&&c(k.message||"Google sign-in failed. Please try again.")}finally{S(!1)}}async function E(){if(!a.email){c("Please enter your email to reset your password.");return}c(""),p("");try{await xn.resetPassword(a.email),p("Password reset email sent. Check your inbox.")}catch(N){c(N.message||"Failed to send reset email.")}}return f.jsxs("div",{className:"relative flex min-h-screen items-center justify-center overflow-hidden bg-background px-4",children:[f.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":!0,children:[f.jsx("div",{className:"absolute -top-32 -left-32 h-96 w-96 rounded-full bg-primary/10 blur-3xl"}),f.jsx("div",{className:"absolute -bottom-20 -right-20 h-80 w-80 rounded-full bg-violet-400/10 blur-3xl"})]}),f.jsxs("div",{className:"relative w-full max-w-sm animate-slide-up",children:[f.jsxs("div",{className:"mb-8 flex flex-col items-center gap-3",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 rounded-2xl bg-primary/20 blur-xl scale-110"}),f.jsx("img",{src:"/SARASVA/logo.png",alt:"Sarasva",className:"relative h-16 w-16 rounded-2xl shadow-lg object-contain",onError:N=>{N.target.style.display="none"}})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gradient",children:"Sarasva"}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your academic companion"})]})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-6 card-shadow-md space-y-4",children:[l&&f.jsx("div",{className:"animate-slide-down rounded-xl bg-destructive/10 px-3 py-2.5 text-sm text-destructive border border-destructive/15",children:l}),d&&f.jsx("div",{className:"animate-slide-down rounded-xl bg-emerald-500/10 px-3 py-2.5 text-sm text-emerald-700 border border-emerald-500/20",children:d}),f.jsxs("button",{type:"button",onClick:T,disabled:x||m,className:"flex w-full items-center justify-center gap-2.5 rounded-xl border border-input bg-background px-4 py-2.5 text-sm font-medium transition-all hover:bg-accent hover:shadow-sm active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50",children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),f.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),f.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),f.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),x?"Signing in":"Continue with Google"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-border"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"or sign in with email"}),f.jsx("div",{className:"h-px flex-1 bg-border"})]}),f.jsxs("form",{onSubmit:b,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:w,placeholder:"you@example.com",className:"w-full rounded-xl border border-input bg-background px-3 py-2.5 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring transition-shadow"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx("button",{type:"button",onClick:E,className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:"Forgot password?"})]}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:w,placeholder:"",className:"w-full rounded-xl border border-input bg-background px-3 py-2.5 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring transition-shadow"})]}),f.jsx("button",{type:"submit",disabled:m||x,className:"w-full rounded-xl gradient-primary px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:opacity-90 hover:shadow-lg active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50",children:m?"Signing in":"Sign in"})]})]}),f.jsxs("p",{className:"mt-5 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",f.jsx(Fn,{to:"/register",className:"font-semibold text-primary hover:underline underline-offset-4",children:"Sign up"})]})]})]})}function oK(){const{register:t,loginWithGoogle:e}=fi(),r=ya(),[n,i]=D.useState({name:"",email:"",password:"",course:"",semester:""}),[a,o]=D.useState(""),[l,c]=D.useState(!1),[d,p]=D.useState(!1);function m(S){i(w=>({...w,[S.target.name]:S.target.value}))}async function y(S){if(S.preventDefault(),o(""),n.password.length<8){o("Password must be at least 8 characters.");return}c(!0);try{await t(n),r("/dashboard",{replace:!0})}catch(w){o(w.message||"Registration failed. Please try again.")}finally{c(!1)}}async function x(){o(""),p(!0);try{await e(),r("/dashboard",{replace:!0})}catch(S){S.code!=="auth/popup-closed-by-user"&&o(S.message||"Google sign-in failed. Please try again.")}finally{p(!1)}}return f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:f.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create your account"})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[a&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:a}),f.jsxs("button",{type:"button",onClick:x,disabled:d||l,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),f.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),f.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),f.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),d?"Signing in...":"Continue with Google"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-border"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-border"})]}),f.jsxs("form",{onSubmit:y,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Full name"}),f.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:m,placeholder:"Arjun Sharma",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:m,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:m,placeholder:"Min. 8 characters",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{htmlFor:"course",className:"text-sm font-medium",children:["Course ",f.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),f.jsx("input",{id:"course",name:"course",type:"text",value:n.course,onChange:m,placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{htmlFor:"semester",className:"text-sm font-medium",children:["Semester ",f.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),f.jsx("input",{id:"semester",name:"semester",type:"text",value:n.semester,onChange:m,placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]})]}),f.jsx("button",{type:"submit",disabled:l||d,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:l?"Creating account...":"Create account"})]})]}),f.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",f.jsx(Fn,{to:"/login",className:"font-medium text-primary underline underline-offset-4",children:"Sign in"})]})]})})}var dx,QI;function Pn(){if(QI)return dx;QI=1;var t=Array.isArray;return dx=t,dx}var fx,JI;function E3(){if(JI)return fx;JI=1;var t=typeof Jp=="object"&&Jp&&Jp.Object===Object&&Jp;return fx=t,fx}var hx,ZI;function va(){if(ZI)return hx;ZI=1;var t=E3(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return hx=r,hx}var px,eC;function Ph(){if(eC)return px;eC=1;var t=va(),e=t.Symbol;return px=e,px}var mx,tC;function sK(){if(tC)return mx;tC=1;var t=Ph(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var p=n.call(o);return d&&(l?o[i]=c:delete o[i]),p}return mx=a,mx}var gx,rC;function lK(){if(rC)return gx;rC=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return gx=r,gx}var yx,nC;function fo(){if(nC)return yx;nC=1;var t=Ph(),e=sK(),r=lK(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return yx=o,yx}var vx,iC;function ho(){if(iC)return vx;iC=1;function t(e){return e!=null&&typeof e=="object"}return vx=t,vx}var bx,aC;function Dc(){if(aC)return bx;aC=1;var t=fo(),e=ho(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return bx=n,bx}var xx,oC;function DT(){if(oC)return xx;oC=1;var t=Pn(),e=Dc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return xx=i,xx}var wx,sC;function bs(){if(sC)return wx;sC=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return wx=t,wx}var _x,lC;function LT(){if(lC)return _x;lC=1;var t=fo(),e=bs(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==a}return _x=o,_x}var Sx,uC;function uK(){if(uC)return Sx;uC=1;var t=va(),e=t["__core-js_shared__"];return Sx=e,Sx}var Ex,cC;function cK(){if(cC)return Ex;cC=1;var t=uK(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Ex=r,Ex}var Tx,dC;function T3(){if(dC)return Tx;dC=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Tx=r,Tx}var Ax,fC;function dK(){if(fC)return Ax;fC=1;var t=LT(),e=cK(),r=bs(),n=T3(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,p=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return Ax=m,Ax}var Px,hC;function fK(){if(hC)return Px;hC=1;function t(e,r){return e==null?void 0:e[r]}return Px=t,Px}var jx,pC;function Ol(){if(pC)return jx;pC=1;var t=dK(),e=fK();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return jx=r,jx}var kx,mC;function Cy(){if(mC)return kx;mC=1;var t=Ol(),e=t(Object,"create");return kx=e,kx}var Ix,gC;function hK(){if(gC)return Ix;gC=1;var t=Cy();function e(){this.__data__=t?t(null):{},this.size=0}return Ix=e,Ix}var Cx,yC;function pK(){if(yC)return Cx;yC=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Cx=t,Cx}var Nx,vC;function mK(){if(vC)return Nx;vC=1;var t=Cy(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return Nx=i,Nx}var Ox,bC;function gK(){if(bC)return Ox;bC=1;var t=Cy(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Ox=n,Ox}var Rx,xC;function yK(){if(xC)return Rx;xC=1;var t=Cy(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Rx=r,Rx}var Mx,wC;function vK(){if(wC)return Mx;wC=1;var t=hK(),e=pK(),r=mK(),n=gK(),i=yK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Mx=a,Mx}var Dx,_C;function bK(){if(_C)return Dx;_C=1;function t(){this.__data__=[],this.size=0}return Dx=t,Dx}var Lx,SC;function $T(){if(SC)return Lx;SC=1;function t(e,r){return e===r||e!==e&&r!==r}return Lx=t,Lx}var $x,EC;function Ny(){if(EC)return $x;EC=1;var t=$T();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return $x=e,$x}var Vx,TC;function xK(){if(TC)return Vx;TC=1;var t=Ny(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return Vx=n,Vx}var Fx,AC;function wK(){if(AC)return Fx;AC=1;var t=Ny();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Fx=e,Fx}var Ux,PC;function _K(){if(PC)return Ux;PC=1;var t=Ny();function e(r){return t(this.__data__,r)>-1}return Ux=e,Ux}var zx,jC;function SK(){if(jC)return zx;jC=1;var t=Ny();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return zx=e,zx}var Bx,kC;function Oy(){if(kC)return Bx;kC=1;var t=bK(),e=xK(),r=wK(),n=_K(),i=SK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Bx=a,Bx}var qx,IC;function VT(){if(IC)return qx;IC=1;var t=Ol(),e=va(),r=t(e,"Map");return qx=r,qx}var Wx,CC;function EK(){if(CC)return Wx;CC=1;var t=vK(),e=Oy(),r=VT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Wx=n,Wx}var Hx,NC;function TK(){if(NC)return Hx;NC=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Hx=t,Hx}var Gx,OC;function Ry(){if(OC)return Gx;OC=1;var t=TK();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Gx=e,Gx}var Kx,RC;function AK(){if(RC)return Kx;RC=1;var t=Ry();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Kx=e,Kx}var Xx,MC;function PK(){if(MC)return Xx;MC=1;var t=Ry();function e(r){return t(this,r).get(r)}return Xx=e,Xx}var Yx,DC;function jK(){if(DC)return Yx;DC=1;var t=Ry();function e(r){return t(this,r).has(r)}return Yx=e,Yx}var Qx,LC;function kK(){if(LC)return Qx;LC=1;var t=Ry();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Qx=e,Qx}var Jx,$C;function FT(){if($C)return Jx;$C=1;var t=EK(),e=AK(),r=PK(),n=jK(),i=kK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Jx=a,Jx}var Zx,VC;function A3(){if(VC)return Zx;VC=1;var t=FT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,Zx=r,Zx}var e0,FC;function IK(){if(FC)return e0;FC=1;var t=A3(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return e0=r,e0}var t0,UC;function CK(){if(UC)return t0;UC=1;var t=IK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,d){a.push(c?d.replace(r,"$1"):l||o)}),a});return t0=n,t0}var r0,zC;function UT(){if(zC)return r0;zC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return r0=t,r0}var n0,BC;function NK(){if(BC)return n0;BC=1;var t=Ph(),e=UT(),r=Pn(),n=Dc(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return n0=o,n0}var i0,qC;function P3(){if(qC)return i0;qC=1;var t=NK();function e(r){return r==null?"":t(r)}return i0=e,i0}var a0,WC;function j3(){if(WC)return a0;WC=1;var t=Pn(),e=DT(),r=CK(),n=P3();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return a0=i,a0}var o0,HC;function My(){if(HC)return o0;HC=1;var t=Dc();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return o0=e,o0}var s0,GC;function zT(){if(GC)return s0;GC=1;var t=j3(),e=My();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return s0=r,s0}var l0,KC;function k3(){if(KC)return l0;KC=1;var t=zT();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return l0=e,l0}var OK=k3();const li=wt(OK);var u0,XC;function RK(){if(XC)return u0;XC=1;function t(e){return e==null}return u0=t,u0}var MK=RK();const pt=wt(MK);var c0,YC;function DK(){if(YC)return c0;YC=1;var t=fo(),e=Pn(),r=ho(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return c0=i,c0}var LK=DK();const _l=wt(LK);var $K=LT();const Qe=wt($K);var VK=bs();const Lc=wt(VK);var d0={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function FK(){if(QC)return yt;QC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var T=b.$$typeof;switch(T){case t:switch(b=b.type,b){case r:case i:case n:case d:case p:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case c:case y:case m:case a:return b;default:return T}}case e:return T}}}return yt.ContextConsumer=o,yt.ContextProvider=a,yt.Element=t,yt.ForwardRef=c,yt.Fragment=r,yt.Lazy=y,yt.Memo=m,yt.Portal=e,yt.Profiler=i,yt.StrictMode=n,yt.Suspense=d,yt.SuspenseList=p,yt.isAsyncMode=function(){return!1},yt.isConcurrentMode=function(){return!1},yt.isContextConsumer=function(b){return w(b)===o},yt.isContextProvider=function(b){return w(b)===a},yt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yt.isForwardRef=function(b){return w(b)===c},yt.isFragment=function(b){return w(b)===r},yt.isLazy=function(b){return w(b)===y},yt.isMemo=function(b){return w(b)===m},yt.isPortal=function(b){return w(b)===e},yt.isProfiler=function(b){return w(b)===i},yt.isStrictMode=function(b){return w(b)===n},yt.isSuspense=function(b){return w(b)===d},yt.isSuspenseList=function(b){return w(b)===p},yt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===d||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===a||b.$$typeof===o||b.$$typeof===c||b.$$typeof===S||b.getModuleId!==void 0)},yt.typeOf=w,yt}var JC;function UK(){return JC||(JC=1,d0.exports=FK()),d0.exports}var zK=UK(),f0,ZC;function I3(){if(ZC)return f0;ZC=1;var t=fo(),e=ho(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return f0=n,f0}var h0,eN;function BK(){if(eN)return h0;eN=1;var t=I3();function e(r){return t(r)&&r!=+r}return h0=e,h0}var qK=BK();const jh=wt(qK);var WK=I3();const HK=wt(WK);var Sn=function(e){return e===0?0:e>0?1:-1},ol=function(e){return _l(e)&&e.indexOf("%")===e.length-1},_e=function(e){return HK(e)&&!jh(e)},GK=function(e){return pt(e)},wr=function(e){return _e(e)||_l(e)},KK=0,Dy=function(e){var r=++KK;return"".concat(e||"").concat(r)},Mi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!_l(e))return n;var a;if(ol(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return jh(a)&&(a=n),i&&a>r&&(a=r),a},Go=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},XK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},$a=function(e,r){return _e(e)&&_e(r)?function(n){return e+n*(r-e)}:function(){return r}};function iS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):li(n,e))===r})}var YK=function(e,r){return _e(e)&&_e(r)?e-r:_l(e)&&_l(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Bu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function aS(t){"@babel/helpers - typeof";return aS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(t)}var QK=["viewBox","children"],JK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tN=["points","pathLength"],p0={svg:QK,polygon:tN,polyline:tN},BT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rg=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!Lc(n))return null;var i={};return Object.keys(n).forEach(function(a){BT.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},ZK=function(e,r,n){return function(i){return e(r,n,i),null}},ps=function(e,r,n){if(!Lc(e)||aS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];BT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=ZK(o,r,n))}),i},eX=["children"],tX=["children"];function rN(t,e){if(t==null)return{};var r=rX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ka=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iN=null,m0=null,qT=function t(e){if(e===iN&&Array.isArray(m0))return m0;var r=[];return D.Children.forEach(e,function(n){pt(n)||(zK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),m0=r,iN=e,r};function ui(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ka(i)}):n=[Ka(e)],qT(t).forEach(function(i){var a=li(i,"type.displayName")||li(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ln(t,e){var r=ui(t,e);return r&&r[0]}var aN=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!_e(n)||n<=0||!_e(i)||i<=0)},nX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],iX=function(e){return e&&e.type&&_l(e.type)&&nX.indexOf(e.type)>=0},aX=function(e,r,n,i){var a,o=(a=p0==null?void 0:p0[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Qe(e)&&(i&&o.includes(r)||JK.includes(r))||n&&BT.includes(r)},Ge=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Lc(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;aX((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},oS=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!oN(a,o))return!1}return!0},oN=function(e,r){if(pt(e)&&pt(r))return!0;if(!pt(e)&&!pt(r)){var n=e.props||{},i=n.children,a=rN(n,eX),o=r.props||{},l=o.children,c=rN(o,tX);return i&&l?Bu(a,c)&&oS(i,l):!i&&!l?Bu(a,c):!1}return!1},sN=function(e,r){var n=[],i={};return qT(e).forEach(function(a,o){if(iX(a))n.push(a);else if(a){var l=Ka(a.type),c=r[l]||{},d=c.handler,p=c.once;if(d&&(!p||!i[l])){var m=d(a,l,o);n.push(m),i[l]=!0}}}),n},oX=function(e){var r=e&&e.type;return r&&nN[r]?nN[r]:null},sX=function(e,r){return qT(r).indexOf(e)},lX=["children","width","height","viewBox","className","style","title","desc"];function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sS.apply(this,arguments)}function uX(t,e){if(t==null)return{};var r=cX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lS(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,d=uX(t,lX),p=i||{width:r,height:n,x:0,y:0},m=et("recharts-surface",a);return G.createElement("svg",sS({},Ge(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,l),G.createElement("desc",null,c),e)}var dX=["children","className"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uS.apply(this,arguments)}function fX(t,e){if(t==null)return{};var r=hX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Et=G.forwardRef(function(t,e){var r=t.children,n=t.className,i=fX(t,dX),a=et("recharts-layer",n);return G.createElement("g",uS({className:a},Ge(i,!0),{ref:e}),r)}),Xa=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},g0,lN;function pX(){if(lN)return g0;lN=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return g0=t,g0}var y0,uN;function mX(){if(uN)return y0;uN=1;var t=pX();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return y0=e,y0}var v0,cN;function C3(){if(cN)return v0;cN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(d){return l.test(d)}return v0=c,v0}var b0,dN;function gX(){if(dN)return b0;dN=1;function t(e){return e.split("")}return b0=t,b0}var x0,fN;function yX(){if(fN)return x0;fN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=d+"?",w="["+a+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+w+S+")*",T=w+S+b,E="(?:"+[p+l+"?",l,m,y,o].join("|")+")",I=RegExp(c+"(?="+c+")|"+E+T,"g");function N(k){return k.match(I)||[]}return x0=N,x0}var w0,hN;function vX(){if(hN)return w0;hN=1;var t=gX(),e=C3(),r=yX();function n(i){return e(i)?r(i):t(i)}return w0=n,w0}var _0,pN;function bX(){if(pN)return _0;pN=1;var t=mX(),e=C3(),r=vX(),n=P3();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[a]()+d}}return _0=i,_0}var S0,mN;function xX(){if(mN)return S0;mN=1;var t=bX(),e=t("toUpperCase");return S0=e,S0}var wX=xX();const Ly=wt(wX);function It(t){return function(){return t}}const N3=Math.cos,ng=Math.sin,zi=Math.sqrt,ig=Math.PI,$y=2*ig,cS=Math.PI,dS=2*cS,rl=1e-6,_X=dS-rl;function O3(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function SX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O3;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class EX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O3:SX(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,d=i-r,p=o-e,m=l-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>rl)if(!(Math.abs(m*c-d*p)>rl)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,S=i-l,w=c*c+d*d,b=x*x+S*S,T=Math.sqrt(w),E=Math.sqrt(y),I=a*Math.tan((cS-Math.acos((w+y-b)/(2*T*E)))/2),N=I/E,k=I/T;Math.abs(N-1)>rl&&this._append`L${e+N*p},${r+N*m}`,this._append`A${a},${a},0,0,${+(m*x>p*S)},${this._x1=e+k*c},${this._y1=r+k*d}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,p=r+c,m=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>rl||Math.abs(this._y1-p)>rl)&&this._append`L${d},${p}`,n&&(y<0&&(y=y%dS+dS),y>_X?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=p}`:y>rl&&this._append`A${n},${n},0,${+(y>=cS)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function WT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new EX(e)}function HT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function R3(t){this._context=t}R3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vy(t){return new R3(t)}function M3(t){return t[0]}function D3(t){return t[1]}function L3(t,e){var r=It(!0),n=null,i=Vy,a=null,o=WT(l);t=typeof t=="function"?t:t===void 0?M3:It(t),e=typeof e=="function"?e:e===void 0?D3:It(e);function l(c){var d,p=(c=HT(c)).length,m,y=!1,x;for(n==null&&(a=i(x=o())),d=0;d<=p;++d)!(d<p&&r(m=c[d],d,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,d,c),+e(m,d,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:It(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:It(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:It(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function om(t,e,r){var n=null,i=It(!0),a=null,o=Vy,l=null,c=WT(d);t=typeof t=="function"?t:t===void 0?M3:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?D3:It(+r);function d(m){var y,x,S,w=(m=HT(m)).length,b,T=!1,E,I=new Array(w),N=new Array(w);for(a==null&&(l=o(E=c())),y=0;y<=w;++y){if(!(y<w&&i(b=m[y],y,m))===T)if(T=!T)x=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=x;--S)l.point(I[S],N[S]);l.lineEnd(),l.areaEnd()}T&&(I[y]=+t(b,y,m),N[y]=+e(b,y,m),l.point(n?+n(b,y,m):I[y],r?+r(b,y,m):N[y]))}if(E)return l=null,E+""||null}function p(){return L3().defined(i).curve(o).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),d):r},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(r)},d.lineX1=function(){return p().x(n).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:It(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,a!=null&&(l=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=l=null:l=o(a=m),d):a},d}class $3{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function TX(t){return new $3(t,!0)}function AX(t){return new $3(t,!1)}const GT={draw(t,e){const r=zi(e/ig);t.moveTo(r,0),t.arc(0,0,r,0,$y)}},PX={draw(t,e){const r=zi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},V3=zi(1/3),jX=V3*2,kX={draw(t,e){const r=zi(e/jX),n=r*V3;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},IX={draw(t,e){const r=zi(e),n=-r/2;t.rect(n,n,r,r)}},CX=.8908130915292852,F3=ng(ig/10)/ng(7*ig/10),NX=ng($y/10)*F3,OX=-N3($y/10)*F3,RX={draw(t,e){const r=zi(e*CX),n=NX*r,i=OX*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=$y*a/5,l=N3(o),c=ng(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},E0=zi(3),MX={draw(t,e){const r=-zi(e/(E0*3));t.moveTo(0,r*2),t.lineTo(-E0*r,-r),t.lineTo(E0*r,-r),t.closePath()}},ri=-.5,ni=zi(3)/2,fS=1/zi(12),DX=(fS/2+1)*3,LX={draw(t,e){const r=zi(e/DX),n=r/2,i=r*fS,a=n,o=r*fS+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(ri*n-ni*i,ni*n+ri*i),t.lineTo(ri*a-ni*o,ni*a+ri*o),t.lineTo(ri*l-ni*c,ni*l+ri*c),t.lineTo(ri*n+ni*i,ri*i-ni*n),t.lineTo(ri*a+ni*o,ri*o-ni*a),t.lineTo(ri*l+ni*c,ri*c-ni*l),t.closePath()}};function $X(t,e){let r=null,n=WT(i);t=typeof t=="function"?t:It(t||GT),e=typeof e=="function"?e:It(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:It(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:It(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function ag(){}function og(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function U3(t){this._context=t}U3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:og(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VX(t){return new U3(t)}function z3(t){this._context=t}z3.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FX(t){return new z3(t)}function B3(t){this._context=t}B3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UX(t){return new B3(t)}function q3(t){this._context=t}q3.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zX(t){return new q3(t)}function gN(t){return t<0?-1:1}function yN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(gN(a)+gN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function vN(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function T0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function sg(t){this._context=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T0(this,this._t0,vN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,T0(this,vN(this,r=yN(this,t,e)),r);break;default:T0(this,this._t0,r=yN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function W3(t){this._context=new H3(t)}(W3.prototype=Object.create(sg.prototype)).point=function(t,e){sg.prototype.point.call(this,e,t)};function H3(t){this._context=t}H3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function BX(t){return new sg(t)}function qX(t){return new W3(t)}function G3(t){this._context=t}G3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=bN(t),i=bN(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bN(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function WX(t){return new G3(t)}function Fy(t,e){this._context=t,this._t=e}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function HX(t){return new Fy(t,.5)}function GX(t){return new Fy(t,0)}function KX(t){return new Fy(t,1)}function rc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function hS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function XX(t,e){return t[e]}function YX(t){const e=[];return e.key=t,e}function QX(){var t=It([]),e=hS,r=rc,n=XX;function i(a){var o=Array.from(t.apply(this,arguments),YX),l,c=o.length,d=-1,p;for(const m of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,a)]).data=m;for(l=0,p=HT(e(o));l<c;++l)o[p[l]].index=l;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:It(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:It(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?hS:typeof a=="function"?a:It(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??rc,i):r},i}function JX(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}rc(t,e)}}function ZX(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}rc(t,e)}}function eY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var p=t[e[l]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,S=0;S<l;++S){var w=t[e[S]],b=w[n][1]||0,T=w[n-1][1]||0;x+=b-T}c+=m,d+=x*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,rc(t,e)}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var tY=["type","size","sizeType"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pS.apply(this,arguments)}function xN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(r),!0).forEach(function(n){rY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rY(t,e,r){return e=nY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nY(t){var e=iY(t,"string");return Pf(e)=="symbol"?e:e+""}function iY(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aY(t,e){if(t==null)return{};var r=oY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var K3={symbolCircle:GT,symbolCross:PX,symbolDiamond:kX,symbolSquare:IX,symbolStar:RX,symbolTriangle:MX,symbolWye:LX},sY=Math.PI/180,lY=function(e){var r="symbol".concat(Ly(e));return K3[r]||GT},uY=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*sY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cY=function(e,r){K3["symbol".concat(Ly(e))]=r},KT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=aY(e,tY),d=wN(wN({},c),{},{type:n,size:a,sizeType:l}),p=function(){var b=lY(n),T=$X().type(b).size(uY(a,l,n));return T()},m=d.className,y=d.cx,x=d.cy,S=Ge(d,!0);return y===+y&&x===+x&&a===+a?G.createElement("path",pS({},S,{className:et("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};KT.registerSymbol=cY;function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mS.apply(this,arguments)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){jf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y3(n.key),n)}}function pY(t,e,r){return e&&hY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mY(t,e,r){return e=lg(e),gY(t,X3()?Reflect.construct(e,r||[],lg(t).constructor):e.apply(t,r))}function gY(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yY(t)}function yY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X3=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(t)}function vY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gS(t,e)}function jf(t,e,r){return e=Y3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y3(t){var e=bY(t,"string");return nc(e)=="symbol"?e:e+""}function bY(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ii=32,XT=(function(t){function e(){return fY(this,e),mY(this,e,arguments)}return vY(e,t),pY(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ii/2,o=ii/6,l=ii/3,c=n.inactive?i:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ii,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ii,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var d=dY({},n);return delete d.legendIcon,G.cloneElement(n.legendIcon,d)}return G.createElement(KT,{fill:c,cx:a,cy:a,size:ii,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,p={x:0,y:0,width:ii,height:ii},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,S){var w=x.formatter||c,b=et(jf(jf({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var T=Qe(x.value)?null:x.value;Xa(!Qe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=x.inactive?d:x.color;return G.createElement("li",mS({className:b,style:m,key:"legend-item-".concat(S)},ps(n.props,x,S)),G.createElement(lS,{width:o,height:o,viewBox:p,style:y},n.renderIcon(x)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(T,x,S):T))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(D.PureComponent);jf(XT,"displayName","Legend");jf(XT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var A0,SN;function xY(){if(SN)return A0;SN=1;var t=Oy();function e(){this.__data__=new t,this.size=0}return A0=e,A0}var P0,EN;function wY(){if(EN)return P0;EN=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return P0=t,P0}var j0,TN;function _Y(){if(TN)return j0;TN=1;function t(e){return this.__data__.get(e)}return j0=t,j0}var k0,AN;function SY(){if(AN)return k0;AN=1;function t(e){return this.__data__.has(e)}return k0=t,k0}var I0,PN;function EY(){if(PN)return I0;PN=1;var t=Oy(),e=VT(),r=FT(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return I0=i,I0}var C0,jN;function Q3(){if(jN)return C0;jN=1;var t=Oy(),e=xY(),r=wY(),n=_Y(),i=SY(),a=EY();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,C0=o,C0}var N0,kN;function TY(){if(kN)return N0;kN=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return N0=e,N0}var O0,IN;function AY(){if(IN)return O0;IN=1;function t(e){return this.__data__.has(e)}return O0=t,O0}var R0,CN;function J3(){if(CN)return R0;CN=1;var t=FT(),e=TY(),r=AY();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,R0=n,R0}var M0,NN;function Z3(){if(NN)return M0;NN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return M0=t,M0}var D0,ON;function e$(){if(ON)return D0;ON=1;function t(e,r){return e.has(r)}return D0=t,D0}var L0,RN;function t$(){if(RN)return L0;RN=1;var t=J3(),e=Z3(),r=e$(),n=1,i=2;function a(o,l,c,d,p,m){var y=c&n,x=o.length,S=l.length;if(x!=S&&!(y&&S>x))return!1;var w=m.get(o),b=m.get(l);if(w&&b)return w==l&&b==o;var T=-1,E=!0,I=c&i?new t:void 0;for(m.set(o,l),m.set(l,o);++T<x;){var N=o[T],k=l[T];if(d)var O=y?d(k,N,T,l,o,m):d(N,k,T,o,l,m);if(O!==void 0){if(O)continue;E=!1;break}if(I){if(!e(l,function(P,C){if(!r(I,C)&&(N===P||p(N,P,c,d,m)))return I.push(C)})){E=!1;break}}else if(!(N===k||p(N,k,c,d,m))){E=!1;break}}return m.delete(o),m.delete(l),E}return L0=a,L0}var $0,MN;function PY(){if(MN)return $0;MN=1;var t=va(),e=t.Uint8Array;return $0=e,$0}var V0,DN;function jY(){if(DN)return V0;DN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return V0=t,V0}var F0,LN;function YT(){if(LN)return F0;LN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return F0=t,F0}var U0,$N;function kY(){if($N)return U0;$N=1;var t=Ph(),e=PY(),r=$T(),n=t$(),i=jY(),a=YT(),o=1,l=2,c="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",w="[object String]",b="[object Symbol]",T="[object ArrayBuffer]",E="[object DataView]",I=t?t.prototype:void 0,N=I?I.valueOf:void 0;function k(O,P,C,R,F,L,$){switch(C){case E:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case T:return!(O.byteLength!=P.byteLength||!L(new e(O),new e(P)));case c:case d:case y:return r(+O,+P);case p:return O.name==P.name&&O.message==P.message;case x:case w:return O==P+"";case m:var V=i;case S:var q=R&o;if(V||(V=a),O.size!=P.size&&!q)return!1;var X=$.get(O);if(X)return X==P;R|=l,$.set(O,P);var te=n(V(O),V(P),R,F,L,$);return $.delete(O),te;case b:if(N)return N.call(O)==N.call(P)}return!1}return U0=k,U0}var z0,VN;function r$(){if(VN)return z0;VN=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return z0=t,z0}var B0,FN;function IY(){if(FN)return B0;FN=1;var t=r$(),e=Pn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return B0=r,B0}var q0,UN;function CY(){if(UN)return q0;UN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return q0=t,q0}var W0,zN;function NY(){if(zN)return W0;zN=1;function t(){return[]}return W0=t,W0}var H0,BN;function OY(){if(BN)return H0;BN=1;var t=CY(),e=NY(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return H0=a,H0}var G0,qN;function RY(){if(qN)return G0;qN=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return G0=t,G0}var K0,WN;function MY(){if(WN)return K0;WN=1;var t=fo(),e=ho(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return K0=n,K0}var X0,HN;function QT(){if(HN)return X0;HN=1;var t=MY(),e=ho(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return X0=a,X0}var Xd={exports:{}},Y0,GN;function DY(){if(GN)return Y0;GN=1;function t(){return!1}return Y0=t,Y0}Xd.exports;var KN;function n$(){return KN||(KN=1,(function(t,e){var r=va(),n=DY(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Xd,Xd.exports)),Xd.exports}var Q0,XN;function JT(){if(XN)return Q0;XN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Q0=r,Q0}var J0,YN;function ZT(){if(YN)return J0;YN=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return J0=e,J0}var Z0,QN;function LY(){if(QN)return Z0;QN=1;var t=fo(),e=ZT(),r=ho(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",T="[object DataView]",E="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",L={};L[E]=L[I]=L[N]=L[k]=L[O]=L[P]=L[C]=L[R]=L[F]=!0,L[n]=L[i]=L[b]=L[a]=L[T]=L[o]=L[l]=L[c]=L[d]=L[p]=L[m]=L[y]=L[x]=L[S]=L[w]=!1;function $(V){return r(V)&&e(V.length)&&!!L[t(V)]}return Z0=$,Z0}var ew,JN;function i$(){if(JN)return ew;JN=1;function t(e){return function(r){return e(r)}}return ew=t,ew}var Yd={exports:{}};Yd.exports;var ZN;function $Y(){return ZN||(ZN=1,(function(t,e){var r=E3(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Yd,Yd.exports)),Yd.exports}var tw,eO;function a$(){if(eO)return tw;eO=1;var t=LY(),e=i$(),r=$Y(),n=r&&r.isTypedArray,i=n?e(n):t;return tw=i,tw}var rw,tO;function VY(){if(tO)return rw;tO=1;var t=RY(),e=QT(),r=Pn(),n=n$(),i=JT(),a=a$(),o=Object.prototype,l=o.hasOwnProperty;function c(d,p){var m=r(d),y=!m&&e(d),x=!m&&!y&&n(d),S=!m&&!y&&!x&&a(d),w=m||y||x||S,b=w?t(d.length,String):[],T=b.length;for(var E in d)(p||l.call(d,E))&&!(w&&(E=="length"||x&&(E=="offset"||E=="parent")||S&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,T)))&&b.push(E);return b}return rw=c,rw}var nw,rO;function FY(){if(rO)return nw;rO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return nw=e,nw}var iw,nO;function o$(){if(nO)return iw;nO=1;function t(e,r){return function(n){return e(r(n))}}return iw=t,iw}var aw,iO;function UY(){if(iO)return aw;iO=1;var t=o$(),e=t(Object.keys,Object);return aw=e,aw}var ow,aO;function zY(){if(aO)return ow;aO=1;var t=FY(),e=UY(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return ow=i,ow}var sw,oO;function kh(){if(oO)return sw;oO=1;var t=LT(),e=ZT();function r(n){return n!=null&&e(n.length)&&!t(n)}return sw=r,sw}var lw,sO;function Uy(){if(sO)return lw;sO=1;var t=VY(),e=zY(),r=kh();function n(i){return r(i)?t(i):e(i)}return lw=n,lw}var uw,lO;function BY(){if(lO)return uw;lO=1;var t=IY(),e=OY(),r=Uy();function n(i){return t(i,r,e)}return uw=n,uw}var cw,uO;function qY(){if(uO)return cw;uO=1;var t=BY(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,c,d,p){var m=l&e,y=t(a),x=y.length,S=t(o),w=S.length;if(x!=w&&!m)return!1;for(var b=x;b--;){var T=y[b];if(!(m?T in o:n.call(o,T)))return!1}var E=p.get(a),I=p.get(o);if(E&&I)return E==o&&I==a;var N=!0;p.set(a,o),p.set(o,a);for(var k=m;++b<x;){T=y[b];var O=a[T],P=o[T];if(c)var C=m?c(P,O,T,o,a,p):c(O,P,T,a,o,p);if(!(C===void 0?O===P||d(O,P,l,c,p):C)){N=!1;break}k||(k=T=="constructor")}if(N&&!k){var R=a.constructor,F=o.constructor;R!=F&&"constructor"in a&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(N=!1)}return p.delete(a),p.delete(o),N}return cw=i,cw}var dw,cO;function WY(){if(cO)return dw;cO=1;var t=Ol(),e=va(),r=t(e,"DataView");return dw=r,dw}var fw,dO;function HY(){if(dO)return fw;dO=1;var t=Ol(),e=va(),r=t(e,"Promise");return fw=r,fw}var hw,fO;function s$(){if(fO)return hw;fO=1;var t=Ol(),e=va(),r=t(e,"Set");return hw=r,hw}var pw,hO;function GY(){if(hO)return pw;hO=1;var t=Ol(),e=va(),r=t(e,"WeakMap");return pw=r,pw}var mw,pO;function KY(){if(pO)return mw;pO=1;var t=WY(),e=VT(),r=HY(),n=s$(),i=GY(),a=fo(),o=T3(),l="[object Map]",c="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=o(t),S=o(e),w=o(r),b=o(n),T=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=y||e&&E(new e)!=l||r&&E(r.resolve())!=d||n&&E(new n)!=p||i&&E(new i)!=m)&&(E=function(I){var N=a(I),k=N==c?I.constructor:void 0,O=k?o(k):"";if(O)switch(O){case x:return y;case S:return l;case w:return d;case b:return p;case T:return m}return N}),mw=E,mw}var gw,mO;function XY(){if(mO)return gw;mO=1;var t=Q3(),e=t$(),r=kY(),n=qY(),i=KY(),a=Pn(),o=n$(),l=a$(),c=1,d="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(w,b,T,E,I,N){var k=a(w),O=a(b),P=k?p:i(w),C=O?p:i(b);P=P==d?m:P,C=C==d?m:C;var R=P==m,F=C==m,L=P==C;if(L&&o(w)){if(!o(b))return!1;k=!0,R=!1}if(L&&!R)return N||(N=new t),k||l(w)?e(w,b,T,E,I,N):r(w,b,P,T,E,I,N);if(!(T&c)){var $=R&&x.call(w,"__wrapped__"),V=F&&x.call(b,"__wrapped__");if($||V){var q=$?w.value():w,X=V?b.value():b;return N||(N=new t),I(q,X,T,E,N)}}return L?(N||(N=new t),n(w,b,T,E,I,N)):!1}return gw=S,gw}var yw,gO;function eA(){if(gO)return yw;gO=1;var t=XY(),e=ho();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return yw=r,yw}var vw,yO;function YY(){if(yO)return vw;yO=1;var t=Q3(),e=eA(),r=1,n=2;function i(a,o,l,c){var d=l.length,p=d,m=!c;if(a==null)return!p;for(a=Object(a);d--;){var y=l[d];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++d<p;){y=l[d];var x=y[0],S=a[x],w=y[1];if(m&&y[2]){if(S===void 0&&!(x in a))return!1}else{var b=new t;if(c)var T=c(S,w,x,a,o,b);if(!(T===void 0?e(w,S,r|n,c,b):T))return!1}}return!0}return vw=i,vw}var bw,vO;function l$(){if(vO)return bw;vO=1;var t=bs();function e(r){return r===r&&!t(r)}return bw=e,bw}var xw,bO;function QY(){if(bO)return xw;bO=1;var t=l$(),e=Uy();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return xw=r,xw}var ww,xO;function u$(){if(xO)return ww;xO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return ww=t,ww}var _w,wO;function JY(){if(wO)return _w;wO=1;var t=YY(),e=QY(),r=u$();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return _w=n,_w}var Sw,_O;function ZY(){if(_O)return Sw;_O=1;function t(e,r){return e!=null&&r in Object(e)}return Sw=t,Sw}var Ew,SO;function eQ(){if(SO)return Ew;SO=1;var t=j3(),e=QT(),r=Pn(),n=JT(),i=ZT(),a=My();function o(l,c,d){c=t(c,l);for(var p=-1,m=c.length,y=!1;++p<m;){var x=a(c[p]);if(!(y=l!=null&&d(l,x)))break;l=l[x]}return y||++p!=m?y:(m=l==null?0:l.length,!!m&&i(m)&&n(x,m)&&(r(l)||e(l)))}return Ew=o,Ew}var Tw,EO;function tQ(){if(EO)return Tw;EO=1;var t=ZY(),e=eQ();function r(n,i){return n!=null&&e(n,i,t)}return Tw=r,Tw}var Aw,TO;function rQ(){if(TO)return Aw;TO=1;var t=eA(),e=k3(),r=tQ(),n=DT(),i=l$(),a=u$(),o=My(),l=1,c=2;function d(p,m){return n(p)&&i(m)?a(o(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,l|c)}}return Aw=d,Aw}var Pw,AO;function $c(){if(AO)return Pw;AO=1;function t(e){return e}return Pw=t,Pw}var jw,PO;function nQ(){if(PO)return jw;PO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return jw=t,jw}var kw,jO;function iQ(){if(jO)return kw;jO=1;var t=zT();function e(r){return function(n){return t(n,r)}}return kw=e,kw}var Iw,kO;function aQ(){if(kO)return Iw;kO=1;var t=nQ(),e=iQ(),r=DT(),n=My();function i(a){return r(a)?t(n(a)):e(a)}return Iw=i,Iw}var Cw,IO;function ba(){if(IO)return Cw;IO=1;var t=JY(),e=rQ(),r=$c(),n=Pn(),i=aQ();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return Cw=a,Cw}var Nw,CO;function c$(){if(CO)return Nw;CO=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return Nw=t,Nw}var Ow,NO;function oQ(){if(NO)return Ow;NO=1;function t(e){return e!==e}return Ow=t,Ow}var Rw,OO;function sQ(){if(OO)return Rw;OO=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Rw=t,Rw}var Mw,RO;function lQ(){if(RO)return Mw;RO=1;var t=c$(),e=oQ(),r=sQ();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return Mw=n,Mw}var Dw,MO;function uQ(){if(MO)return Dw;MO=1;var t=lQ();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Dw=e,Dw}var Lw,DO;function cQ(){if(DO)return Lw;DO=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Lw=t,Lw}var $w,LO;function dQ(){if(LO)return $w;LO=1;function t(){}return $w=t,$w}var Vw,$O;function fQ(){if($O)return Vw;$O=1;var t=s$(),e=dQ(),r=YT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Vw=i,Vw}var Fw,VO;function hQ(){if(VO)return Fw;VO=1;var t=J3(),e=uQ(),r=cQ(),n=e$(),i=fQ(),a=YT(),o=200;function l(c,d,p){var m=-1,y=e,x=c.length,S=!0,w=[],b=w;if(p)S=!1,y=r;else if(x>=o){var T=d?null:i(c);if(T)return a(T);S=!1,y=n,b=new t}else b=d?[]:w;e:for(;++m<x;){var E=c[m],I=d?d(E):E;if(E=p||E!==0?E:0,S&&I===I){for(var N=b.length;N--;)if(b[N]===I)continue e;d&&b.push(I),w.push(E)}else y(b,I,p)||(b!==w&&b.push(I),w.push(E))}return w}return Fw=l,Fw}var Uw,FO;function pQ(){if(FO)return Uw;FO=1;var t=ba(),e=hQ();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Uw=r,Uw}var mQ=pQ();const UO=wt(mQ);function d$(t,e,r){return e===!0?UO(t,r):Qe(e)?UO(t,e):t}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}var gQ=["ref"];function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){zy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h$(n.key),n)}}function vQ(t,e,r){return e&&BO(t.prototype,e),r&&BO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bQ(t,e,r){return e=ug(e),xQ(t,f$()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function xQ(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wQ(t)}function wQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function _Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yS(t,e)}function zy(t,e,r){return e=h$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$(t){var e=SQ(t,"string");return ic(e)=="symbol"?e:e+""}function SQ(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EQ(t,e){if(t==null)return{};var r=TQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AQ(t){return t.value}function PQ(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=EQ(e,gQ);return G.createElement(XT,r)}var qO=1,qu=(function(t){function e(){var r;yQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bQ(this,e,[].concat(i)),zy(r,"lastBoundingBox",{width:-1,height:-1}),r}return _Q(e,t),vQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qO||Math.abs(i.height-this.lastBoundingBox.height)>qO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,p=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((p||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Da(Da({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,p=i.payload,m=Da(Da({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},PQ(a,Da(Da({},this.props),{},{payload:d$(p,d,AQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Da(Da({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&_e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(D.PureComponent);zy(qu,"displayName","Legend");zy(qu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zw,WO;function jQ(){if(WO)return zw;WO=1;var t=Ph(),e=QT(),r=Pn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return zw=i,zw}var Bw,HO;function p$(){if(HO)return Bw;HO=1;var t=r$(),e=jQ();function r(n,i,a,o,l){var c=-1,d=n.length;for(a||(a=e),l||(l=[]);++c<d;){var p=n[c];i>0&&a(p)?i>1?r(p,i-1,a,o,l):t(l,p):o||(l[l.length]=p)}return l}return Bw=r,Bw}var qw,GO;function kQ(){if(GO)return qw;GO=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[e?c:++a];if(n(o[d],d,o)===!1)break}return r}}return qw=t,qw}var Ww,KO;function IQ(){if(KO)return Ww;KO=1;var t=kQ(),e=t();return Ww=e,Ww}var Hw,XO;function m$(){if(XO)return Hw;XO=1;var t=IQ(),e=Uy();function r(n,i){return n&&t(n,i,e)}return Hw=r,Hw}var Gw,YO;function CQ(){if(YO)return Gw;YO=1;var t=kh();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return Gw=e,Gw}var Kw,QO;function tA(){if(QO)return Kw;QO=1;var t=m$(),e=CQ(),r=e(t);return Kw=r,Kw}var Xw,JO;function g$(){if(JO)return Xw;JO=1;var t=tA(),e=kh();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++a]=i(l,c,d)}),o}return Xw=r,Xw}var Yw,ZO;function NQ(){if(ZO)return Yw;ZO=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Yw=t,Yw}var Qw,e2;function OQ(){if(e2)return Qw;e2=1;var t=Dc();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,p=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&p&&!d&&!m||a&&c&&p||!i&&p||!o)return 1;if(!a&&!l&&!m&&r<n||m&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!p)return-1}return 0}return Qw=e,Qw}var Jw,t2;function RQ(){if(t2)return Jw;t2=1;var t=OQ();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++a<c;){var p=t(o[a],l[a]);if(p){if(a>=d)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Jw=e,Jw}var Zw,r2;function MQ(){if(r2)return Zw;r2=1;var t=UT(),e=zT(),r=ba(),n=g$(),i=NQ(),a=i$(),o=RQ(),l=$c(),c=Pn();function d(p,m,y){m.length?m=t(m,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[l];var x=-1;m=t(m,a(r));var S=n(p,function(w,b,T){var E=t(m,function(I){return I(w)});return{criteria:E,index:++x,value:w}});return i(S,function(w,b){return o(w,b,y)})}return Zw=d,Zw}var e_,n2;function DQ(){if(n2)return e_;n2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return e_=t,e_}var t_,i2;function LQ(){if(i2)return t_;i2=1;var t=DQ(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var p=Array(i+1);++l<i;)p[l]=o[l];return p[i]=a(d),t(n,this,p)}}return t_=r,t_}var r_,a2;function $Q(){if(a2)return r_;a2=1;function t(e){return function(){return e}}return r_=t,r_}var n_,o2;function y$(){if(o2)return n_;o2=1;var t=Ol(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return n_=e,n_}var i_,s2;function VQ(){if(s2)return i_;s2=1;var t=$Q(),e=y$(),r=$c(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return i_=n,i_}var a_,l2;function FQ(){if(l2)return a_;l2=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return a_=n,a_}var o_,u2;function UQ(){if(u2)return o_;u2=1;var t=VQ(),e=FQ(),r=e(t);return o_=r,o_}var s_,c2;function zQ(){if(c2)return s_;c2=1;var t=$c(),e=LQ(),r=UQ();function n(i,a){return r(e(i,a,t),i+"")}return s_=n,s_}var l_,d2;function By(){if(d2)return l_;d2=1;var t=$T(),e=kh(),r=JT(),n=bs();function i(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return l_=i,l_}var u_,f2;function BQ(){if(f2)return u_;f2=1;var t=p$(),e=MQ(),r=zQ(),n=By(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return u_=i,u_}var qQ=BQ();const rA=wt(qQ);function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vS.apply(this,arguments)}function WQ(t,e){return XQ(t)||KQ(t,e)||GQ(t,e)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return h2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(t,e)}}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function XQ(t){if(Array.isArray(t))return t}function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){YQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YQ(t,e,r){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QQ(t){var e=JQ(t,"string");return kf(e)=="symbol"?e:e+""}function JQ(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZQ(t){return Array.isArray(t)&&wr(t[0])&&wr(t[1])?t.join(" ~ "):t}var eJ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,w=e.label,b=e.labelFormatter,T=e.accessibilityLayer,E=T===void 0?!1:T,I=function(){if(p&&p.length){var $={padding:0,margin:0},V=(y?rA(p,y):p).map(function(q,X){if(q.type==="none")return null;var te=c_({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),re=q.formatter||m||ZQ,Q=q.value,ae=q.name,ne=Q,W=ae;if(re&&ne!=null&&W!=null){var Y=re(Q,ae,q,X,p);if(Array.isArray(Y)){var de=WQ(Y,2);ne=de[0],W=de[1]}else ne=Y}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:te},wr(W)?G.createElement("span",{className:"recharts-tooltip-item-name"},W):null,wr(W)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ne),G.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:$},V)}return null},N=c_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=c_({margin:0},d),O=!pt(w),P=O?w:"",C=et("recharts-default-tooltip",x),R=et("recharts-tooltip-label",S);O&&b&&p!==void 0&&p!==null&&(P=b(w,p));var F=E?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",vS({className:C,style:N},F),G.createElement("p",{className:R,style:k},G.isValidElement(P)?P:"".concat(P)),I())};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function sm(t,e,r){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tJ(t){var e=rJ(t,"string");return If(e)=="symbol"?e:e+""}function rJ(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cd="recharts-tooltip-wrapper",nJ={visibility:"hidden"};function iJ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return et(Cd,sm(sm(sm(sm({},"".concat(Cd,"-right"),_e(r)&&e&&_e(e.x)&&r>=e.x),"".concat(Cd,"-left"),_e(r)&&e&&_e(e.x)&&r<e.x),"".concat(Cd,"-bottom"),_e(n)&&e&&_e(e.y)&&n>=e.y),"".concat(Cd,"-top"),_e(n)&&e&&_e(e.y)&&n<e.y))}function m2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&_e(a[n]))return a[n];var p=r[n]-l-i,m=r[n]+i;if(e[n])return o[n]?p:m;if(o[n]){var y=p,x=c[n];return y<x?Math.max(m,c[n]):Math.max(p,c[n])}var S=m+l,w=c[n]+d;return S>w?Math.max(p,c[n]):Math.max(m,c[n])}function aJ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function oJ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,p,m;return o.height>0&&o.width>0&&r?(p=m2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=m2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=aJ({translateX:p,translateY:m,useTranslate3d:l})):d=nJ,{cssProperties:d,cssClasses:iJ({translateX:p,translateY:m,coordinate:r})}}function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){xS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b$(n.key),n)}}function uJ(t,e,r){return e&&lJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJ(t,e,r){return e=cg(e),dJ(t,v$()?Reflect.construct(e,r||[],cg(t).constructor):e.apply(t,r))}function dJ(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJ(t)}function fJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(t)}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bS(t,e)}function xS(t,e,r){return e=b$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$(t){var e=pJ(t,"string");return ac(e)=="symbol"?e:e+""}function pJ(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v2=1,mJ=(function(t){function e(){var r;sJ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=cJ(this,e,[].concat(i)),xS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),r}return hJ(e,t),uJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>v2||Math.abs(n.height-this.state.lastBoundingBox.height)>v2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,p=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,w=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,E=i.wrapperStyle,I=oJ({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:S,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:T}),N=I.cssClasses,k=I.cssProperties,O=y2(y2({transition:y&&a?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return G.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(C){n.wrapperNode=C}},d)}}])})(D.PureComponent),gJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vc={isSsr:gJ()};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){nA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w$(n.key),n)}}function bJ(t,e,r){return e&&vJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xJ(t,e,r){return e=dg(e),wJ(t,x$()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function wJ(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(t)}function _J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function SJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wS(t,e)}function nA(t,e,r){return e=w$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w$(t){var e=EJ(t,"string");return oc(e)=="symbol"?e:e+""}function EJ(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TJ(t){return t.dataKey}function AJ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(eJ,e)}var ta=(function(t){function e(){return yJ(this,e),xJ(this,e,arguments)}return SJ(e,t),bJ(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,p=i.coordinate,m=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,w=i.payloadUniqBy,b=i.position,T=i.reverseDirection,E=i.useTranslate3d,I=i.viewBox,N=i.wrapperStyle,k=S??[];m&&k.length&&(k=d$(S.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),w,TJ));var O=k.length>0;return G.createElement(mJ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:y,active:a,coordinate:p,hasPayload:O,offset:x,position:b,reverseDirection:T,useTranslate3d:E,viewBox:I,wrapperStyle:N},AJ(d,x2(x2({},this.props),{},{payload:k})))}}])})(D.PureComponent);nA(ta,"displayName","Tooltip");nA(ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var d_,w2;function PJ(){if(w2)return d_;w2=1;var t=va(),e=function(){return t.Date.now()};return d_=e,d_}var f_,_2;function jJ(){if(_2)return f_;_2=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return f_=e,f_}var h_,S2;function kJ(){if(S2)return h_;S2=1;var t=jJ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return h_=r,h_}var p_,E2;function _$(){if(E2)return p_;E2=1;var t=kJ(),e=bs(),r=Dc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=a.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):i.test(d)?n:+d}return p_=c,p_}var m_,T2;function IJ(){if(T2)return m_;T2=1;var t=bs(),e=PJ(),r=_$(),n="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var p,m,y,x,S,w,b=0,T=!1,E=!1,I=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(T=!!d.leading,E="maxWait"in d,y=E?i(r(d.maxWait)||0,c):y,I="trailing"in d?!!d.trailing:I);function N(V){var q=p,X=m;return p=m=void 0,b=V,x=l.apply(X,q),x}function k(V){return b=V,S=setTimeout(C,c),T?N(V):x}function O(V){var q=V-w,X=V-b,te=c-q;return E?a(te,y-X):te}function P(V){var q=V-w,X=V-b;return w===void 0||q>=c||q<0||E&&X>=y}function C(){var V=e();if(P(V))return R(V);S=setTimeout(C,O(V))}function R(V){return S=void 0,I&&p?N(V):(p=m=void 0,x)}function F(){S!==void 0&&clearTimeout(S),b=0,p=w=m=S=void 0}function L(){return S===void 0?x:R(e())}function $(){var V=e(),q=P(V);if(p=arguments,m=this,w=V,q){if(S===void 0)return k(w);if(E)return clearTimeout(S),S=setTimeout(C,c),N(w)}return S===void 0&&(S=setTimeout(C,c)),x}return $.cancel=F,$.flush=L,$}return m_=o,m_}var g_,A2;function CJ(){if(A2)return g_;A2=1;var t=IJ(),e=bs(),r="Expected a function";function n(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return g_=n,g_}var NJ=CJ();const S$=wt(NJ);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){OJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OJ(t,e,r){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RJ(t){var e=MJ(t,"string");return Cf(e)=="symbol"?e:e+""}function MJ(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DJ(t,e){return FJ(t)||VJ(t,e)||$J(t,e)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $J(t,e){if(t){if(typeof t=="string")return j2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j2(t,e)}}function j2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function FJ(t){if(Array.isArray(t))return t}var UJ=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,p=d===void 0?0:d,m=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,w=S===void 0?0:S,b=t.id,T=t.className,E=t.onResize,I=t.style,N=I===void 0?{}:I,k=D.useRef(null),O=D.useRef();O.current=E,D.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var P=D.useState({containerWidth:i.width,containerHeight:i.height}),C=DJ(P,2),R=C[0],F=C[1],L=D.useCallback(function(V,q){F(function(X){var te=Math.round(V),re=Math.round(q);return X.containerWidth===te&&X.containerHeight===re?X:{containerWidth:te,containerHeight:re}})},[]);D.useEffect(function(){var V=function(ae){var ne,W=ae[0].contentRect,Y=W.width,de=W.height;L(Y,de),(ne=O.current)===null||ne===void 0||ne.call(O,Y,de)};w>0&&(V=S$(V,w,{trailing:!0,leading:!1}));var q=new ResizeObserver(V),X=k.current.getBoundingClientRect(),te=X.width,re=X.height;return L(te,re),q.observe(k.current),function(){q.disconnect()}},[L,w]);var $=D.useMemo(function(){var V=R.containerWidth,q=R.containerHeight;if(V<0||q<0)return null;Xa(ol(o)||ol(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=ol(o)?V:o,te=ol(c)?q:c;r&&r>0&&(X?te=X/r:te&&(X=te*r),y&&te>y&&(te=y)),Xa(X>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,te,o,c,p,m,r);var re=!Array.isArray(x)&&Ka(x.type).endsWith("Chart");return G.Children.map(x,function(Q){return G.isValidElement(Q)?D.cloneElement(Q,lm({width:X,height:te},re?{style:lm({height:"100%",width:"100%",maxHeight:te,maxWidth:X},Q.props.style)}:{})):Q})},[r,x,c,y,m,p,R,o]);return G.createElement("div",{id:b?"".concat(b):void 0,className:et("recharts-responsive-container",T),style:lm(lm({},N),{},{width:o,height:c,minWidth:p,minHeight:m,maxHeight:y}),ref:k},$)}),qy=function(e){return null};qy.displayName="Cell";function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function k2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(r),!0).forEach(function(n){zJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zJ(t,e,r){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BJ(t){var e=qJ(t,"string");return Nf(e)=="symbol"?e:e+""}function qJ(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Au={widthCache:{},cacheCount:0},WJ=2e3,HJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},I2="recharts_measurement_span";function GJ(t){var e=_S({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var of=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vc.isSsr)return{width:0,height:0};var n=GJ(r),i=JSON.stringify({text:e,copyStyle:n});if(Au.widthCache[i])return Au.widthCache[i];try{var a=document.getElementById(I2);a||(a=document.createElement("span"),a.setAttribute("id",I2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=_S(_S({},HJ),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Au.widthCache[i]=c,++Au.cacheCount>WJ&&(Au.cacheCount=0,Au.widthCache={}),c}catch{return{width:0,height:0}}},KJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function fg(t,e){return JJ(t)||QJ(t,e)||YJ(t,e)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(t,e){if(t){if(typeof t=="string")return C2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C2(t,e)}}function C2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function JJ(t){if(Array.isArray(t))return t}function ZJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tZ(n.key),n)}}function eZ(t,e,r){return e&&N2(t.prototype,e),r&&N2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tZ(t){var e=rZ(t,"string");return Of(e)=="symbol"?e:e+""}function rZ(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,E$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aZ=Object.keys(E$),Ou="NaN";function oZ(t,e){return t*E$[e]}var um=(function(){function t(e,r){ZJ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!nZ.test(r)&&(this.num=NaN,this.unit=""),aZ.includes(r)&&(this.num=oZ(e,r),this.unit="px")}return eZ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=iZ.exec(r))!==null&&n!==void 0?n:[],a=fg(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])})();function T$(t){if(t.includes(Ou))return Ou;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=O2.exec(e))!==null&&r!==void 0?r:[],i=fg(n,4),a=i[1],o=i[2],l=i[3],c=um.parse(a??""),d=um.parse(l??""),p=o==="*"?c.multiply(d):c.divide(d);if(p.isNaN())return Ou;e=e.replace(O2,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=R2.exec(e))!==null&&m!==void 0?m:[],x=fg(y,4),S=x[1],w=x[2],b=x[3],T=um.parse(S??""),E=um.parse(b??""),I=w==="+"?T.add(E):T.subtract(E);if(I.isNaN())return Ou;e=e.replace(R2,I.toString())}return e}var M2=/\(([^()]*)\)/;function sZ(t){for(var e=t;e.includes("(");){var r=M2.exec(e),n=fg(r,2),i=n[1];e=e.replace(M2,T$(i))}return e}function lZ(t){var e=t.replace(/\s+/g,"");return e=sZ(e),e=T$(e),e}function uZ(t){try{return lZ(t)}catch{return Ou}}function y_(t){var e=uZ(t.slice(5,-1));return e===Ou?"":e}var cZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dZ=["dx","dy","angle","className","breakAll"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SS.apply(this,arguments)}function D2(t,e){if(t==null)return{};var r=fZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L2(t,e){return gZ(t)||mZ(t,e)||pZ(t,e)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pZ(t,e){if(t){if(typeof t=="string")return $2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $2(t,e)}}function $2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function gZ(t){if(Array.isArray(t))return t}var A$=/[ \f\n\r\t\v\u2028\u2029]+/,P$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];pt(r)||(n?a=r.toString().split(""):a=r.toString().split(A$));var o=a.map(function(c){return{word:c,width:of(c,i).width}}),l=n?0:of("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},yZ=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,p=_e(o),m=l,y=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(te,re){var Q=re.word,ae=re.width,ne=te[te.length-1];if(ne&&(i==null||a||ne.width+ae+n<Number(i)))ne.words.push(Q),ne.width+=ae+n;else{var W={words:[Q],width:ae};te.push(W)}return te},[])},x=y(r),S=function(X){return X.reduce(function(te,re){return te.width>re.width?te:re})};if(!p)return x;for(var w="",b=function(X){var te=m.slice(0,X),re=P$({breakAll:d,style:c,children:te+w}).wordsWithComputedWidth,Q=y(re),ae=Q.length>o||S(Q).width>Number(i);return[ae,Q]},T=0,E=m.length-1,I=0,N;T<=E&&I<=m.length-1;){var k=Math.floor((T+E)/2),O=k-1,P=b(O),C=L2(P,2),R=C[0],F=C[1],L=b(k),$=L2(L,1),V=$[0];if(!R&&!V&&(T=k+1),R&&V&&(E=k-1),!R&&V){N=F;break}I++}return N||x},V2=function(e){var r=pt(e)?[]:e.toString().split(A$);return[{words:r}]},vZ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Vc.isSsr){var c,d,p=P$({breakAll:o,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;c=m,d=y}else return V2(i);return yZ({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return V2(i)},F2="#808080",sc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,w=S===void 0?"end":S,b=e.fill,T=b===void 0?F2:b,E=D2(e,cZ),I=D.useMemo(function(){return vZ({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),N=E.dx,k=E.dy,O=E.angle,P=E.className,C=E.breakAll,R=D2(E,dZ);if(!wr(n)||!wr(a))return null;var F=n+(_e(N)?N:0),L=a+(_e(k)?k:0),$;switch(w){case"start":$=y_("calc(".concat(d,")"));break;case"middle":$=y_("calc(".concat((I.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:$=y_("calc(".concat(I.length-1," * -").concat(l,")"));break}var V=[];if(m){var q=I[0].width,X=E.width;V.push("scale(".concat((_e(X)?X/q:1)/q,")"))}return O&&V.push("rotate(".concat(O,", ").concat(F,", ").concat(L,")")),V.length&&(R.transform=V.join(" ")),G.createElement("text",SS({},Ge(R,!0),{x:F,y:L,className:et("recharts-text",P),textAnchor:x,fill:T.includes("url")?F2:T}),I.map(function(te,re){var Q=te.words.join(C?"":" ");return G.createElement("tspan",{x:F,dy:re===0?$:l,key:"".concat(Q,"-").concat(re)},Q)}))};function is(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iA(t){let e,r,n;t.length!==2?(e=is,r=(l,c)=>is(t(l),c),n=(l,c)=>t(l)-c):(e=t===is||t===bZ?t:xZ,r=t,n=t);function i(l,c,d=0,p=l.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(l[m],c)<0?d=m+1:p=m}while(d<p)}return d}function a(l,c,d=0,p=l.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(l[m],c)<=0?d=m+1:p=m}while(d<p)}return d}function o(l,c,d=0,p=l.length){const m=i(l,c,d,p-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:o,right:a}}function xZ(){return 0}function j$(t){return t===null?NaN:+t}function*wZ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const _Z=iA(is),Ih=_Z.right;iA(j$).center;class U2 extends Map{constructor(e,r=TZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(z2(this,e))}has(e){return super.has(z2(this,e))}set(e,r){return super.set(SZ(this,e),r)}delete(e){return super.delete(EZ(this,e))}}function z2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function SZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function EZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function TZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function AZ(t=is){if(t===is)return k$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function k$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const PZ=Math.sqrt(50),jZ=Math.sqrt(10),kZ=Math.sqrt(2);function hg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=PZ?10:a>=jZ?5:a>=kZ?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?hg(t,e,r*2):[l,c,d]}function ES(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?hg(e,t,r):hg(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function TS(t,e,r){return e=+e,t=+t,r=+r,hg(t,e,r)[2]}function AS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?TS(e,t,r):TS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function B2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function q2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function I$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?k$:AZ(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,p=Math.log(c),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(r,Math.floor(e-d*m/c+y)),S=Math.min(n,Math.floor(e+(c-d)*m/c+y));I$(t,e,x,S,i)}const a=t[e];let o=r,l=n;for(Nd(t,r,e),i(t[n],a)>0&&Nd(t,r,n);o<l;){for(Nd(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Nd(t,r,l):(++l,Nd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Nd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function IZ(t,e,r){if(t=Float64Array.from(wZ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return q2(t);if(e>=1)return B2(t);var n,i=(n-1)*e,a=Math.floor(i),o=B2(I$(t,a).subarray(0,a+1)),l=q2(t.subarray(a+1));return o+(l-o)*(i-a)}}function CZ(t,e,r=j$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function NZ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const PS=Symbol("implicit");function aA(){var t=new U2,e=[],r=[],n=PS;function i(a){let o=t.get(a);if(o===void 0){if(n!==PS)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new U2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aA(e,r).unknown(n)},hi.apply(i,arguments),i}function Rf(){var t=aA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,d=0,p=.5;delete t.unknown;function m(){var y=e().length,x=i<n,S=x?i:n,w=x?n:i;a=(w-S)/Math.max(1,y-c+d*2),l&&(a=Math.floor(a)),S+=(w-S-a*(y-c))*p,o=a*(1-c),l&&(S=Math.round(S),o=Math.round(o));var b=NZ(y).map(function(T){return S+a*T});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Rf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(p)},hi.apply(m(),arguments)}function C$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return C$(e())},t}function sf(){return C$(Rf.apply(null,arguments).paddingInner(1))}function oA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function N$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ch(){}var Mf=.7,pg=1/Mf,Wu="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OZ=/^#([0-9a-f]{3,8})$/,RZ=new RegExp(`^rgb\\(${Wu},${Wu},${Wu}\\)$`),MZ=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),DZ=new RegExp(`^rgba\\(${Wu},${Wu},${Wu},${Df}\\)$`),LZ=new RegExp(`^rgba\\(${da},${da},${da},${Df}\\)$`),$Z=new RegExp(`^hsl\\(${Df},${da},${da}\\)$`),VZ=new RegExp(`^hsla\\(${Df},${da},${da},${Df}\\)$`),W2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oA(Ch,Lf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:H2,formatHex:H2,formatHex8:FZ,formatHsl:UZ,formatRgb:G2,toString:G2});function H2(){return this.rgb().formatHex()}function FZ(){return this.rgb().formatHex8()}function UZ(){return O$(this).formatHsl()}function G2(){return this.rgb().formatRgb()}function Lf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=OZ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?K2(e):r===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RZ.exec(t))?new En(e[1],e[2],e[3],1):(e=MZ.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DZ.exec(t))?cm(e[1],e[2],e[3],e[4]):(e=LZ.exec(t))?cm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$Z.exec(t))?Q2(e[1],e[2]/100,e[3]/100,1):(e=VZ.exec(t))?Q2(e[1],e[2]/100,e[3]/100,e[4]):W2.hasOwnProperty(t)?K2(W2[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function K2(t){return new En(t>>16&255,t>>8&255,t&255,1)}function cm(t,e,r,n){return n<=0&&(t=e=r=NaN),new En(t,e,r,n)}function zZ(t){return t instanceof Ch||(t=Lf(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function jS(t,e,r,n){return arguments.length===1?zZ(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}oA(En,jS,N$(Ch,{brighter(t){return t=t==null?pg:Math.pow(pg,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mf:Math.pow(Mf,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(fl(this.r),fl(this.g),fl(this.b),mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X2,formatHex:X2,formatHex8:BZ,formatRgb:Y2,toString:Y2}));function X2(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}`}function BZ(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}${sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y2(){const t=mg(this.opacity);return`${t===1?"rgb(":"rgba("}${fl(this.r)}, ${fl(this.g)}, ${fl(this.b)}${t===1?")":`, ${t})`}`}function mg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sl(t){return t=fl(t),(t<16?"0":"")+t.toString(16)}function Q2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Oi(t,e,r,n)}function O$(t){if(t instanceof Oi)return new Oi(t.h,t.s,t.l,t.opacity);if(t instanceof Ch||(t=Lf(t)),!t)return new Oi;if(t instanceof Oi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Oi(o,l,c,t.opacity)}function qZ(t,e,r,n){return arguments.length===1?O$(t):new Oi(t,e,r,n??1)}function Oi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}oA(Oi,qZ,N$(Ch,{brighter(t){return t=t==null?pg:Math.pow(pg,t),new Oi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mf:Math.pow(Mf,t),new Oi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new En(v_(t>=240?t-240:t+120,i,n),v_(t,i,n),v_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Oi(J2(this.h),dm(this.s),dm(this.l),mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mg(this.opacity);return`${t===1?"hsl(":"hsla("}${J2(this.h)}, ${dm(this.s)*100}%, ${dm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function J2(t){return t=(t||0)%360,t<0?t+360:t}function dm(t){return Math.max(0,Math.min(1,t||0))}function v_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const sA=t=>()=>t;function WZ(t,e){return function(r){return t+r*e}}function HZ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function GZ(t){return(t=+t)==1?R$:function(e,r){return r-e?HZ(e,r,t):sA(isNaN(e)?r:e)}}function R$(t,e){var r=e-t;return r?WZ(t,r):sA(isNaN(t)?e:t)}const Z2=(function t(e){var r=GZ(e);function n(i,a){var o=r((i=jS(i)).r,(a=jS(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=R$(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=l(p),i.b=c(p),i.opacity=d(p),i+""}}return n.gamma=t,n})(1);function KZ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function XZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YZ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Fc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function QZ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function gg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function JZ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Fc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var kS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b_=new RegExp(kS.source,"g");function ZZ(t){return function(){return t}}function eee(t){return function(e){return t(e)+""}}function tee(t,e){var r=kS.lastIndex=b_.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=kS.exec(t))&&(i=b_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:gg(n,i)})),r=b_.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?eee(c[0].x):ZZ(e):(e=c.length,function(d){for(var p=0,m;p<e;++p)l[(m=c[p]).i]=m.x(d);return l.join("")})}function Fc(t,e){var r=typeof e,n;return e==null||r==="boolean"?sA(e):(r==="number"?gg:r==="string"?(n=Lf(e))?(e=n,Z2):tee:e instanceof Lf?Z2:e instanceof Date?QZ:XZ(e)?KZ:Array.isArray(e)?YZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JZ:gg)(t,e)}function lA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ree(t,e){e===void 0&&(e=t,t=Fc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function nee(t){return function(){return t}}function yg(t){return+t}var eR=[0,1];function sn(t){return t}function IS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:nee(isNaN(e)?NaN:.5)}function iee(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function aee(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=IS(i,n),a=r(o,a)):(n=IS(n,i),a=r(a,o)),function(l){return a(n(l))}}function oee(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=IS(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=Ih(t,l,1,n)-1;return a[c](i[c](l))}}function Nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wy(){var t=eR,e=eR,r=Fc,n,i,a,o=sn,l,c,d;function p(){var y=Math.min(t.length,e.length);return o!==sn&&(o=iee(t[0],t[y-1])),l=y>2?oee:aee,c=d=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(n),e,r)))(n(o(y)))}return m.invert=function(y){return o(i((d||(d=l(e,t.map(n),gg)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,yg),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=lA,p()},m.clamp=function(y){return arguments.length?(o=y?!0:sn,p()):o!==sn},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,x){return n=y,i=x,p()}}function uA(){return Wy()(sn,sn)}function see(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vg(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function lc(t){return t=vg(Math.abs(t)),t?t[1]:NaN}function lee(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function uee(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var cee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(t){if(!(e=cee.exec(t)))throw new Error("invalid format: "+t);var e;return new cA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$f.prototype=cA.prototype;function cA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dee(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var bg;function fee(t,e){var r=vg(t,e);if(!r)return bg=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(bg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+vg(t,Math.max(0,e+a-1))[0]}function tR(t,e){var r=vg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const rR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:see,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tR(t*100,e),r:tR,s:fee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nR(t){return t}var iR=Array.prototype.map,aR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hee(t){var e=t.grouping===void 0||t.thousands===void 0?nR:lee(iR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?nR:uee(iR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,y){m=$f(m);var x=m.fill,S=m.align,w=m.sign,b=m.symbol,T=m.zero,E=m.width,I=m.comma,N=m.precision,k=m.trim,O=m.type;O==="n"?(I=!0,O="g"):rR[O]||(N===void 0&&(N=12),k=!0,O="g"),(T||x==="0"&&S==="=")&&(T=!0,x="0",S="=");var P=(y&&y.prefix!==void 0?y.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),C=(b==="$"?n:/[%p]/.test(O)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),R=rR[O],F=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function L($){var V=P,q=C,X,te,re;if(O==="c")q=R($)+q,$="";else{$=+$;var Q=$<0||1/$<0;if($=isNaN($)?c:R(Math.abs($),N),k&&($=dee($)),Q&&+$==0&&w!=="+"&&(Q=!1),V=(Q?w==="("?w:l:w==="-"||w==="("?"":w)+V,q=(O==="s"&&!isNaN($)&&bg!==void 0?aR[8+bg/3]:"")+q+(Q&&w==="("?")":""),F){for(X=-1,te=$.length;++X<te;)if(re=$.charCodeAt(X),48>re||re>57){q=(re===46?i+$.slice(X+1):$.slice(X))+q,$=$.slice(0,X);break}}}I&&!T&&($=e($,1/0));var ae=V.length+$.length+q.length,ne=ae<E?new Array(E-ae+1).join(x):"";switch(I&&T&&($=e(ne+$,ne.length?E-q.length:1/0),ne=""),S){case"<":$=V+$+q+ne;break;case"=":$=V+ne+$+q;break;case"^":$=ne.slice(0,ae=ne.length>>1)+V+$+q+ne.slice(ae);break;default:$=ne+V+$+q;break}return a($)}return L.toString=function(){return m+""},L}function p(m,y){var x=Math.max(-8,Math.min(8,Math.floor(lc(y)/3)))*3,S=Math.pow(10,-x),w=d((m=$f(m),m.type="f",m),{suffix:aR[8+x/3]});return function(b){return w(S*b)}}return{format:d,formatPrefix:p}}var fm,dA,M$;pee({thousands:",",grouping:[3],currency:["$",""]});function pee(t){return fm=hee(t),dA=fm.format,M$=fm.formatPrefix,fm}function mee(t){return Math.max(0,-lc(Math.abs(t)))}function gee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lc(e)/3)))*3-lc(Math.abs(t)))}function yee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lc(e)-lc(t))+1}function D$(t,e,r,n){var i=AS(t,e,r),a;switch(n=$f(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=gee(i,o))&&(n.precision=a),M$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yee(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=mee(i))&&(n.precision=a-(n.type==="%")*2);break}}return dA(n)}function xs(t){var e=t.domain;return t.ticks=function(r){var n=e();return ES(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return D$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,p=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);p-- >0;){if(d=TS(o,l,r),d===c)return n[i]=o,n[a]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function xg(){var t=uA();return t.copy=function(){return Nh(t,xg())},hi.apply(t,arguments),xs(t)}function L$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return L$(t).unknown(e)},t=arguments.length?Array.from(t,yg):[0,1],xs(r)}function $$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function oR(t){return Math.log(t)}function sR(t){return Math.exp(t)}function vee(t){return-Math.log(-t)}function bee(t){return-Math.exp(-t)}function xee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wee(t){return t===10?xee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _ee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lR(t){return(e,r)=>-t(-e,r)}function fA(t){const e=t(oR,sR),r=e.domain;let n=10,i,a;function o(){return i=_ee(n),a=wee(n),r()[0]<0?(i=lR(i),a=lR(a),t(vee,bee)):t(oR,sR),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],p=c[c.length-1];const m=p<d;m&&([d,p]=[p,d]);let y=i(d),x=i(p),S,w;const b=l==null?10:+l;let T=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),d>0){for(;y<=x;++y)for(S=1;S<n;++S)if(w=y<0?S/a(-y):S*a(y),!(w<d)){if(w>p)break;T.push(w)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(w=y>0?S/a(-y):S*a(y),!(w<d)){if(w>p)break;T.push(w)}T.length*2<b&&(T=ES(d,p,b))}else T=ES(y,x,Math.min(x-y,b)).map(a);return m?T.reverse():T},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$f(c)).precision==null&&(c.trim=!0),c=dA(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=d?c(p):""}},e.nice=()=>r($$(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function V$(){const t=fA(Wy()).domain([1,10]);return t.copy=()=>Nh(t,V$()).base(t.base()),hi.apply(t,arguments),t}function uR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hA(t){var e=1,r=t(uR(e),cR(e));return r.constant=function(n){return arguments.length?t(uR(e=+n),cR(e)):e},xs(r)}function F$(){var t=hA(Wy());return t.copy=function(){return Nh(t,F$()).constant(t.constant())},hi.apply(t,arguments)}function dR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function See(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Eee(t){return t<0?-t*t:t*t}function pA(t){var e=t(sn,sn),r=1;function n(){return r===1?t(sn,sn):r===.5?t(See,Eee):t(dR(r),dR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xs(e)}function mA(){var t=pA(Wy());return t.copy=function(){return Nh(t,mA()).exponent(t.exponent())},hi.apply(t,arguments),t}function Tee(){return mA.apply(null,arguments).exponent(.5)}function fR(t){return Math.sign(t)*t*t}function Aee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function U$(){var t=uA(),e=[0,1],r=!1,n;function i(a){var o=Aee(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(fR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yg)).map(fR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return U$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},hi.apply(i,arguments),xs(i)}function z$(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=CZ(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Ih(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(is),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return z$().domain(t).range(e).unknown(n)},hi.apply(a,arguments)}function B$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Ih(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return B$().domain([t,e]).range(i).unknown(a)},hi.apply(xs(o),arguments)}function q$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Ih(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return q$().domain(t).range(e).unknown(r)},hi.apply(i,arguments)}const x_=new Date,w_=new Date;function Sr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>Sr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(x_.setTime(+a),w_.setTime(+o),t(x_),t(w_),Math.floor(r(x_,w_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const wg=Sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wg);wg.range;const Ba=1e3,si=Ba*60,qa=si*60,no=qa*24,gA=no*7,hR=no*30,__=no*365,ll=Sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCSeconds());ll.range;const yA=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getMinutes());yA.range;const vA=Sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getUTCMinutes());vA.range;const bA=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba-t.getMinutes()*si)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getHours());bA.range;const xA=Sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getUTCHours());xA.range;const Oh=Sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*si)/no,t=>t.getDate()-1);Oh.range;const Hy=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/no,t=>t.getUTCDate()-1);Hy.range;const W$=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/no,t=>Math.floor(t/no));W$.range;function Rl(t){return Sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*si)/gA)}const Gy=Rl(0),_g=Rl(1),Pee=Rl(2),jee=Rl(3),uc=Rl(4),kee=Rl(5),Iee=Rl(6);Gy.range;_g.range;Pee.range;jee.range;uc.range;kee.range;Iee.range;function Ml(t){return Sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/gA)}const Ky=Ml(0),Sg=Ml(1),Cee=Ml(2),Nee=Ml(3),cc=Ml(4),Oee=Ml(5),Ree=Ml(6);Ky.range;Sg.range;Cee.range;Nee.range;cc.range;Oee.range;Ree.range;const wA=Sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wA.range;const _A=Sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_A.range;const io=Sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});io.range;const ao=Sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ao.range;function H$(t,e,r,n,i,a){const o=[[ll,1,Ba],[ll,5,5*Ba],[ll,15,15*Ba],[ll,30,30*Ba],[a,1,si],[a,5,5*si],[a,15,15*si],[a,30,30*si],[i,1,qa],[i,3,3*qa],[i,6,6*qa],[i,12,12*qa],[n,1,no],[n,2,2*no],[r,1,gA],[e,1,hR],[e,3,3*hR],[t,1,__]];function l(d,p,m){const y=p<d;y&&([d,p]=[p,d]);const x=m&&typeof m.range=="function"?m:c(d,p,m),S=x?x.range(d,+p+1):[];return y?S.reverse():S}function c(d,p,m){const y=Math.abs(p-d)/m,x=iA(([,,b])=>b).right(o,y);if(x===o.length)return t.every(AS(d/__,p/__,m));if(x===0)return wg.every(Math.max(AS(d,p,m),1));const[S,w]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return S.every(w)}return[l,c]}const[Mee,Dee]=H$(ao,_A,Ky,W$,xA,vA),[Lee,$ee]=H$(io,wA,Gy,Oh,bA,yA);function S_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function E_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Od(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Vee(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Rd(i),p=Md(i),m=Rd(a),y=Md(a),x=Rd(o),S=Md(o),w=Rd(l),b=Md(l),T=Rd(c),E=Md(c),I={a:re,A:Q,b:ae,B:ne,c:null,d:bR,e:bR,f:lte,g:vte,G:xte,H:ate,I:ote,j:ste,L:G$,m:ute,M:cte,p:W,q:Y,Q:_R,s:SR,S:dte,u:fte,U:hte,V:pte,w:mte,W:gte,x:null,X:null,y:yte,Y:bte,Z:wte,"%":wR},N={a:de,A:oe,b:xe,B:Re,c:null,d:xR,e:xR,f:Tte,g:Mte,G:Lte,H:_te,I:Ste,j:Ete,L:X$,m:Ate,M:Pte,p:ce,q:Se,Q:_R,s:SR,S:jte,u:kte,U:Ite,V:Cte,w:Nte,W:Ote,x:null,X:null,y:Rte,Y:Dte,Z:$te,"%":wR},k={a:F,A:L,b:$,B:V,c:q,d:yR,e:yR,f:tte,g:gR,G:mR,H:vR,I:vR,j:Qee,L:ete,m:Yee,M:Jee,p:R,q:Xee,Q:nte,s:ite,S:Zee,u:qee,U:Wee,V:Hee,w:Bee,W:Gee,x:X,X:te,y:gR,Y:mR,Z:Kee,"%":rte};I.x=O(r,I),I.X=O(n,I),I.c=O(e,I),N.x=O(r,N),N.X=O(n,N),N.c=O(e,N);function O(fe,Ee){return function(Le){var pe=[],it=-1,We=0,gt=fe.length,ft,_t,nr;for(Le instanceof Date||(Le=new Date(+Le));++it<gt;)fe.charCodeAt(it)===37&&(pe.push(fe.slice(We,it)),(_t=pR[ft=fe.charAt(++it)])!=null?ft=fe.charAt(++it):_t=ft==="e"?" ":"0",(nr=Ee[ft])&&(ft=nr(Le,_t)),pe.push(ft),We=it+1);return pe.push(fe.slice(We,it)),pe.join("")}}function P(fe,Ee){return function(Le){var pe=Od(1900,void 0,1),it=C(pe,fe,Le+="",0),We,gt;if(it!=Le.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ee&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(We=E_(Od(pe.y,0,1)),gt=We.getUTCDay(),We=gt>4||gt===0?Sg.ceil(We):Sg(We),We=Hy.offset(We,(pe.V-1)*7),pe.y=We.getUTCFullYear(),pe.m=We.getUTCMonth(),pe.d=We.getUTCDate()+(pe.w+6)%7):(We=S_(Od(pe.y,0,1)),gt=We.getDay(),We=gt>4||gt===0?_g.ceil(We):_g(We),We=Oh.offset(We,(pe.V-1)*7),pe.y=We.getFullYear(),pe.m=We.getMonth(),pe.d=We.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),gt="Z"in pe?E_(Od(pe.y,0,1)).getUTCDay():S_(Od(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(gt+5)%7:pe.w+pe.U*7-(gt+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,E_(pe)):S_(pe)}}function C(fe,Ee,Le,pe){for(var it=0,We=Ee.length,gt=Le.length,ft,_t;it<We;){if(pe>=gt)return-1;if(ft=Ee.charCodeAt(it++),ft===37){if(ft=Ee.charAt(it++),_t=k[ft in pR?Ee.charAt(it++):ft],!_t||(pe=_t(fe,Le,pe))<0)return-1}else if(ft!=Le.charCodeAt(pe++))return-1}return pe}function R(fe,Ee,Le){var pe=d.exec(Ee.slice(Le));return pe?(fe.p=p.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function F(fe,Ee,Le){var pe=x.exec(Ee.slice(Le));return pe?(fe.w=S.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function L(fe,Ee,Le){var pe=m.exec(Ee.slice(Le));return pe?(fe.w=y.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function $(fe,Ee,Le){var pe=T.exec(Ee.slice(Le));return pe?(fe.m=E.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function V(fe,Ee,Le){var pe=w.exec(Ee.slice(Le));return pe?(fe.m=b.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function q(fe,Ee,Le){return C(fe,e,Ee,Le)}function X(fe,Ee,Le){return C(fe,r,Ee,Le)}function te(fe,Ee,Le){return C(fe,n,Ee,Le)}function re(fe){return o[fe.getDay()]}function Q(fe){return a[fe.getDay()]}function ae(fe){return c[fe.getMonth()]}function ne(fe){return l[fe.getMonth()]}function W(fe){return i[+(fe.getHours()>=12)]}function Y(fe){return 1+~~(fe.getMonth()/3)}function de(fe){return o[fe.getUTCDay()]}function oe(fe){return a[fe.getUTCDay()]}function xe(fe){return c[fe.getUTCMonth()]}function Re(fe){return l[fe.getUTCMonth()]}function ce(fe){return i[+(fe.getUTCHours()>=12)]}function Se(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ee=O(fe+="",I);return Ee.toString=function(){return fe},Ee},parse:function(fe){var Ee=P(fe+="",!1);return Ee.toString=function(){return fe},Ee},utcFormat:function(fe){var Ee=O(fe+="",N);return Ee.toString=function(){return fe},Ee},utcParse:function(fe){var Ee=P(fe+="",!0);return Ee.toString=function(){return fe},Ee}}}var pR={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,Fee=/^%/,Uee=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function zee(t){return t.replace(Uee,"\\$&")}function Rd(t){return new RegExp("^(?:"+t.map(zee).join("|")+")","i")}function Md(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Bee(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function qee(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Wee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Hee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Gee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function mR(t,e,r){var n=Nr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function gR(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kee(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xee(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Yee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yR(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Qee(t,e,r){var n=Nr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function vR(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Jee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Zee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ete(t,e,r){var n=Nr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function tte(t,e,r){var n=Nr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rte(t,e,r){var n=Fee.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function nte(t,e,r){var n=Nr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ite(t,e,r){var n=Nr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function bR(t,e){return mt(t.getDate(),e,2)}function ate(t,e){return mt(t.getHours(),e,2)}function ote(t,e){return mt(t.getHours()%12||12,e,2)}function ste(t,e){return mt(1+Oh.count(io(t),t),e,3)}function G$(t,e){return mt(t.getMilliseconds(),e,3)}function lte(t,e){return G$(t,e)+"000"}function ute(t,e){return mt(t.getMonth()+1,e,2)}function cte(t,e){return mt(t.getMinutes(),e,2)}function dte(t,e){return mt(t.getSeconds(),e,2)}function fte(t){var e=t.getDay();return e===0?7:e}function hte(t,e){return mt(Gy.count(io(t)-1,t),e,2)}function K$(t){var e=t.getDay();return e>=4||e===0?uc(t):uc.ceil(t)}function pte(t,e){return t=K$(t),mt(uc.count(io(t),t)+(io(t).getDay()===4),e,2)}function mte(t){return t.getDay()}function gte(t,e){return mt(_g.count(io(t)-1,t),e,2)}function yte(t,e){return mt(t.getFullYear()%100,e,2)}function vte(t,e){return t=K$(t),mt(t.getFullYear()%100,e,2)}function bte(t,e){return mt(t.getFullYear()%1e4,e,4)}function xte(t,e){var r=t.getDay();return t=r>=4||r===0?uc(t):uc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function wte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function xR(t,e){return mt(t.getUTCDate(),e,2)}function _te(t,e){return mt(t.getUTCHours(),e,2)}function Ste(t,e){return mt(t.getUTCHours()%12||12,e,2)}function Ete(t,e){return mt(1+Hy.count(ao(t),t),e,3)}function X$(t,e){return mt(t.getUTCMilliseconds(),e,3)}function Tte(t,e){return X$(t,e)+"000"}function Ate(t,e){return mt(t.getUTCMonth()+1,e,2)}function Pte(t,e){return mt(t.getUTCMinutes(),e,2)}function jte(t,e){return mt(t.getUTCSeconds(),e,2)}function kte(t){var e=t.getUTCDay();return e===0?7:e}function Ite(t,e){return mt(Ky.count(ao(t)-1,t),e,2)}function Y$(t){var e=t.getUTCDay();return e>=4||e===0?cc(t):cc.ceil(t)}function Cte(t,e){return t=Y$(t),mt(cc.count(ao(t),t)+(ao(t).getUTCDay()===4),e,2)}function Nte(t){return t.getUTCDay()}function Ote(t,e){return mt(Sg.count(ao(t)-1,t),e,2)}function Rte(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Mte(t,e){return t=Y$(t),mt(t.getUTCFullYear()%100,e,2)}function Dte(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function Lte(t,e){var r=t.getUTCDay();return t=r>=4||r===0?cc(t):cc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function $te(){return"+0000"}function wR(){return"%"}function _R(t){return+t}function SR(t){return Math.floor(+t/1e3)}var Pu,Q$,J$;Vte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vte(t){return Pu=Vee(t),Q$=Pu.format,Pu.parse,J$=Pu.utcFormat,Pu.utcParse,Pu}function Fte(t){return new Date(t)}function Ute(t){return t instanceof Date?+t:+new Date(+t)}function SA(t,e,r,n,i,a,o,l,c,d){var p=uA(),m=p.invert,y=p.domain,x=d(".%L"),S=d(":%S"),w=d("%I:%M"),b=d("%I %p"),T=d("%a %d"),E=d("%b %d"),I=d("%B"),N=d("%Y");function k(O){return(c(O)<O?x:l(O)<O?S:o(O)<O?w:a(O)<O?b:n(O)<O?i(O)<O?T:E:r(O)<O?I:N)(O)}return p.invert=function(O){return new Date(m(O))},p.domain=function(O){return arguments.length?y(Array.from(O,Ute)):y().map(Fte)},p.ticks=function(O){var P=y();return t(P[0],P[P.length-1],O??10)},p.tickFormat=function(O,P){return P==null?k:d(P)},p.nice=function(O){var P=y();return(!O||typeof O.range!="function")&&(O=e(P[0],P[P.length-1],O??10)),O?y($$(P,O)):p},p.copy=function(){return Nh(p,SA(t,e,r,n,i,a,o,l,c,d))},p}function zte(){return hi.apply(SA(Lee,$ee,io,wA,Gy,Oh,bA,yA,ll,Q$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bte(){return hi.apply(SA(Mee,Dee,ao,_A,Ky,Hy,xA,vA,ll,J$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xy(){var t=0,e=1,r,n,i,a,o=sn,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(a(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function p(m){return function(y){var x,S;return arguments.length?([x,S]=y,o=m(x,S),d):[o(0),o(1)]}}return d.range=p(Fc),d.rangeRound=p(lA),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),d}}function ws(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Z$(){var t=xs(Xy()(sn));return t.copy=function(){return ws(t,Z$())},po.apply(t,arguments)}function e6(){var t=fA(Xy()).domain([1,10]);return t.copy=function(){return ws(t,e6()).base(t.base())},po.apply(t,arguments)}function t6(){var t=hA(Xy());return t.copy=function(){return ws(t,t6()).constant(t.constant())},po.apply(t,arguments)}function EA(){var t=pA(Xy());return t.copy=function(){return ws(t,EA()).exponent(t.exponent())},po.apply(t,arguments)}function qte(){return EA.apply(null,arguments).exponent(.5)}function r6(){var t=[],e=sn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ih(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(is),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>IZ(t,a/n))},r.copy=function(){return r6(e).domain(t)},po.apply(r,arguments)}function Yy(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,d=sn,p,m=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-a)*(n*w<n*a?l:c),d(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,i=p(t=+t),a=p(e=+e),o=p(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(d=w,x):d};function S(w){return function(b){var T,E,I;return arguments.length?([T,E,I]=b,d=ree(w,[T,E,I]),x):[d(0),d(.5),d(1)]}}return x.range=S(Fc),x.rangeRound=S(lA),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,i=w(t),a=w(e),o=w(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function n6(){var t=xs(Yy()(sn));return t.copy=function(){return ws(t,n6())},po.apply(t,arguments)}function i6(){var t=fA(Yy()).domain([.1,1,10]);return t.copy=function(){return ws(t,i6()).base(t.base())},po.apply(t,arguments)}function a6(){var t=hA(Yy());return t.copy=function(){return ws(t,a6()).constant(t.constant())},po.apply(t,arguments)}function TA(){var t=pA(Yy());return t.copy=function(){return ws(t,TA()).exponent(t.exponent())},po.apply(t,arguments)}function Wte(){return TA.apply(null,arguments).exponent(.5)}const ER=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rf,scaleDiverging:n6,scaleDivergingLog:i6,scaleDivergingPow:TA,scaleDivergingSqrt:Wte,scaleDivergingSymlog:a6,scaleIdentity:L$,scaleImplicit:PS,scaleLinear:xg,scaleLog:V$,scaleOrdinal:aA,scalePoint:sf,scalePow:mA,scaleQuantile:z$,scaleQuantize:B$,scaleRadial:U$,scaleSequential:Z$,scaleSequentialLog:e6,scaleSequentialPow:EA,scaleSequentialQuantile:r6,scaleSequentialSqrt:qte,scaleSequentialSymlog:t6,scaleSqrt:Tee,scaleSymlog:F$,scaleThreshold:q$,scaleTime:zte,scaleUtc:Bte,tickFormat:D$},Symbol.toStringTag,{value:"Module"}));var T_,TR;function Qy(){if(TR)return T_;TR=1;var t=Dc();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,p=l}return p}return T_=e,T_}var A_,AR;function o6(){if(AR)return A_;AR=1;function t(e,r){return e>r}return A_=t,A_}var P_,PR;function Hte(){if(PR)return P_;PR=1;var t=Qy(),e=o6(),r=$c();function n(i){return i&&i.length?t(i,r,e):void 0}return P_=n,P_}var Gte=Hte();const Jy=wt(Gte);var j_,jR;function s6(){if(jR)return j_;jR=1;function t(e,r){return e<r}return j_=t,j_}var k_,kR;function Kte(){if(kR)return k_;kR=1;var t=Qy(),e=s6(),r=$c();function n(i){return i&&i.length?t(i,r,e):void 0}return k_=n,k_}var Xte=Kte();const Zy=wt(Xte);var I_,IR;function Yte(){if(IR)return I_;IR=1;var t=UT(),e=ba(),r=g$(),n=Pn();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return I_=i,I_}var C_,CR;function Qte(){if(CR)return C_;CR=1;var t=p$(),e=Yte();function r(n,i){return t(e(n,i),1)}return C_=r,C_}var Jte=Qte();const Zte=wt(Jte);var N_,NR;function ere(){if(NR)return N_;NR=1;var t=eA();function e(r,n){return t(r,n)}return N_=e,N_}var tre=ere();const ev=wt(tre);var Uc=1e9,rre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PA,Ut=!0,di="[DecimalError] ",hl=di+"Invalid argument: ",AA=di+"Exponent out of range: ",zc=Math.floor,nl=Math.pow,nre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Ir=1e7,Dt=7,l6=9007199254740991,Eg=zc(l6/Dt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return Ya(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return At(Ya(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return cr(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Vn))throw Error(di+"NaN");if(r.s<1)throw Error(di+(r.s?"NaN":"-Infinity"));return r.eq(Vn)?new n(0):(Ut=!1,e=Ya(Vf(r,a),Vf(t,a),a),Ut=!0,At(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d6(e,t):u6(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(di+"NaN");return r.s?(Ut=!1,e=Ya(r,t,0,1).times(t),Ut=!0,r.minus(e)):At(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return c6(this)};Ce.naturalLogarithm=Ce.ln=function(){return Vf(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?u6(e,t):d6(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hl+t);if(e=cr(i)+1,n=i.d.length-1,r=n*Dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(di+"NaN")}for(t=cr(l),Ut=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=na(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Ya(l,a,o+2)).times(.5),na(a.d).slice(0,o)===(e=na(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(At(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Ut=!0,At(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,i,a,o,l,c,d,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,c=y.length,d=x.length,c<d&&(a=y,y=x,x=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+x[n]*y[i-n-1]+e,a[i--]=l%Ir|0,e=l/Ir|0;a[i]=(a[i]+e)%Ir|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ut?At(t,m.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ma(t,0,Uc),e===void 0?e=n.rounding:ma(e,0,8),At(r,t+cr(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Sl(n,!0):(ma(t,0,Uc),e===void 0?e=i.rounding:ma(e,0,8),n=At(new i(n),t+1,e),r=Sl(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Sl(i):(ma(t,0,Uc),e===void 0?e=a.rounding:ma(e,0,8),n=At(new a(i),t+cr(i)+1,e),r=Sl(n.abs(),!1,t+cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return At(new e(t),cr(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,d=12,p=+(t=new c(t));if(!t.s)return new c(Vn);if(l=new c(l),!l.s){if(t.s<1)throw Error(di+"Infinity");return l}if(l.eq(Vn))return l;if(n=c.precision,t.eq(Vn))return At(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=p<0?-p:p)<=l6){for(i=new c(Vn),e=Math.ceil(n/Dt+4),Ut=!1;r%2&&(i=i.times(l),RR(i.d,e)),r=zc(r/2),r!==0;)l=l.times(l),RR(l.d,e);return Ut=!0,t.s<0?new c(Vn).div(i):At(i,n)}}else if(a<0)throw Error(di+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ut=!1,i=t.times(Vf(l,n+d)),Ut=!0,i=c6(i),i.s=a,i};Ce.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=cr(i),n=Sl(i,r<=a.toExpNeg||r>=a.toExpPos)):(ma(t,1,Uc),e===void 0?e=a.rounding:ma(e,0,8),i=At(new a(i),t,e),r=cr(i),n=Sl(i,t<=r||r<=a.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ma(t,1,Uc),e===void 0?e=n.rounding:ma(e,0,8)),At(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cr(t),r=t.constructor;return Sl(t,e<=r.toExpNeg||e>=r.toExpPos)};function u6(t,e){var r,n,i,a,o,l,c,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ut?At(e,m):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(m/Dt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/Ir|0,c[a]%=Ir;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ut?At(e,m):e}function ma(t,e,r){if(t!==~~t||t<e||t>r)throw Error(hl+t)}function na(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Dt-n.length,r&&(a+=Bo(r)),a+=n;o=t[e],n=o+"",r=Dt-n.length,r&&(a+=Bo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ya=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Ir|0,o=a/Ir|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ir+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,p,m,y,x,S,w,b,T,E,I,N,k,O,P,C,R=n.constructor,F=n.s==i.s?1:-1,L=n.d,$=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(di+"Division by zero");for(c=n.e-i.e,P=$.length,k=L.length,x=new R(F),S=x.d=[],d=0;$[d]==(L[d]||0);)++d;if($[d]>(L[d]||0)&&--c,a==null?E=a=R.precision:o?E=a+(cr(n)-cr(i))+1:E=a,E<0)return new R(0);if(E=E/Dt+2|0,d=0,P==1)for(p=0,$=$[0],E++;(d<k||p)&&E--;d++)I=p*Ir+(L[d]||0),S[d]=I/$|0,p=I%$|0;else{for(p=Ir/($[0]+1)|0,p>1&&($=t($,p),L=t(L,p),P=$.length,k=L.length),N=P,w=L.slice(0,P),b=w.length;b<P;)w[b++]=0;C=$.slice(),C.unshift(0),O=$[0],$[1]>=Ir/2&&++O;do p=0,l=e($,w,P,b),l<0?(T=w[0],P!=b&&(T=T*Ir+(w[1]||0)),p=T/O|0,p>1?(p>=Ir&&(p=Ir-1),m=t($,p),y=m.length,b=w.length,l=e(m,w,y,b),l==1&&(p--,r(m,P<y?C:$,y))):(p==0&&(l=p=1),m=$.slice()),y=m.length,y<b&&m.unshift(0),r(w,m,b),l==-1&&(b=w.length,l=e($,w,P,b),l<1&&(p++,r(w,P<b?C:$,b))),b=w.length):l===0&&(p++,w=[0]),S[d++]=p,l&&w[0]?w[b++]=L[N]||0:(w=[L[N]],b=1);while((N++<k||w[0]!==void 0)&&E--)}return S[0]||S.shift(),x.e=c,At(x,o?a+cr(x)+1:a)}})();function c6(t,e){var r,n,i,a,o,l,c=0,d=0,p=t.constructor,m=p.precision;if(cr(t)>16)throw Error(AA+cr(t));if(!t.s)return new p(Vn);for(Ut=!1,l=m,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(nl(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new p(Vn),p.precision=l;;){if(i=At(i.times(t),l),r=r.times(++c),o=a.plus(Ya(i,r,l)),na(o.d).slice(0,l)===na(a.d).slice(0,l)){for(;d--;)a=At(a.times(a),l);return p.precision=m,e==null?(Ut=!0,At(a,m)):a}a=o}}function cr(t){for(var e=t.e*Dt,r=t.d[0];r>=10;r/=10)e++;return e}function O_(t,e,r){if(e>t.LN10.sd())throw Ut=!0,r&&(t.precision=r),Error(di+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Bo(t){for(var e="";t--;)e+="0";return e}function Vf(t,e){var r,n,i,a,o,l,c,d,p,m=1,y=10,x=t,S=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(di+(x.s?"NaN":"-Infinity"));if(x.eq(Vn))return new w(0);if(e==null?(Ut=!1,d=b):d=e,x.eq(10))return e==null&&(Ut=!0),O_(w,d);if(d+=y,w.precision=d,r=na(S),n=r.charAt(0),a=cr(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=na(x.d),n=r.charAt(0),m++;a=cr(x),n>1?(x=new w("0."+r),a++):x=new w(n+"."+r.slice(1))}else return c=O_(w,d+2,b).times(a+""),x=Vf(new w(n+"."+r.slice(1)),d-y).plus(c),w.precision=b,e==null?(Ut=!0,At(x,b)):x;for(l=o=x=Ya(x.minus(Vn),x.plus(Vn),d),p=At(x.times(x),d),i=3;;){if(o=At(o.times(p),d),c=l.plus(Ya(o,new w(i),d)),na(c.d).slice(0,d)===na(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(O_(w,d+2,b).times(a+""))),l=Ya(l,new w(m),d),w.precision=b,e==null?(Ut=!0,At(l,b)):l;l=c,i+=2}}function OR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=zc(r/Dt),t.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Dt;n<i;)t.d.push(+e.slice(n,n+=Dt));e=e.slice(n),n=Dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Eg||t.e<-Eg))throw Error(AA+r)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,r){var n,i,a,o,l,c,d,p,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Dt,i=e,d=m[p=0];else{if(p=Math.ceil((n+1)/Dt),a=m.length,p>=a)return t;for(d=a=m[p],o=1;a>=10;a/=10)o++;n%=Dt,i=n-Dt+o}if(r!==void 0&&(a=nl(10,o-i-1),l=d/a%10|0,c=e<0||m[p+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/nl(10,o-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=cr(t),m.length=1,e=e-a-1,m[0]=nl(10,(Dt-e%Dt)%Dt),t.e=zc(-e/Dt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=nl(10,Dt-n),m[p]=i>0?(d/nl(10,o-i)%nl(10,i)|0)*a:0),c)for(;;)if(p==0){(m[0]+=a)==Ir&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Ir)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Ut&&(t.e>Eg||t.e<-Eg))throw Error(AA+cr(t));return t}function d6(t,e){var r,n,i,a,o,l,c,d,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ut?At(e,x):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(p=o<0,p?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),i=Math.max(Math.ceil(x/Dt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){p=c[i]<m[i];break}o=0}for(p&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Ir-1;--c[a],c[i]+=Ir}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ut?At(e,x):e):new y(0)}function Sl(t,e,r){var n,i=cr(t),a=na(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Bo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Bo(-i-1)+a,r&&(n=r-o)>0&&(a+=Bo(n))):i>=o?(a+=Bo(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Bo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Bo(n))),t.s<0?"-"+a:a}function RR(t,e){if(t.length>e)return t.length=e,!0}function f6(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return OR(o,a.toString())}else if(typeof a!="string")throw Error(hl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,nre.test(a))OR(o,a);else throw Error(hl+a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=f6,i.config=i.set=ire,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ire(t){if(!t||typeof t!="object")throw Error(di+"Object expected");var e,r,n,i=["precision",1,Uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(zc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(hl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(hl+r+": "+n);return this}var PA=f6(rre);Vn=new PA(1);const St=PA;function are(t){return ure(t)||lre(t)||sre(t)||ore()}function ore(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sre(t,e){if(t){if(typeof t=="string")return CS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CS(t,e)}}function lre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ure(t){if(Array.isArray(t))return CS(t)}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cre=function(e){return e},h6={},p6=function(e){return e===h6},MR=function(e){return function r(){return arguments.length===0||arguments.length===1&&p6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},dre=function t(e,r){return e===1?r:MR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==h6}).length;return o>=e?r.apply(void 0,i):t(e-o,MR(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var p=i.map(function(m){return p6(m)?c.shift():m});return r.apply(void 0,are(p).concat(c))}))})},tv=function(e){return dre(e.length,e)},NS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},fre=tv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),hre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return cre;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},OS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},m6=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function pre(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function mre(t,e,r){for(var n=new St(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var gre=tv(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),yre=tv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),vre=tv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const rv={rangeStep:mre,getDigitCount:pre,interpolateNumber:gre,uninterpolateNumber:yre,uninterpolateTruncation:vre};function RS(t){return wre(t)||xre(t)||g6(t)||bre()}function bre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wre(t){if(Array.isArray(t))return MS(t)}function Ff(t,e){return Ere(t)||Sre(t,e)||g6(t,e)||_re()}function _re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g6(t,e){if(t){if(typeof t=="string")return MS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(t,e)}}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Ere(t){if(Array.isArray(t))return t}function y6(t){var e=Ff(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function v6(t,e,r){if(t.lte(0))return new St(0);var n=rv.getDigitCount(t.toNumber()),i=new St(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new St(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new St(Math.ceil(c))}function Tre(t,e,r){var n=1,i=new St(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new St(10).pow(rv.getDigitCount(t)-1),i=new St(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):r||(i=new St(Math.floor(t)));var o=Math.floor((e-1)/2),l=hre(fre(function(c){return i.add(new St(c-o).mul(n)).toNumber()}),NS);return l(0,e)}function b6(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=v6(new St(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new St(0):(o=new St(t).add(e).div(2),o=o.sub(new St(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new St(e).sub(o).div(a).toNumber()),d=l+c+1;return d>r?b6(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:a,tickMin:o.sub(new St(l).mul(a)),tickMax:o.add(new St(c).mul(a))})}function Are(t){var e=Ff(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=y6([r,n]),c=Ff(l,2),d=c[0],p=c[1];if(d===-1/0||p===1/0){var m=p===1/0?[d].concat(RS(NS(0,i-1).map(function(){return 1/0}))):[].concat(RS(NS(0,i-1).map(function(){return-1/0})),[p]);return r>n?OS(m):m}if(d===p)return Tre(d,i,a);var y=b6(d,p,o,a),x=y.step,S=y.tickMin,w=y.tickMax,b=rv.rangeStep(S,w.add(new St(.1).mul(x)),x);return r>n?OS(b):b}function Pre(t,e){var r=Ff(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=y6([n,i]),l=Ff(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(e,2),m=v6(new St(d).sub(c).div(p-1),a,0),y=[].concat(RS(rv.rangeStep(new St(c),new St(d).sub(new St(.99).mul(m)),m)),[d]);return n>i?OS(y):y}var jre=m6(Are),kre=m6(Pre),Ire="Invariant failed";function El(t,e){throw new Error(Ire)}var Cre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function Nre(t,e){return Dre(t)||Mre(t,e)||Rre(t,e)||Ore()}function Ore(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(t,e){if(t){if(typeof t=="string")return DR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DR(t,e)}}function DR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Dre(t){if(Array.isArray(t))return t}function Lre(t,e){if(t==null)return{};var r=$re(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_6(n.key),n)}}function Ure(t,e,r){return e&&Fre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zre(t,e,r){return e=Ag(e),Bre(t,x6()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function Bre(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qre(t)}function qre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x6=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function Wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DS(t,e)}function w6(t,e,r){return e=_6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _6(t){var e=Hre(t,"string");return dc(e)=="symbol"?e:e+""}function Hre(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nv=(function(t){function e(){return Vre(this,e),zre(this,e,arguments)}return Wre(e,t),Ure(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=Lre(n,Cre),x=Ge(y,!1);this.props.direction==="x"&&p.type!=="number"&&El();var S=c.map(function(w){var b=d(w,l),T=b.x,E=b.y,I=b.value,N=b.errorVal;if(!N)return null;var k=[],O,P;if(Array.isArray(N)){var C=Nre(N,2);O=C[0],P=C[1]}else O=P=N;if(a==="vertical"){var R=p.scale,F=E+i,L=F+o,$=F-o,V=R(I-O),q=R(I+P);k.push({x1:q,y1:L,x2:q,y2:$}),k.push({x1:V,y1:F,x2:q,y2:F}),k.push({x1:V,y1:L,x2:V,y2:$})}else if(a==="horizontal"){var X=m.scale,te=T+i,re=te-o,Q=te+o,ae=X(I-O),ne=X(I+P);k.push({x1:re,y1:ne,x2:Q,y2:ne}),k.push({x1:te,y1:ae,x2:te,y2:ne}),k.push({x1:re,y1:ae,x2:Q,y2:ae})}return G.createElement(Et,Tg({className:"recharts-errorBar",key:"bar-".concat(k.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),k.map(function(W){return G.createElement("line",Tg({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return G.createElement(Et,{className:"recharts-errorBars"},S)}}])})(G.Component);w6(nv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});w6(nv,"displayName","ErrorBar");function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function LR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(r),!0).forEach(function(n){Gre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gre(t,e,r){return e=Kre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kre(t){var e=Xre(t,"string");return Uf(e)=="symbol"?e:e+""}function Xre(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S6=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ln(r,qu);if(!o)return null;var l=qu.defaultProps,c=l!==void 0?Qs(Qs({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,S=x.sectors||x.data||[];return p.concat(S.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?Qs(Qs({},y),m.props):{},S=x.dataKey,w=x.name,b=x.legendType,T=x.hide;return{inactive:T,dataKey:S,type:c.iconType||b||"square",color:jA(m),value:w||S,payload:x}}),Qs(Qs(Qs({},c),qu.getWithHeight(o,i)),{},{payload:d,item:o})};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function $R(t){return Zre(t)||Jre(t)||Qre(t)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qre(t,e){if(t){if(typeof t=="string")return LS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LS(t,e)}}function Jre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zre(t){if(Array.isArray(t))return LS(t)}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){Hu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hu(t,e,r){return e=ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ene(t){var e=tne(t,"string");return zf(e)=="symbol"?e:e+""}function tne(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vi(t,e,r){return pt(t)||pt(e)?r:wr(e)?li(t,e,r):Qe(e)?e(t):r}function lf(t,e,r,n){var i=Zte(t,function(l){return Vi(l,e)});if(r==="number"){var a=i.filter(function(l){return _e(l)||parseFloat(l)});return a.length?[Zy(a),Jy(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!pt(l)}):i;return o.map(function(l){return wr(l)||l instanceof Date?l:""})}var rne=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var p=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,y=d>=l-1?i[0].coordinate:i[d+1].coordinate,x=void 0;if(Sn(m-p)!==Sn(y-m)){var S=[];if(Sn(y-m)===Sn(c[1]-c[0])){x=y;var w=m+c[1]-c[0];S[0]=Math.min(w,(w+p)/2),S[1]=Math.max(w,(w+p)/2)}else{x=p;var b=y+c[1]-c[0];S[0]=Math.min(m,(b+m)/2),S[1]=Math.max(m,(b+m)/2)}var T=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>T[0]&&e<=T[1]||e>=S[0]&&e<=S[1]){o=i[d].index;break}}else{var E=Math.min(p,y),I=Math.max(p,y);if(e>(E+m)/2&&e<=(I+m)/2){o=i[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},jA=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},nne=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var p=a[l[c]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var S=p[m[y]],w=S.items,b=S.cateAxisId,T=w.filter(function(P){return Ka(P.type).indexOf("Bar")>=0});if(T&&T.length){var E=T[0].type.defaultProps,I=E!==void 0?Yt(Yt({},E),T[0].props):T[0].props,N=I.barSize,k=I[b];o[k]||(o[k]=[]);var O=pt(N)?r:N;o[k].push({item:T[0],stackList:T.slice(1),barSize:pt(O)?void 0:Mi(O,n,0)})}}return o},ine=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Mi(r,i,0,!0),p,m=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=i/c,S=o.reduce(function(N,k){return N+k.barSize||0},0);S+=(c-1)*d,S>=i&&(S-=(c-1)*d,d=0),S>=i&&x>0&&(y=!0,x*=.9,S=c*x);var w=(i-S)/2>>0,b={offset:w-d,size:0};p=o.reduce(function(N,k){var O={item:k.item,position:{offset:b.offset+b.size+d,size:y?x:k.barSize}},P=[].concat($R(N),[O]);return b=P[P.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(C){P.push({item:C,position:b})}),P},m)}else{var T=Mi(n,i,0,!0);i-2*T-(c-1)*d<=0&&(d=0);var E=(i-2*T-(c-1)*d)/c;E>1&&(E>>=0);var I=l===+l?Math.min(E,l):E;p=o.reduce(function(N,k,O){var P=[].concat($R(N),[{item:k.item,position:{offset:T+(E+d)*O+(E-I)/2,size:I}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},m)}return p},ane=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=S6({children:a,legendWidth:c});if(d){var p=i||{},m=p.width,y=p.height,x=d.align,S=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&S==="middle")&&x!=="center"&&_e(e[x]))return Yt(Yt({},e),{},Hu({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&S!=="middle"&&_e(e[S]))return Yt(Yt({},e),{},Hu({},S,e[S]+(y||0)))}return e},one=function(e,r,n){return pt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},E6=function(e,r,n,i,a){var o=r.props.children,l=ui(o,nv).filter(function(d){return one(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var m=Vi(p,n);if(pt(m))return d;var y=Array.isArray(m)?[Zy(m),Jy(m)]:[m,m],x=c.reduce(function(S,w){var b=Vi(p,w,0),T=y[0]-Math.abs(Array.isArray(b)?b[0]:b),E=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(T,S[0]),Math.max(E,S[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},sne=function(e,r,n,i,a){var o=r.map(function(l){return E6(e,l,n,a,i)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},T6=function(e,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&E6(e,c,d,i)||lf(e,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var p=0,m=d.length;p<m;p++)l[d[p]]||(l[d[p]]=!0,c.push(d[p]));return c},[])},A6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},P6=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Wa=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Sn(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+d,value:m,offset:d}});return p.filter(function(m){return!jh(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+d,value:m,index:y,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,y){return{coordinate:i(m)+d,value:a?a[m]:m,index:y,offset:d}})},R_=new WeakMap,hm=function(e,r){if(typeof r!="function")return e;R_.has(e)||R_.set(e,new WeakMap);var n=R_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},j6=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Rf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xg(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sf(),realScaleType:"point"}:a==="category"?{scale:Rf(),realScaleType:"band"}:{scale:xg(),realScaleType:"linear"};if(_l(i)){var c="scale".concat(Ly(i));return{scale:(ER[c]||sf)(),realScaleType:ER[c]?c:"point"}}return Qe(i)?{scale:i}:{scale:sf(),realScaleType:"point"}},FR=1e-4,k6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-FR,o=Math.max(i[0],i[1])+FR,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},I6=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},C6=function(e,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<n)&&(a[0]=n),(!_e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},lne=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=jh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},une=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=jh(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},cne={sign:lne,expand:JX,none:rc,silhouette:ZX,wiggle:eY,positive:une},dne=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=cne[n],o=QX().keys(i).value(function(l,c){return+Vi(l,c,0)}).order(hS).offset(a);return o(e)},fne=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Yt(Yt({},y.type.defaultProps),y.props):y.props,w=S.stackId,b=S.hide;if(b)return m;var T=S[n],E=m[T]||{hasStack:!1,stackGroups:{}};if(wr(w)){var I=E.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(y),E.hasStack=!0,E.stackGroups[w]=I}else E.stackGroups[Dy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Yt(Yt({},m),{},Hu({},T,E))},c),p={};return Object.keys(d).reduce(function(m,y){var x=d[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var T=x.stackGroups[b];return Yt(Yt({},w),{},Hu({},b,{numericAxisId:n,cateAxisId:i,items:T.items,stackedData:dne(e,T.items,a)}))},S)}return Yt(Yt({},m),{},Hu({},y,x))},p)},N6=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=jre(d,a,l);return e.domain([Zy(p),Jy(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),y=kre(m,a,l);return{niceTicks:y}}return null},Pg=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Vi(o,r.dataKey,r.domain[l]);return pt(c)?null:r.scale(c)-a/2+i},O6=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},hne=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(wr(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},pne=function(e){return e.reduce(function(r,n){return[Zy(n.concat([r[0]]).filter(_e)),Jy(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},R6=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,p){var m=pne(p.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$S=function(e,r,n){if(Qe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(_e(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(UR.test(e[0])){var a=+UR.exec(e[0])[1];i[0]=r[0]-a}else Qe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(_e(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(zR.test(e[1])){var o=+zR.exec(e[1])[1];i[1]=r[1]+o}else Qe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},jg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=rA(r,function(m){return m.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],p=a[l-1];o=Math.min((d.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},BR=function(e,r,n){return!e||!e.length||ev(e,li(n,"type.defaultProps.domain"))?r:e},kA=function(e,r){var n=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,p=n.hide;return Yt(Yt({},Ge(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:jA(e),value:Vi(r,i),type:c,payload:r,chartType:d,hide:p})};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){M6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M6(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=gne(t,"string");return Bf(e)=="symbol"?e:e+""}function gne(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t,e){return wne(t)||xne(t,e)||bne(t,e)||vne()}function vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t,e){if(t){if(typeof t=="string")return WR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(t,e)}}function WR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function wne(t){if(Array.isArray(t))return t}var kg=Math.PI/180,_ne=function(e){return e*180/Math.PI},zt=function(e,r,n,i){return{x:e+Math.cos(-kg*i)*n,y:r+Math.sin(-kg*i)*n}},Sne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ene=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,p=Mi(e.cx,o,o/2),m=Mi(e.cy,l,l/2),y=Sne(o,l,n),x=Mi(e.innerRadius,y,0),S=Mi(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(b,T){var E=r[T],I=E.domain,N=E.reversed,k;if(pt(E.range))i==="angleAxis"?k=[c,d]:i==="radiusAxis"&&(k=[x,S]),N&&(k=[k[1],k[0]]);else{k=E.range;var O=k,P=yne(O,2);c=P[0],d=P[1]}var C=j6(E,a),R=C.realScaleType,F=C.scale;F.domain(I).range(k),k6(F);var L=N6(F,La(La({},E),{},{realScaleType:R})),$=La(La(La({},E),L),{},{range:k,radius:S,realScaleType:R,scale:F,cx:p,cy:m,innerRadius:x,outerRadius:S,startAngle:c,endAngle:d});return La(La({},b),{},M6({},T,$))},{})},Tne=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Ane=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=Tne({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:_ne(d),angleInRadian:d}},Pne=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},jne=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},HR=function(e,r){var n=e.x,i=e.y,a=Ane({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var p=Pne(r),m=p.startAngle,y=p.endAngle,x=l,S;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;S=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=m}return S?La(La({},r),{},{radius:o,angle:jne(x,r)}):null},D6=function(e){return!D.isValidElement(e)&&!Qe(e)&&typeof e!="boolean"?e.className:""};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var kne=["offset"];function Ine(t){return Rne(t)||One(t)||Nne(t)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,e){if(t){if(typeof t=="string")return VS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(t,e)}}function One(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rne(t){if(Array.isArray(t))return VS(t)}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mne(t,e){if(t==null)return{};var r=Dne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(r),!0).forEach(function(n){Lne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lne(t,e,r){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ne(t){var e=Vne(t,"string");return qf(e)=="symbol"?e:e+""}function Vne(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wf.apply(this,arguments)}var Fne=function(e){var r=e.value,n=e.formatter,i=pt(e.children)?r:e.children;return Qe(n)?n(i):i},Une=function(e,r){var n=Sn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},zne=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,p=c.cy,m=c.innerRadius,y=c.outerRadius,x=c.startAngle,S=c.endAngle,w=c.clockWise,b=(m+y)/2,T=Une(x,S),E=T>=0?1:-1,I,N;i==="insideStart"?(I=x+E*o,N=w):i==="insideEnd"?(I=S-E*o,N=!w):i==="end"&&(I=S+E*o,N=w),N=T<=0?N:!N;var k=zt(d,p,b,I),O=zt(d,p,b,I+(N?1:-1)*359),P="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),C=pt(e.id)?Dy("recharts-radial-line-"):e.id;return G.createElement("text",Wf({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:C,d:P})),G.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Bne=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,p=a.startAngle,m=a.endAngle,y=(p+m)/2;if(i==="outside"){var x=zt(o,l,d+n,y),S=x.x,w=x.y;return{x:S,y:w,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,T=zt(o,l,b,y),E=T.x,I=T.y;return{x:E,y:I,textAnchor:"middle",verticalAnchor:"middle"}},qne=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,d=o.width,p=o.height,m=p>=0?1:-1,y=m*i,x=m>0?"end":"start",S=m>0?"start":"end",w=d>=0?1:-1,b=w*i,T=w>0?"end":"start",E=w>0?"start":"end";if(a==="top"){var I={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:x};return br(br({},I),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var N={x:l+d/2,y:c+p+y,textAnchor:"middle",verticalAnchor:S};return br(br({},N),n?{height:Math.max(n.y+n.height-(c+p),0),width:d}:{})}if(a==="left"){var k={x:l-b,y:c+p/2,textAnchor:T,verticalAnchor:"middle"};return br(br({},k),n?{width:Math.max(k.x-n.x,0),height:p}:{})}if(a==="right"){var O={x:l+d+b,y:c+p/2,textAnchor:E,verticalAnchor:"middle"};return br(br({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var P=n?{width:d,height:p}:{};return a==="insideLeft"?br({x:l+b,y:c+p/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideRight"?br({x:l+d-b,y:c+p/2,textAnchor:T,verticalAnchor:"middle"},P):a==="insideTop"?br({x:l+d/2,y:c+y,textAnchor:"middle",verticalAnchor:S},P):a==="insideBottom"?br({x:l+d/2,y:c+p-y,textAnchor:"middle",verticalAnchor:x},P):a==="insideTopLeft"?br({x:l+b,y:c+y,textAnchor:E,verticalAnchor:S},P):a==="insideTopRight"?br({x:l+d-b,y:c+y,textAnchor:T,verticalAnchor:S},P):a==="insideBottomLeft"?br({x:l+b,y:c+p-y,textAnchor:E,verticalAnchor:x},P):a==="insideBottomRight"?br({x:l+d-b,y:c+p-y,textAnchor:T,verticalAnchor:x},P):Lc(a)&&(_e(a.x)||ol(a.x))&&(_e(a.y)||ol(a.y))?br({x:l+Mi(a.x,d),y:c+Mi(a.y,p),textAnchor:"end",verticalAnchor:"end"},P):br({x:l+d/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Wne=function(e){return"cx"in e&&_e(e.cx)};function Fr(t){var e=t.offset,r=e===void 0?5:e,n=Mne(t,kne),i=br({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,p=i.className,m=p===void 0?"":p,y=i.textBreakAll;if(!a||pt(l)&&pt(c)&&!D.isValidElement(d)&&!Qe(d))return null;if(D.isValidElement(d))return D.cloneElement(d,i);var x;if(Qe(d)){if(x=D.createElement(d,i),D.isValidElement(x))return x}else x=Fne(i);var S=Wne(a),w=Ge(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zne(i,x,w);var b=S?Bne(i):qne(i);return G.createElement(sc,Wf({className:et("recharts-label",m)},w,b,{breakAll:y}),x)}Fr.displayName="Label";var L6=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,S=e.left,w=e.width,b=e.height,T=e.clockWise,E=e.labelViewBox;if(E)return E;if(_e(w)&&_e(b)){if(_e(m)&&_e(y))return{x:m,y,width:w,height:b};if(_e(x)&&_e(S))return{x,y:S,width:w,height:b}}return _e(m)&&_e(y)?{x:m,y,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:p||c||l||0,clockWise:T}:e.viewBox?e.viewBox:{}},Hne=function(e,r){return e?e===!0?G.createElement(Fr,{key:"label-implicit",viewBox:r}):wr(e)?G.createElement(Fr,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===Fr?D.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(Fr,{key:"label-implicit",content:e,viewBox:r}):Qe(e)?G.createElement(Fr,{key:"label-implicit",content:e,viewBox:r}):Lc(e)?G.createElement(Fr,Wf({viewBox:r},e,{key:"label-implicit"})):null:null},Gne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=L6(e),o=ui(i,Fr).map(function(c,d){return D.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=Hne(e.label,r||a);return[l].concat(Ine(o))};Fr.parseViewBox=L6;Fr.renderCallByParent=Gne;var M_,KR;function Kne(){if(KR)return M_;KR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return M_=t,M_}var Xne=Kne();const Yne=wt(Xne);function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var Qne=["valueAccessor"],Jne=["data","dataKey","clockWise","id","textBreakAll"];function Zne(t){return nie(t)||rie(t)||tie(t)||eie()}function eie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(t,e){if(t){if(typeof t=="string")return FS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(t,e)}}function rie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nie(t){if(Array.isArray(t))return FS(t)}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(this,arguments)}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){iie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iie(t,e,r){return e=aie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aie(t){var e=oie(t,"string");return Hf(e)=="symbol"?e:e+""}function oie(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QR(t,e){if(t==null)return{};var r=sie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lie=function(e){return Array.isArray(e.value)?Yne(e.value):e.value};function as(t){var e=t.valueAccessor,r=e===void 0?lie:e,n=QR(t,Qne),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=QR(n,Jne);return!i||!i.length?null:G.createElement(Et,{className:"recharts-label-list"},i.map(function(p,m){var y=pt(a)?r(p,m):Vi(p&&p.payload,a),x=pt(l)?{}:{id:"".concat(l,"-").concat(m)};return G.createElement(Fr,Ig({},Ge(p,!0),d,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:c,viewBox:Fr.parseViewBox(pt(o)?p:YR(YR({},p),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}as.displayName="LabelList";function uie(t,e){return t?t===!0?G.createElement(as,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Qe(t)?G.createElement(as,{key:"labelList-implicit",data:e,content:t}):Lc(t)?G.createElement(as,Ig({data:e},t,{key:"labelList-implicit"})):null:null}function cie(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ui(n,as).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=uie(t.label,e);return[a].concat(Zne(i))}as.renderCallByParent=cie;function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},US.apply(this,arguments)}function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){die(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function die(t,e,r){return e=fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=hie(t,"string");return Gf(e)=="symbol"?e:e+""}function hie(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pie=function(e,r){var n=Sn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},pm=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,p=c*(l?1:-1)+i,m=Math.asin(c/p)/kg,y=d?a:a+o*m,x=zt(r,n,p,y),S=zt(r,n,i,y),w=d?a-o*m:a,b=zt(r,n,p*Math.cos(m*kg),w);return{center:x,circleTangency:S,lineTangency:b,theta:m}},$6=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=pie(o,l),d=o+c,p=zt(r,n,a,o),m=zt(r,n,a,d),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=zt(r,n,i,o),S=zt(r,n,i,d);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},mie=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,m=Sn(p-d),y=pm({cx:r,cy:n,radius:a,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,S=y.lineTangency,w=y.theta,b=pm({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:o,cornerIsExternal:c}),T=b.circleTangency,E=b.lineTangency,I=b.theta,N=c?Math.abs(d-p):Math.abs(d-p)-w-I;if(N<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$6({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p});var k="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var O=pm({cx:r,cy:n,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=O.circleTangency,C=O.lineTangency,R=O.theta,F=pm({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=F.circleTangency,$=F.lineTangency,V=F.theta,q=c?Math.abs(d-p):Math.abs(d-p)-R-V;if(q<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},gie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V6=function(e){var r=ZR(ZR({},gie),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(o<a||p===m)return null;var x=et("recharts-sector",y),S=o-a,w=Mi(l,S,0,!0),b;return w>0&&Math.abs(p-m)<360?b=mie({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,S/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:p,endAngle:m}):b=$6({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:m}),G.createElement("path",US({},Ge(r,!0),{className:x,d:b,role:"img"}))};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zS.apply(this,arguments)}function eM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(r),!0).forEach(function(n){yie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yie(t,e,r){return e=vie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vie(t){var e=bie(t,"string");return Kf(e)=="symbol"?e:e+""}function bie(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rM={curveBasisClosed:FX,curveBasisOpen:UX,curveBasis:VX,curveBumpX:TX,curveBumpY:AX,curveLinearClosed:zX,curveLinear:Vy,curveMonotoneX:BX,curveMonotoneY:qX,curveNatural:WX,curveStep:HX,curveStepAfter:KX,curveStepBefore:GX},mm=function(e){return e.x===+e.x&&e.y===+e.y},Dd=function(e){return e.x},Ld=function(e){return e.y},xie=function(e,r){if(Qe(e))return e;var n="curve".concat(Ly(e));return(n==="curveMonotone"||n==="curveBump")&&r?rM["".concat(n).concat(r==="vertical"?"Y":"X")]:rM[n]||Vy},wie=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,p=xie(n,l),m=d?a.filter(function(w){return mm(w)}):a,y;if(Array.isArray(o)){var x=d?o.filter(function(w){return mm(w)}):o,S=m.map(function(w,b){return tM(tM({},w),{},{base:x[b]})});return l==="vertical"?y=om().y(Ld).x1(Dd).x0(function(w){return w.base.x}):y=om().x(Dd).y1(Ld).y0(function(w){return w.base.y}),y.defined(mm).curve(p),y(S)}return l==="vertical"&&_e(o)?y=om().y(Ld).x1(Dd).x0(o):_e(o)?y=om().x(Dd).y1(Ld).y0(o):y=L3().x(Dd).y(Ld),y.defined(mm).curve(p),y(m)},nM=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?wie(e):i;return D.createElement("path",zS({},Ge(e,!1),rg(e),{className:et("recharts-curve",r),d:o,ref:a}))},D_={exports:{}},L_,iM;function _ie(){if(iM)return L_;iM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return L_=t,L_}var $_,aM;function Sie(){if(aM)return $_;aM=1;var t=_ie();function e(){}function r(){}return r.resetWarningCache=e,$_=function(){function n(o,l,c,d,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},$_}var oM;function Eie(){return oM||(oM=1,D_.exports=Sie()()),D_.exports}var Tie=Eie();const vt=wt(Tie),{getOwnPropertyNames:Aie,getOwnPropertySymbols:Pie}=Object,{hasOwnProperty:jie}=Object.prototype;function V_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function gm(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function kie(t){return t!=null?t[Symbol.toStringTag]:void 0}function sM(t){return Aie(t).concat(Pie(t))}const Iie=Object.hasOwn||((t,e)=>jie.call(t,e));function Dl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Cie="__v",Nie="__o",Oie="_owner",{getOwnPropertyDescriptor:lM,keys:uM}=Object;function Rie(t,e){return t.byteLength===e.byteLength&&Cg(new Uint8Array(t),new Uint8Array(e))}function Mie(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Die(t,e){return t.byteLength===e.byteLength&&Cg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Lie(t,e){return Dl(t.getTime(),e.getTime())}function $ie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Vie(t,e){return t===e}function cM(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const d=e.entries();let p=!1,m=0;for(;(l=d.next())&&!l.done;){if(i[m]){m++;continue}const y=o.value,x=l.value;if(r.equals(y[0],x[0],c,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;c++}return!0}const Fie=Dl;function Uie(t,e,r){const n=uM(t);let i=n.length;if(uM(e).length!==i)return!1;for(;i-- >0;)if(!F6(t,e,r,n[i]))return!1;return!0}function $d(t,e,r){const n=sM(t);let i=n.length;if(sM(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!F6(t,e,r,a)||(o=lM(t,a),l=lM(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function zie(t,e){return Dl(t.valueOf(),e.valueOf())}function Bie(t,e){return t.source===e.source&&t.flags===e.flags}function dM(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let d=!1,p=0;for(;(l=c.next())&&!l.done;){if(!i[p]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function Cg(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function qie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function F6(t,e,r,n){return(n===Oie||n===Nie||n===Cie)&&(t.$$typeof||e.$$typeof)?!0:Iie(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Wie="[object ArrayBuffer]",Hie="[object Arguments]",Gie="[object Boolean]",Kie="[object DataView]",Xie="[object Date]",Yie="[object Error]",Qie="[object Map]",Jie="[object Number]",Zie="[object Object]",eae="[object RegExp]",tae="[object Set]",rae="[object String]",nae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},iae="[object URL]",aae=Object.prototype.toString;function oae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:x,unknownTagComparators:S}){return function(b,T,E){if(b===T)return!0;if(b==null||T==null)return!1;const I=typeof b;if(I!==typeof T)return!1;if(I!=="object")return I==="number"?l(b,T,E):I==="function"?a(b,T,E):!1;const N=b.constructor;if(N!==T.constructor)return!1;if(N===Object)return c(b,T,E);if(Array.isArray(b))return e(b,T,E);if(N===Date)return n(b,T,E);if(N===RegExp)return p(b,T,E);if(N===Map)return o(b,T,E);if(N===Set)return m(b,T,E);const k=aae.call(b);if(k===Xie)return n(b,T,E);if(k===eae)return p(b,T,E);if(k===Qie)return o(b,T,E);if(k===tae)return m(b,T,E);if(k===Zie)return typeof b.then!="function"&&typeof T.then!="function"&&c(b,T,E);if(k===iae)return x(b,T,E);if(k===Yie)return i(b,T,E);if(k===Hie)return c(b,T,E);if(nae[k])return y(b,T,E);if(k===Wie)return t(b,T,E);if(k===Kie)return r(b,T,E);if(k===Gie||k===Jie||k===rae)return d(b,T,E);if(S){let O=S[k];if(!O){const P=kie(b);P&&(O=S[P])}if(O)return O(b,T,E)}return!1}}function sae({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Rie,areArraysEqual:r?$d:Mie,areDataViewsEqual:Die,areDatesEqual:Lie,areErrorsEqual:$ie,areFunctionsEqual:Vie,areMapsEqual:r?V_(cM,$d):cM,areNumbersEqual:Fie,areObjectsEqual:r?$d:Uie,arePrimitiveWrappersEqual:zie,areRegExpsEqual:Bie,areSetsEqual:r?V_(dM,$d):dM,areTypedArraysEqual:r?V_(Cg,$d):Cg,areUrlsEqual:qie,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=gm(n.areArraysEqual),a=gm(n.areMapsEqual),o=gm(n.areObjectsEqual),l=gm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function lae(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function uae({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:p}=r();return e(l,c,{cache:d,equals:n,meta:p,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const cae=_s();_s({strict:!0});_s({circular:!0});_s({circular:!0,strict:!0});_s({createInternalComparator:()=>Dl});_s({strict:!0,createInternalComparator:()=>Dl});_s({circular:!0,createInternalComparator:()=>Dl});_s({circular:!0,createInternalComparator:()=>Dl,strict:!0});function _s(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=sae(t),o=oae(a),l=r?r(o):lae(o);return uae({circular:e,comparator:o,createState:n,equals:l,strict:i})}function dae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):dae(i)};requestAnimationFrame(n)}function BS(t){"@babel/helpers - typeof";return BS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BS(t)}function fae(t){return gae(t)||mae(t)||pae(t)||hae()}function hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return hM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hM(t,e)}}function hM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gae(t){if(Array.isArray(t))return t}function yae(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=fae(o),c=l[0],d=l.slice(1);if(typeof c=="number"){fM(i.bind(null,d),c);return}i(c),fM(i.bind(null,d));return}BS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){U6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U6(t,e,r){return e=vae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vae(t){var e=bae(t,"string");return Xf(e)==="symbol"?e:String(e)}function bae(t,e){if(Xf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xae=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},wae=function(e){return e},_ae=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uf=function(e,r){return Object.keys(r).reduce(function(n,i){return mM(mM({},n),{},U6({},i,e(i,r[i])))},{})},gM=function(e,r,n){return e.map(function(i){return"".concat(_ae(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Sae(t,e){return Aae(t)||Tae(t,e)||z6(t,e)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Aae(t){if(Array.isArray(t))return t}function Pae(t){return Iae(t)||kae(t)||z6(t)||jae()}function jae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z6(t,e){if(t){if(typeof t=="string")return qS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(t,e)}}function kae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iae(t){if(Array.isArray(t))return qS(t)}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ng=1e-4,B6=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},q6=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},yM=function(e,r){return function(n){var i=B6(e,r);return q6(i,n)}},Cae=function(e,r){return function(n){var i=B6(e,r),a=[].concat(Pae(i.map(function(o,l){return o*l}).slice(1)),[0]);return q6(a,n)}},vM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=Sae(d,4);i=p[0],a=p[1],o=p[2],l=p[3]}}}var m=yM(i,o),y=yM(a,l),x=Cae(i,o),S=function(T){return T>1?1:T<0?0:T},w=function(T){for(var E=T>1?1:T,I=E,N=0;N<8;++N){var k=m(I)-E,O=x(I);if(Math.abs(k-E)<Ng||O<Ng)return y(I);I=S(I-k/O)}return y(I)};return w.isStepper=!1,w},Nae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(p,m,y){var x=-(p-m)*n,S=y*a,w=y+(x-S)*l/1e3,b=y*l/1e3+p;return Math.abs(b-m)<Ng&&Math.abs(w)<Ng?[m,0]:[b,w]};return c.isStepper=!0,c.dt=l,c},Oae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vM(i);case"spring":return Nae();default:if(i.split("(")[0]==="cubic-bezier")return vM(i)}return typeof i=="function"?i:null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function bM(t){return Dae(t)||Mae(t)||W6(t)||Rae()}function Rae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dae(t){if(Array.isArray(t))return HS(t)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){WS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WS(t,e,r){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lae(t){var e=$ae(t,"string");return Yf(e)==="symbol"?e:String(e)}function $ae(t,e){if(Yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vae(t,e){return zae(t)||Uae(t,e)||W6(t,e)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W6(t,e){if(t){if(typeof t=="string")return HS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HS(t,e)}}function HS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function zae(t){if(Array.isArray(t))return t}var Og=function(e,r,n){return e+(r-e)*n},GS=function(e){var r=e.from,n=e.to;return r!==n},Bae=function t(e,r,n){var i=uf(function(a,o){if(GS(o)){var l=e(o.from,o.to,o.velocity),c=Vae(l,2),d=c[0],p=c[1];return $r($r({},o),{},{from:d,velocity:p})}return o},r);return n<1?uf(function(a,o){return GS(o)?$r($r({},o),{},{velocity:Og(o.velocity,i[a].velocity,n),from:Og(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const qae=(function(t,e,r,n,i){var a=xae(t,e),o=a.reduce(function(b,T){return $r($r({},b),{},WS({},T,[t[T],e[T]]))},{}),l=a.reduce(function(b,T){return $r($r({},b),{},WS({},T,{from:t[T],velocity:0,to:e[T]}))},{}),c=-1,d,p,m=function(){return null},y=function(){return uf(function(T,E){return E.from},l)},x=function(){return!Object.values(l).filter(GS).length},S=function(T){d||(d=T);var E=T-d,I=E/r.dt;l=Bae(r,l,I),i($r($r($r({},t),e),y())),d=T,x()||(c=requestAnimationFrame(m))},w=function(T){p||(p=T);var E=(T-p)/n,I=uf(function(k,O){return Og.apply(void 0,bM(O).concat([r(E)]))},o);if(i($r($r($r({},t),e),I)),E<1)c=requestAnimationFrame(m);else{var N=uf(function(k,O){return Og.apply(void 0,bM(O).concat([r(1)]))},o);i($r($r($r({},t),e),N))}};return m=r.isStepper?S:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}var Wae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hae(t,e){if(t==null)return{};var r=Gae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gae(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function F_(t){return Qae(t)||Yae(t)||Xae(t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xae(t,e){if(t){if(typeof t=="string")return KS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KS(t,e)}}function Yae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qae(t){if(Array.isArray(t))return KS(t)}function KS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(r),!0).forEach(function(n){Qd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qd(t,e,r){return e=H6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H6(n.key),n)}}function eoe(t,e,r){return e&&Zae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H6(t){var e=toe(t,"string");return fc(e)==="symbol"?e:String(e)}function toe(t,e){if(fc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XS(t,e)}function noe(t){var e=ioe();return function(){var n=Rg(t),i;if(e){var a=Rg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return YS(this,i)}}function YS(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QS(t)}function QS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ioe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}var oo=(function(t){roe(r,t);var e=noe(r);function r(n,i){var a;Jae(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,p=o.to,m=o.steps,y=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(QS(a)),a.changeStyle=a.changeStyle.bind(QS(a)),!l||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),YS(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof y=="function")return a.state={style:d},YS(a);a.state={style:c?Qd({},c,d):d}}else a.state={style:{}};return a}return eoe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,p=a.to,m=a.from,y=this.state.style;if(l){if(!o){var x={style:c?Qd({},c,p):p};this.state&&y&&(c&&y[c]!==p||!c&&y!==p)&&this.setState(x);return}if(!(cae(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=S||d?m:i.to;if(this.state&&y){var b={style:c?Qd({},c,w):w};(c&&y[c]!==w||!c&&y!==w)&&this.setState(b)}this.runAnimation(Ci(Ci({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,p=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,x=qae(o,l,Oae(d),c,this.changeStyle),S=function(){a.stopJSAnimation=x()};this.manager.start([y,p,S,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],p=d.style,m=d.duration,y=m===void 0?0:m,x=function(w,b,T){if(T===0)return w;var E=b.duration,I=b.easing,N=I===void 0?"ease":I,k=b.style,O=b.properties,P=b.onAnimationEnd,C=T>0?o[T-1]:b,R=O||Object.keys(k);if(typeof N=="function"||N==="spring")return[].concat(F_(w),[a.runJSAnimation.bind(a,{from:C.style,to:k,duration:E,easing:N}),E]);var F=gM(R,E,N),L=Ci(Ci(Ci({},C.style),k),{},{transition:F});return[].concat(F_(w),[L,E,P]).filter(wae)};return this.manager.start([c].concat(F_(o.reduce(x,[p,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yae());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var w=l?Qd({},l,c):c,b=gM(Object.keys(w),o,d);S.start([p,a,Ci(Ci({},w),{},{transition:b}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Hae(i,Wae),d=D.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!l||d===0||o<=0)return a;var m=function(x){var S=x.props,w=S.style,b=w===void 0?{}:w,T=S.className,E=D.cloneElement(x,Ci(Ci({},c),{},{style:Ci(Ci({},b),p),className:T}));return E};return d===1?m(D.Children.only(a)):G.createElement("div",null,D.Children.map(a,function(y){return m(y)}))}}]),r})(D.PureComponent);oo.displayName="Animate";oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oo.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(this,arguments)}function aoe(t,e){return uoe(t)||loe(t,e)||soe(t,e)||ooe()}function ooe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return _M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _M(t,e)}}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function loe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function uoe(t){if(Array.isArray(t))return t}function SM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(r),!0).forEach(function(n){coe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function coe(t,e,r){return e=doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function doe(t){var e=foe(t,"string");return Qf(e)=="symbol"?e:e+""}function foe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TM=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=a[y]>o?o:a[y];p="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),p+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),p+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),p+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-l*m[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);p="M ".concat(e,",").concat(r+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*S,`
            L `).concat(e+n,",").concat(r+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e,",").concat(r+i-l*S," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},hoe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),p=Math.max(a,a+l),m=Math.min(o,o+c),y=Math.max(o,o+c);return n>=d&&n<=p&&i>=m&&i<=y}return!1},poe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IA=function(e){var r=EM(EM({},poe),e),n=D.useRef(),i=D.useState(-1),a=aoe(i,2),o=a[0],l=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,T=r.isAnimationActive,E=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var I=et("recharts-rectangle",x);return E?G.createElement(oo,{canBegin:o>0,from:{width:p,height:m,x:c,y:d},to:{width:p,height:m,x:c,y:d},duration:w,animationEasing:S,isActive:E},function(N){var k=N.width,O=N.height,P=N.x,C=N.y;return G.createElement(oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:T,easing:S},G.createElement("path",Mg({},Ge(r,!0),{className:I,d:TM(P,C,k,O,y),ref:n})))}):G.createElement("path",Mg({},Ge(r,!0),{className:I,d:TM(c,d,p,m,y)}))},moe=["points","className","baseLinePoints","connectNulls"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function goe(t,e){if(t==null)return{};var r=yoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AM(t){return woe(t)||xoe(t)||boe(t)||voe()}function voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,e){if(t){if(typeof t=="string")return JS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JS(t,e)}}function xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function woe(t){if(Array.isArray(t))return JS(t)}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var PM=function(e){return e&&e.x===+e.x&&e.y===+e.y},_oe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){PM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),PM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cf=function(e,r){var n=_oe(e);r&&(n=[n.reduce(function(a,o){return[].concat(AM(a),AM(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Soe=function(e,r,n){var i=cf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(cf(r.reverse(),n).slice(1))},Eoe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=goe(e,moe);if(!r||!r.length)return null;var l=et("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=Soe(r,i,a);return G.createElement("g",{className:l},G.createElement("path",Ru({},Ge(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?G.createElement("path",Ru({},Ge(o,!0),{fill:"none",d:cf(r,a)})):null,c?G.createElement("path",Ru({},Ge(o,!0),{fill:"none",d:cf(i,a)})):null)}var p=cf(r,a);return G.createElement("path",Ru({},Ge(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:l,d:p}))};function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZS.apply(this,arguments)}var CA=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=et("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",ZS({},Ge(e,!1),rg(e),{className:o,cx:r,cy:n,r:i})):null};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var Toe=["x","y","top","left","width","height","className"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eE.apply(this,arguments)}function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){Poe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Poe(t,e,r){return e=joe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function joe(t){var e=koe(t,"string");return Jf(e)=="symbol"?e:e+""}function koe(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ioe(t,e){if(t==null)return{};var r=Coe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Coe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Noe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Ooe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,S=e.className,w=Ioe(e,Toe),b=Aoe({x:n,y:a,top:l,left:d,width:m,height:x},w);return!_e(n)||!_e(a)||!_e(m)||!_e(x)||!_e(l)||!_e(d)?null:G.createElement("path",eE({},Ge(b,!0),{className:et("recharts-cross",S),d:Noe(n,a,m,x,l,d)}))},U_,kM;function Roe(){if(kM)return U_;kM=1;var t=Qy(),e=o6(),r=ba();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return U_=n,U_}var Moe=Roe();const Doe=wt(Moe);var z_,IM;function Loe(){if(IM)return z_;IM=1;var t=Qy(),e=ba(),r=s6();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return z_=n,z_}var $oe=Loe();const Voe=wt($oe);var Foe=["cx","cy","angle","ticks","axisLine"],Uoe=["ticks","tick","angle","tickFormatter","stroke"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},df.apply(this,arguments)}function CM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Js(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(r),!0).forEach(function(n){iv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NM(t,e){if(t==null)return{};var r=zoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K6(n.key),n)}}function qoe(t,e,r){return e&&OM(t.prototype,e),r&&OM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Woe(t,e,r){return e=Dg(e),Hoe(t,G6()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function Hoe(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Goe(t)}function Goe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Koe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tE(t,e)}function iv(t,e,r){return e=K6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K6(t){var e=Xoe(t,"string");return hc(e)=="symbol"?e:e+""}function Xoe(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var av=(function(t){function e(){return Boe(this,e),Woe(this,e,arguments)}return Koe(e,t),qoe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return zt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=Doe(l,function(p){return p.coordinate||0}),d=Voe(l,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=NM(n,Foe),p=l.reduce(function(S,w){return[Math.min(S[0],w.coordinate),Math.max(S[1],w.coordinate)]},[1/0,-1/0]),m=zt(i,a,p[0],o),y=zt(i,a,p[1],o),x=Js(Js(Js({},Ge(d,!1)),{},{fill:"none"},Ge(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return G.createElement("line",df({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,p=NM(i,Uoe),m=this.getTickTextAnchor(),y=Ge(p,!1),x=Ge(o,!1),S=a.map(function(w,b){var T=n.getTickValueCoord(w),E=Js(Js(Js(Js({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(T.x,", ").concat(T.y,")")},y),{},{stroke:"none",fill:d},x),{},{index:b},T),{},{payload:w});return G.createElement(Et,df({className:et("recharts-polar-radius-axis-tick",D6(o)),key:"tick-".concat(w.coordinate)},ps(n.props,w,b)),e.renderTickItem(o,E,c?c(w.value,b):w.value))});return G.createElement(Et,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:G.createElement(Et,{className:et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Fr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Qe(n)?o=n(i):o=G.createElement(sc,df({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(D.PureComponent);iv(av,"displayName","PolarRadiusAxis");iv(av,"axisType","radiusAxis");iv(av,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},il.apply(this,arguments)}function RM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(r),!0).forEach(function(n){ov(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y6(n.key),n)}}function Qoe(t,e,r){return e&&MM(t.prototype,e),r&&MM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Joe(t,e,r){return e=Lg(e),Zoe(t,X6()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function Zoe(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ese(t)}function ese(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X6=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function tse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rE(t,e)}function ov(t,e,r){return e=Y6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y6(t){var e=rse(t,"string");return pc(e)=="symbol"?e:e+""}function rse(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nse=Math.PI/180,DM=1e-5,Rh=(function(t){function e(){return Yoe(this,e),Joe(this,e,arguments)}return tse(e,t),Qoe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,p=d||8,m=zt(a,o,l,n.coordinate),y=zt(a,o,l+(c==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*nse),o;return a>DM?o=i==="outer"?"start":"end":a<-DM?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Zs(Zs({},Ge(this.props,!1)),{},{fill:"none"},Ge(l,!1));if(c==="circle")return G.createElement(CA,il({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var p=this.props.ticks,m=p.map(function(y){return zt(i,a,o,y.coordinate)});return G.createElement(Eoe,il({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,p=Ge(this.props,!1),m=Ge(o,!1),y=Zs(Zs({},p),{},{fill:"none"},Ge(l,!1)),x=a.map(function(S,w){var b=n.getTickLineCoord(S),T=n.getTickTextAnchor(S),E=Zs(Zs(Zs({textAnchor:T},p),{},{stroke:"none",fill:d},m),{},{index:w,payload:S,x:b.x2,y:b.y2});return G.createElement(Et,il({className:et("recharts-polar-angle-axis-tick",D6(o)),key:"tick-".concat(S.coordinate)},ps(n.props,S,w)),l&&G.createElement("line",il({className:"recharts-polar-angle-axis-tick-line"},y,b)),o&&e.renderTickItem(o,E,c?c(S.value,w):S.value))});return G.createElement(Et,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:G.createElement(Et,{className:et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Qe(n)?o=n(i):o=G.createElement(sc,il({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(D.PureComponent);ov(Rh,"displayName","PolarAngleAxis");ov(Rh,"axisType","angleAxis");ov(Rh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var B_,LM;function ise(){if(LM)return B_;LM=1;var t=o$(),e=t(Object.getPrototypeOf,Object);return B_=e,B_}var q_,$M;function ase(){if($M)return q_;$M=1;var t=fo(),e=ise(),r=ho(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=l.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==c}return q_=d,q_}var ose=ase();const sse=wt(ose);var W_,VM;function lse(){if(VM)return W_;VM=1;var t=fo(),e=ho(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return W_=n,W_}var use=lse();const cse=wt(use);function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$g.apply(this,arguments)}function dse(t,e){return mse(t)||pse(t,e)||hse(t,e)||fse()}function fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return FM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FM(t,e)}}function FM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function mse(t){if(Array.isArray(t))return t}function UM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(r),!0).forEach(function(n){gse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gse(t,e,r){return e=yse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yse(t){var e=vse(t,"string");return Zf(e)=="symbol"?e:e+""}function vse(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BM=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},bse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xse=function(e){var r=zM(zM({},bse),e),n=D.useRef(),i=D.useState(-1),a=dse(i,2),o=a[0],l=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&l(I)}catch{}},[]);var c=r.x,d=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,T=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var E=et("recharts-trapezoid",x);return T?G.createElement(oo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:d},to:{upperWidth:p,lowerWidth:m,height:y,x:c,y:d},duration:w,animationEasing:S,isActive:T},function(I){var N=I.upperWidth,k=I.lowerWidth,O=I.height,P=I.x,C=I.y;return G.createElement(oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:S},G.createElement("path",$g({},Ge(r,!0),{className:E,d:BM(P,C,N,k,O),ref:n})))}):G.createElement("g",null,G.createElement("path",$g({},Ge(r,!0),{className:E,d:BM(c,d,p,m,y)})))},wse=["option","shapeType","propTransformer","activeClassName","isActive"];function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function _se(t,e){if(t==null)return{};var r=Sse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(r),!0).forEach(function(n){Ese(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ese(t,e,r){return e=Tse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tse(t){var e=Ase(t,"string");return eh(e)=="symbol"?e:e+""}function Ase(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pse(t,e){return Vg(Vg({},e),t)}function jse(t,e){return t==="symbols"}function WM(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(IA,r);case"trapezoid":return G.createElement(xse,r);case"sector":return G.createElement(V6,r);case"symbols":if(jse(e))return G.createElement(KT,r);break;default:return null}}function kse(t){return D.isValidElement(t)?t.props:t}function Q6(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Pse:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=_se(t,wse),d;if(D.isValidElement(e))d=D.cloneElement(e,Vg(Vg({},c),kse(e)));else if(Qe(e))d=e(c);else if(sse(e)&&!cse(e)){var p=i(e,c);d=G.createElement(WM,{shapeType:r,elementProps:p})}else{var m=c;d=G.createElement(WM,{shapeType:r,elementProps:m})}return l?G.createElement(Et,{className:o},d):d}function sv(t,e){return e!=null&&"trapezoids"in t.props}function lv(t,e){return e!=null&&"sectors"in t.props}function th(t,e){return e!=null&&"points"in t.props}function Ise(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Cse(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Nse(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Ose(t,e){var r;return sv(t,e)?r=Ise:lv(t,e)?r=Cse:th(t,e)&&(r=Nse),r}function Rse(t,e){var r;return sv(t,e)?r="trapezoids":lv(t,e)?r="sectors":th(t,e)&&(r="points"),r}function Mse(t,e){if(sv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(lv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return th(t,e)?e.payload:{}}function Dse(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Rse(r,e),a=Mse(r,e),o=n.filter(function(c,d){var p=ev(a,c),m=r.props[i].filter(function(S){var w=Ose(r,e);return w(S,e)}),y=r.props[i].indexOf(m[m.length-1]),x=d===y;return p&&x}),l=n.indexOf(o[o.length-1]);return l}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nE.apply(this,arguments)}function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){Lse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lse(t,e,r){return e=$se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $se(t){var e=Vse(t,"string");return rh(e)=="symbol"?e:e+""}function Vse(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GM(t){return typeof t=="string"?parseInt(t,10):t}function Fse(t,e){var r="".concat(e.cx||t.cx),n=Number(r),i="".concat(e.cy||t.cy),a=Number(i);return H_(H_(H_({},e),t),{},{cx:n,cy:a})}function KM(t){return G.createElement(Q6,nE({shapeType:"sector",propTransformer:Fse},t))}var Use=["shape","activeShape","activeIndex","cornerRadius"],zse=["value","background"];function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fg.apply(this,arguments)}function XM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(r),!0).forEach(function(n){pl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YM(t,e){if(t==null)return{};var r=Bse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z6(n.key),n)}}function Wse(t,e,r){return e&&QM(t.prototype,e),r&&QM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hse(t,e,r){return e=Ug(e),Gse(t,J6()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function Gse(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kse(t)}function Kse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J6=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function Xse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iE(t,e)}function pl(t,e,r){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z6(t){var e=Yse(t,"string");return mc(e)=="symbol"?e:e+""}function Yse(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mh=(function(t){function e(){var r;qse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hse(this,e,[].concat(i)),pl(r,"state",{isAnimationFinished:!1}),pl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qe(o)&&o()}),pl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qe(o)&&o()}),r}return Xse(e,t),Wse(e,[{key:"getDeltaAngle",value:function(){var n=this.props,i=n.startAngle,a=n.endAngle,o=Sn(a-i),l=Math.min(Math.abs(a-i),360);return o*l}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.activeShape,c=a.activeIndex,d=a.cornerRadius,p=YM(a,Use),m=Ge(p,!1);return n.map(function(y,x){var S=x===c,w=jr(jr(jr(jr({},m),{},{cornerRadius:GM(d)},y),ps(i.props,y,x)),{},{className:"recharts-radial-bar-sector ".concat(y.className),forceCornerRadius:p.forceCornerRadius,cornerIsExternal:p.cornerIsExternal,isActive:S,option:S?l:o});return G.createElement(KM,Fg({},w,{key:"sector-".concat(x)}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,p=i.animationId,m=this.state.prevData;return G.createElement(oo,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,S=a.map(function(w,b){var T=m&&m[b];if(T){var E=$a(T.startAngle,w.startAngle),I=$a(T.endAngle,w.endAngle);return jr(jr({},w),{},{startAngle:E(x),endAngle:I(x)})}var N=w.endAngle,k=w.startAngle,O=$a(k,N);return jr(jr({},w),{},{endAngle:O(x)})});return G.createElement(Et,null,n.renderSectorsStatically(S))})}},{key:"renderSectors",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ev(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"renderBackground",value:function(n){var i=this,a=this.props.cornerRadius,o=Ge(this.props.background,!1);return n.map(function(l,c){l.value;var d=l.background,p=YM(l,zse);if(!d)return null;var m=jr(jr(jr(jr(jr({cornerRadius:GM(a)},p),{},{fill:"#eee"},d),o),ps(i.props,l,c)),{},{index:c,className:et("recharts-radial-bar-background-sector",o==null?void 0:o.className),option:d,isActive:!1});return G.createElement(KM,Fg({},m,{key:"sector-".concat(c)}))})}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.background,c=n.isAnimationActive;if(i||!a||!a.length)return null;var d=this.state.isAnimationFinished,p=et("recharts-area",o);return G.createElement(Et,{className:p},l&&G.createElement(Et,{className:"recharts-radial-bar-background"},this.renderBackground(a)),G.createElement(Et,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!c||d)&&as.renderCallByParent(jr({},this.props),a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);pl(Mh,"displayName","RadialBar");pl(Mh,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!Vc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});pl(Mh,"getComposedData",function(t){var e=t.item,r=t.props,n=t.radiusAxis,i=t.radiusAxisTicks,a=t.angleAxis,o=t.angleAxisTicks,l=t.displayedData,c=t.dataKey,d=t.stackedData,p=t.barPosition,m=t.bandSize,y=t.dataStartIndex,x=I6(p,e);if(!x)return null;var S=a.cx,w=a.cy,b=r.layout,T=e.props,E=T.children,I=T.minPointSize,N=b==="radial"?a:n,k=d?N.scale.domain():null,O=O6({numericAxis:N}),P=ui(E,qy),C=l.map(function(R,F){var L,$,V,q,X,te;if(d?L=C6(d[y+F],k):(L=Vi(R,c),Array.isArray(L)||(L=[O,L])),b==="radial"){$=Pg({axis:n,ticks:i,bandSize:m,offset:x.offset,entry:R,index:F}),X=a.scale(L[1]),q=a.scale(L[0]),V=$+x.size;var re=X-q;if(Math.abs(I)>0&&Math.abs(re)<Math.abs(I)){var Q=Sn(re||I)*(Math.abs(I)-Math.abs(re));X+=Q}te={background:{cx:S,cy:w,innerRadius:$,outerRadius:V,startAngle:r.startAngle,endAngle:r.endAngle}}}else{$=n.scale(L[0]),V=n.scale(L[1]),q=Pg({axis:a,ticks:o,bandSize:m,offset:x.offset,entry:R,index:F}),X=q+x.size;var ae=V-$;if(Math.abs(I)>0&&Math.abs(ae)<Math.abs(I)){var ne=Sn(ae||I)*(Math.abs(I)-Math.abs(ae));V+=ne}}return jr(jr(jr(jr({},R),te),{},{payload:R,value:d?L:L[1],cx:S,cy:w,innerRadius:$,outerRadius:V,startAngle:q,endAngle:X},P&&P[F]&&P[F].props),{},{tooltipPayload:[kA(e,R)],tooltipPosition:zt(S,w,($+V)/2,(q+X)/2)})});return{data:C,layout:b}});var G_,JM;function Qse(){if(JM)return G_;JM=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,c=e(t((i-n)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=a;return d}return G_=r,G_}var K_,ZM;function eV(){if(ZM)return K_;ZM=1;var t=_$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return K_=n,K_}var X_,eD;function Jse(){if(eD)return X_;eD=1;var t=Qse(),e=By(),r=eV();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return X_=n,X_}var Y_,tD;function Zse(){if(tD)return Y_;tD=1;var t=Jse(),e=t();return Y_=e,Y_}var ele=Zse();const zg=wt(ele);function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function rD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(r),!0).forEach(function(n){tV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tV(t,e,r){return e=tle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tle(t){var e=rle(t,"string");return nh(e)=="symbol"?e:e+""}function rle(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nle=["Webkit","Moz","O","ms"],ile=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=nle.reduce(function(a,o){return nD(nD({},a),{},tV({},o+n,r))},{});return i[e]=r,i};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bg.apply(this,arguments)}function iD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(r),!0).forEach(function(n){Dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nV(n.key),n)}}function ole(t,e,r){return e&&aD(t.prototype,e),r&&aD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sle(t,e,r){return e=qg(e),lle(t,rV()?Reflect.construct(e,r||[],qg(t).constructor):e.apply(t,r))}function lle(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ule(t)}function ule(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(t)}function cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aE(t,e)}function Dn(t,e,r){return e=nV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nV(t){var e=dle(t,"string");return gc(e)=="symbol"?e:e+""}function dle(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fle=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=sf().domain(zg(0,c)).range([a,a+o-l]),p=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:p}},oD=function(e){return e.changedTouches&&!!e.changedTouches.length},yc=(function(t){function e(r){var n;return ale(this,e),n=sle(this,e,[r]),Dn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Dn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Dn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Dn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Dn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Dn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Dn(n,"handleSlideDragStart",function(i){var a=oD(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cle(e,t),ole(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,p=d.length-1,m=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(o,m),S=e.getIndexInRange(o,y);return{startIndex:x-x%c,endIndex:S===p?p:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Vi(a[n],l,n);return Qe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,p=c.width,m=c.travellerWidth,y=c.startIndex,x=c.endIndex,S=c.onChange,w=n.pageX-a;w>0?w=Math.min(w,d+p-m-l,d+p-m-o):w<0&&(w=Math.max(w,d-o,d-l));var b=this.getIndex({startX:o+w,endX:l+w});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=oD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,S=p.onChange,w=p.gap,b=p.data,T={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,m+y-x-d):E<0&&(E=Math.max(E,m-d)),T[o]=d+E;var I=this.getIndex(T),N=I.startIndex,k=I.endIndex,O=function(){var C=b.length-1;return o==="startX"&&(l>c?N%w===0:k%w===0)||l<c&&k===C||o==="endX"&&(l>c?k%w===0:N%w===0)||l>c&&k===C};this.setState(Dn(Dn({},o,d+E),"brushMoveStartX",n.pageX),function(){S&&O()&&S(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,p=this.state[i],m=l.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=l.length)){var x=l[y];i==="startX"&&x>=d||i==="endX"&&x<=c||this.setState(Dn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return G.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,p=n.padding,m=D.Children.only(d);return m?G.cloneElement(m,{x:i,y:a,width:o,height:l,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,p=c.travellerWidth,m=c.height,y=c.traveller,x=c.ariaLabel,S=c.data,w=c.startIndex,b=c.endIndex,T=Math.max(n,this.props.x),E=Q_(Q_({},Ge(this.props,!1)),{},{x:T,y:d,width:p,height:m}),I=x||"Min value: ".concat((a=S[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[b])===null||o===void 0?void 0:o.name);return G.createElement(Et,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,p=Math.min(n,i)+d,m=Math.max(Math.abs(i-n)-d,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,S={pointerEvents:"none",fill:d};return G.createElement(Et,{className:"recharts-brush-texts"},G.createElement(sc,Bg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:o+l/2},S),this.getTextOfTick(i)),G.createElement(sc,Bg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+x,y:o+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,w=y.isTextActive,b=y.isSlideMoving,T=y.isTravellerMoving,E=y.isTravellerFocused;if(!i||!i.length||!_e(l)||!_e(c)||!_e(d)||!_e(p)||d<=0||p<=0)return null;var I=et("recharts-brush",a),N=G.Children.count(o)===1,k=ile("userSelect","none");return G.createElement(Et,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(w||b||T||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),G.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return G.isValidElement(n)?a=G.cloneElement(n,i):Qe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Q_({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?fle({data:a,width:o,x:l,travellerWidth:c,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(D.PureComponent);Dn(yc,"displayName","Brush");Dn(yc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var J_,sD;function hle(){if(sD)return J_;sD=1;var t=tA();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return J_=e,J_}var Z_,lD;function ple(){if(lD)return Z_;lD=1;var t=Z3(),e=ba(),r=hle(),n=Pn(),i=By();function a(o,l,c){var d=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return Z_=a,Z_}var mle=ple();const gle=wt(mle);var fa=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},e1,uD;function yle(){if(uD)return e1;uD=1;var t=y$();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return e1=e,e1}var t1,cD;function vle(){if(cD)return t1;cD=1;var t=yle(),e=m$(),r=ba();function n(i,a){var o={};return a=r(a,3),e(i,function(l,c,d){t(o,c,a(l,c,d))}),o}return t1=n,t1}var ble=vle();const xle=wt(ble);var r1,dD;function wle(){if(dD)return r1;dD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return r1=t,r1}var n1,fD;function _le(){if(fD)return n1;fD=1;var t=tA();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return n1=e,n1}var i1,hD;function Sle(){if(hD)return i1;hD=1;var t=wle(),e=_le(),r=ba(),n=Pn(),i=By();function a(o,l,c){var d=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return i1=a,i1}var Ele=Sle();const iV=wt(Ele);var Tle=["x","y"];function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oE.apply(this,arguments)}function pD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(r),!0).forEach(function(n){Ale(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ale(t,e,r){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ple(t){var e=jle(t,"string");return ih(e)=="symbol"?e:e+""}function jle(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kle(t,e){if(t==null)return{};var r=Ile(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ile(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cle(t,e){var r=t.x,n=t.y,i=kle(t,Tle),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),p=parseInt(d,10),m="".concat(e.width||i.width),y=parseInt(m,10);return Vd(Vd(Vd(Vd(Vd({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function mD(t){return G.createElement(Q6,oE({shapeType:"rectangle",propTransformer:Cle,activeClassName:"recharts-active-bar"},t))}var Nle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=_e(n)||GK(n);return a?e(n,i):(a||El(),r)}},Ole=["value","background"],aV;function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Rle(t,e){if(t==null)return{};var r=Mle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wg.apply(this,arguments)}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){Qo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sV(n.key),n)}}function Lle(t,e,r){return e&&yD(t.prototype,e),r&&yD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $le(t,e,r){return e=Hg(e),Vle(t,oV()?Reflect.construct(e,r||[],Hg(t).constructor):e.apply(t,r))}function Vle(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(t)}function Fle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(t)}function Ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sE(t,e)}function Qo(t,e,r){return e=sV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sV(t){var e=zle(t,"string");return vc(e)=="symbol"?e:e+""}function zle(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ll=(function(t){function e(){var r;Dle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$le(this,e,[].concat(i)),Qo(r,"state",{isAnimationFinished:!1}),Qo(r,"id",Dy("recharts-bar-")),Qo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Qo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Ule(e,t),Lle(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,p=Ge(this.props,!1);return n&&n.map(function(m,y){var x=y===c,S=x?d:o,w=sr(sr(sr({},p),m),{},{isActive:x,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(Et,Wg({className:"recharts-bar-rectangle"},ps(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),G.createElement(mD,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,p=i.animationEasing,m=i.animationId,y=this.state.prevData;return G.createElement(oo,{begin:c,duration:d,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,w=a.map(function(b,T){var E=y&&y[T];if(E){var I=$a(E.x,b.x),N=$a(E.y,b.y),k=$a(E.width,b.width),O=$a(E.height,b.height);return sr(sr({},b),{},{x:I(S),y:N(S),width:k(S),height:O(S)})}if(o==="horizontal"){var P=$a(0,b.height),C=P(S);return sr(sr({},b),{},{y:b.y+b.height-C,height:C})}var R=$a(0,b.width),F=R(S);return sr(sr({},b),{},{width:F})});return G.createElement(Et,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ev(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Ge(this.props.background,!1);return a.map(function(d,p){d.value;var m=d.background,y=Rle(d,Ole);if(!m)return null;var x=sr(sr(sr(sr(sr({},y),{},{fill:"#eee"},m),c),ps(n.props,d,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(mD,Wg({key:"background-bar-".concat(p),option:n.props.background,isActive:p===l},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,p=a.children,m=ui(p,nv);if(!m)return null;var y=d==="vertical"?o[0].height/2:o[0].width/2,x=function(b,T){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:Vi(b,T)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(Et,S,m.map(function(w){return G.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,S=n.background,w=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,T=et("recharts-bar",o),E=l&&l.allowDataOverflow,I=c&&c.allowDataOverflow,N=E||I,k=pt(w)?this.id:w;return G.createElement(Et,{className:T},E||I?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(k)},G.createElement("rect",{x:E?d:d-m/2,y:I?p:p-y/2,width:E?m:m*2,height:I?y:y*2}))):null,G.createElement(Et,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(k,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,k),(!x||b)&&as.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);aV=Ll;Qo(Ll,"displayName","Bar");Qo(Ll,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qo(Ll,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=I6(n,r);if(!x)return null;var S=e.layout,w=r.type.defaultProps,b=w!==void 0?sr(sr({},w),r.props):r.props,T=b.dataKey,E=b.children,I=b.minPointSize,N=S==="horizontal"?o:a,k=d?N.scale.domain():null,O=O6({numericAxis:N}),P=ui(E,qy),C=m.map(function(R,F){var L,$,V,q,X,te;d?L=C6(d[p+F],k):(L=Vi(R,T),Array.isArray(L)||(L=[O,L]));var re=Nle(I,aV.defaultProps.minPointSize)(L[1],F);if(S==="horizontal"){var Q,ae=[o.scale(L[0]),o.scale(L[1])],ne=ae[0],W=ae[1];$=Pg({axis:a,ticks:l,bandSize:i,offset:x.offset,entry:R,index:F}),V=(Q=W??ne)!==null&&Q!==void 0?Q:void 0,q=x.size;var Y=ne-W;if(X=Number.isNaN(Y)?0:Y,te={x:$,y:o.y,width:q,height:o.height},Math.abs(re)>0&&Math.abs(X)<Math.abs(re)){var de=Sn(X||re)*(Math.abs(re)-Math.abs(X));V-=de,X+=de}}else{var oe=[a.scale(L[0]),a.scale(L[1])],xe=oe[0],Re=oe[1];if($=xe,V=Pg({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:R,index:F}),q=Re-xe,X=x.size,te={x:a.x,y:V,width:a.width,height:X},Math.abs(re)>0&&Math.abs(q)<Math.abs(re)){var ce=Sn(q||re)*(Math.abs(re)-Math.abs(q));q+=ce}}return sr(sr(sr({},R),{},{x:$,y:V,width:q,height:X,value:d?L:L[1],payload:R,background:te},P&&P[F]&&P[F].props),{},{tooltipPayload:[kA(r,R)],tooltipPosition:{x:$+q/2,y:V+X/2}})});return sr({data:C,layout:S},y)});function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lV(n.key),n)}}function qle(t,e,r){return e&&vD(t.prototype,e),r&&vD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(r),!0).forEach(function(n){uv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uv(t,e,r){return e=lV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lV(t){var e=Wle(t,"string");return ah(e)=="symbol"?e:e+""}function Wle(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hle=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},y=!!Ln(d,Ll);return p.reduce(function(x,S){var w=r[S],b=w.orientation,T=w.domain,E=w.padding,I=E===void 0?{}:E,N=w.mirror,k=w.reversed,O="".concat(b).concat(N?"Mirror":""),P,C,R,F,L;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var $=T[1]-T[0],V=1/0,q=w.categoricalDomain.sort(YK);if(q.forEach(function(oe,xe){xe>0&&(V=Math.min((oe||0)-(q[xe-1]||0),V))}),Number.isFinite(V)){var X=V/$,te=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(P=X*te/2),w.padding==="no-gap"){var re=Mi(e.barCategoryGap,X*te),Q=X*te/2;P=Q-re-(Q-re)/te*re}}}i==="xAxis"?C=[n.left+(I.left||0)+(P||0),n.left+n.width-(I.right||0)-(P||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(P||0),n.top+n.height-(I.bottom||0)-(P||0)]:C=w.range,k&&(C=[C[1],C[0]]);var ae=j6(w,a,y),ne=ae.scale,W=ae.realScaleType;ne.domain(T).range(C),k6(ne);var Y=N6(ne,Ni(Ni({},w),{},{realScaleType:W}));i==="xAxis"?(L=b==="top"&&!N||b==="bottom"&&N,R=n.left,F=m[O]-L*w.height):i==="yAxis"&&(L=b==="left"&&!N||b==="right"&&N,R=m[O]-L*w.width,F=n.top);var de=Ni(Ni(Ni({},w),Y),{},{realScaleType:W,x:R,y:F,scale:ne,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return de.bandSize=jg(de,Y),!w.hide&&i==="xAxis"?m[O]+=(L?-1:1)*de.height:w.hide||(m[O]+=(L?-1:1)*de.width),Ni(Ni({},x),{},uv({},S,de))},{})},uV=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Gle=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return uV({x:r,y:n},{x:i,y:a})},cV=(function(){function t(e){Ble(this,t),this.scale=e}return qle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();uv(cV,"EPS",1e-4);var NA=function(e){var r=Object.keys(e).reduce(function(n,i){return Ni(Ni({},n),{},uv({},i,cV.create(e[i])))},{});return Ni(Ni({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return xle(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return iV(i,function(a,o){return r[o].isInRange(a)})}})};function Kle(t){return(t%180+180)%180}var Xle=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kle(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},a1,xD;function Yle(){if(xD)return a1;xD=1;var t=ba(),e=kh(),r=Uy();function n(i){return function(a,o,l){var c=Object(a);if(!e(a)){var d=t(o,3);a=r(a),o=function(m){return d(c[m],m,c)}}var p=i(a,o,l);return p>-1?c[d?a[p]:p]:void 0}}return a1=n,a1}var o1,wD;function Qle(){if(wD)return o1;wD=1;var t=eV();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return o1=e,o1}var s1,_D;function Jle(){if(_D)return s1;_D=1;var t=c$(),e=ba(),r=Qle(),n=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(a,e(o,3),d)}return s1=i,s1}var l1,SD;function Zle(){if(SD)return l1;SD=1;var t=Yle(),e=Jle(),r=t(e);return l1=r,l1}var eue=Zle();const tue=wt(eue);var rue=A3();const nue=wt(rue);var iue=nue(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),OA=D.createContext(void 0),RA=D.createContext(void 0),dV=D.createContext(void 0),fV=D.createContext({}),hV=D.createContext(void 0),pV=D.createContext(0),mV=D.createContext(0),ED=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,p=iue(a);return G.createElement(OA.Provider,{value:n},G.createElement(RA.Provider,{value:i},G.createElement(fV.Provider,{value:a},G.createElement(dV.Provider,{value:p},G.createElement(hV.Provider,{value:o},G.createElement(pV.Provider,{value:d},G.createElement(mV.Provider,{value:c},l)))))))},aue=function(){return D.useContext(hV)},gV=function(e){var r=D.useContext(OA);r==null&&El();var n=r[e];return n==null&&El(),n},oue=function(){var e=D.useContext(OA);return Go(e)},sue=function(){var e=D.useContext(RA),r=tue(e,function(n){return iV(n.domain,Number.isFinite)});return r||Go(e)},yV=function(e){var r=D.useContext(RA);r==null&&El();var n=r[e];return n==null&&El(),n},lue=function(){var e=D.useContext(dV);return e},uue=function(){return D.useContext(fV)},MA=function(){return D.useContext(mV)},DA=function(){return D.useContext(pV)};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function cue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function due(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bV(n.key),n)}}function fue(t,e,r){return e&&due(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hue(t,e,r){return e=Gg(e),pue(t,vV()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function pue(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mue(t)}function mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function gue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lE(t,e)}function TD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(r),!0).forEach(function(n){LA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LA(t,e,r){return e=bV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bV(t){var e=yue(t,"string");return bc(e)=="symbol"?e:e+""}function yue(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vue(t,e){return _ue(t)||wue(t,e)||xue(t,e)||bue()}function bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(t,e){if(t){if(typeof t=="string")return PD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PD(t,e)}}function PD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _ue(t){if(Array.isArray(t))return t}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uE.apply(this,arguments)}var Sue=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):Qe(e)?n=e(r):n=G.createElement("line",uE({},r,{className:"recharts-reference-line-line"})),n},Eue=function(e,r,n,i,a,o,l,c,d){var p=a.x,m=a.y,y=a.width,x=a.height;if(n){var S=d.y,w=e.y.apply(S,{position:o});if(fa(d,"discard")&&!e.y.isInRange(w))return null;var b=[{x:p+y,y:w},{x:p,y:w}];return c==="left"?b.reverse():b}if(r){var T=d.x,E=e.x.apply(T,{position:o});if(fa(d,"discard")&&!e.x.isInRange(E))return null;var I=[{x:E,y:m+x},{x:E,y:m}];return l==="top"?I.reverse():I}if(i){var N=d.segment,k=N.map(function(O){return e.apply(O,{position:o})});return fa(d,"discard")&&gle(k,function(O){return!e.isInRange(O)})?null:k}return null};function Tue(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=aue(),p=gV(i),m=yV(a),y=lue();if(!d||!y)return null;Xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=NA({x:p.scale,y:m.scale}),S=wr(e),w=wr(r),b=n&&n.length===2,T=Eue(x,S,w,b,y,t.position,p.orientation,m.orientation,t);if(!T)return null;var E=vue(T,2),I=E[0],N=I.x,k=I.y,O=E[1],P=O.x,C=O.y,R=fa(t,"hidden")?"url(#".concat(d,")"):void 0,F=AD(AD({clipPath:R},Ge(t,!0)),{},{x1:N,y1:k,x2:P,y2:C});return G.createElement(Et,{className:et("recharts-reference-line",l)},Sue(o,F),Fr.renderCallByParent(t,Gle({x1:N,y1:k,x2:P,y2:C})))}var cv=(function(t){function e(){return cue(this,e),hue(this,e,arguments)}return gue(e,t),fue(e,[{key:"render",value:function(){return G.createElement(Tue,this.props)}}])})(G.Component);LA(cv,"displayName","ReferenceLine");LA(cv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cE.apply(this,arguments)}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function jD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(r),!0).forEach(function(n){dv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wV(n.key),n)}}function jue(t,e,r){return e&&Pue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,e,r){return e=Kg(e),Iue(t,xV()?Reflect.construct(e,r||[],Kg(t).constructor):e.apply(t,r))}function Iue(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(t)}function Cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dE(t,e)}function dv(t,e,r){return e=wV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wV(t){var e=Oue(t,"string");return xc(e)=="symbol"?e:e+""}function Oue(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rue=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=NA({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return fa(e,"discard")&&!o.isInRange(l)?null:l},fv=(function(t){function e(){return Aue(this,e),kue(this,e,arguments)}return Nue(e,t),jue(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=wr(i),p=wr(a);if(Xa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var m=Rue(this.props);if(!m)return null;var y=m.x,x=m.y,S=this.props,w=S.shape,b=S.className,T=fa(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=kD(kD({clipPath:T},Ge(this.props,!0)),{},{cx:y,cy:x});return G.createElement(Et,{className:et("recharts-reference-dot",b)},e.renderDot(w,E),Fr.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])})(G.Component);dv(fv,"displayName","ReferenceDot");dv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dv(fv,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Qe(t)?r=t(e):r=G.createElement(CA,cE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fE.apply(this,arguments)}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){hv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Due(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SV(n.key),n)}}function Lue(t,e,r){return e&&Due(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ue(t,e,r){return e=Xg(e),Vue(t,_V()?Reflect.construct(e,r||[],Xg(t).constructor):e.apply(t,r))}function Vue(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fue(t)}function Fue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(t)}function Uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hE(t,e)}function hv(t,e,r){return e=SV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SV(t){var e=zue(t,"string");return wc(e)=="symbol"?e:e+""}function zue(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bue=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var y=NA({x:p.scale,y:m.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(d,{position:"end"}):y.y.rangeMax};return fa(a,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:uV(x,S)},pv=(function(t){function e(){return Mue(this,e),$ue(this,e,arguments)}return Uue(e,t),Lue(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,p=n.clipPathId;Xa(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=wr(i),y=wr(a),x=wr(o),S=wr(l),w=this.props.shape;if(!m&&!y&&!x&&!S&&!w)return null;var b=Bue(m,y,x,S,this.props);if(!b&&!w)return null;var T=fa(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(Et,{className:et("recharts-reference-area",c)},e.renderRect(w,CD(CD({clipPath:T},Ge(this.props,!0)),b)),Fr.renderCallByParent(this.props,b))}}])})(G.Component);hv(pv,"displayName","ReferenceArea");hv(pv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hv(pv,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Qe(t)?r=t(e):r=G.createElement(IA,fE({},e,{className:"recharts-reference-area-rect"})),r});function EV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function que(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Xle(n,r)}function Wue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Yg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Hue(t,e){return EV(t,e+1)}function Gue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,p=o,m=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:EV(n,d)};var w=c,b,T=function(){return b===void 0&&(b=r(S,w)),b},E=S.coordinate,I=c===0||Yg(t,E,T,p,l);I||(c=0,p=o,d+=1),I&&(p=E+t*(T()/2+i),c+=d)},y;d<=a.length;)if(y=m(),y)return y.v;return[]}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function ND(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(r),!0).forEach(function(n){Kue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kue(t,e,r){return e=Xue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xue(t){var e=Yue(t,"string");return oh(e)=="symbol"?e:e+""}function Yue(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Que(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(y){var x=a[y],S,w=function(){return S===void 0&&(S=r(x,y)),S};if(y===o-1){var b=t*(x.coordinate+t*w()/2-c);a[y]=x=Yr(Yr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=Yr(Yr({},x),{},{tickCoord:x.coordinate});var T=Yg(t,x.tickCoord,w,l,c);T&&(c=x.tickCoord-t*(w()/2+i),a[y]=Yr(Yr({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)d(p);return a}function Jue(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var p=n[l-1],m=r(p,l-1),y=t*(p.coordinate+t*m/2-d);o[l-1]=p=Yr(Yr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Yg(t,p.tickCoord,function(){return m},c,d);x&&(d=p.tickCoord-t*(m/2+i),o[l-1]=Yr(Yr({},p),{},{isShow:!0}))}for(var S=a?l-1:l,w=function(E){var I=o[E],N,k=function(){return N===void 0&&(N=r(I,E)),N};if(E===0){var O=t*(I.coordinate-t*k()/2-c);o[E]=I=Yr(Yr({},I),{},{tickCoord:O<0?I.coordinate-O*t:I.coordinate})}else o[E]=I=Yr(Yr({},I),{},{tickCoord:I.coordinate});var P=Yg(t,I.tickCoord,k,c,d);P&&(c=I.tickCoord+t*(k()/2+i),o[E]=Yr(Yr({},I),{},{isShow:!0}))},b=0;b<S;b++)w(b);return o}function $A(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(_e(c)||Vc.isSsr)return Hue(i,typeof c=="number"&&_e(c)?c:0);var y=[],x=l==="top"||l==="bottom"?"width":"height",S=p&&x==="width"?of(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(I,N){var k=Qe(d)?d(I.value,N):I.value;return x==="width"?que(of(k,{fontSize:e,letterSpacing:r}),S,m):of(k,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?Sn(i[1].coordinate-i[0].coordinate):1,T=Wue(a,b,x);return c==="equidistantPreserveStart"?Gue(b,T,w,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=Jue(b,T,w,i,o,c==="preserveStartEnd"):y=Que(b,T,w,i,o),y.filter(function(E){return E.isShow}))}var Zue=["viewBox"],ece=["viewBox"],tce=["ticks"];function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function OD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(r),!0).forEach(function(n){VA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u1(t,e){if(t==null)return{};var r=rce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AV(n.key),n)}}function ice(t,e,r){return e&&RD(t.prototype,e),r&&RD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ace(t,e,r){return e=Qg(e),oce(t,TV()?Reflect.construct(e,r||[],Qg(t).constructor):e.apply(t,r))}function oce(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sce(t)}function sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(t)}function lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pE(t,e)}function VA(t,e,r){return e=AV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AV(t){var e=uce(t,"string");return _c(e)=="symbol"?e:e+""}function uce(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bc=(function(t){function e(r){var n;return nce(this,e),n=ace(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return lce(e,t),ice(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=u1(n,Zue),l=this.props,c=l.viewBox,d=u1(l,ece);return!Bu(a,c)||!Bu(o,d)||!Bu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,p=i.tickSize,m=i.mirror,y=i.tickMargin,x,S,w,b,T,E,I=m?-1:1,N=n.tickSize||p,k=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":x=S=n.coordinate,b=o+ +!m*c,w=b-I*N,E=w-I*y,T=k;break;case"left":w=b=n.coordinate,S=a+ +!m*l,x=S-I*N,T=x-I*y,E=k;break;case"right":w=b=n.coordinate,S=a+ +m*l,x=S+I*N,T=x+I*y,E=k;break;default:x=S=n.coordinate,b=o+ +m*c,w=b+I*N,E=w+I*y,T=k;break}return{line:{x1:x,y1:w,x2:S,y2:b},tick:{x:T,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,p=n.axisLine,m=yr(yr(yr({},Ge(this.props,!1)),Ge(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!d||c==="bottom"&&d);m=yr(yr({},m),{},{x1:i,y1:a+y*l,x2:i+o,y2:a+y*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);m=yr(yr({},m),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+l})}return G.createElement("line",Mu({},m,{className:et("recharts-cartesian-axis-line",li(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,p=l.tick,m=l.tickFormatter,y=l.unit,x=$A(yr(yr({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Ge(this.props,!1),T=Ge(p,!1),E=yr(yr({},b),{},{fill:"none"},Ge(c,!1)),I=x.map(function(N,k){var O=o.getTickLineCoord(N),P=O.line,C=O.tick,R=yr(yr(yr(yr({textAnchor:S,verticalAnchor:w},b),{},{stroke:"none",fill:d},T),C),{},{index:k,payload:N,visibleTicksCount:x.length,tickFormatter:m});return G.createElement(Et,Mu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ps(o.props,N,k)),c&&G.createElement("line",Mu({},E,P,{className:et("recharts-cartesian-axis-tick-line",li(c,"className"))})),p&&e.renderTickItem(p,R,"".concat(Qe(m)?m(N.value,k):N.value).concat(y||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,p=i.hide;if(p)return null;var m=this.props,y=m.ticks,x=u1(m,tce),S=y;return Qe(c)&&(S=y&&y.length>0?c(this.props):c(x)),o<=0||l<=0||!S||!S.length?null:G.createElement(Et,{className:et("recharts-cartesian-axis",d),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Fr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=et(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?o=G.cloneElement(n,yr(yr({},i),{},{className:l})):Qe(n)?o=n(yr(yr({},i),{},{className:l})):o=G.createElement(sc,Mu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(D.Component);VA(Bc,"displayName","CartesianAxis");VA(Bc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cce=["x1","y1","x2","y2","key"],dce=["offset"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function MD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(r),!0).forEach(function(n){fce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fce(t,e,r){return e=hce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hce(t){var e=pce(t,"string");return Tl(e)=="symbol"?e:e+""}function pce(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ul.apply(this,arguments)}function DD(t,e){if(t==null)return{};var r=mce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gce=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return G.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function PV(t,e){var r;if(G.isValidElement(t))r=G.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=DD(e,cce),d=Ge(c,!1);d.offset;var p=DD(d,dce);r=G.createElement("line",ul({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function yce(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Zr(Zr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return PV(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vce(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Zr(Zr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return PV(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bce(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var p=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],w=S?i+o-y:p[x+1]-y;if(w<=0)return null;var b=x%e.length;return G.createElement("rect",{key:"react-".concat(x),y,x:n,height:w,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function xce(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var p=d.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],w=S?a+l-y:p[x+1]-y;if(w<=0)return null;var b=x%n.length;return G.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var wce=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return P6($A(Zr(Zr(Zr({},Bc.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},_ce=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return P6($A(Zr(Zr(Zr({},Bc.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},ju={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jV(t){var e,r,n,i,a,o,l=MA(),c=DA(),d=uue(),p=Zr(Zr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ju.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ju.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ju.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ju.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ju.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ju.verticalFill,x:_e(t.x)?t.x:d.left,y:_e(t.y)?t.y:d.top,width:_e(t.width)?t.width:d.width,height:_e(t.height)?t.height:d.height}),m=p.x,y=p.y,x=p.width,S=p.height,w=p.syncWithTicks,b=p.horizontalValues,T=p.verticalValues,E=oue(),I=sue();if(!_e(x)||x<=0||!_e(S)||S<=0||!_e(m)||m!==+m||!_e(y)||y!==+y)return null;var N=p.verticalCoordinatesGenerator||wce,k=p.horizontalCoordinatesGenerator||_ce,O=p.horizontalPoints,P=p.verticalPoints;if((!O||!O.length)&&Qe(k)){var C=b&&b.length,R=k({yAxis:I?Zr(Zr({},I),{},{ticks:C?b:I.ticks}):void 0,width:l,height:c,offset:d},C?!0:w);Xa(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tl(R),"]")),Array.isArray(R)&&(O=R)}if((!P||!P.length)&&Qe(N)){var F=T&&T.length,L=N({xAxis:E?Zr(Zr({},E),{},{ticks:F?T:E.ticks}):void 0,width:l,height:c,offset:d},F?!0:w);Xa(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tl(L),"]")),Array.isArray(L)&&(P=L)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(gce,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(yce,ul({},p,{offset:d,horizontalPoints:O,xAxis:E,yAxis:I})),G.createElement(vce,ul({},p,{offset:d,verticalPoints:P,xAxis:E,yAxis:I})),G.createElement(bce,ul({},p,{horizontalPoints:O})),G.createElement(xce,ul({},p,{verticalPoints:P})))}jV.displayName="CartesianGrid";function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function Sce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ece(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CV(n.key),n)}}function Tce(t,e,r){return e&&Ece(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ace(t,e,r){return e=Jg(e),Pce(t,kV()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function Pce(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(t)}function jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}function kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mE(t,e)}function IV(t,e,r){return e=CV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CV(t){var e=Ice(t,"string");return Sc(e)=="symbol"?e:e+""}function Ice(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gE.apply(this,arguments)}function Cce(t){var e=t.xAxisId,r=MA(),n=DA(),i=gV(e);return i==null?null:D.createElement(Bc,gE({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wa(o,!0)}}))}var mv=(function(t){function e(){return Sce(this,e),Ace(this,e,arguments)}return kce(e,t),Tce(e,[{key:"render",value:function(){return D.createElement(Cce,this.props)}}])})(D.Component);IV(mv,"displayName","XAxis");IV(mv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RV(n.key),n)}}function Rce(t,e,r){return e&&Oce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mce(t,e,r){return e=Zg(e),Dce(t,NV()?Reflect.construct(e,r||[],Zg(t).constructor):e.apply(t,r))}function Dce(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(t)}function Lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NV=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(t)}function $ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yE(t,e)}function OV(t,e,r){return e=RV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RV(t){var e=Vce(t,"string");return Ec(e)=="symbol"?e:e+""}function Vce(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vE.apply(this,arguments)}var Fce=function(e){var r=e.yAxisId,n=MA(),i=DA(),a=yV(r);return a==null?null:D.createElement(Bc,vE({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Wa(l,!0)}}))},gv=(function(t){function e(){return Nce(this,e),Mce(this,e,arguments)}return $ce(e,t),Rce(e,[{key:"render",value:function(){return D.createElement(Fce,this.props)}}])})(D.Component);OV(gv,"displayName","YAxis");OV(gv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LD(t){return qce(t)||Bce(t)||zce(t)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(t,e){if(t){if(typeof t=="string")return bE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(t,e)}}function Bce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qce(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xE=function(e,r,n,i,a){var o=ui(e,cv),l=ui(e,fv),c=[].concat(LD(o),LD(l)),d=ui(e,pv),p="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(w,b){if(b.props[p]===n&&fa(b.props,"extendDomain")&&_e(b.props[m])){var T=b.props[m];return[Math.min(w[0],T),Math.max(w[1],T)]}return w},y)),d.length){var x="".concat(m,"1"),S="".concat(m,"2");y=d.reduce(function(w,b){if(b.props[p]===n&&fa(b.props,"extendDomain")&&_e(b.props[x])&&_e(b.props[S])){var T=b.props[x],E=b.props[S];return[Math.min(w[0],T,E),Math.max(w[1],T,E)]}return w},y)}return a&&a.length&&(y=a.reduce(function(w,b){return _e(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},y)),y},c1={exports:{}},$D;function Wce(){return $D||($D=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function a(c,d,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||c,y),S=r?r+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)e.call(p,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=r?r+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,S=new Array(x);y<x;y++)S[y]=m[y].fn;return S},l.prototype.listenerCount=function(d){var p=r?r+d:d,m=this._events[p];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,p,m,y,x,S){var w=r?r+d:d;if(!this._events[w])return!1;var b=this._events[w],T=arguments.length,E,I;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),T){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,S),!0}for(I=1,E=new Array(T-1);I<T;I++)E[I-1]=arguments[I];b.fn.apply(b.context,E)}else{var N=b.length,k;for(I=0;I<N;I++)switch(b[I].once&&this.removeListener(d,b[I].fn,void 0,!0),T){case 1:b[I].fn.call(b[I].context);break;case 2:b[I].fn.call(b[I].context,p);break;case 3:b[I].fn.call(b[I].context,p,m);break;case 4:b[I].fn.call(b[I].context,p,m,y);break;default:if(!E)for(k=1,E=new Array(T-1);k<T;k++)E[k-1]=arguments[k];b[I].fn.apply(b[I].context,E)}}return!0},l.prototype.on=function(d,p,m){return a(this,d,p,m,!1)},l.prototype.once=function(d,p,m){return a(this,d,p,m,!0)},l.prototype.removeListener=function(d,p,m,y){var x=r?r+d:d;if(!this._events[x])return this;if(!p)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!y||S.once)&&(!m||S.context===m)&&o(this,x);else{for(var w=0,b=[],T=S.length;w<T;w++)(S[w].fn!==p||y&&!S[w].once||m&&S[w].context!==m)&&b.push(S[w]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(c1)),c1.exports}var Hce=Wce();const Gce=wt(Hce);var d1=new Gce,f1="recharts.syncMouseEvents";function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function Kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MV(n.key),n)}}function Yce(t,e,r){return e&&Xce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h1(t,e,r){return e=MV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MV(t){var e=Qce(t,"string");return sh(e)=="symbol"?e:e+""}function Qce(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jce=(function(){function t(){Kce(this,t),h1(this,"activeIndex",0),h1(this,"coordinateList",[]),h1(this,"layout","horizontal")}return Yce(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+d,y=o+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function Zce(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&_e(n)&&_e(i))return!0}return!1}function ede(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function DV(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=zt(e,r,n,i),l=zt(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function tde(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,p=e.outerRadius,m=e.angle,y=zt(l,c,d,m),x=zt(l,c,p,m);n=y.x,i=y.y,a=x.x,o=x.y}else return DV(e);return[{x:n,y:i},{x:a,y:o}]}function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function VD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(r),!0).forEach(function(n){rde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rde(t,e,r){return e=nde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nde(t){var e=ide(t,"string");return lh(e)=="symbol"?e:e+""}function ide(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ade(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,w=nM;if(y==="ScatterChart")S=o,w=Ooe;else if(y==="BarChart")S=ede(m,o,c,p),w=IA;else if(m==="radial"){var b=DV(o),T=b.cx,E=b.cy,I=b.radius,N=b.startAngle,k=b.endAngle;S={cx:T,cy:E,startAngle:N,endAngle:k,innerRadius:I,outerRadius:I},w=V6}else S={points:tde(m,o,c)},w=nM;var O=ym(ym(ym(ym({stroke:"#ccc",pointerEvents:"none"},c),S),Ge(x,!1)),{},{payload:l,payloadIndex:d,className:et("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,O):D.createElement(w,O)}var ode=["item"],sde=["children","className","width","height","style","compact","title","desc"];function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Du.apply(this,arguments)}function FD(t,e){return cde(t)||ude(t,e)||$V(t,e)||lde()}function lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ude(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function cde(t){if(Array.isArray(t))return t}function UD(t,e){if(t==null)return{};var r=dde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VV(n.key),n)}}function pde(t,e,r){return e&&hde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mde(t,e,r){return e=ey(e),gde(t,LV()?Reflect.construct(e,r||[],ey(t).constructor):e.apply(t,r))}function gde(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yde(t)}function yde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(t)}function vde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wE(t,e)}function Ac(t){return wde(t)||xde(t)||$V(t)||bde()}function bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $V(t,e){if(t){if(typeof t=="string")return _E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(t,e)}}function xde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wde(t){if(Array.isArray(t))return _E(t)}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(r),!0).forEach(function(n){Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ue(t,e,r){return e=VV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VV(t){var e=_de(t,"string");return Tc(e)=="symbol"?e:e+""}function _de(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sde={xAxis:["bottom","top"],yAxis:["left","right"]},Ede={width:"100%",height:"100%"},FV={x:0,y:0};function vm(t){return t}var Tde=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ade=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return le(le(le({},i),zt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return le(le(le({},i),zt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return FV},yv=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ac(l),Ac(d)):l},[]);return o.length>0?o:e&&e.length&&_e(i)&&_e(a)?e.slice(i,a+1):[]};function UV(t){return t==="number"?[0,"auto"]:void 0}var SE=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=yv(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var p,m=(p=d.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?l:m;y=iS(x,o.dataKey,i)}else y=m&&m[n]||l[n];return y?[].concat(Ac(c),[kA(d,y)]):c},[])},BD=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=Tde(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,p=rne(o,l,d,c);if(p>=0&&d){var m=d[p]&&d[p].value,y=SE(e,r,p,m),x=Ade(n,l,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},Pde=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=A6(p,a);return n.reduce(function(S,w){var b,T=w.type.defaultProps!==void 0?le(le({},w.type.defaultProps),w.props):w.props,E=T.type,I=T.dataKey,N=T.allowDataOverflow,k=T.allowDuplicatedCategory,O=T.scale,P=T.ticks,C=T.includeHidden,R=T[o];if(S[R])return S;var F=yv(e.data,{graphicalItems:i.filter(function(Y){var de,oe=o in Y.props?Y.props[o]:(de=Y.type.defaultProps)===null||de===void 0?void 0:de[o];return oe===R}),dataStartIndex:c,dataEndIndex:d}),L=F.length,$,V,q;Zce(T.domain,N,E)&&($=$S(T.domain,null,N),x&&(E==="number"||O!=="auto")&&(q=lf(F,I,"category")));var X=UV(E);if(!$||$.length===0){var te,re=(te=T.domain)!==null&&te!==void 0?te:X;if(I){if($=lf(F,I,E),E==="category"&&x){var Q=XK($);k&&Q?(V=$,$=zg(0,L)):k||($=BR(re,$,w).reduce(function(Y,de){return Y.indexOf(de)>=0?Y:[].concat(Ac(Y),[de])},[]))}else if(E==="category")k?$=$.filter(function(Y){return Y!==""&&!pt(Y)}):$=BR(re,$,w).reduce(function(Y,de){return Y.indexOf(de)>=0||de===""||pt(de)?Y:[].concat(Ac(Y),[de])},[]);else if(E==="number"){var ae=sne(F,i.filter(function(Y){var de,oe,xe=o in Y.props?Y.props[o]:(de=Y.type.defaultProps)===null||de===void 0?void 0:de[o],Re="hide"in Y.props?Y.props.hide:(oe=Y.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return xe===R&&(C||!Re)}),I,a,p);ae&&($=ae)}x&&(E==="number"||O!=="auto")&&(q=lf(F,I,"category"))}else x?$=zg(0,L):l&&l[R]&&l[R].hasStack&&E==="number"?$=y==="expand"?[0,1]:R6(l[R].stackGroups,c,d):$=T6(F,i.filter(function(Y){var de=o in Y.props?Y.props[o]:Y.type.defaultProps[o],oe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return de===R&&(C||!oe)}),E,p,!0);if(E==="number")$=xE(m,$,R,a,P),re&&($=$S(re,$,N));else if(E==="category"&&re){var ne=re,W=$.every(function(Y){return ne.indexOf(Y)>=0});W&&($=ne)}}return le(le({},S),{},Ue({},R,le(le({},T),{},{axisType:a,domain:$,categoricalDomain:q,duplicateDomain:V,originalDomain:(b=T.domain)!==null&&b!==void 0?b:X,isCategorical:x,layout:p})))},{})},jde=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,y=yv(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),x=y.length,S=A6(p,a),w=-1;return n.reduce(function(b,T){var E=T.type.defaultProps!==void 0?le(le({},T.type.defaultProps),T.props):T.props,I=E[o],N=UV("number");if(!b[I]){w++;var k;return S?k=zg(0,x):l&&l[I]&&l[I].hasStack?(k=R6(l[I].stackGroups,c,d),k=xE(m,k,I,a)):(k=$S(N,T6(y,n.filter(function(O){var P,C,R=o in O.props?O.props[o]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[o],F="hide"in O.props?O.props.hide:(C=O.type.defaultProps)===null||C===void 0?void 0:C.hide;return R===I&&!F}),"number",p),i.defaultProps.allowDataOverflow),k=xE(m,k,I,a)),le(le({},b),{},Ue({},I,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:li(Sde,"".concat(a,".").concat(w%2),null),domain:k,originalDomain:N,isCategorical:S,layout:p})))}return b},{})},kde=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),y=ui(p,a),x={};return y&&y.length?x=Pde(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=jde(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},Ide=function(e){var r=Go(e),n=Wa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rA(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jg(r,n)}},qD=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ln(r,yc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Cde=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ka(r&&r.type);return n&&n.indexOf("Bar")>=0})},WD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nde=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,p=n.height,m=n.children,y=n.margin||{},x=Ln(m,yc),S=Ln(m,qu),w=Object.keys(c).reduce(function(k,O){var P=c[O],C=P.orientation;return!P.mirror&&!P.hide?le(le({},k),{},Ue({},C,k[C]+P.width)):k},{left:y.left||0,right:y.right||0}),b=Object.keys(o).reduce(function(k,O){var P=o[O],C=P.orientation;return!P.mirror&&!P.hide?le(le({},k),{},Ue({},C,li(k,"".concat(C))+P.height)):k},{top:y.top||0,bottom:y.bottom||0}),T=le(le({},b),w),E=T.bottom;x&&(T.bottom+=x.props.height||yc.defaultProps.height),S&&r&&(T=ane(T,i,n,r));var I=d-T.left-T.right,N=p-T.top-T.bottom;return le(le({brushBottom:E},T),{},{width:Math.max(I,0),height:Math.max(N,0)})},Ode=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},zV=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(T,E){var I=E.graphicalItems,N=E.stackGroups,k=E.offset,O=E.updateId,P=E.dataStartIndex,C=E.dataEndIndex,R=T.barSize,F=T.layout,L=T.barGap,$=T.barCategoryGap,V=T.maxBarSize,q=WD(F),X=q.numericAxisName,te=q.cateAxisName,re=Cde(I),Q=[];return I.forEach(function(ae,ne){var W=yv(T.data,{graphicalItems:[ae],dataStartIndex:P,dataEndIndex:C}),Y=ae.type.defaultProps!==void 0?le(le({},ae.type.defaultProps),ae.props):ae.props,de=Y.dataKey,oe=Y.maxBarSize,xe=Y["".concat(X,"Id")],Re=Y["".concat(te,"Id")],ce={},Se=c.reduce(function($t,me){var Xe=E["".concat(me.axisType,"Map")],Nt=Y["".concat(me.axisType,"Id")];Xe&&Xe[Nt]||me.axisType==="zAxis"||El();var Gt=Xe[Nt];return le(le({},$t),{},Ue(Ue({},me.axisType,Gt),"".concat(me.axisType,"Ticks"),Wa(Gt)))},ce),fe=Se[te],Ee=Se["".concat(te,"Ticks")],Le=N&&N[xe]&&N[xe].hasStack&&hne(ae,N[xe].stackGroups),pe=Ka(ae.type).indexOf("Bar")>=0,it=jg(fe,Ee),We=[],gt=re&&nne({barSize:R,stackGroups:N,totalSize:Ode(Se,te)});if(pe){var ft,_t,nr=pt(oe)?V:oe,fr=(ft=(_t=jg(fe,Ee,!0))!==null&&_t!==void 0?_t:nr)!==null&&ft!==void 0?ft:0;We=ine({barGap:L,barCategoryGap:$,bandSize:fr!==it?fr:it,sizeList:gt[Re],maxBarSize:nr}),fr!==it&&(We=We.map(function($t){return le(le({},$t),{},{position:le(le({},$t.position),{},{offset:$t.position.offset-fr/2})})}))}var hr=ae&&ae.type&&ae.type.getComposedData;hr&&Q.push({props:le(le({},hr(le(le({},Se),{},{displayedData:W,props:T,dataKey:de,item:ae,bandSize:it,barPosition:We,offset:k,stackedData:Le,layout:F,dataStartIndex:P,dataEndIndex:C}))),{},Ue(Ue(Ue({key:ae.key||"item-".concat(ne)},X,Se[X]),te,Se[te]),"animationId",O)),childIndex:sX(ae,T.children),item:ae})}),Q},x=function(T,E){var I=T.props,N=T.dataStartIndex,k=T.dataEndIndex,O=T.updateId;if(!aN({props:I}))return null;var P=I.children,C=I.layout,R=I.stackOffset,F=I.data,L=I.reverseStackOrder,$=WD(C),V=$.numericAxisName,q=$.cateAxisName,X=ui(P,n),te=fne(F,X,"".concat(V,"Id"),"".concat(q,"Id"),R,L),re=c.reduce(function(Y,de){var oe="".concat(de.axisType,"Map");return le(le({},Y),{},Ue({},oe,kde(I,le(le({},de),{},{graphicalItems:X,stackGroups:de.axisType===V&&te,dataStartIndex:N,dataEndIndex:k}))))},{}),Q=Nde(le(le({},re),{},{props:I,graphicalItems:X}),E==null?void 0:E.legendBBox);Object.keys(re).forEach(function(Y){re[Y]=p(I,re[Y],Q,Y.replace("Map",""),r)});var ae=re["".concat(q,"Map")],ne=Ide(ae),W=y(I,le(le({},re),{},{dataStartIndex:N,dataEndIndex:k,updateId:O,graphicalItems:X,stackGroups:te,offset:Q}));return le(le({formattedGraphicalItems:W,graphicalItems:X,offset:Q,stackGroups:te},ne),re)},S=(function(b){function T(E){var I,N,k;return fde(this,T),k=mde(this,T,[E]),Ue(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(k,"accessibilityManager",new Jce),Ue(k,"handleLegendBBoxUpdate",function(O){if(O){var P=k.state,C=P.dataStartIndex,R=P.dataEndIndex,F=P.updateId;k.setState(le({legendBBox:O},x({props:k.props,dataStartIndex:C,dataEndIndex:R,updateId:F},le(le({},k.state),{},{legendBBox:O}))))}}),Ue(k,"handleReceiveSyncEvent",function(O,P,C){if(k.props.syncId===O){if(C===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(P)}}),Ue(k,"handleBrushChange",function(O){var P=O.startIndex,C=O.endIndex;if(P!==k.state.dataStartIndex||C!==k.state.dataEndIndex){var R=k.state.updateId;k.setState(function(){return le({dataStartIndex:P,dataEndIndex:C},x({props:k.props,dataStartIndex:P,dataEndIndex:C,updateId:R},k.state))}),k.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),Ue(k,"handleMouseEnter",function(O){var P=k.getMouseInfo(O);if(P){var C=le(le({},P),{},{isTooltipActive:!0});k.setState(C),k.triggerSyncEvent(C);var R=k.props.onMouseEnter;Qe(R)&&R(C,O)}}),Ue(k,"triggeredAfterMouseMove",function(O){var P=k.getMouseInfo(O),C=P?le(le({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(C),k.triggerSyncEvent(C);var R=k.props.onMouseMove;Qe(R)&&R(C,O)}),Ue(k,"handleItemMouseEnter",function(O){k.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Ue(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Ue(k,"handleMouseMove",function(O){O.persist(),k.throttleTriggeredAfterMouseMove(O)}),Ue(k,"handleMouseLeave",function(O){k.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};k.setState(P),k.triggerSyncEvent(P);var C=k.props.onMouseLeave;Qe(C)&&C(P,O)}),Ue(k,"handleOuterEvent",function(O){var P=oX(O),C=li(k.props,"".concat(P));if(P&&Qe(C)){var R,F;/.*touch.*/i.test(P)?F=k.getMouseInfo(O.changedTouches[0]):F=k.getMouseInfo(O),C((R=F)!==null&&R!==void 0?R:{},O)}}),Ue(k,"handleClick",function(O){var P=k.getMouseInfo(O);if(P){var C=le(le({},P),{},{isTooltipActive:!0});k.setState(C),k.triggerSyncEvent(C);var R=k.props.onClick;Qe(R)&&R(C,O)}}),Ue(k,"handleMouseDown",function(O){var P=k.props.onMouseDown;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"handleMouseUp",function(O){var P=k.props.onMouseUp;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Ue(k,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.handleMouseDown(O.changedTouches[0])}),Ue(k,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.handleMouseUp(O.changedTouches[0])}),Ue(k,"handleDoubleClick",function(O){var P=k.props.onDoubleClick;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"handleContextMenu",function(O){var P=k.props.onContextMenu;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"triggerSyncEvent",function(O){k.props.syncId!==void 0&&d1.emit(f1,k.props.syncId,O,k.eventEmitterSymbol)}),Ue(k,"applySyncEvent",function(O){var P=k.props,C=P.layout,R=P.syncMethod,F=k.state.updateId,L=O.dataStartIndex,$=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)k.setState(le({dataStartIndex:L,dataEndIndex:$},x({props:k.props,dataStartIndex:L,dataEndIndex:$,updateId:F},k.state)));else if(O.activeTooltipIndex!==void 0){var V=O.chartX,q=O.chartY,X=O.activeTooltipIndex,te=k.state,re=te.offset,Q=te.tooltipTicks;if(!re)return;if(typeof R=="function")X=R(Q,O);else if(R==="value"){X=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===O.activeLabel){X=ae;break}}var ne=le(le({},re),{},{x:re.left,y:re.top}),W=Math.min(V,ne.x+ne.width),Y=Math.min(q,ne.y+ne.height),de=Q[X]&&Q[X].value,oe=SE(k.state,k.props.data,X),xe=Q[X]?{x:C==="horizontal"?Q[X].coordinate:W,y:C==="horizontal"?Y:Q[X].coordinate}:FV;k.setState(le(le({},O),{},{activeLabel:de,activeCoordinate:xe,activePayload:oe,activeTooltipIndex:X}))}else k.setState(O)}),Ue(k,"renderCursor",function(O){var P,C=k.state,R=C.isTooltipActive,F=C.activeCoordinate,L=C.activePayload,$=C.offset,V=C.activeTooltipIndex,q=C.tooltipAxisBandSize,X=k.getTooltipEventType(),te=(P=O.props.active)!==null&&P!==void 0?P:R,re=k.props.layout,Q=O.key||"_recharts-cursor";return G.createElement(ade,{key:Q,activeCoordinate:F,activePayload:L,activeTooltipIndex:V,chartName:r,element:O,isActive:te,layout:re,offset:$,tooltipAxisBandSize:q,tooltipEventType:X})}),Ue(k,"renderPolarAxis",function(O,P,C){var R=li(O,"type.axisType"),F=li(k.state,"".concat(R,"Map")),L=O.type.defaultProps,$=L!==void 0?le(le({},L),O.props):O.props,V=F&&F[$["".concat(R,"Id")]];return D.cloneElement(O,le(le({},V),{},{className:et(R,V.className),key:O.key||"".concat(P,"-").concat(C),ticks:Wa(V,!0)}))}),Ue(k,"renderPolarGrid",function(O){var P=O.props,C=P.radialLines,R=P.polarAngles,F=P.polarRadius,L=k.state,$=L.radiusAxisMap,V=L.angleAxisMap,q=Go($),X=Go(V),te=X.cx,re=X.cy,Q=X.innerRadius,ae=X.outerRadius;return D.cloneElement(O,{polarAngles:Array.isArray(R)?R:Wa(X,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(F)?F:Wa(q,!0).map(function(ne){return ne.coordinate}),cx:te,cy:re,innerRadius:Q,outerRadius:ae,key:O.key||"polar-grid",radialLines:C})}),Ue(k,"renderLegend",function(){var O=k.state.formattedGraphicalItems,P=k.props,C=P.children,R=P.width,F=P.height,L=k.props.margin||{},$=R-(L.left||0)-(L.right||0),V=S6({children:C,formattedGraphicalItems:O,legendWidth:$,legendContent:d});if(!V)return null;var q=V.item,X=UD(V,ode);return D.cloneElement(q,le(le({},X),{},{chartWidth:R,chartHeight:F,margin:L,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Ue(k,"renderTooltip",function(){var O,P=k.props,C=P.children,R=P.accessibilityLayer,F=Ln(C,ta);if(!F)return null;var L=k.state,$=L.isTooltipActive,V=L.activeCoordinate,q=L.activePayload,X=L.activeLabel,te=L.offset,re=(O=F.props.active)!==null&&O!==void 0?O:$;return D.cloneElement(F,{viewBox:le(le({},te),{},{x:te.left,y:te.top}),active:re,label:X,payload:re?q:[],coordinate:V,accessibilityLayer:R})}),Ue(k,"renderBrush",function(O){var P=k.props,C=P.margin,R=P.data,F=k.state,L=F.offset,$=F.dataStartIndex,V=F.dataEndIndex,q=F.updateId;return D.cloneElement(O,{key:O.key||"_recharts-brush",onChange:hm(k.handleBrushChange,O.props.onChange),data:R,x:_e(O.props.x)?O.props.x:L.left,y:_e(O.props.y)?O.props.y:L.top+L.height+L.brushBottom-(C.bottom||0),width:_e(O.props.width)?O.props.width:L.width,startIndex:$,endIndex:V,updateId:"brush-".concat(q)})}),Ue(k,"renderReferenceElement",function(O,P,C){if(!O)return null;var R=k,F=R.clipPathId,L=k.state,$=L.xAxisMap,V=L.yAxisMap,q=L.offset,X=O.type.defaultProps||{},te=O.props,re=te.xAxisId,Q=re===void 0?X.xAxisId:re,ae=te.yAxisId,ne=ae===void 0?X.yAxisId:ae;return D.cloneElement(O,{key:O.key||"".concat(P,"-").concat(C),xAxis:$[Q],yAxis:V[ne],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:F})}),Ue(k,"renderActivePoints",function(O){var P=O.item,C=O.activePoint,R=O.basePoint,F=O.childIndex,L=O.isRange,$=[],V=P.props.key,q=P.item.type.defaultProps!==void 0?le(le({},P.item.type.defaultProps),P.item.props):P.item.props,X=q.activeDot,te=q.dataKey,re=le(le({index:F,dataKey:te,cx:C.x,cy:C.y,r:4,fill:jA(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ge(X,!1)),rg(X));return $.push(T.renderActiveDot(X,re,"".concat(V,"-activePoint-").concat(F))),R?$.push(T.renderActiveDot(X,le(le({},re),{},{cx:R.x,cy:R.y}),"".concat(V,"-basePoint-").concat(F))):L&&$.push(null),$}),Ue(k,"renderGraphicChild",function(O,P,C){var R=k.filterFormatItem(O,P,C);if(!R)return null;var F=k.getTooltipEventType(),L=k.state,$=L.isTooltipActive,V=L.tooltipAxis,q=L.activeTooltipIndex,X=L.activeLabel,te=k.props.children,re=Ln(te,ta),Q=R.props,ae=Q.points,ne=Q.isRange,W=Q.baseLine,Y=R.item.type.defaultProps!==void 0?le(le({},R.item.type.defaultProps),R.item.props):R.item.props,de=Y.activeDot,oe=Y.hide,xe=Y.activeBar,Re=Y.activeShape,ce=!!(!oe&&$&&re&&(de||xe||Re)),Se={};F!=="axis"&&re&&re.props.trigger==="click"?Se={onClick:hm(k.handleItemMouseEnter,O.props.onClick)}:F!=="axis"&&(Se={onMouseLeave:hm(k.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:hm(k.handleItemMouseEnter,O.props.onMouseEnter)});var fe=D.cloneElement(O,le(le({},R.props),Se));function Ee(me){return typeof V.dataKey=="function"?V.dataKey(me.payload):null}if(ce)if(q>=0){var Le,pe;if(V.dataKey&&!V.allowDuplicatedCategory){var it=typeof V.dataKey=="function"?Ee:"payload.".concat(V.dataKey.toString());Le=iS(ae,it,X),pe=ne&&W&&iS(W,it,X)}else Le=ae==null?void 0:ae[q],pe=ne&&W&&W[q];if(Re||xe){var We=O.props.activeIndex!==void 0?O.props.activeIndex:q;return[D.cloneElement(O,le(le(le({},R.props),Se),{},{activeIndex:We})),null,null]}if(!pt(Le))return[fe].concat(Ac(k.renderActivePoints({item:R,activePoint:Le,basePoint:pe,childIndex:q,isRange:ne})))}else{var gt,ft=(gt=k.getItemByXY(k.state.activeCoordinate))!==null&&gt!==void 0?gt:{graphicalItem:fe},_t=ft.graphicalItem,nr=_t.item,fr=nr===void 0?O:nr,hr=_t.childIndex,$t=le(le(le({},R.props),Se),{},{activeIndex:hr});return[D.cloneElement(fr,$t),null,null]}return ne?[fe,null,null]:[fe,null]}),Ue(k,"renderCustomized",function(O,P,C){return D.cloneElement(O,le(le({key:"recharts-customized-".concat(C)},k.props),k.state))}),Ue(k,"renderMap",{CartesianGrid:{handler:vm,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:vm},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:vm},YAxis:{handler:vm},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((I=E.id)!==null&&I!==void 0?I:Dy("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=S$(k.triggeredAfterMouseMove,(N=E.throttleDelay)!==null&&N!==void 0?N:1e3/60),k.state={},k}return vde(T,b),pde(T,[{key:"componentDidMount",value:function(){var I,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,N=I.children,k=I.data,O=I.height,P=I.layout,C=Ln(N,ta);if(C){var R=C.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,L=SE(this.state,k,R,F),$=this.state.tooltipTicks[R].coordinate,V=(this.state.offset.top+O)/2,q=P==="horizontal",X=q?{x:$,y:V}:{y:$,x:V},te=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});te&&(X=le(le({},X),te.props.points[R].tooltipPosition),L=te.props.points[R].tooltipPayload);var re={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:X};this.setState(re),this.renderCursor(C),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var k,O;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(I){oS([Ln(I.children,ta)],[Ln(this.props.children,ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Ln(this.props.children,ta);if(I&&typeof I.props.shared=="boolean"){var N=I.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var N=this.container,k=N.getBoundingClientRect(),O=KJ(k),P={chartX:Math.round(I.pageX-O.left),chartY:Math.round(I.pageY-O.top)},C=k.width/N.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,C);if(!R)return null;var F=this.state,L=F.xAxisMap,$=F.yAxisMap,V=this.getTooltipEventType(),q=BD(this.state,this.props.data,this.props.layout,R);if(V!=="axis"&&L&&$){var X=Go(L).scale,te=Go($).scale,re=X&&X.invert?X.invert(P.chartX):null,Q=te&&te.invert?te.invert(P.chartY):null;return le(le({},P),{},{xValue:re,yValue:Q},q)}return q?le(le({},P),q):null}},{key:"inRange",value:function(I,N){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=I/k,C=N/k;if(O==="horizontal"||O==="vertical"){var R=this.state.offset,F=P>=R.left&&P<=R.left+R.width&&C>=R.top&&C<=R.top+R.height;return F?{x:P,y:C}:null}var L=this.state,$=L.angleAxisMap,V=L.radiusAxisMap;if($&&V){var q=Go($);return HR({x:P,y:C},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,N=this.getTooltipEventType(),k=Ln(I,ta),O={};k&&N==="axis"&&(k.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=rg(this.props,this.handleOuterEvent);return le(le({},P),O)}},{key:"addListener",value:function(){d1.on(f1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d1.removeListener(f1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,N,k){for(var O=this.state.formattedGraphicalItems,P=0,C=O.length;P<C;P++){var R=O[P];if(R.item===I||R.props.key===I.key||N===Ka(R.item.type)&&k===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,N=this.state.offset,k=N.left,O=N.top,P=N.height,C=N.width;return G.createElement("defs",null,G.createElement("clipPath",{id:I},G.createElement("rect",{x:k,y:O,height:P,width:C})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(N,k){var O=FD(k,2),P=O[0],C=O[1];return le(le({},N),{},Ue({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(N,k){var O=FD(k,2),P=O[0],C=O[1];return le(le({},N),{},Ue({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(I){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(I){var N=this.state,k=N.formattedGraphicalItems,O=N.activeItem;if(k&&k.length)for(var P=0,C=k.length;P<C;P++){var R=k[P],F=R.props,L=R.item,$=L.type.defaultProps!==void 0?le(le({},L.type.defaultProps),L.props):L.props,V=Ka(L.type);if(V==="Bar"){var q=(F.data||[]).find(function(Q){return hoe(I,Q)});if(q)return{graphicalItem:R,payload:q}}else if(V==="RadialBar"){var X=(F.data||[]).find(function(Q){return HR(I,Q)});if(X)return{graphicalItem:R,payload:X}}else if(sv(R,O)||lv(R,O)||th(R,O)){var te=Dse({graphicalItem:R,activeTooltipItem:O,itemData:$.data}),re=$.activeIndex===void 0?te:$.activeIndex;return{graphicalItem:le(le({},R),{},{childIndex:re}),payload:th(R,O)?$.data[te]:R.props.data[te]}}}return null}},{key:"render",value:function(){var I=this;if(!aN(this))return null;var N=this.props,k=N.children,O=N.className,P=N.width,C=N.height,R=N.style,F=N.compact,L=N.title,$=N.desc,V=UD(N,sde),q=Ge(V,!1);if(F)return G.createElement(ED,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(lS,Du({},q,{width:P,height:C,title:L,desc:$}),this.renderClipPath(),sN(k,this.renderMap)));if(this.props.accessibilityLayer){var X,te;q.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,q.role=(te=this.props.role)!==null&&te!==void 0?te:"application",q.onKeyDown=function(Q){I.accessibilityManager.keyboardEvent(Q)},q.onFocus=function(){I.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return G.createElement(ED,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Du({className:et("recharts-wrapper",O),style:le({position:"relative",cursor:"default",width:P,height:C},R)},re,{ref:function(ae){I.container=ae}}),G.createElement(lS,Du({},q,{width:P,height:C,title:L,desc:$,style:Ede}),this.renderClipPath(),sN(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(D.Component);Ue(S,"displayName",r),Ue(S,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ue(S,"getDerivedStateFromProps",function(b,T){var E=b.dataKey,I=b.data,N=b.children,k=b.width,O=b.height,P=b.layout,C=b.stackOffset,R=b.margin,F=T.dataStartIndex,L=T.dataEndIndex;if(T.updateId===void 0){var $=qD(b);return le(le(le({},$),{},{updateId:0},x(le(le({props:b},$),{},{updateId:0}),T)),{},{prevDataKey:E,prevData:I,prevWidth:k,prevHeight:O,prevLayout:P,prevStackOffset:C,prevMargin:R,prevChildren:N})}if(E!==T.prevDataKey||I!==T.prevData||k!==T.prevWidth||O!==T.prevHeight||P!==T.prevLayout||C!==T.prevStackOffset||!Bu(R,T.prevMargin)){var V=qD(b),q={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},X=le(le({},BD(T,I,P)),{},{updateId:T.updateId+1}),te=le(le(le({},V),q),X);return le(le(le({},te),x(le({props:b},te),T)),{},{prevDataKey:E,prevData:I,prevWidth:k,prevHeight:O,prevLayout:P,prevStackOffset:C,prevMargin:R,prevChildren:N})}if(!oS(N,T.prevChildren)){var re,Q,ae,ne,W=Ln(N,yc),Y=W&&(re=(Q=W.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&re!==void 0?re:F,de=W&&(ae=(ne=W.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ae!==void 0?ae:L,oe=Y!==F||de!==L,xe=!pt(I),Re=xe&&!oe?T.updateId:T.updateId+1;return le(le({updateId:Re},x(le(le({props:b},T),{},{updateId:Re,dataStartIndex:Y,dataEndIndex:de}),T)),{},{prevChildren:N,dataStartIndex:Y,dataEndIndex:de})}return null}),Ue(S,"renderActiveDot",function(b,T,E){var I;return D.isValidElement(b)?I=D.cloneElement(b,T):Qe(b)?I=b(T):I=G.createElement(CA,T),G.createElement(Et,{className:"recharts-active-dot",key:E},I)});var w=D.forwardRef(function(T,E){return G.createElement(S,Du({},T,{ref:E}))});return w.displayName=S.displayName,w},Rde=zV({chartName:"BarChart",GraphicalChild:Ll,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mv},{axisType:"yAxis",AxisComp:gv}],formatAxisMap:Hle}),Mde=zV({chartName:"RadialBarChart",GraphicalChild:Mh,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:Rh},{axisType:"radiusAxis",AxisComp:av}],formatAxisMap:Ene,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const EE=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function uh(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function Dde(t){const e=t.length,r=t.filter(i=>i.status==="present").length,n=e===0?0:Math.round(r/e*100);return{total:e,present:r,percent:n}}function Lde(t){return t>=75?"safe":"risk"}function $de(t,e){if(t===0)return 0;let r=0,n=t,i=e;for(;Math.round(i/n*100)<75;)n++,i++,r++;return r}function HD(t){const e=Dde(t),r=Lde(e.percent);return{...e,zone:r,classesNeededFor75:r==="risk"?$de(e.total,e.present):0}}const BV={async mark(t,{subjectId:e,status:r,date:n}){const i=n??uh(),a=`${e}_${i}`;await $i(nt(t,"attendance",a),{subjectId:e,date:i,status:r,locked:!0,createdAt:new Date().toISOString()})}};function qV(){const{user:t}=Bn(),[e,r]=D.useState(uh()),[n,i]=D.useState(EE[new Date().getDay()]),[a,o]=D.useState([]),[l,c]=D.useState(!0),[d,p]=D.useState(null),[m,y]=D.useState(null);D.useEffect(()=>{if(!t)return;const w=uh(),b=EE[new Date().getDay()];let T=[],E=[],I=()=>{};function N(O){const P={};if(O.docs.forEach(F=>{P[F.data().subjectId]=F.data().status}),E.length===0)return T.map(F=>({subject:F,markedStatus:P[F.id]??null,alreadyMarked:!!P[F.id],timetableName:null,timetableId:null,uniqueKey:F.id}));const C=[],R=new Set;return E.forEach(F=>{(F.slots??[]).filter($=>$.day===b).sort(($,V)=>($.startTime??"").localeCompare(V.startTime??"")).forEach($=>{const V=T.find(X=>X.id===$.subjectId);if(!V)return;const q=`${F.id}_${V.id}`;R.has(q)||(R.add(q),C.push({subject:V,markedStatus:P[V.id]??null,alreadyMarked:!!P[V.id],timetableName:F.name,timetableId:F.id,uniqueKey:q,slot:$}))})}),C}return(async()=>{try{const[O,P]=await Promise.all([hs(cn(rr(t.id,"subjects"),An("archived","==",!1))),hs(cn(rr(t.id,"timetables"),An("active","==",!0)))]);T=O.docs.map(C=>({id:C.id,...C.data()})),E=P.docs.map(C=>({id:C.id,...C.data()})).filter(C=>!C.archived&&(!C.startDate||C.startDate<=w)),I=Cr(cn(rr(t.id,"attendance"),An("date","==",w)),C=>{o(N(C)),r(w),i(b),c(!1)},C=>{p(C.message),c(!1)})}catch(O){p(O.message),c(!1)}})(),()=>I()},[t]);const x=D.useCallback(async(w,b,T)=>{if(t){y(w);try{await BV.mark(t.id,{subjectId:w,status:b,date:T})}catch(E){p(E.message)}finally{y(null)}}},[t]),S=D.useCallback(()=>{},[]);return{date:e,day:n,today:a,loading:l,error:d,marking:m,mark:x,refresh:S}}function WV(){const{user:t}=Bn(),[e,r]=D.useState(null),[n,i]=D.useState([]),[a,o]=D.useState(!0),[l,c]=D.useState(null);D.useEffect(()=>{if(!t)return;let p=[],m=()=>{};return(async()=>{try{p=(await hs(cn(rr(t.id,"subjects"),An("archived","==",!1)))).docs.map(S=>({id:S.id,...S.data()})),m=Cr(rr(t.id,"attendance"),S=>{const w=S.docs.map(T=>({id:T.id,...T.data()})),b=p.map(T=>{const E=w.filter(I=>I.subjectId===T.id);return{subject:T,...HD(E)}});r(HD(w)),i(b),o(!1)},S=>{c(S.message),o(!1)})}catch(x){c(x.message),o(!1)}})(),()=>m()},[t]);const d=D.useCallback(()=>{},[]);return{overall:e,subjects:n,loading:a,error:l,refresh:d}}function Vde({subjectId:t,from:e,to:r}={}){const{user:n}=Bn(),[i,a]=D.useState([]),[o,l]=D.useState(!0);return D.useEffect(()=>{if(n)return Cr(rr(n.id,"attendance"),c=>{let d=c.docs.map(p=>({id:p.id,...p.data()}));t&&(d=d.filter(p=>p.subjectId===t)),e&&(d=d.filter(p=>p.date>=e)),r&&(d=d.filter(p=>p.date<=r)),d.sort((p,m)=>(m.date??"").localeCompare(p.date??"")),a(d),l(!1)})},[n,t,e,r]),{records:i,loading:o}}const Va={async create(t,{title:e,description:r="",dueDate:n=null,priority:i="medium"}){return(await zn(rr(t,"tasks"),{title:e,description:r,dueDate:n,priority:i,completed:!1,archived:!1,subtasks:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id},async update(t,e,r){await rt(nt(t,"tasks",e),{...r,updatedAt:new Date().toISOString()})},async archive(t,e){await rt(nt(t,"tasks",e),{archived:!0,updatedAt:new Date().toISOString()})},async addSubtask(t,e,r,n){const i=Date.now().toString(36)+Math.random().toString(36).slice(2,5),a=[...r||[],{id:i,title:n,completed:!1}];await rt(nt(t,"tasks",e),{subtasks:a,updatedAt:new Date().toISOString()})},async toggleSubtask(t,e,r,n){const i=(r||[]).map(a=>a.id===n?{...a,completed:!a.completed}:a);await rt(nt(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})},async deleteSubtask(t,e,r,n){const i=(r||[]).filter(a=>a.id!==n);await rt(nt(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})}};function vv({archived:t=!1}={}){const{user:e}=Bn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,l]=D.useState(null);D.useEffect(()=>e?Cr(rr(e.id,"tasks"),b=>{const T=b.docs.map(E=>({id:E.id,...E.data()})).filter(E=>t?E.archived===!0:E.archived!==!0).sort((E,I)=>(I.createdAt??"").localeCompare(E.createdAt??""));n(T),a(!1)},b=>{l(b.message),a(!1)}):void 0,[e,t]);const c=D.useCallback(async w=>{if(e)try{await Va.create(e.id,w)}catch(b){l(b.message)}},[e]),d=D.useCallback(async(w,b)=>{if(e)try{await Va.update(e.id,w,b)}catch(T){l(T.message)}},[e]),p=D.useCallback((w,b)=>d(w,{completed:!b}),[d]),m=D.useCallback(async w=>{if(e)try{await Va.archive(e.id,w)}catch(b){l(b.message)}},[e]),y=D.useCallback(async(w,b)=>{if(!e)return;const T=r.find(E=>E.id===w);try{await Va.addSubtask(e.id,w,(T==null?void 0:T.subtasks)??[],b)}catch(E){l(E.message)}},[e,r]),x=D.useCallback(async(w,b)=>{if(!e)return;const T=r.find(E=>E.id===w);try{await Va.toggleSubtask(e.id,w,(T==null?void 0:T.subtasks)??[],b)}catch(E){l(E.message)}},[e,r]),S=D.useCallback(async(w,b)=>{if(!e)return;const T=r.find(E=>E.id===w);try{await Va.deleteSubtask(e.id,w,(T==null?void 0:T.subtasks)??[],b)}catch(E){l(E.message)}},[e,r]);return{tasks:r,loading:i,error:o,create:c,update:d,toggle:p,archive:m,addSubtask:y,toggleSubtask:x,deleteSubtask:S}}const p1={async addHabit(t,e){await zn(rr(t,"habits"),{name:e,active:!0,createdAt:new Date().toISOString()})},async archiveHabit(t,e){await rt(nt(t,"habits",e),{active:!1})},async toggleToday(t,e,r){const n=uh(),i=`${e}_${n}`;await $i(nt(t,"habitLogs",i),{habitId:e,date:n,done:!r,updatedAt:new Date().toISOString()})}};function HV(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState({}),[a,o]=D.useState(!0);D.useEffect(()=>{if(!t)return;const p=cn(rr(t.id,"habits"),An("active","==",!0));return Cr(p,m=>{r(m.docs.map(y=>({id:y.id,...y.data()})).sort((y,x)=>(y.createdAt??"").localeCompare(x.createdAt??""))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const p=uh(),m=cn(rr(t.id,"habitLogs"),An("date","==",p));return Cr(m,y=>{const x={};y.docs.forEach(S=>{x[S.data().habitId]=S.data().done}),i(x)})},[t]);const l=D.useCallback(async p=>{!t||!p.trim()||await p1.addHabit(t.id,p.trim())},[t]),c=D.useCallback(async p=>{t&&await p1.archiveHabit(t.id,p)},[t]),d=D.useCallback(async p=>{if(!t)return;const m=n[p]??!1;await p1.toggleToday(t.id,p,m)},[t,n]);return{habits:e,todayLogs:n,loading:a,addHabit:l,archiveHabit:c,toggleToday:d}}function Dh(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>t?Cr(rr(t.id,"timetables"),S=>{const w=S.docs.map(b=>({id:b.id,...b.data()})).filter(b=>b.archived!==!0).sort((b,T)=>(b.createdAt??"").localeCompare(T.createdAt??""));r(w),i(!1)},S=>{o(S.message),i(!1)}):void 0,[t]);const l=D.useCallback(async({name:x,startDate:S})=>{if(t)try{await zn(rr(t.id,"timetables"),{name:x,startDate:S||null,active:!1,archived:!1,slots:[],createdAt:new Date().toISOString()})}catch(w){o(w.message)}},[t]),c=D.useCallback(async x=>{if(t)try{const S=e.find(b=>b.id===x);if(!S)return;const w=J1(dt);if(S.active)w.update(nt(t.id,"timetables",x),{active:!1});else{const b=e.filter(T=>T.active);if(b.length>=2){const T=[...b].sort((E,I)=>(E.activatedAt??E.createdAt??"").localeCompare(I.activatedAt??I.createdAt??""))[0];w.update(nt(t.id,"timetables",T.id),{active:!1})}w.update(nt(t.id,"timetables",x),{active:!0,activatedAt:new Date().toISOString()})}await w.commit()}catch(S){o(S.message)}},[t,e]),d=D.useCallback(async x=>{if(t)try{await rt(nt(t.id,"timetables",x),{archived:!0,active:!1})}catch(S){o(S.message)}},[t]),p=D.useCallback(async(x,S)=>{if(t)try{const w=e.find(T=>T.id===x);if(!w)return;const b={id:crypto.randomUUID(),...S};await rt(nt(t.id,"timetables",x),{slots:[...w.slots??[],b]})}catch(w){o(w.message)}},[t,e]),m=D.useCallback(async(x,S)=>{if(t)try{const w=e.find(b=>b.id===x);if(!w)return;await rt(nt(t.id,"timetables",x),{slots:(w.slots??[]).filter(b=>b.id!==S)})}catch(w){o(w.message)}},[t,e]),y=D.useCallback(async({name:x,slots:S=[]})=>{if(t)try{await zn(rr(t.id,"timetables"),{name:x,startDate:null,active:!1,archived:!1,slots:S.map(w=>({...w,id:crypto.randomUUID()})),createdAt:new Date().toISOString()})}catch(w){o(w.message)}},[t]);return{timetables:e,loading:n,error:a,create:l,activate:c,archive:d,addSlot:p,deleteSlot:m,importTimetable:y}}const m1=()=>Tn(dt,"quotes"),Lu={async getAll(){return(await hs(m1())).docs.map(e=>({id:e.id,...e.data()}))},async getActive(){return(await hs(cn(m1(),An("active","==",!0)))).docs.map(e=>({id:e.id,...e.data()}))},async add({text:t,author:e=""}){return zn(m1(),{text:t,author:e.trim(),active:!0,createdAt:new Date().toISOString()})},async update(t,e){await rt(Br(dt,"quotes",t),e)},async remove(t){await Z5(Br(dt,"quotes",t))}};function GD(t){if(!t.length)return null;const e=Math.floor(Date.now()/(1e3*60*60));return t[e%t.length]}const KD=[{id:"seed-1",text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{id:"seed-2",text:"The secret of getting ahead is getting started.",author:"Mark Twain"},{id:"seed-3",text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{id:"seed-4",text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{id:"seed-5",text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{id:"seed-6",text:"Education is the passport to the future.",author:"Malcolm X"},{id:"seed-7",text:"The more that you read, the more things you will know.",author:"Dr. Seuss"},{id:"seed-8",text:"You don't have to be great to start, but you have to start to be great.",author:"Zig Ziglar"},{id:"seed-9",text:"Push yourself, because no one else is going to do it for you.",author:""},{id:"seed-10",text:"Great things never come from comfort zones.",author:""},{id:"seed-11",text:"Dream it. Wish it. Do it.",author:""},{id:"seed-12",text:"Success doesn't just find you. You have to go out and get it.",author:""}];function Fde(){const[t,e]=D.useState(null);return D.useEffect(()=>{let r=!1;async function n(){try{const l=await Lu.getActive();if(r)return;const c=l.length?l:KD;e(GD(c))}catch{r||e(GD(KD))}}n();const a=36e5-Date.now()%36e5,o=setTimeout(()=>n(),a);return()=>{r=!0,clearTimeout(o)}},[]),t}function Ude(){const[t,e]=D.useState([]),[r,n]=D.useState(!0);async function i(){n(!0);try{e(await Lu.getAll())}catch{e([])}n(!1)}return D.useEffect(()=>{i()},[]),{quotes:t,loading:r,refresh:i}}class Lh{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const zde=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Ur={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:zde()},FA=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Bde=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=FA(t);Ur.publicKey=r.publicKey,Ur.blockHeadless=r.blockHeadless,Ur.storageProvider=r.storageProvider,Ur.blockList=r.blockList,Ur.limitRate=r.limitRate,Ur.origin=r.origin||e},GV=async(t,e,r={})=>{const n=await fetch(Ur.origin+t,{method:"POST",headers:r,body:e}),i=await n.text(),a=new Lh(n.status,i);if(n.ok)return a;throw a},KV=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},qde=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},XV=t=>t.webdriver||!t.languages||t.languages.length===0,YV=()=>new Lh(451,"Unavailable For Headless Browser"),Wde=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Hde=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Gde=(t,e)=>t instanceof FormData?t.get(e):t[e],QV=(t,e)=>{if(Hde(t))return!1;Wde(t.list,t.watchVariable);const r=Gde(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},JV=()=>new Lh(403,"Forbidden"),Kde=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Xde=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},ZV=async(t,e,r)=>{if(!e.throttle||!r)return!1;Kde(e.throttle,e.id);const n=e.id||t;return await Xde(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},eF=()=>new Lh(429,"Too Many Requests"),Yde=async(t,e,r,n)=>{const i=FA(n),a=i.publicKey||Ur.publicKey,o=i.blockHeadless||Ur.blockHeadless,l=i.storageProvider||Ur.storageProvider,c={...Ur.blockList,...i.blockList},d={...Ur.limitRate,...i.limitRate};return o&&XV(navigator)?Promise.reject(YV()):(KV(a,t,e),qde(r),r&&QV(c,r)?Promise.reject(JV()):await ZV(location.pathname,d,l)?Promise.reject(eF()):GV("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},Qde=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Jde=t=>typeof t=="string"?document.querySelector(t):t,Zde=async(t,e,r,n)=>{const i=FA(n),a=i.publicKey||Ur.publicKey,o=i.blockHeadless||Ur.blockHeadless,l=Ur.storageProvider||i.storageProvider,c={...Ur.blockList,...i.blockList},d={...Ur.limitRate,...i.limitRate};if(o&&XV(navigator))return Promise.reject(YV());const p=Jde(r);KV(a,t,e),Qde(p);const m=new FormData(p);return QV(c,m)?Promise.reject(JV()):await ZV(location.pathname,d,l)?Promise.reject(eF()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",a),GV("/api/v1.0/email/send-form",m))},XD={init:Bde,send:Yde,sendForm:Zde,EmailJSResponseStatus:Lh},YD="service_hjvrjoa",QD="ED2eDc6-CLeSavBsg",efe="template_attendance_risk_id",tfe="template_task_overdue_id",JD="/SARASVA/logo.png",rfe=window.location.origin,nfe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let g1=[],y1=[];function ife(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}const ff={async requestPermission(){return"Notification"in window?Notification.requestPermission():"denied"},get permission(){return"Notification"in window?Notification.permission:"denied"},push(t,e,{tag:r,path:n}={}){if("Notification"in window&&Notification.permission==="granted")try{const i=new Notification(t,{body:e,icon:JD,badge:JD,tag:r});n&&(i.onclick=()=>{window.focus(),window.location.href=rfe+n})}catch{}},schedulePeriodNotifications(t,e){if(g1.forEach(clearTimeout),g1=[],Notification.permission!=="granted")return;const r=new Date,n=nfe[r.getDay()];t.filter(i=>i.day===n).forEach(i=>{if(!i.startTime)return;const[a,o]=i.startTime.split(":").map(Number),l=new Date(r);l.setHours(a,Math.max(0,o-5),0,0);const c=l-r;if(c<=0)return;const d=(e==null?void 0:e(i.subjectId))||i.subjectName||"Class",p=setTimeout(()=>{this.push(` ${d} in 5 minutes`,`Starting at ${i.startTime}${i.room?"  "+i.room:""}  mark attendance after class!`,{tag:`period-${i.id??i.subjectId}`,path:"/attendance"})},c);g1.push(p)})},scheduleTaskReminders(t){if(y1.forEach(clearTimeout),y1=[],Notification.permission!=="granted")return;const e=ife(),r=t.filter(a=>!a.completed&&!a.archived&&a.dueDate===e);if(!r.length)return;const n=new Date,i=new Date(n);i.setHours(22,0,0,0),[2,4,6].forEach(a=>{const o=new Date(n.getTime()+a*3600*1e3);if(o>i)return;const l=setTimeout(()=>{this.push(` ${r.length} task${r.length!==1?"s":""} due today`,r.slice(0,3).map(c=>c.title).join("  "),{tag:"tasks-due-today",path:"/tasks"})},o-n);y1.push(l)})},async sendAttendanceAlert(t,e,r){const n=r.map(i=>` ${i.subject.name}: ${i.percent}% (need ${i.classesNeededFor75} more classes)`).join(`
`);try{await XD.send(YD,efe,{to_email:t,to_name:e,subject_list:n,reply_to:t},QD)}catch{}},async sendTaskAlert(t,e,r){const n=r.map(i=>` ${i.title}${i.dueDate?` (due ${new Date(i.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})`:""}`).join(`
`);try{await XD.send(YD,tfe,{to_email:t,to_name:e,task_list:n,reply_to:t},QD)}catch{}},checkAndAlert(t,e,r){if(!t)return;const n=`sarasva_alerted_${t.id}_${new Date().toDateString()}`;if(sessionStorage.getItem(n))return;sessionStorage.setItem(n,"1");const i=e.filter(o=>o.zone==="risk"),a=r.filter(o=>!o.completed&&o.dueDate&&new Date(o.dueDate)<new Date);i.length>0&&(this.push("Attendance Risk ",`${i.length} subject${i.length!==1?"s":""} below 75%  check your dashboard.`,{tag:"att-risk",path:"/attendance"}),t.notificationsEmail&&t.email&&this.sendAttendanceAlert(t.email,t.name,i)),a.length>0&&(this.push("Overdue Tasks",`${a.length} task${a.length!==1?"s":""} past due date.`,{tag:"tasks-overdue",path:"/tasks"}),t.notificationsEmail&&t.email&&this.sendTaskAlert(t.email,t.name,a))},notifyFriendRequest(t){this.push(` Friend request from ${t}`,"Tap to view and respond on your Study Peers page.",{tag:`friend-req-${t}`,path:"/ptp"})}};function tF({zone:t}){const e=t==="safe";return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold",e?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-700"),children:[e?f.jsx(NT,{size:11}):f.jsx(CT,{size:11}),e?"SAFE":"RISK"]})}function bm({icon:t,label:e,value:r,sub:n,iconBg:i="bg-primary/10",iconColor:a="text-primary",to:o}){const l=f.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-border bg-card p-4 card-shadow hover:shadow-md transition-shadow",children:[f.jsx("div",{className:ke("mt-0.5 rounded-xl p-2.5",i,a),children:f.jsx(t,{size:17})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold leading-none tracking-tight",children:r}),f.jsx("p",{className:"mt-0.5 text-xs font-medium text-muted-foreground",children:e}),n&&f.jsx("div",{className:"mt-1",children:typeof n=="string"?f.jsx("p",{className:"text-xs text-muted-foreground",children:n}):n})]})]});return o?f.jsx(Fn,{to:o,children:l}):l}function afe({active:t,payload:e}){if(!t||!(e!=null&&e.length))return null;const r=e[0].payload;return f.jsxs("div",{className:"rounded-xl border border-border bg-card px-3 py-2 shadow-lg text-xs",children:[f.jsx("p",{className:"font-semibold mb-1",children:r.name}),f.jsxs("p",{children:[r.percent,"% attendance"]}),f.jsxs("p",{className:"text-muted-foreground",children:[r.present," present / ",r.total," total"]}),r.zone==="risk"&&r.classesNeededFor75>0&&f.jsxs("p",{className:"mt-1 font-medium text-rose-600",children:["Need ",r.classesNeededFor75," more to reach 75%"]})]})}function ofe({percent:t,zone:e}){const r=[{value:t,fill:e==="safe"?"#10b981":"#f43f5e"}];return f.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[f.jsxs(Mde,{width:156,height:156,cx:78,cy:78,innerRadius:52,outerRadius:70,startAngle:225,endAngle:-45,data:r,barSize:14,children:[f.jsx(Rh,{type:"number",domain:[0,100],angleAxisId:0,tick:!1}),f.jsx(Mh,{dataKey:"value",cornerRadius:8,background:{fill:"hsl(var(--muted))"},angleAxisId:0})]}),f.jsxs("div",{className:"absolute flex flex-col items-center",children:[f.jsxs("span",{className:"text-2xl font-bold leading-none",children:[t,"%"]}),f.jsx(tF,{zone:e})]})]})}function sfe({subjects:t}){const e=t.filter(r=>r.zone==="risk").sort((r,n)=>n.classesNeededFor75-r.classesNeededFor75);return e.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-1 py-6 text-center text-sm text-muted-foreground",children:[f.jsx(NT,{size:28,className:"text-emerald-500 opacity-80"}),f.jsx("p",{children:"All subjects above 75%!"})]}):f.jsx("div",{className:"space-y-2",children:e.map(r=>f.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-semibold text-rose-900",children:r.subject.name}),f.jsxs("span",{className:"text-xs font-bold text-rose-700",children:[r.percent,"%"]})]}),f.jsx("div",{className:"my-1.5 h-1.5 w-full overflow-hidden rounded-full bg-rose-200",children:f.jsx("div",{className:"h-full rounded-full bg-rose-500",style:{width:`${r.percent}%`}})}),f.jsxs("p",{className:"text-xs text-rose-700",children:["Attend ",f.jsx("strong",{children:r.classesNeededFor75})," consecutive class",r.classesNeededFor75!==1?"es":""," to reach 75%"]})]},r.subject.id))})}function lfe({exams:t}){const e=new Date;e.setHours(0,0,0,0);const r=t.filter(o=>!o.archived&&o.examDate).map(o=>{const l=new Date(o.examDate+"T00:00:00"),c=Math.ceil((l-e)/864e5);return{...o,daysLeft:c}}).filter(o=>o.daysLeft>=0).sort((o,l)=>o.daysLeft-l.daysLeft);if(r.length===0)return null;const n=r[0],i=n.daysLeft<=3,a=n.daysLeft<=7;return f.jsx(Fn,{to:"/exams",children:f.jsx("div",{className:ke("rounded-2xl border p-4 card-shadow transition-shadow hover:shadow-md",i?"border-rose-300 bg-gradient-to-r from-rose-50 to-orange-50":a?"border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50":"border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50"),children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:ke("flex flex-col items-center justify-center rounded-2xl px-4 py-2 min-w-[72px] text-center",i?"bg-rose-100":a?"bg-amber-100":"bg-blue-100"),children:[f.jsx("span",{className:ke("text-3xl font-extrabold leading-none",i?"text-rose-700":a?"text-amber-700":"text-blue-700"),children:n.daysLeft}),f.jsxs("span",{className:ke("text-[10px] font-semibold uppercase tracking-wide mt-0.5",i?"text-rose-600":a?"text-amber-600":"text-blue-600"),children:["day",n.daysLeft!==1?"s":""]})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(oG,{size:14,className:ke(i?"text-rose-600":a?"text-amber-600":"text-blue-600")}),f.jsx("p",{className:ke("text-xs font-semibold uppercase tracking-wide",i?"text-rose-600":a?"text-amber-700":"text-blue-600"),children:i?"Exam very soon!":a?"Exam coming up":"Upcoming exam"})]}),f.jsx("p",{className:"mt-0.5 text-base font-bold truncate",children:n.name}),f.jsx("p",{className:ke("text-xs",i?"text-rose-600":a?"text-amber-600":"text-muted-foreground"),children:new Date(n.examDate+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})}),n.subjects.length>0&&f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[n.subjects.length," subject",n.subjects.length!==1?"s":"","  tap to prep"]})]}),r.length>1&&f.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-0.5",children:[f.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",r.length-1]}),f.jsx("span",{className:"text-[10px] text-muted-foreground",children:"more"})]}),f.jsx(wl,{size:16,className:"shrink-0 text-muted-foreground"})]})})})}const ufe=[{key:"present",label:"P",activeBg:"bg-emerald-500",activeRing:"ring-emerald-400"},{key:"absent",label:"A",activeBg:"bg-rose-500",activeRing:"ring-rose-400"},{key:"cancelled",label:"C",activeBg:"bg-amber-400",activeRing:"ring-amber-300"}];function cfe({today:t=[],day:e,mark:r,marking:n}){const i=t.filter(o=>!o.alreadyMarked);if(t.length===0)return f.jsxs("p",{className:"py-4 text-center text-sm text-muted-foreground",children:["No classes scheduled today (",e,")."]});const a=i.length===0;return f.jsxs("div",{className:"space-y-2",children:[a?f.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg bg-emerald-50 px-2.5 py-1.5",children:[f.jsx(s3,{size:13,className:"text-emerald-600 shrink-0"}),f.jsx("p",{className:"text-xs font-semibold text-emerald-700",children:"All classes marked for today!"})]}):f.jsxs("p",{className:"rounded-lg bg-amber-50 px-2.5 py-1.5 text-xs font-semibold text-amber-700",children:[i.length," class",i.length!==1?"es":""," not yet marked"]}),t.map(({subject:o,markedStatus:l,uniqueKey:c,timetableName:d})=>f.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-background px-3 py-2.5",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"text-sm font-medium truncate",children:o.name}),d&&f.jsx("span",{className:"ml-1.5 text-[10px] text-primary/60 font-medium",children:d})]}),f.jsx("div",{className:"flex items-center gap-1.5 shrink-0",children:ufe.map(({key:p,label:m,activeBg:y,activeRing:x})=>{const S=l===p,w=n===o.id;return f.jsx("button",{disabled:w,onClick:()=>r(o.id,p),title:p.charAt(0).toUpperCase()+p.slice(1),className:ke("h-7 w-7 rounded-full text-[11px] font-bold transition-all duration-150 select-none",S?`${y} text-white ring-2 ring-offset-1 ${x} scale-110`:"bg-muted text-muted-foreground hover:bg-muted/80",w&&"opacity-50 cursor-not-allowed"),children:w&&n===o.id?"":m},p)})})]},c??o.id))]})}function dfe({tasks:t,toggle:e,toggleSubtask:r}){const n=new Date,i=t.filter(y=>!y.completed&&y.dueDate&&new Date(y.dueDate)<n),a=t.filter(y=>!y.completed&&y.priority==="high"&&!i.find(x=>x.id===y.id)),o=[...i,...a].slice(0,4),l=t.filter(y=>!y.completed),c=l.length===0,[d,p]=D.useState(new Set);function m(y){p(x=>{const S=new Set(x);return S.has(y)?S.delete(y):S.add(y),S})}return f.jsxs("div",{className:ke("rounded-2xl border p-5 card-shadow",c?"border-emerald-200 bg-emerald-50":i.length>0?"border-rose-200 bg-gradient-to-br from-rose-50 to-orange-50":"border-amber-200 bg-gradient-to-br from-amber-50 to-yellow-50"),children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("div",{className:ke("rounded-xl p-2",c?"bg-emerald-100":i.length>0?"bg-rose-100":"bg-amber-100"),children:c?f.jsx(eS,{size:18,className:"text-emerald-600"}):i.length>0?f.jsx(XH,{size:18,className:"text-rose-600"}):f.jsx(rS,{size:18,className:"text-amber-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-foreground",children:c?"All tasks complete!":"Tasks"}),!c&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length>0&&`${i.length} overdue  `,l.length," pending"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(Fn,{to:"/tasks",className:"flex items-center gap-1 rounded-lg bg-white/70 border border-border px-3 py-1.5 text-xs font-medium text-foreground hover:bg-white transition-colors",children:[f.jsx(dr,{size:11})," Add"]}),f.jsxs(Fn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["All ",f.jsx(tg,{size:11})]})]})]}),c?f.jsx("p",{className:"text-sm text-emerald-700 font-medium text-center py-1",children:"You're all caught up! Great work."}):o.length>0?f.jsxs("div",{className:"space-y-1.5",children:[o.map(y=>{const x=y.dueDate&&new Date(y.dueDate)<n,S=y.subtasks??[],w=d.has(y.id),b=S.filter(T=>T.completed).length;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-white/60 px-3 py-2.5 hover:bg-white/90 transition-colors",children:[f.jsx("button",{onClick:()=>e(y.id,y.completed),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:f.jsx(tS,{size:17})}),f.jsx("button",{className:"flex-1 text-left text-sm font-medium truncate focus:outline-none",onClick:()=>S.length>0&&m(y.id),children:y.title}),S.length>0&&f.jsxs("span",{className:"shrink-0 text-[10px] text-muted-foreground font-medium",children:[b,"/",S.length]}),S.length>0&&f.jsx(wl,{size:13,className:ke("shrink-0 text-muted-foreground transition-transform duration-200",w&&"rotate-90")}),f.jsx("span",{className:ke("shrink-0 rounded-full px-2 py-0.5 text-xs font-semibold",x?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"),children:x?"overdue":"high"})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:w?`${S.length*44+8}px`:"0px"},children:f.jsx("div",{className:"ml-10 mt-1 space-y-0.5 pb-1",children:S.map(T=>f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/50 px-3 py-1.5",children:[f.jsx("button",{onClick:()=>r(y.id,T.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:T.completed?f.jsx(eS,{size:14,className:"text-primary"}):f.jsx(tS,{size:14})}),f.jsx("span",{className:ke("text-xs",T.completed&&"line-through text-muted-foreground"),children:T.title})]},T.id))})})]},y.id)}),l.length>o.length&&f.jsxs(Fn,{to:"/tasks",className:"block text-center text-xs text-muted-foreground hover:text-primary pt-1",children:["+",l.length-o.length," more tasks"]})]}):f.jsxs("p",{className:"text-sm text-muted-foreground px-1",children:[l.length," pending task",l.length!==1?"s":"","  no urgent ones right now."," ",f.jsx(Fn,{to:"/tasks",className:"text-primary underline",children:"View all"})]})]})}function ffe(){const{habits:t,todayLogs:e,toggleToday:r}=HV();if(t.length===0)return null;const n=t.filter(a=>e[a.id]).length,i=n===t.length;return f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[f.jsx(Af,{size:14,className:"text-violet-500"}),"Daily Habits"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[n,"/",t.length," completed today"]})]}),f.jsxs(Fn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Manage ",f.jsx(tg,{size:11})]})]}),i&&f.jsxs("div",{className:"mb-2 flex items-center gap-1.5 rounded-lg bg-violet-50 px-2.5 py-1.5",children:[f.jsx(s3,{size:13,className:"text-violet-600 shrink-0"}),f.jsx("p",{className:"text-xs font-semibold text-violet-700",children:"All habits done for today!"})]}),f.jsx("div",{className:"space-y-1.5",children:t.map(a=>{const o=!!e[a.id];return f.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border bg-background px-3 py-2.5",children:[f.jsx("button",{onClick:()=>r(a.id),className:ke("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all duration-150",o?"bg-violet-500 border-violet-500 text-white scale-105":"border-muted-foreground/40 hover:border-violet-400"),children:o&&f.jsx(xr,{size:12})}),f.jsx("span",{className:ke("flex-1 text-sm truncate",o&&"line-through text-muted-foreground"),children:a.name}),o&&f.jsx("span",{className:"shrink-0 text-[10px] font-semibold text-violet-500",children:"Done "})]},a.id)})})]})}function hfe({quote:t}){return t?f.jsx("div",{className:"rounded-2xl border border-primary/20 bg-gradient-to-r from-primary/5 to-violet-500/5 p-4 card-shadow",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx(p3,{size:18,className:"text-primary/40 shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium leading-relaxed text-foreground italic",children:t.text}),t.author&&f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[" ",t.author]})]})]})}):null}function pfe({count:t,onAccept:e,onDismiss:r}){return f.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 flex items-start gap-3",children:[f.jsx(Ui,{size:18,className:"text-amber-600 shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"text-sm font-semibold text-amber-800",children:[t," completed task",t!==1?"s":""," older than 7 days"]}),f.jsx("p",{className:"text-xs text-amber-700 mt-0.5",children:"Would you like to delete them to keep your task list clean?"}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("button",{onClick:e,className:"rounded-lg bg-amber-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-amber-700 transition-colors",children:"Delete old tasks"}),f.jsx("button",{onClick:r,className:"rounded-lg border border-amber-300 px-3 py-1.5 text-xs font-medium text-amber-700 hover:bg-amber-100 transition-colors",children:"Keep them"})]})]})]})}function mfe(){var V;const{user:t}=fi(),{overall:e,subjects:r=[]}=WV(),{today:n=[],date:i,day:a,mark:o,marking:l}=qV(),{tasks:c=[],toggle:d,toggleSubtask:p}=vv({archived:!1}),{exams:m=[]}=MT(),{timetables:y=[]}=Dh(),{subjects:x=[]}=vs(),S=Fde(),w=c.filter(q=>!q.completed).length,b=r.filter(q=>q.zone==="risk").length,T=m.filter(q=>!q.archived).length,E=n.filter(q=>!q.alreadyMarked).length,[I,N]=D.useState([]),[k,O]=D.useState(!1);D.useEffect(()=>{if(!c.length)return;const q=Date.now()-10080*60*1e3,X=c.filter(te=>{if(!te.completed)return!1;const re=te.completedAt??te.updatedAt??te.createdAt??"";return re&&new Date(re).getTime()<q});if(X.length>0){N(X.map(re=>re.id));const te="sarasva_cleanup_prompted";sessionStorage.getItem(te)||(sessionStorage.setItem(te,"1"),O(!0))}},[c]);async function P(){O(!1);for(const q of I)try{await Va.archive(t.id,q)}catch{}N([])}D.useEffect(()=>{!t||r.length===0||ff.checkAndAlert(t,r,c)},[t,r,c]),D.useEffect(()=>{const X=y.filter(re=>re.active).flatMap(re=>re.slots??[]),te=Object.fromEntries(x.map(re=>[re.id,re.name]));ff.schedulePeriodNotifications(X,re=>te[re])},[y,x]),D.useEffect(()=>{ff.scheduleTaskReminders(c)},[c]);const C=D.useMemo(()=>r.map(q=>({name:q.subject.name.length>10?q.subject.name.slice(0,10)+"":q.subject.name,fullName:q.subject.name,percent:q.percent,present:q.present,total:q.total,zone:q.zone,classesNeededFor75:q.classesNeededFor75})),[r]),R=(e==null?void 0:e.percent)??0,F=(e==null?void 0:e.zone)??"risk",L=new Date().getHours(),$=L<12?"Good morning":L<17?"Good afternoon":"Good evening";return f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[$,", ",f.jsx("span",{className:"font-medium text-foreground",children:(V=t==null?void 0:t.name)==null?void 0:V.split(" ")[0]})]})]}),f.jsx(hfe,{quote:S}),f.jsx(lfe,{exams:m}),k&&I.length>0&&f.jsx(pfe,{count:I.length,onAccept:P,onDismiss:()=>O(!1)}),f.jsx(dfe,{tasks:c,toggle:d,toggleSubtask:p}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[f.jsx(Ef,{size:14,className:"text-primary"}),"Today's Attendance"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a,", ",i]})]}),f.jsxs(Fn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Full view ",f.jsx(tg,{size:11})]})]}),f.jsx(cfe,{today:n,day:a,mark:o,marking:l})]}),f.jsx(ffe,{}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:grid-cols-4",children:[f.jsx(bm,{icon:Ef,label:"Overall Attendance",value:`${R}%`,sub:f.jsx(tF,{zone:F}),iconBg:"bg-blue-50",iconColor:"text-blue-600",to:"/attendance"}),f.jsx(bm,{icon:aG,label:"Subjects at Risk",value:b,sub:b>0?"Need attention":"All safe",iconBg:b>0?"bg-rose-50":"bg-emerald-50",iconColor:b>0?"text-rose-600":"text-emerald-600",to:"/attendance"}),f.jsx(bm,{icon:f3,label:"Pending Tasks",value:w,sub:w>0?`${c.filter(q=>!q.completed&&q.dueDate&&new Date(q.dueDate)<new Date).length} overdue`:"All clear",iconBg:"bg-violet-50",iconColor:"text-violet-600",to:"/tasks"}),f.jsx(bm,{icon:ro,label:"Active Exams",value:T,sub:`${E} class${E!==1?"es":""} unmarked today`,iconBg:"bg-amber-50",iconColor:"text-amber-600",to:"/exams"})]}),f.jsxs("div",{className:"grid gap-4 lg:grid-cols-5",children:[f.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsx("h3",{className:"mb-3 text-sm font-semibold",children:"Overall Attendance"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(ofe,{percent:R,zone:F}),f.jsx("div",{className:"space-y-1.5 text-sm",children:[["Present",(e==null?void 0:e.present)??0],["Total",(e==null?void 0:e.total)??0],["Absent",((e==null?void 0:e.total)??0)-((e==null?void 0:e.present)??0)]].map(([q,X])=>f.jsxs("div",{className:"flex justify-between gap-6",children:[f.jsx("span",{className:"text-muted-foreground",children:q}),f.jsx("span",{className:"font-semibold",children:X})]},q))})]})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Below 75% Alert"}),f.jsxs(Fn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Details ",f.jsx(tg,{size:11})]})]}),f.jsx(sfe,{subjects:r})]})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow lg:col-span-3",children:[f.jsx("h3",{className:"mb-4 text-sm font-semibold",children:"Subject-wise Attendance"}),C.length===0?f.jsx("div",{className:"flex h-48 items-center justify-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking classes."}):f.jsx(UJ,{width:"100%",height:220,children:f.jsxs(Rde,{data:C,margin:{top:4,right:8,left:-20,bottom:0},barSize:28,children:[f.jsx(jV,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),f.jsx(mv,{dataKey:"name",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),f.jsx(gv,{domain:[0,100],tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),f.jsx(cv,{y:75,stroke:"#f59e0b",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:"75%",position:"insideTopRight",fontSize:10,fill:"#f59e0b"}}),f.jsx(ta,{content:f.jsx(afe,{}),cursor:{fill:"hsl(var(--accent))"}}),f.jsx(Ll,{dataKey:"percent",radius:[6,6,0,0],children:C.map((q,X)=>f.jsx(qy,{fill:q.zone==="safe"?"#10b981":"#f43f5e",fillOpacity:.82},X))})]})}),f.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-emerald-500"}),"  75% Safe"]}),f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-rose-500"})," < 75% Risk"]}),f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-0.5 w-5 bg-amber-400",style:{borderTop:"1px dashed #f59e0b"}})," 75% line"]})]})]})]})]})}function ZD({zone:t}){const e=t==="safe";return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-semibold",e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e?f.jsx(NT,{size:12}):f.jsx(CT,{size:12}),e?"SAFE":"RISK"]})}function e4({percent:t}){const e=t>=75;return f.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:f.jsx("div",{className:ke("h-full rounded-full transition-all",e?"bg-green-500":"bg-red-400"),style:{width:`${Math.min(t,100)}%`}})})}function rF({status:t}){if(!t)return null;const e={present:"bg-green-100 text-green-800",absent:"bg-red-100 text-red-800",cancelled:"bg-yellow-100 text-yellow-800",extra:"bg-blue-100 text-blue-800"};return f.jsx("span",{className:ke("rounded-full px-3 py-1 text-xs font-semibold",e[t]??"bg-muted text-muted-foreground"),children:t.toUpperCase()})}function nF({subjectId:t,marking:e,onMark:r,disabled:n}){return f.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{key:"present",label:"Present",cls:"bg-green-600 hover:bg-green-700 text-white"},{key:"absent",label:"Absent",cls:"bg-red-500 hover:bg-red-600 text-white"},{key:"cancelled",label:"Cancelled",cls:"border border-border text-muted-foreground hover:bg-accent"}].map(({key:i,label:a,cls:o})=>f.jsx("button",{disabled:e===t||n,onClick:()=>r(t,i),className:ke("rounded-md px-3 py-1.5 text-xs font-semibold transition-all duration-150 active:scale-95 disabled:opacity-50",o),children:a},i))})}function gfe({date:t,day:e,today:r,marking:n,onMark:i}){if(r.length===0)return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:["No classes scheduled for today (",e,").",f.jsx("br",{}),f.jsx("span",{className:"text-xs",children:"Add a timetable or set one as active to see scheduled subjects."})]});const a=D.useMemo(()=>{const o=new Map;return r.forEach(l=>{const c=l.timetableId??"__none__";o.has(c)||o.set(c,{name:l.timetableName,items:[]}),o.get(c).items.push(l)}),[...o.values()]},[r]);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("div",{className:"border-b border-border px-4 py-3",children:[f.jsx("h3",{className:"font-semibold",children:"Today's Classes"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[e,", ",t]})]}),f.jsx("div",{children:a.map((o,l)=>f.jsxs("div",{className:ke(l>0&&"border-t border-border"),children:[o.name&&f.jsx("div",{className:"px-4 pt-3 pb-1",children:f.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-primary/70 bg-primary/5 rounded-full px-2 py-0.5",children:o.name})}),f.jsx("div",{className:"divide-y divide-border",children:o.items.map(({subject:c,markedStatus:d,alreadyMarked:p,uniqueKey:m,slot:y})=>f.jsxs("div",{className:"flex flex-col gap-2 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium",children:c.name}),(y==null?void 0:y.startTime)&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[y.startTime,"",y.endTime]})]}),p?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(rF,{status:d}),f.jsx("button",{onClick:()=>i(c.id,d==="present"?"absent":"present"),className:"text-[10px] text-muted-foreground hover:text-foreground underline",children:"change"})]}):f.jsx(nF,{subjectId:c.id,marking:n,onMark:i})]},m))})]},l))})]})}function t4(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`}function yfe(t){if(!t||t.length===0)return null;const e={present:0,absent:0,cancelled:0};t.forEach(n=>{e[n.status]!==void 0&&e[n.status]++});const r=Math.max(e.present,e.absent,e.cancelled);return r===0?null:e.present===r?"present":e.absent===r?"absent":"cancelled"}const r4={present:"bg-green-400",absent:"bg-red-400",cancelled:"bg-yellow-400"},vfe={present:"bg-green-50 border-green-200",absent:"bg-red-50 border-red-200",cancelled:"bg-yellow-50 border-yellow-200"};function bfe({allRecords:t,timetables:e,subjects:r,onRetroMark:n}){const i=new Date,[a,o]=D.useState(i.getFullYear()),[l,c]=D.useState(i.getMonth()),[d,p]=D.useState(null),m=D.useMemo(()=>{const T={};return t.forEach(E=>{T[E.date]||(T[E.date]=[]),T[E.date].push(E)}),T},[t]),y=D.useMemo(()=>{const T=new Date(a,l,1),E=new Date(a,l+1,0),I=(T.getDay()+6)%7,N=[];for(let k=0;k<I;k++)N.push(null);for(let k=1;k<=E.getDate();k++)N.push(new Date(a,l,k));for(;N.length%7!==0;)N.push(null);return N},[a,l]);function x(){l===0?(o(T=>T-1),c(11)):c(T=>T-1),p(null)}function S(){l===11?(o(T=>T+1),c(0)):c(T=>T+1),p(null)}const w=new Date(a,l,1).toLocaleDateString("en-IN",{month:"long",year:"numeric"}),b=t4(i);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Monthly Calendar"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:x,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(l3,{size:15})}),f.jsx("span",{className:"text-sm font-medium min-w-[130px] text-center",children:w}),f.jsx("button",{onClick:S,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(wl,{size:15})})]})]}),f.jsx("div",{className:"grid grid-cols-7 border-b border-border",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(T=>f.jsx("div",{className:"py-2 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:T},T))}),f.jsx("div",{className:"grid grid-cols-7",children:y.map((T,E)=>{if(!T)return f.jsx("div",{className:"aspect-square"},E);const I=t4(T),N=m[I],k=yfe(N),O=I===b,P=I===d,C=I>b;return f.jsxs("button",{disabled:C,onClick:()=>p(P?null:I),className:ke("aspect-square flex flex-col items-center justify-center gap-0.5 text-xs transition-all duration-150 border border-transparent",C?"opacity-30 cursor-default":"cursor-pointer hover:bg-accent active:scale-95",P&&"ring-2 ring-primary ring-inset",O&&!P&&"font-bold text-primary",k&&!P&&vfe[k]),children:[f.jsx("span",{className:ke("text-xs",O&&"underline underline-offset-2"),children:T.getDate()}),k&&f.jsx("span",{className:ke("h-1.5 w-1.5 rounded-full",r4[k])})]},I)})}),f.jsx("div",{className:"flex items-center gap-3 px-4 py-2 border-t border-border text-xs text-muted-foreground",children:[["present","green","Present"],["absent","red","Absent"],["cancelled","yellow","Cancelled"]].map(([T,E,I])=>f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:ke("h-2 w-2 rounded-full",r4[T])})," ",I]},T))}),d&&f.jsx(xfe,{date:d,timetables:e,subjects:r,existingRecords:m[d]??[],onMark:n,onClose:()=>p(null)})]})}function xfe({date:t,timetables:e,subjects:r,existingRecords:n,onMark:i,onClose:a}){const[o,l]=D.useState(null),[c,d]=D.useState(null),p=new Date(t+"T12:00:00"),m=EE[p.getDay()],y=p.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),x=e.filter(E=>E.active&&!E.archived&&(!E.startDate||E.startDate<=t)),S=x.find(E=>E.id===o)??x[0]??null,w=D.useMemo(()=>S?(S.slots??[]).filter(I=>I.day===m).sort((I,N)=>(I.startTime??"").localeCompare(N.startTime??"")).map(I=>{const N=r.find(k=>k.id===I.subjectId);return N?{subject:N,slot:I}:null}).filter(Boolean):r.map(I=>({subject:I,slot:null})),[S,m,r]),b=D.useMemo(()=>{const E={};return n.forEach(I=>{E[I.subjectId]=I.status}),E},[n]);async function T(E,I){d(E);try{await i(E,I,t)}finally{d(null)}}return f.jsxs("div",{className:"border-t border-border bg-muted/30 p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold",children:y}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Mark attendance for this date"})]}),f.jsx("button",{onClick:a,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(on,{size:15})})]}),x.length>1&&f.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[f.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"Timetable:"}),x.map(E=>{var I;return f.jsx("button",{onClick:()=>l(E.id),className:ke("rounded-full px-2.5 py-1 text-xs font-medium transition-colors",(o??((I=x[0])==null?void 0:I.id))===E.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"),children:E.name},E.id)})]}),w.length===0?f.jsxs("p",{className:"text-sm text-muted-foreground text-center py-3",children:["No classes scheduled for ",m," in this timetable."]}):f.jsx("div",{className:"space-y-2",children:w.map(({subject:E,slot:I})=>{const N=b[E.id];return f.jsxs("div",{className:"flex flex-col gap-1.5 rounded-lg border border-border bg-background px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium",children:E.name}),(I==null?void 0:I.startTime)&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[I.startTime,"",I.endTime]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[N&&f.jsx(rF,{status:N}),f.jsx(nF,{subjectId:E.id,marking:c,onMark:T})]})]},E.id)})})]})}function wfe({overall:t,subjects:e}){return e.length===0?f.jsx("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking your classes above."}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(uG,{size:16,className:"text-muted-foreground"}),f.jsx("span",{className:"text-sm font-semibold",children:"Overall Attendance"})]}),f.jsx(ZD,{zone:t.zone})]}),f.jsx(e4,{percent:t.percent}),f.jsxs("p",{className:"mt-1.5 text-xs text-muted-foreground",children:[t.present," present / ",t.total," total  ",t.percent,"%"]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:[f.jsx("div",{className:"px-4 py-2.5",children:f.jsx("h3",{className:"text-sm font-semibold",children:"Subject-wise Intelligence"})}),e.map(({subject:r,percent:n,present:i,total:a,zone:o,classesNeededFor75:l})=>f.jsxs("div",{className:"px-4 py-3 space-y-1.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:r.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-semibold",children:[n,"%"]}),f.jsx(ZD,{zone:o})]})]}),f.jsx(e4,{percent:n}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[f.jsxs("span",{children:[i," present / ",a," total"]}),o==="risk"&&l>0&&f.jsxs("span",{className:"font-medium text-red-600",children:["Need ",l," consecutive present class",l!==1?"es":""," to reach 75%"]}),o==="safe"&&f.jsx("span",{className:"font-medium text-green-600",children:"On track"})]})]},r.id))]})]})}function _fe(){const{user:t}=Bn(),{date:e,day:r,today:n,error:i,marking:a,mark:o}=qV(),{overall:l,subjects:c,refresh:d}=WV(),{records:p}=Vde(),{timetables:m}=Dh(),{subjects:y}=vs({archived:!1});function x(w,b){o(w,b),setTimeout(d,50)}async function S(w,b,T){t&&(await BV.mark(t.id,{subjectId:w,status:b,date:T}),setTimeout(d,50))}return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ef,{size:24,className:"text-primary"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Attendance"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark today's classes and track your progress."})]})]}),i&&f.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:i}),f.jsx(gfe,{date:e,day:r,today:n??[],marking:a,onMark:x}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Monthly View"}),f.jsx(bfe,{allRecords:p,timetables:m,subjects:y,onRetroMark:S})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Attendance Intelligence"}),f.jsx(wfe,{overall:l??{percent:0,present:0,total:0,zone:"risk"},subjects:c??[]})]})]})}const UA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function Sfe({timetableId:t,subjects:e,onAdd:r}){const[n,i]=D.useState({day:"Monday",subjectId:"",startTime:"09:00",endTime:"10:00"}),[a,o]=D.useState("");function l(d,p){i(m=>({...m,[d]:p}))}function c(d){if(d.preventDefault(),!n.subjectId){o("Select a subject.");return}if(n.startTime>=n.endTime){o("End time must be after start time.");return}r(t,n),i(p=>({...p,subjectId:""})),o("")}return f.jsxs("form",{onSubmit:c,className:"space-y-2 rounded-lg bg-muted/50 p-3",children:[f.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Add slot"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[f.jsx("select",{value:n.day,onChange:d=>l("day",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:UA.map(d=>f.jsx("option",{children:d},d))}),f.jsxs("select",{value:n.subjectId,onChange:d=>l("subjectId",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[f.jsx("option",{value:"",children:" Subject "}),e.map(d=>f.jsx("option",{value:d.id,children:d.name},d.id))]}),f.jsx("input",{type:"time",value:n.startTime,onChange:d=>l("startTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"time",value:n.endTime,onChange:d=>l("endTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),a&&f.jsx("p",{className:"text-xs text-destructive",children:a}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[f.jsx(dr,{size:13})," Add slot"]})]})}function Efe({slot:t,subjects:e,onDelete:r}){const n=e.find(i=>i.id===t.subjectId);return f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-1 py-2 last:border-0",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("span",{className:"w-24 font-medium text-muted-foreground",children:t.day}),f.jsx("span",{className:"font-medium",children:(n==null?void 0:n.name)??"Unknown"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.startTime,"  ",t.endTime]})]}),f.jsx("button",{onClick:()=>r(t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Remove slot",children:f.jsx(Ui,{size:14})})]})}function Tfe({slots:t,subjects:e}){if(t.length===0)return f.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots yet. Add some below."});const r=UA.filter(i=>t.some(a=>a.day===i)),n=[...new Set(t.map(i=>`${i.startTime??""}${i.endTime??""}`))].sort();return f.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-border bg-muted/50",children:[f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-muted-foreground w-24",children:"Time"}),r.map(i=>f.jsx("th",{className:"px-3 py-2 text-center font-semibold text-muted-foreground",children:i.slice(0,3)},i))]})}),f.jsx("tbody",{children:n.map(i=>{const[a,o]=i.split("");return f.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30",children:[f.jsxs("td",{className:"px-3 py-2 text-muted-foreground font-mono whitespace-nowrap",children:[a,f.jsx("br",{}),f.jsx("span",{className:"text-[10px]",children:o})]}),r.map(l=>{const c=t.find(p=>p.day===l&&`${p.startTime??""}${p.endTime??""}`===i),d=c?e.find(p=>p.id===c.subjectId):null;return f.jsx("td",{className:"px-3 py-2 text-center",children:d?f.jsx("span",{className:"inline-block rounded-md bg-primary/10 px-1.5 py-0.5 text-[11px] font-medium text-primary",children:d.name}):f.jsx("span",{className:"text-muted-foreground/30",children:""})},l)})]},i)})})]})})}function Afe({tt:t,subjects:e,onActivate:r,onArchive:n,onAddSlot:i,onDeleteSlot:a}){const[o,l]=D.useState(!1),[c,d]=D.useState("list");return f.jsxs("div",{className:ke("overflow-hidden rounded-xl border bg-card transition-all",t.active?"border-primary shadow-sm":"border-border"),children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-semibold",children:t.name}),t.active&&f.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary",children:"Active"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.slots.length," slot",t.slots.length!==1?"s":""]}),t.startDate&&f.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(o3,{size:11}),"From ",new Date(t.startDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>r(t.id),className:ke("flex items-center gap-1 rounded-md px-2.5 py-1.5 text-xs font-medium transition-colors",t.active?"text-amber-600 hover:bg-amber-50":"text-primary hover:bg-primary/10"),children:t.active?f.jsxs(f.Fragment,{children:[f.jsx(pG,{size:13})," Deactivate"]}):f.jsxs(f.Fragment,{children:[f.jsx(mG,{size:13})," Activate"]})}),f.jsx("button",{onClick:()=>n(t.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive",children:f.jsx(Ui,{size:15})}),f.jsx("button",{onClick:()=>l(p=>!p),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",children:o?f.jsx(Nl,{size:15}):f.jsx(Cl,{size:15})})]})]}),o&&f.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[t.slots.length>0&&f.jsxs("div",{className:"flex gap-1 self-start overflow-hidden rounded-lg border border-border text-xs",children:[f.jsxs("button",{onClick:()=>d("list"),className:ke("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[f.jsx(h3,{size:12})," List"]}),f.jsxs("button",{onClick:()=>d("table"),className:ke("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="table"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[f.jsx(YH,{size:12})," Table"]})]}),t.slots.length===0?f.jsx("p",{className:"text-sm text-muted-foreground",children:"No slots yet."}):c==="table"?f.jsx(Tfe,{slots:t.slots,subjects:e}):UA.map(p=>{const m=t.slots.filter(y=>y.day===p).sort((y,x)=>(y.startTime??"").localeCompare(x.startTime??""));return m.length>0?f.jsxs("div",{children:[f.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:p}),m.map(y=>f.jsx(Efe,{slot:y,subjects:e,onDelete:x=>a(t.id,x)},y.id))]},p):null}),f.jsx(Sfe,{timetableId:t.id,subjects:e,onAdd:i})]})]})}function Pfe(){const{timetables:t,create:e,activate:r,archive:n,addSlot:i,deleteSlot:a}=Dh(),{subjects:o}=vs({archived:!1}),[l,c]=D.useState(""),[d,p]=D.useState("");function m(w){w.preventDefault();const b=l.trim();b&&(e({name:b,startDate:d||null}),c(""),p(""))}function y(w){confirm("Archive this timetable?")&&n(w)}const x=t.filter(w=>!w.archived),S=x.filter(w=>w.active).length;return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Timetable"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Create timetables and add class slots. Up to 2 timetables can be active at once."})]}),S>=2&&f.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-2 text-sm text-amber-800",children:"2 timetables are active. Activating another will deactivate the oldest one."}),o.length===0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",f.jsx("strong",{children:"Subjects"})," page before creating slots."]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsx("p",{className:"mb-3 text-sm font-semibold",children:"New Timetable"}),f.jsxs("form",{onSubmit:m,className:"space-y-2",children:[f.jsx("input",{value:l,onChange:w=>c(w.target.value),placeholder:'e.g. "Sem 4 Regular"',className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[f.jsx(o3,{size:11})," Start date (optional)"]}),f.jsx("input",{type:"date",value:d,onChange:w=>p(w.target.value),className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 self-end",children:[f.jsx(dr,{size:15})," Create"]})]}),f.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Start date prevents the timetable from applying to dates before it was activated."})]})]}),x.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[f.jsx(Ah,{size:36,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No timetables yet."})]}):f.jsx("div",{className:"space-y-3",children:x.map(w=>f.jsx(Afe,{tt:w,subjects:o,onActivate:r,onArchive:y,onAddSlot:i,onDeleteSlot:a},w.id))})]})}function jfe({subject:t,onAdd:e,onUpdate:r,onDelete:n}){const[i,a]=D.useState(""),[o,l]=D.useState(null),[c,d]=D.useState(""),[p,m]=D.useState(!1),y=t.chapters??[];function x(b){b.preventDefault();const T=i.trim();T&&(e(t.id,T),a(""),m(!1))}function S(b){l(b.id),d(b.name)}function w(){const b=c.trim();b&&r(t.id,o,b),l(null)}return f.jsxs("div",{className:"border-t border-border bg-muted/30 px-4 pb-3 pt-2 space-y-2",children:[y.length===0?f.jsx("p",{className:"text-xs text-muted-foreground py-1",children:"No chapters added yet."}):f.jsx("div",{className:"space-y-1",children:y.map((b,T)=>o===b.id?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-muted-foreground w-5 text-right",children:[T+1,"."]}),f.jsx("input",{autoFocus:!0,value:c,onChange:E=>d(E.target.value),onKeyDown:E=>{E.key==="Enter"&&w(),E.key==="Escape"&&l(null)},className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{onClick:w,className:"rounded p-1 text-green-600 hover:bg-green-50",children:f.jsx(xr,{size:14})}),f.jsx("button",{onClick:()=>l(null),className:"rounded p-1 text-muted-foreground hover:bg-accent",children:f.jsx(on,{size:14})})]},b.id):f.jsxs("div",{className:"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-accent/40 transition-colors group",children:[f.jsxs("span",{className:"text-xs text-muted-foreground w-5 text-right",children:[T+1,"."]}),f.jsx("span",{className:"flex-1 text-sm",children:b.name}),f.jsx("button",{onClick:()=>S(b),className:"rounded p-1 text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-accent hover:text-foreground transition-all",children:f.jsx(ky,{size:12})}),f.jsx("button",{onClick:()=>n(t.id,b.id),className:"rounded p-1 text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",children:f.jsx(Ui,{size:12})})]},b.id))}),p?f.jsxs("form",{onSubmit:x,className:"flex items-center gap-2",children:[f.jsx("input",{autoFocus:!0,value:i,onChange:b=>a(b.target.value),placeholder:"Chapter name",className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",className:"rounded-md bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground hover:opacity-90",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>m(!1),className:"rounded-md border border-border px-2 py-1 text-xs text-muted-foreground hover:bg-accent",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-2.5 py-1 text-xs text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(dr,{size:12})," Add chapter"]})]})}function kfe(){const{subjects:t,create:e,update:r,archive:n,addChapter:i,updateChapter:a,deleteChapter:o}=vs({archived:!1}),[l,c]=D.useState(""),[d,p]=D.useState(null),[m,y]=D.useState(""),[x,S]=D.useState(new Set),[w,b]=D.useState("");function T(P){P.preventDefault();const C=l.trim();if(C){if(t.find(R=>R.name.toLowerCase()===C.toLowerCase())){b("A subject with this name already exists.");return}e(C),c(""),b("")}}function E(P){p(P.id),y(P.name)}function I(P){const C=m.trim();if(!C){N();return}r(P,{name:C}),p(null)}function N(){p(null),y("")}function k(P){confirm("Archive this subject? It won't appear in attendance or timetable.")&&n(P)}function O(P){S(C=>{const R=new Set(C);return R.has(P)?R.delete(P):R.add(P),R})}return f.jsxs("div",{className:"mx-auto max-w-xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Subjects"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subjects and their chapters. Chapters are used in exam prep."})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("form",{onSubmit:T,className:"flex gap-2",children:[f.jsx("input",{value:l,onChange:P=>{c(P.target.value),b("")},placeholder:"Subject name (e.g. Mathematics)",className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(dr,{size:15})," Add"]})]}),w&&f.jsx("p",{className:"mt-2 text-xs text-destructive",children:w})]}),f.jsx("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:t.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-muted-foreground",children:[f.jsx(KH,{size:32,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No subjects yet. Add one above."})]}):t.map(P=>{const C=P.chapters??[],R=x.has(P.id),F=d===P.id;return f.jsxs("div",{className:"transition-colors",children:[F?f.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[f.jsx("input",{autoFocus:!0,value:m,onChange:L=>y(L.target.value),onKeyDown:L=>{L.key==="Enter"&&I(P.id),L.key==="Escape"&&N()},className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background"}),f.jsx("button",{onClick:()=>I(P.id),className:"rounded-md p-1.5 text-green-600 hover:bg-green-50",title:"Save",children:f.jsx(xr,{size:16})}),f.jsx("button",{onClick:N,className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",title:"Cancel",children:f.jsx(on,{size:16})})]}):f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 hover:bg-accent/40 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("span",{className:"text-sm font-medium truncate",children:P.name}),C.length>0&&f.jsxs("span",{className:"flex items-center gap-0.5 rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:[f.jsx(h3,{size:9})," ",C.length]})]}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:()=>O(P.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:R?"Collapse chapters":"Manage chapters",children:R?f.jsx(Nl,{size:15}):f.jsx(Cl,{size:15})}),f.jsx("button",{onClick:()=>E(P),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:"Rename",children:f.jsx(ky,{size:15})}),f.jsx("button",{onClick:()=>k(P.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive",children:f.jsx(Ui,{size:15})})]})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:R?`${(C.length+2)*44+80}px`:"0px"},children:R&&f.jsx(jfe,{subject:P,onAdd:i,onUpdate:a,onDelete:o})})]},P.id)})}),t.length>0&&f.jsxs("p",{className:"text-right text-xs text-muted-foreground",children:[t.length," subject",t.length!==1?"s":""]})]})}function Ife({value:t,color:e="bg-primary"}){return f.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:f.jsx("div",{className:ke("h-full rounded-full transition-all duration-500",e),style:{width:`${t}%`}})})}function iF({value:t,placeholder:e,onSave:r,buttonLabel:n}){const[i,a]=D.useState(!1),[o,l]=D.useState(t??"");function c(){r(o.trim()),a(!1)}function d(){l(t??""),a(!1)}return i?f.jsxs("div",{className:"flex gap-1 items-start",children:[f.jsx("textarea",{autoFocus:!0,value:o,onChange:p=>l(p.target.value),rows:2,placeholder:e,className:"flex-1 resize-none rounded-md border border-input bg-background px-2 py-1.5 text-xs outline-none focus:ring-2 focus:ring-ring"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("button",{onClick:c,className:"rounded p-1 text-green-600 hover:bg-green-50 transition-colors",children:f.jsx(xr,{size:13})}),f.jsx("button",{onClick:d,className:"rounded p-1 text-muted-foreground hover:bg-accent transition-colors",children:f.jsx(on,{size:13})})]})]}):t?f.jsx("p",{className:"text-xs text-amber-800 italic leading-snug cursor-pointer hover:text-amber-900 bg-amber-50 border border-amber-100 rounded px-2 py-1.5",onClick:()=>{l(t),a(!0)},children:t}):f.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 text-[11px] text-muted-foreground/50 hover:text-muted-foreground transition-colors",children:[f.jsx(Iy,{size:11})," ",n]})}function Cfe({chapter:t,examId:e,subjectId:r,onUpdate:n,onDelete:i}){function a(){n(e,r,t.id,{theoryDone:!t.theoryDone})}function o(){n(e,r,t.id,{practiceCount:(t.practiceCount??0)+1})}const l=t.theoryDone&&(t.practiceCount??0)>0;return f.jsxs("div",{className:ke("rounded-lg border p-3 space-y-2 transition-colors",l?"border-green-200 bg-green-50/40":"border-border bg-background"),children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("span",{className:ke("text-sm font-medium flex-1 leading-snug",l&&"text-green-800"),children:[l&&f.jsx(xr,{size:11,className:"inline mr-1 text-green-600"}),t.name]}),f.jsx("button",{onClick:()=>i(e,r,t.id),className:"rounded p-0.5 text-muted-foreground/30 hover:text-destructive hover:bg-destructive/5 transition-colors shrink-0",children:f.jsx(Ui,{size:12})})]}),f.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[f.jsxs("button",{onClick:a,className:ke("flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium border transition-all",t.theoryDone?"border-blue-200 bg-blue-50 text-blue-700":"border-border text-muted-foreground hover:border-blue-200 hover:bg-blue-50 hover:text-blue-600"),children:[t.theoryDone?f.jsx(xr,{size:11}):f.jsx(ro,{size:11}),t.theoryDone?"Studied":"Mark Studied"]}),f.jsxs("button",{onClick:o,className:ke("flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium border transition-all",(t.practiceCount??0)>0?"border-violet-200 bg-violet-50 text-violet-700":"border-border text-muted-foreground hover:border-violet-200 hover:bg-violet-50 hover:text-violet-600"),children:[f.jsx(dr,{size:11}),"Practice",(t.practiceCount??0)>0?` (${t.practiceCount}x)`:""]})]}),f.jsx(iF,{value:t.notes,placeholder:"Add a note about where you left off",onSave:c=>n(e,r,t.id,{notes:c}),buttonLabel:"+ Note"})]})}function Nfe({examId:t,subjectId:e,onAdd:r}){const[n,i]=D.useState(!1),[a,o]=D.useState("");function l(c){c.preventDefault(),a.trim()&&(r(t,e,{name:a.trim()}),o(""),i(!1))}return n?f.jsxs("form",{onSubmit:l,className:"flex gap-2",children:[f.jsx("input",{autoFocus:!0,value:a,onChange:c=>o(c.target.value),placeholder:"Chapter name",className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{i(!1),o("")},className:"rounded-md border border-border px-2 py-1.5 text-xs text-muted-foreground hover:bg-accent transition-colors",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-3 py-1.5 text-xs text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(dr,{size:13})," Add chapter"]})}function Ofe({subjectName:t,onConfirm:e,onClose:r}){const[n,i]=D.useState(7),a=[3,7,14,21,30];return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:f.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-border bg-card p-6 shadow-xl space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"rounded-xl bg-violet-100 p-2",children:f.jsx(Af,{size:18,className:"text-violet-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Schedule a Review"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[t,"  all chapters done!"]})]})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"When should we remind you to revise?"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(o=>f.jsxs("button",{onClick:()=>i(o),className:ke("rounded-full px-3 py-1.5 text-xs font-medium transition-all",n===o?"bg-violet-600 text-white":"bg-muted text-muted-foreground hover:bg-accent"),children:[o," days"]},o))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>e(n),className:"flex-1 flex items-center justify-center gap-1.5 rounded-lg bg-violet-600 py-2 text-sm font-medium text-white hover:bg-violet-700 transition-colors",children:[f.jsx(Z1,{size:14})," Remind me in ",n," days"]}),f.jsx("button",{onClick:r,className:"rounded-lg border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-accent transition-colors",children:"Skip"})]})]})})}function Rfe({examSubject:t,allSubjects:e,examId:r,isFirst:n,isLast:i,onRemoveSubject:a,onAddChapter:o,onUpdateChapter:l,onDeleteChapter:c,onMoveSubject:d,onSetDueDate:p,onAddRepeatReminder:m,onSetSubjectNotes:y}){const x=e.find(F=>F.id===t.subjectId),S=(x==null?void 0:x.name)??"Unknown",[w,b]=D.useState(!1),[T,E]=D.useState(!1),[I,N]=D.useState(t.dueDate??""),{theoryProgress:k,practiceProgress:O,overallProgress:P,allDone:C}=t;function R(){p(r,t.subjectId,I),E(!1)}return f.jsxs(f.Fragment,{children:[w&&f.jsx(Ofe,{subjectName:S,onConfirm:F=>{m(S,F),b(!1)},onClose:()=>b(!1)}),f.jsxs("div",{className:"space-y-3 rounded-xl border border-border bg-card/50 p-4 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-0.5 shrink-0",children:[f.jsx("button",{onClick:()=>d(r,t.subjectId,"up"),disabled:n,className:"rounded p-0.5 text-muted-foreground hover:bg-accent hover:text-foreground disabled:opacity-20 transition-colors",children:f.jsx(WH,{size:13})}),f.jsx("button",{onClick:()=>d(r,t.subjectId,"down"),disabled:i,className:"rounded p-0.5 text-muted-foreground hover:bg-accent hover:text-foreground disabled:opacity-20 transition-colors",children:f.jsx(qH,{size:13})})]}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("h4",{className:"text-sm font-semibold",children:S}),C&&f.jsx("span",{className:"rounded-full bg-green-100 px-2 py-0.5 text-[10px] font-semibold text-green-700",children:"Complete"}),t.dueDate&&!C&&f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-semibold text-amber-800",children:[f.jsx(ca,{size:9}),"Due ",new Date(t.dueDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:()=>E(F=>!F),title:"Study deadline",className:"rounded p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:f.jsx(ca,{size:13})}),C&&f.jsx("button",{onClick:()=>b(!0),title:"Schedule revision",className:"rounded p-1 text-violet-500 hover:bg-violet-50 transition-colors",children:f.jsx(Af,{size:13})}),f.jsx("button",{onClick:()=>a(r,t.subjectId),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(on,{size:14})})]})]}),T&&f.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-2",children:[f.jsx(ca,{size:13,className:"text-muted-foreground shrink-0"}),f.jsx("input",{type:"date",value:I,onChange:F=>N(F.target.value),className:"flex-1 bg-transparent text-sm outline-none"}),f.jsx("button",{onClick:R,className:"rounded-md bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground hover:opacity-90",children:"Set"}),f.jsx("button",{onClick:()=>{N(""),p(r,t.subjectId,""),E(!1)},className:"text-xs text-destructive hover:underline",children:"Clear"})]}),t.chapters.length>0&&f.jsx("div",{className:"space-y-2 rounded-lg bg-muted/30 px-3 py-2.5",children:[{label:"Theory",value:k,color:"bg-blue-400"},{label:"Practice",value:O,color:"bg-violet-400"},{label:"Overall",value:P,color:P>=100?"bg-green-500":P>=60?"bg-amber-400":"bg-primary"}].map(({label:F,value:L,color:$})=>f.jsxs("div",{className:"space-y-0.5",children:[f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[f.jsx("span",{children:F}),f.jsxs("span",{className:ke("font-semibold",F==="Overall"&&L>=100&&"text-green-700"),children:[L,"%"]})]}),f.jsx(Ife,{value:L,color:$})]},F))}),f.jsx(iF,{value:t.notes,placeholder:"Add a study note for this subject",onSave:F=>y(r,t.subjectId,F),buttonLabel:"+ Subject note"}),f.jsxs("div",{className:"space-y-2",children:[t.chapters.length===0?f.jsx("p",{className:"text-xs text-muted-foreground",children:"No chapters yet. Add one below."}):t.chapters.map(F=>f.jsx(Cfe,{chapter:F,examId:r,subjectId:t.subjectId,onUpdate:l,onDelete:c},F.id)),f.jsx(Nfe,{examId:r,subjectId:t.subjectId,onAdd:o})]}),C&&f.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-violet-200 bg-violet-50 px-3 py-2",children:[f.jsx(Af,{size:13,className:"text-violet-600 shrink-0"}),f.jsx("p",{className:"flex-1 text-xs text-violet-800 font-medium",children:"All chapters complete! Schedule a revision?"}),f.jsx("button",{onClick:()=>b(!0),className:"rounded-md bg-violet-600 px-2.5 py-1 text-xs font-medium text-white hover:bg-violet-700 transition-colors",children:"Remind me"})]})]})]})}function Mfe({exam:t,allSubjects:e,onArchive:r,onAddSubject:n,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:l,onMoveSubject:c,onSetDueDate:d,onUpdate:p,onAddRepeatReminder:m,onSetSubjectNotes:y}){var V;const[x,S]=D.useState(!1),[w,b]=D.useState(""),[T,E]=D.useState(!1),[I,N]=D.useState(t.name),[k,O]=D.useState(t.examDate??""),P=t.subjects.map(q=>q.subjectId),C=e.filter(q=>!P.includes(q.id)),R=t.examDate?Math.ceil((new Date(t.examDate+"T12:00:00")-new Date)/864e5):null;function F(){if(!w)return;const q=e.find(X=>X.id===w);n(t.id,w,(q==null?void 0:q.chapters)??[]),b("")}function L(){I.trim()&&p(t.id,{name:I.trim(),examDate:k||null}),E(!1)}const $=t.subjects.flatMap(q=>(q.chapters??[]).filter(X=>!X.theoryDone).map(X=>{var te;return{subject:((te=e.find(re=>re.id===q.subjectId))==null?void 0:te.name)??"Unknown",chapter:X.name}})).slice(0,5);return f.jsxs("div",{className:ke("overflow-hidden rounded-xl border bg-card transition-shadow hover:shadow-sm",R!==null&&R<=3?"border-rose-300":R!==null&&R<=7?"border-amber-200":"border-border"),children:[T?f.jsxs("div",{className:"space-y-2 border-b border-border px-4 py-3",children:[f.jsx("input",{autoFocus:!0,value:I,onChange:q=>N(q.target.value),placeholder:"Exam name",className:"w-full rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("label",{className:"text-xs text-muted-foreground whitespace-nowrap flex items-center gap-1",children:[f.jsx(ca,{size:12})," Exam Date:"]}),f.jsx("input",{type:"date",value:k,onChange:q=>O(q.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:L,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[f.jsx(xr,{size:12})," Save"]}),f.jsx("button",{onClick:()=>E(!1),className:"rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent",children:"Cancel"})]})]}):f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-semibold",children:t.name}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.subjects.length," subject",t.subjects.length!==1?"s":""]}),t.examDate&&f.jsxs("span",{className:ke("flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",R!==null&&R<=3?"bg-rose-100 text-rose-700":R!==null&&R<=7?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"),children:[f.jsx(ca,{size:9}),new Date(t.examDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"}),R!==null&&R>=0&&`  ${R}d`,R!==null&&R<0&&"  past"]})]})}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>{N(t.name),O(t.examDate??""),E(!0)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:"Edit",children:f.jsx(ky,{size:14})}),f.jsx("button",{onClick:()=>{confirm("Archive this exam?")&&r(t.id)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive",children:f.jsx(Ui,{size:15})}),f.jsx("button",{onClick:()=>S(q=>!q),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent transition-colors",children:x?f.jsx(Nl,{size:15}):f.jsx(Cl,{size:15})})]})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-500 ease-in-out",style:{maxHeight:x?"99999px":"0px"},children:f.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[$.length>0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[f.jsxs("div",{className:"mb-2 flex items-center gap-1.5 text-xs font-semibold text-amber-800",children:[f.jsx(cG,{size:13})," Not Yet Studied"]}),f.jsx("ul",{className:"space-y-1",children:$.map((q,X)=>f.jsxs("li",{className:"text-xs text-amber-900",children:[f.jsx("span",{className:"font-medium",children:q.subject}),"  ",q.chapter]},X))})]}),C.length>0&&f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:w,onChange:q=>b(q.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[f.jsx("option",{value:"",children:" Add a subject "}),C.map(q=>f.jsxs("option",{value:q.id,children:[q.name,(q.chapters??[]).length>0?` (${q.chapters.length} chapters)`:""]},q.id))]}),f.jsxs("button",{onClick:F,disabled:!w,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 disabled:opacity-40 transition-opacity",children:[f.jsx(dr,{size:13})," Add"]})]}),w&&(((V=e.find(q=>q.id===w))==null?void 0:V.chapters)??[]).length>0&&f.jsx("p",{className:"text-xs text-primary",children:"Chapters will be auto-imported."})]}),t.subjects.length===0?f.jsx("p",{className:"text-sm text-muted-foreground",children:"No subjects added yet."}):t.subjects.map((q,X)=>f.jsx(Rfe,{examSubject:q,allSubjects:e,examId:t.id,isFirst:X===0,isLast:X===t.subjects.length-1,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:l,onMoveSubject:c,onSetDueDate:d,onAddRepeatReminder:m,onSetSubjectNotes:y},q.subjectId))]})})]})}function Dfe(){const{exams:t,create:e,archive:r,update:n,addSubject:i,removeSubject:a,moveSubject:o,setSubjectDueDate:l,setSubjectNotes:c,addChapter:d,updateChapter:p,deleteChapter:m}=MT(),{subjects:y}=vs({archived:!1}),{create:x}=vv({archived:!1}),[S,w]=D.useState(""),[b,T]=D.useState(""),[E,I]=D.useState(!1);function N(P){P.preventDefault();const C=S.trim();C&&(e({name:C,examDate:b||null}),w(""),T(""),I(!1))}async function k(P,C){const R=new Date;R.setDate(R.getDate()+C);const F=$=>String($).padStart(2,"0"),L=`${R.getFullYear()}-${F(R.getMonth()+1)}-${F(R.getDate())}`;try{await x({title:`Revise: ${P}`,description:`Spaced repetition review  ${C} days after completing ${P}`,dueDate:L,priority:"medium"})}catch{}}const O=t.filter(P=>!P.archived);return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Exam Preparation"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Track chapter-by-chapter study progress. Arrange subjects in your study order."})]}),y.length===0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",f.jsx("strong",{children:"Subjects"})," page  chapters will be auto-imported here."]}),E?f.jsx("div",{className:"rounded-xl border border-border bg-card p-4",children:f.jsxs("form",{onSubmit:N,className:"space-y-3",children:[f.jsx("input",{autoFocus:!0,value:S,onChange:P=>w(P.target.value),placeholder:'Exam name (e.g. "Mid Sem 1")',className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("label",{className:"text-xs text-muted-foreground whitespace-nowrap flex items-center gap-1",children:[f.jsx(ca,{size:12})," Exam Date (optional):"]}),f.jsx("input",{type:"date",value:b,onChange:P=>T(P.target.value),className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(dr,{size:15})," Create"]}),f.jsx("button",{type:"button",onClick:()=>I(!1),className:"rounded-md border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-accent transition-colors",children:"Cancel"})]})]})}):f.jsxs("button",{onClick:()=>I(!0),className:"flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-border py-3 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(dr,{size:15})," Create New Exam"]}),O.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[f.jsx(ro,{size:36,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No exams yet. Create one above."})]}):f.jsx("div",{className:"space-y-3",children:O.map(P=>f.jsx(Mfe,{exam:P,allSubjects:y,onArchive:r,onUpdate:(C,R)=>n(C,R),onAddSubject:i,onRemoveSubject:a,onAddChapter:d,onUpdateChapter:p,onDeleteChapter:m,onMoveSubject:o,onSetDueDate:l,onAddRepeatReminder:k,onSetSubjectNotes:c},P.id))})]})}const aF=["low","medium","high"];function Lfe({priority:t}){return f.jsx("span",{className:ke("rounded-full px-2 py-0.5 text-xs font-semibold capitalize",t==="high"&&"bg-rose-100 text-rose-700",t==="medium"&&"bg-amber-100 text-amber-700",t==="low"&&"bg-emerald-100 text-emerald-700"),children:t})}function $fe({task:t,onAdd:e,onToggle:r,onDelete:n}){const[i,a]=D.useState(""),o=D.useRef(null),l=t.subtasks||[],c=l.filter(m=>m.completed).length,d=l.length;function p(m){var x;m.preventDefault();const y=i.trim();y&&(e(t.id,y),a(""),(x=o.current)==null||x.focus())}return f.jsxs("div",{className:"mt-2 ml-8 space-y-1 border-l-2 border-border pl-3 pb-1",children:[l.map(m=>f.jsxs("div",{className:"group flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-muted/60 transition-colors",children:[f.jsx("button",{onClick:()=>r(t.id,m.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:m.completed?f.jsx(eS,{size:15,className:"text-primary"}):f.jsx(tS,{size:15})}),f.jsx("span",{className:ke("flex-1 text-xs leading-snug",m.completed&&"line-through text-muted-foreground"),children:m.title}),f.jsx("button",{onClick:()=>n(t.id,m.id),className:"shrink-0 opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-destructive transition-all",children:f.jsx(on,{size:12})})]},m.id)),f.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 pt-0.5",children:[f.jsx(dr,{size:13,className:"shrink-0 text-muted-foreground ml-0.5"}),f.jsx("input",{ref:o,value:i,onChange:m=>a(m.target.value),placeholder:"Add a subtask",className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground py-1",onKeyDown:m=>{m.key==="Escape"&&a("")}}),i.trim()&&f.jsx("button",{type:"submit",className:"shrink-0 rounded-md bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary hover:bg-primary/20 transition-colors",children:"Add"})]}),d>0&&f.jsxs("p",{className:"text-[10px] text-muted-foreground pl-1",children:[c,"/",d," completed"]})]})}function n4({task:t,onToggle:e,onArchive:r,onAddSubtask:n,onToggleSubtask:i,onDeleteSubtask:a}){const[o,l]=D.useState(!1),c=t.dueDate&&!t.completed&&new Date(t.dueDate)<new Date,d=t.subtasks||[],p=d.filter(m=>m.completed).length;return f.jsxs("div",{className:ke("transition-colors",t.completed&&"opacity-55"),children:[f.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-muted/40 transition-colors",children:[f.jsx("button",{onClick:()=>e(t.id,t.completed),className:"mt-0.5 shrink-0 text-muted-foreground hover:text-primary transition-colors",title:t.completed?"Mark incomplete":"Mark complete",children:t.completed?f.jsx(OT,{size:17,className:"text-primary"}):f.jsx(iG,{size:17})}),f.jsxs("div",{className:"min-w-0 flex-1 cursor-pointer",onClick:()=>l(m=>!m),children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("p",{className:ke("text-sm font-medium leading-snug",t.completed&&"line-through text-muted-foreground"),children:t.title}),d.length>0&&f.jsxs("span",{className:"rounded-full bg-muted px-1.5 py-0.5 text-[10px] text-muted-foreground font-medium",children:[p,"/",d.length]}),f.jsx(wl,{size:13,className:ke("ml-auto text-muted-foreground transition-transform duration-200",o&&"rotate-90")})]}),t.description&&f.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground truncate",children:t.description}),f.jsxs("div",{className:"mt-1 flex items-center gap-2 flex-wrap",children:[f.jsx(Lfe,{priority:t.priority}),t.dueDate&&f.jsxs("span",{className:ke("text-xs",c?"font-medium text-rose-600":"text-muted-foreground"),children:[c?"Overdue  ":"Due  ",new Date(t.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})]}),f.jsx("button",{onClick:()=>r(t.id),className:"mt-0.5 shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive task",children:f.jsx(Ui,{size:13})})]}),o&&f.jsx("div",{className:"px-4 pb-2",children:f.jsx($fe,{task:t,onAdd:n,onToggle:i,onDelete:a})})]})}function Vfe({onCreate:t}){const[e,r]=D.useState(!1),[n,i]=D.useState({title:"",description:"",dueDate:"",priority:"medium"}),[a,o]=D.useState("");function l(d,p){i(m=>({...m,[d]:p}))}function c(d){if(d.preventDefault(),!n.title.trim()){o("Title is required.");return}t({title:n.title.trim(),description:n.description.trim(),dueDate:n.dueDate||null,priority:n.priority}),i({title:"",description:"",dueDate:"",priority:"medium"}),o(""),r(!1)}return f.jsx("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:e?f.jsxs("form",{onSubmit:c,className:"space-y-3",children:[f.jsx("input",{autoFocus:!0,value:n.title,onChange:d=>l("title",d.target.value),placeholder:"Task title",className:"w-full rounded-xl border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),f.jsx("input",{value:n.description,onChange:d=>l("description",d.target.value),placeholder:"Description (optional)",className:"w-full rounded-xl border border-input bg-background px-3 py-1.5 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Due date"}),f.jsx("input",{type:"date",value:n.dueDate,onChange:d=>l("dueDate",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition"})]}),f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Priority"}),f.jsx("select",{value:n.priority,onChange:d=>l("priority",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",children:aF.map(d=>f.jsx("option",{value:d,className:"capitalize",children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),a&&f.jsx("p",{className:"text-xs text-destructive",children:a}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-xl bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(dr,{size:14})," Add task"]}),f.jsx("button",{type:"button",onClick:()=>{r(!1),o("")},className:"rounded-xl border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>r(!0),className:"flex w-full items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[f.jsx("div",{className:"rounded-lg bg-primary/10 p-1.5",children:f.jsx(dr,{size:14,className:"text-primary"})}),"Add a new task"]})})}function Ffe(){const{habits:t,todayLogs:e,addHabit:r,archiveHabit:n,toggleToday:i}=HV(),[a,o]=D.useState(""),[l,c]=D.useState(!1),[d,p]=D.useState(!0);function m(x){x.preventDefault();const S=a.trim();S&&(r(S),o(""),c(!1))}const y=t.filter(x=>e[x.id]).length;return f.jsxs("div",{className:"rounded-2xl border border-border bg-card card-shadow overflow-hidden",children:[f.jsxs("button",{onClick:()=>p(x=>!x),className:"flex w-full items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"rounded-lg bg-violet-100 p-1.5",children:f.jsx(Af,{size:14,className:"text-violet-600"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-sm font-semibold",children:"Daily Habits"}),t.length>0&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[y,"/",t.length," done today"]})]})]}),d?f.jsx(Nl,{size:15,className:"text-muted-foreground"}):f.jsx(Cl,{size:15,className:"text-muted-foreground"})]}),d&&f.jsxs("div",{className:"border-t border-border",children:[t.length===0?f.jsx("p",{className:"px-4 py-4 text-sm text-muted-foreground text-center",children:"No daily habits yet. Add one to start tracking!"}):f.jsx("div",{className:"divide-y divide-border",children:t.map(x=>{const S=!!e[x.id];return f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-muted/30 transition-colors",children:[f.jsx("button",{onClick:()=>i(x.id),className:ke("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all",S?"bg-violet-500 border-violet-500 text-white":"border-muted-foreground/40 hover:border-violet-400"),children:S&&f.jsx(xr,{size:12})}),f.jsx("span",{className:ke("flex-1 text-sm",S&&"line-through text-muted-foreground"),children:x.name}),f.jsx("button",{onClick:()=>n(x.id),className:"shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Remove habit",children:f.jsx(Ui,{size:13})})]},x.id)})}),f.jsx("div",{className:"border-t border-border p-3",children:l?f.jsxs("form",{onSubmit:m,className:"flex items-center gap-2",children:[f.jsx("input",{autoFocus:!0,value:a,onChange:x=>o(x.target.value),placeholder:"Habit name, e.g. Morning exercise",className:"flex-1 rounded-lg border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",onKeyDown:x=>{x.key==="Escape"&&(c(!1),o(""))}}),f.jsx("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground disabled:opacity-50",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{c(!1),o("")},className:"rounded-lg border border-border px-2.5 py-1.5 text-xs text-muted-foreground hover:bg-muted",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1.5 text-xs text-primary font-medium hover:opacity-80 transition-opacity",children:[f.jsx(dr,{size:13})," Add daily habit"]})})]})]})}function Ufe(){const{tasks:t,create:e,toggle:r,archive:n,addSubtask:i,toggleSubtask:a,deleteSubtask:o}=vv({archived:!1}),[l,c]=D.useState("all"),[d,p]=D.useState(!1),m=t.filter(b=>!b.completed),y=t.filter(b=>b.completed);function x(b){return l==="all"?b:b.filter(T=>T.priority===l)}const S=x(m),w=x(y);return f.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[f.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tasks"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.length," pending  ",y.length," done"]})]}),f.jsx("div",{className:"flex self-start overflow-hidden rounded-xl border border-border text-xs font-medium bg-card",children:["all",...aF].map(b=>f.jsx("button",{onClick:()=>c(b),className:ke("px-3 py-1.5 capitalize transition-colors",l===b?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:b},b))})]}),f.jsx(Vfe,{onCreate:e}),S.length===0&&l==="all"?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-10 text-muted-foreground",children:[f.jsx(f3,{size:36,className:"opacity-25"}),f.jsx("p",{className:"text-sm",children:"No pending tasks. Add one above."})]}):f.jsx("div",{className:"overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:S.length===0?f.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No ",l," priority tasks pending."]}):S.map(b=>f.jsx(n4,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))}),f.jsx(Ffe,{}),y.length>0&&f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>p(b=>!b),className:"flex w-full items-center justify-between rounded-xl px-2 py-2.5 text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:[f.jsxs("span",{children:["Completed (",w.length,")"]}),d?f.jsx(Nl,{size:15}):f.jsx(Cl,{size:15})]}),d&&f.jsx("div",{className:"mt-1 overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:w.length===0?f.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No completed ",l," priority tasks."]}):w.map(b=>f.jsx(n4,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))})]})]})}const zfe=[{key:"focusModeEnabled",label:"Focus Mode",desc:"Hide distracting elements during study sessions"},{key:"strictFocusEnabled",label:"Strict Focus",desc:"Lock navigation while focus mode is active"},{key:"motivationEnabled",label:"Motivation Quotes",desc:"Show inspirational quotes on the dashboard"},{key:"analyticsEnabled",label:"Analytics",desc:"Track detailed study and attendance patterns"},{key:"safeModeEnabled",label:"Safe Mode",desc:"Show confirmation dialogs before destructive actions"}];function i4({on:t,disabled:e,onChange:r}){return f.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:r,disabled:e,className:ke("relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t?"bg-primary":"bg-input"),children:f.jsx("span",{className:ke("pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-lg transform transition duration-200 ease-in-out",t?"translate-x-4":"translate-x-0")})})}function xm({title:t,icon:e,children:r,defaultOpen:n=!1}){const[i,a]=D.useState(n);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("button",{onClick:()=>a(o=>!o),className:"flex w-full items-center justify-between px-5 py-4",children:[f.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[e&&f.jsx(e,{size:14}),t]}),i?f.jsx(Nl,{size:16,className:"text-muted-foreground"}):f.jsx(Cl,{size:16,className:"text-muted-foreground"})]}),i&&f.jsx("div",{className:"border-t border-border px-5 pb-5 pt-4 space-y-4",children:r})]})}function Bfe(){var mo;const{user:t,refreshUser:e}=fi(),n=(((mo=Lr.currentUser)==null?void 0:mo.providerData.map(Oe=>Oe.providerId))??[]).includes("password"),[i,a]=D.useState((t==null?void 0:t.avatarColor)??"#6366f1"),[o,l]=D.useState((t==null?void 0:t.avatarEmoji)??null),[c,d]=D.useState(!1),[p,m]=D.useState(!1);async function y(){d(!0);try{await xn.updateAvatar({avatarColor:i,avatarEmoji:o??null}),await e(),m(!0),setTimeout(()=>m(!1),2e3)}finally{d(!1)}}const[x,S]=D.useState(!1),[w,b]=D.useState({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??"",institute:(t==null?void 0:t.institute)??""}),[T,E]=D.useState(!1),[I,N]=D.useState(!1),[k,O]=D.useState("");function P(){b({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??"",institute:(t==null?void 0:t.institute)??""}),S(!0)}async function C(Oe){if(Oe.preventDefault(),!!w.name.trim()){E(!0),O(""),N(!1);try{await xn.updateProfile({name:w.name.trim(),course:w.course.trim(),semester:w.semester.trim(),institute:w.institute.trim()}),await e(),N(!0),S(!1),setTimeout(()=>N(!1),2500)}catch(Be){O(Be.message||"Failed to save.")}finally{E(!1)}}}const[R,F]=D.useState({currentPw:"",newEmail:""}),[L,$]=D.useState(!1),[V,q]=D.useState(!1),[X,te]=D.useState("");async function re(Oe){Oe.preventDefault(),$(!0),te(""),q(!1);try{await xn.changeEmail(R.currentPw,R.newEmail.trim()),await e(),q(!0),F({currentPw:"",newEmail:""}),setTimeout(()=>q(!1),3e3)}catch(Be){te(Be.code==="auth/wrong-password"?"Incorrect current password.":Be.message)}finally{$(!1)}}const[Q,ae]=D.useState({currentPw:"",newPw:"",confirmPw:""}),[ne,W]=D.useState(!1),[Y,de]=D.useState(!1),[oe,xe]=D.useState("");async function Re(Oe){if(Oe.preventDefault(),Q.newPw!==Q.confirmPw){xe("Passwords do not match.");return}if(Q.newPw.length<6){xe("Min 6 characters.");return}W(!0),xe(""),de(!1);try{await xn.changePassword(Q.currentPw,Q.newPw),de(!0),ae({currentPw:"",newPw:"",confirmPw:""}),setTimeout(()=>de(!1),3e3)}catch(Be){xe(Be.code==="auth/wrong-password"?"Incorrect current password.":Be.message)}finally{W(!1)}}const[ce,Se]=D.useState({password:"",confirm:""}),[fe,Ee]=D.useState(!1),[Le,pe]=D.useState(!1),[it,We]=D.useState("");async function gt(Oe){if(Oe.preventDefault(),ce.password!==ce.confirm){We("Passwords do not match.");return}if(ce.password.length<6){We("Min 6 characters.");return}Ee(!0),We(""),pe(!1);try{await xn.addPassword(ce.password),pe(!0),Se({password:"",confirm:""})}catch(Be){We(Be.message||"Failed to set password.")}finally{Ee(!1)}}const[ft,_t]=D.useState((t==null?void 0:t.settings)??{focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0}),[nr,fr]=D.useState(!1),[hr,$t]=D.useState(!1),[me,Xe]=D.useState("");async function Nt(Oe){const Be={...ft,[Oe]:!ft[Oe]};_t(Be),fr(!0),Xe(""),$t(!1);try{await xn.updateSettings(Be),await e(),$t(!0),setTimeout(()=>$t(!1),2e3)}catch(jn){_t(ft),Xe(jn.message||"Failed to save.")}finally{fr(!1)}}const[Gt,Jt]=D.useState(()=>typeof Notification<"u"?Notification.permission:"denied"),[Kt,qn]=D.useState((t==null?void 0:t.notificationsEmail)??!1),[Ss,pi]=D.useState(!1),[xa,mi]=D.useState(!1);async function Es(){const Oe=!Kt;qn(Oe),pi(!0),mi(!1);try{await xn.updateNotificationPrefs({notificationsEmail:Oe}),await e(),mi(!0),setTimeout(()=>mi(!1),2e3)}catch{qn(!Oe)}finally{pi(!1)}}return f.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Profile & Settings"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your identity, security, and preferences."})]}),f.jsxs(xm,{title:"Profile Picture",icon:eG,defaultOpen:!0,children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(oi,{user:{name:t==null?void 0:t.name,avatarColor:i,avatarEmoji:o},size:"xl"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Style  pick an emoji or use initials"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:XG.map((Oe,Be)=>f.jsx("button",{onClick:()=>l(Oe),className:ke("h-10 w-10 rounded-full flex items-center justify-center text-lg transition-all border-2",o===Oe?"border-primary scale-110 shadow-md":"border-transparent bg-muted hover:scale-105"),style:Oe===null?{background:i}:{},title:Oe===null?"Initials":Oe,children:Oe===null?f.jsx("span",{className:"text-white text-[11px] font-bold leading-none",children:((t==null?void 0:t.name)??"?").split(" ").filter(Boolean).slice(0,2).map(jn=>jn[0]).join("").toUpperCase()}):Oe},Be))})]}),!o&&f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Color"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:KG.map(({hex:Oe,label:Be})=>f.jsx("button",{onClick:()=>a(Oe),title:Be,className:ke("h-8 w-8 rounded-full transition-all border-2",i===Oe?"border-foreground scale-110":"border-transparent hover:scale-105"),style:{background:Oe}},Oe))})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:y,disabled:c,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:c?"Saving":"Save"}),p&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Saved"]})]})]}),f.jsxs(xm,{title:"Account & Security",icon:QH,children:[f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted/50 px-3 py-2.5 text-sm",children:[f.jsx(JH,{size:14,className:"text-muted-foreground shrink-0"}),f.jsx("span",{className:"text-muted-foreground",children:"Email:"}),f.jsx("span",{className:"font-medium",children:(t==null?void 0:t.email)??""})]}),n&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(HH,{size:11})," Change Email"]}),V&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(xr,{size:14})," Email updated."]}),X&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:X}),f.jsxs("form",{onSubmit:re,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"Current password",required:!0,value:R.currentPw,onChange:Oe=>F(Be=>({...Be,currentPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"email",placeholder:"New email address",required:!0,value:R.newEmail,onChange:Oe=>F(Be=>({...Be,newEmail:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:L,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:L?"Updating":"Update Email"})]}),f.jsx("div",{className:"border-t border-border"})]}),n?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(GI,{size:11})," Change Password"]}),Y&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(xr,{size:14})," Password updated."]}),oe&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:oe}),f.jsxs("form",{onSubmit:Re,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"Current password",required:!0,value:Q.currentPw,onChange:Oe=>ae(Be=>({...Be,currentPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"New password (min 6 chars)",required:!0,value:Q.newPw,onChange:Oe=>ae(Be=>({...Be,newPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"Confirm new password",required:!0,value:Q.confirmPw,onChange:Oe=>ae(Be=>({...Be,confirmPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:ne,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:ne?"Updating":"Update Password"})]})]}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-amber-600 uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(GI,{size:11})," Set a Password"]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Your account uses Google sign-in only. Set a password to also log in with email."}),Le&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(xr,{size:14})," Password set."]}),it&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:it}),f.jsxs("form",{onSubmit:gt,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"New password",required:!0,value:ce.password,onChange:Oe=>Se(Be=>({...Be,password:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"Confirm password",required:!0,value:ce.confirm,onChange:Oe=>Se(Be=>({...Be,confirm:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:fe,className:"rounded-md bg-amber-500 px-4 py-2 text-sm font-semibold text-white hover:opacity-90 disabled:opacity-50 transition-opacity",children:fe?"Setting":"Set Password"})]})]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[f.jsx(Nm,{size:14})," Personal Info"]}),x?f.jsx("button",{onClick:()=>{S(!1),O("")},className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent transition-colors",children:f.jsx(on,{size:15})}):f.jsxs("button",{onClick:P,className:"flex items-center gap-1.5 rounded-md border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:[f.jsx(ky,{size:12})," Edit"]})]}),k&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:k}),x?f.jsxs("form",{onSubmit:C,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(Nm,{size:13,className:"text-muted-foreground"})," Full name"]}),f.jsx("input",{autoFocus:!0,required:!0,value:w.name,onChange:Oe=>b(Be=>({...Be,name:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(ro,{size:13,className:"text-muted-foreground"})," Course"]}),f.jsx("input",{value:w.course,onChange:Oe=>b(Be=>({...Be,course:Oe.target.value})),placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(HI,{size:13,className:"text-muted-foreground"})," Semester"]}),f.jsx("input",{value:w.semester,onChange:Oe=>b(Be=>({...Be,semester:Oe.target.value})),placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(WI,{size:13,className:"text-muted-foreground"})," Institute"]}),f.jsx("input",{value:w.institute,onChange:Oe=>b(Be=>({...Be,institute:Oe.target.value})),placeholder:"e.g. NIT Calicut",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{type:"submit",disabled:T,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:T?"Saving":"Save changes"}),f.jsx("button",{type:"button",onClick:()=>{S(!1),O("")},className:"text-sm text-muted-foreground hover:text-foreground",children:"Cancel"})]})]}):f.jsxs("div",{className:"space-y-3",children:[[{icon:Nm,label:"Name",value:t==null?void 0:t.name},{icon:ro,label:"Course",value:t==null?void 0:t.course},{icon:HI,label:"Semester",value:t==null?void 0:t.semester},{icon:WI,label:"Institute",value:t==null?void 0:t.institute}].map(({icon:Oe,label:Be,value:jn})=>f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx(Oe,{size:14,className:"text-muted-foreground shrink-0"}),f.jsx("span",{className:"text-muted-foreground w-20 shrink-0",children:Be}),f.jsx("span",{className:"font-medium truncate",children:jn||f.jsx("span",{className:"text-muted-foreground/60 italic text-xs",children:"Not set"})})]},Be)),I&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Saved successfully"]})]})]}),f.jsxs(xm,{title:"App Settings",icon:nG,children:[me&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:me}),hr&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Settings saved"]}),f.jsx("div",{className:"divide-y divide-border -mx-5 px-5",children:zfe.map(({key:Oe,label:Be,desc:jn})=>f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:Be}),f.jsx("p",{className:"text-xs text-muted-foreground",children:jn})]}),f.jsx(i4,{on:ft[Oe],disabled:nr,onChange:()=>Nt(Oe)})]},Oe))})]}),f.jsxs(xm,{title:"Notifications",icon:Z1,children:[xa&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Saved"]}),f.jsxs("div",{className:"divide-y divide-border -mx-5 px-5",children:[f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:"Browser Notifications"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:Gt==="granted"?"Enabled  class reminders, task due-day alerts, attendance risk.":Gt==="denied"?"Blocked. Allow in browser/Android system settings.":"Get notified 5 min before each class, task reminders every 2 hrs on due day, and attendance risk alerts."})]}),Gt==="granted"?f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-semibold text-emerald-700",children:[f.jsx(Z1,{size:11})," On"]}):Gt==="denied"?f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-muted px-2.5 py-1 text-xs font-semibold text-muted-foreground",children:[f.jsx(GH,{size:11})," Blocked"]}):f.jsx("button",{onClick:async()=>Jt(await ff.requestPermission()),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-semibold text-primary-foreground hover:opacity-90",children:"Enable"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:"Email Alerts"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Send alerts to ",f.jsx("span",{className:"font-medium",children:t==null?void 0:t.email}),". Requires EmailJS config."]})]}),f.jsx(i4,{on:Kt,disabled:Ss,onChange:Es})]})]})]})]})}const v1={high:"bg-rose-500",medium:"bg-amber-400",low:"bg-emerald-500"},qfe={high:"text-rose-600",medium:"text-amber-600",low:"text-emerald-600"},Wfe={high:"bg-rose-50 dark:bg-rose-950/30",medium:"bg-amber-50 dark:bg-amber-950/30",low:"bg-emerald-50 dark:bg-emerald-950/30"},Hfe=["January","February","March","April","May","June","July","August","September","October","November","December"],Gfe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function a4(t){return String(t).padStart(2,"0")}function o4(t,e,r){return`${t}-${a4(e+1)}-${a4(r)}`}function Kfe(){const t=new Date,e=o4(t.getFullYear(),t.getMonth(),t.getDate()),[r,n]=D.useState(t.getFullYear()),[i,a]=D.useState(t.getMonth()),[o,l]=D.useState(e),{tasks:c}=vv({archived:!1}),d=ya(),p=D.useMemo(()=>{var E;const T={};for(const I of c)I.dueDate&&(T[E=I.dueDate]??(T[E]=[])).push(I);return T},[c]),{days:m,firstDow:y}=D.useMemo(()=>{const T=new Date(r,i,1),E=new Date(r,i+1,0).getDate(),I=T.getDay();return{days:Array.from({length:E},(k,O)=>({d:O+1,dateStr:o4(r,i,O+1)})),firstDow:I}},[r,i]);function x(){i===0?(n(T=>T-1),a(11)):a(T=>T-1),l(null)}function S(){i===11?(n(T=>T+1),a(0)):a(T=>T+1),l(null)}const w=o?p[o]??[]:[];function b(T){return T?new Date(T+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"}):""}return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Task Calendar"}),f.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-card px-4 py-3",children:[f.jsx("button",{onClick:x,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(l3,{size:18})}),f.jsxs("span",{className:"text-sm font-semibold",children:[Hfe[i]," ",r]}),f.jsx("button",{onClick:S,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(wl,{size:18})})]}),f.jsx("div",{className:"grid grid-cols-7",children:Gfe.map(T=>f.jsx("div",{className:"py-1 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:T},T))}),f.jsxs("div",{className:"grid grid-cols-7 gap-px overflow-hidden rounded-xl border border-border bg-border",children:[Array.from({length:y}).map((T,E)=>f.jsx("div",{className:"bg-background/60 aspect-square"},`e${E}`)),m.map(({d:T,dateStr:E})=>{const I=p[E]??[],N=E===e,k=E===o,O=[...new Set(I.map(P=>P.priority))].slice(0,3);return f.jsxs("button",{onClick:()=>l(k?null:E),className:`flex min-h-[52px] flex-col items-center bg-background pb-1.5 pt-1 transition-colors hover:bg-accent ${k?"ring-2 ring-inset ring-primary bg-primary/5":""}`,children:[f.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-medium ${N?"bg-primary text-primary-foreground":k?"font-bold":""}`,children:T}),O.length>0&&f.jsx("div",{className:"mt-0.5 flex flex-wrap justify-center gap-0.5",children:O.map(P=>f.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${v1[P]??"bg-muted"}`},P))})]},E)})]}),f.jsx("div",{className:"flex justify-center gap-5",children:Object.entries(v1).map(([T,E])=>f.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[f.jsx("span",{className:`h-2 w-2 rounded-full ${E}`}),T.charAt(0).toUpperCase()+T.slice(1)]},T))}),o&&f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold",children:b(o)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.length," task",w.length!==1?"s":""]})]}),f.jsxs("button",{onClick:()=>d("/tasks"),className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium hover:bg-accent transition-colors",children:[f.jsx(dr,{size:12}),"Add Task"]})]}),w.length===0?f.jsx("p",{className:"py-6 text-center text-xs text-muted-foreground",children:"No tasks due on this day."}):f.jsx("div",{className:"flex flex-col gap-2",children:w.map(T=>f.jsxs("div",{className:`flex items-start gap-2.5 rounded-lg p-2.5 ${Wfe[T.priority]??""} ${T.completed?"opacity-50":""}`,children:[f.jsx("span",{className:`mt-1 h-2 w-2 shrink-0 rounded-full ${v1[T.priority]??"bg-muted"}`}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:`text-sm font-medium leading-snug ${T.completed?"line-through text-muted-foreground":""}`,children:T.title}),T.description&&f.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:T.description}),f.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide ${qfe[T.priority]??""}`,children:T.priority})]}),T.completed&&f.jsx("span",{className:"shrink-0 text-[10px] text-muted-foreground",children:"Done"})]},T.id))})]})]})}function Xfe(t){return Br(dt,"publicProfiles",t)}function s4(){return Tn(dt,"friendRequests")}function l4(t){return Br(dt,"friendRequests",t)}const Fd={async upsertPublicProfile(t,{name:e,course:r,institute:n}){const i=e??"";await $i(Xfe(t),{name:i,nameLower:i.toLowerCase(),course:r??"",institute:n??"",uid:t},{merge:!0})},async searchUsers(t){const e=t.toLowerCase();return(await hs(Tn(dt,"publicProfiles"))).docs.map(n=>n.data()).filter(n=>(n.name??"").toLowerCase().includes(e))},async sendRequest(t,e,r,n,i,a,o,l){const c=cn(s4(),An("fromUid","==",t));if((await hs(c)).docs.some(y=>{const x=y.data();return x.toUid===i&&x.status==="pending"}))throw new Error("Friend request already sent.");if((await $n(nt(t,"friends",i))).exists())throw new Error("Already friends.");await zn(s4(),{fromUid:t,fromName:e,fromCourse:r??"",fromInstitute:n??"",fromAvatarColor:o??"#6366f1",fromAvatarEmoji:l??null,toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()})},async acceptRequest(t,e,r,n,i,a,o,l,c){await $i(nt(a,"friends",e),{uid:e,name:r,course:n??"",institute:i??"",avatarColor:l??"#6366f1",avatarEmoji:c??null,addedAt:new Date().toISOString()}),await rt(l4(t),{status:"accepted"})},async rejectRequest(t){await rt(l4(t),{status:"rejected"})},async removeFriend(t,e){await Z5(nt(t,"friends",e))}};function zA(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState([]),[l,c]=D.useState(!0),[d,p]=D.useState(null),m=D.useRef(null);D.useEffect(()=>{if(t)return Cr(rr(t.id,"friends"),T=>{r(T.docs.map(E=>({id:E.id,...E.data()}))),c(!1)},T=>{p(T.message),c(!1)})},[t]),D.useEffect(()=>{if(!t)return;const T=cn(Tn(dt,"friendRequests"),An("toUid","==",t.id));return Cr(T,E=>{const I=E.docs.map(N=>({id:N.id,...N.data()})).filter(N=>N.status==="pending");if(i(I),m.current!==null&&I.length>m.current){const N=I[I.length-1];N!=null&&N.fromName&&ff.notifyFriendRequest(N.fromName)}m.current=I.length},E=>p(E.message))},[t]),D.useEffect(()=>{if(!t)return;const T=cn(Tn(dt,"friendRequests"),An("fromUid","==",t.id));return Cr(T,E=>{o(E.docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.status==="pending"))},E=>p(E.message))},[t]),D.useEffect(()=>{if(!t)return;const T=cn(Tn(dt,"friendRequests"),An("fromUid","==",t.id));return Cr(T,async E=>{for(const I of E.docs.filter(N=>N.data().status==="accepted")){const N=I.data();if(!(await $n(nt(t.id,"friends",N.toUid))).exists()){const O=await $n(Br(dt,"publicProfiles",N.toUid)).catch(()=>null),P=O!=null&&O.exists()?O.data():{};await $i(nt(t.id,"friends",N.toUid),{uid:N.toUid,name:N.toName,course:P.course??"",institute:P.institute??"",avatarColor:P.avatarColor??"#6366f1",avatarEmoji:P.avatarEmoji??null,addedAt:new Date().toISOString()})}}})},[t]);const y=D.useCallback(async T=>{if(!T.trim()||!t)return{results:[],error:null};try{return{results:(await Fd.searchUsers(T.trim())).filter(I=>I.uid!==t.id),error:null}}catch(E){return{results:[],error:E.message}}},[t]),x=D.useCallback(async T=>{if(t)try{await Fd.sendRequest(t.id,t.name,t.course??"",t.institute??"",T.uid,T.name,t.avatarColor??"#6366f1",t.avatarEmoji??null)}catch(E){throw p(E.message),E}},[t]),S=D.useCallback(async T=>{if(t)try{await Fd.acceptRequest(T.id,T.fromUid,T.fromName,T.fromCourse??"",T.fromInstitute??"",t.id,t.name,T.fromAvatarColor,T.fromAvatarEmoji)}catch(E){p(E.message)}},[t]),w=D.useCallback(async T=>{if(t)try{await Fd.rejectRequest(T)}catch(E){p(E.message)}},[t]),b=D.useCallback(async T=>{if(t)try{await Fd.removeFriend(t.id,T)}catch(E){p(E.message)}},[t]);return{friends:e,incomingRequests:n,outgoingRequests:a,loading:l,error:d,searchUsers:y,sendRequest:x,acceptRequest:S,rejectRequest:w,removeFriend:b}}const zo=t=>Br(dt,"studyGroups",t),Yfe=t=>Tn(dt,"studyGroups",t,"posts"),u4=()=>Tn(dt,"groupInvites"),c4=t=>Br(dt,"groupInvites",t),Fa={async createGroup(t,e,r){const n=await zn(Tn(dt,"studyGroups"),{name:r,createdBy:t,memberUids:[t],members:[{uid:t,name:e,joinedAt:new Date().toISOString()}],createdAt:new Date().toISOString()});return await $i(nt(t,"groups",n.id),{groupId:n.id,name:r,joinedAt:new Date().toISOString()}),n.id},async inviteToGroup(t,e,r,n,i,a){var c,d;if((d=(c=(await $n(zo(t))).data())==null?void 0:c.memberUids)!=null&&d.includes(i))throw new Error("Already a member of this group.");if((await hs(cn(u4(),An("fromUid","==",r),An("groupId","==",t)))).docs.some(p=>p.data().toUid===i&&p.data().status==="pending"))throw new Error("Invite already sent.");await zn(u4(),{groupId:t,groupName:e,fromUid:r,fromName:n,toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()}),await rt(zo(t),{pendingInviteUids:Gd(i)})},async acceptGroupInvite(t,e,r,n){var o;const a=((o=(await $n(zo(e))).data())==null?void 0:o.name)??"";await rt(zo(e),{memberUids:Gd(r),members:Gd({uid:r,name:n,joinedAt:new Date().toISOString()}),pendingInviteUids:Kd(r)}),await $i(nt(r,"groups",e),{groupId:e,name:a,joinedAt:new Date().toISOString()}),await rt(c4(t),{status:"accepted"})},async rejectGroupInvite(t){await rt(c4(t),{status:"rejected"})},async deleteGroup(t,e){const n=(await $n(zo(t))).data();if(!n)throw new Error("Group not found.");if(n.createdBy!==e)throw new Error("Only the group creator can delete this group.");const i=J1(dt);(n.memberUids??[]).forEach(a=>{i.delete(nt(a,"groups",t))}),i.delete(zo(t)),await i.commit()},async leaveGroup(t,e){const n=(await $n(zo(t))).data();if(!n)throw new Error("Group not found.");const i=(n.members??[]).filter(o=>o.uid!==e),a=J1(dt);a.update(zo(t),{memberUids:Kd(e),members:i,pendingInviteUids:Kd(e)}),a.delete(nt(e,"groups",t)),await a.commit()},async createPost(t,{authorUid:e,authorName:r,type:n,title:i,description:a,date:o,payload:l}){await zn(Yfe(t),{authorUid:e,authorName:r,type:n,title:i,description:a??"",date:o??null,payload:l??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r){await rt(Br(dt,"studyGroups",t,"posts",e),{savedBy:Gd(r)})},async unsavePost(t,e,r){await rt(Br(dt,"studyGroups",t,"posts",e),{savedBy:Kd(r)})}};function oF(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState(!0);D.useEffect(()=>{if(t)return Cr(rr(t.id,"groups"),x=>{r(x.docs.map(S=>({id:S.id,...S.data()})).sort((S,w)=>(w.joinedAt??"").localeCompare(S.joinedAt??""))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const x=cn(Tn(dt,"groupInvites"),An("toUid","==",t.id));return Cr(x,S=>{i(S.docs.map(w=>({id:w.id,...w.data()})).filter(w=>w.status==="pending"))},()=>i([]))},[t]);const l=D.useCallback(async x=>{if(!(!t||!x.trim()))return Fa.createGroup(t.id,t.name,x.trim())},[t]),c=D.useCallback(async(x,S,w)=>{if(t)return Fa.inviteToGroup(x,S,t.id,t.name,w.uid,w.name)},[t]),d=D.useCallback(async x=>{if(t)return Fa.acceptGroupInvite(x.id,x.groupId,t.id,t.name)},[t]),p=D.useCallback(async x=>Fa.rejectGroupInvite(x),[]),m=D.useCallback(async x=>{if(t)return Fa.deleteGroup(x,t.id)},[t]),y=D.useCallback(async x=>{if(t)return Fa.leaveGroup(x,t.id)},[t]);return{myGroups:e,groupInvites:n,loading:a,createGroup:l,inviteToGroup:c,acceptInvite:d,rejectInvite:p,deleteGroup:m,leaveGroup:y}}function Qfe(t){const{user:e}=Bn(),[r,n]=D.useState(null),[i,a]=D.useState([]),[o,l]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const p=Cr(Br(dt,"studyGroups",t),y=>{y.exists()&&n({id:y.id,...y.data()}),l(!1)}),m=Cr(cn(Tn(dt,"studyGroups",t,"posts"),Q5("createdAt","desc")),y=>{a(y.docs.map(x=>({id:x.id,...x.data()})))});return()=>{p(),m()}},[e,t]);const c=D.useCallback(async p=>{if(!(!e||!t))return Fa.createPost(t,{...p,authorUid:e.id,authorName:e.name})},[e,t]),d=D.useCallback(async(p,m)=>{if(!(!e||!t))return m?Fa.unsavePost(t,p,e.id):Fa.savePost(t,p,e.id)},[e,t]);return{group:r,posts:i,loading:o,createPost:c,toggleSave:d}}function Jfe(t){return t?t.trim().split(/\s+/).map(e=>e[0]).join("").toUpperCase().slice(0,6):""}function b1({course:t,institute:e}){const r=[t,Jfe(e)].filter(Boolean);return r.length?f.jsx("p",{className:"truncate text-xs text-muted-foreground",children:r.join("  ")}):null}function Zfe(){const t=ya(),{friends:e,incomingRequests:r,outgoingRequests:n,loading:i,searchUsers:a,sendRequest:o,acceptRequest:l,rejectRequest:c}=zA(),{myGroups:d,groupInvites:p,createGroup:m,acceptInvite:y,rejectInvite:x}=oF(),[S,w]=D.useState(""),[b,T]=D.useState([]),[E,I]=D.useState(!1),[N,k]=D.useState(null),[O,P]=D.useState({}),C=D.useRef(null),[R,F]=D.useState("friends"),[L,$]=D.useState(!1),[V,q]=D.useState(""),[X,te]=D.useState("");async function re(oe){if(w(oe),k(null),clearTimeout(C.current),!oe.trim()){T([]);return}C.current=setTimeout(async()=>{I(!0);const{results:xe,error:Re}=await a(oe);T(xe),k(Re),I(!1)},400)}async function Q(oe){try{await o(oe),P(xe=>({...xe,[oe.uid]:!0}))}catch{}}async function ae(oe){if(oe.preventDefault(),!!V.trim()){te("");try{const xe=await m(V);q(""),$(!1),xe&&t(`/ptp/group/${xe}`)}catch(xe){te(xe.message)}}}const ne=S.length>0,W=r.length+p.length;function Y(oe){return O[oe]||n.some(xe=>xe.toUid===oe)}function de(oe){return e.some(xe=>xe.uid===oe)}return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold",children:"Study Peers"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Connect, form study groups, and share resources"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(rG,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),f.jsx("input",{value:S,onChange:oe=>re(oe.target.value),placeholder:"Search peers by name",className:"w-full rounded-xl border border-border bg-card py-2.5 pl-9 pr-9 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),S&&f.jsx("button",{onClick:()=>{w(""),T([]),k(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:f.jsx(on,{size:14})})]}),ne&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsx("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Search Results"}),E?f.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"Searching"}):N?f.jsxs("div",{className:"px-4 py-6 text-center",children:[f.jsx("p",{className:"text-sm font-medium text-destructive",children:"Search failed"}),f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Firestore rules may not be published yet. Go to Firebase Console  Firestore  Rules and publish the rules from ",f.jsx("code",{className:"font-mono",children:"firestore.rules"}),"."]})]}):b.length===0?f.jsxs("div",{className:"px-4 py-6 text-center space-y-1",children:[f.jsxs("p",{className:"text-sm text-muted-foreground",children:['No users found for "',S,'".']}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"The person must open the Sarasva app at least once to appear in search."})]}):f.jsx("div",{className:"divide-y divide-border",children:b.map(oe=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(oi,{user:oe,size:"md"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:oe.name}),f.jsx(b1,{course:oe.course,institute:oe.institute})]}),de(oe.uid)?f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600",children:[f.jsx(dG,{size:14})," Friends"]}):Y(oe.uid)?f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(rS,{size:13})," Sent"]}):f.jsxs("button",{onClick:()=>Q(oe),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground",children:[f.jsx(g3,{size:12})," Add"]})]},oe.uid))})]}),f.jsx("div",{className:"flex gap-1 rounded-xl bg-muted p-1",children:[{key:"friends",label:`Friends (${e.length})`},{key:"requests",label:"Requests",badge:W},{key:"groups",label:`Groups (${d.length})`}].map(({key:oe,label:xe,badge:Re})=>f.jsxs("button",{onClick:()=>F(oe),className:ke("relative flex-1 rounded-lg py-1.5 text-xs font-medium transition-colors",R===oe?"bg-card shadow-sm":"text-muted-foreground"),children:[xe,Re>0&&f.jsx("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[9px] font-bold text-white",children:Re})]},oe))}),R==="friends"&&f.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:i?f.jsx("p",{className:"py-10 text-center text-sm text-muted-foreground",children:"Loading"}):e.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-14",children:[f.jsx(y3,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study peers yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Search above to find classmates"})]}):f.jsx("div",{className:"divide-y divide-border",children:e.map(oe=>f.jsxs("button",{onClick:()=>t(`/ptp/friend/${oe.uid}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[f.jsx(oi,{user:oe,size:"md"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:oe.name}),f.jsx(b1,{course:oe.course,institute:oe.institute}),f.jsx("p",{className:"text-[10px] text-primary/60 mt-0.5",children:"Tap to view & share"})]}),f.jsx(wl,{size:15,className:"shrink-0 text-muted-foreground"})]},oe.id))})}),R==="requests"&&f.jsxs("div",{className:"space-y-3",children:[r.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Friend Requests (",r.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:r.map(oe=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(oi,{user:{name:oe.fromName,avatarColor:oe.fromAvatarColor,avatarEmoji:oe.fromAvatarEmoji},size:"md"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:oe.fromName}),f.jsx(b1,{course:oe.fromCourse,institute:oe.fromInstitute})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>l(oe),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:f.jsx(xr,{size:14})}),f.jsx("button",{onClick:()=>c(oe.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(on,{size:14})})]})]},oe.id))})]}),p.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Group Invites (",p.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:p.map(oe=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx("div",{className:"flex h-11 w-11 shrink-0 items-center justify-center rounded-full bg-primary/10",children:f.jsx(af,{size:18,className:"text-primary"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-semibold",children:oe.groupName}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Invited by ",oe.fromName]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>y(oe),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:f.jsx(xr,{size:14})}),f.jsx("button",{onClick:()=>x(oe.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(on,{size:14})})]})]},oe.id))})]}),n.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Sent (",n.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:n.map(oe=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(oi,{user:{name:oe.toName},size:"md"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:oe.toName}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Request pending"})]}),f.jsx(rS,{size:14,className:"shrink-0 text-muted-foreground"})]},oe.id))})]}),r.length===0&&n.length===0&&p.length===0&&f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(hG,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No pending requests"})]})]}),R==="groups"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>{$(oe=>!oe),te("")},className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",L?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[L?f.jsx(on,{size:15}):f.jsx(dr,{size:15}),L?"Cancel":"Create Study Group"]}),L&&f.jsxs("form",{onSubmit:ae,className:"flex flex-col gap-2 rounded-xl border border-border bg-card p-4",children:[f.jsx("input",{autoFocus:!0,value:V,onChange:oe=>q(oe.target.value),placeholder:"Group name e.g. BCA Batch 26",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),X&&f.jsx("p",{className:"text-xs text-destructive",children:X}),f.jsx("button",{type:"submit",disabled:!V.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:"Create & Open"})]}),d.length===0&&!L?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(af,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study groups yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a group or accept an invitation"})]}):f.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card divide-y divide-border",children:d.map(oe=>f.jsxs("button",{onClick:()=>t(`/ptp/group/${oe.groupId}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[f.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:f.jsx(af,{size:17,className:"text-primary"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-semibold",children:oe.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to open"})]}),f.jsx(wl,{size:15,className:"shrink-0 text-muted-foreground"})]},oe.id))})]})]})}const TE=[{value:"note",label:"Note",icon:Iy,bg:"bg-emerald-100 dark:bg-emerald-950/40",text:"text-emerald-700 dark:text-emerald-400"},{value:"task",label:"Task",icon:kT,bg:"bg-blue-100 dark:bg-blue-950/40",text:"text-blue-700 dark:text-blue-400"},{value:"assignment",label:"Assignment",icon:c3,bg:"bg-purple-100 dark:bg-purple-950/40",text:"text-purple-700 dark:text-purple-400"},{value:"exam_date",label:"Exam Date",icon:ca,bg:"bg-rose-100 dark:bg-rose-950/40",text:"text-rose-700 dark:text-rose-400"},{value:"exam_pattern",label:"Exam Pattern",icon:ro,bg:"bg-amber-100 dark:bg-amber-950/40",text:"text-amber-700 dark:text-amber-400"},{value:"subject",label:"Subject",icon:Tf,bg:"bg-teal-100 dark:bg-teal-950/40",text:"text-teal-700 dark:text-teal-400"},{value:"timetable",label:"Timetable",icon:Ah,bg:"bg-violet-100 dark:bg-violet-950/40",text:"text-violet-700 dark:text-violet-400"}];function ehe(t){return TE.find(e=>e.value===t)??TE[0]}function the({type:t}){const e=ehe(t),r=e.icon;return f.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold ${e.bg} ${e.text}`,children:[f.jsx(r,{size:10}),e.label]})}function rhe(){var fr,hr,$t;const{groupId:t}=v4(),e=ya(),{user:r}=fi(),{group:n,posts:i,loading:a,createPost:o,toggleSave:l}=Qfe(t),{inviteToGroup:c,deleteGroup:d,leaveGroup:p}=oF(),{friends:m}=zA(),{subjects:y,importSubject:x}=vs(),{timetables:S,importTimetable:w}=Dh(),[b,T]=D.useState(!1),[E,I]=D.useState("note"),[N,k]=D.useState(""),[O,P]=D.useState(""),[C,R]=D.useState(""),[F,L]=D.useState(null),[$,V]=D.useState(""),[q,X]=D.useState(!1),[te,re]=D.useState(!1),[Q,ae]=D.useState(!1),[ne,W]=D.useState({}),[Y,de]=D.useState(""),[oe,xe]=D.useState({}),Re=(n==null?void 0:n.createdBy)===(r==null?void 0:r.id),ce=m.filter(me=>{var Xe;return!((Xe=n==null?void 0:n.memberUids)!=null&&Xe.includes(me.uid))});function Se(me){I(me),L(null),(me==="subject"||me==="timetable")&&(k(""),P(""))}function fe(me){const Xe=y.find(Gt=>Gt.id===me.target.value);if(!Xe){k(""),P(""),L(null);return}const Nt=Xe.chapters??[];k(Xe.name),P(Nt.length?Nt.map(Gt=>Gt.name).join(", "):"No chapters yet"),L({name:Xe.name,chapters:Nt})}function Ee(me){const Xe=S.find(Nt=>Nt.id===me.target.value);if(!Xe){k(""),P(""),L(null);return}k(Xe.name),P(`${(Xe.slots??[]).length} time slot(s)`),L({name:Xe.name,slots:Xe.slots??[]})}async function Le(me){if(me.preventDefault(),!!N.trim()&&!((E==="subject"||E==="timetable")&&!F)){V(""),X(!0);try{await o({type:E,title:N.trim(),description:O.trim(),date:C||null,payload:F}),k(""),P(""),R(""),L(null),T(!1)}catch(Xe){V(Xe.message)}X(!1)}}async function pe(me){var Nt;const Xe=oe[me.id]??((Nt=me.savedBy)==null?void 0:Nt.includes(r==null?void 0:r.id));if(xe(Gt=>({...Gt,[me.id]:!Xe})),await l(me.id,Xe),!Xe)try{me.type==="subject"&&me.payload?await x(me.payload):me.type==="timetable"&&me.payload?await w(me.payload):await Va.create(r.id,{title:me.title,description:`[${(n==null?void 0:n.name)??"Group"}] ${me.description}`.trim(),dueDate:me.date??"",priority:me.type==="exam_date"?"high":"medium"})}catch{}}async function it(me){if(n){de("");try{await c(t,n.name,me),W(Xe=>({...Xe,[me.uid]:!0}))}catch(Xe){de(Xe.message)}}}async function We(){if(confirm(`Delete "${n.name}"? This cannot be undone and will remove the group for all members.`))try{await d(t),e("/ptp")}catch(me){alert(me.message)}}async function gt(){if(confirm(`Leave "${n.name}"?`))try{await p(t),e("/ptp")}catch(me){alert(me.message)}}if(a)return f.jsx("div",{className:"flex h-40 items-center justify-center",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})});if(!n)return f.jsxs("div",{className:"flex flex-col items-center gap-2 py-20",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Group not found."}),f.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const ft=["task","assignment","exam_date"].includes(E),_t=E==="subject",nr=E==="timetable";return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(n3,{size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-lg font-bold truncate",children:n.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[((fr=n.memberUids)==null?void 0:fr.length)??0," member",((hr=n.memberUids)==null?void 0:hr.length)!==1?"s":""]})]}),Re?f.jsxs("button",{onClick:We,className:"flex items-center gap-1 rounded-lg border border-destructive/30 px-2.5 py-1.5 text-xs font-medium text-destructive hover:bg-destructive/10 transition-colors",title:"Delete group",children:[f.jsx(Ui,{size:13})," Delete"]}):f.jsxs("button",{onClick:gt,className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium text-muted-foreground hover:bg-muted transition-colors",title:"Leave group",children:[f.jsx(IT,{size:13})," Leave"]})]}),f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("button",{onClick:()=>re(me=>!me),className:"flex w-full items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[f.jsx(y3,{size:14,className:"text-primary"}),"Members (",(($t=n.members)==null?void 0:$t.length)??0,")"]}),te?f.jsx(Nl,{size:14,className:"text-muted-foreground"}):f.jsx(Cl,{size:14,className:"text-muted-foreground"})]}),te&&f.jsxs("div",{className:"border-t border-border",children:[f.jsx("div",{className:"divide-y divide-border",children:(n.members??[]).map(me=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5",children:[f.jsx(oi,{user:me,size:"xs"}),f.jsx("p",{className:"flex-1 text-sm",children:me.name}),me.uid===n.createdBy&&f.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:"Admin"})]},me.uid))}),f.jsxs("div",{className:"border-t border-border p-3 space-y-2",children:[f.jsxs("button",{onClick:()=>{ae(me=>!me),de("")},className:"flex items-center gap-1.5 text-xs font-medium text-primary",children:[f.jsx(g3,{size:13}),Q?"Close":"Invite a Friend"]}),Q&&f.jsxs("div",{className:"space-y-1.5",children:[Y&&f.jsx("p",{className:"text-xs text-destructive",children:Y}),ce.length===0?f.jsx("p",{className:"py-2 text-center text-xs text-muted-foreground",children:"All your friends are already in this group."}):ce.map(me=>f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted px-3 py-2",children:[f.jsx(oi,{user:me,size:"xs"}),f.jsx("span",{className:"flex-1 text-sm",children:me.name}),ne[me.uid]?f.jsx("span",{className:"text-xs text-muted-foreground",children:"Sent"}):f.jsx("button",{onClick:()=>it(me),className:"rounded-lg bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground",children:"Invite"})]},me.uid))]})]})]})]}),f.jsxs("button",{onClick:()=>T(me=>!me),className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",b?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[b?f.jsx(on,{size:15}):f.jsx(dr,{size:15}),b?"Cancel":"Share with Group"]}),b&&f.jsxs("form",{onSubmit:Le,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[f.jsx("div",{className:"flex flex-wrap gap-1.5",children:TE.map(me=>{const Xe=E===me.value;return f.jsx("button",{type:"button",onClick:()=>Se(me.value),className:ke("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",Xe?`${me.bg} ${me.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:me.label},me.value)})}),_t&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a subject to share"}),f.jsxs("select",{onChange:fe,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select subject"}),y.map(me=>f.jsxs("option",{value:me.id,children:[me.name,(me.chapters??[]).length>0?` (${me.chapters.length} chapters)`:""]},me.id))]})]}),nr&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a timetable to share"}),f.jsxs("select",{onChange:Ee,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select timetable"}),S.map(me=>f.jsxs("option",{value:me.id,children:[me.name,(me.slots??[]).length>0?` (${me.slots.length} slots)`:""]},me.id))]})]}),(_t||nr)&&N&&f.jsxs("div",{className:"rounded-lg border border-border bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:N}),O&&f.jsxs("span",{className:"ml-1",children:[" ",O]})]}),!_t&&!nr&&f.jsxs(f.Fragment,{children:[f.jsx("input",{autoFocus:!0,value:N,onChange:me=>k(me.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("textarea",{value:O,onChange:me=>P(me.target.value),placeholder:"Details, topics to cover, notes",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),ft&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),f.jsx("input",{type:"date",value:C,onChange:me=>R(me.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),$&&f.jsx("p",{className:"text-xs text-destructive",children:$}),f.jsx("button",{type:"submit",disabled:q||!N.trim()||(_t||nr)&&!F,className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:q?"Sharing":"Share"})]}),i.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(Iy,{size:34,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Be the first to share a task, subject, or note"})]}):f.jsx("div",{className:"space-y-3",children:i.map(me=>{var Gt;const Xe=oe[me.id]??((Gt=me.savedBy)==null?void 0:Gt.includes(r==null?void 0:r.id)),Nt=me.type==="subject"||me.type==="timetable";return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[f.jsx(the,{type:me.type}),f.jsx("p",{className:"text-sm font-semibold leading-snug",children:me.title})]}),f.jsx("button",{onClick:()=>pe(me),className:ke("shrink-0 rounded-lg p-1.5 transition-colors",Xe?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:Xe?Nt?"Already imported":"Saved to my tasks":Nt?"Import to my app":"Save to my tasks",children:Xe?f.jsx(i3,{size:16}):Nt?f.jsx(u3,{size:16}):f.jsx(a3,{size:16})})]}),me.description&&f.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:me.description}),f.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(oi,{user:{name:me.authorName},size:"xs"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:me.authorName})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[me.date&&f.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(me.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),Xe&&f.jsx("span",{className:"text-[10px] font-semibold text-primary",children:Nt?"Imported ":"Saved "})]})]})]},me.id)})})]})}function hf(t,e){return[t,e].sort().join("_")}function nhe(t,e){return Tn(dt,"directChats",hf(t,e),"posts")}const x1={async createPost(t,e,{authorUid:r,authorName:n,type:i,title:a,description:o,date:l,payload:c}){const d=hf(t,e);await $i(Br(dt,"directChats",d),{memberUids:[t,e].sort(),updatedAt:new Date().toISOString()},{merge:!0}),await zn(nhe(t,e),{authorUid:r,authorName:n,type:i,title:a,description:o??"",date:l??null,payload:c??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r,n){const i=hf(t,e);await rt(Br(dt,"directChats",i,"posts",r),{savedBy:Gd(n)})},async unsavePost(t,e,r,n){const i=hf(t,e);await rt(Br(dt,"directChats",i,"posts",r),{savedBy:Kd(n)})}};function ihe(t){const{user:e}=Bn(),[r,n]=D.useState([]),[i,a]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const c=hf(e.id,t);return Cr(cn(Tn(dt,"directChats",c,"posts"),Q5("createdAt","desc")),p=>{n(p.docs.map(m=>({id:m.id,...m.data()}))),a(!1)},()=>a(!1))},[e,t]);const o=D.useCallback(async c=>{if(!(!e||!t))return x1.createPost(e.id,t,{...c,authorUid:e.id,authorName:e.name})},[e,t]),l=D.useCallback(async(c,d)=>{if(!(!e||!t))return d?x1.unsavePost(e.id,t,c,e.id):x1.savePost(e.id,t,c,e.id)},[e,t]);return{posts:r,loading:i,createPost:o,toggleSave:l}}const AE=[{value:"note",label:"Note",icon:Iy,bg:"bg-emerald-100",text:"text-emerald-700"},{value:"task",label:"Task",icon:kT,bg:"bg-blue-100",text:"text-blue-700"},{value:"assignment",label:"Assignment",icon:c3,bg:"bg-purple-100",text:"text-purple-700"},{value:"exam_date",label:"Exam Date",icon:ca,bg:"bg-rose-100",text:"text-rose-700"},{value:"exam_pattern",label:"Exam Pattern",icon:ro,bg:"bg-amber-100",text:"text-amber-700"},{value:"subject",label:"Subject",icon:Tf,bg:"bg-teal-100",text:"text-teal-700"},{value:"timetable",label:"Timetable",icon:Ah,bg:"bg-violet-100",text:"text-violet-700"}];function ahe(t){return AE.find(e=>e.value===t)??AE[0]}function ohe({type:t}){const e=ahe(t),r=e.icon;return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",e.bg,e.text),children:[f.jsx(r,{size:10}),e.label]})}function she(){const{friendUid:t}=v4(),e=ya(),{user:r}=fi(),{friends:n,removeFriend:i}=zA(),{posts:a,loading:o,createPost:l,toggleSave:c}=ihe(t),{subjects:d,importSubject:p}=vs(),{timetables:m,importTimetable:y}=Dh(),x=D.useMemo(()=>n.find(ce=>ce.uid===t),[n,t]),[S,w]=D.useState(!1),[b,T]=D.useState(!1),[E,I]=D.useState("note"),[N,k]=D.useState(""),[O,P]=D.useState(""),[C,R]=D.useState(""),[F,L]=D.useState(null),[$,V]=D.useState(""),[q,X]=D.useState(!1),[te,re]=D.useState({});async function Q(){if(!S){w(!0);return}await i(t),e("/ptp")}function ae(ce){I(ce),L(null),(ce==="subject"||ce==="timetable")&&(k(""),P(""))}function ne(ce){const Se=d.find(Ee=>Ee.id===ce.target.value);if(!Se){k(""),P(""),L(null);return}const fe=Se.chapters??[];k(Se.name),P(fe.length?fe.map(Ee=>Ee.name).join(", "):"No chapters yet"),L({name:Se.name,chapters:fe})}function W(ce){const Se=m.find(fe=>fe.id===ce.target.value);if(!Se){k(""),P(""),L(null);return}k(Se.name),P(`${(Se.slots??[]).length} time slot(s)`),L({name:Se.name,slots:Se.slots??[]})}async function Y(ce){if(ce.preventDefault(),!!N.trim()&&!((E==="subject"||E==="timetable")&&!F)){V(""),X(!0);try{await l({type:E,title:N.trim(),description:O.trim(),date:C||null,payload:F}),k(""),P(""),R(""),L(null),T(!1)}catch(Se){V(Se.message)}X(!1)}}async function de(ce){var fe;const Se=te[ce.id]??((fe=ce.savedBy)==null?void 0:fe.includes(r==null?void 0:r.id));if(re(Ee=>({...Ee,[ce.id]:!Se})),await c(ce.id,Se),!Se)try{ce.type==="subject"&&ce.payload?await p(ce.payload):ce.type==="timetable"&&ce.payload?await y(ce.payload):await Va.create(r.id,{title:ce.title,description:`[From ${(x==null?void 0:x.name)??"Friend"}] ${ce.description}`.trim(),dueDate:ce.date??"",priority:ce.type==="exam_date"?"high":"medium"})}catch{}}if(!o&&!x)return f.jsxs("div",{className:"mx-auto max-w-md space-y-4 py-20 text-center",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Friend not found or you're no longer connected."}),f.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const oe=["task","assignment","exam_date"].includes(E),xe=E==="subject",Re=E==="timetable";return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(n3,{size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-lg font-bold truncate",children:(x==null?void 0:x.name)??""}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Study peer"})]})]}),x&&f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 flex items-center gap-4",children:[f.jsx(oi,{user:x,size:"lg"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-base font-semibold",children:x.name}),x.course&&f.jsx("p",{className:"text-sm text-muted-foreground",children:x.course}),x.institute&&f.jsx("p",{className:"text-xs text-muted-foreground",children:x.institute})]}),S?f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:Q,className:"rounded-md bg-destructive px-2 py-1 text-[11px] font-medium text-destructive-foreground",children:"Confirm remove"}),f.jsx("button",{onClick:()=>w(!1),className:"rounded-md border border-border px-2 py-1 text-[11px] text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]}):f.jsx("button",{onClick:Q,title:"Remove friend",className:"rounded-md border border-border p-1 text-muted-foreground/50 hover:border-destructive/40 hover:text-destructive hover:bg-destructive/5 transition-colors shrink-0",children:f.jsx(fG,{size:12})})]}),f.jsxs("button",{onClick:()=>{T(ce=>!ce),w(!1)},className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",b?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[b?f.jsx(on,{size:15}):f.jsx(KI,{size:15}),b?"Cancel":"Share with Friend"]}),b&&f.jsxs("form",{onSubmit:Y,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[f.jsx("div",{className:"flex flex-wrap gap-1.5",children:AE.map(ce=>{const Se=E===ce.value;return f.jsx("button",{type:"button",onClick:()=>ae(ce.value),className:ke("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",Se?`${ce.bg} ${ce.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:ce.label},ce.value)})}),xe&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a subject to share"}),f.jsxs("select",{onChange:ne,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select subject"}),d.map(ce=>f.jsxs("option",{value:ce.id,children:[ce.name,(ce.chapters??[]).length>0?` (${ce.chapters.length} chapters)`:""]},ce.id))]})]}),Re&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a timetable to share"}),f.jsxs("select",{onChange:W,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select timetable"}),m.map(ce=>f.jsxs("option",{value:ce.id,children:[ce.name,(ce.slots??[]).length>0?` (${ce.slots.length} slots)`:""]},ce.id))]})]}),(xe||Re)&&N&&f.jsxs("div",{className:"rounded-lg border border-border bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:N}),O&&f.jsxs("span",{className:"ml-1",children:[" ",O]})]}),!xe&&!Re&&f.jsxs(f.Fragment,{children:[f.jsx("input",{autoFocus:!0,value:N,onChange:ce=>k(ce.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("textarea",{value:O,onChange:ce=>P(ce.target.value),placeholder:"Details, notes, tips",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),oe&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),f.jsx("input",{type:"date",value:C,onChange:ce=>R(ce.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),$&&f.jsx("p",{className:"text-xs text-destructive",children:$}),f.jsx("button",{type:"submit",disabled:q||!N.trim()||(xe||Re)&&!F,className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:q?"Sharing":"Share"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Shared between you two"}),o?f.jsx("div",{className:"flex h-24 items-center justify-center",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})}):a.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(KI,{size:34,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a task, exam tip, subject, or note"})]}):f.jsx("div",{className:"space-y-3",children:a.map(ce=>{var Le;const Se=te[ce.id]??((Le=ce.savedBy)==null?void 0:Le.includes(r==null?void 0:r.id)),fe=ce.authorUid===(r==null?void 0:r.id),Ee=ce.type==="subject"||ce.type==="timetable";return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[f.jsx(ohe,{type:ce.type}),f.jsx("p",{className:"text-sm font-semibold leading-snug",children:ce.title})]}),!fe&&f.jsx("button",{onClick:()=>de(ce),className:ke("shrink-0 rounded-lg p-1.5 transition-colors",Se?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:Se?Ee?"Already imported":"Saved to my tasks":Ee?"Import to my app":"Save to my tasks",children:Se?f.jsx(i3,{size:16}):Ee?f.jsx(u3,{size:16}):f.jsx(a3,{size:16})})]}),ce.description&&f.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:ce.description}),f.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(oi,{user:fe?r:x,size:"xs"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:fe?"You":ce.authorName})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[ce.date&&f.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(ce.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),Se&&!fe&&f.jsx("span",{className:"text-[10px] font-semibold text-primary",children:Ee?"Imported ":"Saved "})]})]})]},ce.id)})})]})]})}function lhe({children:t}){const{user:e}=fi();return(e==null?void 0:e.role)!=="admin"?f.jsxs("div",{className:"flex flex-col items-center gap-4 py-20 text-center",children:[f.jsx(CT,{size:48,className:"text-destructive/40"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-bold",children:"Access Denied"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This area is restricted to admin users."}),f.jsxs("p",{className:"mt-3 text-xs text-muted-foreground max-w-xs mx-auto",children:["To become admin: open Firebase Console  Firestore "," ",f.jsx("code",{className:"font-mono bg-muted px-1 rounded",children:"users/{uid}/profile/data"})," ","and add field ",f.jsx("code",{className:"font-mono bg-muted px-1 rounded",children:'role = "admin"'})]})]})]}):t}function uhe({quote:t,onDelete:e,onToggle:r,onSave:n}){const[i,a]=D.useState(!1),[o,l]=D.useState(t.text),[c,d]=D.useState(t.author??""),[p,m]=D.useState(!1);async function y(){o.trim()&&(m(!0),await n(t.id,{text:o.trim(),author:c.trim()}),m(!1),a(!1))}return f.jsx("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2",children:i?f.jsxs(f.Fragment,{children:[f.jsx("textarea",{value:o,onChange:x=>l(x.target.value),rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("input",{value:c,onChange:x=>d(x.target.value),placeholder:"Author (optional)",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:y,disabled:p||!o.trim(),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground disabled:opacity-50",children:[f.jsx(xr,{size:12}),p?"Saving":"Save"]}),f.jsxs("button",{onClick:()=>{a(!1),l(t.text),d(t.author??"")},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:bg-muted",children:[f.jsx(on,{size:12}),"Cancel"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-sm italic text-foreground",children:['"',t.text,'"']}),t.author&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",t.author]}),f.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[f.jsx("button",{onClick:()=>a(!0),className:"rounded-lg border border-border p-1.5 text-muted-foreground hover:bg-accent transition-colors",title:"Edit",children:f.jsx(tG,{size:13})}),f.jsx("button",{onClick:()=>r(t.id,t.active),className:ke("rounded-lg border p-1.5 transition-colors",t.active?"border-emerald-300 text-emerald-600 hover:bg-emerald-50":"border-border text-muted-foreground hover:bg-muted"),title:t.active?"Deactivate":"Activate",children:t.active?f.jsx(lG,{size:13}):f.jsx(sG,{size:13})}),f.jsx("button",{onClick:()=>e(t.id),className:"rounded-lg border border-destructive/30 p-1.5 text-destructive hover:bg-destructive/10 transition-colors",title:"Delete",children:f.jsx(Ui,{size:13})}),f.jsx("span",{className:ke("ml-auto rounded-full px-2 py-0.5 text-[10px] font-semibold",t.active?"bg-emerald-100 text-emerald-700":"bg-muted text-muted-foreground"),children:t.active?"Active":"Inactive"})]})]})})}function che({onAdd:t}){const[e,r]=D.useState(""),[n,i]=D.useState(""),[a,o]=D.useState(!1),[l,c]=D.useState(!1);async function d(p){if(p.preventDefault(),!!e.trim()){o(!0);try{await t({text:e.trim(),author:n.trim()}),r(""),i(""),c(!1)}catch{}o(!1)}}return l?f.jsxs("form",{onSubmit:d,className:"rounded-xl border border-primary/30 bg-card p-4 space-y-3",children:[f.jsx("textarea",{autoFocus:!0,value:e,onChange:p=>r(p.target.value),placeholder:"Motivational quote text",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("input",{value:n,onChange:p=>i(p.target.value),placeholder:"Author (optional)",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",disabled:a||!e.trim(),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:[f.jsx(xr,{size:13}),a?"Saving":"Add Quote"]}),f.jsx("button",{type:"button",onClick:()=>{c(!1),r(""),i("")},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-2 text-sm font-medium text-muted-foreground hover:bg-muted",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>c(!0),className:"flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-primary/40 py-3 text-sm font-medium text-primary hover:bg-primary/5 transition-colors",children:[f.jsx(dr,{size:15})," Add Quote"]})}function dhe(){const{quotes:t,loading:e,refresh:r}=Ude();async function n(c){await Lu.add(c),r()}async function i(c){confirm("Delete this quote?")&&(await Lu.remove(c),r())}async function a(c,d){await Lu.update(c,{active:!d}),r()}async function o(c,d){await Lu.update(c,d),r()}const l=t.filter(c=>c.active).length;return f.jsx(lhe,{children:f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[f.jsx(m3,{size:22,className:"text-primary"})," Admin Panel"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Control motivational quotes and app content."})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[f.jsx(p3,{size:16,className:"text-primary"}),"Motivational Quotes"]}),f.jsxs("div",{className:"text-xs text-muted-foreground",children:[l," active  ",t.length," total"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground -mt-2",children:"Active quotes rotate hourly on the dashboard for all users. Add as many as you like."}),e?f.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"Loading"}):f.jsxs("div",{className:"space-y-3",children:[f.jsx(che,{onAdd:n}),t.length===0&&f.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No quotes yet. Add some above!"}),t.map(c=>f.jsx(uhe,{quote:c,onDelete:i,onToggle:a,onSave:o},c.id))]})]}),f.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-4 space-y-2",children:[f.jsx("p",{className:"text-sm font-semibold text-amber-800",children:" Admin Setup Reminder"}),f.jsxs("ul",{className:"text-xs text-amber-700 space-y-1 list-disc list-inside",children:[f.jsxs("li",{children:["Firestore security rules: add ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:"quotes"})," collection rules to allow authenticated reads and admin writes."]}),f.jsxs("li",{children:["To add another admin: set ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:'role = "admin"'})," in their profile doc."]}),f.jsxs("li",{children:["Quotes are stored in ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:"quotes/{id}"}),"  top-level Firestore collection."]})]})]})]})})}function fhe(){const{loading:t}=fi();return t?f.jsx("div",{className:"flex h-screen items-center justify-center",children:f.jsx("span",{className:"text-muted-foreground text-sm",children:"Loading..."})}):f.jsxs(dz,{children:[f.jsx(vr,{path:"/login",element:f.jsx(aK,{})}),f.jsx(vr,{path:"/register",element:f.jsx(oK,{})}),f.jsx(vr,{element:f.jsx(iK,{}),children:f.jsxs(vr,{element:f.jsx(nK,{}),children:[f.jsx(vr,{index:!0,element:f.jsx(S1,{to:"/dashboard",replace:!0})}),f.jsx(vr,{path:"/dashboard",element:f.jsx(mfe,{})}),f.jsx(vr,{path:"/attendance",element:f.jsx(_fe,{})}),f.jsx(vr,{path:"/timetable",element:f.jsx(Pfe,{})}),f.jsx(vr,{path:"/subjects",element:f.jsx(kfe,{})}),f.jsx(vr,{path:"/exams",element:f.jsx(Dfe,{})}),f.jsx(vr,{path:"/tasks",element:f.jsx(Ufe,{})}),f.jsx(vr,{path:"/profile",element:f.jsx(Bfe,{})}),f.jsx(vr,{path:"/calendar",element:f.jsx(Kfe,{})}),f.jsx(vr,{path:"/ptp",element:f.jsx(Zfe,{})}),f.jsx(vr,{path:"/ptp/group/:groupId",element:f.jsx(rhe,{})}),f.jsx(vr,{path:"/ptp/friend/:friendUid",element:f.jsx(she,{})}),f.jsx(vr,{path:"/admin",element:f.jsx(dhe,{})})]})}),f.jsx(vr,{path:"*",element:f.jsx(S1,{to:"/dashboard",replace:!0})})]})}bU.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(bz,{children:f.jsx(FH,{children:f.jsx(fhe,{})})})}));
