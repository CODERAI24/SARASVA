function hU(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wb={exports:{}},Pd={},Hb={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj;function pU(){if(Qj)return tt;Qj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function b(W,Y,de){this.props=W,this.context=Y,this.refs=w,this.updater=de||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,Y){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Y,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function T(){}T.prototype=b.prototype;function E(W,Y,de){this.props=W,this.context=Y,this.refs=w,this.updater=de||x}var I=E.prototype=new T;I.constructor=E,S(I,b.prototype),I.isPureReactComponent=!0;var N=Array.isArray,k=Object.prototype.hasOwnProperty,O={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(W,Y,de){var se,xe={},Re=null,ue=null;if(Y!=null)for(se in Y.ref!==void 0&&(ue=Y.ref),Y.key!==void 0&&(Re=""+Y.key),Y)k.call(Y,se)&&!P.hasOwnProperty(se)&&(xe[se]=Y[se]);var Se=arguments.length-2;if(Se===1)xe.children=de;else if(1<Se){for(var fe=Array(Se),Ee=0;Ee<Se;Ee++)fe[Ee]=arguments[Ee+2];xe.children=fe}if(W&&W.defaultProps)for(se in Se=W.defaultProps,Se)xe[se]===void 0&&(xe[se]=Se[se]);return{$$typeof:t,type:W,key:Re,ref:ue,props:xe,_owner:O.current}}function R(W,Y){return{$$typeof:t,type:W.type,key:Y,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var Y={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(de){return Y[de]})}var $=/\/+/g;function V(W,Y){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):Y.toString(36)}function q(W,Y,de,se,xe){var Re=typeof W;(Re==="undefined"||Re==="boolean")&&(W=null);var ue=!1;if(W===null)ue=!0;else switch(Re){case"string":case"number":ue=!0;break;case"object":switch(W.$$typeof){case t:case e:ue=!0}}if(ue)return ue=W,xe=xe(ue),W=se===""?"."+V(ue,0):se,N(xe)?(de="",W!=null&&(de=W.replace($,"$&/")+"/"),q(xe,Y,de,"",function(Ee){return Ee})):xe!=null&&(F(xe)&&(xe=R(xe,de+(!xe.key||ue&&ue.key===xe.key?"":(""+xe.key).replace($,"$&/")+"/")+W)),Y.push(xe)),1;if(ue=0,se=se===""?".":se+":",N(W))for(var Se=0;Se<W.length;Se++){Re=W[Se];var fe=se+V(Re,Se);ue+=q(Re,Y,de,fe,xe)}else if(fe=y(W),typeof fe=="function")for(W=fe.call(W),Se=0;!(Re=W.next()).done;)Re=Re.value,fe=se+V(Re,Se++),ue+=q(Re,Y,de,fe,xe);else if(Re==="object")throw Y=String(W),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ue}function X(W,Y,de){if(W==null)return W;var se=[],xe=0;return q(W,se,"","",function(Re){return Y.call(de,Re,xe++)}),se}function te(W){if(W._status===-1){var Y=W._result;Y=Y(),Y.then(function(de){(W._status===0||W._status===-1)&&(W._status=1,W._result=de)},function(de){(W._status===0||W._status===-1)&&(W._status=2,W._result=de)}),W._status===-1&&(W._status=0,W._result=Y)}if(W._status===1)return W._result.default;throw W._result}var re={current:null},Q={transition:null},ae={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:O};function ne(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:X,forEach:function(W,Y,de){X(W,function(){Y.apply(this,arguments)},de)},count:function(W){var Y=0;return X(W,function(){Y++}),Y},toArray:function(W){return X(W,function(Y){return Y})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},tt.Component=b,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=E,tt.StrictMode=n,tt.Suspense=c,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,tt.act=ne,tt.cloneElement=function(W,Y,de){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var se=S({},W.props),xe=W.key,Re=W.ref,ue=W._owner;if(Y!=null){if(Y.ref!==void 0&&(Re=Y.ref,ue=O.current),Y.key!==void 0&&(xe=""+Y.key),W.type&&W.type.defaultProps)var Se=W.type.defaultProps;for(fe in Y)k.call(Y,fe)&&!P.hasOwnProperty(fe)&&(se[fe]=Y[fe]===void 0&&Se!==void 0?Se[fe]:Y[fe])}var fe=arguments.length-2;if(fe===1)se.children=de;else if(1<fe){Se=Array(fe);for(var Ee=0;Ee<fe;Ee++)Se[Ee]=arguments[Ee+2];se.children=Se}return{$$typeof:t,type:W.type,key:xe,ref:Re,props:se,_owner:ue}},tt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},tt.createElement=C,tt.createFactory=function(W){var Y=C.bind(null,W);return Y.type=W,Y},tt.createRef=function(){return{current:null}},tt.forwardRef=function(W){return{$$typeof:l,render:W}},tt.isValidElement=F,tt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:te}},tt.memo=function(W,Y){return{$$typeof:d,type:W,compare:Y===void 0?null:Y}},tt.startTransition=function(W){var Y=Q.transition;Q.transition={};try{W()}finally{Q.transition=Y}},tt.unstable_act=ne,tt.useCallback=function(W,Y){return re.current.useCallback(W,Y)},tt.useContext=function(W){return re.current.useContext(W)},tt.useDebugValue=function(){},tt.useDeferredValue=function(W){return re.current.useDeferredValue(W)},tt.useEffect=function(W,Y){return re.current.useEffect(W,Y)},tt.useId=function(){return re.current.useId()},tt.useImperativeHandle=function(W,Y,de){return re.current.useImperativeHandle(W,Y,de)},tt.useInsertionEffect=function(W,Y){return re.current.useInsertionEffect(W,Y)},tt.useLayoutEffect=function(W,Y){return re.current.useLayoutEffect(W,Y)},tt.useMemo=function(W,Y){return re.current.useMemo(W,Y)},tt.useReducer=function(W,Y,de){return re.current.useReducer(W,Y,de)},tt.useRef=function(W){return re.current.useRef(W)},tt.useState=function(W){return re.current.useState(W)},tt.useSyncExternalStore=function(W,Y,de){return re.current.useSyncExternalStore(W,Y,de)},tt.useTransition=function(){return re.current.useTransition()},tt.version="18.3.1",tt}var Jj;function jE(){return Jj||(Jj=1,Hb.exports=pU()),Hb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj;function mU(){if(Zj)return Pd;Zj=1;var t=jE(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var p,m={},y=null,x=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(x=c.ref);for(p in c)n.call(c,p)&&!a.hasOwnProperty(p)&&(m[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:e,type:l,key:y,ref:x,props:m,_owner:i.current}}return Pd.Fragment=r,Pd.jsx=o,Pd.jsxs=o,Pd}var ek;function gU(){return ek||(ek=1,Wb.exports=mU()),Wb.exports}var f=gU(),D=jE();const G=wt(D),yU=hU({__proto__:null,default:G},[D]);var Jp={},Gb={exports:{}},vn={},Kb={exports:{}},Xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function vU(){return tk||(tk=1,(function(t){function e(Q,ae){var ne=Q.length;Q.push(ae);e:for(;0<ne;){var W=ne-1>>>1,Y=Q[W];if(0<i(Y,ae))Q[W]=ae,Q[ne]=Y,ne=W;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ae=Q[0],ne=Q.pop();if(ne!==ae){Q[0]=ne;e:for(var W=0,Y=Q.length,de=Y>>>1;W<de;){var se=2*(W+1)-1,xe=Q[se],Re=se+1,ue=Q[Re];if(0>i(xe,ne))Re<Y&&0>i(ue,xe)?(Q[W]=ue,Q[Re]=ne,W=Re):(Q[W]=xe,Q[se]=ne,W=se);else if(Re<Y&&0>i(ue,ne))Q[W]=ue,Q[Re]=ne,W=Re;else break e}}return ae}function i(Q,ae){var ne=Q.sortIndex-ae.sortIndex;return ne!==0?ne:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,m=null,y=3,x=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=Q)n(d),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=r(d)}}function N(Q){if(w=!1,I(Q),!S)if(r(c)!==null)S=!0,te(k);else{var ae=r(d);ae!==null&&re(N,ae.startTime-Q)}}function k(Q,ae){S=!1,w&&(w=!1,T(C),C=-1),x=!0;var ne=y;try{for(I(ae),m=r(c);m!==null&&(!(m.expirationTime>ae)||Q&&!L());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var Y=W(m.expirationTime<=ae);ae=t.unstable_now(),typeof Y=="function"?m.callback=Y:m===r(c)&&n(c),I(ae)}else n(c);m=r(c)}if(m!==null)var de=!0;else{var se=r(d);se!==null&&re(N,se.startTime-ae),de=!1}return de}finally{m=null,y=ne,x=!1}}var O=!1,P=null,C=-1,R=5,F=-1;function L(){return!(t.unstable_now()-F<R)}function $(){if(P!==null){var Q=t.unstable_now();F=Q;var ae=!0;try{ae=P(!0,Q)}finally{ae?V():(O=!1,P=null)}}else O=!1}var V;if(typeof E=="function")V=function(){E($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=$,V=function(){X.postMessage(null)}}else V=function(){b($,0)};function te(Q){P=Q,O||(O=!0,V())}function re(Q,ae){C=b(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,te(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ne=y;y=ae;try{return Q()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=y;y=Q;try{return ae()}finally{y=ne}},t.unstable_scheduleCallback=function(Q,ae,ne){var W=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?W+ne:W):ne=W,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,Q={id:p++,callback:ae,priorityLevel:Q,startTime:ne,expirationTime:Y,sortIndex:-1},ne>W?(Q.sortIndex=ne,e(d,Q),r(c)===null&&Q===r(d)&&(w?(T(C),C=-1):w=!0,re(N,ne-W))):(Q.sortIndex=Y,e(c,Q),S||x||(S=!0,te(k))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var ae=y;return function(){var ne=y;y=ae;try{return Q.apply(this,arguments)}finally{y=ne}}}})(Xb)),Xb}var rk;function bU(){return rk||(rk=1,Kb.exports=vU()),Kb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function xU(){if(nk)return vn;nk=1;var t=jE(),e=bU();function r(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,u){o(s,u),o(s+"Capture",u)}function o(s,u){for(i[s]=u,s=0;s<u.length;s++)n.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return c.call(m,s)?!0:c.call(p,s)?!1:d.test(s)?m[s]=!0:(p[s]=!0,!1)}function x(s,u,h,v){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,u,h,v){if(u===null||typeof u>"u"||x(s,u,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(s,u,h,v,_,j,U){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=s,this.type=u,this.sanitizeURL=j,this.removeEmptyString=U}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];b[u]=new w(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(T,E);b[u]=new w(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(T,E);b[u]=new w(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(T,E);b[u]=new w(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function I(s,u,h,v){var _=b.hasOwnProperty(u)?b[u]:null;(_!==null?_.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,h,_,v)&&(h=null),v||_===null?y(u)&&(h===null?s.removeAttribute(u):s.setAttribute(u,""+h)):_.mustUseProperty?s[_.propertyName]=h===null?_.type===3?!1:"":h:(u=_.attributeName,v=_.attributeNamespace,h===null?s.removeAttribute(u):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,v?s.setAttributeNS(v,u,h):s.setAttribute(u,h))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,W;function Y(s){if(W===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+s}var de=!1;function se(s,u){if(!s||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ie){var v=ie}Reflect.construct(s,[],u)}else{try{u.call()}catch(ie){v=ie}s.call(u.prototype)}else{try{throw Error()}catch(ie){v=ie}s()}}catch(ie){if(ie&&v&&typeof ie.stack=="string"){for(var _=ie.stack.split(`
`),j=v.stack.split(`
`),U=_.length-1,B=j.length-1;1<=U&&0<=B&&_[U]!==j[B];)B--;for(;1<=U&&0<=B;U--,B--)if(_[U]!==j[B]){if(U!==1||B!==1)do if(U--,B--,0>B||_[U]!==j[B]){var H=`
`+_[U].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=U&&0<=B);break}}}finally{de=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Y(s):""}function xe(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function Re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case O:return"Portal";case R:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case $:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return u=s.displayName||null,u!==null?u:Re(s.type)||"Memo";case te:u=s._payload,s=s._init;try{return Re(s(u))}catch{}}return null}function ue(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(u);case 8:return u===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fe(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ee(s){var u=fe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),v=""+s[u];if(!s.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,j=h.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return _.call(this)},set:function(U){v=""+U,j.call(this,U)}}),Object.defineProperty(s,u,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(U){v=""+U},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Le(s){s._valueTracker||(s._valueTracker=Ee(s))}function pe(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var h=u.getValue(),v="";return s&&(v=fe(s)?s.checked?"true":"false":s.value),s=v,s!==h?(u.setValue(s),!0):!1}function it(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function We(s,u){var h=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function gt(s,u){var h=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;h=Se(u.value!=null?u.value:h),s._wrapperState={initialChecked:v,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function dt(s,u){u=u.checked,u!=null&&I(s,"checked",u,!1)}function _t(s,u){dt(s,u);var h=Se(u.value),v=u.type;if(h!=null)v==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?fr(s,u.type,h):u.hasOwnProperty("defaultValue")&&fr(s,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function nr(s,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,h||u===s.value||(s.value=u),s.defaultValue=u}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function fr(s,u,h){(u!=="number"||it(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var hr=Array.isArray;function $t(s,u,h,v){if(s=s.options,u){u={};for(var _=0;_<h.length;_++)u["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=u.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&v&&(s[h].defaultSelected=!0)}else{for(h=""+Se(h),u=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,v&&(s[_].defaultSelected=!0);return}u!==null||s[_].disabled||(u=s[_])}u!==null&&(u.selected=!0)}}function me(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xe(s,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(hr(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}s._wrapperState={initialValue:Se(h)}}function Nt(s,u){var h=Se(u.value),v=Se(u.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),u.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),v!=null&&(s.defaultValue=""+v)}function Gt(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Jt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Jt(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Bn,_s=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,v,_){MSApp.execUnsafeLocalFunction(function(){return s(u,h,v,_)})}:s})(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(Bn=Bn||document.createElement("div"),Bn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Bn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function hi(s,u){if(u){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=u;return}}s.textContent=u}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pi=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(s){pi.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),ba[u]=ba[s]})});function Ss(s,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||ba.hasOwnProperty(s)&&ba[s]?(""+u).trim():u+"px"}function po(s,u){s=s.style;for(var h in u)if(u.hasOwnProperty(h)){var v=h.indexOf("--")===0,_=Ss(h,u[h],v);h==="float"&&(h="cssFloat"),v?s.setProperty(h,_):s[h]=_}}var Oe=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Be(s,u){if(u){if(Oe[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function jn(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function Dl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ll=null,qn=null,zi=null;function $l(s){if(s=fd(s)){if(typeof Ll!="function")throw Error(r(280));var u=s.stateNode;u&&(u=fp(u),Ll(s.stateNode,s.type,u))}}function Bi(s){qn?zi?zi.push(s):zi=[s]:qn=s}function Bc(){if(qn){var s=qn,u=zi;if(zi=qn=null,$l(s),u)for(s=0;s<u.length;s++)$l(u[s])}}function Ts(s,u){return s(u)}function qc(){}var xa=!1;function Wc(s,u,h){if(xa)return s(u,h);xa=!0;try{return Ts(s,u,h)}finally{xa=!1,(qn!==null||zi!==null)&&(qc(),Bc())}}function Zt(s,u){var h=s.stateNode;if(h===null)return null;var v=fp(h);if(v===null)return null;h=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Vl=!1;if(l)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{Vl=!1}function As(s,u,h,v,_,j,U,B,H){var ie=Array.prototype.slice.call(arguments,3);try{u.apply(h,ie)}catch(ye){this.onError(ye)}}var Ps=!1,Fl=null,gi=!1,Hc=null,bv={onError:function(s){Ps=!0,Fl=s}};function Ul(s,u,h,v,_,j,U,B,H){Ps=!1,Fl=null,As.apply(bv,arguments)}function Lh(s,u,h,v,_,j,U,B,H){if(Ul.apply(this,arguments),Ps){if(Ps){var ie=Fl;Ps=!1,Fl=null}else throw Error(r(198));gi||(gi=!0,Hc=ie)}}function yi(s){var u=s,h=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(h=u.return),s=u.return;while(s)}return u.tag===3?h:null}function js(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function vi(s){if(yi(s)!==s)throw Error(r(188))}function $h(s){var u=s.alternate;if(!u){if(u=yi(s),u===null)throw Error(r(188));return u!==s?null:s}for(var h=s,v=u;;){var _=h.return;if(_===null)break;var j=_.alternate;if(j===null){if(v=_.return,v!==null){h=v;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===h)return vi(_),s;if(j===v)return vi(_),u;j=j.sibling}throw Error(r(188))}if(h.return!==v.return)h=_,v=j;else{for(var U=!1,B=_.child;B;){if(B===h){U=!0,h=_,v=j;break}if(B===v){U=!0,v=_,h=j;break}B=B.sibling}if(!U){for(B=j.child;B;){if(B===h){U=!0,h=j,v=_;break}if(B===v){U=!0,v=j,h=_;break}B=B.sibling}if(!U)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:u}function Gc(s){return s=$h(s),s!==null?zl(s):null}function zl(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=zl(s);if(u!==null)return u;s=s.sibling}return null}var Bl=e.unstable_scheduleCallback,Kc=e.unstable_cancelCallback,Vh=e.unstable_shouldYield,xv=e.unstable_requestPaint,jt=e.unstable_now,Fh=e.unstable_getCurrentPriorityLevel,ks=e.unstable_ImmediatePriority,mo=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,Xc=e.unstable_LowPriority,Uh=e.unstable_IdlePriority,Is=null,kn=null;function zh(s){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Is,s,void 0,(s.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:qh,Yc=Math.log,Bh=Math.LN2;function qh(s){return s>>>=0,s===0?32:31-(Yc(s)/Bh|0)|0}var ql=64,Wl=4194304;function go(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Cs(s,u){var h=s.pendingLanes;if(h===0)return 0;var v=0,_=s.suspendedLanes,j=s.pingedLanes,U=h&268435455;if(U!==0){var B=U&~_;B!==0?v=go(B):(j&=U,j!==0&&(v=go(j)))}else U=h&~_,U!==0?v=go(U):j!==0&&(v=go(j));if(v===0)return 0;if(u!==0&&u!==v&&(u&_)===0&&(_=v&-v,j=u&-u,_>=j||_===16&&(j&4194240)!==0))return u;if((v&4)!==0&&(v|=h&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=v;0<u;)h=31-tn(u),_=1<<h,v|=s[h],u&=~_;return v}function wv(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(s,u){for(var h=s.suspendedLanes,v=s.pingedLanes,_=s.expirationTimes,j=s.pendingLanes;0<j;){var U=31-tn(j),B=1<<U,H=_[U];H===-1?((B&h)===0||(B&v)!==0)&&(_[U]=wv(B,u)):H<=u&&(s.expiredLanes|=B),j&=~B}}function In(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ns(){var s=ql;return ql<<=1,(ql&4194240)===0&&(ql=64),s}function yo(s){for(var u=[],h=0;31>h;h++)u.push(s);return u}function vo(s,u,h){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-tn(u),s[u]=h}function Tt(s,u){var h=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<h;){var _=31-tn(h),j=1<<_;u[_]=0,v[_]=-1,s[_]=-1,h&=~j}}function bo(s,u){var h=s.entangledLanes|=u;for(s=s.entanglements;h;){var v=31-tn(h),_=1<<v;_&u|s[v]&u&&(s[v]|=u),h&=~_}}var st=0;function xo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wh,Hl,Hh,Gh,Kh,Qc=!1,qi=[],Or=null,bi=null,xi=null,wo=new Map,Hn=new Map,Wi=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xh(s,u){switch(s){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":wo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(u.pointerId)}}function dn(s,u,h,v,_,j){return s===null||s.nativeEvent!==j?(s={blockedOn:u,domEventName:h,eventSystemFlags:v,nativeEvent:j,targetContainers:[_]},u!==null&&(u=fd(u),u!==null&&Hl(u)),s):(s.eventSystemFlags|=v,u=s.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),s)}function Sv(s,u,h,v,_){switch(u){case"focusin":return Or=dn(Or,s,u,h,v,_),!0;case"dragenter":return bi=dn(bi,s,u,h,v,_),!0;case"mouseover":return xi=dn(xi,s,u,h,v,_),!0;case"pointerover":var j=_.pointerId;return wo.set(j,dn(wo.get(j)||null,s,u,h,v,_)),!0;case"gotpointercapture":return j=_.pointerId,Hn.set(j,dn(Hn.get(j)||null,s,u,h,v,_)),!0}return!1}function Yh(s){var u=Ls(s.target);if(u!==null){var h=yi(u);if(h!==null){if(u=h.tag,u===13){if(u=js(h),u!==null){s.blockedOn=u,Kh(s.priority,function(){Hh(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _a(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var h=Gl(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);Es=v,h.target.dispatchEvent(v),Es=null}else return u=fd(h),u!==null&&Hl(u),s.blockedOn=h,!1;u.shift()}return!0}function Os(s,u,h){_a(s)&&h.delete(u)}function Qh(){Qc=!1,Or!==null&&_a(Or)&&(Or=null),bi!==null&&_a(bi)&&(bi=null),xi!==null&&_a(xi)&&(xi=null),wo.forEach(Os),Hn.forEach(Os)}function wi(s,u){s.blockedOn===u&&(s.blockedOn=null,Qc||(Qc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qh)))}function _i(s){function u(_){return wi(_,s)}if(0<qi.length){wi(qi[0],s);for(var h=1;h<qi.length;h++){var v=qi[h];v.blockedOn===s&&(v.blockedOn=null)}}for(Or!==null&&wi(Or,s),bi!==null&&wi(bi,s),xi!==null&&wi(xi,s),wo.forEach(u),Hn.forEach(u),h=0;h<Wi.length;h++)v=Wi[h],v.blockedOn===s&&(v.blockedOn=null);for(;0<Wi.length&&(h=Wi[0],h.blockedOn===null);)Yh(h),h.blockedOn===null&&Wi.shift()}var Sa=N.ReactCurrentBatchConfig,_o=!0;function Vt(s,u,h,v){var _=st,j=Sa.transition;Sa.transition=null;try{st=1,Jc(s,u,h,v)}finally{st=_,Sa.transition=j}}function Ev(s,u,h,v){var _=st,j=Sa.transition;Sa.transition=null;try{st=4,Jc(s,u,h,v)}finally{st=_,Sa.transition=j}}function Jc(s,u,h,v){if(_o){var _=Gl(s,u,h,v);if(_===null)Mv(s,u,v,Rs,h),Xh(s,v);else if(Sv(_,s,u,h,v))v.stopPropagation();else if(Xh(s,v),u&4&&-1<_v.indexOf(s)){for(;_!==null;){var j=fd(_);if(j!==null&&Wh(j),j=Gl(s,u,h,v),j===null&&Mv(s,u,v,Rs,h),j===_)break;_=j}_!==null&&v.stopPropagation()}else Mv(s,u,v,null,h)}}var Rs=null;function Gl(s,u,h,v){if(Rs=null,s=Dl(v),s=Ls(s),s!==null)if(u=yi(s),u===null)s=null;else if(h=u.tag,h===13){if(s=js(u),s!==null)return s;s=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return Rs=s,null}function Zc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fh()){case ks:return 1;case mo:return 4;case Wn:case Xc:return 16;case Uh:return 536870912;default:return 16}default:return 16}}var Cn=null,Kl=null,fn=null;function ed(){if(fn)return fn;var s,u=Kl,h=u.length,v,_="value"in Cn?Cn.value:Cn.textContent,j=_.length;for(s=0;s<h&&u[s]===_[s];s++);var U=h-s;for(v=1;v<=U&&u[h-v]===_[j-v];v++);return fn=_.slice(s,1<v?1-v:void 0)}function Xl(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Hi(){return!0}function td(){return!1}function Rr(s){function u(h,v,_,j,U){this._reactName=h,this._targetInst=_,this.type=v,this.nativeEvent=j,this.target=U,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(h=s[B],this[B]=h?h(j):j[B]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Hi:td,this.isPropagationStopped=td,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),u}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Rr(Si),Gi=ne({},Si,{view:0,detail:0}),Tv=Rr(Gi),Ql,Ea,So,Ms=ne({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==So&&(So&&s.type==="mousemove"?(Ql=s.screenX-So.screenX,Ea=s.screenY-So.screenY):Ea=Ql=0,So=s),Ql)},movementY:function(s){return"movementY"in s?s.movementY:Ea}}),Jl=Rr(Ms),rd=ne({},Ms,{dataTransfer:0}),Jh=Rr(rd),Zl=ne({},Gi,{relatedTarget:0}),eu=Rr(Zl),Zh=ne({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Rr(Zh),ep=ne({},Si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),tp=Rr(ep),rp=ne({},Si,{data:0}),nd=Rr(rp),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ip(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=np[s])?!!u[s]:!1}function Ki(){return ip}var g=ne({},Gi,{key:function(s){if(s.key){var u=tu[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Xl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?rn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(s){return s.type==="keypress"?Xl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),A=Rr(g),M=ne({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=Rr(M),J=ne({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),oe=Rr(J),we=ne({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=Rr(we),pr=ne({},Ms,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lt=Rr(pr),Er=[9,13,27,32],ir=l&&"CompositionEvent"in window,Gn=null;l&&"documentMode"in document&&(Gn=document.documentMode);var Nn=l&&"TextEvent"in window&&!Gn,Ds=l&&(!ir||Gn&&8<Gn&&11>=Gn),ru=" ",WA=!1;function HA(s,u){switch(s){case"keyup":return Er.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var nu=!1;function cF(s,u){switch(s){case"compositionend":return GA(u);case"keypress":return u.which!==32?null:(WA=!0,ru);case"textInput":return s=u.data,s===ru&&WA?null:s;default:return null}}function dF(s,u){if(nu)return s==="compositionend"||!ir&&HA(s,u)?(s=ed(),fn=Kl=Cn=null,nu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ds&&u.locale!=="ko"?null:u.data;default:return null}}var fF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!fF[s.type]:u==="textarea"}function XA(s,u,h,v){Bi(v),u=up(u,"onChange"),0<u.length&&(h=new Yl("onChange","change",null,h,v),s.push({event:h,listeners:u}))}var id=null,ad=null;function hF(s){hP(s,0)}function ap(s){var u=lu(s);if(pe(u))return s}function pF(s,u){if(s==="change")return u}var YA=!1;if(l){var Av;if(l){var Pv="oninput"in document;if(!Pv){var QA=document.createElement("div");QA.setAttribute("oninput","return;"),Pv=typeof QA.oninput=="function"}Av=Pv}else Av=!1;YA=Av&&(!document.documentMode||9<document.documentMode)}function JA(){id&&(id.detachEvent("onpropertychange",ZA),ad=id=null)}function ZA(s){if(s.propertyName==="value"&&ap(ad)){var u=[];XA(u,ad,s,Dl(s)),Wc(hF,u)}}function mF(s,u,h){s==="focusin"?(JA(),id=u,ad=h,id.attachEvent("onpropertychange",ZA)):s==="focusout"&&JA()}function gF(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ap(ad)}function yF(s,u){if(s==="click")return ap(u)}function vF(s,u){if(s==="input"||s==="change")return ap(u)}function bF(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Ei=typeof Object.is=="function"?Object.is:bF;function od(s,u){if(Ei(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var h=Object.keys(s),v=Object.keys(u);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var _=h[v];if(!c.call(u,_)||!Ei(s[_],u[_]))return!1}return!0}function eP(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tP(s,u){var h=eP(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=u&&v>=u)return{node:h,offset:u-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=eP(h)}}function rP(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?rP(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function nP(){for(var s=window,u=it();u instanceof s.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)s=u.contentWindow;else break;u=it(s.document)}return u}function jv(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function xF(s){var u=nP(),h=s.focusedElem,v=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&rP(h.ownerDocument.documentElement,h)){if(v!==null&&jv(h)){if(u=v.start,s=v.end,s===void 0&&(s=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(s,h.value.length);else if(s=(u=h.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var _=h.textContent.length,j=Math.min(v.start,_);v=v.end===void 0?j:Math.min(v.end,_),!s.extend&&j>v&&(_=v,v=j,j=_),_=tP(h,j);var U=tP(h,v);_&&U&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),s.removeAllRanges(),j>v?(s.addRange(u),s.extend(U.node,U.offset)):(u.setEnd(U.node,U.offset),s.addRange(u)))}}for(u=[],s=h;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)s=u[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var wF=l&&"documentMode"in document&&11>=document.documentMode,iu=null,kv=null,sd=null,Iv=!1;function iP(s,u,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Iv||iu==null||iu!==it(v)||(v=iu,"selectionStart"in v&&jv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),sd&&od(sd,v)||(sd=v,v=up(kv,"onSelect"),0<v.length&&(u=new Yl("onSelect","select",null,u,h),s.push({event:u,listeners:v}),u.target=iu)))}function op(s,u){var h={};return h[s.toLowerCase()]=u.toLowerCase(),h["Webkit"+s]="webkit"+u,h["Moz"+s]="moz"+u,h}var au={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},Cv={},aP={};l&&(aP=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function sp(s){if(Cv[s])return Cv[s];if(!au[s])return s;var u=au[s],h;for(h in u)if(u.hasOwnProperty(h)&&h in aP)return Cv[s]=u[h];return s}var oP=sp("animationend"),sP=sp("animationiteration"),lP=sp("animationstart"),uP=sp("transitionend"),cP=new Map,dP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(s,u){cP.set(s,u),a(u,[s])}for(var Nv=0;Nv<dP.length;Nv++){var Ov=dP[Nv],_F=Ov.toLowerCase(),SF=Ov[0].toUpperCase()+Ov.slice(1);Eo(_F,"on"+SF)}Eo(oP,"onAnimationEnd"),Eo(sP,"onAnimationIteration"),Eo(lP,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(uP,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function fP(s,u,h){var v=s.type||"unknown-event";s.currentTarget=h,Lh(v,u,void 0,s),s.currentTarget=null}function hP(s,u){u=(u&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],_=v.event;v=v.listeners;e:{var j=void 0;if(u)for(var U=v.length-1;0<=U;U--){var B=v[U],H=B.instance,ie=B.currentTarget;if(B=B.listener,H!==j&&_.isPropagationStopped())break e;fP(_,B,ie),j=H}else for(U=0;U<v.length;U++){if(B=v[U],H=B.instance,ie=B.currentTarget,B=B.listener,H!==j&&_.isPropagationStopped())break e;fP(_,B,ie),j=H}}}if(gi)throw s=Hc,gi=!1,Hc=null,s}function Ot(s,u){var h=u[Uv];h===void 0&&(h=u[Uv]=new Set);var v=s+"__bubble";h.has(v)||(pP(u,s,2,!1),h.add(v))}function Rv(s,u,h){var v=0;u&&(v|=4),pP(h,s,v,u)}var lp="_reactListening"+Math.random().toString(36).slice(2);function ud(s){if(!s[lp]){s[lp]=!0,n.forEach(function(h){h!=="selectionchange"&&(EF.has(h)||Rv(h,!1,s),Rv(h,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[lp]||(u[lp]=!0,Rv("selectionchange",!1,u))}}function pP(s,u,h,v){switch(Zc(u)){case 1:var _=Vt;break;case 4:_=Ev;break;default:_=Jc}h=_.bind(null,u,h,s),_=void 0,!Vl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),v?_!==void 0?s.addEventListener(u,h,{capture:!0,passive:_}):s.addEventListener(u,h,!0):_!==void 0?s.addEventListener(u,h,{passive:_}):s.addEventListener(u,h,!1)}function Mv(s,u,h,v,_){var j=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var U=v.tag;if(U===3||U===4){var B=v.stateNode.containerInfo;if(B===_||B.nodeType===8&&B.parentNode===_)break;if(U===4)for(U=v.return;U!==null;){var H=U.tag;if((H===3||H===4)&&(H=U.stateNode.containerInfo,H===_||H.nodeType===8&&H.parentNode===_))return;U=U.return}for(;B!==null;){if(U=Ls(B),U===null)return;if(H=U.tag,H===5||H===6){v=j=U;continue e}B=B.parentNode}}v=v.return}Wc(function(){var ie=j,ye=Dl(h),ve=[];e:{var ge=cP.get(s);if(ge!==void 0){var Pe=Yl,Ne=s;switch(s){case"keypress":if(Xl(h)===0)break e;case"keydown":case"keyup":Pe=A;break;case"focusin":Ne="focus",Pe=eu;break;case"focusout":Ne="blur",Pe=eu;break;case"beforeblur":case"afterblur":Pe=eu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=oe;break;case oP:case sP:case lP:Pe=Ta;break;case uP:Pe=xt;break;case"scroll":Pe=Tv;break;case"wheel":Pe=lt;break;case"copy":case"cut":case"paste":Pe=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=z}var Me=(u&4)!==0,er=!Me&&s==="scroll",Z=Me?ge!==null?ge+"Capture":null:ge;Me=[];for(var K=ie,ee;K!==null;){ee=K;var be=ee.stateNode;if(ee.tag===5&&be!==null&&(ee=be,Z!==null&&(be=Zt(K,Z),be!=null&&Me.push(cd(K,be,ee)))),er)break;K=K.return}0<Me.length&&(ge=new Pe(ge,Ne,null,h,ye),ve.push({event:ge,listeners:Me}))}}if((u&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",ge&&h!==Es&&(Ne=h.relatedTarget||h.fromElement)&&(Ls(Ne)||Ne[Aa]))break e;if((Pe||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Pe?(Ne=h.relatedTarget||h.toElement,Pe=ie,Ne=Ne?Ls(Ne):null,Ne!==null&&(er=yi(Ne),Ne!==er||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Pe=null,Ne=ie),Pe!==Ne)){if(Me=Jl,be="onMouseLeave",Z="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Me=z,be="onPointerLeave",Z="onPointerEnter",K="pointer"),er=Pe==null?ge:lu(Pe),ee=Ne==null?ge:lu(Ne),ge=new Me(be,K+"leave",Pe,h,ye),ge.target=er,ge.relatedTarget=ee,be=null,Ls(ye)===ie&&(Me=new Me(Z,K+"enter",Ne,h,ye),Me.target=ee,Me.relatedTarget=er,be=Me),er=be,Pe&&Ne)t:{for(Me=Pe,Z=Ne,K=0,ee=Me;ee;ee=ou(ee))K++;for(ee=0,be=Z;be;be=ou(be))ee++;for(;0<K-ee;)Me=ou(Me),K--;for(;0<ee-K;)Z=ou(Z),ee--;for(;K--;){if(Me===Z||Z!==null&&Me===Z.alternate)break t;Me=ou(Me),Z=ou(Z)}Me=null}else Me=null;Pe!==null&&mP(ve,ge,Pe,Me,!1),Ne!==null&&er!==null&&mP(ve,er,Ne,Me,!0)}}e:{if(ge=ie?lu(ie):window,Pe=ge.nodeName&&ge.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ge.type==="file")var De=pF;else if(KA(ge))if(YA)De=vF;else{De=gF;var Ve=mF}else(Pe=ge.nodeName)&&Pe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(De=yF);if(De&&(De=De(s,ie))){XA(ve,De,h,ye);break e}Ve&&Ve(s,ge,ie),s==="focusout"&&(Ve=ge._wrapperState)&&Ve.controlled&&ge.type==="number"&&fr(ge,"number",ge.value)}switch(Ve=ie?lu(ie):window,s){case"focusin":(KA(Ve)||Ve.contentEditable==="true")&&(iu=Ve,kv=ie,sd=null);break;case"focusout":sd=kv=iu=null;break;case"mousedown":Iv=!0;break;case"contextmenu":case"mouseup":case"dragend":Iv=!1,iP(ve,h,ye);break;case"selectionchange":if(wF)break;case"keydown":case"keyup":iP(ve,h,ye)}var Fe;if(ir)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else nu?HA(s,h)&&(He="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(He="onCompositionStart");He&&(Ds&&h.locale!=="ko"&&(nu||He!=="onCompositionStart"?He==="onCompositionEnd"&&nu&&(Fe=ed()):(Cn=ye,Kl="value"in Cn?Cn.value:Cn.textContent,nu=!0)),Ve=up(ie,He),0<Ve.length&&(He=new nd(He,s,null,h,ye),ve.push({event:He,listeners:Ve}),Fe?He.data=Fe:(Fe=GA(h),Fe!==null&&(He.data=Fe)))),(Fe=Nn?cF(s,h):dF(s,h))&&(ie=up(ie,"onBeforeInput"),0<ie.length&&(ye=new nd("onBeforeInput","beforeinput",null,h,ye),ve.push({event:ye,listeners:ie}),ye.data=Fe))}hP(ve,u)})}function cd(s,u,h){return{instance:s,listener:u,currentTarget:h}}function up(s,u){for(var h=u+"Capture",v=[];s!==null;){var _=s,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=Zt(s,h),j!=null&&v.unshift(cd(s,j,_)),j=Zt(s,u),j!=null&&v.push(cd(s,j,_))),s=s.return}return v}function ou(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function mP(s,u,h,v,_){for(var j=u._reactName,U=[];h!==null&&h!==v;){var B=h,H=B.alternate,ie=B.stateNode;if(H!==null&&H===v)break;B.tag===5&&ie!==null&&(B=ie,_?(H=Zt(h,j),H!=null&&U.unshift(cd(h,H,B))):_||(H=Zt(h,j),H!=null&&U.push(cd(h,H,B)))),h=h.return}U.length!==0&&s.push({event:u,listeners:U})}var TF=/\r\n?/g,AF=/\u0000|\uFFFD/g;function gP(s){return(typeof s=="string"?s:""+s).replace(TF,`
`).replace(AF,"")}function cp(s,u,h){if(u=gP(u),gP(s)!==u&&h)throw Error(r(425))}function dp(){}var Dv=null,Lv=null;function $v(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Vv=typeof setTimeout=="function"?setTimeout:void 0,PF=typeof clearTimeout=="function"?clearTimeout:void 0,yP=typeof Promise=="function"?Promise:void 0,jF=typeof queueMicrotask=="function"?queueMicrotask:typeof yP<"u"?function(s){return yP.resolve(null).then(s).catch(kF)}:Vv;function kF(s){setTimeout(function(){throw s})}function Fv(s,u){var h=u,v=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(v===0){s.removeChild(_),_i(u);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=_}while(h);_i(u)}function To(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function vP(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return s;u--}else h==="/$"&&u++}s=s.previousSibling}return null}var su=Math.random().toString(36).slice(2),Xi="__reactFiber$"+su,dd="__reactProps$"+su,Aa="__reactContainer$"+su,Uv="__reactEvents$"+su,IF="__reactListeners$"+su,CF="__reactHandles$"+su;function Ls(s){var u=s[Xi];if(u)return u;for(var h=s.parentNode;h;){if(u=h[Aa]||h[Xi]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(s=vP(s);s!==null;){if(h=s[Xi])return h;s=vP(s)}return u}s=h,h=s.parentNode}return null}function fd(s){return s=s[Xi]||s[Aa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function lu(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function fp(s){return s[dd]||null}var zv=[],uu=-1;function Ao(s){return{current:s}}function Rt(s){0>uu||(s.current=zv[uu],zv[uu]=null,uu--)}function kt(s,u){uu++,zv[uu]=s.current,s.current=u}var Po={},qr=Ao(Po),hn=Ao(!1),$s=Po;function cu(s,u){var h=s.type.contextTypes;if(!h)return Po;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in h)_[j]=u[j];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=_),_}function pn(s){return s=s.childContextTypes,s!=null}function hp(){Rt(hn),Rt(qr)}function bP(s,u,h){if(qr.current!==Po)throw Error(r(168));kt(qr,u),kt(hn,h)}function xP(s,u,h){var v=s.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var _ in v)if(!(_ in u))throw Error(r(108,ue(s)||"Unknown",_));return ne({},h,v)}function pp(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Po,$s=qr.current,kt(qr,s),kt(hn,hn.current),!0}function wP(s,u,h){var v=s.stateNode;if(!v)throw Error(r(169));h?(s=xP(s,u,$s),v.__reactInternalMemoizedMergedChildContext=s,Rt(hn),Rt(qr),kt(qr,s)):Rt(hn),kt(hn,h)}var Pa=null,mp=!1,Bv=!1;function _P(s){Pa===null?Pa=[s]:Pa.push(s)}function NF(s){mp=!0,_P(s)}function jo(){if(!Bv&&Pa!==null){Bv=!0;var s=0,u=st;try{var h=Pa;for(st=1;s<h.length;s++){var v=h[s];do v=v(!0);while(v!==null)}Pa=null,mp=!1}catch(_){throw Pa!==null&&(Pa=Pa.slice(s+1)),Bl(ks,jo),_}finally{st=u,Bv=!1}}return null}var du=[],fu=0,gp=null,yp=0,Kn=[],Xn=0,Vs=null,ja=1,ka="";function Fs(s,u){du[fu++]=yp,du[fu++]=gp,gp=s,yp=u}function SP(s,u,h){Kn[Xn++]=ja,Kn[Xn++]=ka,Kn[Xn++]=Vs,Vs=s;var v=ja;s=ka;var _=32-tn(v)-1;v&=~(1<<_),h+=1;var j=32-tn(u)+_;if(30<j){var U=_-_%5;j=(v&(1<<U)-1).toString(32),v>>=U,_-=U,ja=1<<32-tn(u)+_|h<<_|v,ka=j+s}else ja=1<<j|h<<_|v,ka=s}function qv(s){s.return!==null&&(Fs(s,1),SP(s,1,0))}function Wv(s){for(;s===gp;)gp=du[--fu],du[fu]=null,yp=du[--fu],du[fu]=null;for(;s===Vs;)Vs=Kn[--Xn],Kn[Xn]=null,ka=Kn[--Xn],Kn[Xn]=null,ja=Kn[--Xn],Kn[Xn]=null}var On=null,Rn=null,Ft=!1,Ti=null;function EP(s,u){var h=Zn(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=s,u=s.deletions,u===null?(s.deletions=[h],s.flags|=16):u.push(h)}function TP(s,u){switch(s.tag){case 5:var h=s.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,On=s,Rn=To(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,On=s,Rn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Vs!==null?{id:ja,overflow:ka}:null,s.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=Zn(18,null,null,0),h.stateNode=u,h.return=s,s.child=h,On=s,Rn=null,!0):!1;default:return!1}}function Hv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Gv(s){if(Ft){var u=Rn;if(u){var h=u;if(!TP(s,u)){if(Hv(s))throw Error(r(418));u=To(h.nextSibling);var v=On;u&&TP(s,u)?EP(v,h):(s.flags=s.flags&-4097|2,Ft=!1,On=s)}}else{if(Hv(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ft=!1,On=s}}}function AP(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function vp(s){if(s!==On)return!1;if(!Ft)return AP(s),Ft=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!$v(s.type,s.memoizedProps)),u&&(u=Rn)){if(Hv(s))throw PP(),Error(r(418));for(;u;)EP(s,u),u=To(u.nextSibling)}if(AP(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(u===0){Rn=To(s.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}s=s.nextSibling}Rn=null}}else Rn=On?To(s.stateNode.nextSibling):null;return!0}function PP(){for(var s=Rn;s;)s=To(s.nextSibling)}function hu(){Rn=On=null,Ft=!1}function Kv(s){Ti===null?Ti=[s]:Ti.push(s)}var OF=N.ReactCurrentBatchConfig;function hd(s,u,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,s));var _=v,j=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===j?u.ref:(u=function(U){var B=_.refs;U===null?delete B[j]:B[j]=U},u._stringRef=j,u)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function bp(s,u){throw s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function jP(s){var u=s._init;return u(s._payload)}function kP(s){function u(Z,K){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[K],Z.flags|=16):ee.push(K)}}function h(Z,K){if(!s)return null;for(;K!==null;)u(Z,K),K=K.sibling;return null}function v(Z,K){for(Z=new Map;K!==null;)K.key!==null?Z.set(K.key,K):Z.set(K.index,K),K=K.sibling;return Z}function _(Z,K){return Z=Do(Z,K),Z.index=0,Z.sibling=null,Z}function j(Z,K,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<K?(Z.flags|=2,K):ee):(Z.flags|=2,K)):(Z.flags|=1048576,K)}function U(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function B(Z,K,ee,be){return K===null||K.tag!==6?(K=Vb(ee,Z.mode,be),K.return=Z,K):(K=_(K,ee),K.return=Z,K)}function H(Z,K,ee,be){var De=ee.type;return De===P?ye(Z,K,ee.props.children,be,ee.key):K!==null&&(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&jP(De)===K.type)?(be=_(K,ee.props),be.ref=hd(Z,K,ee),be.return=Z,be):(be=Bp(ee.type,ee.key,ee.props,null,Z.mode,be),be.ref=hd(Z,K,ee),be.return=Z,be)}function ie(Z,K,ee,be){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=Fb(ee,Z.mode,be),K.return=Z,K):(K=_(K,ee.children||[]),K.return=Z,K)}function ye(Z,K,ee,be,De){return K===null||K.tag!==7?(K=Ks(ee,Z.mode,be,De),K.return=Z,K):(K=_(K,ee),K.return=Z,K)}function ve(Z,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Vb(""+K,Z.mode,ee),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return ee=Bp(K.type,K.key,K.props,null,Z.mode,ee),ee.ref=hd(Z,null,K),ee.return=Z,ee;case O:return K=Fb(K,Z.mode,ee),K.return=Z,K;case te:var be=K._init;return ve(Z,be(K._payload),ee)}if(hr(K)||ae(K))return K=Ks(K,Z.mode,ee,null),K.return=Z,K;bp(Z,K)}return null}function ge(Z,K,ee,be){var De=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return De!==null?null:B(Z,K,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return ee.key===De?H(Z,K,ee,be):null;case O:return ee.key===De?ie(Z,K,ee,be):null;case te:return De=ee._init,ge(Z,K,De(ee._payload),be)}if(hr(ee)||ae(ee))return De!==null?null:ye(Z,K,ee,be,null);bp(Z,ee)}return null}function Pe(Z,K,ee,be,De){if(typeof be=="string"&&be!==""||typeof be=="number")return Z=Z.get(ee)||null,B(K,Z,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case k:return Z=Z.get(be.key===null?ee:be.key)||null,H(K,Z,be,De);case O:return Z=Z.get(be.key===null?ee:be.key)||null,ie(K,Z,be,De);case te:var Ve=be._init;return Pe(Z,K,ee,Ve(be._payload),De)}if(hr(be)||ae(be))return Z=Z.get(ee)||null,ye(K,Z,be,De,null);bp(K,be)}return null}function Ne(Z,K,ee,be){for(var De=null,Ve=null,Fe=K,He=K=0,Pr=null;Fe!==null&&He<ee.length;He++){Fe.index>He?(Pr=Fe,Fe=null):Pr=Fe.sibling;var ft=ge(Z,Fe,ee[He],be);if(ft===null){Fe===null&&(Fe=Pr);break}s&&Fe&&ft.alternate===null&&u(Z,Fe),K=j(ft,K,He),Ve===null?De=ft:Ve.sibling=ft,Ve=ft,Fe=Pr}if(He===ee.length)return h(Z,Fe),Ft&&Fs(Z,He),De;if(Fe===null){for(;He<ee.length;He++)Fe=ve(Z,ee[He],be),Fe!==null&&(K=j(Fe,K,He),Ve===null?De=Fe:Ve.sibling=Fe,Ve=Fe);return Ft&&Fs(Z,He),De}for(Fe=v(Z,Fe);He<ee.length;He++)Pr=Pe(Fe,Z,He,ee[He],be),Pr!==null&&(s&&Pr.alternate!==null&&Fe.delete(Pr.key===null?He:Pr.key),K=j(Pr,K,He),Ve===null?De=Pr:Ve.sibling=Pr,Ve=Pr);return s&&Fe.forEach(function(Lo){return u(Z,Lo)}),Ft&&Fs(Z,He),De}function Me(Z,K,ee,be){var De=ae(ee);if(typeof De!="function")throw Error(r(150));if(ee=De.call(ee),ee==null)throw Error(r(151));for(var Ve=De=null,Fe=K,He=K=0,Pr=null,ft=ee.next();Fe!==null&&!ft.done;He++,ft=ee.next()){Fe.index>He?(Pr=Fe,Fe=null):Pr=Fe.sibling;var Lo=ge(Z,Fe,ft.value,be);if(Lo===null){Fe===null&&(Fe=Pr);break}s&&Fe&&Lo.alternate===null&&u(Z,Fe),K=j(Lo,K,He),Ve===null?De=Lo:Ve.sibling=Lo,Ve=Lo,Fe=Pr}if(ft.done)return h(Z,Fe),Ft&&Fs(Z,He),De;if(Fe===null){for(;!ft.done;He++,ft=ee.next())ft=ve(Z,ft.value,be),ft!==null&&(K=j(ft,K,He),Ve===null?De=ft:Ve.sibling=ft,Ve=ft);return Ft&&Fs(Z,He),De}for(Fe=v(Z,Fe);!ft.done;He++,ft=ee.next())ft=Pe(Fe,Z,He,ft.value,be),ft!==null&&(s&&ft.alternate!==null&&Fe.delete(ft.key===null?He:ft.key),K=j(ft,K,He),Ve===null?De=ft:Ve.sibling=ft,Ve=ft);return s&&Fe.forEach(function(fU){return u(Z,fU)}),Ft&&Fs(Z,He),De}function er(Z,K,ee,be){if(typeof ee=="object"&&ee!==null&&ee.type===P&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:e:{for(var De=ee.key,Ve=K;Ve!==null;){if(Ve.key===De){if(De=ee.type,De===P){if(Ve.tag===7){h(Z,Ve.sibling),K=_(Ve,ee.props.children),K.return=Z,Z=K;break e}}else if(Ve.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&jP(De)===Ve.type){h(Z,Ve.sibling),K=_(Ve,ee.props),K.ref=hd(Z,Ve,ee),K.return=Z,Z=K;break e}h(Z,Ve);break}else u(Z,Ve);Ve=Ve.sibling}ee.type===P?(K=Ks(ee.props.children,Z.mode,be,ee.key),K.return=Z,Z=K):(be=Bp(ee.type,ee.key,ee.props,null,Z.mode,be),be.ref=hd(Z,K,ee),be.return=Z,Z=be)}return U(Z);case O:e:{for(Ve=ee.key;K!==null;){if(K.key===Ve)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){h(Z,K.sibling),K=_(K,ee.children||[]),K.return=Z,Z=K;break e}else{h(Z,K);break}else u(Z,K);K=K.sibling}K=Fb(ee,Z.mode,be),K.return=Z,Z=K}return U(Z);case te:return Ve=ee._init,er(Z,K,Ve(ee._payload),be)}if(hr(ee))return Ne(Z,K,ee,be);if(ae(ee))return Me(Z,K,ee,be);bp(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(h(Z,K.sibling),K=_(K,ee),K.return=Z,Z=K):(h(Z,K),K=Vb(ee,Z.mode,be),K.return=Z,Z=K),U(Z)):h(Z,K)}return er}var pu=kP(!0),IP=kP(!1),xp=Ao(null),wp=null,mu=null,Xv=null;function Yv(){Xv=mu=wp=null}function Qv(s){var u=xp.current;Rt(xp),s._currentValue=u}function Jv(s,u,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),s===h)break;s=s.return}}function gu(s,u){wp=s,Xv=mu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(mn=!0),s.firstContext=null)}function Yn(s){var u=s._currentValue;if(Xv!==s)if(s={context:s,memoizedValue:u,next:null},mu===null){if(wp===null)throw Error(r(308));mu=s,wp.dependencies={lanes:0,firstContext:s}}else mu=mu.next=s;return u}var Us=null;function Zv(s){Us===null?Us=[s]:Us.push(s)}function CP(s,u,h,v){var _=u.interleaved;return _===null?(h.next=h,Zv(u)):(h.next=_.next,_.next=h),u.interleaved=h,Ia(s,v)}function Ia(s,u){s.lanes|=u;var h=s.alternate;for(h!==null&&(h.lanes|=u),h=s,s=s.return;s!==null;)s.childLanes|=u,h=s.alternate,h!==null&&(h.childLanes|=u),h=s,s=s.return;return h.tag===3?h.stateNode:null}var ko=!1;function eb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NP(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ca(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Io(s,u,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(ct&2)!==0){var _=v.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),v.pending=u,Ia(s,h)}return _=v.interleaved,_===null?(u.next=u,Zv(v)):(u.next=_.next,_.next=u),v.interleaved=u,Ia(s,h)}function _p(s,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var v=u.lanes;v&=s.pendingLanes,h|=v,u.lanes=h,bo(s,h)}}function OP(s,u){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var _=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var U={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?_=j=U:j=j.next=U,h=h.next}while(h!==null);j===null?_=j=u:j=j.next=u}else _=j=u;h={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:v.shared,effects:v.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=u}function Sp(s,u,h,v){var _=s.updateQueue;ko=!1;var j=_.firstBaseUpdate,U=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var H=B,ie=H.next;H.next=null,U===null?j=ie:U.next=ie,U=H;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,B=ye.lastBaseUpdate,B!==U&&(B===null?ye.firstBaseUpdate=ie:B.next=ie,ye.lastBaseUpdate=H))}if(j!==null){var ve=_.baseState;U=0,ye=ie=H=null,B=j;do{var ge=B.lane,Pe=B.eventTime;if((v&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ne=s,Me=B;switch(ge=u,Pe=h,Me.tag){case 1:if(Ne=Me.payload,typeof Ne=="function"){ve=Ne.call(Pe,ve,ge);break e}ve=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Me.payload,ge=typeof Ne=="function"?Ne.call(Pe,ve,ge):Ne,ge==null)break e;ve=ne({},ve,ge);break e;case 2:ko=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,ge=_.effects,ge===null?_.effects=[B]:ge.push(B))}else Pe={eventTime:Pe,lane:ge,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ye===null?(ie=ye=Pe,H=ve):ye=ye.next=Pe,U|=ge;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;ge=B,B=ge.next,ge.next=null,_.lastBaseUpdate=ge,_.shared.pending=null}}while(!0);if(ye===null&&(H=ve),_.baseState=H,_.firstBaseUpdate=ie,_.lastBaseUpdate=ye,u=_.shared.interleaved,u!==null){_=u;do U|=_.lane,_=_.next;while(_!==u)}else j===null&&(_.shared.lanes=0);qs|=U,s.lanes=U,s.memoizedState=ve}}function RP(s,u,h){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var v=s[u],_=v.callback;if(_!==null){if(v.callback=null,v=h,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var pd={},Yi=Ao(pd),md=Ao(pd),gd=Ao(pd);function zs(s){if(s===pd)throw Error(r(174));return s}function tb(s,u){switch(kt(gd,u),kt(md,s),kt(Yi,pd),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Kt(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=Kt(u,s)}Rt(Yi),kt(Yi,u)}function yu(){Rt(Yi),Rt(md),Rt(gd)}function MP(s){zs(gd.current);var u=zs(Yi.current),h=Kt(u,s.type);u!==h&&(kt(md,s),kt(Yi,h))}function rb(s){md.current===s&&(Rt(Yi),Rt(md))}var Bt=Ao(0);function Ep(s){for(var u=s;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var nb=[];function ib(){for(var s=0;s<nb.length;s++)nb[s]._workInProgressVersionPrimary=null;nb.length=0}var Tp=N.ReactCurrentDispatcher,ab=N.ReactCurrentBatchConfig,Bs=0,qt=null,mr=null,Tr=null,Ap=!1,yd=!1,vd=0,RF=0;function Wr(){throw Error(r(321))}function ob(s,u){if(u===null)return!1;for(var h=0;h<u.length&&h<s.length;h++)if(!Ei(s[h],u[h]))return!1;return!0}function sb(s,u,h,v,_,j){if(Bs=j,qt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Tp.current=s===null||s.memoizedState===null?$F:VF,s=h(v,_),yd){j=0;do{if(yd=!1,vd=0,25<=j)throw Error(r(301));j+=1,Tr=mr=null,u.updateQueue=null,Tp.current=FF,s=h(v,_)}while(yd)}if(Tp.current=kp,u=mr!==null&&mr.next!==null,Bs=0,Tr=mr=qt=null,Ap=!1,u)throw Error(r(300));return s}function lb(){var s=vd!==0;return vd=0,s}function Qi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?qt.memoizedState=Tr=s:Tr=Tr.next=s,Tr}function Qn(){if(mr===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=mr.next;var u=Tr===null?qt.memoizedState:Tr.next;if(u!==null)Tr=u,mr=s;else{if(s===null)throw Error(r(310));mr=s,s={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Tr===null?qt.memoizedState=Tr=s:Tr=Tr.next=s}return Tr}function bd(s,u){return typeof u=="function"?u(s):u}function ub(s){var u=Qn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=mr,_=v.baseQueue,j=h.pending;if(j!==null){if(_!==null){var U=_.next;_.next=j.next,j.next=U}v.baseQueue=_=j,h.pending=null}if(_!==null){j=_.next,v=v.baseState;var B=U=null,H=null,ie=j;do{var ye=ie.lane;if((Bs&ye)===ye)H!==null&&(H=H.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),v=ie.hasEagerState?ie.eagerState:s(v,ie.action);else{var ve={lane:ye,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};H===null?(B=H=ve,U=v):H=H.next=ve,qt.lanes|=ye,qs|=ye}ie=ie.next}while(ie!==null&&ie!==j);H===null?U=v:H.next=B,Ei(v,u.memoizedState)||(mn=!0),u.memoizedState=v,u.baseState=U,u.baseQueue=H,h.lastRenderedState=v}if(s=h.interleaved,s!==null){_=s;do j=_.lane,qt.lanes|=j,qs|=j,_=_.next;while(_!==s)}else _===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function cb(s){var u=Qn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,_=h.pending,j=u.memoizedState;if(_!==null){h.pending=null;var U=_=_.next;do j=s(j,U.action),U=U.next;while(U!==_);Ei(j,u.memoizedState)||(mn=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),h.lastRenderedState=j}return[j,v]}function DP(){}function LP(s,u){var h=qt,v=Qn(),_=u(),j=!Ei(v.memoizedState,_);if(j&&(v.memoizedState=_,mn=!0),v=v.queue,db(FP.bind(null,h,v,s),[s]),v.getSnapshot!==u||j||Tr!==null&&Tr.memoizedState.tag&1){if(h.flags|=2048,xd(9,VP.bind(null,h,v,_,u),void 0,null),Ar===null)throw Error(r(349));(Bs&30)!==0||$P(h,u,_)}return _}function $P(s,u,h){s.flags|=16384,s={getSnapshot:u,value:h},u=qt.updateQueue,u===null?(u={lastEffect:null,stores:null},qt.updateQueue=u,u.stores=[s]):(h=u.stores,h===null?u.stores=[s]:h.push(s))}function VP(s,u,h,v){u.value=h,u.getSnapshot=v,UP(u)&&zP(s)}function FP(s,u,h){return h(function(){UP(u)&&zP(s)})}function UP(s){var u=s.getSnapshot;s=s.value;try{var h=u();return!Ei(s,h)}catch{return!0}}function zP(s){var u=Ia(s,1);u!==null&&ki(u,s,1,-1)}function BP(s){var u=Qi();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:s},u.queue=s,s=s.dispatch=LF.bind(null,qt,s),[u.memoizedState,s]}function xd(s,u,h,v){return s={tag:s,create:u,destroy:h,deps:v,next:null},u=qt.updateQueue,u===null?(u={lastEffect:null,stores:null},qt.updateQueue=u,u.lastEffect=s.next=s):(h=u.lastEffect,h===null?u.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,u.lastEffect=s)),s}function qP(){return Qn().memoizedState}function Pp(s,u,h,v){var _=Qi();qt.flags|=s,_.memoizedState=xd(1|u,h,void 0,v===void 0?null:v)}function jp(s,u,h,v){var _=Qn();v=v===void 0?null:v;var j=void 0;if(mr!==null){var U=mr.memoizedState;if(j=U.destroy,v!==null&&ob(v,U.deps)){_.memoizedState=xd(u,h,j,v);return}}qt.flags|=s,_.memoizedState=xd(1|u,h,j,v)}function WP(s,u){return Pp(8390656,8,s,u)}function db(s,u){return jp(2048,8,s,u)}function HP(s,u){return jp(4,2,s,u)}function GP(s,u){return jp(4,4,s,u)}function KP(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function XP(s,u,h){return h=h!=null?h.concat([s]):null,jp(4,4,KP.bind(null,u,s),h)}function fb(){}function YP(s,u){var h=Qn();u=u===void 0?null:u;var v=h.memoizedState;return v!==null&&u!==null&&ob(u,v[1])?v[0]:(h.memoizedState=[s,u],s)}function QP(s,u){var h=Qn();u=u===void 0?null:u;var v=h.memoizedState;return v!==null&&u!==null&&ob(u,v[1])?v[0]:(s=s(),h.memoizedState=[s,u],s)}function JP(s,u,h){return(Bs&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=h):(Ei(h,u)||(h=Ns(),qt.lanes|=h,qs|=h,s.baseState=!0),u)}function MF(s,u){var h=st;st=h!==0&&4>h?h:4,s(!0);var v=ab.transition;ab.transition={};try{s(!1),u()}finally{st=h,ab.transition=v}}function ZP(){return Qn().memoizedState}function DF(s,u,h){var v=Ro(s);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},ej(s))tj(u,h);else if(h=CP(s,u,h,v),h!==null){var _=an();ki(h,s,v,_),rj(h,u,v)}}function LF(s,u,h){var v=Ro(s),_={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(ej(s))tj(u,_);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var U=u.lastRenderedState,B=j(U,h);if(_.hasEagerState=!0,_.eagerState=B,Ei(B,U)){var H=u.interleaved;H===null?(_.next=_,Zv(u)):(_.next=H.next,H.next=_),u.interleaved=_;return}}catch{}finally{}h=CP(s,u,_,v),h!==null&&(_=an(),ki(h,s,v,_),rj(h,u,v))}}function ej(s){var u=s.alternate;return s===qt||u!==null&&u===qt}function tj(s,u){yd=Ap=!0;var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}function rj(s,u,h){if((h&4194240)!==0){var v=u.lanes;v&=s.pendingLanes,h|=v,u.lanes=h,bo(s,h)}}var kp={readContext:Yn,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},$F={readContext:Yn,useCallback:function(s,u){return Qi().memoizedState=[s,u===void 0?null:u],s},useContext:Yn,useEffect:WP,useImperativeHandle:function(s,u,h){return h=h!=null?h.concat([s]):null,Pp(4194308,4,KP.bind(null,u,s),h)},useLayoutEffect:function(s,u){return Pp(4194308,4,s,u)},useInsertionEffect:function(s,u){return Pp(4,2,s,u)},useMemo:function(s,u){var h=Qi();return u=u===void 0?null:u,s=s(),h.memoizedState=[s,u],s},useReducer:function(s,u,h){var v=Qi();return u=h!==void 0?h(u):u,v.memoizedState=v.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},v.queue=s,s=s.dispatch=DF.bind(null,qt,s),[v.memoizedState,s]},useRef:function(s){var u=Qi();return s={current:s},u.memoizedState=s},useState:BP,useDebugValue:fb,useDeferredValue:function(s){return Qi().memoizedState=s},useTransition:function(){var s=BP(!1),u=s[0];return s=MF.bind(null,s[1]),Qi().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,h){var v=qt,_=Qi();if(Ft){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Ar===null)throw Error(r(349));(Bs&30)!==0||$P(v,u,h)}_.memoizedState=h;var j={value:h,getSnapshot:u};return _.queue=j,WP(FP.bind(null,v,j,s),[s]),v.flags|=2048,xd(9,VP.bind(null,v,j,h,u),void 0,null),h},useId:function(){var s=Qi(),u=Ar.identifierPrefix;if(Ft){var h=ka,v=ja;h=(v&~(1<<32-tn(v)-1)).toString(32)+h,u=":"+u+"R"+h,h=vd++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=RF++,u=":"+u+"r"+h.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},VF={readContext:Yn,useCallback:YP,useContext:Yn,useEffect:db,useImperativeHandle:XP,useInsertionEffect:HP,useLayoutEffect:GP,useMemo:QP,useReducer:ub,useRef:qP,useState:function(){return ub(bd)},useDebugValue:fb,useDeferredValue:function(s){var u=Qn();return JP(u,mr.memoizedState,s)},useTransition:function(){var s=ub(bd)[0],u=Qn().memoizedState;return[s,u]},useMutableSource:DP,useSyncExternalStore:LP,useId:ZP,unstable_isNewReconciler:!1},FF={readContext:Yn,useCallback:YP,useContext:Yn,useEffect:db,useImperativeHandle:XP,useInsertionEffect:HP,useLayoutEffect:GP,useMemo:QP,useReducer:cb,useRef:qP,useState:function(){return cb(bd)},useDebugValue:fb,useDeferredValue:function(s){var u=Qn();return mr===null?u.memoizedState=s:JP(u,mr.memoizedState,s)},useTransition:function(){var s=cb(bd)[0],u=Qn().memoizedState;return[s,u]},useMutableSource:DP,useSyncExternalStore:LP,useId:ZP,unstable_isNewReconciler:!1};function Ai(s,u){if(s&&s.defaultProps){u=ne({},u),s=s.defaultProps;for(var h in s)u[h]===void 0&&(u[h]=s[h]);return u}return u}function hb(s,u,h,v){u=s.memoizedState,h=h(v,u),h=h==null?u:ne({},u,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Ip={isMounted:function(s){return(s=s._reactInternals)?yi(s)===s:!1},enqueueSetState:function(s,u,h){s=s._reactInternals;var v=an(),_=Ro(s),j=Ca(v,_);j.payload=u,h!=null&&(j.callback=h),u=Io(s,j,_),u!==null&&(ki(u,s,_,v),_p(u,s,_))},enqueueReplaceState:function(s,u,h){s=s._reactInternals;var v=an(),_=Ro(s),j=Ca(v,_);j.tag=1,j.payload=u,h!=null&&(j.callback=h),u=Io(s,j,_),u!==null&&(ki(u,s,_,v),_p(u,s,_))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var h=an(),v=Ro(s),_=Ca(h,v);_.tag=2,u!=null&&(_.callback=u),u=Io(s,_,v),u!==null&&(ki(u,s,v,h),_p(u,s,v))}};function nj(s,u,h,v,_,j,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,j,U):u.prototype&&u.prototype.isPureReactComponent?!od(h,v)||!od(_,j):!0}function ij(s,u,h){var v=!1,_=Po,j=u.contextType;return typeof j=="object"&&j!==null?j=Yn(j):(_=pn(u)?$s:qr.current,v=u.contextTypes,j=(v=v!=null)?cu(s,_):Po),u=new u(h,j),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ip,s.stateNode=u,u._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=j),u}function aj(s,u,h,v){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==s&&Ip.enqueueReplaceState(u,u.state,null)}function pb(s,u,h,v){var _=s.stateNode;_.props=h,_.state=s.memoizedState,_.refs={},eb(s);var j=u.contextType;typeof j=="object"&&j!==null?_.context=Yn(j):(j=pn(u)?$s:qr.current,_.context=cu(s,j)),_.state=s.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(hb(s,u,j,h),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Ip.enqueueReplaceState(_,_.state,null),Sp(s,h,_,v),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function vu(s,u){try{var h="",v=u;do h+=xe(v),v=v.return;while(v);var _=h}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:u,stack:_,digest:null}}function mb(s,u,h){return{value:s,source:null,stack:h??null,digest:u??null}}function gb(s,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var UF=typeof WeakMap=="function"?WeakMap:Map;function oj(s,u,h){h=Ca(-1,h),h.tag=3,h.payload={element:null};var v=u.value;return h.callback=function(){Lp||(Lp=!0,Cb=v),gb(s,u)},h}function sj(s,u,h){h=Ca(-1,h),h.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;h.payload=function(){return v(_)},h.callback=function(){gb(s,u)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){gb(s,u),typeof v!="function"&&(No===null?No=new Set([this]):No.add(this));var U=u.stack;this.componentDidCatch(u.value,{componentStack:U!==null?U:""})}),h}function lj(s,u,h){var v=s.pingCache;if(v===null){v=s.pingCache=new UF;var _=new Set;v.set(u,_)}else _=v.get(u),_===void 0&&(_=new Set,v.set(u,_));_.has(h)||(_.add(h),s=tU.bind(null,s,u,h),u.then(s,s))}function uj(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function cj(s,u,h,v,_){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Ca(-1,1),u.tag=2,Io(h,u,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var zF=N.ReactCurrentOwner,mn=!1;function nn(s,u,h,v){u.child=s===null?IP(u,null,h,v):pu(u,s.child,h,v)}function dj(s,u,h,v,_){h=h.render;var j=u.ref;return gu(u,_),v=sb(s,u,h,v,j,_),h=lb(),s!==null&&!mn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~_,Na(s,u,_)):(Ft&&h&&qv(u),u.flags|=1,nn(s,u,v,_),u.child)}function fj(s,u,h,v,_){if(s===null){var j=h.type;return typeof j=="function"&&!$b(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=j,hj(s,u,j,v,_)):(s=Bp(h.type,null,v,u,u.mode,_),s.ref=u.ref,s.return=u,u.child=s)}if(j=s.child,(s.lanes&_)===0){var U=j.memoizedProps;if(h=h.compare,h=h!==null?h:od,h(U,v)&&s.ref===u.ref)return Na(s,u,_)}return u.flags|=1,s=Do(j,v),s.ref=u.ref,s.return=u,u.child=s}function hj(s,u,h,v,_){if(s!==null){var j=s.memoizedProps;if(od(j,v)&&s.ref===u.ref)if(mn=!1,u.pendingProps=v=j,(s.lanes&_)!==0)(s.flags&131072)!==0&&(mn=!0);else return u.lanes=s.lanes,Na(s,u,_)}return yb(s,u,h,v,_)}function pj(s,u,h){var v=u.pendingProps,_=v.children,j=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(xu,Mn),Mn|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,kt(xu,Mn),Mn|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:h,kt(xu,Mn),Mn|=v}else j!==null?(v=j.baseLanes|h,u.memoizedState=null):v=h,kt(xu,Mn),Mn|=v;return nn(s,u,_,h),u.child}function mj(s,u){var h=u.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function yb(s,u,h,v,_){var j=pn(h)?$s:qr.current;return j=cu(u,j),gu(u,_),h=sb(s,u,h,v,j,_),v=lb(),s!==null&&!mn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~_,Na(s,u,_)):(Ft&&v&&qv(u),u.flags|=1,nn(s,u,h,_),u.child)}function gj(s,u,h,v,_){if(pn(h)){var j=!0;pp(u)}else j=!1;if(gu(u,_),u.stateNode===null)Np(s,u),ij(u,h,v),pb(u,h,v,_),v=!0;else if(s===null){var U=u.stateNode,B=u.memoizedProps;U.props=B;var H=U.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=Yn(ie):(ie=pn(h)?$s:qr.current,ie=cu(u,ie));var ye=h.getDerivedStateFromProps,ve=typeof ye=="function"||typeof U.getSnapshotBeforeUpdate=="function";ve||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(B!==v||H!==ie)&&aj(u,U,v,ie),ko=!1;var ge=u.memoizedState;U.state=ge,Sp(u,v,U,_),H=u.memoizedState,B!==v||ge!==H||hn.current||ko?(typeof ye=="function"&&(hb(u,h,ye,v),H=u.memoizedState),(B=ko||nj(u,h,B,v,ge,H,ie))?(ve||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(u.flags|=4194308)):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=H),U.props=v,U.state=H,U.context=ie,v=B):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{U=u.stateNode,NP(s,u),B=u.memoizedProps,ie=u.type===u.elementType?B:Ai(u.type,B),U.props=ie,ve=u.pendingProps,ge=U.context,H=h.contextType,typeof H=="object"&&H!==null?H=Yn(H):(H=pn(h)?$s:qr.current,H=cu(u,H));var Pe=h.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(B!==ve||ge!==H)&&aj(u,U,v,H),ko=!1,ge=u.memoizedState,U.state=ge,Sp(u,v,U,_);var Ne=u.memoizedState;B!==ve||ge!==Ne||hn.current||ko?(typeof Pe=="function"&&(hb(u,h,Pe,v),Ne=u.memoizedState),(ie=ko||nj(u,h,ie,v,ge,Ne,H)||!1)?(ye||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(v,Ne,H),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(v,Ne,H)),typeof U.componentDidUpdate=="function"&&(u.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof U.componentDidUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ne),U.props=v,U.state=Ne,U.context=H,v=ie):(typeof U.componentDidUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ge===s.memoizedState||(u.flags|=1024),v=!1)}return vb(s,u,h,v,j,_)}function vb(s,u,h,v,_,j){mj(s,u);var U=(u.flags&128)!==0;if(!v&&!U)return _&&wP(u,h,!1),Na(s,u,j);v=u.stateNode,zF.current=u;var B=U&&typeof h.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,s!==null&&U?(u.child=pu(u,s.child,null,j),u.child=pu(u,null,B,j)):nn(s,u,B,j),u.memoizedState=v.state,_&&wP(u,h,!0),u.child}function yj(s){var u=s.stateNode;u.pendingContext?bP(s,u.pendingContext,u.pendingContext!==u.context):u.context&&bP(s,u.context,!1),tb(s,u.containerInfo)}function vj(s,u,h,v,_){return hu(),Kv(_),u.flags|=256,nn(s,u,h,v),u.child}var bb={dehydrated:null,treeContext:null,retryLane:0};function xb(s){return{baseLanes:s,cachePool:null,transitions:null}}function bj(s,u,h){var v=u.pendingProps,_=Bt.current,j=!1,U=(u.flags&128)!==0,B;if((B=U)||(B=s!==null&&s.memoizedState===null?!1:(_&2)!==0),B?(j=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),kt(Bt,_&1),s===null)return Gv(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(U=v.children,s=v.fallback,j?(v=u.mode,j=u.child,U={mode:"hidden",children:U},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=U):j=qp(U,v,0,null),s=Ks(s,v,h,null),j.return=u,s.return=u,j.sibling=s,u.child=j,u.child.memoizedState=xb(h),u.memoizedState=bb,s):wb(u,U));if(_=s.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return BF(s,u,U,v,B,_,h);if(j){j=v.fallback,U=u.mode,_=s.child,B=_.sibling;var H={mode:"hidden",children:v.children};return(U&1)===0&&u.child!==_?(v=u.child,v.childLanes=0,v.pendingProps=H,u.deletions=null):(v=Do(_,H),v.subtreeFlags=_.subtreeFlags&14680064),B!==null?j=Do(B,j):(j=Ks(j,U,h,null),j.flags|=2),j.return=u,v.return=u,v.sibling=j,u.child=v,v=j,j=u.child,U=s.child.memoizedState,U=U===null?xb(h):{baseLanes:U.baseLanes|h,cachePool:null,transitions:U.transitions},j.memoizedState=U,j.childLanes=s.childLanes&~h,u.memoizedState=bb,v}return j=s.child,s=j.sibling,v=Do(j,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=h),v.return=u,v.sibling=null,s!==null&&(h=u.deletions,h===null?(u.deletions=[s],u.flags|=16):h.push(s)),u.child=v,u.memoizedState=null,v}function wb(s,u){return u=qp({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function Cp(s,u,h,v){return v!==null&&Kv(v),pu(u,s.child,null,h),s=wb(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function BF(s,u,h,v,_,j,U){if(h)return u.flags&256?(u.flags&=-257,v=mb(Error(r(422))),Cp(s,u,U,v)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(j=v.fallback,_=u.mode,v=qp({mode:"visible",children:v.children},_,0,null),j=Ks(j,_,U,null),j.flags|=2,v.return=u,j.return=u,v.sibling=j,u.child=v,(u.mode&1)!==0&&pu(u,s.child,null,U),u.child.memoizedState=xb(U),u.memoizedState=bb,j);if((u.mode&1)===0)return Cp(s,u,U,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var B=v.dgst;return v=B,j=Error(r(419)),v=mb(j,v,void 0),Cp(s,u,U,v)}if(B=(U&s.childLanes)!==0,mn||B){if(v=Ar,v!==null){switch(U&-U){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|U))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,Ia(s,_),ki(v,s,_,-1))}return Lb(),v=mb(Error(r(421))),Cp(s,u,U,v)}return _.data==="$?"?(u.flags|=128,u.child=s.child,u=rU.bind(null,s),_._reactRetry=u,null):(s=j.treeContext,Rn=To(_.nextSibling),On=u,Ft=!0,Ti=null,s!==null&&(Kn[Xn++]=ja,Kn[Xn++]=ka,Kn[Xn++]=Vs,ja=s.id,ka=s.overflow,Vs=u),u=wb(u,v.children),u.flags|=4096,u)}function xj(s,u,h){s.lanes|=u;var v=s.alternate;v!==null&&(v.lanes|=u),Jv(s.return,u,h)}function _b(s,u,h,v,_){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:_}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=h,j.tailMode=_)}function wj(s,u,h){var v=u.pendingProps,_=v.revealOrder,j=v.tail;if(nn(s,u,v.children,h),v=Bt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xj(s,h,u);else if(s.tag===19)xj(s,h,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(kt(Bt,v),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(h=u.child,_=null;h!==null;)s=h.alternate,s!==null&&Ep(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=u.child,u.child=null):(_=h.sibling,h.sibling=null),_b(u,!1,_,h,j);break;case"backwards":for(h=null,_=u.child,u.child=null;_!==null;){if(s=_.alternate,s!==null&&Ep(s)===null){u.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}_b(u,!0,h,null,j);break;case"together":_b(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Np(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function Na(s,u,h){if(s!==null&&(u.dependencies=s.dependencies),qs|=u.lanes,(h&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,h=Do(s,s.pendingProps),u.child=h,h.return=u;s.sibling!==null;)s=s.sibling,h=h.sibling=Do(s,s.pendingProps),h.return=u;h.sibling=null}return u.child}function qF(s,u,h){switch(u.tag){case 3:yj(u),hu();break;case 5:MP(u);break;case 1:pn(u.type)&&pp(u);break;case 4:tb(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,_=u.memoizedProps.value;kt(xp,v._currentValue),v._currentValue=_;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(kt(Bt,Bt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?bj(s,u,h):(kt(Bt,Bt.current&1),s=Na(s,u,h),s!==null?s.sibling:null);kt(Bt,Bt.current&1);break;case 19:if(v=(h&u.childLanes)!==0,(s.flags&128)!==0){if(v)return wj(s,u,h);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),kt(Bt,Bt.current),v)break;return null;case 22:case 23:return u.lanes=0,pj(s,u,h)}return Na(s,u,h)}var _j,Sb,Sj,Ej;_j=function(s,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Sb=function(){},Sj=function(s,u,h,v){var _=s.memoizedProps;if(_!==v){s=u.stateNode,zs(Yi.current);var j=null;switch(h){case"input":_=We(s,_),v=We(s,v),j=[];break;case"select":_=ne({},_,{value:void 0}),v=ne({},v,{value:void 0}),j=[];break;case"textarea":_=me(s,_),v=me(s,v),j=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=dp)}Be(h,v);var U;h=null;for(ie in _)if(!v.hasOwnProperty(ie)&&_.hasOwnProperty(ie)&&_[ie]!=null)if(ie==="style"){var B=_[ie];for(U in B)B.hasOwnProperty(U)&&(h||(h={}),h[U]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?j||(j=[]):(j=j||[]).push(ie,null));for(ie in v){var H=v[ie];if(B=_!=null?_[ie]:void 0,v.hasOwnProperty(ie)&&H!==B&&(H!=null||B!=null))if(ie==="style")if(B){for(U in B)!B.hasOwnProperty(U)||H&&H.hasOwnProperty(U)||(h||(h={}),h[U]="");for(U in H)H.hasOwnProperty(U)&&B[U]!==H[U]&&(h||(h={}),h[U]=H[U])}else h||(j||(j=[]),j.push(ie,h)),h=H;else ie==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(j=j||[]).push(ie,H)):ie==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(ie,""+H):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(H!=null&&ie==="onScroll"&&Ot("scroll",s),j||B===H||(j=[])):(j=j||[]).push(ie,H))}h&&(j=j||[]).push("style",h);var ie=j;(u.updateQueue=ie)&&(u.flags|=4)}},Ej=function(s,u,h,v){h!==v&&(u.flags|=4)};function wd(s,u){if(!Ft)switch(s.tailMode){case"hidden":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Hr(s){var u=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(u)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=v,s.childLanes=h,u}function WF(s,u,h){var v=u.pendingProps;switch(Wv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(u),null;case 1:return pn(u.type)&&hp(),Hr(u),null;case 3:return v=u.stateNode,yu(),Rt(hn),Rt(qr),ib(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(vp(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ti!==null&&(Rb(Ti),Ti=null))),Sb(s,u),Hr(u),null;case 5:rb(u);var _=zs(gd.current);if(h=u.type,s!==null&&u.stateNode!=null)Sj(s,u,h,v,_),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Hr(u),null}if(s=zs(Yi.current),vp(u)){v=u.stateNode,h=u.type;var j=u.memoizedProps;switch(v[Xi]=u,v[dd]=j,s=(u.mode&1)!==0,h){case"dialog":Ot("cancel",v),Ot("close",v);break;case"iframe":case"object":case"embed":Ot("load",v);break;case"video":case"audio":for(_=0;_<ld.length;_++)Ot(ld[_],v);break;case"source":Ot("error",v);break;case"img":case"image":case"link":Ot("error",v),Ot("load",v);break;case"details":Ot("toggle",v);break;case"input":gt(v,j),Ot("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},Ot("invalid",v);break;case"textarea":Xe(v,j),Ot("invalid",v)}Be(h,j),_=null;for(var U in j)if(j.hasOwnProperty(U)){var B=j[U];U==="children"?typeof B=="string"?v.textContent!==B&&(j.suppressHydrationWarning!==!0&&cp(v.textContent,B,s),_=["children",B]):typeof B=="number"&&v.textContent!==""+B&&(j.suppressHydrationWarning!==!0&&cp(v.textContent,B,s),_=["children",""+B]):i.hasOwnProperty(U)&&B!=null&&U==="onScroll"&&Ot("scroll",v)}switch(h){case"input":Le(v),nr(v,j,!0);break;case"textarea":Le(v),Gt(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=dp)}v=_,u.updateQueue=v,v!==null&&(u.flags|=4)}else{U=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Jt(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=U.createElement(h,{is:v.is}):(s=U.createElement(h),h==="select"&&(U=s,v.multiple?U.multiple=!0:v.size&&(U.size=v.size))):s=U.createElementNS(s,h),s[Xi]=u,s[dd]=v,_j(s,u,!1,!1),u.stateNode=s;e:{switch(U=jn(h,v),h){case"dialog":Ot("cancel",s),Ot("close",s),_=v;break;case"iframe":case"object":case"embed":Ot("load",s),_=v;break;case"video":case"audio":for(_=0;_<ld.length;_++)Ot(ld[_],s);_=v;break;case"source":Ot("error",s),_=v;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),_=v;break;case"details":Ot("toggle",s),_=v;break;case"input":gt(s,v),_=We(s,v),Ot("invalid",s);break;case"option":_=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},_=ne({},v,{value:void 0}),Ot("invalid",s);break;case"textarea":Xe(s,v),_=me(s,v),Ot("invalid",s);break;default:_=v}Be(h,_),B=_;for(j in B)if(B.hasOwnProperty(j)){var H=B[j];j==="style"?po(s,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&_s(s,H)):j==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&hi(s,H):typeof H=="number"&&hi(s,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?H!=null&&j==="onScroll"&&Ot("scroll",s):H!=null&&I(s,j,H,U))}switch(h){case"input":Le(s),nr(s,v,!1);break;case"textarea":Le(s),Gt(s);break;case"option":v.value!=null&&s.setAttribute("value",""+Se(v.value));break;case"select":s.multiple=!!v.multiple,j=v.value,j!=null?$t(s,!!v.multiple,j,!1):v.defaultValue!=null&&$t(s,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=dp)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Hr(u),null;case 6:if(s&&u.stateNode!=null)Ej(s,u,s.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(h=zs(gd.current),zs(Yi.current),vp(u)){if(v=u.stateNode,h=u.memoizedProps,v[Xi]=u,(j=v.nodeValue!==h)&&(s=On,s!==null))switch(s.tag){case 3:cp(v.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&cp(v.nodeValue,h,(s.mode&1)!==0)}j&&(u.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Xi]=u,u.stateNode=v}return Hr(u),null;case 13:if(Rt(Bt),v=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ft&&Rn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)PP(),hu(),u.flags|=98560,j=!1;else if(j=vp(u),v!==null&&v.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=u.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Xi]=u}else hu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Hr(u),j=!1}else Ti!==null&&(Rb(Ti),Ti=null),j=!0;if(!j)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(Bt.current&1)!==0?gr===0&&(gr=3):Lb())),u.updateQueue!==null&&(u.flags|=4),Hr(u),null);case 4:return yu(),Sb(s,u),s===null&&ud(u.stateNode.containerInfo),Hr(u),null;case 10:return Qv(u.type._context),Hr(u),null;case 17:return pn(u.type)&&hp(),Hr(u),null;case 19:if(Rt(Bt),j=u.memoizedState,j===null)return Hr(u),null;if(v=(u.flags&128)!==0,U=j.rendering,U===null)if(v)wd(j,!1);else{if(gr!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(U=Ep(s),U!==null){for(u.flags|=128,wd(j,!1),v=U.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=h,h=u.child;h!==null;)j=h,s=v,j.flags&=14680066,U=j.alternate,U===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=U.childLanes,j.lanes=U.lanes,j.child=U.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=U.memoizedProps,j.memoizedState=U.memoizedState,j.updateQueue=U.updateQueue,j.type=U.type,s=U.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return kt(Bt,Bt.current&1|2),u.child}s=s.sibling}j.tail!==null&&jt()>wu&&(u.flags|=128,v=!0,wd(j,!1),u.lanes=4194304)}else{if(!v)if(s=Ep(U),s!==null){if(u.flags|=128,v=!0,h=s.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),wd(j,!0),j.tail===null&&j.tailMode==="hidden"&&!U.alternate&&!Ft)return Hr(u),null}else 2*jt()-j.renderingStartTime>wu&&h!==1073741824&&(u.flags|=128,v=!0,wd(j,!1),u.lanes=4194304);j.isBackwards?(U.sibling=u.child,u.child=U):(h=j.last,h!==null?h.sibling=U:u.child=U,j.last=U)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=jt(),u.sibling=null,h=Bt.current,kt(Bt,v?h&1|2:h&1),u):(Hr(u),null);case 22:case 23:return Db(),v=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Mn&1073741824)!==0&&(Hr(u),u.subtreeFlags&6&&(u.flags|=8192)):Hr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function HF(s,u){switch(Wv(u),u.tag){case 1:return pn(u.type)&&hp(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return yu(),Rt(hn),Rt(qr),ib(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return rb(u),null;case 13:if(Rt(Bt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));hu()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Rt(Bt),null;case 4:return yu(),null;case 10:return Qv(u.type._context),null;case 22:case 23:return Db(),null;case 24:return null;default:return null}}var Op=!1,Gr=!1,GF=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function bu(s,u){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Xt(s,u,v)}else h.current=null}function Eb(s,u,h){try{h()}catch(v){Xt(s,u,v)}}var Tj=!1;function KF(s,u){if(Dv=_o,s=nP(),jv(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var _=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var U=0,B=-1,H=-1,ie=0,ye=0,ve=s,ge=null;t:for(;;){for(var Pe;ve!==h||_!==0&&ve.nodeType!==3||(B=U+_),ve!==j||v!==0&&ve.nodeType!==3||(H=U+v),ve.nodeType===3&&(U+=ve.nodeValue.length),(Pe=ve.firstChild)!==null;)ge=ve,ve=Pe;for(;;){if(ve===s)break t;if(ge===h&&++ie===_&&(B=U),ge===j&&++ye===v&&(H=U),(Pe=ve.nextSibling)!==null)break;ve=ge,ge=ve.parentNode}ve=Pe}h=B===-1||H===-1?null:{start:B,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lv={focusedElem:s,selectionRange:h},_o=!1,Ie=u;Ie!==null;)if(u=Ie,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Ie=s;else for(;Ie!==null;){u=Ie;try{var Ne=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Me=Ne.memoizedProps,er=Ne.memoizedState,Z=u.stateNode,K=Z.getSnapshotBeforeUpdate(u.elementType===u.type?Me:Ai(u.type,Me),er);Z.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=u.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Xt(u,u.return,be)}if(s=u.sibling,s!==null){s.return=u.return,Ie=s;break}Ie=u.return}return Ne=Tj,Tj=!1,Ne}function _d(s,u,h){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&s)===s){var j=_.destroy;_.destroy=void 0,j!==void 0&&Eb(u,h,j)}_=_.next}while(_!==v)}}function Rp(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&s)===s){var v=h.create;h.destroy=v()}h=h.next}while(h!==u)}}function Tb(s){var u=s.ref;if(u!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof u=="function"?u(s):u.current=s}}function Aj(s){var u=s.alternate;u!==null&&(s.alternate=null,Aj(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Xi],delete u[dd],delete u[Uv],delete u[IF],delete u[CF])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Pj(s){return s.tag===5||s.tag===3||s.tag===4}function jj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Pj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ab(s,u,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(s,u):h.insertBefore(s,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(s,h)):(u=h,u.appendChild(s)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=dp));else if(v!==4&&(s=s.child,s!==null))for(Ab(s,u,h),s=s.sibling;s!==null;)Ab(s,u,h),s=s.sibling}function Pb(s,u,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?h.insertBefore(s,u):h.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(Pb(s,u,h),s=s.sibling;s!==null;)Pb(s,u,h),s=s.sibling}var Mr=null,Pi=!1;function Co(s,u,h){for(h=h.child;h!==null;)kj(s,u,h),h=h.sibling}function kj(s,u,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Is,h)}catch{}switch(h.tag){case 5:Gr||bu(h,u);case 6:var v=Mr,_=Pi;Mr=null,Co(s,u,h),Mr=v,Pi=_,Mr!==null&&(Pi?(s=Mr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Mr.removeChild(h.stateNode));break;case 18:Mr!==null&&(Pi?(s=Mr,h=h.stateNode,s.nodeType===8?Fv(s.parentNode,h):s.nodeType===1&&Fv(s,h),_i(s)):Fv(Mr,h.stateNode));break;case 4:v=Mr,_=Pi,Mr=h.stateNode.containerInfo,Pi=!0,Co(s,u,h),Mr=v,Pi=_;break;case 0:case 11:case 14:case 15:if(!Gr&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var j=_,U=j.destroy;j=j.tag,U!==void 0&&((j&2)!==0||(j&4)!==0)&&Eb(h,u,U),_=_.next}while(_!==v)}Co(s,u,h);break;case 1:if(!Gr&&(bu(h,u),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(B){Xt(h,u,B)}Co(s,u,h);break;case 21:Co(s,u,h);break;case 22:h.mode&1?(Gr=(v=Gr)||h.memoizedState!==null,Co(s,u,h),Gr=v):Co(s,u,h);break;default:Co(s,u,h)}}function Ij(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new GF),u.forEach(function(v){var _=nU.bind(null,s,v);h.has(v)||(h.add(v),v.then(_,_))})}}function ji(s,u){var h=u.deletions;if(h!==null)for(var v=0;v<h.length;v++){var _=h[v];try{var j=s,U=u,B=U;e:for(;B!==null;){switch(B.tag){case 5:Mr=B.stateNode,Pi=!1;break e;case 3:Mr=B.stateNode.containerInfo,Pi=!0;break e;case 4:Mr=B.stateNode.containerInfo,Pi=!0;break e}B=B.return}if(Mr===null)throw Error(r(160));kj(j,U,_),Mr=null,Pi=!1;var H=_.alternate;H!==null&&(H.return=null),_.return=null}catch(ie){Xt(_,u,ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Cj(u,s),u=u.sibling}function Cj(s,u){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ji(u,s),Ji(s),v&4){try{_d(3,s,s.return),Rp(3,s)}catch(Me){Xt(s,s.return,Me)}try{_d(5,s,s.return)}catch(Me){Xt(s,s.return,Me)}}break;case 1:ji(u,s),Ji(s),v&512&&h!==null&&bu(h,h.return);break;case 5:if(ji(u,s),Ji(s),v&512&&h!==null&&bu(h,h.return),s.flags&32){var _=s.stateNode;try{hi(_,"")}catch(Me){Xt(s,s.return,Me)}}if(v&4&&(_=s.stateNode,_!=null)){var j=s.memoizedProps,U=h!==null?h.memoizedProps:j,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&j.type==="radio"&&j.name!=null&&dt(_,j),jn(B,U);var ie=jn(B,j);for(U=0;U<H.length;U+=2){var ye=H[U],ve=H[U+1];ye==="style"?po(_,ve):ye==="dangerouslySetInnerHTML"?_s(_,ve):ye==="children"?hi(_,ve):I(_,ye,ve,ie)}switch(B){case"input":_t(_,j);break;case"textarea":Nt(_,j);break;case"select":var ge=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Pe=j.value;Pe!=null?$t(_,!!j.multiple,Pe,!1):ge!==!!j.multiple&&(j.defaultValue!=null?$t(_,!!j.multiple,j.defaultValue,!0):$t(_,!!j.multiple,j.multiple?[]:"",!1))}_[dd]=j}catch(Me){Xt(s,s.return,Me)}}break;case 6:if(ji(u,s),Ji(s),v&4){if(s.stateNode===null)throw Error(r(162));_=s.stateNode,j=s.memoizedProps;try{_.nodeValue=j}catch(Me){Xt(s,s.return,Me)}}break;case 3:if(ji(u,s),Ji(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{_i(u.containerInfo)}catch(Me){Xt(s,s.return,Me)}break;case 4:ji(u,s),Ji(s);break;case 13:ji(u,s),Ji(s),_=s.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(Ib=jt())),v&4&&Ij(s);break;case 22:if(ye=h!==null&&h.memoizedState!==null,s.mode&1?(Gr=(ie=Gr)||ye,ji(u,s),Gr=ie):ji(u,s),Ji(s),v&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!ye&&(s.mode&1)!==0)for(Ie=s,ye=s.child;ye!==null;){for(ve=Ie=ye;Ie!==null;){switch(ge=Ie,Pe=ge.child,ge.tag){case 0:case 11:case 14:case 15:_d(4,ge,ge.return);break;case 1:bu(ge,ge.return);var Ne=ge.stateNode;if(typeof Ne.componentWillUnmount=="function"){v=ge,h=ge.return;try{u=v,Ne.props=u.memoizedProps,Ne.state=u.memoizedState,Ne.componentWillUnmount()}catch(Me){Xt(v,h,Me)}}break;case 5:bu(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Rj(ve);continue}}Pe!==null?(Pe.return=ge,Ie=Pe):Rj(ve)}ye=ye.sibling}e:for(ye=null,ve=s;;){if(ve.tag===5){if(ye===null){ye=ve;try{_=ve.stateNode,ie?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(B=ve.stateNode,H=ve.memoizedProps.style,U=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=Ss("display",U))}catch(Me){Xt(s,s.return,Me)}}}else if(ve.tag===6){if(ye===null)try{ve.stateNode.nodeValue=ie?"":ve.memoizedProps}catch(Me){Xt(s,s.return,Me)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===s)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===s)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===s)break e;ye===ve&&(ye=null),ve=ve.return}ye===ve&&(ye=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:ji(u,s),Ji(s),v&4&&Ij(s);break;case 21:break;default:ji(u,s),Ji(s)}}function Ji(s){var u=s.flags;if(u&2){try{e:{for(var h=s.return;h!==null;){if(Pj(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(hi(_,""),v.flags&=-33);var j=jj(s);Pb(s,j,_);break;case 3:case 4:var U=v.stateNode.containerInfo,B=jj(s);Ab(s,B,U);break;default:throw Error(r(161))}}catch(H){Xt(s,s.return,H)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function XF(s,u,h){Ie=s,Nj(s)}function Nj(s,u,h){for(var v=(s.mode&1)!==0;Ie!==null;){var _=Ie,j=_.child;if(_.tag===22&&v){var U=_.memoizedState!==null||Op;if(!U){var B=_.alternate,H=B!==null&&B.memoizedState!==null||Gr;B=Op;var ie=Gr;if(Op=U,(Gr=H)&&!ie)for(Ie=_;Ie!==null;)U=Ie,H=U.child,U.tag===22&&U.memoizedState!==null?Mj(_):H!==null?(H.return=U,Ie=H):Mj(_);for(;j!==null;)Ie=j,Nj(j),j=j.sibling;Ie=_,Op=B,Gr=ie}Oj(s)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Ie=j):Oj(s)}}function Oj(s){for(;Ie!==null;){var u=Ie;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Gr||Rp(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Gr)if(h===null)v.componentDidMount();else{var _=u.elementType===u.type?h.memoizedProps:Ai(u.type,h.memoizedProps);v.componentDidUpdate(_,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=u.updateQueue;j!==null&&RP(u,j,v);break;case 3:var U=u.updateQueue;if(U!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}RP(u,U,h)}break;case 5:var B=u.stateNode;if(h===null&&u.flags&4){h=B;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ie=u.alternate;if(ie!==null){var ye=ie.memoizedState;if(ye!==null){var ve=ye.dehydrated;ve!==null&&_i(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gr||u.flags&512&&Tb(u)}catch(ge){Xt(u,u.return,ge)}}if(u===s){Ie=null;break}if(h=u.sibling,h!==null){h.return=u.return,Ie=h;break}Ie=u.return}}function Rj(s){for(;Ie!==null;){var u=Ie;if(u===s){Ie=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Ie=h;break}Ie=u.return}}function Mj(s){for(;Ie!==null;){var u=Ie;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Rp(4,u)}catch(H){Xt(u,h,H)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var _=u.return;try{v.componentDidMount()}catch(H){Xt(u,_,H)}}var j=u.return;try{Tb(u)}catch(H){Xt(u,j,H)}break;case 5:var U=u.return;try{Tb(u)}catch(H){Xt(u,U,H)}}}catch(H){Xt(u,u.return,H)}if(u===s){Ie=null;break}var B=u.sibling;if(B!==null){B.return=u.return,Ie=B;break}Ie=u.return}}var YF=Math.ceil,Mp=N.ReactCurrentDispatcher,jb=N.ReactCurrentOwner,Jn=N.ReactCurrentBatchConfig,ct=0,Ar=null,ar=null,Dr=0,Mn=0,xu=Ao(0),gr=0,Sd=null,qs=0,Dp=0,kb=0,Ed=null,gn=null,Ib=0,wu=1/0,Oa=null,Lp=!1,Cb=null,No=null,$p=!1,Oo=null,Vp=0,Td=0,Nb=null,Fp=-1,Up=0;function an(){return(ct&6)!==0?jt():Fp!==-1?Fp:Fp=jt()}function Ro(s){return(s.mode&1)===0?1:(ct&2)!==0&&Dr!==0?Dr&-Dr:OF.transition!==null?(Up===0&&(Up=Ns()),Up):(s=st,s!==0||(s=window.event,s=s===void 0?16:Zc(s.type)),s)}function ki(s,u,h,v){if(50<Td)throw Td=0,Nb=null,Error(r(185));vo(s,h,v),((ct&2)===0||s!==Ar)&&(s===Ar&&((ct&2)===0&&(Dp|=h),gr===4&&Mo(s,Dr)),yn(s,v),h===1&&ct===0&&(u.mode&1)===0&&(wu=jt()+500,mp&&jo()))}function yn(s,u){var h=s.callbackNode;wa(s,u);var v=Cs(s,s===Ar?Dr:0);if(v===0)h!==null&&Kc(h),s.callbackNode=null,s.callbackPriority=0;else if(u=v&-v,s.callbackPriority!==u){if(h!=null&&Kc(h),u===1)s.tag===0?NF(Lj.bind(null,s)):_P(Lj.bind(null,s)),jF(function(){(ct&6)===0&&jo()}),h=null;else{switch(xo(v)){case 1:h=ks;break;case 4:h=mo;break;case 16:h=Wn;break;case 536870912:h=Uh;break;default:h=Wn}h=Wj(h,Dj.bind(null,s))}s.callbackPriority=u,s.callbackNode=h}}function Dj(s,u){if(Fp=-1,Up=0,(ct&6)!==0)throw Error(r(327));var h=s.callbackNode;if(_u()&&s.callbackNode!==h)return null;var v=Cs(s,s===Ar?Dr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||u)u=zp(s,v);else{u=v;var _=ct;ct|=2;var j=Vj();(Ar!==s||Dr!==u)&&(Oa=null,wu=jt()+500,Hs(s,u));do try{ZF();break}catch(B){$j(s,B)}while(!0);Yv(),Mp.current=j,ct=_,ar!==null?u=0:(Ar=null,Dr=0,u=gr)}if(u!==0){if(u===2&&(_=In(s),_!==0&&(v=_,u=Ob(s,_))),u===1)throw h=Sd,Hs(s,0),Mo(s,v),yn(s,jt()),h;if(u===6)Mo(s,v);else{if(_=s.current.alternate,(v&30)===0&&!QF(_)&&(u=zp(s,v),u===2&&(j=In(s),j!==0&&(v=j,u=Ob(s,j))),u===1))throw h=Sd,Hs(s,0),Mo(s,v),yn(s,jt()),h;switch(s.finishedWork=_,s.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Gs(s,gn,Oa);break;case 3:if(Mo(s,v),(v&130023424)===v&&(u=Ib+500-jt(),10<u)){if(Cs(s,0)!==0)break;if(_=s.suspendedLanes,(_&v)!==v){an(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=Vv(Gs.bind(null,s,gn,Oa),u);break}Gs(s,gn,Oa);break;case 4:if(Mo(s,v),(v&4194240)===v)break;for(u=s.eventTimes,_=-1;0<v;){var U=31-tn(v);j=1<<U,U=u[U],U>_&&(_=U),v&=~j}if(v=_,v=jt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*YF(v/1960))-v,10<v){s.timeoutHandle=Vv(Gs.bind(null,s,gn,Oa),v);break}Gs(s,gn,Oa);break;case 5:Gs(s,gn,Oa);break;default:throw Error(r(329))}}}return yn(s,jt()),s.callbackNode===h?Dj.bind(null,s):null}function Ob(s,u){var h=Ed;return s.current.memoizedState.isDehydrated&&(Hs(s,u).flags|=256),s=zp(s,u),s!==2&&(u=gn,gn=h,u!==null&&Rb(u)),s}function Rb(s){gn===null?gn=s:gn.push.apply(gn,s)}function QF(s){for(var u=s;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var _=h[v],j=_.getSnapshot;_=_.value;try{if(!Ei(j(),_))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Mo(s,u){for(u&=~kb,u&=~Dp,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var h=31-tn(u),v=1<<h;s[h]=-1,u&=~v}}function Lj(s){if((ct&6)!==0)throw Error(r(327));_u();var u=Cs(s,0);if((u&1)===0)return yn(s,jt()),null;var h=zp(s,u);if(s.tag!==0&&h===2){var v=In(s);v!==0&&(u=v,h=Ob(s,v))}if(h===1)throw h=Sd,Hs(s,0),Mo(s,u),yn(s,jt()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Gs(s,gn,Oa),yn(s,jt()),null}function Mb(s,u){var h=ct;ct|=1;try{return s(u)}finally{ct=h,ct===0&&(wu=jt()+500,mp&&jo())}}function Ws(s){Oo!==null&&Oo.tag===0&&(ct&6)===0&&_u();var u=ct;ct|=1;var h=Jn.transition,v=st;try{if(Jn.transition=null,st=1,s)return s()}finally{st=v,Jn.transition=h,ct=u,(ct&6)===0&&jo()}}function Db(){Mn=xu.current,Rt(xu)}function Hs(s,u){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,PF(h)),ar!==null)for(h=ar.return;h!==null;){var v=h;switch(Wv(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&hp();break;case 3:yu(),Rt(hn),Rt(qr),ib();break;case 5:rb(v);break;case 4:yu();break;case 13:Rt(Bt);break;case 19:Rt(Bt);break;case 10:Qv(v.type._context);break;case 22:case 23:Db()}h=h.return}if(Ar=s,ar=s=Do(s.current,null),Dr=Mn=u,gr=0,Sd=null,kb=Dp=qs=0,gn=Ed=null,Us!==null){for(u=0;u<Us.length;u++)if(h=Us[u],v=h.interleaved,v!==null){h.interleaved=null;var _=v.next,j=h.pending;if(j!==null){var U=j.next;j.next=_,v.next=U}h.pending=v}Us=null}return s}function $j(s,u){do{var h=ar;try{if(Yv(),Tp.current=kp,Ap){for(var v=qt.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Ap=!1}if(Bs=0,Tr=mr=qt=null,yd=!1,vd=0,jb.current=null,h===null||h.return===null){gr=1,Sd=u,ar=null;break}e:{var j=s,U=h.return,B=h,H=u;if(u=Dr,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=H,ye=B,ve=ye.tag;if((ye.mode&1)===0&&(ve===0||ve===11||ve===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=uj(U);if(Pe!==null){Pe.flags&=-257,cj(Pe,U,B,j,u),Pe.mode&1&&lj(j,ie,u),u=Pe,H=ie;var Ne=u.updateQueue;if(Ne===null){var Me=new Set;Me.add(H),u.updateQueue=Me}else Ne.add(H);break e}else{if((u&1)===0){lj(j,ie,u),Lb();break e}H=Error(r(426))}}else if(Ft&&B.mode&1){var er=uj(U);if(er!==null){(er.flags&65536)===0&&(er.flags|=256),cj(er,U,B,j,u),Kv(vu(H,B));break e}}j=H=vu(H,B),gr!==4&&(gr=2),Ed===null?Ed=[j]:Ed.push(j),j=U;do{switch(j.tag){case 3:j.flags|=65536,u&=-u,j.lanes|=u;var Z=oj(j,H,u);OP(j,Z);break e;case 1:B=H;var K=j.type,ee=j.stateNode;if((j.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(No===null||!No.has(ee)))){j.flags|=65536,u&=-u,j.lanes|=u;var be=sj(j,B,u);OP(j,be);break e}}j=j.return}while(j!==null)}Uj(h)}catch(De){u=De,ar===h&&h!==null&&(ar=h=h.return);continue}break}while(!0)}function Vj(){var s=Mp.current;return Mp.current=kp,s===null?kp:s}function Lb(){(gr===0||gr===3||gr===2)&&(gr=4),Ar===null||(qs&268435455)===0&&(Dp&268435455)===0||Mo(Ar,Dr)}function zp(s,u){var h=ct;ct|=2;var v=Vj();(Ar!==s||Dr!==u)&&(Oa=null,Hs(s,u));do try{JF();break}catch(_){$j(s,_)}while(!0);if(Yv(),ct=h,Mp.current=v,ar!==null)throw Error(r(261));return Ar=null,Dr=0,gr}function JF(){for(;ar!==null;)Fj(ar)}function ZF(){for(;ar!==null&&!Vh();)Fj(ar)}function Fj(s){var u=qj(s.alternate,s,Mn);s.memoizedProps=s.pendingProps,u===null?Uj(s):ar=u,jb.current=null}function Uj(s){var u=s;do{var h=u.alternate;if(s=u.return,(u.flags&32768)===0){if(h=WF(h,u,Mn),h!==null){ar=h;return}}else{if(h=HF(h,u),h!==null){h.flags&=32767,ar=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gr=6,ar=null;return}}if(u=u.sibling,u!==null){ar=u;return}ar=u=s}while(u!==null);gr===0&&(gr=5)}function Gs(s,u,h){var v=st,_=Jn.transition;try{Jn.transition=null,st=1,eU(s,u,h,v)}finally{Jn.transition=_,st=v}return null}function eU(s,u,h,v){do _u();while(Oo!==null);if((ct&6)!==0)throw Error(r(327));h=s.finishedWork;var _=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(Tt(s,j),s===Ar&&(ar=Ar=null,Dr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||$p||($p=!0,Wj(Wn,function(){return _u(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=Jn.transition,Jn.transition=null;var U=st;st=1;var B=ct;ct|=4,jb.current=null,KF(s,h),Cj(h,s),xF(Lv),_o=!!Dv,Lv=Dv=null,s.current=h,XF(h),xv(),ct=B,st=U,Jn.transition=j}else s.current=h;if($p&&($p=!1,Oo=s,Vp=_),j=s.pendingLanes,j===0&&(No=null),zh(h.stateNode),yn(s,jt()),u!==null)for(v=s.onRecoverableError,h=0;h<u.length;h++)_=u[h],v(_.value,{componentStack:_.stack,digest:_.digest});if(Lp)throw Lp=!1,s=Cb,Cb=null,s;return(Vp&1)!==0&&s.tag!==0&&_u(),j=s.pendingLanes,(j&1)!==0?s===Nb?Td++:(Td=0,Nb=s):Td=0,jo(),null}function _u(){if(Oo!==null){var s=xo(Vp),u=Jn.transition,h=st;try{if(Jn.transition=null,st=16>s?16:s,Oo===null)var v=!1;else{if(s=Oo,Oo=null,Vp=0,(ct&6)!==0)throw Error(r(331));var _=ct;for(ct|=4,Ie=s.current;Ie!==null;){var j=Ie,U=j.child;if((Ie.flags&16)!==0){var B=j.deletions;if(B!==null){for(var H=0;H<B.length;H++){var ie=B[H];for(Ie=ie;Ie!==null;){var ye=Ie;switch(ye.tag){case 0:case 11:case 15:_d(8,ye,j)}var ve=ye.child;if(ve!==null)ve.return=ye,Ie=ve;else for(;Ie!==null;){ye=Ie;var ge=ye.sibling,Pe=ye.return;if(Aj(ye),ye===ie){Ie=null;break}if(ge!==null){ge.return=Pe,Ie=ge;break}Ie=Pe}}}var Ne=j.alternate;if(Ne!==null){var Me=Ne.child;if(Me!==null){Ne.child=null;do{var er=Me.sibling;Me.sibling=null,Me=er}while(Me!==null)}}Ie=j}}if((j.subtreeFlags&2064)!==0&&U!==null)U.return=j,Ie=U;else e:for(;Ie!==null;){if(j=Ie,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:_d(9,j,j.return)}var Z=j.sibling;if(Z!==null){Z.return=j.return,Ie=Z;break e}Ie=j.return}}var K=s.current;for(Ie=K;Ie!==null;){U=Ie;var ee=U.child;if((U.subtreeFlags&2064)!==0&&ee!==null)ee.return=U,Ie=ee;else e:for(U=K;Ie!==null;){if(B=Ie,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Rp(9,B)}}catch(De){Xt(B,B.return,De)}if(B===U){Ie=null;break e}var be=B.sibling;if(be!==null){be.return=B.return,Ie=be;break e}Ie=B.return}}if(ct=_,jo(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Is,s)}catch{}v=!0}return v}finally{st=h,Jn.transition=u}}return!1}function zj(s,u,h){u=vu(h,u),u=oj(s,u,1),s=Io(s,u,1),u=an(),s!==null&&(vo(s,1,u),yn(s,u))}function Xt(s,u,h){if(s.tag===3)zj(s,s,h);else for(;u!==null;){if(u.tag===3){zj(u,s,h);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(No===null||!No.has(v))){s=vu(h,s),s=sj(u,s,1),u=Io(u,s,1),s=an(),u!==null&&(vo(u,1,s),yn(u,s));break}}u=u.return}}function tU(s,u,h){var v=s.pingCache;v!==null&&v.delete(u),u=an(),s.pingedLanes|=s.suspendedLanes&h,Ar===s&&(Dr&h)===h&&(gr===4||gr===3&&(Dr&130023424)===Dr&&500>jt()-Ib?Hs(s,0):kb|=h),yn(s,u)}function Bj(s,u){u===0&&((s.mode&1)===0?u=1:(u=Wl,Wl<<=1,(Wl&130023424)===0&&(Wl=4194304)));var h=an();s=Ia(s,u),s!==null&&(vo(s,u,h),yn(s,h))}function rU(s){var u=s.memoizedState,h=0;u!==null&&(h=u.retryLane),Bj(s,h)}function nU(s,u){var h=0;switch(s.tag){case 13:var v=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),Bj(s,h)}var qj;qj=function(s,u,h){if(s!==null)if(s.memoizedProps!==u.pendingProps||hn.current)mn=!0;else{if((s.lanes&h)===0&&(u.flags&128)===0)return mn=!1,qF(s,u,h);mn=(s.flags&131072)!==0}else mn=!1,Ft&&(u.flags&1048576)!==0&&SP(u,yp,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Np(s,u),s=u.pendingProps;var _=cu(u,qr.current);gu(u,h),_=sb(null,u,v,s,_,h);var j=lb();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,pn(v)?(j=!0,pp(u)):j=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,eb(u),_.updater=Ip,u.stateNode=_,_._reactInternals=u,pb(u,v,s,h),u=vb(null,u,v,!0,j,h)):(u.tag=0,Ft&&j&&qv(u),nn(null,u,_,h),u=u.child),u;case 16:v=u.elementType;e:{switch(Np(s,u),s=u.pendingProps,_=v._init,v=_(v._payload),u.type=v,_=u.tag=aU(v),s=Ai(v,s),_){case 0:u=yb(null,u,v,s,h);break e;case 1:u=gj(null,u,v,s,h);break e;case 11:u=dj(null,u,v,s,h);break e;case 14:u=fj(null,u,v,Ai(v.type,s),h);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ai(v,_),yb(s,u,v,_,h);case 1:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ai(v,_),gj(s,u,v,_,h);case 3:e:{if(yj(u),s===null)throw Error(r(387));v=u.pendingProps,j=u.memoizedState,_=j.element,NP(s,u),Sp(u,v,null,h);var U=u.memoizedState;if(v=U.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){_=vu(Error(r(423)),u),u=vj(s,u,v,h,_);break e}else if(v!==_){_=vu(Error(r(424)),u),u=vj(s,u,v,h,_);break e}else for(Rn=To(u.stateNode.containerInfo.firstChild),On=u,Ft=!0,Ti=null,h=IP(u,null,v,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(hu(),v===_){u=Na(s,u,h);break e}nn(s,u,v,h)}u=u.child}return u;case 5:return MP(u),s===null&&Gv(u),v=u.type,_=u.pendingProps,j=s!==null?s.memoizedProps:null,U=_.children,$v(v,_)?U=null:j!==null&&$v(v,j)&&(u.flags|=32),mj(s,u),nn(s,u,U,h),u.child;case 6:return s===null&&Gv(u),null;case 13:return bj(s,u,h);case 4:return tb(u,u.stateNode.containerInfo),v=u.pendingProps,s===null?u.child=pu(u,null,v,h):nn(s,u,v,h),u.child;case 11:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ai(v,_),dj(s,u,v,_,h);case 7:return nn(s,u,u.pendingProps,h),u.child;case 8:return nn(s,u,u.pendingProps.children,h),u.child;case 12:return nn(s,u,u.pendingProps.children,h),u.child;case 10:e:{if(v=u.type._context,_=u.pendingProps,j=u.memoizedProps,U=_.value,kt(xp,v._currentValue),v._currentValue=U,j!==null)if(Ei(j.value,U)){if(j.children===_.children&&!hn.current){u=Na(s,u,h);break e}}else for(j=u.child,j!==null&&(j.return=u);j!==null;){var B=j.dependencies;if(B!==null){U=j.child;for(var H=B.firstContext;H!==null;){if(H.context===v){if(j.tag===1){H=Ca(-1,h&-h),H.tag=2;var ie=j.updateQueue;if(ie!==null){ie=ie.shared;var ye=ie.pending;ye===null?H.next=H:(H.next=ye.next,ye.next=H),ie.pending=H}}j.lanes|=h,H=j.alternate,H!==null&&(H.lanes|=h),Jv(j.return,h,u),B.lanes|=h;break}H=H.next}}else if(j.tag===10)U=j.type===u.type?null:j.child;else if(j.tag===18){if(U=j.return,U===null)throw Error(r(341));U.lanes|=h,B=U.alternate,B!==null&&(B.lanes|=h),Jv(U,h,u),U=j.sibling}else U=j.child;if(U!==null)U.return=j;else for(U=j;U!==null;){if(U===u){U=null;break}if(j=U.sibling,j!==null){j.return=U.return,U=j;break}U=U.return}j=U}nn(s,u,_.children,h),u=u.child}return u;case 9:return _=u.type,v=u.pendingProps.children,gu(u,h),_=Yn(_),v=v(_),u.flags|=1,nn(s,u,v,h),u.child;case 14:return v=u.type,_=Ai(v,u.pendingProps),_=Ai(v.type,_),fj(s,u,v,_,h);case 15:return hj(s,u,u.type,u.pendingProps,h);case 17:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ai(v,_),Np(s,u),u.tag=1,pn(v)?(s=!0,pp(u)):s=!1,gu(u,h),ij(u,v,_),pb(u,v,_,h),vb(null,u,v,!0,s,h);case 19:return wj(s,u,h);case 22:return pj(s,u,h)}throw Error(r(156,u.tag))};function Wj(s,u){return Bl(s,u)}function iU(s,u,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,u,h,v){return new iU(s,u,h,v)}function $b(s){return s=s.prototype,!(!s||!s.isReactComponent)}function aU(s){if(typeof s=="function")return $b(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===X)return 14}return 2}function Do(s,u){var h=s.alternate;return h===null?(h=Zn(s.tag,u,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=u,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,u=s.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Bp(s,u,h,v,_,j){var U=2;if(v=s,typeof s=="function")$b(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case P:return Ks(h.children,_,j,u);case C:U=8,_|=8;break;case R:return s=Zn(12,h,u,_|2),s.elementType=R,s.lanes=j,s;case V:return s=Zn(13,h,u,_),s.elementType=V,s.lanes=j,s;case q:return s=Zn(19,h,u,_),s.elementType=q,s.lanes=j,s;case re:return qp(h,_,j,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:U=10;break e;case L:U=9;break e;case $:U=11;break e;case X:U=14;break e;case te:U=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return u=Zn(U,h,u,_),u.elementType=s,u.type=v,u.lanes=j,u}function Ks(s,u,h,v){return s=Zn(7,s,v,u),s.lanes=h,s}function qp(s,u,h,v){return s=Zn(22,s,v,u),s.elementType=re,s.lanes=h,s.stateNode={isHidden:!1},s}function Vb(s,u,h){return s=Zn(6,s,null,u),s.lanes=h,s}function Fb(s,u,h){return u=Zn(4,s.children!==null?s.children:[],s.key,u),u.lanes=h,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function oU(s,u,h,v,_){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Ub(s,u,h,v,_,j,U,B,H){return s=new oU(s,u,h,B,H),u===1?(u=1,j===!0&&(u|=8)):u=0,j=Zn(3,null,null,u),s.current=j,j.stateNode=s,j.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},eb(j),s}function sU(s,u,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:v==null?null:""+v,children:s,containerInfo:u,implementation:h}}function Hj(s){if(!s)return Po;s=s._reactInternals;e:{if(yi(s)!==s||s.tag!==1)throw Error(r(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(pn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(pn(h))return xP(s,h,u)}return u}function Gj(s,u,h,v,_,j,U,B,H){return s=Ub(h,v,!0,s,_,j,U,B,H),s.context=Hj(null),h=s.current,v=an(),_=Ro(h),j=Ca(v,_),j.callback=u??null,Io(h,j,_),s.current.lanes=_,vo(s,_,v),yn(s,v),s}function Wp(s,u,h,v){var _=u.current,j=an(),U=Ro(_);return h=Hj(h),u.context===null?u.context=h:u.pendingContext=h,u=Ca(j,U),u.payload={element:s},v=v===void 0?null:v,v!==null&&(u.callback=v),s=Io(_,u,U),s!==null&&(ki(s,_,U,j),_p(s,_,U)),U}function Hp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Kj(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<u?h:u}}function zb(s,u){Kj(s,u),(s=s.alternate)&&Kj(s,u)}function lU(){return null}var Xj=typeof reportError=="function"?reportError:function(s){console.error(s)};function Bb(s){this._internalRoot=s}Gp.prototype.render=Bb.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));Wp(s,u,null,null)},Gp.prototype.unmount=Bb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Ws(function(){Wp(null,s,null,null)}),u[Aa]=null}};function Gp(s){this._internalRoot=s}Gp.prototype.unstable_scheduleHydration=function(s){if(s){var u=Gh();s={blockedOn:null,target:s,priority:u};for(var h=0;h<Wi.length&&u!==0&&u<Wi[h].priority;h++);Wi.splice(h,0,s),h===0&&Yh(s)}};function qb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Kp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Yj(){}function uU(s,u,h,v,_){if(_){if(typeof v=="function"){var j=v;v=function(){var ie=Hp(U);j.call(ie)}}var U=Gj(u,v,s,0,null,!1,!1,"",Yj);return s._reactRootContainer=U,s[Aa]=U.current,ud(s.nodeType===8?s.parentNode:s),Ws(),U}for(;_=s.lastChild;)s.removeChild(_);if(typeof v=="function"){var B=v;v=function(){var ie=Hp(H);B.call(ie)}}var H=Ub(s,0,!1,null,null,!1,!1,"",Yj);return s._reactRootContainer=H,s[Aa]=H.current,ud(s.nodeType===8?s.parentNode:s),Ws(function(){Wp(u,H,h,v)}),H}function Xp(s,u,h,v,_){var j=h._reactRootContainer;if(j){var U=j;if(typeof _=="function"){var B=_;_=function(){var H=Hp(U);B.call(H)}}Wp(u,U,s,_)}else U=uU(h,u,s,_,v);return Hp(U)}Wh=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var h=go(u.pendingLanes);h!==0&&(bo(u,h|1),yn(u,jt()),(ct&6)===0&&(wu=jt()+500,jo()))}break;case 13:Ws(function(){var v=Ia(s,1);if(v!==null){var _=an();ki(v,s,1,_)}}),zb(s,1)}},Hl=function(s){if(s.tag===13){var u=Ia(s,134217728);if(u!==null){var h=an();ki(u,s,134217728,h)}zb(s,134217728)}},Hh=function(s){if(s.tag===13){var u=Ro(s),h=Ia(s,u);if(h!==null){var v=an();ki(h,s,u,v)}zb(s,u)}},Gh=function(){return st},Kh=function(s,u){var h=st;try{return st=s,u()}finally{st=h}},Ll=function(s,u,h){switch(u){case"input":if(_t(s,h),u=h.name,h.type==="radio"&&u!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var v=h[u];if(v!==s&&v.form===s.form){var _=fp(v);if(!_)throw Error(r(90));pe(v),_t(v,_)}}}break;case"textarea":Nt(s,h);break;case"select":u=h.value,u!=null&&$t(s,!!h.multiple,u,!1)}},Ts=Mb,qc=Ws;var cU={usingClientEntryPoint:!1,Events:[fd,lu,fp,Bi,Bc,Mb]},Ad={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dU={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Gc(s),s===null?null:s.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||lU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{Is=Yp.inject(dU),kn=Yp}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cU,vn.createPortal=function(s,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qb(u))throw Error(r(200));return sU(s,u,null,h)},vn.createRoot=function(s,u){if(!qb(s))throw Error(r(299));var h=!1,v="",_=Xj;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=Ub(s,1,!1,null,null,h,!1,v,_),s[Aa]=u.current,ud(s.nodeType===8?s.parentNode:s),new Bb(u)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Gc(u),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return Ws(s)},vn.hydrate=function(s,u,h){if(!Kp(u))throw Error(r(200));return Xp(null,s,u,!0,h)},vn.hydrateRoot=function(s,u,h){if(!qb(s))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,_=!1,j="",U=Xj;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(U=h.onRecoverableError)),u=Gj(u,null,s,1,h??null,_,!1,j,U),s[Aa]=u.current,ud(s),v)for(s=0;s<v.length;s++)h=v[s],_=h._getVersion,_=_(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,_]:u.mutableSourceEagerHydrationData.push(h,_);return new Gp(u)},vn.render=function(s,u,h){if(!Kp(u))throw Error(r(200));return Xp(null,s,u,!1,h)},vn.unmountComponentAtNode=function(s){if(!Kp(s))throw Error(r(40));return s._reactRootContainer?(Ws(function(){Xp(null,null,s,!1,function(){s._reactRootContainer=null,s[Aa]=null})}),!0):!1},vn.unstable_batchedUpdates=Mb,vn.unstable_renderSubtreeIntoContainer=function(s,u,h,v){if(!Kp(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Xp(s,u,h,!1,v)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var ik;function p4(){if(ik)return Gb.exports;ik=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=xU(),Gb.exports}var ak;function wU(){if(ak)return Jp;ak=1;var t=p4();return Jp.createRoot=t.createRoot,Jp.hydrateRoot=t.hydrateRoot,Jp}var _U=wU();p4();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}var Go;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Go||(Go={}));const ok="popstate";function SU(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:l="",hash:c=""}=El(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_1("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof a=="string"?a:Om(a))}function n(i,a){ty(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return TU(e,r,n,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ty(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EU(){return Math.random().toString(36).substr(2,8)}function sk(t,e){return{usr:t.state,key:t.key,idx:e}}function _1(t,e,r,n){return r===void 0&&(r=null),hf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?El(e):e,{state:r,key:e&&e.key||n||EU()})}function Om(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function El(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function TU(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Go.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(hf({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=Go.Pop;let b=p(),T=b==null?null:b-d;d=b,c&&c({action:l,location:w.location,delta:T})}function y(b,T){l=Go.Push;let E=_1(w.location,b,T);r&&r(E,b),d=p()+1;let I=sk(E,d),N=w.createHref(E);try{o.pushState(I,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(N)}a&&c&&c({action:l,location:w.location,delta:1})}function x(b,T){l=Go.Replace;let E=_1(w.location,b,T);r&&r(E,b),d=p();let I=sk(E,d),N=w.createHref(E);o.replaceState(I,"",N),a&&c&&c({action:l,location:w.location,delta:0})}function S(b){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:Om(b);return E=E.replace(/ $/,"%20"),Wt(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let w={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ok,m),c=b,()=>{i.removeEventListener(ok,m),c=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let T=S(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:x,go(b){return o.go(b)}};return w}var lk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lk||(lk={}));function AU(t,e,r){return r===void 0&&(r="/"),PU(t,e,r)}function PU(t,e,r,n){let i=typeof e=="string"?El(e):e,a=Hu(i.pathname||"/",r);if(a==null)return null;let o=m4(t);jU(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=VU(a);l=LU(o[c],d)}return l}function m4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Wt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Qo([n,c.relativePath]),p=r.concat(c);a.children&&a.children.length>0&&(Wt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),m4(a.children,e,p,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:MU(d,a.index),routesMeta:p})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of g4(a.path))i(a,o,c)}),e}function g4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=g4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function jU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:DU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kU=/^:[\w-]+$/,IU=3,CU=2,NU=1,OU=10,RU=-2,uk=t=>t==="*";function MU(t,e){let r=t.split("/"),n=r.length;return r.some(uk)&&(n+=RU),e&&(n+=CU),r.filter(i=>!uk(i)).reduce((i,a)=>i+(kU.test(a)?IU:a===""?NU:OU),n)}function DU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function LU(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=S1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Qo([a,m.pathname]),pathnameBase:qU(Qo([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Qo([a,m.pathnameBase]))}return o}function S1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$U(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,p,m)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let w=l[m]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const S=l[m];return x&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function $U(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ty(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function VU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ty(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const FU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UU=t=>FU.test(t);function zU(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?El(t):t,a;if(r)if(UU(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ty(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=ck(r.substring(1),"/"):a=ck(r,e)}else a=e;return{pathname:a,search:WU(n),hash:HU(i)}}function ck(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Yb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kE(t,e){let r=BU(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=El(t):(i=hf({},t),Wt(!i.pathname||!i.pathname.includes("?"),Yb("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),Yb("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),Yb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let c=zU(i,l),d=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),qU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y4=["post","put","patch","delete"];new Set(y4);const KU=["get",...y4];new Set(KU);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}const ry=D.createContext(null),v4=D.createContext(null),oo=D.createContext(null),ny=D.createContext(null),ma=D.createContext({outlet:null,matches:[],isDataRoute:!1}),b4=D.createContext(null);function XU(t,e){let{relative:r}=e===void 0?{}:e;Ac()||Wt(!1);let{basename:n,navigator:i}=D.useContext(oo),{hash:a,pathname:o,search:l}=iy(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Qo([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Ac(){return D.useContext(ny)!=null}function Tl(){return Ac()||Wt(!1),D.useContext(ny).location}function x4(t){D.useContext(oo).static||D.useLayoutEffect(t)}function ga(){let{isDataRoute:t}=D.useContext(ma);return t?cz():YU()}function YU(){Ac()||Wt(!1);let t=D.useContext(ry),{basename:e,future:r,navigator:n}=D.useContext(oo),{matches:i}=D.useContext(ma),{pathname:a}=Tl(),o=JSON.stringify(kE(i,r.v7_relativeSplatPath)),l=D.useRef(!1);return x4(()=>{l.current=!0}),D.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=IE(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Qo([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,a,t])}const QU=D.createContext(null);function JU(t){let e=D.useContext(ma).outlet;return e&&D.createElement(QU.Provider,{value:t},e)}function w4(){let{matches:t}=D.useContext(ma),e=t[t.length-1];return e?e.params:{}}function iy(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(oo),{matches:i}=D.useContext(ma),{pathname:a}=Tl(),o=JSON.stringify(kE(i,n.v7_relativeSplatPath));return D.useMemo(()=>IE(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function ZU(t,e){return ez(t,e)}function ez(t,e,r,n){Ac()||Wt(!1);let{navigator:i}=D.useContext(oo),{matches:a}=D.useContext(ma),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Tl(),p;if(e){var m;let b=typeof e=="string"?El(e):e;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Wt(!1),p=b}else p=d;let y=p.pathname||"/",x=y;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=AU(t,{pathname:x}),w=az(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Qo([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Qo([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&w?D.createElement(ny.Provider,{value:{location:pf({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Go.Pop}},w):w}function tz(){let t=uz(),e=GU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const rz=D.createElement(tz,null);class nz extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(ma.Provider,{value:this.props.routeContext},D.createElement(b4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iz(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(ry);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(ma.Provider,{value:e},n)}function az(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||Wt(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:x}=r,S=m.route.loader&&y[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let x,S=!1,w=null,b=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||rz,c&&(d<0&&y===0?(dz("route-fallback"),S=!0,b=null):d===y&&(S=!0,b=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,y+1)),E=()=>{let I;return x?I=w:S?I=b:m.route.Component?I=D.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=p,D.createElement(iz,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:r!=null},children:I})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?D.createElement(nz,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var _4=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(_4||{}),S4=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(S4||{});function oz(t){let e=D.useContext(ry);return e||Wt(!1),e}function sz(t){let e=D.useContext(v4);return e||Wt(!1),e}function lz(t){let e=D.useContext(ma);return e||Wt(!1),e}function E4(t){let e=lz(),r=e.matches[e.matches.length-1];return r.route.id||Wt(!1),r.route.id}function uz(){var t;let e=D.useContext(b4),r=sz(),n=E4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function cz(){let{router:t}=oz(_4.UseNavigateStable),e=E4(S4.UseNavigateStable),r=D.useRef(!1);return x4(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pf({fromRouteId:e},a)))},[t,e])}const dk={};function dz(t,e,r){dk[t]||(dk[t]=!0)}function fz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function E1(t){let{to:e,replace:r,state:n,relative:i}=t;Ac()||Wt(!1);let{future:a,static:o}=D.useContext(oo),{matches:l}=D.useContext(ma),{pathname:c}=Tl(),d=ga(),p=IE(e,kE(l,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return D.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:i}),[d,m,i,r,n]),null}function T4(t){return JU(t.context)}function vr(t){Wt(!1)}function hz(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Go.Pop,navigator:a,static:o=!1,future:l}=t;Ac()&&Wt(!1);let c=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:a,static:o,future:pf({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=El(n));let{pathname:p="/",search:m="",hash:y="",state:x=null,key:S="default"}=n,w=D.useMemo(()=>{let b=Hu(p,c);return b==null?null:{location:{pathname:b,search:m,hash:y,state:x,key:S},navigationType:i}},[c,p,m,y,x,S,i]);return w==null?null:D.createElement(oo.Provider,{value:d},D.createElement(ny.Provider,{children:r,value:w}))}function pz(t){let{children:e,location:r}=t;return ZU(T1(e),r)}new Promise(()=>{});function T1(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,T1(n.props.children,a));return}n.type!==vr&&Wt(!1),!n.props.index||!n.props.children||Wt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=T1(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}function A4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function mz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gz(t,e){return t.button===0&&(!e||e==="_self")&&!mz(t)}const yz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bz="6";try{window.__reactRouterVersion=bz}catch{}const xz=D.createContext({isTransitioning:!1}),wz="startTransition",fk=yU[wz];function _z(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=SU({window:i,v5Compat:!0}));let o=a.current,[l,c]=D.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},p=D.useCallback(m=>{d&&fk?fk(()=>c(m)):c(m)},[c,d]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.useEffect(()=>fz(n),[n]),D.createElement(hz,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Sz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ez=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:m}=e,y=A4(e,yz),{basename:x}=D.useContext(oo),S,w=!1;if(typeof d=="string"&&Ez.test(d)&&(S=d,Sz))try{let I=new URL(window.location.href),N=d.startsWith("//")?new URL(I.protocol+d):new URL(d),k=Hu(N.pathname,x);N.origin===I.origin&&k!=null?d=k+N.search+N.hash:w=!0}catch{}let b=XU(d,{relative:i}),T=Az(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function E(I){n&&n(I),I.defaultPrevented||T(I)}return D.createElement("a",Rm({},y,{href:S||b,onClick:w||a?n:E,ref:r,target:c}))}),wm=D.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p}=e,m=A4(e,vz),y=iy(c,{relative:m.relative}),x=Tl(),S=D.useContext(v4),{navigator:w,basename:b}=D.useContext(oo),T=S!=null&&Pz(y)&&d===!0,E=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,I=x.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(I=I.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&b&&(N=Hu(N,b)||N);const k=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=I===E||!o&&I.startsWith(E)&&I.charAt(k)==="/",P=N!=null&&(N===E||!o&&N.startsWith(E)&&N.charAt(E.length)==="/"),C={isActive:O,isPending:P,isTransitioning:T},R=O?n:void 0,F;typeof a=="function"?F=a(C):F=[a,O?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(C):l;return D.createElement(Vn,Rm({},m,{"aria-current":R,className:F,ref:r,style:L,to:c,viewTransition:d}),typeof p=="function"?p(C):p)});var A1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A1||(A1={}));var hk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hk||(hk={}));function Tz(t){let e=D.useContext(ry);return e||Wt(!1),e}function Az(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=ga(),d=Tl(),p=iy(t,{relative:o});return D.useCallback(m=>{if(gz(m,r)){m.preventDefault();let y=n!==void 0?n:Om(d)===Om(p);c(t,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,p,n,i,r,t,a,o,l])}function Pz(t,e){e===void 0&&(e={});let r=D.useContext(xz);r==null&&Wt(!1);let{basename:n}=Tz(A1.useViewTransitionState),i=iy(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Hu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Hu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return S1(i.pathname,o)!=null||S1(i.pathname,a)!=null}const jz=()=>{};var pk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},kz=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},j4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=a>>2,m=(a&3)<<4|l>>4;let y=(l&15)<<2|d>>6,x=d&63;c||(x=64,o||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new Iz;const y=a<<2|l>>4;if(n.push(y),d!==64){const x=l<<4&240|d>>2;if(n.push(x),m!==64){const S=d<<6&192|m;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Iz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cz=function(t){const e=P4(t);return j4.encodeByteArray(e,!0)},Mm=function(t){return Cz(t).replace(/\./g,"")},k4=function(t){try{return j4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=()=>Nz().__FIREBASE_DEFAULTS__,Rz=()=>{if(typeof process>"u"||typeof pk>"u")return;const t=pk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k4(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return jz()||Oz()||Rz()||Mz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I4=t=>{var e,r;return(r=(e=ay())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Dz=t=>{const e=I4(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},C4=()=>{var t;return(t=ay())===null||t===void 0?void 0:t.config},N4=t=>{var e;return(e=ay())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mm(JSON.stringify(r)),Mm(JSON.stringify(o)),""].join(".")}const Qd={};function Vz(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qd))Qd[e]?t.emulator.push(e):t.prod.push(e);return t}function Fz(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let mk=!1;function R4(t,e){if(typeof window>"u"||typeof document>"u"||!Pc(window.location.host)||Qd[t]===e||Qd[t]||mk)return;Qd[t]=e;function r(y){return`__firebase__banner__${y}`}const n="__firebase__banner",a=Vz().prod.length>0;function o(){const y=document.getElementById(n);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{mk=!0,o()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=Fz(n),x=r("text"),S=document.getElementById(x)||document.createElement("span"),w=r("learnmore"),b=document.getElementById(w)||document.createElement("a"),T=r("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;l(I),p(b,w);const N=d();c(E,T),I.append(E,S,b,N),document.body.appendChild(I)}a?(S.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function zz(){var t;const e=(t=ay())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hz(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gz(){return!zz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kz(){try{return typeof indexedDB=="object"}catch{return!1}}function Xz(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz="FirebaseError";class so extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Yz,Object.setPrototypeOf(this,so.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Qz(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new so(i,l,n)}}function Qz(t,e){return t.replace(Jz,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Jz=/\{\$([^}]+)}/g;function Zz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(gk(a)&&gk(o)){if(!Ya(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function gk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ud(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function eB(t,e){const r=new tB(t,e);return r.subscribe.bind(r)}class tB{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");rB(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Qb),i.error===void 0&&(i.error=Qb),i.complete===void 0&&(i.complete=Qb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rB(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Qb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class hl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Lz;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aB(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:iB(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iB(t){return t===Js?void 0:t}function aB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new nB(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const sB={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},lB=at.INFO,uB={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},cB=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=uB[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CE{constructor(e){this.name=e,this._logLevel=lB,this._logHandler=cB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const dB=(t,e)=>e.some(r=>t instanceof r);let yk,vk;function fB(){return yk||(yk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hB(){return vk||(vk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M4=new WeakMap,P1=new WeakMap,D4=new WeakMap,Jb=new WeakMap,NE=new WeakMap;function pB(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Jo(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&M4.set(r,t)}).catch(()=>{}),NE.set(e,t),e}function mB(t){if(P1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});P1.set(t,e)}let j1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return P1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Jo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gB(t){j1=t(j1)}function yB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Zb(this),e,...r);return D4.set(n,e.sort?e.sort():[e]),Jo(n)}:hB().includes(t)?function(...e){return t.apply(Zb(this),e),Jo(M4.get(this))}:function(...e){return Jo(t.apply(Zb(this),e))}}function vB(t){return typeof t=="function"?yB(t):(t instanceof IDBTransaction&&mB(t),dB(t,fB())?new Proxy(t,j1):t)}function Jo(t){if(t instanceof IDBRequest)return pB(t);if(Jb.has(t))return Jb.get(t);const e=vB(t);return e!==t&&(Jb.set(t,e),NE.set(e,t)),e}const Zb=t=>NE.get(t);function bB(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Jo(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Jo(o.result),c.oldVersion,c.newVersion,Jo(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const xB=["get","getKey","getAll","getAllKeys","count"],wB=["put","add","delete","clear"],ex=new Map;function bk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ex.get(e))return ex.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=wB.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||xB.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return ex.set(e,a),a}gB(t=>({...t,get:(e,r,n)=>bk(e,r)||t.get(e,r,n),has:(e,r)=>!!bk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(SB(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function SB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k1="@firebase/app",xk="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new CE("@firebase/app"),EB="@firebase/app-compat",TB="@firebase/analytics-compat",AB="@firebase/analytics",PB="@firebase/app-check-compat",jB="@firebase/app-check",kB="@firebase/auth",IB="@firebase/auth-compat",CB="@firebase/database",NB="@firebase/data-connect",OB="@firebase/database-compat",RB="@firebase/functions",MB="@firebase/functions-compat",DB="@firebase/installations",LB="@firebase/installations-compat",$B="@firebase/messaging",VB="@firebase/messaging-compat",FB="@firebase/performance",UB="@firebase/performance-compat",zB="@firebase/remote-config",BB="@firebase/remote-config-compat",qB="@firebase/storage",WB="@firebase/storage-compat",HB="@firebase/firestore",GB="@firebase/ai",KB="@firebase/firestore-compat",XB="firebase",YB="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="[DEFAULT]",QB={[k1]:"fire-core",[EB]:"fire-core-compat",[AB]:"fire-analytics",[TB]:"fire-analytics-compat",[jB]:"fire-app-check",[PB]:"fire-app-check-compat",[kB]:"fire-auth",[IB]:"fire-auth-compat",[CB]:"fire-rtdb",[NB]:"fire-data-connect",[OB]:"fire-rtdb-compat",[RB]:"fire-fn",[MB]:"fire-fn-compat",[DB]:"fire-iid",[LB]:"fire-iid-compat",[$B]:"fire-fcm",[VB]:"fire-fcm-compat",[FB]:"fire-perf",[UB]:"fire-perf-compat",[zB]:"fire-rc",[BB]:"fire-rc-compat",[qB]:"fire-gcs",[WB]:"fire-gcs-compat",[HB]:"fire-fst",[KB]:"fire-fst-compat",[GB]:"fire-vertex","fire-js":"fire-js",[XB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map,JB=new Map,C1=new Map;function wk(t,e){try{t.container.addComponent(e)}catch(r){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Gu(t){const e=t.name;if(C1.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;C1.set(e,t);for(const r of Dm.values())wk(r,t);for(const r of JB.values())wk(r,t);return!0}function OE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new uh("app","Firebase",ZB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=YB;function L4(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:I1,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(r||(r=C4()),!r)throw Zo.create("no-options");const a=Dm.get(i);if(a){if(Ya(r,a.options)&&Ya(n,a.config))return a;throw Zo.create("duplicate-app",{appName:i})}const o=new oB(i);for(const c of C1.values())o.addComponent(c);const l=new e9(r,n,o);return Dm.set(i,l),l}function $4(t=I1){const e=Dm.get(t);if(!e&&t===I1&&C4())return L4();if(!e)throw Zo.create("no-app",{appName:t});return e}function es(t,e,r){var n;let i=(n=QB[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(l.join(" "));return}Gu(new hl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="firebase-heartbeat-database",r9=1,mf="firebase-heartbeat-store";let tx=null;function V4(){return tx||(tx=bB(t9,r9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Zo.create("idb-open",{originalErrorMessage:t.message})})),tx}async function n9(t){try{const r=(await V4()).transaction(mf),n=await r.objectStore(mf).get(F4(t));return await r.done,n}catch(e){if(e instanceof so)Qa.warn(e.message);else{const r=Zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(r.message)}}}async function _k(t,e){try{const n=(await V4()).transaction(mf,"readwrite");await n.objectStore(mf).put(e,F4(t)),await n.done}catch(r){if(r instanceof so)Qa.warn(r.message);else{const n=Zo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Qa.warn(n.message)}}}function F4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=1024,a9=30;class o9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new l9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Sk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>a9){const o=u9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Qa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Sk(),{heartbeatsToSend:n,unsentEntries:i}=s9(this._heartbeatsCache.heartbeats),a=Mm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Qa.warn(r),""}}}function Sk(){return new Date().toISOString().substring(0,10)}function s9(t,e=i9){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Ek(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Ek(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class l9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kz()?Xz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await n9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _k(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _k(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ek(t){return Mm(JSON.stringify({version:2,heartbeats:t})).length}function u9(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){Gu(new hl("platform-logger",e=>new _B(e),"PRIVATE")),Gu(new hl("heartbeat",e=>new o9(e),"PRIVATE")),es(k1,xk,t),es(k1,xk,"esm2017"),es("fire-js","")}c9("");function RE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function U4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d9=U4,z4=new uh("auth","Firebase",U4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new CE("@firebase/auth");function f9(t,...e){Lm.logLevel<=at.WARN&&Lm.warn(`Auth (${jc}): ${t}`,...e)}function _m(t,...e){Lm.logLevel<=at.ERROR&&Lm.error(`Auth (${jc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,...e){throw DE(t,...e)}function Mi(t,...e){return DE(t,...e)}function ME(t,e,r){const n=Object.assign(Object.assign({},d9()),{[e]:r});return new uh("auth","Firebase",n).create(e,{appName:t.name})}function na(t){return ME(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B4(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ui(t,"argument-error"),ME(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function DE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return z4.create(t,...e)}function ze(t,e,...r){if(!t)throw DE(e,...r)}function Fa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _m(e),new Error(e)}function Ja(t,e){t||Fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h9(){return Tk()==="http:"||Tk()==="https:"}function Tk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h9()||qz()||"connection"in navigator)?navigator.onLine:!0}function m9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ja(r>e,"Short delay should be less than long delay!"),this.isMobile=Uz()||Wz()}get(){return p9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){Ja(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v9=new dh(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vi(t,e,r,n,i={}){return W4(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=ch(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return Bz()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Pc(t.emulatorConfig.host)&&(d.credentials="include"),q4.fetch()(await H4(t,t.config.apiHost,r,l),d)})}async function W4(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},g9),e);try{const i=new x9(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Zp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Zp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Zp(t,"user-disabled",o);const p=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ME(t,p,d);ui(t,p)}}catch(i){if(i instanceof so)throw i;ui(t,"network-request-failed",{message:String(i)})}}async function fh(t,e,r,n,i={}){const a=await Vi(t,e,r,n,i);return"mfaPendingCredential"in a&&ui(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function H4(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?LE(t.config,i):`${t.config.apiScheme}://${i}`;return y9.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function b9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Mi(this.auth,"network-request-failed")),v9.get())})}}function Zp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Mi(t,e,n);return i.customData._tokenResponse=r,i}function Ak(t){return t!==void 0&&t.enterprise!==void 0}class w9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return b9(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _9(t,e){return Vi(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function $m(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E9(t,e=!1){const r=Pt(t),n=await r.getIdToken(e),i=$E(n);ze(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Jd(rx(i.auth_time)),issuedAtTime:Jd(rx(i.iat)),expirationTime:Jd(rx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rx(t){return Number(t)*1e3}function $E(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const i=k4(r);return i?JSON.parse(i):(_m("Failed to decode base64 JWT payload"),null)}catch(i){return _m("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Pk(t){const e=$E(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof so&&T9(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function T9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jd(this.lastLoginAt),this.creationTime=Jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){var e;const r=t.auth,n=await t.getIdToken(),i=await pl(t,$m(r,{idToken:n}));ze(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?G4(a.providerUserInfo):[],l=j9(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),p=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new O1(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function P9(t){const e=Pt(t);await gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j9(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function G4(t){return t.map(e=>{var{providerId:r}=e,n=RE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,e){const r=await W4(t,{},async()=>{const n=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await H4(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Pc(t.emulatorConfig.host)&&(c.credentials="include"),q4.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function I9(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const r=Pk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await k9(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Lu;return n&&(ze(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return Fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=RE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new O1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await pl(this,this.stsTokenManager.getToken(this.auth,e));return ze(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return E9(this,e)}reload(){return P9(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await gf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await pl(this,S9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,l,c,d,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(l=r.tenantId)!==null&&l!==void 0?l:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,T=(d=r.createdAt)!==null&&d!==void 0?d:void 0,E=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:I,emailVerified:N,isAnonymous:k,providerData:O,stsTokenManager:P}=r;ze(I&&P,e,"internal-error");const C=Lu.fromJSON(this.name,P);ze(typeof I=="string",e,"internal-error"),$o(m,e.name),$o(y,e.name),ze(typeof N=="boolean",e,"internal-error"),ze(typeof k=="boolean",e,"internal-error"),$o(x,e.name),$o(S,e.name),$o(w,e.name),$o(b,e.name),$o(T,e.name),$o(E,e.name);const R=new Oi({uid:I,auth:e,email:y,emailVerified:N,displayName:m,isAnonymous:k,photoURL:S,phoneNumber:x,tenantId:w,stsTokenManager:C,createdAt:T,lastLoginAt:E});return O&&Array.isArray(O)&&(R.providerData=O.map(F=>Object.assign({},F))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new Lu;i.updateFromServerResponse(r);const a=new Oi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await gf(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?G4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Lu;l.updateFromIdToken(n);const c=new Oi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new O1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Map;function Ua(t){Ja(t instanceof Function,"Expected a class definition");let e=jk.get(t);return e?(Ja(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}K4.type="NONE";const kk=K4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e,r){return`firebase:${t}:${e}:${r}`}class $u{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Sm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Sm("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await $m(this.auth,{idToken:e}).catch(()=>{});return r?Oi._fromGetAccountInfoResponse(this.auth,r,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new $u(Ua(kk),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Ua(kk);const o=Sm(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const p=await d._get(o);if(p){let m;if(typeof p=="string"){const y=await $m(e,{idToken:p}).catch(()=>{});if(!y)break;m=await Oi._fromGetAccountInfoResponse(e,y,p)}else m=Oi._fromJSON(e,p);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new $u(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new $u(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eL(e))return"Blackberry";if(tL(e))return"Webos";if(Y4(e))return"Safari";if((e.includes("chrome/")||Q4(e))&&!e.includes("edge/"))return"Chrome";if(Z4(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function X4(t=en()){return/firefox\//i.test(t)}function Y4(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q4(t=en()){return/crios\//i.test(t)}function J4(t=en()){return/iemobile/i.test(t)}function Z4(t=en()){return/android/i.test(t)}function eL(t=en()){return/blackberry/i.test(t)}function tL(t=en()){return/webos/i.test(t)}function VE(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C9(t=en()){var e;return VE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N9(){return Hz()&&document.documentMode===10}function rL(t=en()){return VE(t)||Z4(t)||tL(t)||eL(t)||/windows phone/i.test(t)||J4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e=[]){let r;switch(t){case"Browser":r=Ik(en());break;case"Worker":r=`${Ik(en())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${jc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=6;class D9{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:M9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ck(this),this.idTokenSubscription=new Ck(this),this.beforeStateQueue=new O9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ua(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await $m(this,{idToken:e}),n=await Oi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await gf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(na(this));const r=e?Pt(e):null;return r&&ze(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R9(this),r=new D9(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await I9(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ua(e)||this._popupRedirectResolver;ze(r,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[Ua(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&f9(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function uo(t){return Pt(t)}class Ck{constructor(e){this.auth=e,this.observer=null,this.addObserver=eB(r=>this.observer=r)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $9(t){oy=t}function iL(t){return oy.loadJS(t)}function V9(){return oy.recaptchaEnterpriseScript}function F9(){return oy.gapiScript}function U9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class z9{constructor(){this.enterprise=new B9}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class B9{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const q9="recaptcha-enterprise",aL="NO_RECAPTCHA";class W9{constructor(e){this.type=q9,this.auth=uo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{_9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new w9(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;Ak(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(aL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z9().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&Ak(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=V9();c.length!==0&&(c+=l),iL(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Nk(t,e,r,n=!1,i=!1){const a=new W9(t);let o;if(i)o=aL;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Vm(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Nk(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Nk(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t,e){const r=OE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ya(a,e??{}))return i;ui(i,"already-initialized")}return r.initialize({options:e})}function G9(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ua);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function K9(t,e,r){const n=uo(t);ze(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=oL(e),{host:o,port:l}=X9(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},p=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ze(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ze(Ya(d,n.config.emulator)&&Ya(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Pc(o)?(O4(`${a}//${o}${c}`),R4("Auth",!0)):Y9()}function oL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X9(t){const e=oL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Ok(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Ok(o)}}}function Ok(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y9(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Fa("not implemented")}_getIdTokenResponse(e){return Fa("not implemented")}_linkToIdToken(e,r){return Fa("not implemented")}_getReauthenticationResolver(e){return Fa("not implemented")}}async function Q9(t,e){return Vi(t,"POST","/v1/accounts:update",e)}async function J9(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e){return fh(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}async function e8(t,e){return Vi(t,"POST","/v1/accounts:sendOobCode",lo(t,e))}async function t8(t,e){return e8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e){return fh(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function n8(t,e){return fh(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends FE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new yf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new yf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,r,"signInWithPassword",Z9);case"emailLink":return r8(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signUpPassword",J9);case"emailLink":return n8(e,{idToken:r,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e){return fh(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="http://localhost";class ml extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ui("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=RE(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ml(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Vu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Vu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Vu(e,r)}buildRequest(){const e={requestUri:i8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ch(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o8(t){const e=Fd(Ud(t)).link,r=e?Fd(Ud(e)).deep_link_id:null,n=Fd(Ud(t)).deep_link_id;return(n?Fd(Ud(n)).link:null)||n||r||e||t}class UE{constructor(e){var r,n,i,a,o,l;const c=Fd(Ud(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,p=(n=c.oobCode)!==null&&n!==void 0?n:null,m=a8((i=c.mode)!==null&&i!==void 0?i:null);ze(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=o8(e);try{return new UE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.providerId=Wa.PROVIDER_ID}static credential(e,r){return yf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=UE.parseLink(r);return ze(n,"argument-error"),yf._fromEmailAndCode(e,n.code,n.tenantId)}}Wa.PROVIDER_ID="password";Wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends hh{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bo.credential(e.oauthAccessToken)}catch{return null}}}Bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ml._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ta.credential(r,n)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends hh{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.GITHUB_SIGN_IN_METHOD="github.com";qo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends hh{constructor(){super("twitter.com")}static credential(e,r){return ml._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Wo.credential(r,n)}catch{return null}}}Wo.TWITTER_SIGN_IN_METHOD="twitter.com";Wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e){return fh(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Oi._fromIdTokenResponse(e,n,i),o=Rk(n);return new gl({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Rk(n);return new gl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Rk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends so{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Fm(e,r,n,i)}}function sL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,a,e,n):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function lL(t,e,r=!1){const n=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return gl._forOperation(t,"link",n)}async function u8(t,e,r){await gf(e);const n=l8(e.providerData);ze(n.has(r)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e,r=!1){const{auth:n}=t;if(wn(n.app))return Promise.reject(na(n));const i="reauthenticate";try{const a=await pl(t,sL(n,i,e,t),r);ze(a.idToken,n,"internal-error");const o=$E(a.idToken);ze(o,n,"internal-error");const{sub:l}=o;return ze(t.uid===l,n,"user-mismatch"),gl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ui(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e,r=!1){if(wn(t.app))return Promise.reject(na(t));const n="signIn",i=await sL(t,n,e),a=await gl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function c8(t,e){return cL(uo(t),e)}async function d8(t,e){const r=Pt(t);return await u8(!1,r,e.providerId),lL(r,e)}async function Mk(t,e){return uL(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t){const e=uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f8(t,e,r){const n=uo(t);await Vm(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",t8)}async function h8(t,e,r){if(wn(t.app))return Promise.reject(na(t));const n=uo(t),o=await Vm(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s8).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&dL(t),c}),l=await gl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function p8(t,e,r){return wn(t.app)?Promise.reject(na(t)):c8(Pt(t),Wa.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&dL(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e){return Vi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Pt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await pl(n,m8(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function g8(t,e){const r=Pt(t);return wn(r.auth.app)?Promise.reject(na(r.auth)):fL(r,e,null)}function y8(t,e){return fL(Pt(t),null,e)}async function fL(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const o=await pl(t,Q9(n,a));await t._updateTokensIfNecessary(o,!0)}function v8(t,e,r,n){return Pt(t).onIdTokenChanged(e,r,n)}function b8(t,e,r){return Pt(t).beforeAuthStateChanged(e,r)}function x8(t,e,r,n){return Pt(t).onAuthStateChanged(e,r,n)}function w8(t){return Pt(t).signOut()}const Um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=1e3,S8=10;class pL extends hL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);N9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S8):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},_8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}pL.type="LOCAL";const E8=pL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends hL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}mL.type="SESSION";const gL=mL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ly(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,a)),c=await T8(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=zE("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(){return window}function P8(t){ia().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return typeof ia().WorkerGlobalScope<"u"&&typeof ia().importScripts=="function"}async function j8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I8(){return yL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebaseLocalStorageDb",C8=1,zm="firebaseLocalStorage",bL="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function uy(t,e){return t.transaction([zm],e?"readwrite":"readonly").objectStore(zm)}function N8(){const t=indexedDB.deleteDatabase(vL);return new ph(t).toPromise()}function R1(){const t=indexedDB.open(vL,C8);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(zm,{keyPath:bL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(zm)?e(n):(n.close(),await N8(),e(await R1()))})})}async function Lk(t,e,r){const n=uy(t,!0).put({[bL]:e,value:r});return new ph(n).toPromise()}async function O8(t,e){const r=uy(t,!1).get(e),n=await new ph(r).toPromise();return n===void 0?null:n.value}function $k(t,e){const r=uy(t,!0).delete(e);return new ph(r).toPromise()}const R8=800,M8=3;class xL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>M8)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(I8()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await j8(),!this.activeServiceWorker)return;this.sender=new A8(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R1();return await Lk(e,Um,"1"),await $k(e,Um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>O8(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>$k(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=uy(i,!1).getAll();return new ph(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xL.type="LOCAL";const D8=xL;new dh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e){return e?Ua(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Vu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function L8(t){return cL(t.auth,new qE(t),t.bypassAuthState)}function $8(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),uL(r,new qE(t),t.bypassAuthState)}async function V8(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),lL(r,new qE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L8;case"linkViaPopup":case"linkViaRedirect":return V8;case"reauthViaPopup":case"reauthViaRedirect":return $8;default:ui(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=new dh(2e3,1e4);async function U8(t,e,r){if(wn(t.app))return Promise.reject(Mi(t,"operation-not-supported-in-this-environment"));const n=uo(t);B4(t,e,sy);const i=BE(n,r);return new Ko(n,"signInViaPopup",e,i).executeNotNull()}async function z8(t,e,r){const n=Pt(t);B4(n.auth,e,sy);const i=BE(n.auth,r);return new Ko(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class Ko extends wL{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=zE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F8.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8="pendingRedirect",Em=new Map;class q8 extends wL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const n=await W8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W8(t,e){const r=K8(e),n=G8(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function H8(t,e){Em.set(t._key(),e)}function G8(t){return Ua(t._redirectPersistence)}function K8(t){return Sm(B8,t.config.apiKey,t.name)}async function X8(t,e,r=!1){if(wn(t.app))return Promise.reject(na(t));const n=uo(t),i=BE(n,e),o=await new q8(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=600*1e3;class Q8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J8(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!_L(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Mi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vk(e))}saveEventToCache(e){this.cachedEventUids.add(Vk(e)),this.lastProcessedEventTime=Date.now()}}function Vk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _L({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _L(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tq=/^https?/;async function rq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z8(t);for(const r of e)try{if(nq(r))return}catch{}ui(t,"unauthorized-domain")}function nq(t){const e=N1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!tq.test(r))return!1;if(eq.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new dh(3e4,6e4);function Fk(){const t=ia().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function aq(t){return new Promise((e,r)=>{var n,i,a;function o(){Fk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fk(),r(Mi(t,"network-request-failed"))},timeout:iq.get()})}if(!((i=(n=ia().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ia().gapi)===null||a===void 0)&&a.load)o();else{const l=U9("iframefcb");return ia()[l]=()=>{gapi.load?o():r(Mi(t,"network-request-failed"))},iL(`${F9()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Tm=null,e})}let Tm=null;function oq(t){return Tm=Tm||aq(t),Tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=new dh(5e3,15e3),lq="__/auth/iframe",uq="emulator/auth/iframe",cq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fq(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?LE(e,uq):`https://${t.config.authDomain}/${lq}`,n={apiKey:e.apiKey,appName:t.name,v:jc},i=dq.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ch(n).slice(1)}`}async function hq(t){const e=await oq(t),r=ia().gapi;return ze(r,t,"internal-error"),e.open({where:document.body,url:fq(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cq,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Mi(t,"network-request-failed"),l=ia().setTimeout(()=>{a(o)},sq.get());function c(){ia().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mq=500,gq=600,yq="_blank",vq="http://localhost";class Uk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bq(t,e,r,n=mq,i=gq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},pq),{width:n.toString(),height:i.toString(),top:a,left:o}),d=en().toLowerCase();r&&(l=Q4(d)?yq:r),X4(d)&&(e=e||vq,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(C9(d)&&l!=="_self")return xq(e||"",l),new Uk(null);const m=window.open(e||"",l,p);ze(m,t,"popup-blocked");try{m.focus()}catch{}return new Uk(m)}function xq(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="__/auth/handler",_q="emulator/auth/handler",Sq=encodeURIComponent("fac");async function zk(t,e,r,n,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:jc,eventId:i};if(e instanceof sy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Zz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof hh){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),d=c?`#${Sq}=${encodeURIComponent(c)}`:"";return`${Eq(t)}?${ch(l).slice(1)}${d}`}function Eq({config:t}){return t.emulator?LE(t,_q):`https://${t.authDomain}/${wq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="webStorageSupport";class Tq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gL,this._completeRedirectFn=X8,this._overrideRedirectResult=H8}async _openPopup(e,r,n,i){var a;Ja((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await zk(e,r,n,N1(),i);return bq(e,o,zE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await zk(e,r,n,N1(),i);return P8(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ja(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await hq(e),n=new Q8(e);return r.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(nx,{type:nx},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[nx];o!==void 0&&r(!!o),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=rq(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return rL()||Y4()||VE()}}const Aq=Tq;var Bk="@firebase/auth",qk="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kq(t){Gu(new hl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nL(t)},d=new L9(n,i,a,c);return G9(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Gu(new hl("auth-internal",e=>{const r=uo(e.getProvider("auth").getImmediate());return(n=>new Pq(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Bk,qk,jq(t)),es(Bk,qk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=300,Cq=N4("authIdTokenMaxAge")||Iq;let Wk=null;const Nq=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Cq)return;const i=r==null?void 0:r.token;Wk!==i&&(Wk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Oq(t=$4()){const e=OE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=H9(t,{popupRedirectResolver:Aq,persistence:[D8,E8,gL]}),n=N4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Nq(a.toString());b8(r,o,()=>o(r.currentUser)),v8(r,l=>o(l))}}const i=I4("auth");return i&&K9(r,`http://${i}`),r}function Rq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$9({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Mi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Rq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kq("Browser");var Mq="firebase",Dq="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(Mq,Dq,"app");var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,SL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function R(){}R.prototype=C.prototype,P.D=C.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(F,L,$){for(var V=Array(arguments.length-2),q=2;q<arguments.length;q++)V[q-2]=arguments[q];return C.prototype[L].apply(F,V)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,R){R||(R=0);var F=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)F[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;16>L;++L)F[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=P.g[0],R=P.g[1],L=P.g[2];var $=P.g[3],V=C+($^R&(L^$))+F[0]+3614090360&4294967295;C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[1]+3905402710&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[2]+606105819&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[3]+3250441966&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+($^R&(L^$))+F[4]+4118548399&4294967295,C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[5]+1200080426&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[6]+2821735955&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[7]+4249261313&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+($^R&(L^$))+F[8]+1770035416&4294967295,C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[9]+2336552879&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[10]+4294925233&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[11]+2304563134&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+($^R&(L^$))+F[12]+1804603682&4294967295,C=R+(V<<7&4294967295|V>>>25),V=$+(L^C&(R^L))+F[13]+4254626195&4294967295,$=C+(V<<12&4294967295|V>>>20),V=L+(R^$&(C^R))+F[14]+2792965006&4294967295,L=$+(V<<17&4294967295|V>>>15),V=R+(C^L&($^C))+F[15]+1236535329&4294967295,R=L+(V<<22&4294967295|V>>>10),V=C+(L^$&(R^L))+F[1]+4129170786&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[6]+3225465664&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[11]+643717713&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[0]+3921069994&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(L^$&(R^L))+F[5]+3593408605&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[10]+38016083&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[15]+3634488961&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[4]+3889429448&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(L^$&(R^L))+F[9]+568446438&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[14]+3275163606&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[3]+4107603335&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[8]+1163531501&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(L^$&(R^L))+F[13]+2850285829&4294967295,C=R+(V<<5&4294967295|V>>>27),V=$+(R^L&(C^R))+F[2]+4243563512&4294967295,$=C+(V<<9&4294967295|V>>>23),V=L+(C^R&($^C))+F[7]+1735328473&4294967295,L=$+(V<<14&4294967295|V>>>18),V=R+($^C&(L^$))+F[12]+2368359562&4294967295,R=L+(V<<20&4294967295|V>>>12),V=C+(R^L^$)+F[5]+4294588738&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[8]+2272392833&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[11]+1839030562&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[14]+4259657740&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(R^L^$)+F[1]+2763975236&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[4]+1272893353&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[7]+4139469664&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[10]+3200236656&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(R^L^$)+F[13]+681279174&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[0]+3936430074&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[3]+3572445317&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[6]+76029189&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(R^L^$)+F[9]+3654602809&4294967295,C=R+(V<<4&4294967295|V>>>28),V=$+(C^R^L)+F[12]+3873151461&4294967295,$=C+(V<<11&4294967295|V>>>21),V=L+($^C^R)+F[15]+530742520&4294967295,L=$+(V<<16&4294967295|V>>>16),V=R+(L^$^C)+F[2]+3299628645&4294967295,R=L+(V<<23&4294967295|V>>>9),V=C+(L^(R|~$))+F[0]+4096336452&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[7]+1126891415&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[14]+2878612391&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[5]+4237533241&4294967295,R=L+(V<<21&4294967295|V>>>11),V=C+(L^(R|~$))+F[12]+1700485571&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[3]+2399980690&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[10]+4293915773&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[1]+2240044497&4294967295,R=L+(V<<21&4294967295|V>>>11),V=C+(L^(R|~$))+F[8]+1873313359&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[15]+4264355552&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[6]+2734768916&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[13]+1309151649&4294967295,R=L+(V<<21&4294967295|V>>>11),V=C+(L^(R|~$))+F[4]+4149444226&4294967295,C=R+(V<<6&4294967295|V>>>26),V=$+(R^(C|~L))+F[11]+3174756917&4294967295,$=C+(V<<10&4294967295|V>>>22),V=L+(C^($|~R))+F[2]+718787259&4294967295,L=$+(V<<15&4294967295|V>>>17),V=R+($^(L|~C))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+$&4294967295}n.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var R=C-this.blockSize,F=this.B,L=this.h,$=0;$<C;){if(L==0)for(;$<=R;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<C;)if(F[L++]=P.charCodeAt($++),L==this.blockSize){i(this,F),L=0;break}}else for(;$<C;)if(F[L++]=P[$++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=C},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var R=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=R&255,R/=256;for(this.u(P),P=Array(16),C=R=0;4>C;++C)for(var F=0;32>F;F+=8)P[R++]=this.g[C]>>>F&255;return P};function a(P,C){var R=l;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=C(P)}function o(P,C){this.h=C;for(var R=[],F=!0,L=P.length-1;0<=L;L--){var $=P[L]|0;F&&$==C||(R[L]=$,F=!1)}this.g=R}var l={};function c(P){return-128<=P&&128>P?a(P,function(C){return new o([C|0],0>C?-1:0)}):new o([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return b(d(-P));for(var C=[],R=1,F=0;P>=R;F++)C[F]=P/R|0,R*=4294967296;return new o(C,0)}function p(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return b(p(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(C,8)),F=m,L=0;L<P.length;L+=8){var $=Math.min(8,P.length-L),V=parseInt(P.substring(L,L+$),C);8>$?($=d(Math.pow(C,$)),F=F.j($).add(d(V))):(F=F.j(R),F=F.add(d(V)))}return F}var m=c(0),y=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();for(var P=0,C=1,R=0;R<this.g.length;R++){var F=this.i(R);P+=(0<=F?F:4294967296+F)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(w(this))return"-"+b(this).toString(P);for(var C=d(Math.pow(P,6)),R=this,F="";;){var L=N(R,C).g;R=T(R,L.j(C));var $=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=L,S(R))return $+F;for(;6>$.length;)$="0"+$;F=$+F}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=T(this,P),w(P)?-1:S(P)?0:1};function b(P){for(var C=P.g.length,R=[],F=0;F<C;F++)R[F]=~P.g[F];return new o(R,~P.h).add(y)}t.abs=function(){return w(this)?b(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0,L=0;L<=C;L++){var $=F+(this.i(L)&65535)+(P.i(L)&65535),V=($>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);F=V>>>16,$&=65535,V&=65535,R[L]=V<<16|$}return new o(R,R[R.length-1]&-2147483648?-1:0)};function T(P,C){return P.add(b(C))}t.j=function(P){if(S(this)||S(P))return m;if(w(this))return w(P)?b(this).j(b(P)):b(b(this).j(P));if(w(P))return b(this.j(b(P)));if(0>this.l(x)&&0>P.l(x))return d(this.m()*P.m());for(var C=this.g.length+P.g.length,R=[],F=0;F<2*C;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<P.g.length;L++){var $=this.i(F)>>>16,V=this.i(F)&65535,q=P.i(L)>>>16,X=P.i(L)&65535;R[2*F+2*L]+=V*X,E(R,2*F+2*L),R[2*F+2*L+1]+=$*X,E(R,2*F+2*L+1),R[2*F+2*L+1]+=V*q,E(R,2*F+2*L+1),R[2*F+2*L+2]+=$*q,E(R,2*F+2*L+2)}for(F=0;F<C;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=C;F<2*C;F++)R[F]=0;return new o(R,0)};function E(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function I(P,C){this.g=P,this.h=C}function N(P,C){if(S(C))throw Error("division by zero");if(S(P))return new I(m,m);if(w(P))return C=N(b(P),C),new I(b(C.g),b(C.h));if(w(C))return C=N(P,b(C)),new I(b(C.g),C.h);if(30<P.g.length){if(w(P)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var R=y,F=C;0>=F.l(P);)R=k(R),F=k(F);var L=O(R,1),$=O(F,1);for(F=O(F,2),R=O(R,2);!S(F);){var V=$.add(F);0>=V.l(P)&&(L=L.add(R),$=V),F=O(F,1),R=O(R,1)}return C=T(P,L.j(C)),new I(L,C)}for(L=m;0<=P.l(C);){for(R=Math.max(1,Math.floor(P.m()/C.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),$=d(R),V=$.j(C);w(V)||0<V.l(P);)R-=F,$=d(R),V=$.j(C);S($)&&($=y),L=L.add($),P=T(P,V)}return new I(L,P)}t.A=function(P){return N(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0;F<C;F++)R[F]=this.i(F)&P.i(F);return new o(R,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0;F<C;F++)R[F]=this.i(F)|P.i(F);return new o(R,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],F=0;F<C;F++)R[F]=this.i(F)^P.i(F);return new o(R,this.h^P.h)};function k(P){for(var C=P.g.length+1,R=[],F=0;F<C;F++)R[F]=P.i(F)<<1|P.i(F-1)>>>31;return new o(R,P.h)}function O(P,C){var R=C>>5;C%=32;for(var F=P.g.length-R,L=[],$=0;$<F;$++)L[$]=0<C?P.i($+R)>>>C|P.i($+R+1)<<32-C:P.i($+R);return new o(L,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,SL=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,ts=o}).apply(typeof Hk<"u"?Hk:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EL,zd,TL,Am,M1,AL,PL,jL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,M){return g==Array.prototype||g==Object.prototype||(g[A]=M.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var A=0;A<g.length;++A){var M=g[A];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function i(g,A){if(A)e:{var M=n;g=g.split(".");for(var z=0;z<g.length-1;z++){var J=g[z];if(!(J in M))break e;M=M[J]}g=g[g.length-1],z=M[g],A=A(z),A!=z&&A!=null&&e(M,g,{configurable:!0,writable:!0,value:A})}}function a(g,A){g instanceof String&&(g+="");var M=0,z=!1,J={next:function(){if(!z&&M<g.length){var oe=M++;return{value:A(oe,g[oe]),done:!1}}return z=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(g){return g||function(){return a(this,function(A,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function d(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function p(g,A,M){return g.call.apply(g.bind,arguments)}function m(g,A,M){if(!g)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,z),g.apply(A,J)}}return function(){return g.apply(A,arguments)}}function y(g,A,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,A){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function S(g,A){function M(){}M.prototype=A.prototype,g.aa=A.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(z,J,oe){for(var we=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)we[xt-2]=arguments[xt];return A.prototype[J].apply(z,we)}}function w(g){const A=g.length;if(0<A){const M=Array(A);for(let z=0;z<A;z++)M[z]=g[z];return M}return[]}function b(g,A){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(c(z)){const J=g.length||0,oe=z.length||0;g.length=J+oe;for(let we=0;we<oe;we++)g[J+we]=z[we]}else g.push(z)}}class T{constructor(A,M){this.i=A,this.j=M,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function E(g){return/^[\s\xa0]*$/.test(g)}function I(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function N(g){return N[" "](g),g}N[" "]=function(){};var k=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function O(g,A,M){for(const z in g)A.call(M,g[z],z,g)}function P(g,A){for(const M in g)A.call(void 0,g[M],M,g)}function C(g){const A={};for(const M in g)A[M]=g[M];return A}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(g,A){let M,z;for(let J=1;J<arguments.length;J++){z=arguments[J];for(M in z)g[M]=z[M];for(let oe=0;oe<R.length;oe++)M=R[oe],Object.prototype.hasOwnProperty.call(z,M)&&(g[M]=z[M])}}function L(g){var A=1;g=g.split(":");const M=[];for(;0<A&&g.length;)M.push(g.shift()),A--;return g.length&&M.push(g.join(":")),M}function $(g){l.setTimeout(()=>{throw g},0)}function V(){var g=ae;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class q{constructor(){this.h=this.g=null}add(A,M){const z=X.get();z.set(A,M),this.h?this.h.next=z:this.g=z,this.h=z}}var X=new T(()=>new te,g=>g.reset());class te{constructor(){this.next=this.g=this.h=null}set(A,M){this.h=A,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Q=!1,ae=new q,ne=()=>{const g=l.Promise.resolve(void 0);re=()=>{g.then(W)}};var W=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(M){$(M)}var A=X;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}Q=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};l.addEventListener("test",M,A),l.removeEventListener("test",M,A)}catch{}return g})();function xe(g,A){if(de.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(k){e:{try{N(A.nodeName);var J=!0;break e}catch{}J=!1}J||(A=null)}}else M=="mouseover"?A=g.fromElement:M=="mouseout"&&(A=g.toElement);this.relatedTarget=A,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Re[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}S(xe,de);var Re={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Se=0;function fe(g,A,M,z,J){this.listener=g,this.proxy=null,this.src=A,this.type=M,this.capture=!!z,this.ha=J,this.key=++Se,this.da=this.fa=!1}function Ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Le(g){this.src=g,this.g={},this.h=0}Le.prototype.add=function(g,A,M,z,J){var oe=g.toString();g=this.g[oe],g||(g=this.g[oe]=[],this.h++);var we=it(g,A,z,J);return-1<we?(A=g[we],M||(A.fa=!1)):(A=new fe(A,this.src,oe,!!z,J),A.fa=M,g.push(A)),A};function pe(g,A){var M=A.type;if(M in g.g){var z=g.g[M],J=Array.prototype.indexOf.call(z,A,void 0),oe;(oe=0<=J)&&Array.prototype.splice.call(z,J,1),oe&&(Ee(A),g.g[M].length==0&&(delete g.g[M],g.h--))}}function it(g,A,M,z){for(var J=0;J<g.length;++J){var oe=g[J];if(!oe.da&&oe.listener==A&&oe.capture==!!M&&oe.ha==z)return J}return-1}var We="closure_lm_"+(1e6*Math.random()|0),gt={};function dt(g,A,M,z,J){if(Array.isArray(A)){for(var oe=0;oe<A.length;oe++)dt(g,A[oe],M,z,J);return null}return M=Gt(M),g&&g[ue]?g.K(A,M,d(z)?!!z.capture:!1,J):_t(g,A,M,!1,z,J)}function _t(g,A,M,z,J,oe){if(!A)throw Error("Invalid event type");var we=d(J)?!!J.capture:!!J,xt=Xe(g);if(xt||(g[We]=xt=new Le(g)),M=xt.add(A,M,z,we,oe),M.proxy)return M;if(z=nr(),M.proxy=z,z.src=g,z.listener=M,g.addEventListener)se||(J=we),J===void 0&&(J=!1),g.addEventListener(A.toString(),z,J);else if(g.attachEvent)g.attachEvent($t(A.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function nr(){function g(M){return A.call(g.src,g.listener,M)}const A=me;return g}function fr(g,A,M,z,J){if(Array.isArray(A))for(var oe=0;oe<A.length;oe++)fr(g,A[oe],M,z,J);else z=d(z)?!!z.capture:!!z,M=Gt(M),g&&g[ue]?(g=g.i,A=String(A).toString(),A in g.g&&(oe=g.g[A],M=it(oe,M,z,J),-1<M&&(Ee(oe[M]),Array.prototype.splice.call(oe,M,1),oe.length==0&&(delete g.g[A],g.h--)))):g&&(g=Xe(g))&&(A=g.g[A.toString()],g=-1,A&&(g=it(A,M,z,J)),(M=-1<g?A[g]:null)&&hr(M))}function hr(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[ue])pe(A.i,g);else{var M=g.type,z=g.proxy;A.removeEventListener?A.removeEventListener(M,z,g.capture):A.detachEvent?A.detachEvent($t(M),z):A.addListener&&A.removeListener&&A.removeListener(z),(M=Xe(A))?(pe(M,g),M.h==0&&(M.src=null,A[We]=null)):Ee(g)}}}function $t(g){return g in gt?gt[g]:gt[g]="on"+g}function me(g,A){if(g.da)g=!0;else{A=new xe(A,this);var M=g.listener,z=g.ha||g.src;g.fa&&hr(g),g=M.call(z,A)}return g}function Xe(g){return g=g[We],g instanceof Le?g:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(g){return typeof g=="function"?g:(g[Nt]||(g[Nt]=function(A){return g.handleEvent(A)}),g[Nt])}function Jt(){Y.call(this),this.i=new Le(this),this.M=this,this.F=null}S(Jt,Y),Jt.prototype[ue]=!0,Jt.prototype.removeEventListener=function(g,A,M,z){fr(this,g,A,M,z)};function Kt(g,A){var M,z=g.F;if(z)for(M=[];z;z=z.F)M.push(z);if(g=g.M,z=A.type||A,typeof A=="string")A=new de(A,g);else if(A instanceof de)A.target=A.target||g;else{var J=A;A=new de(z,g),F(A,J)}if(J=!0,M)for(var oe=M.length-1;0<=oe;oe--){var we=A.g=M[oe];J=Bn(we,z,!0,A)&&J}if(we=A.g=g,J=Bn(we,z,!0,A)&&J,J=Bn(we,z,!1,A)&&J,M)for(oe=0;oe<M.length;oe++)we=A.g=M[oe],J=Bn(we,z,!1,A)&&J}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var M=g.g[A],z=0;z<M.length;z++)Ee(M[z]);delete g.g[A],g.h--}}this.F=null},Jt.prototype.K=function(g,A,M,z){return this.i.add(String(g),A,!1,M,z)},Jt.prototype.L=function(g,A,M,z){return this.i.add(String(g),A,!0,M,z)};function Bn(g,A,M,z){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var J=!0,oe=0;oe<A.length;++oe){var we=A[oe];if(we&&!we.da&&we.capture==M){var xt=we.listener,pr=we.ha||we.src;we.fa&&pe(g.i,we),J=xt.call(pr,z)!==!1&&J}}return J&&!z.defaultPrevented}function _s(g,A,M){if(typeof g=="function")M&&(g=y(g,M));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:l.setTimeout(g,A||0)}function hi(g){g.g=_s(()=>{g.g=null,g.i&&(g.i=!1,hi(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class ba extends Y{constructor(A,M){super(),this.m=A,this.l=M,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(g){Y.call(this),this.h=g,this.g={}}S(pi,Y);var Ss=[];function po(g){O(g.g,function(A,M){this.g.hasOwnProperty(M)&&hr(A)},g),g.g={}}pi.prototype.N=function(){pi.aa.N.call(this),po(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=l.JSON.stringify,Be=l.JSON.parse,jn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Es(){}Es.prototype.h=null;function Dl(g){return g.h||(g.h=g.i())}function Ll(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){de.call(this,"d")}S(zi,de);function $l(){de.call(this,"c")}S($l,de);var Bi={},Bc=null;function Ts(){return Bc=Bc||new Jt}Bi.La="serverreachability";function qc(g){de.call(this,Bi.La,g)}S(qc,de);function xa(g){const A=Ts();Kt(A,new qc(A))}Bi.STAT_EVENT="statevent";function Wc(g,A){de.call(this,Bi.STAT_EVENT,g),this.stat=A}S(Wc,de);function Zt(g){const A=Ts();Kt(A,new Wc(A,g))}Bi.Ma="timingevent";function Vl(g,A){de.call(this,Bi.Ma,g),this.size=A}S(Vl,de);function mi(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function As(){this.g=!0}As.prototype.xa=function(){this.g=!1};function Ps(g,A,M,z,J,oe){g.info(function(){if(g.g)if(oe)for(var we="",xt=oe.split("&"),pr=0;pr<xt.length;pr++){var lt=xt[pr].split("=");if(1<lt.length){var Er=lt[0];lt=lt[1];var ir=Er.split("_");we=2<=ir.length&&ir[1]=="type"?we+(Er+"="+lt+"&"):we+(Er+"=redacted&")}}else we=null;else we=oe;return"XMLHTTP REQ ("+z+") [attempt "+J+"]: "+A+`
`+M+`
`+we})}function Fl(g,A,M,z,J,oe,we){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+J+"]: "+A+`
`+M+`
`+oe+" "+we})}function gi(g,A,M,z){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+bv(g,M)+(z?" "+z:"")})}function Hc(g,A){g.info(function(){return"TIMEOUT: "+A})}As.prototype.info=function(){};function bv(g,A){if(!g.g)return A;if(!A)return null;try{var M=JSON.parse(A);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var z=M[g];if(!(2>z.length)){var J=z[1];if(Array.isArray(J)&&!(1>J.length)){var oe=J[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var we=1;we<J.length;we++)J[we]=""}}}}return Oe(M)}catch{return A}}var Ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function js(){}S(js,Es),js.prototype.g=function(){return new XMLHttpRequest},js.prototype.i=function(){return{}},yi=new js;function vi(g,A,M,z){this.j=g,this.i=A,this.l=M,this.R=z||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $h}function $h(){this.i=null,this.g="",this.h=!1}var Gc={},zl={};function Bl(g,A,M){g.L=1,g.v=bo(In(A)),g.m=M,g.P=!0,Kc(g,null)}function Kc(g,A){g.F=Date.now(),jt(g),g.A=In(g.v);var M=g.A,z=g.R;Array.isArray(z)||(z=[String(z)]),wo(M.i,"t",z),g.C=0,M=g.j.J,g.h=new $h,g.g=rp(g.j,M?A:null,!g.m),0<g.O&&(g.M=new ba(y(g.Y,g,g.g),g.O)),A=g.U,M=g.g,z=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(Ss[0]=J.toString()),J=Ss);for(var oe=0;oe<J.length;oe++){var we=dt(M,J[oe],z||A.handleEvent,!1,A.h||A);if(!we)break;A.g[we.key]=we}A=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),xa(),Ps(g.i,g.u,g.A,g.l,g.R,g.m)}vi.prototype.ca=function(g){g=g.target;const A=this.M;A&&fn(g)==3?A.j():this.Y(g)},vi.prototype.Y=function(g){try{if(g==this.g)e:{const ir=fn(this.g);var A=this.g.Ba();const Gn=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||ed(this.g)))){this.J||ir!=4||A==7||(A==8||0>=Gn?xa(3):xa(2)),ks(this);var M=this.g.Z();this.X=M;t:if(Vh(this)){var z=ed(this.g);g="";var J=z.length,oe=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),mo(this);var we="";break t}this.h.i=new l.TextDecoder}for(A=0;A<J;A++)this.h.h=!0,g+=this.h.i.decode(z[A],{stream:!(oe&&A==J-1)});z.length=0,this.h.g+=g,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=M==200,Fl(this.i,this.u,this.A,this.l,this.R,ir,M),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,pr=this.g;if((xt=pr.g?pr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(xt)){var lt=xt;break t}}lt=null}if(M=lt)gi(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,M);else{this.o=!1,this.s=3,Zt(12),Wn(this),mo(this);break e}}if(this.P){M=!0;let Nn;for(;!this.J&&this.C<we.length;)if(Nn=xv(this,we),Nn==zl){ir==4&&(this.s=4,Zt(14),M=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Gc){this.s=4,Zt(15),gi(this.i,this.l,we,"[Invalid Chunk]"),M=!1;break}else gi(this.i,this.l,Nn,null),Xc(this,Nn);if(Vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||we.length!=0||this.h.h||(this.s=1,Zt(16),M=!1),this.o=this.o&&M,!M)gi(this.i,this.l,we,"[Invalid Chunked Response]"),Wn(this),mo(this);else if(0<we.length&&!this.W){this.W=!0;var Er=this.j;Er.g==this&&Er.ba&&!Er.M&&(Er.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),rd(Er),Er.M=!0,Zt(11))}}else gi(this.i,this.l,we,null),Xc(this,we);ir==4&&Wn(this),this.o&&!this.J&&(ir==4?eu(this.j,this):(this.o=!1,jt(this)))}else Xl(this.g),M==400&&0<we.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Wn(this),mo(this)}}}catch{}finally{}};function Vh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function xv(g,A){var M=g.C,z=A.indexOf(`
`,M);return z==-1?zl:(M=Number(A.substring(M,z)),isNaN(M)?Gc:(z+=1,z+M>A.length?zl:(A=A.slice(z,z+M),g.C=z+M,A)))}vi.prototype.cancel=function(){this.J=!0,Wn(this)};function jt(g){g.S=Date.now()+g.I,Fh(g,g.I)}function Fh(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=mi(y(g.ba,g),A)}function ks(g){g.B&&(l.clearTimeout(g.B),g.B=null)}vi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Hc(this.i,this.A),this.L!=2&&(xa(),Zt(17)),Wn(this),this.s=2,mo(this)):Fh(this,this.S-g)};function mo(g){g.j.G==0||g.J||eu(g.j,g)}function Wn(g){ks(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,po(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function Xc(g,A){try{var M=g.j;if(M.G!=0&&(M.g==g||tn(M.h,g))){if(!g.K&&tn(M.h,g)&&M.G==3){try{var z=M.Da.g.parse(A)}catch{z=null}if(Array.isArray(z)&&z.length==3){var J=z;if(J[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)Zl(M),Si(M);else break e;Jl(M),Zt(18)}}else M.za=J[1],0<M.za-M.T&&37500>J[2]&&M.F&&M.v==0&&!M.C&&(M.C=mi(y(M.Za,M),6e3));if(1>=zh(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Ta(M,11)}else if((g.K||M.g==g)&&Zl(M),!E(A))for(J=M.Da.g.parse(A),A=0;A<J.length;A++){let lt=J[A];if(M.T=lt[0],lt=lt[1],M.G==2)if(lt[0]=="c"){M.K=lt[1],M.ia=lt[2];const Er=lt[3];Er!=null&&(M.la=Er,M.j.info("VER="+M.la));const ir=lt[4];ir!=null&&(M.Aa=ir,M.j.info("SVER="+M.Aa));const Gn=lt[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(z=1.5*Gn,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const Nn=g.g;if(Nn){const Ds=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var oe=z.h;oe.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Yc(oe,oe.h),oe.h=null))}if(z.D){const ru=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ru&&(z.ya=ru,Tt(z.I,z.D,ru))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var we=g;if(z.qa=tp(z,z.J?z.ia:null,z.W),we.K){Bh(z.h,we);var xt=we,pr=z.L;pr&&(xt.I=pr),xt.B&&(ks(xt),jt(xt)),z.g=we}else Ms(z);0<M.i.length&&Gi(M)}else lt[0]!="stop"&&lt[0]!="close"||Ta(M,7);else M.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Ta(M,7):Rr(M):lt[0]!="noop"&&M.l&&M.l.ta(lt),M.v=0)}}xa(4)}catch{}}var Uh=class{constructor(g,A){this.g=g,this.map=A}};function Is(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function zh(g){return g.h?1:g.g?g.g.size:0}function tn(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function Yc(g,A){g.g?g.g.add(A):g.h=A}function Bh(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}Is.prototype.cancel=function(){if(this.i=qh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function qh(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const M of g.g.values())A=A.concat(M.D);return A}return w(g.i)}function ql(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var A=[],M=g.length,z=0;z<M;z++)A.push(g[z]);return A}A=[],M=0;for(z in g)A[M++]=g[z];return A}function Wl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var A=[];g=g.length;for(var M=0;M<g;M++)A.push(M);return A}A=[],M=0;for(const z in g)A[M++]=z;return A}}}function go(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var M=Wl(g),z=ql(g),J=z.length,oe=0;oe<J;oe++)A.call(void 0,z[oe],M&&M[oe],g)}var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wv(g,A){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var z=g[M].indexOf("="),J=null;if(0<=z){var oe=g[M].substring(0,z);J=g[M].substring(z+1)}else oe=g[M];A(oe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function wa(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof wa){this.h=g.h,Ns(this,g.j),this.o=g.o,this.g=g.g,yo(this,g.s),this.l=g.l;var A=g.i,M=new qi;M.i=A.i,A.g&&(M.g=new Map(A.g),M.h=A.h),vo(this,M),this.m=g.m}else g&&(A=String(g).match(Cs))?(this.h=!1,Ns(this,A[1]||"",!0),this.o=st(A[2]||""),this.g=st(A[3]||"",!0),yo(this,A[4]),this.l=st(A[5]||"",!0),vo(this,A[6]||"",!0),this.m=st(A[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}wa.prototype.toString=function(){var g=[],A=this.j;A&&g.push(xo(A,Hl,!0),":");var M=this.g;return(M||A=="file")&&(g.push("//"),(A=this.o)&&g.push(xo(A,Hl,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(xo(M,M.charAt(0)=="/"?Gh:Hh,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",xo(M,Qc)),g.join("")};function In(g){return new wa(g)}function Ns(g,A,M){g.j=M?st(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function yo(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function vo(g,A,M){A instanceof qi?(g.i=A,Wi(g.i,g.h)):(M||(A=xo(A,Kh)),g.i=new qi(A,g.h))}function Tt(g,A,M){g.i.set(A,M)}function bo(g){return Tt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function st(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function xo(g,A,M){return typeof g=="string"?(g=encodeURI(g).replace(A,Wh),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Wh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Hl=/[#\/\?@]/g,Hh=/[#\?:]/g,Gh=/[#\?]/g,Kh=/[#\?@]/g,Qc=/#/g;function qi(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Or(g){g.g||(g.g=new Map,g.h=0,g.i&&wv(g.i,function(A,M){g.add(decodeURIComponent(A.replace(/\+/g," ")),M)}))}t=qi.prototype,t.add=function(g,A){Or(this),this.i=null,g=Hn(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(A),this.h+=1,this};function bi(g,A){Or(g),A=Hn(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function xi(g,A){return Or(g),A=Hn(g,A),g.g.has(A)}t.forEach=function(g,A){Or(this),this.g.forEach(function(M,z){M.forEach(function(J){g.call(A,J,z,this)},this)},this)},t.na=function(){Or(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),M=[];for(let z=0;z<A.length;z++){const J=g[z];for(let oe=0;oe<J.length;oe++)M.push(A[z])}return M},t.V=function(g){Or(this);let A=[];if(typeof g=="string")xi(this,g)&&(A=A.concat(this.g.get(Hn(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)A=A.concat(g[M])}return A},t.set=function(g,A){return Or(this),this.i=null,g=Hn(this,g),xi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function wo(g,A,M){bi(g,A),0<M.length&&(g.i=null,g.g.set(Hn(g,A),w(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var M=0;M<A.length;M++){var z=A[M];const oe=encodeURIComponent(String(z)),we=this.V(z);for(z=0;z<we.length;z++){var J=oe;we[z]!==""&&(J+="="+encodeURIComponent(String(we[z]))),g.push(J)}}return this.i=g.join("&")};function Hn(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function Wi(g,A){A&&!g.j&&(Or(g),g.i=null,g.g.forEach(function(M,z){var J=z.toLowerCase();z!=J&&(bi(this,z),wo(this,J,M))},g)),g.j=A}function _v(g,A){const M=new As;if(l.Image){const z=new Image;z.onload=x(dn,M,"TestLoadImage: loaded",!0,A,z),z.onerror=x(dn,M,"TestLoadImage: error",!1,A,z),z.onabort=x(dn,M,"TestLoadImage: abort",!1,A,z),z.ontimeout=x(dn,M,"TestLoadImage: timeout",!1,A,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else A(!1)}function Xh(g,A){const M=new As,z=new AbortController,J=setTimeout(()=>{z.abort(),dn(M,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:z.signal}).then(oe=>{clearTimeout(J),oe.ok?dn(M,"TestPingServer: ok",!0,A):dn(M,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),dn(M,"TestPingServer: error",!1,A)})}function dn(g,A,M,z,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),z(M)}catch{}}function Sv(){this.g=new jn}function Yh(g,A,M){const z=M||"";try{go(g,function(J,oe){let we=J;d(J)&&(we=Oe(J)),A.push(z+oe+"="+encodeURIComponent(we))})}catch(J){throw A.push(z+"type="+encodeURIComponent("_badmap")),J}}function _a(g){this.l=g.Ub||null,this.j=g.eb||!1}S(_a,Es),_a.prototype.g=function(){return new Os(this.l,this.j)},_a.prototype.i=(function(g){return function(){return g}})({});function Os(g,A){Jt.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Os,Jt),t=Os.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,_i(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||l).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qh(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qh(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?wi(this):_i(this),this.readyState==3&&Qh(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,wi(this))},t.Qa=function(g){this.g&&(this.response=g,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,_i(g)}t.setRequestHeader=function(g,A){this.u.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var M=A.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=A.next();return g.join(`\r
`)};function _i(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Sa(g){let A="";return O(g,function(M,z){A+=z,A+=":",A+=M,A+=`\r
`}),A}function _o(g,A,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=Sa(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):Tt(g,A,M))}function Vt(g){Jt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Vt,Jt);var Ev=/^https?$/i,Jc=["POST","PUT"];t=Vt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,A,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?Dl(this.o):Dl(yi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(oe){Rs(this,oe);return}if(g=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var J in z)M.set(J,z[J]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const oe of z.keys())M.set(oe,z.get(oe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Jc,A,void 0))||z||J||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,we]of M)this.g.setRequestHeader(oe,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kl(this),this.u=!0,this.g.send(g),this.u=!1}catch(oe){Rs(this,oe)}};function Rs(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,Gl(g),Cn(g)}function Gl(g){g.A||(g.A=!0,Kt(g,"complete"),Kt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Kt(this,"complete"),Kt(this,"abort"),Cn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)};function Zc(g){if(g.h&&typeof o<"u"&&(!g.v[1]||fn(g)!=4||g.Z()!=2)){if(g.u&&fn(g)==4)_s(g.Ea,0,g);else if(Kt(g,"readystatechange"),fn(g)==4){g.h=!1;try{const we=g.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var M;if(!(M=A)){var z;if(z=we===0){var J=String(g.D).match(Cs)[1]||null;!J&&l.self&&l.self.location&&(J=l.self.location.protocol.slice(0,-1)),z=!Ev.test(J?J.toLowerCase():"")}M=z}if(M)Kt(g,"complete"),Kt(g,"success");else{g.m=6;try{var oe=2<fn(g)?g.g.statusText:""}catch{oe=""}g.l=oe+" ["+g.Z()+"]",Gl(g)}}finally{Cn(g)}}}}function Cn(g,A){if(g.g){Kl(g);const M=g.g,z=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||Kt(g,"ready");try{M.onreadystatechange=z}catch{}}}function Kl(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function fn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Be(A)}};function ed(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Xl(g){const A={};g=(g.g&&2<=fn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(E(g[z]))continue;var M=L(g[z]);const J=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const oe=A[J]||[];A[J]=oe,oe.push(M)}P(A,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(g,A,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||A}function td(g){this.Aa=0,this.i=[],this.j=new As,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,g),this.cb=Hi("retryDelaySeedMs",1e4,g),this.Wa=Hi("forwardChannelMaxRetries",2,g),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(g&&g.concurrentRequestLimit),this.Da=new Sv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=td.prototype,t.la=8,t.G=1,t.connect=function(g,A,M,z){Zt(0),this.W=g,this.H=A||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=tp(this,null,this.W),Gi(this)};function Rr(g){if(Yl(g),g.G==3){var A=g.U++,M=In(g.I);if(Tt(M,"SID",g.K),Tt(M,"RID",A),Tt(M,"TYPE","terminate"),Ea(g,M),A=new vi(g,g.j,A),A.L=2,A.v=bo(In(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(A.v.toString(),"")}catch{}!M&&l.Image&&(new Image().src=A.v,M=!0),M||(A.g=rp(A.j,null),A.g.ea(A.v)),A.F=Date.now(),jt(A)}ep(g)}function Si(g){g.g&&(rd(g),g.g.cancel(),g.g=null)}function Yl(g){Si(g),g.u&&(l.clearTimeout(g.u),g.u=null),Zl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function Gi(g){if(!kn(g.h)&&!g.s){g.s=!0;var A=g.Ga;re||ne(),Q||(re(),Q=!0),ae.add(A,g),g.B=0}}function Tv(g,A){return zh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=mi(y(g.Ga,g,A),Zh(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new vi(this,this.j,g);let oe=this.o;if(this.S&&(oe?(oe=C(oe),F(oe,this.S)):oe=this.S),this.m!==null||this.O||(J.H=oe,oe=null),this.P)e:{for(var A=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(A+=z,4096<A){A=M;break e}if(A===4096||M===this.i.length-1){A=M+1;break e}}A=1e3}else A=1e3;A=So(this,J,A),M=In(this.I),Tt(M,"RID",g),Tt(M,"CVER",22),this.D&&Tt(M,"X-HTTP-Session-Id",this.D),Ea(this,M),oe&&(this.O?A="headers="+encodeURIComponent(String(Sa(oe)))+"&"+A:this.m&&_o(M,this.m,oe)),Yc(this.h,J),this.Ua&&Tt(M,"TYPE","init"),this.P?(Tt(M,"$req",A),Tt(M,"SID","null"),J.T=!0,Bl(J,M,null)):Bl(J,M,A),this.G=2}}else this.G==3&&(g?Ql(this,g):this.i.length==0||kn(this.h)||Ql(this))};function Ql(g,A){var M;A?M=A.l:M=g.U++;const z=In(g.I);Tt(z,"SID",g.K),Tt(z,"RID",M),Tt(z,"AID",g.T),Ea(g,z),g.m&&g.o&&_o(z,g.m,g.o),M=new vi(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),A&&(g.i=A.D.concat(g.i)),A=So(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Yc(g.h,M),Bl(M,z,A)}function Ea(g,A){g.H&&O(g.H,function(M,z){Tt(A,z,M)}),g.l&&go({},function(M,z){Tt(A,z,M)})}function So(g,A,M){M=Math.min(g.i.length,M);var z=g.l?y(g.l.Na,g.l,g):null;e:{var J=g.i;let oe=-1;for(;;){const we=["count="+M];oe==-1?0<M?(oe=J[0].g,we.push("ofs="+oe)):oe=0:we.push("ofs="+oe);let xt=!0;for(let pr=0;pr<M;pr++){let lt=J[pr].g;const Er=J[pr].map;if(lt-=oe,0>lt)oe=Math.max(0,J[pr].g-100),xt=!1;else try{Yh(Er,we,"req"+lt+"_")}catch{z&&z(Er)}}if(xt){z=we.join("&");break e}}}return g=g.i.splice(0,M),A.D=g,z}function Ms(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;re||ne(),Q||(re(),Q=!0),ae.add(A,g),g.v=0}}function Jl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=mi(y(g.Fa,g),Zh(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Jh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=mi(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Si(this),Jh(this))};function rd(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Jh(g){g.g=new vi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=In(g.qa);Tt(A,"RID","rpc"),Tt(A,"SID",g.K),Tt(A,"AID",g.T),Tt(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Tt(A,"TO",g.ja),Tt(A,"TYPE","xmlhttp"),Ea(g,A),g.m&&g.o&&_o(A,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=bo(In(A)),M.m=null,M.P=!0,Kc(M,g)}t.Za=function(){this.C!=null&&(this.C=null,Si(this),Jl(this),Zt(19))};function Zl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function eu(g,A){var M=null;if(g.g==A){Zl(g),rd(g),g.g=null;var z=2}else if(tn(g.h,A))M=A.D,Bh(g.h,A),z=1;else return;if(g.G!=0){if(A.o)if(z==1){M=A.m?A.m.length:0,A=Date.now()-A.F;var J=g.B;z=Ts(),Kt(z,new Vl(z,M)),Gi(g)}else Ms(g);else if(J=A.s,J==3||J==0&&0<A.X||!(z==1&&Tv(g,A)||z==2&&Jl(g)))switch(M&&0<M.length&&(A=g.h,A.i=A.i.concat(M)),J){case 1:Ta(g,5);break;case 4:Ta(g,10);break;case 3:Ta(g,6);break;default:Ta(g,2)}}}function Zh(g,A){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*A}function Ta(g,A){if(g.j.info("Error code "+A),A==2){var M=y(g.fb,g),z=g.Xa;const J=!z;z=new wa(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ns(z,"https"),bo(z),J?_v(z.toString(),M):Xh(z.toString(),M)}else Zt(2);g.G=0,g.l&&g.l.sa(A),ep(g),Yl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function ep(g){if(g.G=0,g.ka=[],g.l){const A=qh(g.h);(A.length!=0||g.i.length!=0)&&(b(g.ka,A),b(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function tp(g,A,M){var z=M instanceof wa?In(M):new wa(M);if(z.g!="")A&&(z.g=A+"."+z.g),yo(z,z.s);else{var J=l.location;z=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;var oe=new wa(null);z&&Ns(oe,z),A&&(oe.g=A),J&&yo(oe,J),M&&(oe.l=M),z=oe}return M=g.D,A=g.ya,M&&A&&Tt(z,M,A),Tt(z,"VER",g.la),Ea(g,z),z}function rp(g,A,M){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new Vt(new _a({eb:M})):new Vt(g.pa),A.Ha(g.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nd(){}t=nd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tu(){}tu.prototype.g=function(g,A){return new rn(g,A)};function rn(g,A){Jt.call(this),this.g=new td(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!E(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!E(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Ki(this)}S(rn,Jt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Rr(this.g)},rn.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=Oe(g),g=M);A.i.push(new Uh(A.Ya++,g)),A.G==3&&Gi(A)},rn.prototype.N=function(){this.g.l=null,delete this.j,Rr(this.g),delete this.g,rn.aa.N.call(this)};function np(g){zi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const M in A){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}S(np,zi);function ip(){$l.call(this),this.status=1}S(ip,$l);function Ki(g){this.g=g}S(Ki,nd),Ki.prototype.ua=function(){Kt(this.g,"a")},Ki.prototype.ta=function(g){Kt(this.g,new np(g))},Ki.prototype.sa=function(g){Kt(this.g,new ip)},Ki.prototype.ra=function(){Kt(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,jL=function(){return new tu},PL=function(){return Ts()},AL=Bi,M1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,Am=Ul,Lh.COMPLETE="complete",TL=Lh,Ll.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,zd=Ll,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,EL=Vt}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const Gk="@firebase/firestore",Kk="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new CE("@firebase/firestore");function ju(){return yl.logLevel}function je(t,...e){if(yl.logLevel<=at.DEBUG){const r=e.map(WE);yl.debug(`Firestore (${kc}): ${t}`,...r)}}function Za(t,...e){if(yl.logLevel<=at.ERROR){const r=e.map(WE);yl.error(`Firestore (${kc}): ${t}`,...r)}}function as(t,...e){if(yl.logLevel<=at.WARN){const r=e.map(WE);yl.warn(`Firestore (${kc}): ${t}`,...r)}}function WE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,kL(t,n,r)}function kL(t,e,r){let n=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Za(n),new Error(n)}function bt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||kL(e,i,n)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends so{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Yr.UNAUTHENTICATED)))}shutdown(){}}class $q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Vq{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){bt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ha,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ha)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(bt(typeof n.accessToken=="string",31837,{l:n}),new IL(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Yr(e)}}class Fq{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Uq{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Fq(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Yr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zq{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){bt(this.o===void 0,3512);const n=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(bt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Xk(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Bq(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ze(t,e){return t<e?-1:t>e?1:0}function D1(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Ze(n,i);{const a=CL(),o=qq(a.encode(Yk(t,r)),a.encode(Yk(e,r)));return o!==0?o:Ze(n,i)}}r+=n>65535?2:1}return Ze(t.length,e.length)}function Yk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qq(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ze(t[r],e[r]);return Ze(t.length,e.length)}function Ku(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="__name__";class Zi{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Zi.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ze(e.length,r.length)}static compareSegments(e,r){const n=Zi.isNumericId(e),i=Zi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Zi.extractNumericId(e).compare(Zi.extractNumericId(r)):D1(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class Ct extends Zi{construct(e,r,n){return new Ct(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Ct(r)}static emptyPath(){return new Ct([])}}const Wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Zi{construct(e,r,n){return new zr(e,r,n)}static isValidIdentifier(e){return Wq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qk}static keyField(){return new zr([Qk])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(r)}static emptyPath(){return new zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Ct.fromString(e))}static fromName(e){return new $e(Ct.fromString(e).popFirst(5))}static empty(){return new $e(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ct.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e,r){if(!r)throw new Te(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hq(t,e,r,n){if(e===!0&&n===!0)throw new Te(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Jk(t){if(!$e.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zk(t){if($e.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cy(t);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){const r={typeString:t};return e&&(r.value=e),r}function mh(t,e){if(!OL(t))throw new Te(ce.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Te(ce.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=-62135596800,tI=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*tI);return new Lt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<eI)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tI}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mh(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:ur("string",Lt._jsonSchemaVersion),seconds:ur("number"),nanoseconds:ur("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Lt(0,0))}static max(){return new Ke(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=-1;function Gq(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(n===1e9?new Lt(r+1,0):new Lt(r,n));return new os(i,$e.empty(),e)}function Kq(t){return new os(t.readTime,t.key,vf)}class os{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new os(Ke.min(),$e.empty(),vf)}static max(){return new os(Ke.max(),$e.empty(),vf)}}function Xq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=$e.comparator(t.documentKey,e.documentKey),r!==0?r:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Yq)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):he.reject(r)}static resolve(e){return new he(((r,n)=>{r(e)}))}static reject(e){return new he(((r,n)=>{n(e)}))}static waitFor(e){return new he(((r,n)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&r()}),(c=>n(c)))})),o=!0,a===i&&r()}))}static or(e){let r=he.resolve(!1);for(const n of e)r=r.next((i=>i?he.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new he(((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;r(e[d]).next((p=>{o[d]=p,++l,l===a&&n(o)}),(p=>i(p)))}}))}static doWhile(e,r){return new he(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Jq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this._e(n),this.ae=n=>r.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dy.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-1;function fy(t){return t==null}function Bm(t){return t===0&&1/t==-1/0}function Zq(t){return typeof t=="number"&&Number.isInteger(t)&&!Bm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="";function e7(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=rI(e)),e=t7(t.get(r),e);return rI(e)}function t7(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case RL:r+="";break;default:r+=a}}return r}function rI(t){return t+RL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ps(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ML(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,r){this.comparator=e,this.root=r||Vr.EMPTY}insert(e,r){return new Ht(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Vr.RED,this.left=i??Vr.EMPTY,this.right=a??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Vr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Vr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1;Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new iI(this.data.getIterator())}getIteratorFrom(e){return new iI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new _r(this.comparator);return r.data=e,r}}class iI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new Fn([])}unionWith(e){let r=new _r(zr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Fn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DL("Invalid base64 string: "+a):a}})(e);return new Br(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Br(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const r7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const r=r7.exec(t);if(bt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?Br.fromBase64String(t):Br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="server_timestamp",$L="__type__",VL="__previous_value__",FL="__local_write_time__";function KE(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$L])===null||r===void 0?void 0:r.stringValue)===LL}function hy(t){const e=t.mapValue.fields[VL];return KE(e)?hy(e):e}function bf(t){const e=ss(t.mapValue.fields[FL].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,r,n,i,a,o,l,c,d,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const qm="(default)";class xf{constructor(e,r){this.projectId=e,this.database=r||qm}static empty(){return new xf("","")}get isDefaultDatabase(){return this.database===qm}isEqual(e){return e instanceof xf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="__type__",i7="__max__",rm={mapValue:{}},zL="__vector__",Wm="value";function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KE(t)?4:o7(t)?9007199254740991:a7(t)?10:11:qe(28295,{value:t})}function fa(t,e){if(t===e)return!0;const r=us(t);if(r!==us(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bf(t).isEqual(bf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ss(i.timestampValue),l=ss(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ls(i.bytesValue).isEqual(ls(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return tr(i.geoPointValue.latitude)===tr(a.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return tr(i.integerValue)===tr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=tr(i.doubleValue),l=tr(a.doubleValue);return o===l?Bm(o)===Bm(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Ku(t.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(nI(o)!==nI(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!fa(o[c],l[c])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function wf(t,e){return(t.values||[]).find((r=>fa(r,e)))!==void 0}function Xu(t,e){if(t===e)return 0;const r=us(t),n=us(e);if(r!==n)return Ze(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=tr(a.integerValue||a.doubleValue),c=tr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return aI(t.timestampValue,e.timestampValue);case 4:return aI(bf(t),bf(e));case 5:return D1(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=ls(a),c=ls(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const p=Ze(l[d],c[d]);if(p!==0)return p}return Ze(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=Ze(tr(a.latitude),tr(o.latitude));return l!==0?l:Ze(tr(a.longitude),tr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return oI(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var l,c,d,p;const m=a.fields||{},y=o.fields||{},x=(l=m[Wm])===null||l===void 0?void 0:l.arrayValue,S=(c=y[Wm])===null||c===void 0?void 0:c.arrayValue,w=Ze(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:oI(x,S)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===rm.mapValue&&o===rm.mapValue)return 0;if(a===rm.mapValue)return 1;if(o===rm.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const y=D1(c[m],p[m]);if(y!==0)return y;const x=Xu(l[c[m]],d[p[m]]);if(x!==0)return x}return Ze(c.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{le:r})}}function aI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const r=ss(t),n=ss(e),i=Ze(r.seconds,n.seconds);return i!==0?i:Ze(r.nanos,n.nanos)}function oI(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Xu(r[i],n[i]);if(a)return a}return Ze(r.length,n.length)}function Yu(t){return L1(t)}function L1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=ss(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return ls(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return $e.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=L1(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${L1(r.fields[o])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function Pm(t){switch(us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hy(t);return e?16+Pm(e):16;case 5:return 2*t.stringValue.length;case 6:return ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Pm(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return ps(n.fields,((a,o)=>{i+=a.length+Pm(o)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function sI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $1(t){return!!t&&"integerValue"in t}function XE(t){return!!t&&"arrayValue"in t}function lI(t){return!!t&&"nullValue"in t}function uI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jm(t){return!!t&&"mapValue"in t}function a7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UL])===null||r===void 0?void 0:r.stringValue)===zL}function Zd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Zd(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function o7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===i7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!jm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(r)}setAll(e){let r=zr.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Zd(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());jm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ps(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new _n(Zd(this.value))}}function BL(t){const e=[];return ps(t.fields,((r,n)=>{const i=new zr([r]);if(jm(n)){const a=BL(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Qr(e,0,Ke.min(),Ke.min(),Ke.min(),_n.empty(),0)}static newFoundDocument(e,r,n,i){return new Qr(e,1,r,Ke.min(),n,i,0)}static newNoDocument(e,r){return new Qr(e,2,r,Ke.min(),Ke.min(),_n.empty(),0)}static newUnknownDocument(e,r){return new Qr(e,3,r,Ke.min(),Ke.min(),_n.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,r){this.position=e,this.inclusive=r}}function cI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=$e.comparator($e.fromName(o.referenceValue),r.key):n=Xu(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function dI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!fa(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,r="asc"){this.field=e,this.dir=r}}function s7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{}class lr extends qL{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new u7(e,r,n):r==="array-contains"?new f7(e,n):r==="in"?new h7(e,n):r==="not-in"?new p7(e,n):r==="array-contains-any"?new m7(e,n):new lr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new c7(e,n):new d7(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Xu(r,this.value)):r!==null&&us(this.value)===us(r)&&this.matchesComparison(Xu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends qL{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new Di(e,r)}matches(e){return WL(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function WL(t){return t.op==="and"}function HL(t){return l7(t)&&WL(t)}function l7(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function V1(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(HL(t))return t.filters.map((e=>V1(e))).join(",");{const e=t.filters.map((r=>V1(r))).join(",");return`${t.op}(${e})`}}function GL(t,e){return t instanceof lr?(function(n,i){return i instanceof lr&&n.op===i.op&&n.field.isEqual(i.field)&&fa(n.value,i.value)})(t,e):t instanceof Di?(function(n,i){return i instanceof Di&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,l)=>a&&GL(o,i.filters[l])),!0):!1})(t,e):void qe(19439)}function KL(t){return t instanceof lr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Yu(r.value)}`})(t):t instanceof Di?(function(r){return r.op.toString()+" {"+r.getFilters().map(KL).join(" ,")+"}"})(t):"Filter"}class u7 extends lr{constructor(e,r,n){super(e,r,n),this.key=$e.fromName(n.referenceValue)}matches(e){const r=$e.comparator(e.key,this.key);return this.matchesComparison(r)}}class c7 extends lr{constructor(e,r){super(e,"in",r),this.keys=XL("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class d7 extends lr{constructor(e,r){super(e,"not-in",r),this.keys=XL("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function XL(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>$e.fromName(n.referenceValue)))}class f7 extends lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return XE(r)&&wf(r.arrayValue,this.value)}}class h7 extends lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&wf(this.value.arrayValue,r)}}class p7 extends lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!wf(this.value.arrayValue,r)}}class m7 extends lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!XE(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>wf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Pe=null}}function fI(t,e=null,r=[],n=[],i=null,a=null,o=null){return new g7(t,e,r,n,i,a,o)}function YE(t){const e=Ye(t);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>V1(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),fy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Yu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Yu(n))).join(",")),e.Pe=r}return e.Pe}function QE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!s7(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!GL(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dI(t.startAt,e.startAt)&&dI(t.endAt,e.endAt)}function F1(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function y7(t,e,r,n,i,a,o,l){return new Nc(t,e,r,n,i,a,o,l)}function py(t){return new Nc(t)}function hI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YL(t){return t.collectionGroup!==null}function ef(t){const e=Ye(t);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _r(zr.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new _f(a,n))})),r.has(zr.keyField().canonicalString())||e.Te.push(new _f(zr.keyField(),n))}return e.Te}function aa(t){const e=Ye(t);return e.Ie||(e.Ie=v7(e,ef(t))),e.Ie}function v7(t,e){if(t.limitType==="F")return fI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new _f(i.field,a)}));const r=t.endAt?new Hm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Hm(t.startAt.position,t.startAt.inclusive):null;return fI(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function U1(t,e){const r=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function z1(t,e,r){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function my(t,e){return QE(aa(t),aa(e))&&t.limitType===e.limitType}function QL(t){return`${YE(aa(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>KL(i))).join(", ")}]`),fy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Yu(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Yu(i))).join(",")),`Target(${n})`})(aa(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):$e.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of ef(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const d=cI(o,l,c);return o.inclusive?d<=0:d<0})(n.startAt,ef(n),i)||n.endAt&&!(function(o,l,c){const d=cI(o,l,c);return o.inclusive?d>=0:d>0})(n.endAt,ef(n),i))})(t,e)}function b7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JL(t){return(e,r)=>{let n=!1;for(const i of ef(t)){const a=x7(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function x7(t,e,r){const n=t.field.isKeyField()?$e.comparator(e.key,r.key):(function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Xu(c,d):qe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return ML(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new Ht($e.comparator);function eo(){return w7}const ZL=new Ht($e.comparator);function Bd(...t){let e=ZL;for(const r of t)e=e.insert(r.key,r);return e}function e5(t){let e=ZL;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function nl(){return tf()}function t5(){return tf()}function tf(){return new Al((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _7=new Ht($e.comparator),S7=new _r($e.comparator);function ot(...t){let e=S7;for(const r of t)e=e.add(r);return e}const E7=new _r(Ze);function T7(){return E7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bm(e)?"-0":e}}function r5(t){return{integerValue:""+t}}function A7(t,e){return Zq(e)?r5(e):JE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function P7(t,e,r){return t instanceof Gm?(function(i,a){const o={fields:{[$L]:{stringValue:LL},[FL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&KE(a)&&(a=hy(a)),a&&(o.fields[VL]=a),{mapValue:o}})(r,e):t instanceof Qu?i5(t,e):t instanceof Ju?a5(t,e):(function(i,a){const o=n5(i,a),l=pI(o)+pI(i.Ee);return $1(o)&&$1(i.Ee)?r5(l):JE(i.serializer,l)})(t,e)}function j7(t,e,r){return t instanceof Qu?i5(t,e):t instanceof Ju?a5(t,e):r}function n5(t,e){return t instanceof Km?(function(n){return $1(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Gm extends yy{}class Qu extends yy{constructor(e){super(),this.elements=e}}function i5(t,e){const r=o5(e);for(const n of t.elements)r.some((i=>fa(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Ju extends yy{constructor(e){super(),this.elements=e}}function a5(t,e){let r=o5(e);for(const n of t.elements)r=r.filter((i=>!fa(i,n)));return{arrayValue:{values:r}}}class Km extends yy{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function pI(t){return tr(t.integerValue||t.doubleValue)}function o5(t){return XE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r){this.field=e,this.transform=r}}function k7(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Qu&&i instanceof Qu||n instanceof Ju&&i instanceof Ju?Ku(n.elements,i.elements,fa):n instanceof Km&&i instanceof Km?fa(n.Ee,i.Ee):n instanceof Gm&&i instanceof Gm})(t.transform,e.transform)}class I7{constructor(e,r){this.version=e,this.transformResults=r}}class un{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vy{}function l5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new by(t.key,un.none()):new gh(t.key,t.data,un.none());{const r=t.data,n=_n.empty();let i=new _r(zr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new ms(t.key,n,new Fn(i.toArray()),un.none())}}function C7(t,e,r){t instanceof gh?(function(i,a,o){const l=i.value.clone(),c=gI(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof ms?(function(i,a,o){if(!km(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=gI(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(u5(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function rf(t,e,r,n){return t instanceof gh?(function(a,o,l,c){if(!km(a.precondition,o))return l;const d=a.value.clone(),p=yI(a.fieldTransforms,c,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof ms?(function(a,o,l,c){if(!km(a.precondition,o))return l;const d=yI(a.fieldTransforms,c,o),p=o.data;return p.setAll(u5(a)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(a,o,l){return km(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function N7(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=n5(n.transform,i||null);a!=null&&(r===null&&(r=_n.empty()),r.set(n.field,a))}return r||null}function mI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ku(n,i,((a,o)=>k7(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends vy{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends vy{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u5(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function gI(t,e,r){const n=new Map;bt(t.length===r.length,32656,{Ae:r.length,Re:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,j7(o,l,r[i]))}return n}function yI(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,P7(a,o,e))}return n}class by extends vy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O7 extends vy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&C7(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=rf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=rf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=t5();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=l5(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ke.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,((r,n)=>mI(r,n)))&&Ku(this.baseMutations,e.baseMutations,((r,n)=>mI(r,n)))}}class ZE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){bt(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=(function(){return _7})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new ZE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,ut;function L7(t){switch(t){case ce.OK:return qe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function c5(t){if(t===void 0)return Za("GRPC error has no .code"),ce.UNKNOWN;switch(t){case or.OK:return ce.OK;case or.CANCELLED:return ce.CANCELLED;case or.UNKNOWN:return ce.UNKNOWN;case or.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case or.INTERNAL:return ce.INTERNAL;case or.UNAVAILABLE:return ce.UNAVAILABLE;case or.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case or.NOT_FOUND:return ce.NOT_FOUND;case or.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case or.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case or.ABORTED:return ce.ABORTED;case or.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case or.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case or.DATA_LOSS:return ce.DATA_LOSS;default:return qe(39323,{code:t})}}(ut=or||(or={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new ts([4294967295,4294967295],0);function vI(t){const e=CL().encode(t),r=new SL;return r.update(e),new Uint8Array(r.digest())}function bI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ts([r,n],0),new ts([i,a],0)]}class eT{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qd(`Invalid padding: ${r}`);if(n<0)throw new qd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qd(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=ts.fromNumber(this.fe)}pe(e,r,n){let i=e.add(r.multiply(ts.fromNumber(n)));return i.compare($7)===1&&(i=new ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=vI(e),[n,i]=bI(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);if(!this.ye(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new eT(a,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.fe===0)return;const r=vI(e),[n,i]=bI(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);this.we(o)}}we(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new xy(Ke.min(),i,new Ht(Ze),eo(),ot())}}class yh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new yh(n,r,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.be=i}}class d5{constructor(e,r){this.targetId=e,this.De=r}}class f5{constructor(e,r,n=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class xI{constructor(){this.ve=0,this.Ce=wI(),this.Fe=Br.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ot(),r=ot(),n=ot();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qe(38017,{changeType:a})}})),new yh(this.Fe,this.Me,e,r,n)}ke(){this.xe=!1,this.Ce=wI()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class V7{constructor(e){this.We=e,this.Ge=new Map,this.ze=eo(),this.je=nm(),this.Je=nm(),this.He=new Ht(Ze)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const n=this.tt(r);switch(e.state){case 0:this.nt(r)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),n.Be(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((n,i)=>{this.nt(i)&&r(i)}))}it(e){const r=e.targetId,n=e.De.count,i=this.st(r);if(i){const a=i.target;if(F1(a))if(n===0){const o=new $e(a.path);this.Xe(r,o,Qr.newNoDocument(o,Ke.min()))}else bt(n===1,20013,{expectedCount:n});else{const o=this.ot(r);if(o!==n){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,d)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=ls(n).toUint8Array()}catch(c){if(c instanceof DL)return as("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new eT(o,i,a)}catch(c){return as(c instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,r,n){return r.De.count===n-this.ht(e,r.targetId)?0:2}ht(e,r){const n=this.We.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(r,a,null),i++)})),i}Pt(e){const r=new Map;this.Ge.forEach(((a,o)=>{const l=this.st(o);if(l){if(a.current&&F1(l.target)){const c=new $e(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Qr.newNoDocument(c,e))}a.Ne&&(r.set(o,a.Le()),a.ke())}}));let n=ot();this.Je.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.ze.forEach(((a,o)=>o.setReadTime(e)));const i=new xy(e,r,this.He,this.ze,n);return this.ze=eo(),this.je=nm(),this.Je=nm(),this.He=new Ht(Ze),i}Ze(e,r){if(!this.nt(e))return;const n=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,n),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,r)?i.qe(r,1):i.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),n&&(this.ze=this.ze.insert(r,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new xI,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new _r(Ze),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new _r(Ze),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||je("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xI),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function nm(){return new Ht($e.comparator)}function wI(){return new Ht($e.comparator)}const F7={asc:"ASCENDING",desc:"DESCENDING"},U7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z7={and:"AND",or:"OR"};class B7{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function B1(t,e){return t.useProto3Json||fy(e)?e:{value:e}}function Xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q7(t,e){return Xm(t,e.toTimestamp())}function oa(t){return bt(!!t,49232),Ke.fromTimestamp((function(r){const n=ss(r);return new Lt(n.seconds,n.nanos)})(t))}function tT(t,e){return q1(t,e).canonicalString()}function q1(t,e){const r=(function(i){return new Ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function p5(t){const e=Ct.fromString(t);return bt(b5(e),10190,{key:e.toString()}),e}function W1(t,e){return tT(t.databaseId,e.path)}function ix(t,e){const r=p5(e);if(r.get(1)!==t.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new $e(g5(r))}function m5(t,e){return tT(t.databaseId,e)}function W7(t){const e=p5(t);return e.length===4?Ct.emptyPath():g5(e)}function H1(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g5(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _I(t,e,r){return{name:W1(t,e),fields:r.value.mapValue.fields}}function H7(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,p){return d.useProto3Json?(bt(p===void 0||typeof p=="string",58123),Br.fromBase64String(p||"")):(bt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Br.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const p=d.code===void 0?ce.UNKNOWN:c5(d.code);return new Te(p,d.message||"")})(o);r=new f5(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ix(t,n.document.name),a=oa(n.document.updateTime),o=n.document.createTime?oa(n.document.createTime):Ke.min(),l=new _n({mapValue:{fields:n.document.fields}}),c=Qr.newFoundDocument(i,a,o,l),d=n.targetIds||[],p=n.removedTargetIds||[];r=new Im(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ix(t,n.document),a=n.readTime?oa(n.readTime):Ke.min(),o=Qr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Im([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ix(t,n.document),a=n.removedTargetIds||[];r=new Im([],a,i,null)}else{if(!("filter"in e))return qe(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new D7(i,a),l=n.targetId;r=new d5(l,o)}}return r}function G7(t,e){let r;if(e instanceof gh)r={update:_I(t,e.key,e.value)};else if(e instanceof by)r={delete:W1(t,e.key)};else if(e instanceof ms)r={update:_I(t,e.key,e.data),updateMask:rW(e.fieldMask)};else{if(!(e instanceof O7))return qe(16599,{Rt:e.type});r={verify:W1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const l=o.transform;if(l instanceof Gm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Km)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw qe(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:q7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)})(t,e.precondition)),r}function K7(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?oa(i.updateTime):oa(a);return o.isEqual(Ke.min())&&(o=oa(a)),new I7(o,i.transformResults||[])})(r,e)))):[]}function X7(t,e){return{documents:[m5(t,e.path)]}}function Y7(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=m5(t,i);const a=(function(d){if(d.length!==0)return v5(Di.create(d,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((p=>(function(y){return{field:Iu(y.field),direction:Z7(y.dir)}})(p)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=B1(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:r,parent:i}}function Q7(t){let e=W7(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){bt(n===1,65062);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(m){const y=y5(m);return y instanceof Di&&HL(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(m){return m.map((y=>(function(S){return new _f(Cu(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,fy(y)?null:y})(r.limit));let c=null;r.startAt&&(c=(function(m){const y=!!m.before,x=m.values||[];return new Hm(x,y)})(r.startAt));let d=null;return r.endAt&&(d=(function(m){const y=!m.before,x=m.values||[];return new Hm(x,y)})(r.endAt)),y7(e,i,o,a,l,"F",c,d)}function J7(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function y5(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Cu(r.unaryFilter.field);return lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(r.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Cu(r.unaryFilter.field);return lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cu(r.unaryFilter.field);return lr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return lr.create(Cu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Di.create(r.compositeFilter.filters.map((n=>y5(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(r.compositeFilter.op))})(t):qe(30097,{filter:t})}function Z7(t){return F7[t]}function eW(t){return U7[t]}function tW(t){return z7[t]}function Iu(t){return{fieldPath:t.canonicalString()}}function Cu(t){return zr.fromServerFormat(t.fieldPath)}function v5(t){return t instanceof lr?(function(r){if(r.op==="=="){if(uI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NAN"}};if(lI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(uI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NOT_NAN"}};if(lI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(r.field),op:eW(r.op),value:r.value}}})(t):t instanceof Di?(function(r){const n=r.getFilters().map((i=>v5(i)));return n.length===1?n[0]:{compositeFilter:{op:tW(r.op),filters:n}}})(t):qe(54877,{filter:t})}function rW(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function b5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,r,n,i,a=Ke.min(),o=Ke.min(),l=Br.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e){this.gt=e}}function iW(t){const e=Q7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?z1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.Dn=new oW}addToCollectionParentIndex(e,r){return this.Dn.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve(os.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve(os.min())}updateCollectionGroup(e,r,n){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class oW{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new _r(Ct.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new _r(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x5=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(x5,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Zu(0)}static ur(){return new Zu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="LruGarbageCollector",sW=1048576;function TI([t,e],[r,n]){const i=Ze(t,r);return i===0?Ze(e,n):i}class lW{constructor(e){this.Tr=e,this.buffer=new _r(TI),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();TI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class uW{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){je(EI,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Cc(r)?je(EI,"Ignoring IndexedDB error during garbage collection: ",r):await Ic(r)}await this.Rr(3e5)}))}}class cW{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return he.resolve(dy.ue);const n=new lW(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(SI)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SI):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let n,i,a,o,l,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,r)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(d=Date.now(),ju()<=at.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function dW(t,e){return new cW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(){this.changes=new Al((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?he.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&rf(n.mutation,i,Fn.empty(),Lt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,ot()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=ot()){const i=nl();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=Bd();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=nl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,ot())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let a=eo();const o=tf(),l=(function(){return tf()})();return r.forEach(((c,d)=>{const p=n.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof ms)?a=a.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),rf(p.mutation,d,p.mutation.getFieldMask(),Lt.now())):o.set(d.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,p)=>o.set(d,p))),r.forEach(((d,p)=>{var m;return l.set(d,new hW(p,(m=o.get(d))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,r){const n=tf();let i=new Ht(((o,l)=>o-l)),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let p=n.get(c)||Fn.empty();p=l.applyToLocalView(d,p),n.set(c,p);const m=(i.get(l.batchId)||ot()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,p=c.value,m=t5();p.forEach((y=>{if(!a.has(y)){const x=l5(r.get(y),n.get(y));x!==null&&m.set(y,x),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return he.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):YL(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):he.resolve(nl());let l=vf,c=a;return o.next((d=>he.forEach(d,((p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{c=c.insert(p,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,ot()))).next((p=>({batchId:l,changes:e5(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $e(r)).next((n=>{let i=Bd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Bd();return this.indexManager.getCollectionParents(e,a).next((l=>he.forEach(l,(c=>{const d=(function(m,y){return new Nc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((p=>{p.forEach(((m,y)=>{o=o.insert(m,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((c,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Qr.newInvalidDocument(p)))}));let l=Bd();return o.forEach(((c,d)=>{const p=a.get(c);p!==void 0&&rf(p.mutation,d,Fn.empty(),Lt.now()),gy(r,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return he.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:oa(i.createTime)}})(r)),he.resolve()}getNamedQuery(e,r){return he.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(i){return{name:i.name,query:iW(i.bundledQuery),readTime:oa(i.readTime)}})(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(){this.overlays=new Ht($e.comparator),this.kr=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const n=nl();return he.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.wt(e,r,a)})),he.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(n)),he.resolve()}getOverlaysForCollection(e,r,n){const i=nl(),a=r.length+1,o=new $e(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return he.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ht(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let p=a.get(d.largestBatchId);p===null&&(p=nl(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=nl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,p)=>l.set(d,p))),!(l.size()>=i)););return he.resolve(l)}wt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new M7(r,n));let a=this.kr.get(r);a===void 0&&(a=ot(),this.kr.set(r,a)),this.kr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.qr=new _r(kr.Qr),this.$r=new _r(kr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const n=new kr(e,r);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new kr(e,r))}Gr(e,r){e.forEach((n=>this.removeReference(n,r)))}zr(e){const r=new $e(new Ct([])),n=new kr(r,e),i=new kr(r,e+1),a=[];return this.$r.forEachInRange([n,i],(o=>{this.Wr(o),a.push(o.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new $e(new Ct([])),n=new kr(r,e),i=new kr(r,e+1);let a=ot();return this.$r.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new kr(e,0),n=this.qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kr{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return $e.comparator(e.key,r.key)||Ze(e.Hr,r.Hr)}static Ur(e,r){return Ze(e.Hr,r.Hr)||$e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new _r(kr.Qr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new R7(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Yr=this.Yr.add(new kr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,r){return he.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?GE:this.er-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kr(r,0),i=new kr(r,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,i],(o=>{const l=this.Zr(o.Hr);a.push(l)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new _r(Ze);return r.forEach((i=>{const a=new kr(i,0),o=new kr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,o],(l=>{n=n.add(l.Hr)}))})),he.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;$e.isDocumentKey(a)||(a=a.child(""));const o=new kr(new $e(a),0);let l=new _r(Ze);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),o),he.resolve(this.ei(l))}ei(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){bt(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return he.forEach(r.mutations,(i=>{const a=new kr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,r){const n=new kr(r,0),i=this.Yr.firstAfterOrEqual(n);return he.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e){this.ni=e,this.docs=(function(){return new Ht($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ni(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return he.resolve(n?n.document.mutableCopy():Qr.newInvalidDocument(r))}getEntries(e,r){let n=eo();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Qr.newInvalidDocument(i))})),he.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=eo();const o=r.path,l=new $e(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Xq(Kq(p),n)<=0||(i.has(p.key)||gy(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,r,n,i){qe(9500)}ri(e,r){return he.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new xW(this)}getSize(e){return he.resolve(this.size)}}class xW extends fW{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),he.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e){this.persistence=e,this.ii=new Al((r=>YE(r)),QE),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.si=0,this.oi=new rT,this.targetCount=0,this._i=Zu.ar()}forEachTarget(e,r){return this.ii.forEach(((n,i)=>r(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.si&&(this.si=r),he.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Zu(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.hr(r),he.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ii.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const n=this.ii.get(r)||null;return he.resolve(n)}addMatchingKeys(e,r,n){return this.oi.Kr(r,n),he.resolve()}removeMatchingKeys(e,r,n){this.oi.Gr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),he.resolve()}getMatchingKeysForTargetId(e,r){const n=this.oi.Jr(r);return he.resolve(n)}containsKey(e,r){return he.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,r){this.ai={},this.overlays={},this.ui=new dy(0),this.ci=!1,this.ci=!0,this.li=new yW,this.referenceDelegate=e(this),this.hi=new wW(this),this.indexManager=new aW,this.remoteDocumentCache=(function(i){return new bW(i)})((n=>this.referenceDelegate.Pi(n))),this.serializer=new nW(r),this.Ti=new mW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new gW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ai[e.toKey()];return n||(n=new vW(r,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,n){je("MemoryPersistence","Starting transaction:",e);const i=new _W(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,r){return he.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,r))))}}class _W extends Qq{constructor(e){super(),this.currentSequenceNumber=e}}class nT{constructor(e){this.persistence=e,this.Ai=new rT,this.Ri=null}static Vi(e){return new nT(e)}get mi(){if(this.Ri)return this.Ri;throw qe(60996)}addReference(e,r,n){return this.Ai.addReference(n,r),this.mi.delete(n.toString()),he.resolve()}removeReference(e,r,n){return this.Ai.removeReference(n,r),this.mi.add(n.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),he.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((i=>this.mi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.mi,(n=>{const i=$e.fromPath(n);return this.fi(e,i).next((a=>{a||r.removeEntry(i,Ke.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((n=>{n?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return he.or([()=>he.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Ym{constructor(e,r){this.persistence=e,this.gi=new Al((n=>e7(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=dW(this,r)}static Vi(e,r){return new Ym(e,r)}Ii(){}di(e){return he.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}yr(e){let r=0;return this.gr(e,(n=>{r++})).next((()=>r))}gr(e,r){return he.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((a=>a?he.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(o=>this.Sr(e,o,r).next((l=>{l||(n++,a.removeEntry(o,Ke.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}removeReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Pm(e.data.value)),r}Sr(e,r,n){return he.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.gi.get(r);return he.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Is=n,this.ds=i}static Es(e,r){let n=ot(),i=ot();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iT(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Gz()?8:Jq(en())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ps(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ys(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new SW;return this.ws(e,r,o).next((l=>{if(a.result=l,this.Rs)return this.Ss(e,r,o,l.size)}))})).next((()=>a.result))}Ss(e,r,n,i){return n.documentReadCount<this.Vs?(ju()<=at.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",ku(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(ju()<=at.DEBUG&&je("QueryEngine","Query:",ku(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(ju()<=at.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",ku(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,aa(r))):he.resolve())}ps(e,r){if(hI(r))return he.resolve(null);let n=aa(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=z1(r,null,"F"),n=aa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=ot(...a);return this.gs.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.bs(r,l);return this.Ds(r,d,o,c.readTime)?this.ps(e,z1(r,null,"F")):this.vs(e,d,r,c)}))))})))))}ys(e,r,n,i){return hI(r)||i.isEqual(Ke.min())?he.resolve(null):this.gs.getDocuments(e,n).next((a=>{const o=this.bs(r,a);return this.Ds(r,o,n,i)?he.resolve(null):(ju()<=at.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(r)),this.vs(e,o,r,Gq(i,vf)).next((l=>l)))}))}bs(e,r){let n=new _r(JL(e));return r.forEach(((i,a)=>{gy(e,a)&&(n=n.add(a))})),n}Ds(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,r,n){return ju()<=at.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",ku(r)),this.gs.getDocumentsMatchingQuery(e,r,os.min(),n)}vs(e,r,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="LocalStore",TW=3e8;class AW{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.Fs=new Ht(Ze),this.Ms=new Al((a=>YE(a)),QE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pW(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function PW(t,e,r,n){return new AW(t,e,r,n)}async function _5(t,e){const r=Ye(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Ns(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],l=[];let c=ot();for(const d of i){o.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of a){l.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Bs:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function jW(t,e){const r=Ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,p){const m=d.batch,y=m.keys();let x=he.resolve();return y.forEach((S=>{x=x.next((()=>p.getEntry(c,S))).next((w=>{const b=d.docVersions.get(S);bt(b!==null,48541),w.version.compareTo(b)<0&&(m.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),p.addEntry(w)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=ot();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function S5(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function kW(t,e){const r=Ye(t),n=e.snapshotVersion;let i=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Os.newChangeBuffer({trackRemovals:!0});i=r.Fs;const l=[];e.targetChanges.forEach(((p,m)=>{const y=i.get(m);if(!y)return;l.push(r.hi.removeMatchingKeys(a,p.removedDocuments,m).next((()=>r.hi.addMatchingKeys(a,p.addedDocuments,m))));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Br.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(m,x),(function(w,b,T){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=TW?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(y,x,p)&&l.push(r.hi.updateTargetData(a,x))}));let c=eo(),d=ot();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),l.push(IW(a,o,e.documentUpdates).next((p=>{c=p.Ls,d=p.ks}))),!n.isEqual(Ke.min())){const p=r.hi.getLastRemoteSnapshotVersion(a).next((m=>r.hi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(p)}return he.waitFor(l).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(r.Fs=i,a)))}function IW(t,e,r){let n=ot(),i=ot();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=eo();return r.forEach(((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):je(aT,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Ls:o,ks:i}}))}function CW(t,e){const r=Ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=GE),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function NW(t,e){const r=Ye(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.hi.getTargetData(n,e).next((a=>a?(i=a,he.resolve(i)):r.hi.allocateTargetId(n).next((o=>(i=new Xo(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.hi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(n.targetId,n),r.Ms.set(e,n.targetId)),n}))}async function G1(t,e,r){const n=Ye(t),i=n.Fs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cc(o))throw o;je(aT,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function AI(t,e,r){const n=Ye(t);let i=Ke.min(),a=ot();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,p){const m=Ye(c),y=m.Ms.get(p);return y!==void 0?he.resolve(m.Fs.get(y)):m.hi.getTargetData(d,p)})(n,o,aa(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(o,e,r?i:Ke.min(),r?a:ot()))).next((l=>(OW(n,b7(e),l),{documents:l,qs:a})))))}function OW(t,e,r){let n=t.xs.get(e)||Ke.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.xs.set(e,n)}class PI{constructor(){this.activeTargetIds=T7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RW{constructor(){this.Fo=new PI,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,n){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new PI,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="ConnectivityMonitor";class kI{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){je(jI,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){je(jI,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function K1(){return im===null?im=(function(){return 268435456+Math.round(2147483648*Math.random())})():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="RestConnection",DW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LW{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===qm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const o=K1(),l=this.Go(e,r.toUriEncodedString());je(ax,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:d}=new URL(l),p=Pc(d);return this.jo(e,l,c,n,p).then((m=>(je(ax,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw as(ax,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",n),m}))}Jo(e,r,n,i,a,o){return this.Wo(e,r,n,i,a)}zo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Go(e,r){const n=DW[e];return`${this.$o}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class VW extends LW{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,n,i,a){const o=K1();return new Promise(((l,c)=>{const d=new EL;d.setWithCredentials(!0),d.listenOnce(TL.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Am.NO_ERROR:const m=d.getResponseJson();je(Kr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Am.TIMEOUT:je(Kr,`RPC '${e}' ${o} timed out`),c(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const y=d.getStatus();if(je(Kr,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const w=(function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(E)>=0?E:ce.UNKNOWN})(S.status);c(new Te(w,S.message))}else c(new Te(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{je(Kr,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);je(Kr,`RPC '${e}' ${o} sending request:`,i),d.send(r,"POST",p,n,15)}))}P_(e,r,n){const i=K1(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jL(),l=PL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const p=a.join("");je(Kr,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=o.createWebChannel(p,c);this.T_(m);let y=!1,x=!1;const S=new $W({Ho:b=>{x?je(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(je(Kr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),je(Kr,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},Yo:()=>m.close()}),w=(b,T,E)=>{b.listen(T,(I=>{try{E(I)}catch(N){setTimeout((()=>{throw N}),0)}}))};return w(m,zd.EventType.OPEN,(()=>{x||(je(Kr,`RPC '${e}' stream ${i} transport opened.`),S.s_())})),w(m,zd.EventType.CLOSE,(()=>{x||(x=!0,je(Kr,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(m))})),w(m,zd.EventType.ERROR,(b=>{x||(x=!0,as(Kr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.__(new Te(ce.UNAVAILABLE,"The operation could not be completed")))})),w(m,zd.EventType.MESSAGE,(b=>{var T;if(!x){const E=b.data[0];bt(!!E,16349);const I=E,N=(I==null?void 0:I.error)||((T=I[0])===null||T===void 0?void 0:T.error);if(N){je(Kr,`RPC '${e}' stream ${i} received error:`,N);const k=N.status;let O=(function(R){const F=or[R];if(F!==void 0)return c5(F)})(k),P=N.message;O===void 0&&(O=ce.INTERNAL,P="Unknown error status: "+k+" with message "+N.message),x=!0,S.__(new Te(O,P)),m.close()}else je(Kr,`RPC '${e}' stream ${i} received:`,E),S.a_(E)}})),w(l,AL.STAT_EVENT,(b=>{b.stat===M1.PROXY?je(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===M1.NOPROXY&&je(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.o_()}),0),S}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function ox(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){return new B7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=r,this.d_=n,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-n);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="PersistentStream";class T5{constructor(e,r,n,i,a,o,l,c){this.Fi=e,this.w_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new E5(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Za(r.toString()),Za("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.b_===r&&this.W_(n,i)}),(n=>{e((()=>{const i=new Te(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)}))}))}W_(e,r){const n=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{n((()=>this.G_(i)))})),this.stream.onMessage((i=>{n((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return je(II,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(je(II,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FW extends T5{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=H7(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ke.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?oa(o.readTime):Ke.min()})(e);return this.listener.J_(r,n)}H_(e){const r={};r.database=H1(this.serializer),r.addTarget=(function(a,o){let l;const c=o.target;if(l=F1(c)?{documents:X7(a,c)}:{query:Y7(a,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=h5(a,o.resumeToken);const d=B1(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ke.min())>0){l.readTime=Xm(a,o.snapshotVersion.toTimestamp());const d=B1(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const n=J7(this.serializer,e);n&&(r.labels=n),this.k_(r)}Y_(e){const r={};r.database=H1(this.serializer),r.removeTarget=e,this.k_(r)}}class UW extends T5{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=K7(e.writeResults,e.commitTime),n=oa(e.commitTime);return this.listener.ta(n,r)}na(){const e={};e.database=H1(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>G7(this.serializer,n)))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{}class BW extends zW{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Wo(e,q1(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ce.UNKNOWN,a.toString())}))}Jo(e,r,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Jo(e,q1(r,n),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ce.UNKNOWN,o.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class qW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Za(r),this._a=!1):je("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class WW{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((o=>{n.enqueueAndForget((async()=>{Pl(this)&&(je(vl,"Restarting streams for network reachability change."),await(async function(c){const d=Ye(c);d.Ia.add(4),await vh(d),d.Aa.set("Unknown"),d.Ia.delete(4),await _y(d)})(this))}))})),this.Aa=new qW(n,i)}}async function _y(t){if(Pl(t))for(const e of t.da)await e(!0)}async function vh(t){for(const e of t.da)await e(!1)}function A5(t,e){const r=Ye(t);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),uT(r)?lT(r):Oc(r).x_()&&sT(r,e))}function oT(t,e){const r=Ye(t),n=Oc(r);r.Ta.delete(e),n.x_()&&P5(r,e),r.Ta.size===0&&(n.x_()?n.B_():Pl(r)&&r.Aa.set("Unknown"))}function sT(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Oc(t).H_(e)}function P5(t,e){t.Ra.$e(e),Oc(t).Y_(e)}function lT(t){t.Ra=new V7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.Aa.aa()}function uT(t){return Pl(t)&&!Oc(t).M_()&&t.Ta.size>0}function Pl(t){return Ye(t).Ia.size===0}function j5(t){t.Ra=void 0}async function HW(t){t.Aa.set("Online")}async function GW(t){t.Ta.forEach(((e,r)=>{sT(t,e)}))}async function KW(t,e){j5(t),uT(t)?(t.Aa.la(e),lT(t)):t.Aa.set("Unknown")}async function XW(t,e,r){if(t.Aa.set("Online"),e instanceof f5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ta.delete(l),i.Ra.removeTarget(l))})(t,e)}catch(n){je(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qm(t,n)}else if(e instanceof Im?t.Ra.Ye(e):e instanceof d5?t.Ra.it(e):t.Ra.et(e),!r.isEqual(Ke.min()))try{const n=await S5(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const l=a.Ra.Pt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Ta.get(d);p&&a.Ta.set(d,p.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const p=a.Ta.get(c);if(!p)return;a.Ta.set(c,p.withResumeToken(Br.EMPTY_BYTE_STRING,p.snapshotVersion)),P5(a,c);const m=new Xo(p.target,c,d,p.sequenceNumber);sT(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){je(vl,"Failed to raise snapshot:",n),await Qm(t,n)}}async function Qm(t,e,r){if(!Cc(e))throw e;t.Ia.add(1),await vh(t),t.Aa.set("Offline"),r||(r=()=>S5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(vl,"Retrying IndexedDB access"),await r(),t.Ia.delete(1),await _y(t)}))}function k5(t,e){return e().catch((r=>Qm(t,r,e)))}async function Sy(t){const e=Ye(t),r=cs(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:GE;for(;YW(e);)try{const i=await CW(e.localStore,n);if(i===null){e.Pa.length===0&&r.B_();break}n=i.batchId,QW(e,i)}catch(i){await Qm(e,i)}I5(e)&&C5(e)}function YW(t){return Pl(t)&&t.Pa.length<10}function QW(t,e){t.Pa.push(e);const r=cs(t);r.x_()&&r.Z_&&r.X_(e.mutations)}function I5(t){return Pl(t)&&!cs(t).M_()&&t.Pa.length>0}function C5(t){cs(t).start()}async function JW(t){cs(t).na()}async function ZW(t){const e=cs(t);for(const r of t.Pa)e.X_(r.mutations)}async function eH(t,e,r){const n=t.Pa.shift(),i=ZE.from(n,e,r);await k5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Sy(t)}async function tH(t,e){e&&cs(t).Z_&&await(async function(n,i){if((function(o){return L7(o)&&o!==ce.ABORTED})(i.code)){const a=n.Pa.shift();cs(n).N_(),await k5(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Sy(n)}})(t,e),I5(t)&&C5(t)}async function CI(t,e){const r=Ye(t);r.asyncQueue.verifyOperationInProgress(),je(vl,"RemoteStore received new credentials");const n=Pl(r);r.Ia.add(3),await vh(r),n&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await _y(r)}async function rH(t,e){const r=Ye(t);e?(r.Ia.delete(2),await _y(r)):e||(r.Ia.add(2),await vh(r),r.Aa.set("Unknown"))}function Oc(t){return t.Va||(t.Va=(function(r,n,i){const a=Ye(r);return a.ia(),new FW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:HW.bind(null,t),e_:GW.bind(null,t),n_:KW.bind(null,t),J_:XW.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),uT(t)?lT(t):t.Aa.set("Unknown")):(await t.Va.stop(),j5(t))}))),t.Va}function cs(t){return t.ma||(t.ma=(function(r,n,i){const a=Ye(r);return a.ia(),new UW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:JW.bind(null,t),n_:tH.bind(null,t),ea:ZW.bind(null,t),ta:eH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Sy(t)):(await t.ma.stop(),t.Pa.length>0&&(je(vl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new cT(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dT(t,e){if(Za("AsyncQueue",`${e}: ${t}`),Cc(t))return new Te(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{static emptySet(e){return new Fu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||$e.comparator(r.key,n.key):(r,n)=>$e.comparator(r.key,n.key),this.keyedMap=Bd(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Fu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.fa=new Ht($e.comparator)}track(e){const r=e.doc.key,n=this.fa.get(r);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(r,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(r):e.type===1&&n.type===2?this.fa=this.fa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):qe(63341,{At:e,ga:n}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,n)=>{e.push(n)})),e}}class ec{constructor(e,r,n,i,a,o,l,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new ec(e,r,Fu.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class iH{constructor(){this.queries=OI(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,n){const i=Ye(r),a=i.queries;i.queries=OI(),a.forEach(((o,l)=>{for(const c of l.wa)c.onError(n)}))})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function OI(){return new Al((t=>QL(t)),my)}async function fT(t,e){const r=Ye(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.ba()&&(n=2):(a=new nH,n=e.ba()?0:1);try{switch(n){case 0:a.ya=await r.onListen(i,!0);break;case 1:a.ya=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=dT(o,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.wa.push(e),e.va(r.onlineState),a.ya&&e.Ca(a.ya)&&pT(r)}async function hT(t,e){const r=Ye(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.wa.indexOf(e);o>=0&&(a.wa.splice(o,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function aH(t,e){const r=Ye(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.wa)l.Ca(i)&&(n=!0);o.ya=i}}n&&pT(r)}function oH(t,e,r){const n=Ye(t),i=n.queries.get(e);if(i)for(const a of i.wa)a.onError(r);n.queries.delete(e)}function pT(t){t.Da.forEach((e=>{e.next()}))}var X1,RI;(RI=X1||(X1={})).Fa="default",RI.Cache="cache";class mT{constructor(e,r,n){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ec(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const n=r!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==X1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.key=e}}class O5{constructor(e){this.key=e}}class sH{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ot(),this.mutatedKeys=ot(),this.Xa=JL(e),this.eu=new Fu(this.Xa)}get tu(){return this.Ha}nu(e,r){const n=r?r.ru:new NI,i=r?r.eu:this.eu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const y=i.get(p),x=gy(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?S!==w&&(n.track({type:3,doc:x}),b=!0):this.iu(y,x)||(n.track({type:2,doc:x}),b=!0,(c&&this.Xa(x,c)>0||d&&this.Xa(x,d)<0)&&(l=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(c||d)&&(l=!0)),b&&(x?(o=o.add(x),a=w?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{eu:o,ru:n,Ds:l,mutatedKeys:a}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((p,m)=>(function(x,S){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{At:b})}};return w(x)-w(S)})(p.type,m.type)||this.Xa(p.doc,m.doc))),this.su(n),i=i!=null&&i;const l=r&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,d=c!==this.Ya;return this.Ya=c,o.length!==0||d?{snapshot:new ec(this.query,e.eu,a,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new NI,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ot(),this.eu.forEach((n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))}));const r=[];return e.forEach((n=>{this.Za.has(n)||r.push(new O5(n))})),this.Za.forEach((n=>{e.has(n)||r.push(new N5(n))})),r}uu(e){this.Ha=e.qs,this.Za=ot();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return ec.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const gT="SyncEngine";class lH{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class uH{constructor(e){this.key=e,this.lu=!1}}class cH{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Al((l=>QL(l)),my),this.Tu=new Map,this.Iu=new Set,this.du=new Ht($e.comparator),this.Eu=new Map,this.Au=new rT,this.Ru={},this.Vu=new Map,this.mu=Zu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function dH(t,e,r=!0){const n=V5(t);let i;const a=n.Pu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await R5(n,e,r,!0),i}async function fH(t,e){const r=V5(t);await R5(r,e,!0,!1)}async function R5(t,e,r,n){const i=await NW(t.localStore,aa(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await hH(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&A5(t.remoteStore,i),l}async function hH(t,e,r,n,i){t.gu=(m,y,x)=>(async function(w,b,T,E){let I=b.view.nu(T);I.Ds&&(I=await AI(w.localStore,b.query,!1).then((({documents:P})=>b.view.nu(P,I))));const N=E&&E.targetChanges.get(b.targetId),k=E&&E.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(I,w.isPrimaryClient,N,k);return DI(w,b.targetId,O._u),O.snapshot})(t,m,y,x);const a=await AI(t.localStore,e,!0),o=new sH(e,a.qs),l=o.nu(a.documents),c=yh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);DI(t,r,d._u);const p=new lH(e,r,o);return t.Pu.set(e,p),t.Tu.has(r)?t.Tu.get(r).push(e):t.Tu.set(r,[e]),d.snapshot}async function pH(t,e,r){const n=Ye(t),i=n.Pu.get(e),a=n.Tu.get(i.targetId);if(a.length>1)return n.Tu.set(i.targetId,a.filter((o=>!my(o,e)))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await G1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&oT(n.remoteStore,i.targetId),Y1(n,i.targetId)})).catch(Ic)):(Y1(n,i.targetId),await G1(n.localStore,i.targetId,!0))}async function mH(t,e){const r=Ye(t),n=r.Pu.get(e),i=r.Tu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),oT(r.remoteStore,n.targetId))}async function gH(t,e,r){const n=SH(t);try{const i=await(function(o,l){const c=Ye(o),d=Lt.now(),p=l.reduce(((x,S)=>x.add(S.key)),ot());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=eo(),w=ot();return c.Os.getEntries(x,p).next((b=>{S=b,S.forEach(((T,E)=>{E.isValidDocument()||(w=w.add(T))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((b=>{m=b;const T=[];for(const E of l){const I=N7(E,m.get(E.key).overlayedDocument);I!=null&&T.push(new ms(E.key,I,BL(I.value.mapValue),un.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,T,l)})).next((b=>{y=b;const T=b.applyToLocalDocumentSet(m,w);return c.documentOverlayCache.saveOverlays(x,b.batchId,T)}))})).then((()=>({batchId:y.batchId,changes:e5(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new Ht(Ze)),d=d.insert(l,c),o.Ru[o.currentUser.toKey()]=d})(n,i.batchId,r),await bh(n,i.changes),await Sy(n.remoteStore)}catch(i){const a=dT(i,"Failed to persist write");r.reject(a)}}async function M5(t,e){const r=Ye(t);try{const n=await kW(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Eu.get(a);o&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?bt(o.lu,14607):i.removedDocuments.size>0&&(bt(o.lu,42227),o.lu=!1))})),await bh(r,n,e)}catch(n){await Ic(n)}}function MI(t,e,r){const n=Ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Pu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=Ye(o);c.onlineState=l;let d=!1;c.queries.forEach(((p,m)=>{for(const y of m.wa)y.va(l)&&(d=!0)})),d&&pT(c)})(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function yH(t,e,r){const n=Ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),a=i&&i.key;if(a){let o=new Ht($e.comparator);o=o.insert(a,Qr.newNoDocument(a,Ke.min()));const l=ot().add(a),c=new xy(Ke.min(),new Map,new Ht(Ze),o,l);await M5(n,c),n.du=n.du.remove(a),n.Eu.delete(e),yT(n)}else await G1(n.localStore,e,!1).then((()=>Y1(n,e,r))).catch(Ic)}async function vH(t,e){const r=Ye(t),n=e.batch.batchId;try{const i=await jW(r.localStore,e);L5(r,n,null),D5(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await bh(r,i)}catch(i){await Ic(i)}}async function bH(t,e,r){const n=Ye(t);try{const i=await(function(o,l){const c=Ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(bt(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>c.localDocuments.getDocuments(d,p)))}))})(n.localStore,e);L5(n,e,r),D5(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await bh(n,i)}catch(i){await Ic(i)}}function D5(t,e){(t.Vu.get(e)||[]).forEach((r=>{r.resolve()})),t.Vu.delete(e)}function L5(t,e,r){const n=Ye(t);let i=n.Ru[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function Y1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Tu.get(e))t.Pu.delete(n),r&&t.hu.pu(n,r);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((n=>{t.Au.containsKey(n)||$5(t,n)}))}function $5(t,e){t.Iu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(oT(t.remoteStore,r),t.du=t.du.remove(e),t.Eu.delete(r),yT(t))}function DI(t,e,r){for(const n of r)n instanceof N5?(t.Au.addReference(n.key,e),xH(t,n)):n instanceof O5?(je(gT,"Document no longer in limbo: "+n.key),t.Au.removeReference(n.key,e),t.Au.containsKey(n.key)||$5(t,n.key)):qe(19791,{yu:n})}function xH(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Iu.has(n)||(je(gT,"New document in limbo: "+r),t.Iu.add(n),yT(t))}function yT(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const r=new $e(Ct.fromString(e)),n=t.mu.next();t.Eu.set(n,new uH(r)),t.du=t.du.insert(r,n),A5(t.remoteStore,new Xo(aa(py(r.path)),n,"TargetPurposeLimboResolution",dy.ue))}}async function bh(t,e,r){const n=Ye(t),i=[],a=[],o=[];n.Pu.isEmpty()||(n.Pu.forEach(((l,c)=>{o.push(n.gu(c,e,r).then((d=>{var p;if((d||r)&&n.isPrimaryClient){const m=d?!d.fromCache:(p=r==null?void 0:r.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=iT.Es(c.targetId,d);a.push(m)}})))})),await Promise.all(o),n.hu.J_(i),await(async function(c,d){const p=Ye(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>he.forEach(d,(y=>he.forEach(y.Is,(x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x))).next((()=>he.forEach(y.ds,(x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))))))}catch(m){if(!Cc(m))throw m;je(aT,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const x=p.Fs.get(y),S=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(S);p.Fs=p.Fs.insert(y,w)}}})(n.localStore,a))}async function wH(t,e){const r=Ye(t);if(!r.currentUser.isEqual(e)){je(gT,"User change. New user:",e.toKey());const n=await _5(r.localStore,e);r.currentUser=e,(function(a,o){a.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Te(ce.CANCELLED,o))}))})),a.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await bh(r,n.Bs)}}function _H(t,e){const r=Ye(t),n=r.Eu.get(e);if(n&&n.lu)return ot().add(n.key);{let i=ot();const a=r.Tu.get(e);if(!a)return i;for(const o of a){const l=r.Pu.get(o);i=i.unionWith(l.view.tu)}return i}}function V5(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_H.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yH.bind(null,e),e.hu.J_=aH.bind(null,e.eventManager),e.hu.pu=oH.bind(null,e.eventManager),e}function SH(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bH.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return PW(this.persistence,new EW,e.initialUser,this.serializer)}Du(e){return new w5(nT.Vi,this.serializer)}bu(e){return new RW}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class EH extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){bt(this.persistence.referenceDelegate instanceof Ym,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new uW(n,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new w5((n=>Ym.Vi(n,r)),this.serializer)}}class Q1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>MI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=wH.bind(null,this.syncEngine),await rH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iH})()}createDatastore(e){const r=wy(e.databaseInfo.databaseId),n=(function(a){return new VW(a)})(e.databaseInfo);return(function(a,o,l,c){return new BW(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,l){return new WW(n,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>MI(this.syncEngine,r,0)),(function(){return kI.C()?new kI:new MW})())}createSyncEngine(e,r){return(function(i,a,o,l,c,d,p){const m=new cH(i,a,o,l,c,d);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=Ye(i);je(vl,"RemoteStore shutting down."),a.Ia.add(5),await vh(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Q1.provider={build:()=>new Q1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Za("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class TH{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=HE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{je(ds,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(je(ds,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=dT(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function sx(t,e){t.asyncQueue.verifyOperationInProgress(),je(ds,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await _5(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>{as("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{je("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{as("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function LI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await AH(t);je(ds,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>CI(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>CI(e.remoteStore,i))),t._onlineComponents=e}async function AH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(ds,"Using user provided OfflineComponentProvider");try{await sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;as("Error using user provided cache. Falling back to memory cache: "+r),await sx(t,new Jm)}}else je(ds,"Using default OfflineComponentProvider"),await sx(t,new EH(void 0));return t._offlineComponents}async function F5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(ds,"Using user provided OnlineComponentProvider"),await LI(t,t._uninitializedComponentsProvider._online)):(je(ds,"Using default OnlineComponentProvider"),await LI(t,new Q1))),t._onlineComponents}function PH(t){return F5(t).then((e=>e.syncEngine))}async function Zm(t){const e=await F5(t),r=e.eventManager;return r.onListen=dH.bind(null,e.syncEngine),r.onUnlisten=pH.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=fH.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=mH.bind(null,e.syncEngine),r}function jH(t,e,r={}){const n=new Ha;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,d){const p=new vT({next:y=>{p.Ou(),o.enqueueAndForget((()=>hT(a,m)));const x=y.docs.has(l);!x&&y.fromCache?d.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&c&&c.source==="server"?d.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new mT(py(l.path),p,{includeMetadataChanges:!0,ka:!0});return fT(a,m)})(await Zm(t),t.asyncQueue,e,r,n))),n.promise}function kH(t,e,r={}){const n=new Ha;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,d){const p=new vT({next:y=>{p.Ou(),o.enqueueAndForget((()=>hT(a,m))),y.fromCache&&c.source==="server"?d.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new mT(l,p,{includeMetadataChanges:!0,ka:!0});return fT(a,m)})(await Zm(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="firestore.googleapis.com",VI=!0;class FI{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z5,this.ssl=VI}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:VI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sW)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U5((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Lq;switch(n.type){case"firstParty":return new Uq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=$I.get(r);n&&(je("ComponentProvider","Removing Datastore"),$I.delete(r),n.terminate())})(this),Promise.resolve()}}function IH(t,e,r,n={}){var i;t=ln(t,Ey);const a=Pc(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;a&&(O4(`https://${c}`),R4("Firestore",!0)),o.host!==z5&&o.host!==c&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:n});if(!Ya(d,l)&&(t._setSettings(d),n.mockUserToken)){let p,m;if(typeof n.mockUserToken=="string")p=n.mockUserToken,m=Yr.MOCK_USER;else{p=$z(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yr(y)}t._authCredentials=new $q(new IL(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class Qt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(mh(r,Qt._jsonSchema))return new Qt(e,n||null,new $e(Ct.fromString(r.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:ur("string",Qt._jsonSchemaVersion),referencePath:ur("string")};class rs extends gs{constructor(e,r,n){super(e,r,py(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new $e(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Tn(t,e,...r){if(t=Pt(t),NL("collection","path",e),t instanceof Ey){const n=Ct.fromString(e,...r);return Zk(n),new rs(t,null,n)}{if(!(t instanceof Qt||t instanceof rs))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ct.fromString(e,...r));return Zk(n),new rs(t.firestore,null,n)}}function Zr(t,e,...r){if(t=Pt(t),arguments.length===1&&(e=HE.newId()),NL("doc","path",e),t instanceof Ey){const n=Ct.fromString(e,...r);return Jk(n),new Qt(t,null,new $e(n))}{if(!(t instanceof Qt||t instanceof rs))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ct.fromString(e,...r));return Jk(n),new Qt(t.firestore,t instanceof rs?t.converter:null,new $e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="AsyncQueue";class zI{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new E5(this,"async_queue_retry"),this.oc=()=>{const n=ox();n&&je(UI,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const r=ox();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=ox();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Ha;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Cc(e))throw e;je(UI,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((n=>{throw this.tc=n,this.nc=!1,Za("INTERNAL UNHANDLED ERROR: ",BI(n)),n})).then((n=>(this.nc=!1,n))))));return this._c=r,r}enqueueAfterDelay(e,r,n){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const i=cT.createAndSchedule(this,e,r,n,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&qe(47125,{hc:BI(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function BI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ha extends Ey{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new zI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zI(e),this._firestoreClient=void 0,await e}}}function CH(t,e){const r=typeof t=="object"?t:$4(),n=typeof t=="string"?t:qm,i=OE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Dz("firestore");a&&IH(i,...a)}return i}function xh(t){if(t._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NH(t),t._firestoreClient}function NH(t){var e,r,n;const i=t._freezeSettings(),a=(function(l,c,d,p){return new n7(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U5(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new TH(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Br.fromBase64String(e))}catch(r){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ai(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mh(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:ur("string",ai._jsonSchemaVersion),bytes:ur("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sa._jsonSchemaVersion}}static fromJSON(e){if(mh(e,sa._jsonSchema))return new sa(e.latitude,e.longitude)}}sa._jsonSchemaVersion="firestore/geoPoint/1.0",sa._jsonSchema={type:ur("string",sa._jsonSchemaVersion),latitude:ur("number"),longitude:ur("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:la._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mh(e,la._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new la(e.vectorValues);throw new Te(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}la._jsonSchemaVersion="firestore/vectorValue/1.0",la._jsonSchema={type:ur("string",la._jsonSchemaVersion),vectorValues:ur("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=/^__.*__$/;class RH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,r,this.fieldTransforms):new gh(e,this.data,r,this.fieldTransforms)}}class B5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ms(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function q5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ec:t})}}class Ty{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return eg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(q5(this.Ec)&&OH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class MH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||wy(e)}Dc(e,r,n,i=!1){return new Ty({Ec:e,methodName:r,bc:n,path:zr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(t){const e=t._freezeSettings(),r=wy(t._databaseId);return new MH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function bT(t,e,r,n,i,a={}){const o=t.Dc(a.merge||a.mergeFields?2:0,e,r,i);_T("Data must be an object, but it was:",o,n);const l=K5(n,o);let c,d;if(a.merge)c=new Fn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=J1(e,m,r);if(!o.contains(y))throw new Te(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Y5(p,y)||p.push(y)}c=new Fn(p),d=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=o.fieldTransforms;return new RH(new _n(l),c,d)}class Ay extends _h{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function W5(t,e,r){return new Ty({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xT extends _h{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=W5(this,e,!0),n=this.vc.map((a=>jl(a,r))),i=new Qu(n);return new s5(e.path,i)}isEqual(e){return e instanceof xT&&Ya(this.vc,e.vc)}}class wT extends _h{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=W5(this,e,!0),n=this.vc.map((a=>jl(a,r))),i=new Ju(n);return new s5(e.path,i)}isEqual(e){return e instanceof wT&&Ya(this.vc,e.vc)}}function H5(t,e,r,n){const i=t.Dc(1,e,r);_T("Data must be an object, but it was:",i,n);const a=[],o=_n.empty();ps(n,((c,d)=>{const p=ST(e,c,r);d=Pt(d);const m=i.gc(p);if(d instanceof Ay)a.push(p);else{const y=jl(d,m);y!=null&&(a.push(p),o.set(p,y))}}));const l=new Fn(a);return new B5(o,l,i.fieldTransforms)}function G5(t,e,r,n,i,a){const o=t.Dc(1,e,r),l=[J1(e,n,r)],c=[i];if(a.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(J1(e,a[y])),c.push(a[y+1]);const d=[],p=_n.empty();for(let y=l.length-1;y>=0;--y)if(!Y5(d,l[y])){const x=l[y];let S=c[y];S=Pt(S);const w=o.gc(x);if(S instanceof Ay)d.push(x);else{const b=jl(S,w);b!=null&&(d.push(x),p.set(x,b))}}const m=new Fn(d);return new B5(p,m,o.fieldTransforms)}function DH(t,e,r,n=!1){return jl(r,t.Dc(n?4:3,e))}function jl(t,e){if(X5(t=Pt(t)))return _T("Unsupported field value:",e,t),K5(t,e);if(t instanceof _h)return(function(n,i){if(!q5(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const l of n){let c=jl(l,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return A7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Lt.fromDate(n);return{timestampValue:Xm(i.serializer,a)}}if(n instanceof Lt){const a=new Lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xm(i.serializer,a)}}if(n instanceof sa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ai)return{bytesValue:h5(i.serializer,n._byteString)};if(n instanceof Qt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tT(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof la)return(function(o,l){return{mapValue:{fields:{[UL]:{stringValue:zL},[Wm]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return JE(l.serializer,d)}))}}}}}})(n,i);throw i.wc(`Unsupported field value: ${cy(n)}`)})(t,e)}function K5(t,e){const r={};return ML(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,((n,i)=>{const a=jl(i,e.Vc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function X5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof sa||t instanceof ai||t instanceof Qt||t instanceof _h||t instanceof la)}function _T(t,e,r){if(!X5(r)||!OL(r)){const n=cy(r);throw n==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+n)}}function J1(t,e,r){if((e=Pt(e))instanceof wh)return e._internalPath;if(typeof e=="string")return ST(t,e);throw eg("Field path arguments must be of type string or ",t,!1,void 0,r)}const LH=new RegExp("[~\\*/\\[\\]]");function ST(t,e,r){if(e.search(LH)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new wh(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function eg(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new Te(ce.INVALID_ARGUMENT,l+t+c)}function Y5(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $H(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class $H extends Q5{data(){return super.data()}}function Py(t,e){return typeof e=="string"?ST(t,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ET{}class Z5 extends ET{}function cn(t,e,...r){let n=[];e instanceof ET&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((c=>c instanceof TT)).length,l=a.filter((c=>c instanceof jy)).length;if(o>1||o>0&&l>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class jy extends Z5{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new jy(e,r,n)}_apply(e){const r=this._parse(e);return t3(e._query,r),new gs(e.firestore,e.converter,U1(e._query,r))}_parse(e){const r=Sh(e.firestore);return(function(a,o,l,c,d,p,m){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){HI(m,p);const S=[];for(const w of m)S.push(WI(c,a,w));y={arrayValue:{values:S}}}else y=WI(c,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||HI(m,p),y=DH(l,o,m,p==="in"||p==="not-in");return lr.create(d,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function An(t,e,r){const n=e,i=Py("where",t);return jy._create(i,n,r)}class TT extends ET{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new TT(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Di.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)t3(o,c),o=U1(o,c)})(e._query,r),new gs(e.firestore,e.converter,U1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AT extends Z5{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new AT(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _f(a,o)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Nc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function e3(t,e="asc"){const r=e,n=Py("orderBy",t);return AT._create(n,r)}function WI(t,e,r){if(typeof(r=Pt(r))=="string"){if(r==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YL(e)&&r.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ct.fromString(r));if(!$e.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return sI(t,new $e(n))}if(r instanceof Qt)return sI(t,r._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cy(r)}.`)}function HI(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t3(t,e){const r=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class VH{convertValue(e,r="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ps(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Wm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((o=>tr(o.doubleValue)));return new la(a)}convertGeoPoint(e){return new sa(tr(e.latitude),tr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=hy(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const r=ss(e);return new Lt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ct.fromString(e);bt(b5(n),9688,{name:e});const i=new xf(n.get(1),n.get(3)),a=new $e(n.popFirst(5));return i.isEqual(r)||Za(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Wd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ll extends Q5{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ll._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",ll._jsonSchema={type:ur("string",ll._jsonSchemaVersion),bundleSource:ur("string","DocumentSnapshot"),bundleName:ur("string"),bundle:ur("string")};class Cm extends ll{data(e={}){return super.data(e)}}class ul{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Cm(this._firestore,this._userDataWriter,n.key,n,new Wd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new Cm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Cm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:FH(l.type),doc:c,oldIndex:d,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=HE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){t=ln(t,Qt);const e=ln(t.firestore,ha);return jH(xh(e),t._key).then((r=>n3(e,t,r)))}ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:ur("string",ul._jsonSchemaVersion),bundleSource:ur("string","QuerySnapshot"),bundleName:ur("string"),bundle:ur("string")};class jT extends VH{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,r)}}function fs(t){t=ln(t,gs);const e=ln(t.firestore,ha),r=xh(e),n=new jT(e);return J5(t._query),kH(r,t._query).then((i=>new ul(e,n,t,i)))}function Li(t,e,r){t=ln(t,Qt);const n=ln(t.firestore,ha),i=PT(t.converter,e,r);return Eh(n,[bT(Sh(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,un.none())])}function rt(t,e,r,...n){t=ln(t,Qt);const i=ln(t.firestore,ha),a=Sh(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof wh?G5(a,"updateDoc",t._key,e,r,n):H5(a,"updateDoc",t._key,e),Eh(i,[o.toMutation(t._key,un.exists(!0))])}function r3(t){return Eh(ln(t.firestore,ha),[new by(t._key,un.none())])}function Un(t,e){const r=ln(t.firestore,ha),n=Zr(t),i=PT(t.converter,e);return Eh(r,[bT(Sh(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,un.exists(!1))]).then((()=>n))}function Cr(t,...e){var r,n,i;t=Pt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||qI(e[o])||(a=e[o++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(qI(e[o])){const m=e[o];e[o]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,p;if(t instanceof Qt)d=ln(t.firestore,ha),p=py(t._key.path),c={next:m=>{e[o]&&e[o](n3(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=ln(t,gs);d=ln(m.firestore,ha),p=m._query;const y=new jT(d);c={next:x=>{e[o]&&e[o](new ul(d,y,m,x))},error:e[o+1],complete:e[o+2]},J5(t._query)}return(function(y,x,S,w){const b=new vT(w),T=new mT(x,b,S);return y.asyncQueue.enqueueAndForget((async()=>fT(await Zm(y),T))),()=>{b.Ou(),y.asyncQueue.enqueueAndForget((async()=>hT(await Zm(y),T)))}})(xh(d),p,l,c)}function Eh(t,e){return(function(n,i){const a=new Ha;return n.asyncQueue.enqueueAndForget((async()=>gH(await PH(n),i,a))),a.promise})(xh(t),e)}function n3(t,e,r){const n=r.docs.get(e._key),i=new jT(t);return new ll(t,i,e._key,n,new Wd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Sh(e)}set(e,r,n){this._verifyNotCommitted();const i=lx(e,this._firestore),a=PT(i.converter,r,n),o=bT(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,un.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=lx(e,this._firestore);let o;return o=typeof(r=Pt(r))=="string"||r instanceof wh?G5(this._dataReader,"WriteBatch.update",a._key,r,n,i):H5(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=lx(e,this._firestore);return this._mutations=this._mutations.concat(new by(r._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lx(t,e){if((t=Pt(t)).firestore!==e)throw new Te(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Hd(...t){return new xT("arrayUnion",t)}function Gd(...t){return new wT("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){return xh(t=ln(t,ha)),new UH(t,(e=>Eh(t,e)))}(function(e,r=!0){(function(i){kc=i})(jc),Gu(new hl("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new ha(new Vq(n.getProvider("auth-internal")),new zq(o,n.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(d.options.projectId,p)})(o,i),o);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),es(Gk,Kk,e),es(Gk,Kk,"esm2017")})();const zH={apiKey:"AIzaSyCe85WvMIdGqpB4fQ-5l4c46fikr-EwO5s",authDomain:"sarasva-e25dd.firebaseapp.com",projectId:"sarasva-e25dd",storageBucket:"sarasva-e25dd.firebasestorage.app",messagingSenderId:"1033167676784",appId:"1:1033167676784:web:9134c434cc4716434ddbb5"},i3=L4(zH),Lr=Oq(i3),ht=CH(i3);function rr(t,e){return Tn(ht,"users",t,e)}function nt(t,e,r){return Zr(ht,"users",t,e,r)}async function Su(t,{name:e,course:r}){const n=e??"";await Li(Zr(ht,"publicProfiles",t),{name:n,nameLower:n.toLowerCase(),course:r??"",uid:t},{merge:!0})}const Zs={focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0};function ei(t){return Zr(ht,"users",t,"profile","data")}function Eu(t,e={}){return{id:t.uid,name:e.name??t.displayName??"",email:t.email,course:e.course??"",semester:e.semester??"",institute:e.institute??"",settings:e.settings??Zs,notificationsEmail:e.notificationsEmail??!1,avatarColor:e.avatarColor??"#6366f1",avatarEmoji:e.avatarEmoji??null,role:e.role??"user"}}const xn={async register({name:t,email:e,password:r,course:n="",semester:i=""}){const a=await h8(Lr,e,r);await Dk(a.user,{displayName:t});const o={name:t,course:n,semester:i,institute:"",settings:Zs};return await Li(ei(a.user.uid),o),await Su(a.user.uid,{name:t,course:n}),Eu(a.user,o)},async loginWithGoogle(){const t=new ta,e=await U8(Lr,t),r=await ii(ei(e.user.uid));if(!r.exists()){const i={name:e.user.displayName??"",course:"",semester:"",settings:Zs};return await Li(ei(e.user.uid),i),await Su(e.user.uid,{name:i.name,course:""}),Eu(e.user,i)}const n=r.data();return Su(e.user.uid,{name:n.name??e.user.displayName??"",course:n.course??"",institute:n.institute??""}).catch(()=>{}),Eu(e.user,n)},async login({email:t,password:e}){try{const r=await p8(Lr,t,e),n=await ii(ei(r.user.uid)),i=n.exists()?n.data():{};return Su(r.user.uid,{name:i.name??r.user.displayName??"",course:i.course??"",institute:i.institute??""}).catch(()=>{}),Eu(r.user,i)}catch(r){throw r.code==="auth/invalid-credential"||r.code==="auth/wrong-password"?Object.assign(new Error('Incorrect password. If you previously signed in with Google, use "Forgot password?" to set a password for email login.'),{code:r.code}):r}},async linkGoogle(){const t=Lr.currentUser;if(!t)throw new Error("Not logged in.");const e=new ta;await z8(t,e)},async addPassword(t){const e=Lr.currentUser;if(!e)throw new Error("Not logged in.");if(!e.email)throw new Error("No email on account.");const r=Wa.credential(e.email,t);await d8(e,r)},async getMe(){const t=Lr.currentUser;if(!t)return null;const e=await ii(ei(t.uid)),r=e.exists()?e.data():{};return Su(t.uid,{name:r.name??t.displayName??"",course:r.course??"",institute:r.institute??""}).catch(()=>{}),Eu(t,r)},async logout(){await w8(Lr)},async resetPassword(t){await f8(Lr,t)},async updateProfile({name:t,course:e,semester:r,institute:n}){const i=Lr.currentUser;if(!i)throw new Error("Not logged in.");await Dk(i,{displayName:t}),await rt(ei(i.uid),{name:t,course:e,semester:r,institute:n??""}),await Su(i.uid,{name:t,course:e});const a=await ii(ei(i.uid));return Eu(i,a.data())},async getSettings(){const t=Lr.currentUser;if(!t)return null;const e=await ii(ei(t.uid));return e.exists()?e.data().settings??Zs:Zs},async updateSettings(t){const e=Lr.currentUser;if(!e)throw new Error("Not logged in.");const r=await ii(ei(e.uid)),i={...r.exists()?r.data().settings??Zs:Zs,...t};return await rt(ei(e.uid),{settings:i}),i},async updateNotificationPrefs({notificationsEmail:t}){const e=Lr.currentUser;if(!e)throw new Error("Not logged in.");await rt(ei(e.uid),{notificationsEmail:t})},async changeEmail(t,e){const r=Lr.currentUser;if(!r)throw new Error("Not logged in.");if(!r.email)throw new Error("No email on account.");const n=Wa.credential(r.email,t);await Mk(r,n),await g8(r,e)},async changePassword(t,e){const r=Lr.currentUser;if(!r)throw new Error("Not logged in.");if(!r.email)throw new Error("No email on account.");const n=Wa.credential(r.email,t);await Mk(r,n),await y8(r,e)},async updateAvatar({avatarColor:t,avatarEmoji:e}){const r=Lr.currentUser;if(!r)throw new Error("Not logged in.");const n={};t!==void 0&&(n.avatarColor=t),e!==void 0&&(n.avatarEmoji=e),await rt(ei(r.uid),n)}},kT=D.createContext(null);function zn(){return D.useContext(kT)}function BH({children:t}){const[e,r]=D.useState(null),[n,i]=D.useState(!0);D.useEffect(()=>x8(Lr,async m=>{if(m){const y=await xn.getMe();r(y)}else r(null);i(!1)}),[]);const a=D.useCallback(async(p,m)=>{const y=await xn.login({email:p,password:m});return r(y),y},[]),o=D.useCallback(async p=>{const m=await xn.register(p);return r(m),m},[]),l=D.useCallback(async()=>{const p=await xn.loginWithGoogle();return r(p),p},[]),c=D.useCallback(async()=>{await xn.logout(),r(null)},[]),d=D.useCallback(async()=>{const p=await xn.getMe();r(p??null)},[]);return f.jsx(kT.Provider,{value:{user:e,loading:n,login:a,loginWithGoogle:l,register:o,logout:c,refreshUser:d},children:t})}function di(){const t=D.useContext(kT);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>D.createElement("svg",{ref:c,...WH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:a3("lucide",i),...l},[...o.map(([d,p])=>D.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(HH,{ref:a,iconNode:e,className:a3(`lucide-${qH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ae("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ae("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Ae("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Ae("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Ae("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Ae("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ae("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Ae("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Ae("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Ae("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Ae("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ae("MessageSquareShare",[["path",{d:"M21 12v3a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h7",key:"tqtdkg"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m16 8 5-5",key:"15mbrl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Ae("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ae("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=Ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=Ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=Ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Ae("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=Ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=Ae("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=Ae("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=Ae("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=Ae("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Ae("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=Ae("ZapOff",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function w3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=w3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=w3(t))&&(n&&(n+=" "),n+=e);return n}const MT="-",bG=t=>{const e=wG(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(MT);return l[0]===""&&l.length!==1&&l.shift(),_3(l,e)||xG(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},_3=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?_3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(MT);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},QI=/^\[(.+)\]$/,xG=t=>{if(QI.test(t)){const e=QI.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},wG=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return SG(Object.entries(t.classGroups),r).forEach(([a,o])=>{iS(o,n,a,e)}),n},iS=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:JI(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(_G(i)){iS(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{iS(o,JI(e,a),r,n)})})},JI=(t,e)=>{let r=t;return e.split(MT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_G=t=>t.isThemeGetter,SG=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,EG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},S3="!",TG=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,p=0,m;for(let b=0;b<l.length;b++){let T=l[b];if(d===0){if(T===i&&(n||l.slice(b,b+a)===e)){c.push(l.slice(p,b)),p=b+a;continue}if(T==="/"){m=b;continue}}T==="["?d++:T==="]"&&d--}const y=c.length===0?l:l.substring(p),x=y.startsWith(S3),S=x?y.substring(1):y,w=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:w}};return r?l=>r({className:l,parseClassName:o}):o},AG=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},PG=t=>({cache:EG(t.cacheSize),parseClassName:TG(t),...bG(t)}),jG=/\s+/,kG=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(jG);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=r(d);let S=!!x,w=n(S?y.substring(0,x):y);if(!w){if(!S){l=d+(l.length>0?" "+l:l);continue}if(w=n(y),!w){l=d+(l.length>0?" "+l:l);continue}S=!1}const b=AG(p).join(":"),T=m?b+S3:b,E=T+w;if(a.includes(E))continue;a.push(E);const I=i(w,S);for(let N=0;N<I.length;++N){const k=I[N];a.push(T+k)}l=d+(l.length>0?" "+l:l)}return l};function IG(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=E3(e))&&(n&&(n+=" "),n+=r);return n}const E3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=E3(t[n]))&&(r&&(r+=" "),r+=e);return r};function CG(t,...e){let r,n,i,a=o;function o(c){const d=e.reduce((p,m)=>m(p),t());return r=PG(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const p=kG(c,r);return i(c,p),p}return function(){return a(IG.apply(null,arguments))}}const Mt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},T3=/^\[(?:([a-z-]+):)?(.+)\]$/i,NG=/^\d+\/\d+$/,OG=new Set(["px","full","screen"]),RG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$G=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ra=t=>Uu(t)||OG.has(t)||NG.test(t),Vo=t=>Rc(t,"length",HG),Uu=t=>!!t&&!Number.isNaN(Number(t)),ux=t=>Rc(t,"number",Uu),jd=t=>!!t&&Number.isInteger(Number(t)),VG=t=>t.endsWith("%")&&Uu(t.slice(0,-1)),Je=t=>T3.test(t),Fo=t=>RG.test(t),FG=new Set(["length","size","percentage"]),UG=t=>Rc(t,FG,A3),zG=t=>Rc(t,"position",A3),BG=new Set(["image","url"]),qG=t=>Rc(t,BG,KG),WG=t=>Rc(t,"",GG),kd=()=>!0,Rc=(t,e,r)=>{const n=T3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},HG=t=>MG.test(t)&&!DG.test(t),A3=()=>!1,GG=t=>LG.test(t),KG=t=>$G.test(t),XG=()=>{const t=Mt("colors"),e=Mt("spacing"),r=Mt("blur"),n=Mt("brightness"),i=Mt("borderColor"),a=Mt("borderRadius"),o=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),d=Mt("grayscale"),p=Mt("hueRotate"),m=Mt("invert"),y=Mt("gap"),x=Mt("gradientColorStops"),S=Mt("gradientColorStopPositions"),w=Mt("inset"),b=Mt("margin"),T=Mt("opacity"),E=Mt("padding"),I=Mt("saturate"),N=Mt("scale"),k=Mt("sepia"),O=Mt("skew"),P=Mt("space"),C=Mt("translate"),R=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Je,e],$=()=>[Je,e],V=()=>["",Ra,Vo],q=()=>["auto",Uu,Je],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Je],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Uu,Je];return{cacheSize:500,separator:":",theme:{colors:[kd],spacing:[Ra,Vo],blur:["none","",Fo,Je],brightness:W(),borderColor:[t],borderRadius:["none","","full",Fo,Je],borderSpacing:$(),borderWidth:V(),contrast:W(),grayscale:ae(),hueRotate:W(),invert:ae(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[VG,Vo],inset:L(),margin:L(),opacity:W(),padding:$(),saturate:W(),scale:W(),sepia:ae(),skew:W(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Fo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Je]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jd,Je]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",jd,Je]}],"grid-cols":[{"grid-cols":[kd]}],"col-start-end":[{col:["auto",{span:["full",jd,Je]},Je]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[kd]}],"row-start-end":[{row:["auto",{span:[jd,Je]},Je]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Fo]},Fo]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fo,Vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ux]}],"font-family":[{font:[kd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Uu,ux]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ra,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ra,Vo]}],"underline-offset":[{"underline-offset":["auto",Ra,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),zG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Ra,Je]}],"outline-w":[{outline:[Ra,Vo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Ra,Vo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fo,WG]}],"shadow-color":[{shadow:[kd]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fo,Je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[jd,Je]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ra,Vo,ux]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YG=CG(XG);function ke(...t){return YG(et(t))}const QG=[{hex:"#6366f1",label:"Indigo"},{hex:"#8b5cf6",label:"Violet"},{hex:"#ec4899",label:"Pink"},{hex:"#f43f5e",label:"Rose"},{hex:"#f97316",label:"Orange"},{hex:"#f59e0b",label:"Amber"},{hex:"#10b981",label:"Emerald"},{hex:"#0ea5e9",label:"Sky"},{hex:"#14b8a6",label:"Teal"},{hex:"#84cc16",label:"Lime"}],JG=[null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function DT({user:t,size:e="md"}){const r={xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-14 w-14 text-xl",xl:"h-20 w-20 text-3xl"},n=((t==null?void 0:t.name)??"?").split(" ").filter(Boolean).slice(0,2).map(o=>o[0]).join("").toUpperCase(),i=(t==null?void 0:t.avatarColor)??"#6366f1",a=(t==null?void 0:t.avatarEmoji)??null;return f.jsx("div",{className:`${r[e]} shrink-0 rounded-full flex items-center justify-center font-bold select-none`,style:{background:a?"#f3f4f6":i,color:a?void 0:"#ffffff"},children:a??n})}const ZG=[{to:"/dashboard",label:"Dashboard",icon:p3},{to:"/attendance",label:"Attendance",icon:Sf},{to:"/timetable",label:"Timetable",icon:Th},{to:"/subjects",label:"Subjects",icon:Ef},{to:"/exams",label:"Exams",icon:to},{to:"/tasks",label:"Tasks",icon:RT},{to:"/calendar",label:"Calendar",icon:ua},{to:"/ptp",label:"Study Peers",icon:nf}];function eK(){const{user:t,logout:e}=di(),r=ga();function n(){e(),r("/login")}return f.jsxs("aside",{className:"hidden lg:flex w-56 flex-shrink-0 flex-col border-r border-border bg-card px-3 py-6",children:[f.jsxs("div",{className:"mb-8 px-3",children:[f.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Sarasva"}),f.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:t==null?void 0:t.name})]}),f.jsx("nav",{className:"flex flex-col gap-1",children:ZG.map(({to:i,label:a,icon:o})=>f.jsxs(wm,{to:i,className:({isActive:l})=>ke("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",l?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[f.jsx(o,{size:16}),a]},i))}),(t==null?void 0:t.role)==="admin"&&f.jsxs(wm,{to:"/admin",className:({isActive:i})=>ke("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[f.jsx(v3,{size:16}),"Admin"]}),f.jsxs("div",{className:"mt-auto flex flex-col gap-1",children:[f.jsxs(wm,{to:"/profile",className:({isActive:i})=>ke("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[f.jsx(DT,{user:t,size:"xs"}),"Profile"]}),f.jsxs("button",{onClick:n,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-destructive hover:text-destructive-foreground",children:[f.jsx(CT,{size:16}),"Logout"]})]})]})}const tK=[{to:"/dashboard",label:"Home",icon:p3},{to:"/attendance",label:"Attend",icon:Sf},{to:"/exams",label:"Exams",icon:to},{to:"/tasks",label:"Tasks",icon:RT},{to:"/ptp",label:"Peers",icon:nf}];function rK(){return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-16 lg:hidden border-t border-border bg-card",children:tK.map(({to:t,label:e,icon:r})=>f.jsxs(wm,{to:t,className:({isActive:n})=>ke("flex flex-1 flex-col items-center justify-center gap-0.5 text-[10px] font-medium transition-colors",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[f.jsx(r,{size:19}),f.jsx("span",{children:e})]},t))})}function ys({archived:t=!1}={}){const{user:e}=zn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,l]=D.useState(null);D.useEffect(()=>e?Cr(rr(e.id,"subjects"),T=>{const E=T.docs.map(I=>({id:I.id,...I.data()})).filter(I=>t?I.archived===!0:I.archived!==!0).sort((I,N)=>(I.createdAt??"").localeCompare(N.createdAt??""));n(E),a(!1)},T=>{l(T.message),a(!1)}):void 0,[e,t]);const c=D.useCallback(async b=>{if(e)try{await Un(rr(e.id,"subjects"),{name:b,archived:!1,chapters:[],createdAt:new Date().toISOString()})}catch(T){l(T.message)}},[e]),d=D.useCallback(async(b,T)=>{if(e)try{await rt(nt(e.id,"subjects",b),T)}catch(E){l(E.message)}},[e]),p=D.useCallback(async b=>{await d(b,{archived:!0})},[d]),m=D.useCallback(async(b,T)=>{if(!e)return;const E=r.find(k=>k.id===b);if(!E)return;const I={id:crypto.randomUUID(),name:T.trim()},N=[...E.chapters??[],I];try{await rt(nt(e.id,"subjects",b),{chapters:N})}catch(k){l(k.message)}},[e,r]),y=D.useCallback(async(b,T,E)=>{if(!e)return;const I=r.find(k=>k.id===b);if(!I)return;const N=(I.chapters??[]).map(k=>k.id===T?{...k,name:E.trim()}:k);try{await rt(nt(e.id,"subjects",b),{chapters:N})}catch(k){l(k.message)}},[e,r]),x=D.useCallback(async(b,T)=>{if(!e)return;const E=r.find(N=>N.id===b);if(!E)return;const I=(E.chapters??[]).filter(N=>N.id!==T);try{await rt(nt(e.id,"subjects",b),{chapters:I})}catch(N){l(N.message)}},[e,r]),S=D.useCallback(async({name:b,chapters:T=[]})=>{if(e)try{await Un(rr(e.id,"subjects"),{name:b,archived:!1,chapters:T.map(E=>({id:crypto.randomUUID(),name:E.name})),createdAt:new Date().toISOString()})}catch(E){l(E.message)}},[e]),w=D.useCallback(()=>{},[]);return{subjects:r,loading:i,error:o,refresh:w,create:c,update:d,archive:p,addChapter:m,updateChapter:y,deleteChapter:x,importSubject:S}}function nK(t){const e=t.theoryDone??(typeof t.theoryProgress=="number"?t.theoryProgress>=100:!1),r=t.practiceCount??(typeof t.practiceProgress=="number"&&t.practiceProgress>0?1:0);return{...t,theoryDone:e,practiceCount:r}}function iK(t){const e=(t.subjects??[]).map(r=>{const n=(r.chapters??[]).map(nK),i=n.length,a=i===0?0:Math.round(n.filter(d=>d.theoryDone).length/i*100),o=i===0?0:Math.round(n.filter(d=>(d.practiceCount??0)>0).length/i*100),l=Math.round((a+o)/2),c=i>0&&a===100&&o===100;return{...r,chapters:n,theoryProgress:a,practiceProgress:o,overallProgress:l,allDone:c}});return{...t,subjects:e}}const cx={async create(t,{name:e,examDate:r}){return(await Un(rr(t,"exams"),{name:e,examDate:r??null,archived:!1,subjects:[],createdAt:new Date().toISOString()})).id},async update(t,e,r){await rt(nt(t,"exams",e),r)},async archive(t,e){await rt(nt(t,"exams",e),{archived:!0})}};function LT(){const{user:t}=zn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>{if(t)return Cr(rr(t.id,"exams"),E=>{const I=E.docs.map(N=>iK({id:N.id,...N.data()})).filter(N=>N.archived!==!0).sort((N,k)=>(N.createdAt??"").localeCompare(k.createdAt??""));r(I),i(!1)},E=>{o(E.message),i(!1)})},[t]);const l=D.useCallback(async({name:E,examDate:I})=>{if(t)try{await cx.create(t.id,{name:E,examDate:I})}catch(N){o(N.message)}},[t]),c=D.useCallback(async(E,I)=>{if(t)try{await cx.update(t.id,E,I)}catch(N){o(N.message)}},[t]),d=D.useCallback(async E=>{if(t)try{await cx.archive(t.id,E)}catch(I){o(I.message)}},[t]),p=D.useCallback(async(E,I,N=[])=>{if(t)try{const k=e.find(C=>C.id===E);if(!k)return;if(k.subjects.find(C=>C.subjectId===I))throw new Error("Subject already added.");const O=N.map(C=>({id:C.id,name:C.name,theoryProgress:0,practiceProgress:0,weightage:1})),P=[...k.subjects,{subjectId:I,chapters:O,dueDate:null}];await rt(nt(t.id,"exams",E),{subjects:P})}catch(k){o(k.message)}},[t,e]),m=D.useCallback(async(E,I)=>{if(t)try{const N=e.find(O=>O.id===E);if(!N)return;const k=N.subjects.filter(O=>O.subjectId!==I);await rt(nt(t.id,"exams",E),{subjects:k})}catch(N){o(N.message)}},[t,e]),y=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(C=>C.id===E);if(!k)return;const O={id:crypto.randomUUID(),name:N.name,theoryProgress:N.theoryProgress??0,practiceProgress:N.practiceProgress??0,weightage:N.weightage??1},P=k.subjects.map(C=>C.subjectId===I?{...C,chapters:[...C.chapters,O]}:C);await rt(nt(t.id,"exams",E),{subjects:P})}catch(k){o(k.message)}},[t,e]),x=D.useCallback(async(E,I,N,k)=>{if(t)try{const O=e.find(C=>C.id===E);if(!O)return;const P=O.subjects.map(C=>C.subjectId===I?{...C,chapters:C.chapters.map(R=>R.id===N?{...R,...k}:R)}:C);await rt(nt(t.id,"exams",E),{subjects:P})}catch(O){o(O.message)}},[t,e]),S=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(P=>P.id===E);if(!k)return;const O=k.subjects.map(P=>P.subjectId===I?{...P,chapters:P.chapters.filter(C=>C.id!==N)}:P);await rt(nt(t.id,"exams",E),{subjects:O})}catch(k){o(k.message)}},[t,e]),w=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(R=>R.id===E);if(!k)return;const O=k.subjects.findIndex(R=>R.subjectId===I);if(O<0)return;const P=N==="up"?O-1:O+1;if(P<0||P>=k.subjects.length)return;const C=[...k.subjects];[C[O],C[P]]=[C[P],C[O]],await rt(nt(t.id,"exams",E),{subjects:C})}catch(k){o(k.message)}},[t,e]),b=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(P=>P.id===E);if(!k)return;const O=k.subjects.map(P=>P.subjectId===I?{...P,dueDate:N||null}:P);await rt(nt(t.id,"exams",E),{subjects:O})}catch(k){o(k.message)}},[t,e]),T=D.useCallback(async(E,I,N)=>{if(t)try{const k=e.find(P=>P.id===E);if(!k)return;const O=k.subjects.map(P=>P.subjectId===I?{...P,notes:N}:P);await rt(nt(t.id,"exams",E),{subjects:O})}catch(k){o(k.message)}},[t,e]);return{exams:e,loading:n,error:a,create:l,update:c,archive:d,addSubject:p,removeSubject:m,moveSubject:w,setSubjectDueDate:b,setSubjectNotes:T,addChapter:y,updateChapter:x,deleteChapter:S}}function aK({open:t,onClose:e}){const[r,n]=D.useState(!1),[i,a]=D.useState(""),[o,l]=D.useState(""),[c,d]=D.useState(!1),[p,m]=D.useState(""),{logout:y}=di(),{create:x}=ys({archived:!1}),{create:S}=LT(),w=ga();async function b(k){if(k.preventDefault(),!!i.trim()){l("");try{await x(i.trim()),a(""),n(!1)}catch(O){l(O.message)}}}async function T(k){k.preventDefault(),p.trim()&&(await S({name:p.trim()}),m(""),d(!1))}function E(k){w(k),e()}function I(){n(k=>!k),d(!1),l("")}function N(){d(k=>!k),n(!1)}return f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:e}),f.jsxs("div",{className:`fixed top-0 left-0 z-50 h-full w-72 bg-card shadow-2xl transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-4",children:[f.jsx("h2",{className:"text-base font-bold tracking-tight",children:"Quick Actions"}),f.jsx("button",{onClick:e,className:"rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground",children:f.jsx(on,{size:18})})]}),f.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto p-4 h-[calc(100%-61px)]",children:[f.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[f.jsxs("button",{onClick:I,className:"flex w-full items-center gap-3",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Ef,{size:15,className:"text-primary"})}),f.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add Subject"}),f.jsx(dr,{size:15,className:`text-primary transition-transform duration-200 ${r?"rotate-45":""}`})]}),r&&f.jsxs("form",{onSubmit:b,className:"mt-3 flex flex-col gap-2",children:[f.jsx("input",{autoFocus:!0,value:i,onChange:k=>a(k.target.value),placeholder:"e.g. Mathematics",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),o&&f.jsx("p",{className:"text-xs text-destructive",children:o}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{n(!1),a("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[f.jsxs("button",{onClick:N,className:"flex w-full items-center gap-3",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(IT,{size:15,className:"text-primary"})}),f.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add New Exam"}),f.jsx(dr,{size:15,className:`text-primary transition-transform duration-200 ${c?"rotate-45":""}`})]}),c&&f.jsxs("form",{onSubmit:T,className:"mt-3 flex flex-col gap-2",children:[f.jsx("input",{autoFocus:!0,value:p,onChange:k=>m(k.target.value),placeholder:"e.g. Mid-term 2026",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{d(!1),m("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),f.jsx("div",{className:"my-1 border-t border-border"}),f.jsxs("button",{onClick:()=>E("/calendar"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(ua,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Task Calendar"})]}),f.jsxs("button",{onClick:()=>E("/subjects"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Ef,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Subjects"})]}),f.jsxs("button",{onClick:()=>E("/timetable"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Th,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Schedule / Timetable"})]}),f.jsx("div",{className:"flex-1"}),f.jsxs("button",{onClick:()=>E("/profile"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Nm,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Profile & Settings"})]}),f.jsxs("button",{onClick:async()=>{await y(),e()},className:"flex w-full items-center gap-3 rounded-xl border border-destructive/20 bg-destructive/5 p-3 hover:bg-destructive/10 transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-destructive/10",children:f.jsx(CT,{size:15,className:"text-destructive"})}),f.jsx("span",{className:"text-sm font-medium text-destructive",children:"Log Out"})]})]})]})]})}function oK(){const{user:t}=di(),[e,r]=D.useState(!1);return f.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[f.jsx(eK,{}),f.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[f.jsxs("header",{className:"flex lg:hidden shrink-0 items-center justify-between border-b border-border bg-card px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>r(!0),className:"-ml-1 rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Open quick actions",children:f.jsx(rG,{size:20})}),f.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Sarasva"})]}),f.jsx(Vn,{to:"/profile",title:"Profile",children:f.jsx(DT,{user:t,size:"sm"})})]}),f.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-20 lg:p-6 lg:pb-6",children:f.jsx(T4,{})})]}),f.jsx(rK,{}),f.jsx(aK,{open:e,onClose:()=>r(!1)})]})}function sK(){const{user:t}=di();return t?f.jsx(T4,{}):f.jsx(E1,{to:"/login",replace:!0})}function lK(){var I;const{login:t,loginWithGoogle:e,user:r}=di(),n=ga(),i=Tl(),[a,o]=D.useState({email:"",password:""}),[l,c]=D.useState(""),[d,p]=D.useState(""),[m,y]=D.useState(!1),[x,S]=D.useState(!1);if(r)return n(((I=i.state)==null?void 0:I.from)||"/dashboard",{replace:!0}),null;function w(N){o(k=>({...k,[N.target.name]:N.target.value}))}async function b(N){var k;N.preventDefault(),c(""),p(""),y(!0);try{await t(a.email,a.password),n(((k=i.state)==null?void 0:k.from)||"/dashboard",{replace:!0})}catch(O){c(O.message||"Login failed. Please try again.")}finally{y(!1)}}async function T(){var N;c(""),p(""),S(!0);try{await e(),n(((N=i.state)==null?void 0:N.from)||"/dashboard",{replace:!0})}catch(k){k.code!=="auth/popup-closed-by-user"&&c(k.message||"Google sign-in failed. Please try again.")}finally{S(!1)}}async function E(){if(!a.email){c("Please enter your email address to reset your password.");return}c(""),p("");try{await xn.resetPassword(a.email),p("Password reset email sent. Please check your inbox.")}catch(N){c(N.message||"Failed to send reset email.")}}return f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:f.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Sign in to your account"})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[l&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:l}),d&&f.jsx("div",{className:"rounded-md bg-green-500/10 px-3 py-2 text-sm text-green-600",children:d}),f.jsxs("button",{type:"button",onClick:T,disabled:x||m,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),f.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),f.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),f.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),x?"Signing in...":"Continue with Google"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-border"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-border"})]}),f.jsxs("form",{onSubmit:b,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:w,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx("button",{type:"button",onClick:E,className:"text-xs text-muted-foreground hover:text-primary hover:underline",children:"Forgot password?"})]}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:w,placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),f.jsx("button",{type:"submit",disabled:m||x,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:m?"Signing in...":"Sign in"})]})]}),f.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",f.jsx(Vn,{to:"/register",className:"font-medium text-primary underline underline-offset-4",children:"Sign up"})]})]})})}function uK(){const{register:t,loginWithGoogle:e}=di(),r=ga(),[n,i]=D.useState({name:"",email:"",password:"",course:"",semester:""}),[a,o]=D.useState(""),[l,c]=D.useState(!1),[d,p]=D.useState(!1);function m(S){i(w=>({...w,[S.target.name]:S.target.value}))}async function y(S){if(S.preventDefault(),o(""),n.password.length<8){o("Password must be at least 8 characters.");return}c(!0);try{await t(n),r("/dashboard",{replace:!0})}catch(w){o(w.message||"Registration failed. Please try again.")}finally{c(!1)}}async function x(){o(""),p(!0);try{await e(),r("/dashboard",{replace:!0})}catch(S){S.code!=="auth/popup-closed-by-user"&&o(S.message||"Google sign-in failed. Please try again.")}finally{p(!1)}}return f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:f.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create your account"})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[a&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:a}),f.jsxs("button",{type:"button",onClick:x,disabled:d||l,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),f.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),f.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),f.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),d?"Signing in...":"Continue with Google"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-border"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-border"})]}),f.jsxs("form",{onSubmit:y,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Full name"}),f.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:m,placeholder:"Arjun Sharma",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:m,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:m,placeholder:"Min. 8 characters",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{htmlFor:"course",className:"text-sm font-medium",children:["Course ",f.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),f.jsx("input",{id:"course",name:"course",type:"text",value:n.course,onChange:m,placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{htmlFor:"semester",className:"text-sm font-medium",children:["Semester ",f.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),f.jsx("input",{id:"semester",name:"semester",type:"text",value:n.semester,onChange:m,placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]})]}),f.jsx("button",{type:"submit",disabled:l||d,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:l?"Creating account...":"Create account"})]})]}),f.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",f.jsx(Vn,{to:"/login",className:"font-medium text-primary underline underline-offset-4",children:"Sign in"})]})]})})}var dx,ZI;function Pn(){if(ZI)return dx;ZI=1;var t=Array.isArray;return dx=t,dx}var fx,eC;function P3(){if(eC)return fx;eC=1;var t=typeof Qp=="object"&&Qp&&Qp.Object===Object&&Qp;return fx=t,fx}var hx,tC;function ya(){if(tC)return hx;tC=1;var t=P3(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return hx=r,hx}var px,rC;function Ah(){if(rC)return px;rC=1;var t=ya(),e=t.Symbol;return px=e,px}var mx,nC;function cK(){if(nC)return mx;nC=1;var t=Ah(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var p=n.call(o);return d&&(l?o[i]=c:delete o[i]),p}return mx=a,mx}var gx,iC;function dK(){if(iC)return gx;iC=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return gx=r,gx}var yx,aC;function co(){if(aC)return yx;aC=1;var t=Ah(),e=cK(),r=dK(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return yx=o,yx}var vx,oC;function fo(){if(oC)return vx;oC=1;function t(e){return e!=null&&typeof e=="object"}return vx=t,vx}var bx,sC;function Mc(){if(sC)return bx;sC=1;var t=co(),e=fo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return bx=n,bx}var xx,lC;function $T(){if(lC)return xx;lC=1;var t=Pn(),e=Mc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return xx=i,xx}var wx,uC;function vs(){if(uC)return wx;uC=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return wx=t,wx}var _x,cC;function VT(){if(cC)return _x;cC=1;var t=co(),e=vs(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==a}return _x=o,_x}var Sx,dC;function fK(){if(dC)return Sx;dC=1;var t=ya(),e=t["__core-js_shared__"];return Sx=e,Sx}var Ex,fC;function hK(){if(fC)return Ex;fC=1;var t=fK(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Ex=r,Ex}var Tx,hC;function j3(){if(hC)return Tx;hC=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Tx=r,Tx}var Ax,pC;function pK(){if(pC)return Ax;pC=1;var t=VT(),e=hK(),r=vs(),n=j3(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,p=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return Ax=m,Ax}var Px,mC;function mK(){if(mC)return Px;mC=1;function t(e,r){return e==null?void 0:e[r]}return Px=t,Px}var jx,gC;function Cl(){if(gC)return jx;gC=1;var t=pK(),e=mK();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return jx=r,jx}var kx,yC;function Cy(){if(yC)return kx;yC=1;var t=Cl(),e=t(Object,"create");return kx=e,kx}var Ix,vC;function gK(){if(vC)return Ix;vC=1;var t=Cy();function e(){this.__data__=t?t(null):{},this.size=0}return Ix=e,Ix}var Cx,bC;function yK(){if(bC)return Cx;bC=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Cx=t,Cx}var Nx,xC;function vK(){if(xC)return Nx;xC=1;var t=Cy(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return Nx=i,Nx}var Ox,wC;function bK(){if(wC)return Ox;wC=1;var t=Cy(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Ox=n,Ox}var Rx,_C;function xK(){if(_C)return Rx;_C=1;var t=Cy(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Rx=r,Rx}var Mx,SC;function wK(){if(SC)return Mx;SC=1;var t=gK(),e=yK(),r=vK(),n=bK(),i=xK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Mx=a,Mx}var Dx,EC;function _K(){if(EC)return Dx;EC=1;function t(){this.__data__=[],this.size=0}return Dx=t,Dx}var Lx,TC;function FT(){if(TC)return Lx;TC=1;function t(e,r){return e===r||e!==e&&r!==r}return Lx=t,Lx}var $x,AC;function Ny(){if(AC)return $x;AC=1;var t=FT();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return $x=e,$x}var Vx,PC;function SK(){if(PC)return Vx;PC=1;var t=Ny(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return Vx=n,Vx}var Fx,jC;function EK(){if(jC)return Fx;jC=1;var t=Ny();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Fx=e,Fx}var Ux,kC;function TK(){if(kC)return Ux;kC=1;var t=Ny();function e(r){return t(this.__data__,r)>-1}return Ux=e,Ux}var zx,IC;function AK(){if(IC)return zx;IC=1;var t=Ny();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return zx=e,zx}var Bx,CC;function Oy(){if(CC)return Bx;CC=1;var t=_K(),e=SK(),r=EK(),n=TK(),i=AK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Bx=a,Bx}var qx,NC;function UT(){if(NC)return qx;NC=1;var t=Cl(),e=ya(),r=t(e,"Map");return qx=r,qx}var Wx,OC;function PK(){if(OC)return Wx;OC=1;var t=wK(),e=Oy(),r=UT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Wx=n,Wx}var Hx,RC;function jK(){if(RC)return Hx;RC=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Hx=t,Hx}var Gx,MC;function Ry(){if(MC)return Gx;MC=1;var t=jK();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Gx=e,Gx}var Kx,DC;function kK(){if(DC)return Kx;DC=1;var t=Ry();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Kx=e,Kx}var Xx,LC;function IK(){if(LC)return Xx;LC=1;var t=Ry();function e(r){return t(this,r).get(r)}return Xx=e,Xx}var Yx,$C;function CK(){if($C)return Yx;$C=1;var t=Ry();function e(r){return t(this,r).has(r)}return Yx=e,Yx}var Qx,VC;function NK(){if(VC)return Qx;VC=1;var t=Ry();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Qx=e,Qx}var Jx,FC;function zT(){if(FC)return Jx;FC=1;var t=PK(),e=kK(),r=IK(),n=CK(),i=NK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Jx=a,Jx}var Zx,UC;function k3(){if(UC)return Zx;UC=1;var t=zT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,Zx=r,Zx}var e0,zC;function OK(){if(zC)return e0;zC=1;var t=k3(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return e0=r,e0}var t0,BC;function RK(){if(BC)return t0;BC=1;var t=OK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,d){a.push(c?d.replace(r,"$1"):l||o)}),a});return t0=n,t0}var r0,qC;function BT(){if(qC)return r0;qC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return r0=t,r0}var n0,WC;function MK(){if(WC)return n0;WC=1;var t=Ah(),e=BT(),r=Pn(),n=Mc(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return n0=o,n0}var i0,HC;function I3(){if(HC)return i0;HC=1;var t=MK();function e(r){return r==null?"":t(r)}return i0=e,i0}var a0,GC;function C3(){if(GC)return a0;GC=1;var t=Pn(),e=$T(),r=RK(),n=I3();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return a0=i,a0}var o0,KC;function My(){if(KC)return o0;KC=1;var t=Mc();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return o0=e,o0}var s0,XC;function qT(){if(XC)return s0;XC=1;var t=C3(),e=My();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return s0=r,s0}var l0,YC;function N3(){if(YC)return l0;YC=1;var t=qT();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return l0=e,l0}var DK=N3();const si=wt(DK);var u0,QC;function LK(){if(QC)return u0;QC=1;function t(e){return e==null}return u0=t,u0}var $K=LK();const pt=wt($K);var c0,JC;function VK(){if(JC)return c0;JC=1;var t=co(),e=Pn(),r=fo(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return c0=i,c0}var FK=VK();const xl=wt(FK);var UK=VT();const Qe=wt(UK);var zK=vs();const Dc=wt(zK);var d0={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function BK(){if(ZC)return yt;ZC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var T=b.$$typeof;switch(T){case t:switch(b=b.type,b){case r:case i:case n:case d:case p:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case c:case y:case m:case a:return b;default:return T}}case e:return T}}}return yt.ContextConsumer=o,yt.ContextProvider=a,yt.Element=t,yt.ForwardRef=c,yt.Fragment=r,yt.Lazy=y,yt.Memo=m,yt.Portal=e,yt.Profiler=i,yt.StrictMode=n,yt.Suspense=d,yt.SuspenseList=p,yt.isAsyncMode=function(){return!1},yt.isConcurrentMode=function(){return!1},yt.isContextConsumer=function(b){return w(b)===o},yt.isContextProvider=function(b){return w(b)===a},yt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yt.isForwardRef=function(b){return w(b)===c},yt.isFragment=function(b){return w(b)===r},yt.isLazy=function(b){return w(b)===y},yt.isMemo=function(b){return w(b)===m},yt.isPortal=function(b){return w(b)===e},yt.isProfiler=function(b){return w(b)===i},yt.isStrictMode=function(b){return w(b)===n},yt.isSuspense=function(b){return w(b)===d},yt.isSuspenseList=function(b){return w(b)===p},yt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===d||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===a||b.$$typeof===o||b.$$typeof===c||b.$$typeof===S||b.getModuleId!==void 0)},yt.typeOf=w,yt}var eN;function qK(){return eN||(eN=1,d0.exports=BK()),d0.exports}var WK=qK(),f0,tN;function O3(){if(tN)return f0;tN=1;var t=co(),e=fo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return f0=n,f0}var h0,rN;function HK(){if(rN)return h0;rN=1;var t=O3();function e(r){return t(r)&&r!=+r}return h0=e,h0}var GK=HK();const Ph=wt(GK);var KK=O3();const XK=wt(KK);var Sn=function(e){return e===0?0:e>0?1:-1},il=function(e){return xl(e)&&e.indexOf("%")===e.length-1},_e=function(e){return XK(e)&&!Ph(e)},YK=function(e){return pt(e)},wr=function(e){return _e(e)||xl(e)},QK=0,Dy=function(e){var r=++QK;return"".concat(e||"").concat(r)},Ri=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!xl(e))return n;var a;if(il(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ph(a)&&(a=n),i&&a>r&&(a=r),a},Ho=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},JK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},La=function(e,r){return _e(e)&&_e(r)?function(n){return e+n*(r-e)}:function(){return r}};function aS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):si(n,e))===r})}var ZK=function(e,r){return _e(e)&&_e(r)?e-r:xl(e)&&xl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function zu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function oS(t){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oS(t)}var eX=["viewBox","children"],tX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nN=["points","pathLength"],p0={svg:eX,polygon:nN,polyline:nN},WT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rg=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!Dc(n))return null;var i={};return Object.keys(n).forEach(function(a){WT.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},rX=function(e,r,n){return function(i){return e(r,n,i),null}},hs=function(e,r,n){if(!Dc(e)||oS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];WT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=rX(o,r,n))}),i},nX=["children"],iX=["children"];function iN(t,e){if(t==null)return{};var r=aX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ga=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oN=null,m0=null,HT=function t(e){if(e===oN&&Array.isArray(m0))return m0;var r=[];return D.Children.forEach(e,function(n){pt(n)||(WK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),m0=r,oN=e,r};function li(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ga(i)}):n=[Ga(e)],HT(t).forEach(function(i){var a=si(i,"type.displayName")||si(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ln(t,e){var r=li(t,e);return r&&r[0]}var sN=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!_e(n)||n<=0||!_e(i)||i<=0)},oX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sX=function(e){return e&&e.type&&xl(e.type)&&oX.indexOf(e.type)>=0},lX=function(e,r,n,i){var a,o=(a=p0==null?void 0:p0[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Qe(e)&&(i&&o.includes(r)||tX.includes(r))||n&&WT.includes(r)},Ge=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Dc(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;lX((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},sS=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!lN(a,o))return!1}return!0},lN=function(e,r){if(pt(e)&&pt(r))return!0;if(!pt(e)&&!pt(r)){var n=e.props||{},i=n.children,a=iN(n,nX),o=r.props||{},l=o.children,c=iN(o,iX);return i&&l?zu(a,c)&&sS(i,l):!i&&!l?zu(a,c):!1}return!1},uN=function(e,r){var n=[],i={};return HT(e).forEach(function(a,o){if(sX(a))n.push(a);else if(a){var l=Ga(a.type),c=r[l]||{},d=c.handler,p=c.once;if(d&&(!p||!i[l])){var m=d(a,l,o);n.push(m),i[l]=!0}}}),n},uX=function(e){var r=e&&e.type;return r&&aN[r]?aN[r]:null},cX=function(e,r){return HT(r).indexOf(e)},dX=["children","width","height","viewBox","className","style","title","desc"];function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lS.apply(this,arguments)}function fX(t,e){if(t==null)return{};var r=hX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uS(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,d=fX(t,dX),p=i||{width:r,height:n,x:0,y:0},m=et("recharts-surface",a);return G.createElement("svg",lS({},Ge(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,l),G.createElement("desc",null,c),e)}var pX=["children","className"];function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cS.apply(this,arguments)}function mX(t,e){if(t==null)return{};var r=gX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Et=G.forwardRef(function(t,e){var r=t.children,n=t.className,i=mX(t,pX),a=et("recharts-layer",n);return G.createElement("g",cS({className:a},Ge(i,!0),{ref:e}),r)}),Ka=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},g0,cN;function yX(){if(cN)return g0;cN=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return g0=t,g0}var y0,dN;function vX(){if(dN)return y0;dN=1;var t=yX();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return y0=e,y0}var v0,fN;function R3(){if(fN)return v0;fN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(d){return l.test(d)}return v0=c,v0}var b0,hN;function bX(){if(hN)return b0;hN=1;function t(e){return e.split("")}return b0=t,b0}var x0,pN;function xX(){if(pN)return x0;pN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=d+"?",w="["+a+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+w+S+")*",T=w+S+b,E="(?:"+[p+l+"?",l,m,y,o].join("|")+")",I=RegExp(c+"(?="+c+")|"+E+T,"g");function N(k){return k.match(I)||[]}return x0=N,x0}var w0,mN;function wX(){if(mN)return w0;mN=1;var t=bX(),e=R3(),r=xX();function n(i){return e(i)?r(i):t(i)}return w0=n,w0}var _0,gN;function _X(){if(gN)return _0;gN=1;var t=vX(),e=R3(),r=wX(),n=I3();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[a]()+d}}return _0=i,_0}var S0,yN;function SX(){if(yN)return S0;yN=1;var t=_X(),e=t("toUpperCase");return S0=e,S0}var EX=SX();const Ly=wt(EX);function It(t){return function(){return t}}const M3=Math.cos,ng=Math.sin,Ui=Math.sqrt,ig=Math.PI,$y=2*ig,dS=Math.PI,fS=2*dS,el=1e-6,TX=fS-el;function D3(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function AX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return D3;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class PX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?D3:AX(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,d=i-r,p=o-e,m=l-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>el)if(!(Math.abs(m*c-d*p)>el)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,S=i-l,w=c*c+d*d,b=x*x+S*S,T=Math.sqrt(w),E=Math.sqrt(y),I=a*Math.tan((dS-Math.acos((w+y-b)/(2*T*E)))/2),N=I/E,k=I/T;Math.abs(N-1)>el&&this._append`L${e+N*p},${r+N*m}`,this._append`A${a},${a},0,0,${+(m*x>p*S)},${this._x1=e+k*c},${this._y1=r+k*d}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,p=r+c,m=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>el||Math.abs(this._y1-p)>el)&&this._append`L${d},${p}`,n&&(y<0&&(y=y%fS+fS),y>TX?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=p}`:y>el&&this._append`A${n},${n},0,${+(y>=dS)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function GT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new PX(e)}function KT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L3(t){this._context=t}L3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vy(t){return new L3(t)}function $3(t){return t[0]}function V3(t){return t[1]}function F3(t,e){var r=It(!0),n=null,i=Vy,a=null,o=GT(l);t=typeof t=="function"?t:t===void 0?$3:It(t),e=typeof e=="function"?e:e===void 0?V3:It(e);function l(c){var d,p=(c=KT(c)).length,m,y=!1,x;for(n==null&&(a=i(x=o())),d=0;d<=p;++d)!(d<p&&r(m=c[d],d,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,d,c),+e(m,d,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:It(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:It(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:It(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function am(t,e,r){var n=null,i=It(!0),a=null,o=Vy,l=null,c=GT(d);t=typeof t=="function"?t:t===void 0?$3:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?V3:It(+r);function d(m){var y,x,S,w=(m=KT(m)).length,b,T=!1,E,I=new Array(w),N=new Array(w);for(a==null&&(l=o(E=c())),y=0;y<=w;++y){if(!(y<w&&i(b=m[y],y,m))===T)if(T=!T)x=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=x;--S)l.point(I[S],N[S]);l.lineEnd(),l.areaEnd()}T&&(I[y]=+t(b,y,m),N[y]=+e(b,y,m),l.point(n?+n(b,y,m):I[y],r?+r(b,y,m):N[y]))}if(E)return l=null,E+""||null}function p(){return F3().defined(i).curve(o).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),d):r},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(r)},d.lineX1=function(){return p().x(n).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:It(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,a!=null&&(l=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=l=null:l=o(a=m),d):a},d}class U3{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function jX(t){return new U3(t,!0)}function kX(t){return new U3(t,!1)}const XT={draw(t,e){const r=Ui(e/ig);t.moveTo(r,0),t.arc(0,0,r,0,$y)}},IX={draw(t,e){const r=Ui(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},z3=Ui(1/3),CX=z3*2,NX={draw(t,e){const r=Ui(e/CX),n=r*z3;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},OX={draw(t,e){const r=Ui(e),n=-r/2;t.rect(n,n,r,r)}},RX=.8908130915292852,B3=ng(ig/10)/ng(7*ig/10),MX=ng($y/10)*B3,DX=-M3($y/10)*B3,LX={draw(t,e){const r=Ui(e*RX),n=MX*r,i=DX*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=$y*a/5,l=M3(o),c=ng(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},E0=Ui(3),$X={draw(t,e){const r=-Ui(e/(E0*3));t.moveTo(0,r*2),t.lineTo(-E0*r,-r),t.lineTo(E0*r,-r),t.closePath()}},ti=-.5,ri=Ui(3)/2,hS=1/Ui(12),VX=(hS/2+1)*3,FX={draw(t,e){const r=Ui(e/VX),n=r/2,i=r*hS,a=n,o=r*hS+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(ti*n-ri*i,ri*n+ti*i),t.lineTo(ti*a-ri*o,ri*a+ti*o),t.lineTo(ti*l-ri*c,ri*l+ti*c),t.lineTo(ti*n+ri*i,ti*i-ri*n),t.lineTo(ti*a+ri*o,ti*o-ri*a),t.lineTo(ti*l+ri*c,ti*c-ri*l),t.closePath()}};function UX(t,e){let r=null,n=GT(i);t=typeof t=="function"?t:It(t||XT),e=typeof e=="function"?e:It(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:It(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:It(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function ag(){}function og(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function q3(t){this._context=t}q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:og(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zX(t){return new q3(t)}function W3(t){this._context=t}W3.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BX(t){return new W3(t)}function H3(t){this._context=t}H3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qX(t){return new H3(t)}function G3(t){this._context=t}G3.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function WX(t){return new G3(t)}function vN(t){return t<0?-1:1}function bN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(vN(a)+vN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function xN(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function T0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function sg(t){this._context=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T0(this,this._t0,xN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,T0(this,xN(this,r=bN(this,t,e)),r);break;default:T0(this,this._t0,r=bN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function K3(t){this._context=new X3(t)}(K3.prototype=Object.create(sg.prototype)).point=function(t,e){sg.prototype.point.call(this,e,t)};function X3(t){this._context=t}X3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function HX(t){return new sg(t)}function GX(t){return new K3(t)}function Y3(t){this._context=t}Y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=wN(t),i=wN(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wN(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function KX(t){return new Y3(t)}function Fy(t,e){this._context=t,this._t=e}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function XX(t){return new Fy(t,.5)}function YX(t){return new Fy(t,0)}function QX(t){return new Fy(t,1)}function tc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function pS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function JX(t,e){return t[e]}function ZX(t){const e=[];return e.key=t,e}function eY(){var t=It([]),e=pS,r=tc,n=JX;function i(a){var o=Array.from(t.apply(this,arguments),ZX),l,c=o.length,d=-1,p;for(const m of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,a)]).data=m;for(l=0,p=KT(e(o));l<c;++l)o[p[l]].index=l;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:It(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:It(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?pS:typeof a=="function"?a:It(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??tc,i):r},i}function tY(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}tc(t,e)}}function rY(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}tc(t,e)}}function nY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var p=t[e[l]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,S=0;S<l;++S){var w=t[e[S]],b=w[n][1]||0,T=w[n-1][1]||0;x+=b-T}c+=m,d+=x*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,tc(t,e)}}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var iY=["type","size","sizeType"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mS.apply(this,arguments)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){aY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aY(t,e,r){return e=oY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oY(t){var e=sY(t,"string");return Af(e)=="symbol"?e:e+""}function sY(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lY(t,e){if(t==null)return{};var r=uY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Q3={symbolCircle:XT,symbolCross:IX,symbolDiamond:NX,symbolSquare:OX,symbolStar:LX,symbolTriangle:$X,symbolWye:FX},cY=Math.PI/180,dY=function(e){var r="symbol".concat(Ly(e));return Q3[r]||XT},fY=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*cY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hY=function(e,r){Q3["symbol".concat(Ly(e))]=r},YT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=lY(e,iY),d=SN(SN({},c),{},{type:n,size:a,sizeType:l}),p=function(){var b=dY(n),T=UX().type(b).size(fY(a,l,n));return T()},m=d.className,y=d.cx,x=d.cy,S=Ge(d,!0);return y===+y&&x===+x&&a===+a?G.createElement("path",mS({},S,{className:et("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};YT.registerSymbol=hY;function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(this,arguments)}function EN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(r),!0).forEach(function(n){Pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z3(n.key),n)}}function yY(t,e,r){return e&&gY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vY(t,e,r){return e=lg(e),bY(t,J3()?Reflect.construct(e,r||[],lg(t).constructor):e.apply(t,r))}function bY(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(t)}function xY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J3=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(t)}function wY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yS(t,e)}function Pf(t,e,r){return e=Z3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z3(t){var e=_Y(t,"string");return rc(e)=="symbol"?e:e+""}function _Y(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=32,QT=(function(t){function e(){return mY(this,e),vY(this,e,arguments)}return wY(e,t),yY(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ni/2,o=ni/6,l=ni/3,c=n.inactive?i:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ni,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ni,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var d=pY({},n);return delete d.legendIcon,G.cloneElement(n.legendIcon,d)}return G.createElement(YT,{fill:c,cx:a,cy:a,size:ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,p={x:0,y:0,width:ni,height:ni},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,S){var w=x.formatter||c,b=et(Pf(Pf({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var T=Qe(x.value)?null:x.value;Ka(!Qe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=x.inactive?d:x.color;return G.createElement("li",gS({className:b,style:m,key:"legend-item-".concat(S)},hs(n.props,x,S)),G.createElement(uS,{width:o,height:o,viewBox:p,style:y},n.renderIcon(x)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(T,x,S):T))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(D.PureComponent);Pf(QT,"displayName","Legend");Pf(QT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var A0,TN;function SY(){if(TN)return A0;TN=1;var t=Oy();function e(){this.__data__=new t,this.size=0}return A0=e,A0}var P0,AN;function EY(){if(AN)return P0;AN=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return P0=t,P0}var j0,PN;function TY(){if(PN)return j0;PN=1;function t(e){return this.__data__.get(e)}return j0=t,j0}var k0,jN;function AY(){if(jN)return k0;jN=1;function t(e){return this.__data__.has(e)}return k0=t,k0}var I0,kN;function PY(){if(kN)return I0;kN=1;var t=Oy(),e=UT(),r=zT(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return I0=i,I0}var C0,IN;function e$(){if(IN)return C0;IN=1;var t=Oy(),e=SY(),r=EY(),n=TY(),i=AY(),a=PY();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,C0=o,C0}var N0,CN;function jY(){if(CN)return N0;CN=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return N0=e,N0}var O0,NN;function kY(){if(NN)return O0;NN=1;function t(e){return this.__data__.has(e)}return O0=t,O0}var R0,ON;function t$(){if(ON)return R0;ON=1;var t=zT(),e=jY(),r=kY();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,R0=n,R0}var M0,RN;function r$(){if(RN)return M0;RN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return M0=t,M0}var D0,MN;function n$(){if(MN)return D0;MN=1;function t(e,r){return e.has(r)}return D0=t,D0}var L0,DN;function i$(){if(DN)return L0;DN=1;var t=t$(),e=r$(),r=n$(),n=1,i=2;function a(o,l,c,d,p,m){var y=c&n,x=o.length,S=l.length;if(x!=S&&!(y&&S>x))return!1;var w=m.get(o),b=m.get(l);if(w&&b)return w==l&&b==o;var T=-1,E=!0,I=c&i?new t:void 0;for(m.set(o,l),m.set(l,o);++T<x;){var N=o[T],k=l[T];if(d)var O=y?d(k,N,T,l,o,m):d(N,k,T,o,l,m);if(O!==void 0){if(O)continue;E=!1;break}if(I){if(!e(l,function(P,C){if(!r(I,C)&&(N===P||p(N,P,c,d,m)))return I.push(C)})){E=!1;break}}else if(!(N===k||p(N,k,c,d,m))){E=!1;break}}return m.delete(o),m.delete(l),E}return L0=a,L0}var $0,LN;function IY(){if(LN)return $0;LN=1;var t=ya(),e=t.Uint8Array;return $0=e,$0}var V0,$N;function CY(){if($N)return V0;$N=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return V0=t,V0}var F0,VN;function JT(){if(VN)return F0;VN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return F0=t,F0}var U0,FN;function NY(){if(FN)return U0;FN=1;var t=Ah(),e=IY(),r=FT(),n=i$(),i=CY(),a=JT(),o=1,l=2,c="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",w="[object String]",b="[object Symbol]",T="[object ArrayBuffer]",E="[object DataView]",I=t?t.prototype:void 0,N=I?I.valueOf:void 0;function k(O,P,C,R,F,L,$){switch(C){case E:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case T:return!(O.byteLength!=P.byteLength||!L(new e(O),new e(P)));case c:case d:case y:return r(+O,+P);case p:return O.name==P.name&&O.message==P.message;case x:case w:return O==P+"";case m:var V=i;case S:var q=R&o;if(V||(V=a),O.size!=P.size&&!q)return!1;var X=$.get(O);if(X)return X==P;R|=l,$.set(O,P);var te=n(V(O),V(P),R,F,L,$);return $.delete(O),te;case b:if(N)return N.call(O)==N.call(P)}return!1}return U0=k,U0}var z0,UN;function a$(){if(UN)return z0;UN=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return z0=t,z0}var B0,zN;function OY(){if(zN)return B0;zN=1;var t=a$(),e=Pn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return B0=r,B0}var q0,BN;function RY(){if(BN)return q0;BN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return q0=t,q0}var W0,qN;function MY(){if(qN)return W0;qN=1;function t(){return[]}return W0=t,W0}var H0,WN;function DY(){if(WN)return H0;WN=1;var t=RY(),e=MY(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return H0=a,H0}var G0,HN;function LY(){if(HN)return G0;HN=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return G0=t,G0}var K0,GN;function $Y(){if(GN)return K0;GN=1;var t=co(),e=fo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return K0=n,K0}var X0,KN;function ZT(){if(KN)return X0;KN=1;var t=$Y(),e=fo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return X0=a,X0}var Kd={exports:{}},Y0,XN;function VY(){if(XN)return Y0;XN=1;function t(){return!1}return Y0=t,Y0}Kd.exports;var YN;function o$(){return YN||(YN=1,(function(t,e){var r=ya(),n=VY(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Kd,Kd.exports)),Kd.exports}var Q0,QN;function eA(){if(QN)return Q0;QN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Q0=r,Q0}var J0,JN;function tA(){if(JN)return J0;JN=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return J0=e,J0}var Z0,ZN;function FY(){if(ZN)return Z0;ZN=1;var t=co(),e=tA(),r=fo(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",T="[object DataView]",E="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",L={};L[E]=L[I]=L[N]=L[k]=L[O]=L[P]=L[C]=L[R]=L[F]=!0,L[n]=L[i]=L[b]=L[a]=L[T]=L[o]=L[l]=L[c]=L[d]=L[p]=L[m]=L[y]=L[x]=L[S]=L[w]=!1;function $(V){return r(V)&&e(V.length)&&!!L[t(V)]}return Z0=$,Z0}var ew,eO;function s$(){if(eO)return ew;eO=1;function t(e){return function(r){return e(r)}}return ew=t,ew}var Xd={exports:{}};Xd.exports;var tO;function UY(){return tO||(tO=1,(function(t,e){var r=P3(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Xd,Xd.exports)),Xd.exports}var tw,rO;function l$(){if(rO)return tw;rO=1;var t=FY(),e=s$(),r=UY(),n=r&&r.isTypedArray,i=n?e(n):t;return tw=i,tw}var rw,nO;function zY(){if(nO)return rw;nO=1;var t=LY(),e=ZT(),r=Pn(),n=o$(),i=eA(),a=l$(),o=Object.prototype,l=o.hasOwnProperty;function c(d,p){var m=r(d),y=!m&&e(d),x=!m&&!y&&n(d),S=!m&&!y&&!x&&a(d),w=m||y||x||S,b=w?t(d.length,String):[],T=b.length;for(var E in d)(p||l.call(d,E))&&!(w&&(E=="length"||x&&(E=="offset"||E=="parent")||S&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,T)))&&b.push(E);return b}return rw=c,rw}var nw,iO;function BY(){if(iO)return nw;iO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return nw=e,nw}var iw,aO;function u$(){if(aO)return iw;aO=1;function t(e,r){return function(n){return e(r(n))}}return iw=t,iw}var aw,oO;function qY(){if(oO)return aw;oO=1;var t=u$(),e=t(Object.keys,Object);return aw=e,aw}var ow,sO;function WY(){if(sO)return ow;sO=1;var t=BY(),e=qY(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return ow=i,ow}var sw,lO;function jh(){if(lO)return sw;lO=1;var t=VT(),e=tA();function r(n){return n!=null&&e(n.length)&&!t(n)}return sw=r,sw}var lw,uO;function Uy(){if(uO)return lw;uO=1;var t=zY(),e=WY(),r=jh();function n(i){return r(i)?t(i):e(i)}return lw=n,lw}var uw,cO;function HY(){if(cO)return uw;cO=1;var t=OY(),e=DY(),r=Uy();function n(i){return t(i,r,e)}return uw=n,uw}var cw,dO;function GY(){if(dO)return cw;dO=1;var t=HY(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,c,d,p){var m=l&e,y=t(a),x=y.length,S=t(o),w=S.length;if(x!=w&&!m)return!1;for(var b=x;b--;){var T=y[b];if(!(m?T in o:n.call(o,T)))return!1}var E=p.get(a),I=p.get(o);if(E&&I)return E==o&&I==a;var N=!0;p.set(a,o),p.set(o,a);for(var k=m;++b<x;){T=y[b];var O=a[T],P=o[T];if(c)var C=m?c(P,O,T,o,a,p):c(O,P,T,a,o,p);if(!(C===void 0?O===P||d(O,P,l,c,p):C)){N=!1;break}k||(k=T=="constructor")}if(N&&!k){var R=a.constructor,F=o.constructor;R!=F&&"constructor"in a&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(N=!1)}return p.delete(a),p.delete(o),N}return cw=i,cw}var dw,fO;function KY(){if(fO)return dw;fO=1;var t=Cl(),e=ya(),r=t(e,"DataView");return dw=r,dw}var fw,hO;function XY(){if(hO)return fw;hO=1;var t=Cl(),e=ya(),r=t(e,"Promise");return fw=r,fw}var hw,pO;function c$(){if(pO)return hw;pO=1;var t=Cl(),e=ya(),r=t(e,"Set");return hw=r,hw}var pw,mO;function YY(){if(mO)return pw;mO=1;var t=Cl(),e=ya(),r=t(e,"WeakMap");return pw=r,pw}var mw,gO;function QY(){if(gO)return mw;gO=1;var t=KY(),e=UT(),r=XY(),n=c$(),i=YY(),a=co(),o=j3(),l="[object Map]",c="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=o(t),S=o(e),w=o(r),b=o(n),T=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=y||e&&E(new e)!=l||r&&E(r.resolve())!=d||n&&E(new n)!=p||i&&E(new i)!=m)&&(E=function(I){var N=a(I),k=N==c?I.constructor:void 0,O=k?o(k):"";if(O)switch(O){case x:return y;case S:return l;case w:return d;case b:return p;case T:return m}return N}),mw=E,mw}var gw,yO;function JY(){if(yO)return gw;yO=1;var t=e$(),e=i$(),r=NY(),n=GY(),i=QY(),a=Pn(),o=o$(),l=l$(),c=1,d="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(w,b,T,E,I,N){var k=a(w),O=a(b),P=k?p:i(w),C=O?p:i(b);P=P==d?m:P,C=C==d?m:C;var R=P==m,F=C==m,L=P==C;if(L&&o(w)){if(!o(b))return!1;k=!0,R=!1}if(L&&!R)return N||(N=new t),k||l(w)?e(w,b,T,E,I,N):r(w,b,P,T,E,I,N);if(!(T&c)){var $=R&&x.call(w,"__wrapped__"),V=F&&x.call(b,"__wrapped__");if($||V){var q=$?w.value():w,X=V?b.value():b;return N||(N=new t),I(q,X,T,E,N)}}return L?(N||(N=new t),n(w,b,T,E,I,N)):!1}return gw=S,gw}var yw,vO;function rA(){if(vO)return yw;vO=1;var t=JY(),e=fo();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return yw=r,yw}var vw,bO;function ZY(){if(bO)return vw;bO=1;var t=e$(),e=rA(),r=1,n=2;function i(a,o,l,c){var d=l.length,p=d,m=!c;if(a==null)return!p;for(a=Object(a);d--;){var y=l[d];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++d<p;){y=l[d];var x=y[0],S=a[x],w=y[1];if(m&&y[2]){if(S===void 0&&!(x in a))return!1}else{var b=new t;if(c)var T=c(S,w,x,a,o,b);if(!(T===void 0?e(w,S,r|n,c,b):T))return!1}}return!0}return vw=i,vw}var bw,xO;function d$(){if(xO)return bw;xO=1;var t=vs();function e(r){return r===r&&!t(r)}return bw=e,bw}var xw,wO;function eQ(){if(wO)return xw;wO=1;var t=d$(),e=Uy();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return xw=r,xw}var ww,_O;function f$(){if(_O)return ww;_O=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return ww=t,ww}var _w,SO;function tQ(){if(SO)return _w;SO=1;var t=ZY(),e=eQ(),r=f$();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return _w=n,_w}var Sw,EO;function rQ(){if(EO)return Sw;EO=1;function t(e,r){return e!=null&&r in Object(e)}return Sw=t,Sw}var Ew,TO;function nQ(){if(TO)return Ew;TO=1;var t=C3(),e=ZT(),r=Pn(),n=eA(),i=tA(),a=My();function o(l,c,d){c=t(c,l);for(var p=-1,m=c.length,y=!1;++p<m;){var x=a(c[p]);if(!(y=l!=null&&d(l,x)))break;l=l[x]}return y||++p!=m?y:(m=l==null?0:l.length,!!m&&i(m)&&n(x,m)&&(r(l)||e(l)))}return Ew=o,Ew}var Tw,AO;function iQ(){if(AO)return Tw;AO=1;var t=rQ(),e=nQ();function r(n,i){return n!=null&&e(n,i,t)}return Tw=r,Tw}var Aw,PO;function aQ(){if(PO)return Aw;PO=1;var t=rA(),e=N3(),r=iQ(),n=$T(),i=d$(),a=f$(),o=My(),l=1,c=2;function d(p,m){return n(p)&&i(m)?a(o(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,l|c)}}return Aw=d,Aw}var Pw,jO;function Lc(){if(jO)return Pw;jO=1;function t(e){return e}return Pw=t,Pw}var jw,kO;function oQ(){if(kO)return jw;kO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return jw=t,jw}var kw,IO;function sQ(){if(IO)return kw;IO=1;var t=qT();function e(r){return function(n){return t(n,r)}}return kw=e,kw}var Iw,CO;function lQ(){if(CO)return Iw;CO=1;var t=oQ(),e=sQ(),r=$T(),n=My();function i(a){return r(a)?t(n(a)):e(a)}return Iw=i,Iw}var Cw,NO;function va(){if(NO)return Cw;NO=1;var t=tQ(),e=aQ(),r=Lc(),n=Pn(),i=lQ();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return Cw=a,Cw}var Nw,OO;function h$(){if(OO)return Nw;OO=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return Nw=t,Nw}var Ow,RO;function uQ(){if(RO)return Ow;RO=1;function t(e){return e!==e}return Ow=t,Ow}var Rw,MO;function cQ(){if(MO)return Rw;MO=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Rw=t,Rw}var Mw,DO;function dQ(){if(DO)return Mw;DO=1;var t=h$(),e=uQ(),r=cQ();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return Mw=n,Mw}var Dw,LO;function fQ(){if(LO)return Dw;LO=1;var t=dQ();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Dw=e,Dw}var Lw,$O;function hQ(){if($O)return Lw;$O=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Lw=t,Lw}var $w,VO;function pQ(){if(VO)return $w;VO=1;function t(){}return $w=t,$w}var Vw,FO;function mQ(){if(FO)return Vw;FO=1;var t=c$(),e=pQ(),r=JT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Vw=i,Vw}var Fw,UO;function gQ(){if(UO)return Fw;UO=1;var t=t$(),e=fQ(),r=hQ(),n=n$(),i=mQ(),a=JT(),o=200;function l(c,d,p){var m=-1,y=e,x=c.length,S=!0,w=[],b=w;if(p)S=!1,y=r;else if(x>=o){var T=d?null:i(c);if(T)return a(T);S=!1,y=n,b=new t}else b=d?[]:w;e:for(;++m<x;){var E=c[m],I=d?d(E):E;if(E=p||E!==0?E:0,S&&I===I){for(var N=b.length;N--;)if(b[N]===I)continue e;d&&b.push(I),w.push(E)}else y(b,I,p)||(b!==w&&b.push(I),w.push(E))}return w}return Fw=l,Fw}var Uw,zO;function yQ(){if(zO)return Uw;zO=1;var t=va(),e=gQ();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Uw=r,Uw}var vQ=yQ();const BO=wt(vQ);function p$(t,e,r){return e===!0?BO(t,r):Qe(e)?BO(t,e):t}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}var bQ=["ref"];function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){zy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function wQ(t,e,r){return e&&WO(t.prototype,e),r&&WO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Q(t,e,r){return e=ug(e),SQ(t,m$()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function SQ(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vS(t,e)}function zy(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=AQ(t,"string");return nc(e)=="symbol"?e:e+""}function AQ(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PQ(t,e){if(t==null)return{};var r=jQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kQ(t){return t.value}function IQ(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=PQ(e,bQ);return G.createElement(QT,r)}var HO=1,Bu=(function(t){function e(){var r;xQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_Q(this,e,[].concat(i)),zy(r,"lastBoundingBox",{width:-1,height:-1}),r}return TQ(e,t),wQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HO||Math.abs(i.height-this.lastBoundingBox.height)>HO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ma({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,p=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((p||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ma(Ma({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,p=i.payload,m=Ma(Ma({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},IQ(a,Ma(Ma({},this.props),{},{payload:p$(p,d,kQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ma(Ma({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&_e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(D.PureComponent);zy(Bu,"displayName","Legend");zy(Bu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zw,GO;function CQ(){if(GO)return zw;GO=1;var t=Ah(),e=ZT(),r=Pn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return zw=i,zw}var Bw,KO;function y$(){if(KO)return Bw;KO=1;var t=a$(),e=CQ();function r(n,i,a,o,l){var c=-1,d=n.length;for(a||(a=e),l||(l=[]);++c<d;){var p=n[c];i>0&&a(p)?i>1?r(p,i-1,a,o,l):t(l,p):o||(l[l.length]=p)}return l}return Bw=r,Bw}var qw,XO;function NQ(){if(XO)return qw;XO=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[e?c:++a];if(n(o[d],d,o)===!1)break}return r}}return qw=t,qw}var Ww,YO;function OQ(){if(YO)return Ww;YO=1;var t=NQ(),e=t();return Ww=e,Ww}var Hw,QO;function v$(){if(QO)return Hw;QO=1;var t=OQ(),e=Uy();function r(n,i){return n&&t(n,i,e)}return Hw=r,Hw}var Gw,JO;function RQ(){if(JO)return Gw;JO=1;var t=jh();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return Gw=e,Gw}var Kw,ZO;function nA(){if(ZO)return Kw;ZO=1;var t=v$(),e=RQ(),r=e(t);return Kw=r,Kw}var Xw,e2;function b$(){if(e2)return Xw;e2=1;var t=nA(),e=jh();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++a]=i(l,c,d)}),o}return Xw=r,Xw}var Yw,t2;function MQ(){if(t2)return Yw;t2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Yw=t,Yw}var Qw,r2;function DQ(){if(r2)return Qw;r2=1;var t=Mc();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,p=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&p&&!d&&!m||a&&c&&p||!i&&p||!o)return 1;if(!a&&!l&&!m&&r<n||m&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!p)return-1}return 0}return Qw=e,Qw}var Jw,n2;function LQ(){if(n2)return Jw;n2=1;var t=DQ();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++a<c;){var p=t(o[a],l[a]);if(p){if(a>=d)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Jw=e,Jw}var Zw,i2;function $Q(){if(i2)return Zw;i2=1;var t=BT(),e=qT(),r=va(),n=b$(),i=MQ(),a=s$(),o=LQ(),l=Lc(),c=Pn();function d(p,m,y){m.length?m=t(m,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[l];var x=-1;m=t(m,a(r));var S=n(p,function(w,b,T){var E=t(m,function(I){return I(w)});return{criteria:E,index:++x,value:w}});return i(S,function(w,b){return o(w,b,y)})}return Zw=d,Zw}var e_,a2;function VQ(){if(a2)return e_;a2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return e_=t,e_}var t_,o2;function FQ(){if(o2)return t_;o2=1;var t=VQ(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var p=Array(i+1);++l<i;)p[l]=o[l];return p[i]=a(d),t(n,this,p)}}return t_=r,t_}var r_,s2;function UQ(){if(s2)return r_;s2=1;function t(e){return function(){return e}}return r_=t,r_}var n_,l2;function x$(){if(l2)return n_;l2=1;var t=Cl(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return n_=e,n_}var i_,u2;function zQ(){if(u2)return i_;u2=1;var t=UQ(),e=x$(),r=Lc(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return i_=n,i_}var a_,c2;function BQ(){if(c2)return a_;c2=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return a_=n,a_}var o_,d2;function qQ(){if(d2)return o_;d2=1;var t=zQ(),e=BQ(),r=e(t);return o_=r,o_}var s_,f2;function WQ(){if(f2)return s_;f2=1;var t=Lc(),e=FQ(),r=qQ();function n(i,a){return r(e(i,a,t),i+"")}return s_=n,s_}var l_,h2;function By(){if(h2)return l_;h2=1;var t=FT(),e=jh(),r=eA(),n=vs();function i(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return l_=i,l_}var u_,p2;function HQ(){if(p2)return u_;p2=1;var t=y$(),e=$Q(),r=WQ(),n=By(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return u_=i,u_}var GQ=HQ();const iA=wt(GQ);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bS.apply(this,arguments)}function KQ(t,e){return JQ(t)||QQ(t,e)||YQ(t,e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return m2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function JQ(t){if(Array.isArray(t))return t}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){ZQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZQ(t,e,r){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eJ(t){var e=tJ(t,"string");return jf(e)=="symbol"?e:e+""}function tJ(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rJ(t){return Array.isArray(t)&&wr(t[0])&&wr(t[1])?t.join(" ~ "):t}var nJ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,w=e.label,b=e.labelFormatter,T=e.accessibilityLayer,E=T===void 0?!1:T,I=function(){if(p&&p.length){var $={padding:0,margin:0},V=(y?iA(p,y):p).map(function(q,X){if(q.type==="none")return null;var te=c_({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),re=q.formatter||m||rJ,Q=q.value,ae=q.name,ne=Q,W=ae;if(re&&ne!=null&&W!=null){var Y=re(Q,ae,q,X,p);if(Array.isArray(Y)){var de=KQ(Y,2);ne=de[0],W=de[1]}else ne=Y}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:te},wr(W)?G.createElement("span",{className:"recharts-tooltip-item-name"},W):null,wr(W)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ne),G.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:$},V)}return null},N=c_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=c_({margin:0},d),O=!pt(w),P=O?w:"",C=et("recharts-default-tooltip",x),R=et("recharts-tooltip-label",S);O&&b&&p!==void 0&&p!==null&&(P=b(w,p));var F=E?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",bS({className:C,style:N},F),G.createElement("p",{className:R,style:k},G.isValidElement(P)?P:"".concat(P)),I())};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function om(t,e,r){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iJ(t){var e=aJ(t,"string");return kf(e)=="symbol"?e:e+""}function aJ(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Id="recharts-tooltip-wrapper",oJ={visibility:"hidden"};function sJ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return et(Id,om(om(om(om({},"".concat(Id,"-right"),_e(r)&&e&&_e(e.x)&&r>=e.x),"".concat(Id,"-left"),_e(r)&&e&&_e(e.x)&&r<e.x),"".concat(Id,"-bottom"),_e(n)&&e&&_e(e.y)&&n>=e.y),"".concat(Id,"-top"),_e(n)&&e&&_e(e.y)&&n<e.y))}function y2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&_e(a[n]))return a[n];var p=r[n]-l-i,m=r[n]+i;if(e[n])return o[n]?p:m;if(o[n]){var y=p,x=c[n];return y<x?Math.max(m,c[n]):Math.max(p,c[n])}var S=m+l,w=c[n]+d;return S>w?Math.max(p,c[n]):Math.max(m,c[n])}function lJ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function uJ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,p,m;return o.height>0&&o.width>0&&r?(p=y2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=y2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=lJ({translateX:p,translateY:m,useTranslate3d:l})):d=oJ,{cssProperties:d,cssClasses:sJ({translateX:p,translateY:m,coordinate:r})}}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){wS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function fJ(t,e,r){return e&&dJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hJ(t,e,r){return e=cg(e),pJ(t,w$()?Reflect.construct(e,r||[],cg(t).constructor):e.apply(t,r))}function pJ(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJ(t)}function mJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(t)}function gJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xS(t,e)}function wS(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=yJ(t,"string");return ic(e)=="symbol"?e:e+""}function yJ(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x2=1,vJ=(function(t){function e(){var r;cJ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=hJ(this,e,[].concat(i)),wS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),r}return gJ(e,t),fJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>x2||Math.abs(n.height-this.state.lastBoundingBox.height)>x2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,p=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,w=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,E=i.wrapperStyle,I=uJ({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:S,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:T}),N=I.cssClasses,k=I.cssProperties,O=b2(b2({transition:y&&a?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return G.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(C){n.wrapperNode=C}},d)}}])})(D.PureComponent),bJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$c={isSsr:bJ()};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(n){aA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E$(n.key),n)}}function _J(t,e,r){return e&&wJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SJ(t,e,r){return e=dg(e),EJ(t,S$()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function EJ(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TJ(t)}function TJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function AJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_S(t,e)}function aA(t,e,r){return e=E$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=PJ(t,"string");return ac(e)=="symbol"?e:e+""}function PJ(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jJ(t){return t.dataKey}function kJ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(nJ,e)}var ea=(function(t){function e(){return xJ(this,e),SJ(this,e,arguments)}return AJ(e,t),_J(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,p=i.coordinate,m=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,w=i.payloadUniqBy,b=i.position,T=i.reverseDirection,E=i.useTranslate3d,I=i.viewBox,N=i.wrapperStyle,k=S??[];m&&k.length&&(k=p$(S.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),w,jJ));var O=k.length>0;return G.createElement(vJ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:y,active:a,coordinate:p,hasPayload:O,offset:x,position:b,reverseDirection:T,useTranslate3d:E,viewBox:I,wrapperStyle:N},kJ(d,_2(_2({},this.props),{},{payload:k})))}}])})(D.PureComponent);aA(ea,"displayName","Tooltip");aA(ea,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$c.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var d_,S2;function IJ(){if(S2)return d_;S2=1;var t=ya(),e=function(){return t.Date.now()};return d_=e,d_}var f_,E2;function CJ(){if(E2)return f_;E2=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return f_=e,f_}var h_,T2;function NJ(){if(T2)return h_;T2=1;var t=CJ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return h_=r,h_}var p_,A2;function T$(){if(A2)return p_;A2=1;var t=NJ(),e=vs(),r=Mc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=a.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):i.test(d)?n:+d}return p_=c,p_}var m_,P2;function OJ(){if(P2)return m_;P2=1;var t=vs(),e=IJ(),r=T$(),n="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var p,m,y,x,S,w,b=0,T=!1,E=!1,I=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(T=!!d.leading,E="maxWait"in d,y=E?i(r(d.maxWait)||0,c):y,I="trailing"in d?!!d.trailing:I);function N(V){var q=p,X=m;return p=m=void 0,b=V,x=l.apply(X,q),x}function k(V){return b=V,S=setTimeout(C,c),T?N(V):x}function O(V){var q=V-w,X=V-b,te=c-q;return E?a(te,y-X):te}function P(V){var q=V-w,X=V-b;return w===void 0||q>=c||q<0||E&&X>=y}function C(){var V=e();if(P(V))return R(V);S=setTimeout(C,O(V))}function R(V){return S=void 0,I&&p?N(V):(p=m=void 0,x)}function F(){S!==void 0&&clearTimeout(S),b=0,p=w=m=S=void 0}function L(){return S===void 0?x:R(e())}function $(){var V=e(),q=P(V);if(p=arguments,m=this,w=V,q){if(S===void 0)return k(w);if(E)return clearTimeout(S),S=setTimeout(C,c),N(w)}return S===void 0&&(S=setTimeout(C,c)),x}return $.cancel=F,$.flush=L,$}return m_=o,m_}var g_,j2;function RJ(){if(j2)return g_;j2=1;var t=OJ(),e=vs(),r="Expected a function";function n(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return g_=n,g_}var MJ=RJ();const A$=wt(MJ);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function k2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(r),!0).forEach(function(n){DJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DJ(t,e,r){return e=LJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LJ(t){var e=$J(t,"string");return If(e)=="symbol"?e:e+""}function $J(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VJ(t,e){return BJ(t)||zJ(t,e)||UJ(t,e)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(t,e){if(t){if(typeof t=="string")return I2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I2(t,e)}}function I2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function BJ(t){if(Array.isArray(t))return t}var qJ=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,p=d===void 0?0:d,m=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,w=S===void 0?0:S,b=t.id,T=t.className,E=t.onResize,I=t.style,N=I===void 0?{}:I,k=D.useRef(null),O=D.useRef();O.current=E,D.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var P=D.useState({containerWidth:i.width,containerHeight:i.height}),C=VJ(P,2),R=C[0],F=C[1],L=D.useCallback(function(V,q){F(function(X){var te=Math.round(V),re=Math.round(q);return X.containerWidth===te&&X.containerHeight===re?X:{containerWidth:te,containerHeight:re}})},[]);D.useEffect(function(){var V=function(ae){var ne,W=ae[0].contentRect,Y=W.width,de=W.height;L(Y,de),(ne=O.current)===null||ne===void 0||ne.call(O,Y,de)};w>0&&(V=A$(V,w,{trailing:!0,leading:!1}));var q=new ResizeObserver(V),X=k.current.getBoundingClientRect(),te=X.width,re=X.height;return L(te,re),q.observe(k.current),function(){q.disconnect()}},[L,w]);var $=D.useMemo(function(){var V=R.containerWidth,q=R.containerHeight;if(V<0||q<0)return null;Ka(il(o)||il(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ka(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=il(o)?V:o,te=il(c)?q:c;r&&r>0&&(X?te=X/r:te&&(X=te*r),y&&te>y&&(te=y)),Ka(X>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,te,o,c,p,m,r);var re=!Array.isArray(x)&&Ga(x.type).endsWith("Chart");return G.Children.map(x,function(Q){return G.isValidElement(Q)?D.cloneElement(Q,sm({width:X,height:te},re?{style:sm({height:"100%",width:"100%",maxHeight:te,maxWidth:X},Q.props.style)}:{})):Q})},[r,x,c,y,m,p,R,o]);return G.createElement("div",{id:b?"".concat(b):void 0,className:et("recharts-responsive-container",T),style:sm(sm({},N),{},{width:o,height:c,minWidth:p,minHeight:m,maxHeight:y}),ref:k},$)}),qy=function(e){return null};qy.displayName="Cell";function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function C2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(r),!0).forEach(function(n){WJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WJ(t,e,r){return e=HJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HJ(t){var e=GJ(t,"string");return Cf(e)=="symbol"?e:e+""}function GJ(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu={widthCache:{},cacheCount:0},KJ=2e3,XJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},N2="recharts_measurement_span";function YJ(t){var e=SS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var af=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$c.isSsr)return{width:0,height:0};var n=YJ(r),i=JSON.stringify({text:e,copyStyle:n});if(Tu.widthCache[i])return Tu.widthCache[i];try{var a=document.getElementById(N2);a||(a=document.createElement("span"),a.setAttribute("id",N2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=SS(SS({},XJ),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Tu.widthCache[i]=c,++Tu.cacheCount>KJ&&(Tu.cacheCount=0,Tu.widthCache={}),c}catch{return{width:0,height:0}}},QJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function fg(t,e){return tZ(t)||eZ(t,e)||ZJ(t,e)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return O2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O2(t,e)}}function O2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function tZ(t){if(Array.isArray(t))return t}function rZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iZ(n.key),n)}}function nZ(t,e,r){return e&&R2(t.prototype,e),r&&R2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iZ(t){var e=aZ(t,"string");return Nf(e)=="symbol"?e:e+""}function aZ(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,P$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lZ=Object.keys(P$),Nu="NaN";function uZ(t,e){return t*P$[e]}var lm=(function(){function t(e,r){rZ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!oZ.test(r)&&(this.num=NaN,this.unit=""),lZ.includes(r)&&(this.num=uZ(e,r),this.unit="px")}return nZ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=sZ.exec(r))!==null&&n!==void 0?n:[],a=fg(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])})();function j$(t){if(t.includes(Nu))return Nu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=M2.exec(e))!==null&&r!==void 0?r:[],i=fg(n,4),a=i[1],o=i[2],l=i[3],c=lm.parse(a??""),d=lm.parse(l??""),p=o==="*"?c.multiply(d):c.divide(d);if(p.isNaN())return Nu;e=e.replace(M2,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=D2.exec(e))!==null&&m!==void 0?m:[],x=fg(y,4),S=x[1],w=x[2],b=x[3],T=lm.parse(S??""),E=lm.parse(b??""),I=w==="+"?T.add(E):T.subtract(E);if(I.isNaN())return Nu;e=e.replace(D2,I.toString())}return e}var L2=/\(([^()]*)\)/;function cZ(t){for(var e=t;e.includes("(");){var r=L2.exec(e),n=fg(r,2),i=n[1];e=e.replace(L2,j$(i))}return e}function dZ(t){var e=t.replace(/\s+/g,"");return e=cZ(e),e=j$(e),e}function fZ(t){try{return dZ(t)}catch{return Nu}}function y_(t){var e=fZ(t.slice(5,-1));return e===Nu?"":e}var hZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pZ=["dx","dy","angle","className","breakAll"];function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}function $2(t,e){if(t==null)return{};var r=mZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V2(t,e){return bZ(t)||vZ(t,e)||yZ(t,e)||gZ()}function gZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yZ(t,e){if(t){if(typeof t=="string")return F2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function bZ(t){if(Array.isArray(t))return t}var k$=/[ \f\n\r\t\v\u2028\u2029]+/,I$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];pt(r)||(n?a=r.toString().split(""):a=r.toString().split(k$));var o=a.map(function(c){return{word:c,width:af(c,i).width}}),l=n?0:af("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xZ=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,p=_e(o),m=l,y=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(te,re){var Q=re.word,ae=re.width,ne=te[te.length-1];if(ne&&(i==null||a||ne.width+ae+n<Number(i)))ne.words.push(Q),ne.width+=ae+n;else{var W={words:[Q],width:ae};te.push(W)}return te},[])},x=y(r),S=function(X){return X.reduce(function(te,re){return te.width>re.width?te:re})};if(!p)return x;for(var w="",b=function(X){var te=m.slice(0,X),re=I$({breakAll:d,style:c,children:te+w}).wordsWithComputedWidth,Q=y(re),ae=Q.length>o||S(Q).width>Number(i);return[ae,Q]},T=0,E=m.length-1,I=0,N;T<=E&&I<=m.length-1;){var k=Math.floor((T+E)/2),O=k-1,P=b(O),C=V2(P,2),R=C[0],F=C[1],L=b(k),$=V2(L,1),V=$[0];if(!R&&!V&&(T=k+1),R&&V&&(E=k-1),!R&&V){N=F;break}I++}return N||x},U2=function(e){var r=pt(e)?[]:e.toString().split(k$);return[{words:r}]},wZ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!$c.isSsr){var c,d,p=I$({breakAll:o,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;c=m,d=y}else return U2(i);return xZ({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return U2(i)},z2="#808080",oc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,w=S===void 0?"end":S,b=e.fill,T=b===void 0?z2:b,E=$2(e,hZ),I=D.useMemo(function(){return wZ({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),N=E.dx,k=E.dy,O=E.angle,P=E.className,C=E.breakAll,R=$2(E,pZ);if(!wr(n)||!wr(a))return null;var F=n+(_e(N)?N:0),L=a+(_e(k)?k:0),$;switch(w){case"start":$=y_("calc(".concat(d,")"));break;case"middle":$=y_("calc(".concat((I.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:$=y_("calc(".concat(I.length-1," * -").concat(l,")"));break}var V=[];if(m){var q=I[0].width,X=E.width;V.push("scale(".concat((_e(X)?X/q:1)/q,")"))}return O&&V.push("rotate(".concat(O,", ").concat(F,", ").concat(L,")")),V.length&&(R.transform=V.join(" ")),G.createElement("text",ES({},Ge(R,!0),{x:F,y:L,className:et("recharts-text",P),textAnchor:x,fill:T.includes("url")?z2:T}),I.map(function(te,re){var Q=te.words.join(C?"":" ");return G.createElement("tspan",{x:F,dy:re===0?$:l,key:"".concat(Q,"-").concat(re)},Q)}))};function ns(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _Z(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oA(t){let e,r,n;t.length!==2?(e=ns,r=(l,c)=>ns(t(l),c),n=(l,c)=>t(l)-c):(e=t===ns||t===_Z?t:SZ,r=t,n=t);function i(l,c,d=0,p=l.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(l[m],c)<0?d=m+1:p=m}while(d<p)}return d}function a(l,c,d=0,p=l.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(l[m],c)<=0?d=m+1:p=m}while(d<p)}return d}function o(l,c,d=0,p=l.length){const m=i(l,c,d,p-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:o,right:a}}function SZ(){return 0}function C$(t){return t===null?NaN:+t}function*EZ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const TZ=oA(ns),kh=TZ.right;oA(C$).center;class B2 extends Map{constructor(e,r=jZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(q2(this,e))}has(e){return super.has(q2(this,e))}set(e,r){return super.set(AZ(this,e),r)}delete(e){return super.delete(PZ(this,e))}}function q2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function AZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function PZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function jZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kZ(t=ns){if(t===ns)return N$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function N$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const IZ=Math.sqrt(50),CZ=Math.sqrt(10),NZ=Math.sqrt(2);function hg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=IZ?10:a>=CZ?5:a>=NZ?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?hg(t,e,r*2):[l,c,d]}function TS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?hg(e,t,r):hg(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function AS(t,e,r){return e=+e,t=+t,r=+r,hg(t,e,r)[2]}function PS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?AS(e,t,r):AS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function W2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function H2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function O$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?N$:kZ(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,p=Math.log(c),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(r,Math.floor(e-d*m/c+y)),S=Math.min(n,Math.floor(e+(c-d)*m/c+y));O$(t,e,x,S,i)}const a=t[e];let o=r,l=n;for(Cd(t,r,e),i(t[n],a)>0&&Cd(t,r,n);o<l;){for(Cd(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Cd(t,r,l):(++l,Cd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Cd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function OZ(t,e,r){if(t=Float64Array.from(EZ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return H2(t);if(e>=1)return W2(t);var n,i=(n-1)*e,a=Math.floor(i),o=W2(O$(t,a).subarray(0,a+1)),l=H2(t.subarray(a+1));return o+(l-o)*(i-a)}}function RZ(t,e,r=C$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function MZ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ho(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jS=Symbol("implicit");function sA(){var t=new B2,e=[],r=[],n=jS;function i(a){let o=t.get(a);if(o===void 0){if(n!==jS)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new B2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sA(e,r).unknown(n)},fi.apply(i,arguments),i}function Of(){var t=sA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,d=0,p=.5;delete t.unknown;function m(){var y=e().length,x=i<n,S=x?i:n,w=x?n:i;a=(w-S)/Math.max(1,y-c+d*2),l&&(a=Math.floor(a)),S+=(w-S-a*(y-c))*p,o=a*(1-c),l&&(S=Math.round(S),o=Math.round(o));var b=MZ(y).map(function(T){return S+a*T});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Of(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(p)},fi.apply(m(),arguments)}function R$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return R$(e())},t}function of(){return R$(Of.apply(null,arguments).paddingInner(1))}function lA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function M$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ih(){}var Rf=.7,pg=1/Rf,qu="\\s*([+-]?\\d+)\\s*",Mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DZ=/^#([0-9a-f]{3,8})$/,LZ=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),$Z=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),VZ=new RegExp(`^rgba\\(${qu},${qu},${qu},${Mf}\\)$`),FZ=new RegExp(`^rgba\\(${ca},${ca},${ca},${Mf}\\)$`),UZ=new RegExp(`^hsl\\(${Mf},${ca},${ca}\\)$`),zZ=new RegExp(`^hsla\\(${Mf},${ca},${ca},${Mf}\\)$`),G2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lA(Ih,Df,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:K2,formatHex:K2,formatHex8:BZ,formatHsl:qZ,formatRgb:X2,toString:X2});function K2(){return this.rgb().formatHex()}function BZ(){return this.rgb().formatHex8()}function qZ(){return D$(this).formatHsl()}function X2(){return this.rgb().formatRgb()}function Df(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=DZ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Y2(e):r===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?um(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?um(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LZ.exec(t))?new En(e[1],e[2],e[3],1):(e=$Z.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=VZ.exec(t))?um(e[1],e[2],e[3],e[4]):(e=FZ.exec(t))?um(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UZ.exec(t))?Z2(e[1],e[2]/100,e[3]/100,1):(e=zZ.exec(t))?Z2(e[1],e[2]/100,e[3]/100,e[4]):G2.hasOwnProperty(t)?Y2(G2[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function Y2(t){return new En(t>>16&255,t>>8&255,t&255,1)}function um(t,e,r,n){return n<=0&&(t=e=r=NaN),new En(t,e,r,n)}function WZ(t){return t instanceof Ih||(t=Df(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function kS(t,e,r,n){return arguments.length===1?WZ(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}lA(En,kS,M$(Ih,{brighter(t){return t=t==null?pg:Math.pow(pg,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rf:Math.pow(Rf,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(cl(this.r),cl(this.g),cl(this.b),mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q2,formatHex:Q2,formatHex8:HZ,formatRgb:J2,toString:J2}));function Q2(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function HZ(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function J2(){const t=mg(this.opacity);return`${t===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${t===1?")":`, ${t})`}`}function mg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function al(t){return t=cl(t),(t<16?"0":"")+t.toString(16)}function Z2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ni(t,e,r,n)}function D$(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);if(t instanceof Ih||(t=Df(t)),!t)return new Ni;if(t instanceof Ni)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Ni(o,l,c,t.opacity)}function GZ(t,e,r,n){return arguments.length===1?D$(t):new Ni(t,e,r,n??1)}function Ni(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}lA(Ni,GZ,M$(Ih,{brighter(t){return t=t==null?pg:Math.pow(pg,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rf:Math.pow(Rf,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new En(v_(t>=240?t-240:t+120,i,n),v_(t,i,n),v_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ni(eR(this.h),cm(this.s),cm(this.l),mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mg(this.opacity);return`${t===1?"hsl(":"hsla("}${eR(this.h)}, ${cm(this.s)*100}%, ${cm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eR(t){return t=(t||0)%360,t<0?t+360:t}function cm(t){return Math.max(0,Math.min(1,t||0))}function v_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const uA=t=>()=>t;function KZ(t,e){return function(r){return t+r*e}}function XZ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function YZ(t){return(t=+t)==1?L$:function(e,r){return r-e?XZ(e,r,t):uA(isNaN(e)?r:e)}}function L$(t,e){var r=e-t;return r?KZ(t,r):uA(isNaN(t)?e:t)}const tR=(function t(e){var r=YZ(e);function n(i,a){var o=r((i=kS(i)).r,(a=kS(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=L$(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=l(p),i.b=c(p),i.opacity=d(p),i+""}}return n.gamma=t,n})(1);function QZ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function JZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ZZ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Vc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function eee(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function gg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function tee(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Vc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var IS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b_=new RegExp(IS.source,"g");function ree(t){return function(){return t}}function nee(t){return function(e){return t(e)+""}}function iee(t,e){var r=IS.lastIndex=b_.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=IS.exec(t))&&(i=b_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:gg(n,i)})),r=b_.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?nee(c[0].x):ree(e):(e=c.length,function(d){for(var p=0,m;p<e;++p)l[(m=c[p]).i]=m.x(d);return l.join("")})}function Vc(t,e){var r=typeof e,n;return e==null||r==="boolean"?uA(e):(r==="number"?gg:r==="string"?(n=Df(e))?(e=n,tR):iee:e instanceof Df?tR:e instanceof Date?eee:JZ(e)?QZ:Array.isArray(e)?ZZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tee:gg)(t,e)}function cA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function aee(t,e){e===void 0&&(e=t,t=Vc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function oee(t){return function(){return t}}function yg(t){return+t}var rR=[0,1];function sn(t){return t}function CS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:oee(isNaN(e)?NaN:.5)}function see(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function lee(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=CS(i,n),a=r(o,a)):(n=CS(n,i),a=r(a,o)),function(l){return a(n(l))}}function uee(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=CS(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=kh(t,l,1,n)-1;return a[c](i[c](l))}}function Ch(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wy(){var t=rR,e=rR,r=Vc,n,i,a,o=sn,l,c,d;function p(){var y=Math.min(t.length,e.length);return o!==sn&&(o=see(t[0],t[y-1])),l=y>2?uee:lee,c=d=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(n),e,r)))(n(o(y)))}return m.invert=function(y){return o(i((d||(d=l(e,t.map(n),gg)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,yg),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=cA,p()},m.clamp=function(y){return arguments.length?(o=y?!0:sn,p()):o!==sn},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,x){return n=y,i=x,p()}}function dA(){return Wy()(sn,sn)}function cee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vg(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function sc(t){return t=vg(Math.abs(t)),t?t[1]:NaN}function dee(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function fee(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var hee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lf(t){if(!(e=hee.exec(t)))throw new Error("invalid format: "+t);var e;return new fA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lf.prototype=fA.prototype;function fA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pee(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var bg;function mee(t,e){var r=vg(t,e);if(!r)return bg=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(bg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+vg(t,Math.max(0,e+a-1))[0]}function nR(t,e){var r=vg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const iR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nR(t*100,e),r:nR,s:mee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aR(t){return t}var oR=Array.prototype.map,sR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gee(t){var e=t.grouping===void 0||t.thousands===void 0?aR:dee(oR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aR:fee(oR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,y){m=Lf(m);var x=m.fill,S=m.align,w=m.sign,b=m.symbol,T=m.zero,E=m.width,I=m.comma,N=m.precision,k=m.trim,O=m.type;O==="n"?(I=!0,O="g"):iR[O]||(N===void 0&&(N=12),k=!0,O="g"),(T||x==="0"&&S==="=")&&(T=!0,x="0",S="=");var P=(y&&y.prefix!==void 0?y.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),C=(b==="$"?n:/[%p]/.test(O)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),R=iR[O],F=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function L($){var V=P,q=C,X,te,re;if(O==="c")q=R($)+q,$="";else{$=+$;var Q=$<0||1/$<0;if($=isNaN($)?c:R(Math.abs($),N),k&&($=pee($)),Q&&+$==0&&w!=="+"&&(Q=!1),V=(Q?w==="("?w:l:w==="-"||w==="("?"":w)+V,q=(O==="s"&&!isNaN($)&&bg!==void 0?sR[8+bg/3]:"")+q+(Q&&w==="("?")":""),F){for(X=-1,te=$.length;++X<te;)if(re=$.charCodeAt(X),48>re||re>57){q=(re===46?i+$.slice(X+1):$.slice(X))+q,$=$.slice(0,X);break}}}I&&!T&&($=e($,1/0));var ae=V.length+$.length+q.length,ne=ae<E?new Array(E-ae+1).join(x):"";switch(I&&T&&($=e(ne+$,ne.length?E-q.length:1/0),ne=""),S){case"<":$=V+$+q+ne;break;case"=":$=V+ne+$+q;break;case"^":$=ne.slice(0,ae=ne.length>>1)+V+$+q+ne.slice(ae);break;default:$=ne+V+$+q;break}return a($)}return L.toString=function(){return m+""},L}function p(m,y){var x=Math.max(-8,Math.min(8,Math.floor(sc(y)/3)))*3,S=Math.pow(10,-x),w=d((m=Lf(m),m.type="f",m),{suffix:sR[8+x/3]});return function(b){return w(S*b)}}return{format:d,formatPrefix:p}}var dm,hA,$$;yee({thousands:",",grouping:[3],currency:["$",""]});function yee(t){return dm=gee(t),hA=dm.format,$$=dm.formatPrefix,dm}function vee(t){return Math.max(0,-sc(Math.abs(t)))}function bee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(e)/3)))*3-sc(Math.abs(t)))}function xee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sc(e)-sc(t))+1}function V$(t,e,r,n){var i=PS(t,e,r),a;switch(n=Lf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=bee(i,o))&&(n.precision=a),$$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=xee(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=vee(i))&&(n.precision=a-(n.type==="%")*2);break}}return hA(n)}function bs(t){var e=t.domain;return t.ticks=function(r){var n=e();return TS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return V$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,p=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);p-- >0;){if(d=AS(o,l,r),d===c)return n[i]=o,n[a]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function xg(){var t=dA();return t.copy=function(){return Ch(t,xg())},fi.apply(t,arguments),bs(t)}function F$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return F$(t).unknown(e)},t=arguments.length?Array.from(t,yg):[0,1],bs(r)}function U$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function lR(t){return Math.log(t)}function uR(t){return Math.exp(t)}function wee(t){return-Math.log(-t)}function _ee(t){return-Math.exp(-t)}function See(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Eee(t){return t===10?See:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cR(t){return(e,r)=>-t(-e,r)}function pA(t){const e=t(lR,uR),r=e.domain;let n=10,i,a;function o(){return i=Tee(n),a=Eee(n),r()[0]<0?(i=cR(i),a=cR(a),t(wee,_ee)):t(lR,uR),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],p=c[c.length-1];const m=p<d;m&&([d,p]=[p,d]);let y=i(d),x=i(p),S,w;const b=l==null?10:+l;let T=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),d>0){for(;y<=x;++y)for(S=1;S<n;++S)if(w=y<0?S/a(-y):S*a(y),!(w<d)){if(w>p)break;T.push(w)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(w=y>0?S/a(-y):S*a(y),!(w<d)){if(w>p)break;T.push(w)}T.length*2<b&&(T=TS(d,p,b))}else T=TS(y,x,Math.min(x-y,b)).map(a);return m?T.reverse():T},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lf(c)).precision==null&&(c.trim=!0),c=hA(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=d?c(p):""}},e.nice=()=>r(U$(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function z$(){const t=pA(Wy()).domain([1,10]);return t.copy=()=>Ch(t,z$()).base(t.base()),fi.apply(t,arguments),t}function dR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mA(t){var e=1,r=t(dR(e),fR(e));return r.constant=function(n){return arguments.length?t(dR(e=+n),fR(e)):e},bs(r)}function B$(){var t=mA(Wy());return t.copy=function(){return Ch(t,B$()).constant(t.constant())},fi.apply(t,arguments)}function hR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Aee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Pee(t){return t<0?-t*t:t*t}function gA(t){var e=t(sn,sn),r=1;function n(){return r===1?t(sn,sn):r===.5?t(Aee,Pee):t(hR(r),hR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},bs(e)}function yA(){var t=gA(Wy());return t.copy=function(){return Ch(t,yA()).exponent(t.exponent())},fi.apply(t,arguments),t}function jee(){return yA.apply(null,arguments).exponent(.5)}function pR(t){return Math.sign(t)*t*t}function kee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function q$(){var t=dA(),e=[0,1],r=!1,n;function i(a){var o=kee(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(pR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yg)).map(pR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return q$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fi.apply(i,arguments),bs(i)}function W$(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=RZ(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[kh(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ns),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return W$().domain(t).range(e).unknown(n)},fi.apply(a,arguments)}function H$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[kh(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return H$().domain([t,e]).range(i).unknown(a)},fi.apply(bs(o),arguments)}function G$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[kh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return G$().domain(t).range(e).unknown(r)},fi.apply(i,arguments)}const x_=new Date,w_=new Date;function Sr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>Sr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(x_.setTime(+a),w_.setTime(+o),t(x_),t(w_),Math.floor(r(x_,w_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const wg=Sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wg);wg.range;const za=1e3,oi=za*60,Ba=oi*60,ro=Ba*24,vA=ro*7,mR=ro*30,__=ro*365,ol=Sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCSeconds());ol.range;const bA=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getMinutes());bA.range;const xA=Sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCMinutes());xA.range;const wA=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za-t.getMinutes()*oi)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getHours());wA.range;const _A=Sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCHours());_A.range;const Nh=Sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oi)/ro,t=>t.getDate()-1);Nh.range;const Hy=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>t.getUTCDate()-1);Hy.range;const K$=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>Math.floor(t/ro));K$.range;function Nl(t){return Sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*oi)/vA)}const Gy=Nl(0),_g=Nl(1),Iee=Nl(2),Cee=Nl(3),lc=Nl(4),Nee=Nl(5),Oee=Nl(6);Gy.range;_g.range;Iee.range;Cee.range;lc.range;Nee.range;Oee.range;function Ol(t){return Sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/vA)}const Ky=Ol(0),Sg=Ol(1),Ree=Ol(2),Mee=Ol(3),uc=Ol(4),Dee=Ol(5),Lee=Ol(6);Ky.range;Sg.range;Ree.range;Mee.range;uc.range;Dee.range;Lee.range;const SA=Sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SA.range;const EA=Sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EA.range;const no=Sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());no.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});no.range;const io=Sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});io.range;function X$(t,e,r,n,i,a){const o=[[ol,1,za],[ol,5,5*za],[ol,15,15*za],[ol,30,30*za],[a,1,oi],[a,5,5*oi],[a,15,15*oi],[a,30,30*oi],[i,1,Ba],[i,3,3*Ba],[i,6,6*Ba],[i,12,12*Ba],[n,1,ro],[n,2,2*ro],[r,1,vA],[e,1,mR],[e,3,3*mR],[t,1,__]];function l(d,p,m){const y=p<d;y&&([d,p]=[p,d]);const x=m&&typeof m.range=="function"?m:c(d,p,m),S=x?x.range(d,+p+1):[];return y?S.reverse():S}function c(d,p,m){const y=Math.abs(p-d)/m,x=oA(([,,b])=>b).right(o,y);if(x===o.length)return t.every(PS(d/__,p/__,m));if(x===0)return wg.every(Math.max(PS(d,p,m),1));const[S,w]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return S.every(w)}return[l,c]}const[$ee,Vee]=X$(io,EA,Ky,K$,_A,xA),[Fee,Uee]=X$(no,SA,Gy,Nh,wA,bA);function S_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function E_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function zee(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Od(i),p=Rd(i),m=Od(a),y=Rd(a),x=Od(o),S=Rd(o),w=Od(l),b=Rd(l),T=Od(c),E=Rd(c),I={a:re,A:Q,b:ae,B:ne,c:null,d:wR,e:wR,f:dte,g:wte,G:Ste,H:lte,I:ute,j:cte,L:Y$,m:fte,M:hte,p:W,q:Y,Q:ER,s:TR,S:pte,u:mte,U:gte,V:yte,w:vte,W:bte,x:null,X:null,y:xte,Y:_te,Z:Ete,"%":SR},N={a:de,A:se,b:xe,B:Re,c:null,d:_R,e:_R,f:jte,g:$te,G:Fte,H:Tte,I:Ate,j:Pte,L:J$,m:kte,M:Ite,p:ue,q:Se,Q:ER,s:TR,S:Cte,u:Nte,U:Ote,V:Rte,w:Mte,W:Dte,x:null,X:null,y:Lte,Y:Vte,Z:Ute,"%":SR},k={a:F,A:L,b:$,B:V,c:q,d:bR,e:bR,f:ite,g:vR,G:yR,H:xR,I:xR,j:ete,L:nte,m:Zee,M:tte,p:R,q:Jee,Q:ote,s:ste,S:rte,u:Gee,U:Kee,V:Xee,w:Hee,W:Yee,x:X,X:te,y:vR,Y:yR,Z:Qee,"%":ate};I.x=O(r,I),I.X=O(n,I),I.c=O(e,I),N.x=O(r,N),N.X=O(n,N),N.c=O(e,N);function O(fe,Ee){return function(Le){var pe=[],it=-1,We=0,gt=fe.length,dt,_t,nr;for(Le instanceof Date||(Le=new Date(+Le));++it<gt;)fe.charCodeAt(it)===37&&(pe.push(fe.slice(We,it)),(_t=gR[dt=fe.charAt(++it)])!=null?dt=fe.charAt(++it):_t=dt==="e"?" ":"0",(nr=Ee[dt])&&(dt=nr(Le,_t)),pe.push(dt),We=it+1);return pe.push(fe.slice(We,it)),pe.join("")}}function P(fe,Ee){return function(Le){var pe=Nd(1900,void 0,1),it=C(pe,fe,Le+="",0),We,gt;if(it!=Le.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ee&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(We=E_(Nd(pe.y,0,1)),gt=We.getUTCDay(),We=gt>4||gt===0?Sg.ceil(We):Sg(We),We=Hy.offset(We,(pe.V-1)*7),pe.y=We.getUTCFullYear(),pe.m=We.getUTCMonth(),pe.d=We.getUTCDate()+(pe.w+6)%7):(We=S_(Nd(pe.y,0,1)),gt=We.getDay(),We=gt>4||gt===0?_g.ceil(We):_g(We),We=Nh.offset(We,(pe.V-1)*7),pe.y=We.getFullYear(),pe.m=We.getMonth(),pe.d=We.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),gt="Z"in pe?E_(Nd(pe.y,0,1)).getUTCDay():S_(Nd(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(gt+5)%7:pe.w+pe.U*7-(gt+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,E_(pe)):S_(pe)}}function C(fe,Ee,Le,pe){for(var it=0,We=Ee.length,gt=Le.length,dt,_t;it<We;){if(pe>=gt)return-1;if(dt=Ee.charCodeAt(it++),dt===37){if(dt=Ee.charAt(it++),_t=k[dt in gR?Ee.charAt(it++):dt],!_t||(pe=_t(fe,Le,pe))<0)return-1}else if(dt!=Le.charCodeAt(pe++))return-1}return pe}function R(fe,Ee,Le){var pe=d.exec(Ee.slice(Le));return pe?(fe.p=p.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function F(fe,Ee,Le){var pe=x.exec(Ee.slice(Le));return pe?(fe.w=S.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function L(fe,Ee,Le){var pe=m.exec(Ee.slice(Le));return pe?(fe.w=y.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function $(fe,Ee,Le){var pe=T.exec(Ee.slice(Le));return pe?(fe.m=E.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function V(fe,Ee,Le){var pe=w.exec(Ee.slice(Le));return pe?(fe.m=b.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function q(fe,Ee,Le){return C(fe,e,Ee,Le)}function X(fe,Ee,Le){return C(fe,r,Ee,Le)}function te(fe,Ee,Le){return C(fe,n,Ee,Le)}function re(fe){return o[fe.getDay()]}function Q(fe){return a[fe.getDay()]}function ae(fe){return c[fe.getMonth()]}function ne(fe){return l[fe.getMonth()]}function W(fe){return i[+(fe.getHours()>=12)]}function Y(fe){return 1+~~(fe.getMonth()/3)}function de(fe){return o[fe.getUTCDay()]}function se(fe){return a[fe.getUTCDay()]}function xe(fe){return c[fe.getUTCMonth()]}function Re(fe){return l[fe.getUTCMonth()]}function ue(fe){return i[+(fe.getUTCHours()>=12)]}function Se(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ee=O(fe+="",I);return Ee.toString=function(){return fe},Ee},parse:function(fe){var Ee=P(fe+="",!1);return Ee.toString=function(){return fe},Ee},utcFormat:function(fe){var Ee=O(fe+="",N);return Ee.toString=function(){return fe},Ee},utcParse:function(fe){var Ee=P(fe+="",!0);return Ee.toString=function(){return fe},Ee}}}var gR={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,Bee=/^%/,qee=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Wee(t){return t.replace(qee,"\\$&")}function Od(t){return new RegExp("^(?:"+t.map(Wee).join("|")+")","i")}function Rd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Hee(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Gee(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Kee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Xee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Yee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function yR(t,e,r){var n=Nr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vR(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Qee(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Jee(t,e,r){var n=Nr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Zee(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bR(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ete(t,e,r){var n=Nr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xR(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function tte(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function rte(t,e,r){var n=Nr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function nte(t,e,r){var n=Nr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ite(t,e,r){var n=Nr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ate(t,e,r){var n=Bee.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ote(t,e,r){var n=Nr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ste(t,e,r){var n=Nr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function wR(t,e){return mt(t.getDate(),e,2)}function lte(t,e){return mt(t.getHours(),e,2)}function ute(t,e){return mt(t.getHours()%12||12,e,2)}function cte(t,e){return mt(1+Nh.count(no(t),t),e,3)}function Y$(t,e){return mt(t.getMilliseconds(),e,3)}function dte(t,e){return Y$(t,e)+"000"}function fte(t,e){return mt(t.getMonth()+1,e,2)}function hte(t,e){return mt(t.getMinutes(),e,2)}function pte(t,e){return mt(t.getSeconds(),e,2)}function mte(t){var e=t.getDay();return e===0?7:e}function gte(t,e){return mt(Gy.count(no(t)-1,t),e,2)}function Q$(t){var e=t.getDay();return e>=4||e===0?lc(t):lc.ceil(t)}function yte(t,e){return t=Q$(t),mt(lc.count(no(t),t)+(no(t).getDay()===4),e,2)}function vte(t){return t.getDay()}function bte(t,e){return mt(_g.count(no(t)-1,t),e,2)}function xte(t,e){return mt(t.getFullYear()%100,e,2)}function wte(t,e){return t=Q$(t),mt(t.getFullYear()%100,e,2)}function _te(t,e){return mt(t.getFullYear()%1e4,e,4)}function Ste(t,e){var r=t.getDay();return t=r>=4||r===0?lc(t):lc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function Ete(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function _R(t,e){return mt(t.getUTCDate(),e,2)}function Tte(t,e){return mt(t.getUTCHours(),e,2)}function Ate(t,e){return mt(t.getUTCHours()%12||12,e,2)}function Pte(t,e){return mt(1+Hy.count(io(t),t),e,3)}function J$(t,e){return mt(t.getUTCMilliseconds(),e,3)}function jte(t,e){return J$(t,e)+"000"}function kte(t,e){return mt(t.getUTCMonth()+1,e,2)}function Ite(t,e){return mt(t.getUTCMinutes(),e,2)}function Cte(t,e){return mt(t.getUTCSeconds(),e,2)}function Nte(t){var e=t.getUTCDay();return e===0?7:e}function Ote(t,e){return mt(Ky.count(io(t)-1,t),e,2)}function Z$(t){var e=t.getUTCDay();return e>=4||e===0?uc(t):uc.ceil(t)}function Rte(t,e){return t=Z$(t),mt(uc.count(io(t),t)+(io(t).getUTCDay()===4),e,2)}function Mte(t){return t.getUTCDay()}function Dte(t,e){return mt(Sg.count(io(t)-1,t),e,2)}function Lte(t,e){return mt(t.getUTCFullYear()%100,e,2)}function $te(t,e){return t=Z$(t),mt(t.getUTCFullYear()%100,e,2)}function Vte(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function Fte(t,e){var r=t.getUTCDay();return t=r>=4||r===0?uc(t):uc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function Ute(){return"+0000"}function SR(){return"%"}function ER(t){return+t}function TR(t){return Math.floor(+t/1e3)}var Au,e6,t6;zte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zte(t){return Au=zee(t),e6=Au.format,Au.parse,t6=Au.utcFormat,Au.utcParse,Au}function Bte(t){return new Date(t)}function qte(t){return t instanceof Date?+t:+new Date(+t)}function TA(t,e,r,n,i,a,o,l,c,d){var p=dA(),m=p.invert,y=p.domain,x=d(".%L"),S=d(":%S"),w=d("%I:%M"),b=d("%I %p"),T=d("%a %d"),E=d("%b %d"),I=d("%B"),N=d("%Y");function k(O){return(c(O)<O?x:l(O)<O?S:o(O)<O?w:a(O)<O?b:n(O)<O?i(O)<O?T:E:r(O)<O?I:N)(O)}return p.invert=function(O){return new Date(m(O))},p.domain=function(O){return arguments.length?y(Array.from(O,qte)):y().map(Bte)},p.ticks=function(O){var P=y();return t(P[0],P[P.length-1],O??10)},p.tickFormat=function(O,P){return P==null?k:d(P)},p.nice=function(O){var P=y();return(!O||typeof O.range!="function")&&(O=e(P[0],P[P.length-1],O??10)),O?y(U$(P,O)):p},p.copy=function(){return Ch(p,TA(t,e,r,n,i,a,o,l,c,d))},p}function Wte(){return fi.apply(TA(Fee,Uee,no,SA,Gy,Nh,wA,bA,ol,e6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hte(){return fi.apply(TA($ee,Vee,io,EA,Ky,Hy,_A,xA,ol,t6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xy(){var t=0,e=1,r,n,i,a,o=sn,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(a(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function p(m){return function(y){var x,S;return arguments.length?([x,S]=y,o=m(x,S),d):[o(0),o(1)]}}return d.range=p(Vc),d.rangeRound=p(cA),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),d}}function xs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function r6(){var t=bs(Xy()(sn));return t.copy=function(){return xs(t,r6())},ho.apply(t,arguments)}function n6(){var t=pA(Xy()).domain([1,10]);return t.copy=function(){return xs(t,n6()).base(t.base())},ho.apply(t,arguments)}function i6(){var t=mA(Xy());return t.copy=function(){return xs(t,i6()).constant(t.constant())},ho.apply(t,arguments)}function AA(){var t=gA(Xy());return t.copy=function(){return xs(t,AA()).exponent(t.exponent())},ho.apply(t,arguments)}function Gte(){return AA.apply(null,arguments).exponent(.5)}function a6(){var t=[],e=sn;function r(n){if(n!=null&&!isNaN(n=+n))return e((kh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ns),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>OZ(t,a/n))},r.copy=function(){return a6(e).domain(t)},ho.apply(r,arguments)}function Yy(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,d=sn,p,m=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-a)*(n*w<n*a?l:c),d(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,i=p(t=+t),a=p(e=+e),o=p(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(d=w,x):d};function S(w){return function(b){var T,E,I;return arguments.length?([T,E,I]=b,d=aee(w,[T,E,I]),x):[d(0),d(.5),d(1)]}}return x.range=S(Vc),x.rangeRound=S(cA),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,i=w(t),a=w(e),o=w(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function o6(){var t=bs(Yy()(sn));return t.copy=function(){return xs(t,o6())},ho.apply(t,arguments)}function s6(){var t=pA(Yy()).domain([.1,1,10]);return t.copy=function(){return xs(t,s6()).base(t.base())},ho.apply(t,arguments)}function l6(){var t=mA(Yy());return t.copy=function(){return xs(t,l6()).constant(t.constant())},ho.apply(t,arguments)}function PA(){var t=gA(Yy());return t.copy=function(){return xs(t,PA()).exponent(t.exponent())},ho.apply(t,arguments)}function Kte(){return PA.apply(null,arguments).exponent(.5)}const AR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Of,scaleDiverging:o6,scaleDivergingLog:s6,scaleDivergingPow:PA,scaleDivergingSqrt:Kte,scaleDivergingSymlog:l6,scaleIdentity:F$,scaleImplicit:jS,scaleLinear:xg,scaleLog:z$,scaleOrdinal:sA,scalePoint:of,scalePow:yA,scaleQuantile:W$,scaleQuantize:H$,scaleRadial:q$,scaleSequential:r6,scaleSequentialLog:n6,scaleSequentialPow:AA,scaleSequentialQuantile:a6,scaleSequentialSqrt:Gte,scaleSequentialSymlog:i6,scaleSqrt:jee,scaleSymlog:B$,scaleThreshold:G$,scaleTime:Wte,scaleUtc:Hte,tickFormat:V$},Symbol.toStringTag,{value:"Module"}));var T_,PR;function Qy(){if(PR)return T_;PR=1;var t=Mc();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,p=l}return p}return T_=e,T_}var A_,jR;function u6(){if(jR)return A_;jR=1;function t(e,r){return e>r}return A_=t,A_}var P_,kR;function Xte(){if(kR)return P_;kR=1;var t=Qy(),e=u6(),r=Lc();function n(i){return i&&i.length?t(i,r,e):void 0}return P_=n,P_}var Yte=Xte();const Jy=wt(Yte);var j_,IR;function c6(){if(IR)return j_;IR=1;function t(e,r){return e<r}return j_=t,j_}var k_,CR;function Qte(){if(CR)return k_;CR=1;var t=Qy(),e=c6(),r=Lc();function n(i){return i&&i.length?t(i,r,e):void 0}return k_=n,k_}var Jte=Qte();const Zy=wt(Jte);var I_,NR;function Zte(){if(NR)return I_;NR=1;var t=BT(),e=va(),r=b$(),n=Pn();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return I_=i,I_}var C_,OR;function ere(){if(OR)return C_;OR=1;var t=y$(),e=Zte();function r(n,i){return t(e(n,i),1)}return C_=r,C_}var tre=ere();const rre=wt(tre);var N_,RR;function nre(){if(RR)return N_;RR=1;var t=rA();function e(r,n){return t(r,n)}return N_=e,N_}var ire=nre();const ev=wt(ire);var Fc=1e9,are={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kA,Ut=!0,ci="[DecimalError] ",dl=ci+"Invalid argument: ",jA=ci+"Exponent out of range: ",Uc=Math.floor,tl=Math.pow,ore=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Ir=1e7,Dt=7,d6=9007199254740991,Eg=Uc(d6/Dt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return Xa(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return At(Xa(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return cr(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq($n))throw Error(ci+"NaN");if(r.s<1)throw Error(ci+(r.s?"NaN":"-Infinity"));return r.eq($n)?new n(0):(Ut=!1,e=Xa($f(r,a),$f(t,a),a),Ut=!0,At(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p6(e,t):f6(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ci+"NaN");return r.s?(Ut=!1,e=Xa(r,t,0,1).times(t),Ut=!0,r.minus(e)):At(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return h6(this)};Ce.naturalLogarithm=Ce.ln=function(){return $f(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?f6(e,t):p6(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dl+t);if(e=cr(i)+1,n=i.d.length-1,r=n*Dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ci+"NaN")}for(t=cr(l),Ut=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ra(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Xa(l,a,o+2)).times(.5),ra(a.d).slice(0,o)===(e=ra(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(At(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Ut=!0,At(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,i,a,o,l,c,d,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,c=y.length,d=x.length,c<d&&(a=y,y=x,x=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+x[n]*y[i-n-1]+e,a[i--]=l%Ir|0,e=l/Ir|0;a[i]=(a[i]+e)%Ir|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ut?At(t,m.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(pa(t,0,Fc),e===void 0?e=n.rounding:pa(e,0,8),At(r,t+cr(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=wl(n,!0):(pa(t,0,Fc),e===void 0?e=i.rounding:pa(e,0,8),n=At(new i(n),t+1,e),r=wl(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?wl(i):(pa(t,0,Fc),e===void 0?e=a.rounding:pa(e,0,8),n=At(new a(i),t+cr(i)+1,e),r=wl(n.abs(),!1,t+cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return At(new e(t),cr(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,d=12,p=+(t=new c(t));if(!t.s)return new c($n);if(l=new c(l),!l.s){if(t.s<1)throw Error(ci+"Infinity");return l}if(l.eq($n))return l;if(n=c.precision,t.eq($n))return At(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=p<0?-p:p)<=d6){for(i=new c($n),e=Math.ceil(n/Dt+4),Ut=!1;r%2&&(i=i.times(l),DR(i.d,e)),r=Uc(r/2),r!==0;)l=l.times(l),DR(l.d,e);return Ut=!0,t.s<0?new c($n).div(i):At(i,n)}}else if(a<0)throw Error(ci+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ut=!1,i=t.times($f(l,n+d)),Ut=!0,i=h6(i),i.s=a,i};Ce.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=cr(i),n=wl(i,r<=a.toExpNeg||r>=a.toExpPos)):(pa(t,1,Fc),e===void 0?e=a.rounding:pa(e,0,8),i=At(new a(i),t,e),r=cr(i),n=wl(i,t<=r||r<=a.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(pa(t,1,Fc),e===void 0?e=n.rounding:pa(e,0,8)),At(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cr(t),r=t.constructor;return wl(t,e<=r.toExpNeg||e>=r.toExpPos)};function f6(t,e){var r,n,i,a,o,l,c,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ut?At(e,m):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(m/Dt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/Ir|0,c[a]%=Ir;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ut?At(e,m):e}function pa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(dl+t)}function ra(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Dt-n.length,r&&(a+=zo(r)),a+=n;o=t[e],n=o+"",r=Dt-n.length,r&&(a+=zo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Xa=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Ir|0,o=a/Ir|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ir+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,p,m,y,x,S,w,b,T,E,I,N,k,O,P,C,R=n.constructor,F=n.s==i.s?1:-1,L=n.d,$=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(ci+"Division by zero");for(c=n.e-i.e,P=$.length,k=L.length,x=new R(F),S=x.d=[],d=0;$[d]==(L[d]||0);)++d;if($[d]>(L[d]||0)&&--c,a==null?E=a=R.precision:o?E=a+(cr(n)-cr(i))+1:E=a,E<0)return new R(0);if(E=E/Dt+2|0,d=0,P==1)for(p=0,$=$[0],E++;(d<k||p)&&E--;d++)I=p*Ir+(L[d]||0),S[d]=I/$|0,p=I%$|0;else{for(p=Ir/($[0]+1)|0,p>1&&($=t($,p),L=t(L,p),P=$.length,k=L.length),N=P,w=L.slice(0,P),b=w.length;b<P;)w[b++]=0;C=$.slice(),C.unshift(0),O=$[0],$[1]>=Ir/2&&++O;do p=0,l=e($,w,P,b),l<0?(T=w[0],P!=b&&(T=T*Ir+(w[1]||0)),p=T/O|0,p>1?(p>=Ir&&(p=Ir-1),m=t($,p),y=m.length,b=w.length,l=e(m,w,y,b),l==1&&(p--,r(m,P<y?C:$,y))):(p==0&&(l=p=1),m=$.slice()),y=m.length,y<b&&m.unshift(0),r(w,m,b),l==-1&&(b=w.length,l=e($,w,P,b),l<1&&(p++,r(w,P<b?C:$,b))),b=w.length):l===0&&(p++,w=[0]),S[d++]=p,l&&w[0]?w[b++]=L[N]||0:(w=[L[N]],b=1);while((N++<k||w[0]!==void 0)&&E--)}return S[0]||S.shift(),x.e=c,At(x,o?a+cr(x)+1:a)}})();function h6(t,e){var r,n,i,a,o,l,c=0,d=0,p=t.constructor,m=p.precision;if(cr(t)>16)throw Error(jA+cr(t));if(!t.s)return new p($n);for(Ut=!1,l=m,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(tl(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new p($n),p.precision=l;;){if(i=At(i.times(t),l),r=r.times(++c),o=a.plus(Xa(i,r,l)),ra(o.d).slice(0,l)===ra(a.d).slice(0,l)){for(;d--;)a=At(a.times(a),l);return p.precision=m,e==null?(Ut=!0,At(a,m)):a}a=o}}function cr(t){for(var e=t.e*Dt,r=t.d[0];r>=10;r/=10)e++;return e}function O_(t,e,r){if(e>t.LN10.sd())throw Ut=!0,r&&(t.precision=r),Error(ci+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function $f(t,e){var r,n,i,a,o,l,c,d,p,m=1,y=10,x=t,S=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(ci+(x.s?"NaN":"-Infinity"));if(x.eq($n))return new w(0);if(e==null?(Ut=!1,d=b):d=e,x.eq(10))return e==null&&(Ut=!0),O_(w,d);if(d+=y,w.precision=d,r=ra(S),n=r.charAt(0),a=cr(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=ra(x.d),n=r.charAt(0),m++;a=cr(x),n>1?(x=new w("0."+r),a++):x=new w(n+"."+r.slice(1))}else return c=O_(w,d+2,b).times(a+""),x=$f(new w(n+"."+r.slice(1)),d-y).plus(c),w.precision=b,e==null?(Ut=!0,At(x,b)):x;for(l=o=x=Xa(x.minus($n),x.plus($n),d),p=At(x.times(x),d),i=3;;){if(o=At(o.times(p),d),c=l.plus(Xa(o,new w(i),d)),ra(c.d).slice(0,d)===ra(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(O_(w,d+2,b).times(a+""))),l=Xa(l,new w(m),d),w.precision=b,e==null?(Ut=!0,At(l,b)):l;l=c,i+=2}}function MR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Uc(r/Dt),t.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Dt;n<i;)t.d.push(+e.slice(n,n+=Dt));e=e.slice(n),n=Dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Eg||t.e<-Eg))throw Error(jA+r)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,r){var n,i,a,o,l,c,d,p,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Dt,i=e,d=m[p=0];else{if(p=Math.ceil((n+1)/Dt),a=m.length,p>=a)return t;for(d=a=m[p],o=1;a>=10;a/=10)o++;n%=Dt,i=n-Dt+o}if(r!==void 0&&(a=tl(10,o-i-1),l=d/a%10|0,c=e<0||m[p+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/tl(10,o-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=cr(t),m.length=1,e=e-a-1,m[0]=tl(10,(Dt-e%Dt)%Dt),t.e=Uc(-e/Dt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=tl(10,Dt-n),m[p]=i>0?(d/tl(10,o-i)%tl(10,i)|0)*a:0),c)for(;;)if(p==0){(m[0]+=a)==Ir&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Ir)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Ut&&(t.e>Eg||t.e<-Eg))throw Error(jA+cr(t));return t}function p6(t,e){var r,n,i,a,o,l,c,d,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ut?At(e,x):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(p=o<0,p?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),i=Math.max(Math.ceil(x/Dt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){p=c[i]<m[i];break}o=0}for(p&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Ir-1;--c[a],c[i]+=Ir}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ut?At(e,x):e):new y(0)}function wl(t,e,r){var n,i=cr(t),a=ra(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+zo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zo(-i-1)+a,r&&(n=r-o)>0&&(a+=zo(n))):i>=o?(a+=zo(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+zo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=zo(n))),t.s<0?"-"+a:a}function DR(t,e){if(t.length>e)return t.length=e,!0}function m6(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(dl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return MR(o,a.toString())}else if(typeof a!="string")throw Error(dl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ore.test(a))MR(o,a);else throw Error(dl+a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=m6,i.config=i.set=sre,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function sre(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,r,n,i=["precision",1,Fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Uc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(dl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dl+r+": "+n);return this}var kA=m6(are);$n=new kA(1);const St=kA;function lre(t){return fre(t)||dre(t)||cre(t)||ure()}function ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(t,e){if(t){if(typeof t=="string")return NS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NS(t,e)}}function dre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fre(t){if(Array.isArray(t))return NS(t)}function NS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hre=function(e){return e},g6={},y6=function(e){return e===g6},LR=function(e){return function r(){return arguments.length===0||arguments.length===1&&y6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},pre=function t(e,r){return e===1?r:LR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==g6}).length;return o>=e?r.apply(void 0,i):t(e-o,LR(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var p=i.map(function(m){return y6(m)?c.shift():m});return r.apply(void 0,lre(p).concat(c))}))})},tv=function(e){return pre(e.length,e)},OS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},mre=tv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),gre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return hre;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},RS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},v6=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function yre(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function vre(t,e,r){for(var n=new St(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var bre=tv(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),xre=tv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),wre=tv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const rv={rangeStep:vre,getDigitCount:yre,interpolateNumber:bre,uninterpolateNumber:xre,uninterpolateTruncation:wre};function MS(t){return Ere(t)||Sre(t)||b6(t)||_re()}function _re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ere(t){if(Array.isArray(t))return DS(t)}function Vf(t,e){return Pre(t)||Are(t,e)||b6(t,e)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b6(t,e){if(t){if(typeof t=="string")return DS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DS(t,e)}}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Are(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Pre(t){if(Array.isArray(t))return t}function x6(t){var e=Vf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function w6(t,e,r){if(t.lte(0))return new St(0);var n=rv.getDigitCount(t.toNumber()),i=new St(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new St(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new St(Math.ceil(c))}function jre(t,e,r){var n=1,i=new St(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new St(10).pow(rv.getDigitCount(t)-1),i=new St(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):r||(i=new St(Math.floor(t)));var o=Math.floor((e-1)/2),l=gre(mre(function(c){return i.add(new St(c-o).mul(n)).toNumber()}),OS);return l(0,e)}function _6(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=w6(new St(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new St(0):(o=new St(t).add(e).div(2),o=o.sub(new St(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new St(e).sub(o).div(a).toNumber()),d=l+c+1;return d>r?_6(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:a,tickMin:o.sub(new St(l).mul(a)),tickMax:o.add(new St(c).mul(a))})}function kre(t){var e=Vf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=x6([r,n]),c=Vf(l,2),d=c[0],p=c[1];if(d===-1/0||p===1/0){var m=p===1/0?[d].concat(MS(OS(0,i-1).map(function(){return 1/0}))):[].concat(MS(OS(0,i-1).map(function(){return-1/0})),[p]);return r>n?RS(m):m}if(d===p)return jre(d,i,a);var y=_6(d,p,o,a),x=y.step,S=y.tickMin,w=y.tickMax,b=rv.rangeStep(S,w.add(new St(.1).mul(x)),x);return r>n?RS(b):b}function Ire(t,e){var r=Vf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=x6([n,i]),l=Vf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(e,2),m=w6(new St(d).sub(c).div(p-1),a,0),y=[].concat(MS(rv.rangeStep(new St(c),new St(d).sub(new St(.99).mul(m)),m)),[d]);return n>i?RS(y):y}var Cre=v6(kre),Nre=v6(Ire),Ore="Invariant failed";function _l(t,e){throw new Error(Ore)}var Rre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function Mre(t,e){return Vre(t)||$re(t,e)||Lre(t,e)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lre(t,e){if(t){if(typeof t=="string")return $R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $R(t,e)}}function $R(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $re(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Vre(t){if(Array.isArray(t))return t}function Fre(t,e){if(t==null)return{};var r=Ure(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ure(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T6(n.key),n)}}function qre(t,e,r){return e&&Bre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wre(t,e,r){return e=Ag(e),Hre(t,S6()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function Hre(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gre(t)}function Gre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S6=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function Kre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LS(t,e)}function E6(t,e,r){return e=T6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T6(t){var e=Xre(t,"string");return cc(e)=="symbol"?e:e+""}function Xre(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nv=(function(t){function e(){return zre(this,e),Wre(this,e,arguments)}return Kre(e,t),qre(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=Fre(n,Rre),x=Ge(y,!1);this.props.direction==="x"&&p.type!=="number"&&_l();var S=c.map(function(w){var b=d(w,l),T=b.x,E=b.y,I=b.value,N=b.errorVal;if(!N)return null;var k=[],O,P;if(Array.isArray(N)){var C=Mre(N,2);O=C[0],P=C[1]}else O=P=N;if(a==="vertical"){var R=p.scale,F=E+i,L=F+o,$=F-o,V=R(I-O),q=R(I+P);k.push({x1:q,y1:L,x2:q,y2:$}),k.push({x1:V,y1:F,x2:q,y2:F}),k.push({x1:V,y1:L,x2:V,y2:$})}else if(a==="horizontal"){var X=m.scale,te=T+i,re=te-o,Q=te+o,ae=X(I-O),ne=X(I+P);k.push({x1:re,y1:ne,x2:Q,y2:ne}),k.push({x1:te,y1:ae,x2:te,y2:ne}),k.push({x1:re,y1:ae,x2:Q,y2:ae})}return G.createElement(Et,Tg({className:"recharts-errorBar",key:"bar-".concat(k.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),k.map(function(W){return G.createElement("line",Tg({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return G.createElement(Et,{className:"recharts-errorBars"},S)}}])})(G.Component);E6(nv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});E6(nv,"displayName","ErrorBar");function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){Yre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yre(t,e,r){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=Jre(t,"string");return Ff(e)=="symbol"?e:e+""}function Jre(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A6=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ln(r,Bu);if(!o)return null;var l=Bu.defaultProps,c=l!==void 0?Xs(Xs({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,S=x.sectors||x.data||[];return p.concat(S.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?Xs(Xs({},y),m.props):{},S=x.dataKey,w=x.name,b=x.legendType,T=x.hide;return{inactive:T,dataKey:S,type:c.iconType||b||"square",color:IA(m),value:w||S,payload:x}}),Xs(Xs(Xs({},c),Bu.getWithHeight(o,i)),{},{payload:d,item:o})};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function FR(t){return rne(t)||tne(t)||ene(t)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t,e){if(t){if(typeof t=="string")return $S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $S(t,e)}}function tne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rne(t){if(Array.isArray(t))return $S(t)}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(r),!0).forEach(function(n){Wu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wu(t,e,r){return e=nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nne(t){var e=ine(t,"string");return Uf(e)=="symbol"?e:e+""}function ine(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $i(t,e,r){return pt(t)||pt(e)?r:wr(e)?si(t,e,r):Qe(e)?e(t):r}function sf(t,e,r,n){var i=rre(t,function(l){return $i(l,e)});if(r==="number"){var a=i.filter(function(l){return _e(l)||parseFloat(l)});return a.length?[Zy(a),Jy(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!pt(l)}):i;return o.map(function(l){return wr(l)||l instanceof Date?l:""})}var ane=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var p=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,y=d>=l-1?i[0].coordinate:i[d+1].coordinate,x=void 0;if(Sn(m-p)!==Sn(y-m)){var S=[];if(Sn(y-m)===Sn(c[1]-c[0])){x=y;var w=m+c[1]-c[0];S[0]=Math.min(w,(w+p)/2),S[1]=Math.max(w,(w+p)/2)}else{x=p;var b=y+c[1]-c[0];S[0]=Math.min(m,(b+m)/2),S[1]=Math.max(m,(b+m)/2)}var T=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>T[0]&&e<=T[1]||e>=S[0]&&e<=S[1]){o=i[d].index;break}}else{var E=Math.min(p,y),I=Math.max(p,y);if(e>(E+m)/2&&e<=(I+m)/2){o=i[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},IA=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},one=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var p=a[l[c]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var S=p[m[y]],w=S.items,b=S.cateAxisId,T=w.filter(function(P){return Ga(P.type).indexOf("Bar")>=0});if(T&&T.length){var E=T[0].type.defaultProps,I=E!==void 0?Yt(Yt({},E),T[0].props):T[0].props,N=I.barSize,k=I[b];o[k]||(o[k]=[]);var O=pt(N)?r:N;o[k].push({item:T[0],stackList:T.slice(1),barSize:pt(O)?void 0:Ri(O,n,0)})}}return o},sne=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Ri(r,i,0,!0),p,m=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=i/c,S=o.reduce(function(N,k){return N+k.barSize||0},0);S+=(c-1)*d,S>=i&&(S-=(c-1)*d,d=0),S>=i&&x>0&&(y=!0,x*=.9,S=c*x);var w=(i-S)/2>>0,b={offset:w-d,size:0};p=o.reduce(function(N,k){var O={item:k.item,position:{offset:b.offset+b.size+d,size:y?x:k.barSize}},P=[].concat(FR(N),[O]);return b=P[P.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(C){P.push({item:C,position:b})}),P},m)}else{var T=Ri(n,i,0,!0);i-2*T-(c-1)*d<=0&&(d=0);var E=(i-2*T-(c-1)*d)/c;E>1&&(E>>=0);var I=l===+l?Math.min(E,l):E;p=o.reduce(function(N,k,O){var P=[].concat(FR(N),[{item:k.item,position:{offset:T+(E+d)*O+(E-I)/2,size:I}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},m)}return p},lne=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=A6({children:a,legendWidth:c});if(d){var p=i||{},m=p.width,y=p.height,x=d.align,S=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&S==="middle")&&x!=="center"&&_e(e[x]))return Yt(Yt({},e),{},Wu({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&S!=="middle"&&_e(e[S]))return Yt(Yt({},e),{},Wu({},S,e[S]+(y||0)))}return e},une=function(e,r,n){return pt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},P6=function(e,r,n,i,a){var o=r.props.children,l=li(o,nv).filter(function(d){return une(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var m=$i(p,n);if(pt(m))return d;var y=Array.isArray(m)?[Zy(m),Jy(m)]:[m,m],x=c.reduce(function(S,w){var b=$i(p,w,0),T=y[0]-Math.abs(Array.isArray(b)?b[0]:b),E=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(T,S[0]),Math.max(E,S[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},cne=function(e,r,n,i,a){var o=r.map(function(l){return P6(e,l,n,a,i)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},j6=function(e,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&P6(e,c,d,i)||sf(e,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var p=0,m=d.length;p<m;p++)l[d[p]]||(l[d[p]]=!0,c.push(d[p]));return c},[])},k6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},I6=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},qa=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Sn(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+d,value:m,offset:d}});return p.filter(function(m){return!Ph(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+d,value:m,index:y,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,y){return{coordinate:i(m)+d,value:a?a[m]:m,index:y,offset:d}})},R_=new WeakMap,fm=function(e,r){if(typeof r!="function")return e;R_.has(e)||R_.set(e,new WeakMap);var n=R_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},C6=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Of(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xg(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:of(),realScaleType:"point"}:a==="category"?{scale:Of(),realScaleType:"band"}:{scale:xg(),realScaleType:"linear"};if(xl(i)){var c="scale".concat(Ly(i));return{scale:(AR[c]||of)(),realScaleType:AR[c]?c:"point"}}return Qe(i)?{scale:i}:{scale:of(),realScaleType:"point"}},zR=1e-4,N6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-zR,o=Math.max(i[0],i[1])+zR,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},O6=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},R6=function(e,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<n)&&(a[0]=n),(!_e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},dne=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Ph(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},fne=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=Ph(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},hne={sign:dne,expand:tY,none:tc,silhouette:rY,wiggle:nY,positive:fne},pne=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=hne[n],o=eY().keys(i).value(function(l,c){return+$i(l,c,0)}).order(pS).offset(a);return o(e)},mne=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Yt(Yt({},y.type.defaultProps),y.props):y.props,w=S.stackId,b=S.hide;if(b)return m;var T=S[n],E=m[T]||{hasStack:!1,stackGroups:{}};if(wr(w)){var I=E.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(y),E.hasStack=!0,E.stackGroups[w]=I}else E.stackGroups[Dy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Yt(Yt({},m),{},Wu({},T,E))},c),p={};return Object.keys(d).reduce(function(m,y){var x=d[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var T=x.stackGroups[b];return Yt(Yt({},w),{},Wu({},b,{numericAxisId:n,cateAxisId:i,items:T.items,stackedData:pne(e,T.items,a)}))},S)}return Yt(Yt({},m),{},Wu({},y,x))},p)},M6=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=Cre(d,a,l);return e.domain([Zy(p),Jy(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),y=Nre(m,a,l);return{niceTicks:y}}return null},Pg=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=$i(o,r.dataKey,r.domain[l]);return pt(c)?null:r.scale(c)-a/2+i},D6=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},gne=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(wr(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},yne=function(e){return e.reduce(function(r,n){return[Zy(n.concat([r[0]]).filter(_e)),Jy(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},L6=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,p){var m=yne(p.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VS=function(e,r,n){if(Qe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(_e(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(BR.test(e[0])){var a=+BR.exec(e[0])[1];i[0]=r[0]-a}else Qe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(_e(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(qR.test(e[1])){var o=+qR.exec(e[1])[1];i[1]=r[1]+o}else Qe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},jg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=iA(r,function(m){return m.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],p=a[l-1];o=Math.min((d.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},WR=function(e,r,n){return!e||!e.length||ev(e,si(n,"type.defaultProps.domain"))?r:e},CA=function(e,r){var n=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,p=n.hide;return Yt(Yt({},Ge(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:IA(e),value:$i(r,i),type:c,payload:r,chartType:d,hide:p})};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){$6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $6(t,e,r){return e=vne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vne(t){var e=bne(t,"string");return zf(e)=="symbol"?e:e+""}function bne(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xne(t,e){return Ene(t)||Sne(t,e)||_ne(t,e)||wne()}function wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ne(t,e){if(t){if(typeof t=="string")return GR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(t,e)}}function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Ene(t){if(Array.isArray(t))return t}var kg=Math.PI/180,Tne=function(e){return e*180/Math.PI},zt=function(e,r,n,i){return{x:e+Math.cos(-kg*i)*n,y:r+Math.sin(-kg*i)*n}},Ane=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Pne=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,p=Ri(e.cx,o,o/2),m=Ri(e.cy,l,l/2),y=Ane(o,l,n),x=Ri(e.innerRadius,y,0),S=Ri(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(b,T){var E=r[T],I=E.domain,N=E.reversed,k;if(pt(E.range))i==="angleAxis"?k=[c,d]:i==="radiusAxis"&&(k=[x,S]),N&&(k=[k[1],k[0]]);else{k=E.range;var O=k,P=xne(O,2);c=P[0],d=P[1]}var C=C6(E,a),R=C.realScaleType,F=C.scale;F.domain(I).range(k),N6(F);var L=M6(F,Da(Da({},E),{},{realScaleType:R})),$=Da(Da(Da({},E),L),{},{range:k,radius:S,realScaleType:R,scale:F,cx:p,cy:m,innerRadius:x,outerRadius:S,startAngle:c,endAngle:d});return Da(Da({},b),{},$6({},T,$))},{})},jne=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},kne=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=jne({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:Tne(d),angleInRadian:d}},Ine=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Cne=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},KR=function(e,r){var n=e.x,i=e.y,a=kne({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var p=Ine(r),m=p.startAngle,y=p.endAngle,x=l,S;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;S=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=m}return S?Da(Da({},r),{},{radius:o,angle:Cne(x,r)}):null},V6=function(e){return!D.isValidElement(e)&&!Qe(e)&&typeof e!="boolean"?e.className:""};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var Nne=["offset"];function One(t){return Lne(t)||Dne(t)||Mne(t)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return FS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(t,e)}}function Dne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lne(t){if(Array.isArray(t))return FS(t)}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ne(t,e){if(t==null)return{};var r=Vne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){Fne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fne(t,e,r){return e=Une(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Une(t){var e=zne(t,"string");return Bf(e)=="symbol"?e:e+""}function zne(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qf.apply(this,arguments)}var Bne=function(e){var r=e.value,n=e.formatter,i=pt(e.children)?r:e.children;return Qe(n)?n(i):i},qne=function(e,r){var n=Sn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Wne=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,p=c.cy,m=c.innerRadius,y=c.outerRadius,x=c.startAngle,S=c.endAngle,w=c.clockWise,b=(m+y)/2,T=qne(x,S),E=T>=0?1:-1,I,N;i==="insideStart"?(I=x+E*o,N=w):i==="insideEnd"?(I=S-E*o,N=!w):i==="end"&&(I=S+E*o,N=w),N=T<=0?N:!N;var k=zt(d,p,b,I),O=zt(d,p,b,I+(N?1:-1)*359),P="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),C=pt(e.id)?Dy("recharts-radial-line-"):e.id;return G.createElement("text",qf({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:C,d:P})),G.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Hne=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,p=a.startAngle,m=a.endAngle,y=(p+m)/2;if(i==="outside"){var x=zt(o,l,d+n,y),S=x.x,w=x.y;return{x:S,y:w,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,T=zt(o,l,b,y),E=T.x,I=T.y;return{x:E,y:I,textAnchor:"middle",verticalAnchor:"middle"}},Gne=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,d=o.width,p=o.height,m=p>=0?1:-1,y=m*i,x=m>0?"end":"start",S=m>0?"start":"end",w=d>=0?1:-1,b=w*i,T=w>0?"end":"start",E=w>0?"start":"end";if(a==="top"){var I={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:x};return br(br({},I),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var N={x:l+d/2,y:c+p+y,textAnchor:"middle",verticalAnchor:S};return br(br({},N),n?{height:Math.max(n.y+n.height-(c+p),0),width:d}:{})}if(a==="left"){var k={x:l-b,y:c+p/2,textAnchor:T,verticalAnchor:"middle"};return br(br({},k),n?{width:Math.max(k.x-n.x,0),height:p}:{})}if(a==="right"){var O={x:l+d+b,y:c+p/2,textAnchor:E,verticalAnchor:"middle"};return br(br({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var P=n?{width:d,height:p}:{};return a==="insideLeft"?br({x:l+b,y:c+p/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideRight"?br({x:l+d-b,y:c+p/2,textAnchor:T,verticalAnchor:"middle"},P):a==="insideTop"?br({x:l+d/2,y:c+y,textAnchor:"middle",verticalAnchor:S},P):a==="insideBottom"?br({x:l+d/2,y:c+p-y,textAnchor:"middle",verticalAnchor:x},P):a==="insideTopLeft"?br({x:l+b,y:c+y,textAnchor:E,verticalAnchor:S},P):a==="insideTopRight"?br({x:l+d-b,y:c+y,textAnchor:T,verticalAnchor:S},P):a==="insideBottomLeft"?br({x:l+b,y:c+p-y,textAnchor:E,verticalAnchor:x},P):a==="insideBottomRight"?br({x:l+d-b,y:c+p-y,textAnchor:T,verticalAnchor:x},P):Dc(a)&&(_e(a.x)||il(a.x))&&(_e(a.y)||il(a.y))?br({x:l+Ri(a.x,d),y:c+Ri(a.y,p),textAnchor:"end",verticalAnchor:"end"},P):br({x:l+d/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Kne=function(e){return"cx"in e&&_e(e.cx)};function Fr(t){var e=t.offset,r=e===void 0?5:e,n=$ne(t,Nne),i=br({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,p=i.className,m=p===void 0?"":p,y=i.textBreakAll;if(!a||pt(l)&&pt(c)&&!D.isValidElement(d)&&!Qe(d))return null;if(D.isValidElement(d))return D.cloneElement(d,i);var x;if(Qe(d)){if(x=D.createElement(d,i),D.isValidElement(x))return x}else x=Bne(i);var S=Kne(a),w=Ge(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wne(i,x,w);var b=S?Hne(i):Gne(i);return G.createElement(oc,qf({className:et("recharts-label",m)},w,b,{breakAll:y}),x)}Fr.displayName="Label";var F6=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,S=e.left,w=e.width,b=e.height,T=e.clockWise,E=e.labelViewBox;if(E)return E;if(_e(w)&&_e(b)){if(_e(m)&&_e(y))return{x:m,y,width:w,height:b};if(_e(x)&&_e(S))return{x,y:S,width:w,height:b}}return _e(m)&&_e(y)?{x:m,y,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:p||c||l||0,clockWise:T}:e.viewBox?e.viewBox:{}},Xne=function(e,r){return e?e===!0?G.createElement(Fr,{key:"label-implicit",viewBox:r}):wr(e)?G.createElement(Fr,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===Fr?D.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(Fr,{key:"label-implicit",content:e,viewBox:r}):Qe(e)?G.createElement(Fr,{key:"label-implicit",content:e,viewBox:r}):Dc(e)?G.createElement(Fr,qf({viewBox:r},e,{key:"label-implicit"})):null:null},Yne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=F6(e),o=li(i,Fr).map(function(c,d){return D.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=Xne(e.label,r||a);return[l].concat(One(o))};Fr.parseViewBox=F6;Fr.renderCallByParent=Yne;var M_,YR;function Qne(){if(YR)return M_;YR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return M_=t,M_}var Jne=Qne();const Zne=wt(Jne);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var eie=["valueAccessor"],tie=["data","dataKey","clockWise","id","textBreakAll"];function rie(t){return oie(t)||aie(t)||iie(t)||nie()}function nie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(t,e){if(t){if(typeof t=="string")return US(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(t,e)}}function aie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oie(t){if(Array.isArray(t))return US(t)}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(this,arguments)}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){sie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sie(t,e,r){return e=lie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lie(t){var e=uie(t,"string");return Wf(e)=="symbol"?e:e+""}function uie(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZR(t,e){if(t==null)return{};var r=cie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var die=function(e){return Array.isArray(e.value)?Zne(e.value):e.value};function is(t){var e=t.valueAccessor,r=e===void 0?die:e,n=ZR(t,eie),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=ZR(n,tie);return!i||!i.length?null:G.createElement(Et,{className:"recharts-label-list"},i.map(function(p,m){var y=pt(a)?r(p,m):$i(p&&p.payload,a),x=pt(l)?{}:{id:"".concat(l,"-").concat(m)};return G.createElement(Fr,Ig({},Ge(p,!0),d,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:c,viewBox:Fr.parseViewBox(pt(o)?p:JR(JR({},p),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}is.displayName="LabelList";function fie(t,e){return t?t===!0?G.createElement(is,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Qe(t)?G.createElement(is,{key:"labelList-implicit",data:e,content:t}):Dc(t)?G.createElement(is,Ig({data:e},t,{key:"labelList-implicit"})):null:null}function hie(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=li(n,is).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=fie(t.label,e);return[a].concat(rie(i))}is.renderCallByParent=hie;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zS.apply(this,arguments)}function eM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(r),!0).forEach(function(n){pie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pie(t,e,r){return e=mie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mie(t){var e=gie(t,"string");return Hf(e)=="symbol"?e:e+""}function gie(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yie=function(e,r){var n=Sn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},hm=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,p=c*(l?1:-1)+i,m=Math.asin(c/p)/kg,y=d?a:a+o*m,x=zt(r,n,p,y),S=zt(r,n,i,y),w=d?a-o*m:a,b=zt(r,n,p*Math.cos(m*kg),w);return{center:x,circleTangency:S,lineTangency:b,theta:m}},U6=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=yie(o,l),d=o+c,p=zt(r,n,a,o),m=zt(r,n,a,d),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=zt(r,n,i,o),S=zt(r,n,i,d);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},vie=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,m=Sn(p-d),y=hm({cx:r,cy:n,radius:a,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,S=y.lineTangency,w=y.theta,b=hm({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:o,cornerIsExternal:c}),T=b.circleTangency,E=b.lineTangency,I=b.theta,N=c?Math.abs(d-p):Math.abs(d-p)-w-I;if(N<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):U6({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p});var k="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var O=hm({cx:r,cy:n,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=O.circleTangency,C=O.lineTangency,R=O.theta,F=hm({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=F.circleTangency,$=F.lineTangency,V=F.theta,q=c?Math.abs(d-p):Math.abs(d-p)-R-V;if(q<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},bie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z6=function(e){var r=tM(tM({},bie),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(o<a||p===m)return null;var x=et("recharts-sector",y),S=o-a,w=Ri(l,S,0,!0),b;return w>0&&Math.abs(p-m)<360?b=vie({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,S/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:p,endAngle:m}):b=U6({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:m}),G.createElement("path",zS({},Ge(r,!0),{className:x,d:b,role:"img"}))};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BS.apply(this,arguments)}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){xie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xie(t,e,r){return e=wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wie(t){var e=_ie(t,"string");return Gf(e)=="symbol"?e:e+""}function _ie(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iM={curveBasisClosed:BX,curveBasisOpen:qX,curveBasis:zX,curveBumpX:jX,curveBumpY:kX,curveLinearClosed:WX,curveLinear:Vy,curveMonotoneX:HX,curveMonotoneY:GX,curveNatural:KX,curveStep:XX,curveStepAfter:QX,curveStepBefore:YX},pm=function(e){return e.x===+e.x&&e.y===+e.y},Md=function(e){return e.x},Dd=function(e){return e.y},Sie=function(e,r){if(Qe(e))return e;var n="curve".concat(Ly(e));return(n==="curveMonotone"||n==="curveBump")&&r?iM["".concat(n).concat(r==="vertical"?"Y":"X")]:iM[n]||Vy},Eie=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,p=Sie(n,l),m=d?a.filter(function(w){return pm(w)}):a,y;if(Array.isArray(o)){var x=d?o.filter(function(w){return pm(w)}):o,S=m.map(function(w,b){return nM(nM({},w),{},{base:x[b]})});return l==="vertical"?y=am().y(Dd).x1(Md).x0(function(w){return w.base.x}):y=am().x(Md).y1(Dd).y0(function(w){return w.base.y}),y.defined(pm).curve(p),y(S)}return l==="vertical"&&_e(o)?y=am().y(Dd).x1(Md).x0(o):_e(o)?y=am().x(Md).y1(Dd).y0(o):y=F3().x(Md).y(Dd),y.defined(pm).curve(p),y(m)},aM=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Eie(e):i;return D.createElement("path",BS({},Ge(e,!1),rg(e),{className:et("recharts-curve",r),d:o,ref:a}))},D_={exports:{}},L_,oM;function Tie(){if(oM)return L_;oM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return L_=t,L_}var $_,sM;function Aie(){if(sM)return $_;sM=1;var t=Tie();function e(){}function r(){}return r.resetWarningCache=e,$_=function(){function n(o,l,c,d,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},$_}var lM;function Pie(){return lM||(lM=1,D_.exports=Aie()()),D_.exports}var jie=Pie();const vt=wt(jie),{getOwnPropertyNames:kie,getOwnPropertySymbols:Iie}=Object,{hasOwnProperty:Cie}=Object.prototype;function V_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function mm(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function Nie(t){return t!=null?t[Symbol.toStringTag]:void 0}function uM(t){return kie(t).concat(Iie(t))}const Oie=Object.hasOwn||((t,e)=>Cie.call(t,e));function Rl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Rie="__v",Mie="__o",Die="_owner",{getOwnPropertyDescriptor:cM,keys:dM}=Object;function Lie(t,e){return t.byteLength===e.byteLength&&Cg(new Uint8Array(t),new Uint8Array(e))}function $ie(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Vie(t,e){return t.byteLength===e.byteLength&&Cg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Fie(t,e){return Rl(t.getTime(),e.getTime())}function Uie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zie(t,e){return t===e}function fM(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const d=e.entries();let p=!1,m=0;for(;(l=d.next())&&!l.done;){if(i[m]){m++;continue}const y=o.value,x=l.value;if(r.equals(y[0],x[0],c,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;c++}return!0}const Bie=Rl;function qie(t,e,r){const n=dM(t);let i=n.length;if(dM(e).length!==i)return!1;for(;i-- >0;)if(!B6(t,e,r,n[i]))return!1;return!0}function Ld(t,e,r){const n=uM(t);let i=n.length;if(uM(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!B6(t,e,r,a)||(o=cM(t,a),l=cM(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Wie(t,e){return Rl(t.valueOf(),e.valueOf())}function Hie(t,e){return t.source===e.source&&t.flags===e.flags}function hM(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let d=!1,p=0;for(;(l=c.next())&&!l.done;){if(!i[p]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function Cg(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Gie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function B6(t,e,r,n){return(n===Die||n===Mie||n===Rie)&&(t.$$typeof||e.$$typeof)?!0:Oie(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Kie="[object ArrayBuffer]",Xie="[object Arguments]",Yie="[object Boolean]",Qie="[object DataView]",Jie="[object Date]",Zie="[object Error]",eae="[object Map]",tae="[object Number]",rae="[object Object]",nae="[object RegExp]",iae="[object Set]",aae="[object String]",oae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sae="[object URL]",lae=Object.prototype.toString;function uae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:x,unknownTagComparators:S}){return function(b,T,E){if(b===T)return!0;if(b==null||T==null)return!1;const I=typeof b;if(I!==typeof T)return!1;if(I!=="object")return I==="number"?l(b,T,E):I==="function"?a(b,T,E):!1;const N=b.constructor;if(N!==T.constructor)return!1;if(N===Object)return c(b,T,E);if(Array.isArray(b))return e(b,T,E);if(N===Date)return n(b,T,E);if(N===RegExp)return p(b,T,E);if(N===Map)return o(b,T,E);if(N===Set)return m(b,T,E);const k=lae.call(b);if(k===Jie)return n(b,T,E);if(k===nae)return p(b,T,E);if(k===eae)return o(b,T,E);if(k===iae)return m(b,T,E);if(k===rae)return typeof b.then!="function"&&typeof T.then!="function"&&c(b,T,E);if(k===sae)return x(b,T,E);if(k===Zie)return i(b,T,E);if(k===Xie)return c(b,T,E);if(oae[k])return y(b,T,E);if(k===Kie)return t(b,T,E);if(k===Qie)return r(b,T,E);if(k===Yie||k===tae||k===aae)return d(b,T,E);if(S){let O=S[k];if(!O){const P=Nie(b);P&&(O=S[P])}if(O)return O(b,T,E)}return!1}}function cae({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Lie,areArraysEqual:r?Ld:$ie,areDataViewsEqual:Vie,areDatesEqual:Fie,areErrorsEqual:Uie,areFunctionsEqual:zie,areMapsEqual:r?V_(fM,Ld):fM,areNumbersEqual:Bie,areObjectsEqual:r?Ld:qie,arePrimitiveWrappersEqual:Wie,areRegExpsEqual:Hie,areSetsEqual:r?V_(hM,Ld):hM,areTypedArraysEqual:r?V_(Cg,Ld):Cg,areUrlsEqual:Gie,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=mm(n.areArraysEqual),a=mm(n.areMapsEqual),o=mm(n.areObjectsEqual),l=mm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function dae(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function fae({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:p}=r();return e(l,c,{cache:d,equals:n,meta:p,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const hae=ws();ws({strict:!0});ws({circular:!0});ws({circular:!0,strict:!0});ws({createInternalComparator:()=>Rl});ws({strict:!0,createInternalComparator:()=>Rl});ws({circular:!0,createInternalComparator:()=>Rl});ws({circular:!0,createInternalComparator:()=>Rl,strict:!0});function ws(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=cae(t),o=uae(a),l=r?r(o):dae(o);return fae({circular:e,comparator:o,createState:n,equals:l,strict:i})}function pae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):pae(i)};requestAnimationFrame(n)}function qS(t){"@babel/helpers - typeof";return qS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qS(t)}function mae(t){return bae(t)||vae(t)||yae(t)||gae()}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yae(t,e){if(t){if(typeof t=="string")return mM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(t,e)}}function mM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bae(t){if(Array.isArray(t))return t}function xae(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=mae(o),c=l[0],d=l.slice(1);if(typeof c=="number"){pM(i.bind(null,d),c);return}i(c),pM(i.bind(null,d));return}qS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){q6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q6(t,e,r){return e=wae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wae(t){var e=_ae(t,"string");return Kf(e)==="symbol"?e:String(e)}function _ae(t,e){if(Kf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sae=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Eae=function(e){return e},Tae=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lf=function(e,r){return Object.keys(r).reduce(function(n,i){return yM(yM({},n),{},q6({},i,e(i,r[i])))},{})},vM=function(e,r,n){return e.map(function(i){return"".concat(Tae(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Aae(t,e){return kae(t)||jae(t,e)||W6(t,e)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function kae(t){if(Array.isArray(t))return t}function Iae(t){return Oae(t)||Nae(t)||W6(t)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W6(t,e){if(t){if(typeof t=="string")return WS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WS(t,e)}}function Nae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oae(t){if(Array.isArray(t))return WS(t)}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ng=1e-4,H6=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},G6=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},bM=function(e,r){return function(n){var i=H6(e,r);return G6(i,n)}},Rae=function(e,r){return function(n){var i=H6(e,r),a=[].concat(Iae(i.map(function(o,l){return o*l}).slice(1)),[0]);return G6(a,n)}},xM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=Aae(d,4);i=p[0],a=p[1],o=p[2],l=p[3]}}}var m=bM(i,o),y=bM(a,l),x=Rae(i,o),S=function(T){return T>1?1:T<0?0:T},w=function(T){for(var E=T>1?1:T,I=E,N=0;N<8;++N){var k=m(I)-E,O=x(I);if(Math.abs(k-E)<Ng||O<Ng)return y(I);I=S(I-k/O)}return y(I)};return w.isStepper=!1,w},Mae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(p,m,y){var x=-(p-m)*n,S=y*a,w=y+(x-S)*l/1e3,b=y*l/1e3+p;return Math.abs(b-m)<Ng&&Math.abs(w)<Ng?[m,0]:[b,w]};return c.isStepper=!0,c.dt=l,c},Dae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xM(i);case"spring":return Mae();default:if(i.split("(")[0]==="cubic-bezier")return xM(i)}return typeof i=="function"?i:null};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function wM(t){return Vae(t)||$ae(t)||K6(t)||Lae()}function Lae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vae(t){if(Array.isArray(t))return GS(t)}function _M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(r),!0).forEach(function(n){HS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HS(t,e,r){return e=Fae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fae(t){var e=Uae(t,"string");return Xf(e)==="symbol"?e:String(e)}function Uae(t,e){if(Xf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zae(t,e){return Wae(t)||qae(t,e)||K6(t,e)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K6(t,e){if(t){if(typeof t=="string")return GS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GS(t,e)}}function GS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Wae(t){if(Array.isArray(t))return t}var Og=function(e,r,n){return e+(r-e)*n},KS=function(e){var r=e.from,n=e.to;return r!==n},Hae=function t(e,r,n){var i=lf(function(a,o){if(KS(o)){var l=e(o.from,o.to,o.velocity),c=zae(l,2),d=c[0],p=c[1];return $r($r({},o),{},{from:d,velocity:p})}return o},r);return n<1?lf(function(a,o){return KS(o)?$r($r({},o),{},{velocity:Og(o.velocity,i[a].velocity,n),from:Og(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Gae=(function(t,e,r,n,i){var a=Sae(t,e),o=a.reduce(function(b,T){return $r($r({},b),{},HS({},T,[t[T],e[T]]))},{}),l=a.reduce(function(b,T){return $r($r({},b),{},HS({},T,{from:t[T],velocity:0,to:e[T]}))},{}),c=-1,d,p,m=function(){return null},y=function(){return lf(function(T,E){return E.from},l)},x=function(){return!Object.values(l).filter(KS).length},S=function(T){d||(d=T);var E=T-d,I=E/r.dt;l=Hae(r,l,I),i($r($r($r({},t),e),y())),d=T,x()||(c=requestAnimationFrame(m))},w=function(T){p||(p=T);var E=(T-p)/n,I=lf(function(k,O){return Og.apply(void 0,wM(O).concat([r(E)]))},o);if(i($r($r($r({},t),e),I)),E<1)c=requestAnimationFrame(m);else{var N=lf(function(k,O){return Og.apply(void 0,wM(O).concat([r(1)]))},o);i($r($r($r({},t),e),N))}};return m=r.isStepper?S:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}var Kae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xae(t,e){if(t==null)return{};var r=Yae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yae(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function F_(t){return eoe(t)||Zae(t)||Jae(t)||Qae()}function Qae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(t,e){if(t){if(typeof t=="string")return XS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XS(t,e)}}function Zae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eoe(t){if(Array.isArray(t))return XS(t)}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(r),!0).forEach(function(n){Yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yd(t,e,r){return e=X6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function roe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X6(n.key),n)}}function noe(t,e,r){return e&&roe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X6(t){var e=ioe(t,"string");return dc(e)==="symbol"?e:String(e)}function ioe(t,e){if(dc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YS(t,e)}function ooe(t){var e=soe();return function(){var n=Rg(t),i;if(e){var a=Rg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QS(this,i)}}function QS(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JS(t)}function JS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function soe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}var ao=(function(t){aoe(r,t);var e=ooe(r);function r(n,i){var a;toe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,p=o.to,m=o.steps,y=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(JS(a)),a.changeStyle=a.changeStyle.bind(JS(a)),!l||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),QS(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof y=="function")return a.state={style:d},QS(a);a.state={style:c?Yd({},c,d):d}}else a.state={style:{}};return a}return noe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,p=a.to,m=a.from,y=this.state.style;if(l){if(!o){var x={style:c?Yd({},c,p):p};this.state&&y&&(c&&y[c]!==p||!c&&y!==p)&&this.setState(x);return}if(!(hae(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=S||d?m:i.to;if(this.state&&y){var b={style:c?Yd({},c,w):w};(c&&y[c]!==w||!c&&y!==w)&&this.setState(b)}this.runAnimation(Ii(Ii({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,p=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,x=Gae(o,l,Dae(d),c,this.changeStyle),S=function(){a.stopJSAnimation=x()};this.manager.start([y,p,S,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],p=d.style,m=d.duration,y=m===void 0?0:m,x=function(w,b,T){if(T===0)return w;var E=b.duration,I=b.easing,N=I===void 0?"ease":I,k=b.style,O=b.properties,P=b.onAnimationEnd,C=T>0?o[T-1]:b,R=O||Object.keys(k);if(typeof N=="function"||N==="spring")return[].concat(F_(w),[a.runJSAnimation.bind(a,{from:C.style,to:k,duration:E,easing:N}),E]);var F=vM(R,E,N),L=Ii(Ii(Ii({},C.style),k),{},{transition:F});return[].concat(F_(w),[L,E,P]).filter(Eae)};return this.manager.start([c].concat(F_(o.reduce(x,[p,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=xae());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var w=l?Yd({},l,c):c,b=vM(Object.keys(w),o,d);S.start([p,a,Ii(Ii({},w),{},{transition:b}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Xae(i,Kae),d=D.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!l||d===0||o<=0)return a;var m=function(x){var S=x.props,w=S.style,b=w===void 0?{}:w,T=S.className,E=D.cloneElement(x,Ii(Ii({},c),{},{style:Ii(Ii({},b),p),className:T}));return E};return d===1?m(D.Children.only(a)):G.createElement("div",null,D.Children.map(a,function(y){return m(y)}))}}]),r})(D.PureComponent);ao.displayName="Animate";ao.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ao.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(this,arguments)}function loe(t,e){return foe(t)||doe(t,e)||coe(t,e)||uoe()}function uoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function coe(t,e){if(t){if(typeof t=="string")return EM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EM(t,e)}}function EM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function doe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function foe(t){if(Array.isArray(t))return t}function TM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(r),!0).forEach(function(n){hoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hoe(t,e,r){return e=poe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function poe(t){var e=moe(t,"string");return Yf(e)=="symbol"?e:e+""}function moe(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PM=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=a[y]>o?o:a[y];p="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),p+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),p+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),p+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-l*m[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);p="M ".concat(e,",").concat(r+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*S,`
            L `).concat(e+n,",").concat(r+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e,",").concat(r+i-l*S," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},goe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),p=Math.max(a,a+l),m=Math.min(o,o+c),y=Math.max(o,o+c);return n>=d&&n<=p&&i>=m&&i<=y}return!1},yoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NA=function(e){var r=AM(AM({},yoe),e),n=D.useRef(),i=D.useState(-1),a=loe(i,2),o=a[0],l=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,T=r.isAnimationActive,E=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var I=et("recharts-rectangle",x);return E?G.createElement(ao,{canBegin:o>0,from:{width:p,height:m,x:c,y:d},to:{width:p,height:m,x:c,y:d},duration:w,animationEasing:S,isActive:E},function(N){var k=N.width,O=N.height,P=N.x,C=N.y;return G.createElement(ao,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:T,easing:S},G.createElement("path",Mg({},Ge(r,!0),{className:I,d:PM(P,C,k,O,y),ref:n})))}):G.createElement("path",Mg({},Ge(r,!0),{className:I,d:PM(c,d,p,m,y)}))},voe=["points","className","baseLinePoints","connectNulls"];function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ou.apply(this,arguments)}function boe(t,e){if(t==null)return{};var r=xoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jM(t){return Eoe(t)||Soe(t)||_oe(t)||woe()}function woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(t,e){if(t){if(typeof t=="string")return ZS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(t,e)}}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eoe(t){if(Array.isArray(t))return ZS(t)}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kM=function(e){return e&&e.x===+e.x&&e.y===+e.y},Toe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){kM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),kM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uf=function(e,r){var n=Toe(e);r&&(n=[n.reduce(function(a,o){return[].concat(jM(a),jM(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Aoe=function(e,r,n){var i=uf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(uf(r.reverse(),n).slice(1))},Poe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=boe(e,voe);if(!r||!r.length)return null;var l=et("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=Aoe(r,i,a);return G.createElement("g",{className:l},G.createElement("path",Ou({},Ge(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?G.createElement("path",Ou({},Ge(o,!0),{fill:"none",d:uf(r,a)})):null,c?G.createElement("path",Ou({},Ge(o,!0),{fill:"none",d:uf(i,a)})):null)}var p=uf(r,a);return G.createElement("path",Ou({},Ge(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:l,d:p}))};function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eE.apply(this,arguments)}var OA=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=et("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",eE({},Ge(e,!1),rg(e),{className:o,cx:r,cy:n,r:i})):null};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}var joe=["x","y","top","left","width","height","className"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tE.apply(this,arguments)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function koe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){Ioe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ioe(t,e,r){return e=Coe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Coe(t){var e=Noe(t,"string");return Qf(e)=="symbol"?e:e+""}function Noe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ooe(t,e){if(t==null)return{};var r=Roe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Roe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Moe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Doe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,S=e.className,w=Ooe(e,joe),b=koe({x:n,y:a,top:l,left:d,width:m,height:x},w);return!_e(n)||!_e(a)||!_e(m)||!_e(x)||!_e(l)||!_e(d)?null:G.createElement("path",tE({},Ge(b,!0),{className:et("recharts-cross",S),d:Moe(n,a,m,x,l,d)}))},U_,CM;function Loe(){if(CM)return U_;CM=1;var t=Qy(),e=u6(),r=va();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return U_=n,U_}var $oe=Loe();const Voe=wt($oe);var z_,NM;function Foe(){if(NM)return z_;NM=1;var t=Qy(),e=va(),r=c6();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return z_=n,z_}var Uoe=Foe();const zoe=wt(Uoe);var Boe=["cx","cy","angle","ticks","axisLine"],qoe=["ticks","tick","angle","tickFormatter","stroke"];function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cf.apply(this,arguments)}function OM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(r),!0).forEach(function(n){iv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RM(t,e){if(t==null)return{};var r=Woe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Woe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q6(n.key),n)}}function Goe(t,e,r){return e&&MM(t.prototype,e),r&&MM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Koe(t,e,r){return e=Dg(e),Xoe(t,Y6()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function Xoe(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yoe(t)}function Yoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y6=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Qoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rE(t,e)}function iv(t,e,r){return e=Q6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q6(t){var e=Joe(t,"string");return fc(e)=="symbol"?e:e+""}function Joe(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var av=(function(t){function e(){return Hoe(this,e),Koe(this,e,arguments)}return Qoe(e,t),Goe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return zt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=Voe(l,function(p){return p.coordinate||0}),d=zoe(l,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=RM(n,Boe),p=l.reduce(function(S,w){return[Math.min(S[0],w.coordinate),Math.max(S[1],w.coordinate)]},[1/0,-1/0]),m=zt(i,a,p[0],o),y=zt(i,a,p[1],o),x=Ys(Ys(Ys({},Ge(d,!1)),{},{fill:"none"},Ge(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return G.createElement("line",cf({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,p=RM(i,qoe),m=this.getTickTextAnchor(),y=Ge(p,!1),x=Ge(o,!1),S=a.map(function(w,b){var T=n.getTickValueCoord(w),E=Ys(Ys(Ys(Ys({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(T.x,", ").concat(T.y,")")},y),{},{stroke:"none",fill:d},x),{},{index:b},T),{},{payload:w});return G.createElement(Et,cf({className:et("recharts-polar-radius-axis-tick",V6(o)),key:"tick-".concat(w.coordinate)},hs(n.props,w,b)),e.renderTickItem(o,E,c?c(w.value,b):w.value))});return G.createElement(Et,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:G.createElement(Et,{className:et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Fr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Qe(n)?o=n(i):o=G.createElement(oc,cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(D.PureComponent);iv(av,"displayName","PolarRadiusAxis");iv(av,"axisType","radiusAxis");iv(av,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rl.apply(this,arguments)}function DM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(r),!0).forEach(function(n){ov(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z6(n.key),n)}}function ese(t,e,r){return e&&LM(t.prototype,e),r&&LM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tse(t,e,r){return e=Lg(e),rse(t,J6()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function rse(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nse(t)}function nse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J6=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function ise(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nE(t,e)}function ov(t,e,r){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z6(t){var e=ase(t,"string");return hc(e)=="symbol"?e:e+""}function ase(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ose=Math.PI/180,$M=1e-5,Oh=(function(t){function e(){return Zoe(this,e),tse(this,e,arguments)}return ise(e,t),ese(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,p=d||8,m=zt(a,o,l,n.coordinate),y=zt(a,o,l+(c==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*ose),o;return a>$M?o=i==="outer"?"start":"end":a<-$M?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Qs(Qs({},Ge(this.props,!1)),{},{fill:"none"},Ge(l,!1));if(c==="circle")return G.createElement(OA,rl({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var p=this.props.ticks,m=p.map(function(y){return zt(i,a,o,y.coordinate)});return G.createElement(Poe,rl({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,p=Ge(this.props,!1),m=Ge(o,!1),y=Qs(Qs({},p),{},{fill:"none"},Ge(l,!1)),x=a.map(function(S,w){var b=n.getTickLineCoord(S),T=n.getTickTextAnchor(S),E=Qs(Qs(Qs({textAnchor:T},p),{},{stroke:"none",fill:d},m),{},{index:w,payload:S,x:b.x2,y:b.y2});return G.createElement(Et,rl({className:et("recharts-polar-angle-axis-tick",V6(o)),key:"tick-".concat(S.coordinate)},hs(n.props,S,w)),l&&G.createElement("line",rl({className:"recharts-polar-angle-axis-tick-line"},y,b)),o&&e.renderTickItem(o,E,c?c(S.value,w):S.value))});return G.createElement(Et,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:G.createElement(Et,{className:et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Qe(n)?o=n(i):o=G.createElement(oc,rl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(D.PureComponent);ov(Oh,"displayName","PolarAngleAxis");ov(Oh,"axisType","angleAxis");ov(Oh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var B_,VM;function sse(){if(VM)return B_;VM=1;var t=u$(),e=t(Object.getPrototypeOf,Object);return B_=e,B_}var q_,FM;function lse(){if(FM)return q_;FM=1;var t=co(),e=sse(),r=fo(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=l.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==c}return q_=d,q_}var use=lse();const cse=wt(use);var W_,UM;function dse(){if(UM)return W_;UM=1;var t=co(),e=fo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return W_=n,W_}var fse=dse();const hse=wt(fse);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$g.apply(this,arguments)}function pse(t,e){return vse(t)||yse(t,e)||gse(t,e)||mse()}function mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(t,e){if(t){if(typeof t=="string")return zM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zM(t,e)}}function zM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function vse(t){if(Array.isArray(t))return t}function BM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(r),!0).forEach(function(n){bse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bse(t,e,r){return e=xse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xse(t){var e=wse(t,"string");return Jf(e)=="symbol"?e:e+""}function wse(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WM=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},_se={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sse=function(e){var r=qM(qM({},_se),e),n=D.useRef(),i=D.useState(-1),a=pse(i,2),o=a[0],l=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&l(I)}catch{}},[]);var c=r.x,d=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,T=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var E=et("recharts-trapezoid",x);return T?G.createElement(ao,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:d},to:{upperWidth:p,lowerWidth:m,height:y,x:c,y:d},duration:w,animationEasing:S,isActive:T},function(I){var N=I.upperWidth,k=I.lowerWidth,O=I.height,P=I.x,C=I.y;return G.createElement(ao,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:S},G.createElement("path",$g({},Ge(r,!0),{className:E,d:WM(P,C,N,k,O),ref:n})))}):G.createElement("g",null,G.createElement("path",$g({},Ge(r,!0),{className:E,d:WM(c,d,p,m,y)})))},Ese=["option","shapeType","propTransformer","activeClassName","isActive"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Tse(t,e){if(t==null)return{};var r=Ase(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ase(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){Pse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pse(t,e,r){return e=jse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jse(t){var e=kse(t,"string");return Zf(e)=="symbol"?e:e+""}function kse(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ise(t,e){return Vg(Vg({},e),t)}function Cse(t,e){return t==="symbols"}function GM(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(NA,r);case"trapezoid":return G.createElement(Sse,r);case"sector":return G.createElement(z6,r);case"symbols":if(Cse(e))return G.createElement(YT,r);break;default:return null}}function Nse(t){return D.isValidElement(t)?t.props:t}function eV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Ise:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=Tse(t,Ese),d;if(D.isValidElement(e))d=D.cloneElement(e,Vg(Vg({},c),Nse(e)));else if(Qe(e))d=e(c);else if(cse(e)&&!hse(e)){var p=i(e,c);d=G.createElement(GM,{shapeType:r,elementProps:p})}else{var m=c;d=G.createElement(GM,{shapeType:r,elementProps:m})}return l?G.createElement(Et,{className:o},d):d}function sv(t,e){return e!=null&&"trapezoids"in t.props}function lv(t,e){return e!=null&&"sectors"in t.props}function eh(t,e){return e!=null&&"points"in t.props}function Ose(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Rse(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Mse(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Dse(t,e){var r;return sv(t,e)?r=Ose:lv(t,e)?r=Rse:eh(t,e)&&(r=Mse),r}function Lse(t,e){var r;return sv(t,e)?r="trapezoids":lv(t,e)?r="sectors":eh(t,e)&&(r="points"),r}function $se(t,e){if(sv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(lv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return eh(t,e)?e.payload:{}}function Vse(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Lse(r,e),a=$se(r,e),o=n.filter(function(c,d){var p=ev(a,c),m=r.props[i].filter(function(S){var w=Dse(r,e);return w(S,e)}),y=r.props[i].indexOf(m[m.length-1]),x=d===y;return p&&x}),l=n.indexOf(o[o.length-1]);return l}function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iE.apply(this,arguments)}function KM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(r),!0).forEach(function(n){Fse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fse(t,e,r){return e=Use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=zse(t,"string");return th(e)=="symbol"?e:e+""}function zse(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XM(t){return typeof t=="string"?parseInt(t,10):t}function Bse(t,e){var r="".concat(e.cx||t.cx),n=Number(r),i="".concat(e.cy||t.cy),a=Number(i);return H_(H_(H_({},e),t),{},{cx:n,cy:a})}function YM(t){return G.createElement(eV,iE({shapeType:"sector",propTransformer:Bse},t))}var qse=["shape","activeShape","activeIndex","cornerRadius"],Wse=["value","background"];function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fg.apply(this,arguments)}function QM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(r),!0).forEach(function(n){fl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JM(t,e){if(t==null)return{};var r=Hse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rV(n.key),n)}}function Kse(t,e,r){return e&&ZM(t.prototype,e),r&&ZM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xse(t,e,r){return e=Ug(e),Yse(t,tV()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function Yse(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(t)}function Qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function Jse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aE(t,e)}function fl(t,e,r){return e=rV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rV(t){var e=Zse(t,"string");return pc(e)=="symbol"?e:e+""}function Zse(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rh=(function(t){function e(){var r;Gse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xse(this,e,[].concat(i)),fl(r,"state",{isAnimationFinished:!1}),fl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qe(o)&&o()}),fl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qe(o)&&o()}),r}return Jse(e,t),Kse(e,[{key:"getDeltaAngle",value:function(){var n=this.props,i=n.startAngle,a=n.endAngle,o=Sn(a-i),l=Math.min(Math.abs(a-i),360);return o*l}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.activeShape,c=a.activeIndex,d=a.cornerRadius,p=JM(a,qse),m=Ge(p,!1);return n.map(function(y,x){var S=x===c,w=jr(jr(jr(jr({},m),{},{cornerRadius:XM(d)},y),hs(i.props,y,x)),{},{className:"recharts-radial-bar-sector ".concat(y.className),forceCornerRadius:p.forceCornerRadius,cornerIsExternal:p.cornerIsExternal,isActive:S,option:S?l:o});return G.createElement(YM,Fg({},w,{key:"sector-".concat(x)}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,p=i.animationId,m=this.state.prevData;return G.createElement(ao,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,S=a.map(function(w,b){var T=m&&m[b];if(T){var E=La(T.startAngle,w.startAngle),I=La(T.endAngle,w.endAngle);return jr(jr({},w),{},{startAngle:E(x),endAngle:I(x)})}var N=w.endAngle,k=w.startAngle,O=La(k,N);return jr(jr({},w),{},{endAngle:O(x)})});return G.createElement(Et,null,n.renderSectorsStatically(S))})}},{key:"renderSectors",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ev(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"renderBackground",value:function(n){var i=this,a=this.props.cornerRadius,o=Ge(this.props.background,!1);return n.map(function(l,c){l.value;var d=l.background,p=JM(l,Wse);if(!d)return null;var m=jr(jr(jr(jr(jr({cornerRadius:XM(a)},p),{},{fill:"#eee"},d),o),hs(i.props,l,c)),{},{index:c,className:et("recharts-radial-bar-background-sector",o==null?void 0:o.className),option:d,isActive:!1});return G.createElement(YM,Fg({},m,{key:"sector-".concat(c)}))})}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.background,c=n.isAnimationActive;if(i||!a||!a.length)return null;var d=this.state.isAnimationFinished,p=et("recharts-area",o);return G.createElement(Et,{className:p},l&&G.createElement(Et,{className:"recharts-radial-bar-background"},this.renderBackground(a)),G.createElement(Et,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!c||d)&&is.renderCallByParent(jr({},this.props),a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);fl(Rh,"displayName","RadialBar");fl(Rh,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!$c.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});fl(Rh,"getComposedData",function(t){var e=t.item,r=t.props,n=t.radiusAxis,i=t.radiusAxisTicks,a=t.angleAxis,o=t.angleAxisTicks,l=t.displayedData,c=t.dataKey,d=t.stackedData,p=t.barPosition,m=t.bandSize,y=t.dataStartIndex,x=O6(p,e);if(!x)return null;var S=a.cx,w=a.cy,b=r.layout,T=e.props,E=T.children,I=T.minPointSize,N=b==="radial"?a:n,k=d?N.scale.domain():null,O=D6({numericAxis:N}),P=li(E,qy),C=l.map(function(R,F){var L,$,V,q,X,te;if(d?L=R6(d[y+F],k):(L=$i(R,c),Array.isArray(L)||(L=[O,L])),b==="radial"){$=Pg({axis:n,ticks:i,bandSize:m,offset:x.offset,entry:R,index:F}),X=a.scale(L[1]),q=a.scale(L[0]),V=$+x.size;var re=X-q;if(Math.abs(I)>0&&Math.abs(re)<Math.abs(I)){var Q=Sn(re||I)*(Math.abs(I)-Math.abs(re));X+=Q}te={background:{cx:S,cy:w,innerRadius:$,outerRadius:V,startAngle:r.startAngle,endAngle:r.endAngle}}}else{$=n.scale(L[0]),V=n.scale(L[1]),q=Pg({axis:a,ticks:o,bandSize:m,offset:x.offset,entry:R,index:F}),X=q+x.size;var ae=V-$;if(Math.abs(I)>0&&Math.abs(ae)<Math.abs(I)){var ne=Sn(ae||I)*(Math.abs(I)-Math.abs(ae));V+=ne}}return jr(jr(jr(jr({},R),te),{},{payload:R,value:d?L:L[1],cx:S,cy:w,innerRadius:$,outerRadius:V,startAngle:q,endAngle:X},P&&P[F]&&P[F].props),{},{tooltipPayload:[CA(e,R)],tooltipPosition:zt(S,w,($+V)/2,(q+X)/2)})});return{data:C,layout:b}});var G_,eD;function ele(){if(eD)return G_;eD=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,c=e(t((i-n)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=a;return d}return G_=r,G_}var K_,tD;function nV(){if(tD)return K_;tD=1;var t=T$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return K_=n,K_}var X_,rD;function tle(){if(rD)return X_;rD=1;var t=ele(),e=By(),r=nV();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return X_=n,X_}var Y_,nD;function rle(){if(nD)return Y_;nD=1;var t=tle(),e=t();return Y_=e,Y_}var nle=rle();const zg=wt(nle);function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function iD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(r),!0).forEach(function(n){iV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iV(t,e,r){return e=ile(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ile(t){var e=ale(t,"string");return rh(e)=="symbol"?e:e+""}function ale(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ole=["Webkit","Moz","O","ms"],sle=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ole.reduce(function(a,o){return aD(aD({},a),{},iV({},o+n,r))},{});return i[e]=r,i};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bg.apply(this,arguments)}function oD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(r),!0).forEach(function(n){Dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oV(n.key),n)}}function ule(t,e,r){return e&&sD(t.prototype,e),r&&sD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cle(t,e,r){return e=qg(e),dle(t,aV()?Reflect.construct(e,r||[],qg(t).constructor):e.apply(t,r))}function dle(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fle(t)}function fle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(t)}function hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oE(t,e)}function Dn(t,e,r){return e=oV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oV(t){var e=ple(t,"string");return mc(e)=="symbol"?e:e+""}function ple(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mle=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=of().domain(zg(0,c)).range([a,a+o-l]),p=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:p}},lD=function(e){return e.changedTouches&&!!e.changedTouches.length},gc=(function(t){function e(r){var n;return lle(this,e),n=cle(this,e,[r]),Dn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Dn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Dn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Dn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Dn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Dn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Dn(n,"handleSlideDragStart",function(i){var a=lD(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return hle(e,t),ule(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,p=d.length-1,m=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(o,m),S=e.getIndexInRange(o,y);return{startIndex:x-x%c,endIndex:S===p?p:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=$i(a[n],l,n);return Qe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,p=c.width,m=c.travellerWidth,y=c.startIndex,x=c.endIndex,S=c.onChange,w=n.pageX-a;w>0?w=Math.min(w,d+p-m-l,d+p-m-o):w<0&&(w=Math.max(w,d-o,d-l));var b=this.getIndex({startX:o+w,endX:l+w});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=lD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,S=p.onChange,w=p.gap,b=p.data,T={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,m+y-x-d):E<0&&(E=Math.max(E,m-d)),T[o]=d+E;var I=this.getIndex(T),N=I.startIndex,k=I.endIndex,O=function(){var C=b.length-1;return o==="startX"&&(l>c?N%w===0:k%w===0)||l<c&&k===C||o==="endX"&&(l>c?k%w===0:N%w===0)||l>c&&k===C};this.setState(Dn(Dn({},o,d+E),"brushMoveStartX",n.pageX),function(){S&&O()&&S(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,p=this.state[i],m=l.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=l.length)){var x=l[y];i==="startX"&&x>=d||i==="endX"&&x<=c||this.setState(Dn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return G.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,p=n.padding,m=D.Children.only(d);return m?G.cloneElement(m,{x:i,y:a,width:o,height:l,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,p=c.travellerWidth,m=c.height,y=c.traveller,x=c.ariaLabel,S=c.data,w=c.startIndex,b=c.endIndex,T=Math.max(n,this.props.x),E=Q_(Q_({},Ge(this.props,!1)),{},{x:T,y:d,width:p,height:m}),I=x||"Min value: ".concat((a=S[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[b])===null||o===void 0?void 0:o.name);return G.createElement(Et,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,p=Math.min(n,i)+d,m=Math.max(Math.abs(i-n)-d,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,S={pointerEvents:"none",fill:d};return G.createElement(Et,{className:"recharts-brush-texts"},G.createElement(oc,Bg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:o+l/2},S),this.getTextOfTick(i)),G.createElement(oc,Bg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+x,y:o+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,w=y.isTextActive,b=y.isSlideMoving,T=y.isTravellerMoving,E=y.isTravellerFocused;if(!i||!i.length||!_e(l)||!_e(c)||!_e(d)||!_e(p)||d<=0||p<=0)return null;var I=et("recharts-brush",a),N=G.Children.count(o)===1,k=sle("userSelect","none");return G.createElement(Et,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(w||b||T||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),G.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return G.isValidElement(n)?a=G.cloneElement(n,i):Qe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Q_({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?mle({data:a,width:o,x:l,travellerWidth:c,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(D.PureComponent);Dn(gc,"displayName","Brush");Dn(gc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var J_,uD;function gle(){if(uD)return J_;uD=1;var t=nA();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return J_=e,J_}var Z_,cD;function yle(){if(cD)return Z_;cD=1;var t=r$(),e=va(),r=gle(),n=Pn(),i=By();function a(o,l,c){var d=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return Z_=a,Z_}var vle=yle();const ble=wt(vle);var da=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},e1,dD;function xle(){if(dD)return e1;dD=1;var t=x$();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return e1=e,e1}var t1,fD;function wle(){if(fD)return t1;fD=1;var t=xle(),e=v$(),r=va();function n(i,a){var o={};return a=r(a,3),e(i,function(l,c,d){t(o,c,a(l,c,d))}),o}return t1=n,t1}var _le=wle();const Sle=wt(_le);var r1,hD;function Ele(){if(hD)return r1;hD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return r1=t,r1}var n1,pD;function Tle(){if(pD)return n1;pD=1;var t=nA();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return n1=e,n1}var i1,mD;function Ale(){if(mD)return i1;mD=1;var t=Ele(),e=Tle(),r=va(),n=Pn(),i=By();function a(o,l,c){var d=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return i1=a,i1}var Ple=Ale();const sV=wt(Ple);var jle=["x","y"];function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sE.apply(this,arguments)}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){kle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kle(t,e,r){return e=Ile(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ile(t){var e=Cle(t,"string");return nh(e)=="symbol"?e:e+""}function Cle(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nle(t,e){if(t==null)return{};var r=Ole(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ole(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rle(t,e){var r=t.x,n=t.y,i=Nle(t,jle),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),p=parseInt(d,10),m="".concat(e.width||i.width),y=parseInt(m,10);return $d($d($d($d($d({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function yD(t){return G.createElement(eV,sE({shapeType:"rectangle",propTransformer:Rle,activeClassName:"recharts-active-bar"},t))}var Mle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=_e(n)||YK(n);return a?e(n,i):(a||_l(),r)}},Dle=["value","background"],lV;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Lle(t,e){if(t==null)return{};var r=$le(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $le(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wg.apply(this,arguments)}function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(n){Yo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cV(n.key),n)}}function Fle(t,e,r){return e&&bD(t.prototype,e),r&&bD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,r){return e=Hg(e),zle(t,uV()?Reflect.construct(e,r||[],Hg(t).constructor):e.apply(t,r))}function zle(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ble(t)}function Ble(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(t)}function qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lE(t,e)}function Yo(t,e,r){return e=cV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cV(t){var e=Wle(t,"string");return yc(e)=="symbol"?e:e+""}function Wle(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ml=(function(t){function e(){var r;Vle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ule(this,e,[].concat(i)),Yo(r,"state",{isAnimationFinished:!1}),Yo(r,"id",Dy("recharts-bar-")),Yo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Yo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return qle(e,t),Fle(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,p=Ge(this.props,!1);return n&&n.map(function(m,y){var x=y===c,S=x?d:o,w=sr(sr(sr({},p),m),{},{isActive:x,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(Et,Wg({className:"recharts-bar-rectangle"},hs(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),G.createElement(yD,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,p=i.animationEasing,m=i.animationId,y=this.state.prevData;return G.createElement(ao,{begin:c,duration:d,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,w=a.map(function(b,T){var E=y&&y[T];if(E){var I=La(E.x,b.x),N=La(E.y,b.y),k=La(E.width,b.width),O=La(E.height,b.height);return sr(sr({},b),{},{x:I(S),y:N(S),width:k(S),height:O(S)})}if(o==="horizontal"){var P=La(0,b.height),C=P(S);return sr(sr({},b),{},{y:b.y+b.height-C,height:C})}var R=La(0,b.width),F=R(S);return sr(sr({},b),{},{width:F})});return G.createElement(Et,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ev(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Ge(this.props.background,!1);return a.map(function(d,p){d.value;var m=d.background,y=Lle(d,Dle);if(!m)return null;var x=sr(sr(sr(sr(sr({},y),{},{fill:"#eee"},m),c),hs(n.props,d,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(yD,Wg({key:"background-bar-".concat(p),option:n.props.background,isActive:p===l},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,p=a.children,m=li(p,nv);if(!m)return null;var y=d==="vertical"?o[0].height/2:o[0].width/2,x=function(b,T){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:$i(b,T)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(Et,S,m.map(function(w){return G.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,S=n.background,w=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,T=et("recharts-bar",o),E=l&&l.allowDataOverflow,I=c&&c.allowDataOverflow,N=E||I,k=pt(w)?this.id:w;return G.createElement(Et,{className:T},E||I?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(k)},G.createElement("rect",{x:E?d:d-m/2,y:I?p:p-y/2,width:E?m:m*2,height:I?y:y*2}))):null,G.createElement(Et,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(k,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,k),(!x||b)&&is.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);lV=Ml;Yo(Ml,"displayName","Bar");Yo(Ml,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$c.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(Ml,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=O6(n,r);if(!x)return null;var S=e.layout,w=r.type.defaultProps,b=w!==void 0?sr(sr({},w),r.props):r.props,T=b.dataKey,E=b.children,I=b.minPointSize,N=S==="horizontal"?o:a,k=d?N.scale.domain():null,O=D6({numericAxis:N}),P=li(E,qy),C=m.map(function(R,F){var L,$,V,q,X,te;d?L=R6(d[p+F],k):(L=$i(R,T),Array.isArray(L)||(L=[O,L]));var re=Mle(I,lV.defaultProps.minPointSize)(L[1],F);if(S==="horizontal"){var Q,ae=[o.scale(L[0]),o.scale(L[1])],ne=ae[0],W=ae[1];$=Pg({axis:a,ticks:l,bandSize:i,offset:x.offset,entry:R,index:F}),V=(Q=W??ne)!==null&&Q!==void 0?Q:void 0,q=x.size;var Y=ne-W;if(X=Number.isNaN(Y)?0:Y,te={x:$,y:o.y,width:q,height:o.height},Math.abs(re)>0&&Math.abs(X)<Math.abs(re)){var de=Sn(X||re)*(Math.abs(re)-Math.abs(X));V-=de,X+=de}}else{var se=[a.scale(L[0]),a.scale(L[1])],xe=se[0],Re=se[1];if($=xe,V=Pg({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:R,index:F}),q=Re-xe,X=x.size,te={x:a.x,y:V,width:a.width,height:X},Math.abs(re)>0&&Math.abs(q)<Math.abs(re)){var ue=Sn(q||re)*(Math.abs(re)-Math.abs(q));q+=ue}}return sr(sr(sr({},R),{},{x:$,y:V,width:q,height:X,value:d?L:L[1],payload:R,background:te},P&&P[F]&&P[F].props),{},{tooltipPayload:[CA(r,R)],tooltipPosition:{x:$+q/2,y:V+X/2}})});return sr({data:C,layout:S},y)});function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function Hle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dV(n.key),n)}}function Gle(t,e,r){return e&&xD(t.prototype,e),r&&xD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(r),!0).forEach(function(n){uv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uv(t,e,r){return e=dV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dV(t){var e=Kle(t,"string");return ih(e)=="symbol"?e:e+""}function Kle(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xle=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},y=!!Ln(d,Ml);return p.reduce(function(x,S){var w=r[S],b=w.orientation,T=w.domain,E=w.padding,I=E===void 0?{}:E,N=w.mirror,k=w.reversed,O="".concat(b).concat(N?"Mirror":""),P,C,R,F,L;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var $=T[1]-T[0],V=1/0,q=w.categoricalDomain.sort(ZK);if(q.forEach(function(se,xe){xe>0&&(V=Math.min((se||0)-(q[xe-1]||0),V))}),Number.isFinite(V)){var X=V/$,te=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(P=X*te/2),w.padding==="no-gap"){var re=Ri(e.barCategoryGap,X*te),Q=X*te/2;P=Q-re-(Q-re)/te*re}}}i==="xAxis"?C=[n.left+(I.left||0)+(P||0),n.left+n.width-(I.right||0)-(P||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(P||0),n.top+n.height-(I.bottom||0)-(P||0)]:C=w.range,k&&(C=[C[1],C[0]]);var ae=C6(w,a,y),ne=ae.scale,W=ae.realScaleType;ne.domain(T).range(C),N6(ne);var Y=M6(ne,Ci(Ci({},w),{},{realScaleType:W}));i==="xAxis"?(L=b==="top"&&!N||b==="bottom"&&N,R=n.left,F=m[O]-L*w.height):i==="yAxis"&&(L=b==="left"&&!N||b==="right"&&N,R=m[O]-L*w.width,F=n.top);var de=Ci(Ci(Ci({},w),Y),{},{realScaleType:W,x:R,y:F,scale:ne,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return de.bandSize=jg(de,Y),!w.hide&&i==="xAxis"?m[O]+=(L?-1:1)*de.height:w.hide||(m[O]+=(L?-1:1)*de.width),Ci(Ci({},x),{},uv({},S,de))},{})},fV=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Yle=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return fV({x:r,y:n},{x:i,y:a})},hV=(function(){function t(e){Hle(this,t),this.scale=e}return Gle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();uv(hV,"EPS",1e-4);var RA=function(e){var r=Object.keys(e).reduce(function(n,i){return Ci(Ci({},n),{},uv({},i,hV.create(e[i])))},{});return Ci(Ci({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Sle(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return sV(i,function(a,o){return r[o].isInRange(a)})}})};function Qle(t){return(t%180+180)%180}var Jle=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Qle(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},a1,_D;function Zle(){if(_D)return a1;_D=1;var t=va(),e=jh(),r=Uy();function n(i){return function(a,o,l){var c=Object(a);if(!e(a)){var d=t(o,3);a=r(a),o=function(m){return d(c[m],m,c)}}var p=i(a,o,l);return p>-1?c[d?a[p]:p]:void 0}}return a1=n,a1}var o1,SD;function eue(){if(SD)return o1;SD=1;var t=nV();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return o1=e,o1}var s1,ED;function tue(){if(ED)return s1;ED=1;var t=h$(),e=va(),r=eue(),n=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(a,e(o,3),d)}return s1=i,s1}var l1,TD;function rue(){if(TD)return l1;TD=1;var t=Zle(),e=tue(),r=t(e);return l1=r,l1}var nue=rue();const iue=wt(nue);var aue=k3();const oue=wt(aue);var sue=oue(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),MA=D.createContext(void 0),DA=D.createContext(void 0),pV=D.createContext(void 0),mV=D.createContext({}),gV=D.createContext(void 0),yV=D.createContext(0),vV=D.createContext(0),AD=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,p=sue(a);return G.createElement(MA.Provider,{value:n},G.createElement(DA.Provider,{value:i},G.createElement(mV.Provider,{value:a},G.createElement(pV.Provider,{value:p},G.createElement(gV.Provider,{value:o},G.createElement(yV.Provider,{value:d},G.createElement(vV.Provider,{value:c},l)))))))},lue=function(){return D.useContext(gV)},bV=function(e){var r=D.useContext(MA);r==null&&_l();var n=r[e];return n==null&&_l(),n},uue=function(){var e=D.useContext(MA);return Ho(e)},cue=function(){var e=D.useContext(DA),r=iue(e,function(n){return sV(n.domain,Number.isFinite)});return r||Ho(e)},xV=function(e){var r=D.useContext(DA);r==null&&_l();var n=r[e];return n==null&&_l(),n},due=function(){var e=D.useContext(pV);return e},fue=function(){return D.useContext(mV)},LA=function(){return D.useContext(vV)},$A=function(){return D.useContext(yV)};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_V(n.key),n)}}function mue(t,e,r){return e&&pue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gue(t,e,r){return e=Gg(e),yue(t,wV()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function yue(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vue(t)}function vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uE(t,e)}function PD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(r),!0).forEach(function(n){VA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VA(t,e,r){return e=_V(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _V(t){var e=xue(t,"string");return vc(e)=="symbol"?e:e+""}function xue(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wue(t,e){return Tue(t)||Eue(t,e)||Sue(t,e)||_ue()}function _ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t,e){if(t){if(typeof t=="string")return kD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(t,e)}}function kD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Tue(t){if(Array.isArray(t))return t}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cE.apply(this,arguments)}var Aue=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):Qe(e)?n=e(r):n=G.createElement("line",cE({},r,{className:"recharts-reference-line-line"})),n},Pue=function(e,r,n,i,a,o,l,c,d){var p=a.x,m=a.y,y=a.width,x=a.height;if(n){var S=d.y,w=e.y.apply(S,{position:o});if(da(d,"discard")&&!e.y.isInRange(w))return null;var b=[{x:p+y,y:w},{x:p,y:w}];return c==="left"?b.reverse():b}if(r){var T=d.x,E=e.x.apply(T,{position:o});if(da(d,"discard")&&!e.x.isInRange(E))return null;var I=[{x:E,y:m+x},{x:E,y:m}];return l==="top"?I.reverse():I}if(i){var N=d.segment,k=N.map(function(O){return e.apply(O,{position:o})});return da(d,"discard")&&ble(k,function(O){return!e.isInRange(O)})?null:k}return null};function jue(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=lue(),p=bV(i),m=xV(a),y=due();if(!d||!y)return null;Ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=RA({x:p.scale,y:m.scale}),S=wr(e),w=wr(r),b=n&&n.length===2,T=Pue(x,S,w,b,y,t.position,p.orientation,m.orientation,t);if(!T)return null;var E=wue(T,2),I=E[0],N=I.x,k=I.y,O=E[1],P=O.x,C=O.y,R=da(t,"hidden")?"url(#".concat(d,")"):void 0,F=jD(jD({clipPath:R},Ge(t,!0)),{},{x1:N,y1:k,x2:P,y2:C});return G.createElement(Et,{className:et("recharts-reference-line",l)},Aue(o,F),Fr.renderCallByParent(t,Yle({x1:N,y1:k,x2:P,y2:C})))}var cv=(function(t){function e(){return hue(this,e),gue(this,e,arguments)}return bue(e,t),mue(e,[{key:"render",value:function(){return G.createElement(jue,this.props)}}])})(G.Component);VA(cv,"displayName","ReferenceLine");VA(cv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dE.apply(this,arguments)}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){dv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EV(n.key),n)}}function Cue(t,e,r){return e&&Iue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nue(t,e,r){return e=Kg(e),Oue(t,SV()?Reflect.construct(e,r||[],Kg(t).constructor):e.apply(t,r))}function Oue(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rue(t)}function Rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(t)}function Mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fE(t,e)}function dv(t,e,r){return e=EV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EV(t){var e=Due(t,"string");return bc(e)=="symbol"?e:e+""}function Due(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lue=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=RA({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return da(e,"discard")&&!o.isInRange(l)?null:l},fv=(function(t){function e(){return kue(this,e),Nue(this,e,arguments)}return Mue(e,t),Cue(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=wr(i),p=wr(a);if(Ka(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var m=Lue(this.props);if(!m)return null;var y=m.x,x=m.y,S=this.props,w=S.shape,b=S.className,T=da(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=CD(CD({clipPath:T},Ge(this.props,!0)),{},{cx:y,cy:x});return G.createElement(Et,{className:et("recharts-reference-dot",b)},e.renderDot(w,E),Fr.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])})(G.Component);dv(fv,"displayName","ReferenceDot");dv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dv(fv,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Qe(t)?r=t(e):r=G.createElement(OA,dE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hE.apply(this,arguments)}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function ND(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(r),!0).forEach(function(n){hv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AV(n.key),n)}}function Fue(t,e,r){return e&&Vue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uue(t,e,r){return e=Xg(e),zue(t,TV()?Reflect.construct(e,r||[],Xg(t).constructor):e.apply(t,r))}function zue(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bue(t)}function Bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(t)}function que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pE(t,e)}function hv(t,e,r){return e=AV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AV(t){var e=Wue(t,"string");return xc(e)=="symbol"?e:e+""}function Wue(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hue=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var y=RA({x:p.scale,y:m.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(d,{position:"end"}):y.y.rangeMax};return da(a,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:fV(x,S)},pv=(function(t){function e(){return $ue(this,e),Uue(this,e,arguments)}return que(e,t),Fue(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,p=n.clipPathId;Ka(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=wr(i),y=wr(a),x=wr(o),S=wr(l),w=this.props.shape;if(!m&&!y&&!x&&!S&&!w)return null;var b=Hue(m,y,x,S,this.props);if(!b&&!w)return null;var T=da(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(Et,{className:et("recharts-reference-area",c)},e.renderRect(w,OD(OD({clipPath:T},Ge(this.props,!0)),b)),Fr.renderCallByParent(this.props,b))}}])})(G.Component);hv(pv,"displayName","ReferenceArea");hv(pv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hv(pv,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Qe(t)?r=t(e):r=G.createElement(NA,hE({},e,{className:"recharts-reference-area-rect"})),r});function PV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Gue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Jle(n,r)}function Kue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Yg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Xue(t,e){return PV(t,e+1)}function Yue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,p=o,m=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:PV(n,d)};var w=c,b,T=function(){return b===void 0&&(b=r(S,w)),b},E=S.coordinate,I=c===0||Yg(t,E,T,p,l);I||(c=0,p=o,d+=1),I&&(p=E+t*(T()/2+i),c+=d)},y;d<=a.length;)if(y=m(),y)return y.v;return[]}function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function RD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(r),!0).forEach(function(n){Que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Que(t,e,r){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jue(t){var e=Zue(t,"string");return ah(e)=="symbol"?e:e+""}function Zue(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ece(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(y){var x=a[y],S,w=function(){return S===void 0&&(S=r(x,y)),S};if(y===o-1){var b=t*(x.coordinate+t*w()/2-c);a[y]=x=Xr(Xr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=Xr(Xr({},x),{},{tickCoord:x.coordinate});var T=Yg(t,x.tickCoord,w,l,c);T&&(c=x.tickCoord-t*(w()/2+i),a[y]=Xr(Xr({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)d(p);return a}function tce(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var p=n[l-1],m=r(p,l-1),y=t*(p.coordinate+t*m/2-d);o[l-1]=p=Xr(Xr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Yg(t,p.tickCoord,function(){return m},c,d);x&&(d=p.tickCoord-t*(m/2+i),o[l-1]=Xr(Xr({},p),{},{isShow:!0}))}for(var S=a?l-1:l,w=function(E){var I=o[E],N,k=function(){return N===void 0&&(N=r(I,E)),N};if(E===0){var O=t*(I.coordinate-t*k()/2-c);o[E]=I=Xr(Xr({},I),{},{tickCoord:O<0?I.coordinate-O*t:I.coordinate})}else o[E]=I=Xr(Xr({},I),{},{tickCoord:I.coordinate});var P=Yg(t,I.tickCoord,k,c,d);P&&(c=I.tickCoord+t*(k()/2+i),o[E]=Xr(Xr({},I),{},{isShow:!0}))},b=0;b<S;b++)w(b);return o}function FA(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(_e(c)||$c.isSsr)return Xue(i,typeof c=="number"&&_e(c)?c:0);var y=[],x=l==="top"||l==="bottom"?"width":"height",S=p&&x==="width"?af(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(I,N){var k=Qe(d)?d(I.value,N):I.value;return x==="width"?Gue(af(k,{fontSize:e,letterSpacing:r}),S,m):af(k,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?Sn(i[1].coordinate-i[0].coordinate):1,T=Kue(a,b,x);return c==="equidistantPreserveStart"?Yue(b,T,w,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=tce(b,T,w,i,o,c==="preserveStartEnd"):y=ece(b,T,w,i,o),y.filter(function(E){return E.isShow}))}var rce=["viewBox"],nce=["viewBox"],ice=["ticks"];function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function MD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(r),!0).forEach(function(n){UA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u1(t,e){if(t==null)return{};var r=ace(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ace(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kV(n.key),n)}}function sce(t,e,r){return e&&DD(t.prototype,e),r&&DD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lce(t,e,r){return e=Qg(e),uce(t,jV()?Reflect.construct(e,r||[],Qg(t).constructor):e.apply(t,r))}function uce(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cce(t)}function cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jV=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(t)}function dce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mE(t,e)}function UA(t,e,r){return e=kV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kV(t){var e=fce(t,"string");return wc(e)=="symbol"?e:e+""}function fce(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zc=(function(t){function e(r){var n;return oce(this,e),n=lce(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return dce(e,t),sce(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=u1(n,rce),l=this.props,c=l.viewBox,d=u1(l,nce);return!zu(a,c)||!zu(o,d)||!zu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,p=i.tickSize,m=i.mirror,y=i.tickMargin,x,S,w,b,T,E,I=m?-1:1,N=n.tickSize||p,k=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":x=S=n.coordinate,b=o+ +!m*c,w=b-I*N,E=w-I*y,T=k;break;case"left":w=b=n.coordinate,S=a+ +!m*l,x=S-I*N,T=x-I*y,E=k;break;case"right":w=b=n.coordinate,S=a+ +m*l,x=S+I*N,T=x+I*y,E=k;break;default:x=S=n.coordinate,b=o+ +m*c,w=b+I*N,E=w+I*y,T=k;break}return{line:{x1:x,y1:w,x2:S,y2:b},tick:{x:T,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,p=n.axisLine,m=yr(yr(yr({},Ge(this.props,!1)),Ge(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!d||c==="bottom"&&d);m=yr(yr({},m),{},{x1:i,y1:a+y*l,x2:i+o,y2:a+y*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);m=yr(yr({},m),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+l})}return G.createElement("line",Ru({},m,{className:et("recharts-cartesian-axis-line",si(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,p=l.tick,m=l.tickFormatter,y=l.unit,x=FA(yr(yr({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Ge(this.props,!1),T=Ge(p,!1),E=yr(yr({},b),{},{fill:"none"},Ge(c,!1)),I=x.map(function(N,k){var O=o.getTickLineCoord(N),P=O.line,C=O.tick,R=yr(yr(yr(yr({textAnchor:S,verticalAnchor:w},b),{},{stroke:"none",fill:d},T),C),{},{index:k,payload:N,visibleTicksCount:x.length,tickFormatter:m});return G.createElement(Et,Ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},hs(o.props,N,k)),c&&G.createElement("line",Ru({},E,P,{className:et("recharts-cartesian-axis-tick-line",si(c,"className"))})),p&&e.renderTickItem(p,R,"".concat(Qe(m)?m(N.value,k):N.value).concat(y||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,p=i.hide;if(p)return null;var m=this.props,y=m.ticks,x=u1(m,ice),S=y;return Qe(c)&&(S=y&&y.length>0?c(this.props):c(x)),o<=0||l<=0||!S||!S.length?null:G.createElement(Et,{className:et("recharts-cartesian-axis",d),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Fr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=et(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?o=G.cloneElement(n,yr(yr({},i),{},{className:l})):Qe(n)?o=n(yr(yr({},i),{},{className:l})):o=G.createElement(oc,Ru({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(D.Component);UA(zc,"displayName","CartesianAxis");UA(zc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hce=["x1","y1","x2","y2","key"],pce=["offset"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function LD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(r),!0).forEach(function(n){mce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mce(t,e,r){return e=gce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gce(t){var e=yce(t,"string");return Sl(e)=="symbol"?e:e+""}function yce(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sl.apply(this,arguments)}function $D(t,e){if(t==null)return{};var r=vce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bce=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return G.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function IV(t,e){var r;if(G.isValidElement(t))r=G.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=$D(e,hce),d=Ge(c,!1);d.offset;var p=$D(d,pce);r=G.createElement("line",sl({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function xce(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Jr(Jr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return IV(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function wce(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Jr(Jr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return IV(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function _ce(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var p=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],w=S?i+o-y:p[x+1]-y;if(w<=0)return null;var b=x%e.length;return G.createElement("rect",{key:"react-".concat(x),y,x:n,height:w,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Sce(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var p=d.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],w=S?a+l-y:p[x+1]-y;if(w<=0)return null;var b=x%n.length;return G.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Ece=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return I6(FA(Jr(Jr(Jr({},zc.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Tce=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return I6(FA(Jr(Jr(Jr({},zc.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Pu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CV(t){var e,r,n,i,a,o,l=LA(),c=$A(),d=fue(),p=Jr(Jr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Pu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Pu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Pu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Pu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Pu.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Pu.verticalFill,x:_e(t.x)?t.x:d.left,y:_e(t.y)?t.y:d.top,width:_e(t.width)?t.width:d.width,height:_e(t.height)?t.height:d.height}),m=p.x,y=p.y,x=p.width,S=p.height,w=p.syncWithTicks,b=p.horizontalValues,T=p.verticalValues,E=uue(),I=cue();if(!_e(x)||x<=0||!_e(S)||S<=0||!_e(m)||m!==+m||!_e(y)||y!==+y)return null;var N=p.verticalCoordinatesGenerator||Ece,k=p.horizontalCoordinatesGenerator||Tce,O=p.horizontalPoints,P=p.verticalPoints;if((!O||!O.length)&&Qe(k)){var C=b&&b.length,R=k({yAxis:I?Jr(Jr({},I),{},{ticks:C?b:I.ticks}):void 0,width:l,height:c,offset:d},C?!0:w);Ka(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(R),"]")),Array.isArray(R)&&(O=R)}if((!P||!P.length)&&Qe(N)){var F=T&&T.length,L=N({xAxis:E?Jr(Jr({},E),{},{ticks:F?T:E.ticks}):void 0,width:l,height:c,offset:d},F?!0:w);Ka(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(L),"]")),Array.isArray(L)&&(P=L)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(bce,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(xce,sl({},p,{offset:d,horizontalPoints:O,xAxis:E,yAxis:I})),G.createElement(wce,sl({},p,{offset:d,verticalPoints:P,xAxis:E,yAxis:I})),G.createElement(_ce,sl({},p,{horizontalPoints:O})),G.createElement(Sce,sl({},p,{verticalPoints:P})))}CV.displayName="CartesianGrid";function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RV(n.key),n)}}function jce(t,e,r){return e&&Pce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kce(t,e,r){return e=Jg(e),Ice(t,NV()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function Ice(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(t)}function Cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NV=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}function Nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gE(t,e)}function OV(t,e,r){return e=RV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RV(t){var e=Oce(t,"string");return _c(e)=="symbol"?e:e+""}function Oce(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yE.apply(this,arguments)}function Rce(t){var e=t.xAxisId,r=LA(),n=$A(),i=bV(e);return i==null?null:D.createElement(zc,yE({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return qa(o,!0)}}))}var mv=(function(t){function e(){return Ace(this,e),kce(this,e,arguments)}return Nce(e,t),jce(e,[{key:"render",value:function(){return D.createElement(Rce,this.props)}}])})(D.Component);OV(mv,"displayName","XAxis");OV(mv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function Mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LV(n.key),n)}}function Lce(t,e,r){return e&&Dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ce(t,e,r){return e=Zg(e),Vce(t,MV()?Reflect.construct(e,r||[],Zg(t).constructor):e.apply(t,r))}function Vce(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(t)}function Uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vE(t,e)}function DV(t,e,r){return e=LV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LV(t){var e=zce(t,"string");return Sc(e)=="symbol"?e:e+""}function zce(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bE.apply(this,arguments)}var Bce=function(e){var r=e.yAxisId,n=LA(),i=$A(),a=xV(r);return a==null?null:D.createElement(zc,bE({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return qa(l,!0)}}))},gv=(function(t){function e(){return Mce(this,e),$ce(this,e,arguments)}return Uce(e,t),Lce(e,[{key:"render",value:function(){return D.createElement(Bce,this.props)}}])})(D.Component);DV(gv,"displayName","YAxis");DV(gv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VD(t){return Gce(t)||Hce(t)||Wce(t)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wce(t,e){if(t){if(typeof t=="string")return xE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(t,e)}}function Hce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gce(t){if(Array.isArray(t))return xE(t)}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wE=function(e,r,n,i,a){var o=li(e,cv),l=li(e,fv),c=[].concat(VD(o),VD(l)),d=li(e,pv),p="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(w,b){if(b.props[p]===n&&da(b.props,"extendDomain")&&_e(b.props[m])){var T=b.props[m];return[Math.min(w[0],T),Math.max(w[1],T)]}return w},y)),d.length){var x="".concat(m,"1"),S="".concat(m,"2");y=d.reduce(function(w,b){if(b.props[p]===n&&da(b.props,"extendDomain")&&_e(b.props[x])&&_e(b.props[S])){var T=b.props[x],E=b.props[S];return[Math.min(w[0],T,E),Math.max(w[1],T,E)]}return w},y)}return a&&a.length&&(y=a.reduce(function(w,b){return _e(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},y)),y},c1={exports:{}},FD;function Kce(){return FD||(FD=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function a(c,d,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||c,y),S=r?r+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)e.call(p,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=r?r+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,S=new Array(x);y<x;y++)S[y]=m[y].fn;return S},l.prototype.listenerCount=function(d){var p=r?r+d:d,m=this._events[p];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,p,m,y,x,S){var w=r?r+d:d;if(!this._events[w])return!1;var b=this._events[w],T=arguments.length,E,I;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),T){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,S),!0}for(I=1,E=new Array(T-1);I<T;I++)E[I-1]=arguments[I];b.fn.apply(b.context,E)}else{var N=b.length,k;for(I=0;I<N;I++)switch(b[I].once&&this.removeListener(d,b[I].fn,void 0,!0),T){case 1:b[I].fn.call(b[I].context);break;case 2:b[I].fn.call(b[I].context,p);break;case 3:b[I].fn.call(b[I].context,p,m);break;case 4:b[I].fn.call(b[I].context,p,m,y);break;default:if(!E)for(k=1,E=new Array(T-1);k<T;k++)E[k-1]=arguments[k];b[I].fn.apply(b[I].context,E)}}return!0},l.prototype.on=function(d,p,m){return a(this,d,p,m,!1)},l.prototype.once=function(d,p,m){return a(this,d,p,m,!0)},l.prototype.removeListener=function(d,p,m,y){var x=r?r+d:d;if(!this._events[x])return this;if(!p)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!y||S.once)&&(!m||S.context===m)&&o(this,x);else{for(var w=0,b=[],T=S.length;w<T;w++)(S[w].fn!==p||y&&!S[w].once||m&&S[w].context!==m)&&b.push(S[w]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(c1)),c1.exports}var Xce=Kce();const Yce=wt(Xce);var d1=new Yce,f1="recharts.syncMouseEvents";function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function Qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$V(n.key),n)}}function Zce(t,e,r){return e&&Jce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h1(t,e,r){return e=$V(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $V(t){var e=ede(t,"string");return oh(e)=="symbol"?e:e+""}function ede(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tde=(function(){function t(){Qce(this,t),h1(this,"activeIndex",0),h1(this,"coordinateList",[]),h1(this,"layout","horizontal")}return Zce(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+d,y=o+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function rde(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&_e(n)&&_e(i))return!0}return!1}function nde(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function VV(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=zt(e,r,n,i),l=zt(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function ide(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,p=e.outerRadius,m=e.angle,y=zt(l,c,d,m),x=zt(l,c,p,m);n=y.x,i=y.y,a=x.x,o=x.y}else return VV(e);return[{x:n,y:i},{x:a,y:o}]}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function UD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(r),!0).forEach(function(n){ade(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ade(t,e,r){return e=ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ode(t){var e=sde(t,"string");return sh(e)=="symbol"?e:e+""}function sde(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lde(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,w=aM;if(y==="ScatterChart")S=o,w=Doe;else if(y==="BarChart")S=nde(m,o,c,p),w=NA;else if(m==="radial"){var b=VV(o),T=b.cx,E=b.cy,I=b.radius,N=b.startAngle,k=b.endAngle;S={cx:T,cy:E,startAngle:N,endAngle:k,innerRadius:I,outerRadius:I},w=z6}else S={points:ide(m,o,c)},w=aM;var O=gm(gm(gm(gm({stroke:"#ccc",pointerEvents:"none"},c),S),Ge(x,!1)),{},{payload:l,payloadIndex:d,className:et("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,O):D.createElement(w,O)}var ude=["item"],cde=["children","className","width","height","style","compact","title","desc"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function zD(t,e){return hde(t)||fde(t,e)||UV(t,e)||dde()}function dde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function hde(t){if(Array.isArray(t))return t}function BD(t,e){if(t==null)return{};var r=pde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zV(n.key),n)}}function yde(t,e,r){return e&&gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vde(t,e,r){return e=ey(e),bde(t,FV()?Reflect.construct(e,r||[],ey(t).constructor):e.apply(t,r))}function bde(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xde(t)}function xde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(t)}function wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_E(t,e)}function Tc(t){return Ede(t)||Sde(t)||UV(t)||_de()}function _de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(t,e){if(t){if(typeof t=="string")return SE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(t,e)}}function Sde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ede(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(r),!0).forEach(function(n){Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ue(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=Tde(t,"string");return Ec(e)=="symbol"?e:e+""}function Tde(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ade={xAxis:["bottom","top"],yAxis:["left","right"]},Pde={width:"100%",height:"100%"},BV={x:0,y:0};function ym(t){return t}var jde=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},kde=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return le(le(le({},i),zt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return le(le(le({},i),zt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return BV},yv=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Tc(l),Tc(d)):l},[]);return o.length>0?o:e&&e.length&&_e(i)&&_e(a)?e.slice(i,a+1):[]};function qV(t){return t==="number"?[0,"auto"]:void 0}var EE=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=yv(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var p,m=(p=d.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?l:m;y=aS(x,o.dataKey,i)}else y=m&&m[n]||l[n];return y?[].concat(Tc(c),[CA(d,y)]):c},[])},WD=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=jde(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,p=ane(o,l,d,c);if(p>=0&&d){var m=d[p]&&d[p].value,y=EE(e,r,p,m),x=kde(n,l,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},Ide=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=k6(p,a);return n.reduce(function(S,w){var b,T=w.type.defaultProps!==void 0?le(le({},w.type.defaultProps),w.props):w.props,E=T.type,I=T.dataKey,N=T.allowDataOverflow,k=T.allowDuplicatedCategory,O=T.scale,P=T.ticks,C=T.includeHidden,R=T[o];if(S[R])return S;var F=yv(e.data,{graphicalItems:i.filter(function(Y){var de,se=o in Y.props?Y.props[o]:(de=Y.type.defaultProps)===null||de===void 0?void 0:de[o];return se===R}),dataStartIndex:c,dataEndIndex:d}),L=F.length,$,V,q;rde(T.domain,N,E)&&($=VS(T.domain,null,N),x&&(E==="number"||O!=="auto")&&(q=sf(F,I,"category")));var X=qV(E);if(!$||$.length===0){var te,re=(te=T.domain)!==null&&te!==void 0?te:X;if(I){if($=sf(F,I,E),E==="category"&&x){var Q=JK($);k&&Q?(V=$,$=zg(0,L)):k||($=WR(re,$,w).reduce(function(Y,de){return Y.indexOf(de)>=0?Y:[].concat(Tc(Y),[de])},[]))}else if(E==="category")k?$=$.filter(function(Y){return Y!==""&&!pt(Y)}):$=WR(re,$,w).reduce(function(Y,de){return Y.indexOf(de)>=0||de===""||pt(de)?Y:[].concat(Tc(Y),[de])},[]);else if(E==="number"){var ae=cne(F,i.filter(function(Y){var de,se,xe=o in Y.props?Y.props[o]:(de=Y.type.defaultProps)===null||de===void 0?void 0:de[o],Re="hide"in Y.props?Y.props.hide:(se=Y.type.defaultProps)===null||se===void 0?void 0:se.hide;return xe===R&&(C||!Re)}),I,a,p);ae&&($=ae)}x&&(E==="number"||O!=="auto")&&(q=sf(F,I,"category"))}else x?$=zg(0,L):l&&l[R]&&l[R].hasStack&&E==="number"?$=y==="expand"?[0,1]:L6(l[R].stackGroups,c,d):$=j6(F,i.filter(function(Y){var de=o in Y.props?Y.props[o]:Y.type.defaultProps[o],se="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return de===R&&(C||!se)}),E,p,!0);if(E==="number")$=wE(m,$,R,a,P),re&&($=VS(re,$,N));else if(E==="category"&&re){var ne=re,W=$.every(function(Y){return ne.indexOf(Y)>=0});W&&($=ne)}}return le(le({},S),{},Ue({},R,le(le({},T),{},{axisType:a,domain:$,categoricalDomain:q,duplicateDomain:V,originalDomain:(b=T.domain)!==null&&b!==void 0?b:X,isCategorical:x,layout:p})))},{})},Cde=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,y=yv(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),x=y.length,S=k6(p,a),w=-1;return n.reduce(function(b,T){var E=T.type.defaultProps!==void 0?le(le({},T.type.defaultProps),T.props):T.props,I=E[o],N=qV("number");if(!b[I]){w++;var k;return S?k=zg(0,x):l&&l[I]&&l[I].hasStack?(k=L6(l[I].stackGroups,c,d),k=wE(m,k,I,a)):(k=VS(N,j6(y,n.filter(function(O){var P,C,R=o in O.props?O.props[o]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[o],F="hide"in O.props?O.props.hide:(C=O.type.defaultProps)===null||C===void 0?void 0:C.hide;return R===I&&!F}),"number",p),i.defaultProps.allowDataOverflow),k=wE(m,k,I,a)),le(le({},b),{},Ue({},I,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:si(Ade,"".concat(a,".").concat(w%2),null),domain:k,originalDomain:N,isCategorical:S,layout:p})))}return b},{})},Nde=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),y=li(p,a),x={};return y&&y.length?x=Ide(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=Cde(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},Ode=function(e){var r=Ho(e),n=qa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:iA(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jg(r,n)}},HD=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ln(r,gc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Rde=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ga(r&&r.type);return n&&n.indexOf("Bar")>=0})},GD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mde=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,p=n.height,m=n.children,y=n.margin||{},x=Ln(m,gc),S=Ln(m,Bu),w=Object.keys(c).reduce(function(k,O){var P=c[O],C=P.orientation;return!P.mirror&&!P.hide?le(le({},k),{},Ue({},C,k[C]+P.width)):k},{left:y.left||0,right:y.right||0}),b=Object.keys(o).reduce(function(k,O){var P=o[O],C=P.orientation;return!P.mirror&&!P.hide?le(le({},k),{},Ue({},C,si(k,"".concat(C))+P.height)):k},{top:y.top||0,bottom:y.bottom||0}),T=le(le({},b),w),E=T.bottom;x&&(T.bottom+=x.props.height||gc.defaultProps.height),S&&r&&(T=lne(T,i,n,r));var I=d-T.left-T.right,N=p-T.top-T.bottom;return le(le({brushBottom:E},T),{},{width:Math.max(I,0),height:Math.max(N,0)})},Dde=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},WV=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(T,E){var I=E.graphicalItems,N=E.stackGroups,k=E.offset,O=E.updateId,P=E.dataStartIndex,C=E.dataEndIndex,R=T.barSize,F=T.layout,L=T.barGap,$=T.barCategoryGap,V=T.maxBarSize,q=GD(F),X=q.numericAxisName,te=q.cateAxisName,re=Rde(I),Q=[];return I.forEach(function(ae,ne){var W=yv(T.data,{graphicalItems:[ae],dataStartIndex:P,dataEndIndex:C}),Y=ae.type.defaultProps!==void 0?le(le({},ae.type.defaultProps),ae.props):ae.props,de=Y.dataKey,se=Y.maxBarSize,xe=Y["".concat(X,"Id")],Re=Y["".concat(te,"Id")],ue={},Se=c.reduce(function($t,me){var Xe=E["".concat(me.axisType,"Map")],Nt=Y["".concat(me.axisType,"Id")];Xe&&Xe[Nt]||me.axisType==="zAxis"||_l();var Gt=Xe[Nt];return le(le({},$t),{},Ue(Ue({},me.axisType,Gt),"".concat(me.axisType,"Ticks"),qa(Gt)))},ue),fe=Se[te],Ee=Se["".concat(te,"Ticks")],Le=N&&N[xe]&&N[xe].hasStack&&gne(ae,N[xe].stackGroups),pe=Ga(ae.type).indexOf("Bar")>=0,it=jg(fe,Ee),We=[],gt=re&&one({barSize:R,stackGroups:N,totalSize:Dde(Se,te)});if(pe){var dt,_t,nr=pt(se)?V:se,fr=(dt=(_t=jg(fe,Ee,!0))!==null&&_t!==void 0?_t:nr)!==null&&dt!==void 0?dt:0;We=sne({barGap:L,barCategoryGap:$,bandSize:fr!==it?fr:it,sizeList:gt[Re],maxBarSize:nr}),fr!==it&&(We=We.map(function($t){return le(le({},$t),{},{position:le(le({},$t.position),{},{offset:$t.position.offset-fr/2})})}))}var hr=ae&&ae.type&&ae.type.getComposedData;hr&&Q.push({props:le(le({},hr(le(le({},Se),{},{displayedData:W,props:T,dataKey:de,item:ae,bandSize:it,barPosition:We,offset:k,stackedData:Le,layout:F,dataStartIndex:P,dataEndIndex:C}))),{},Ue(Ue(Ue({key:ae.key||"item-".concat(ne)},X,Se[X]),te,Se[te]),"animationId",O)),childIndex:cX(ae,T.children),item:ae})}),Q},x=function(T,E){var I=T.props,N=T.dataStartIndex,k=T.dataEndIndex,O=T.updateId;if(!sN({props:I}))return null;var P=I.children,C=I.layout,R=I.stackOffset,F=I.data,L=I.reverseStackOrder,$=GD(C),V=$.numericAxisName,q=$.cateAxisName,X=li(P,n),te=mne(F,X,"".concat(V,"Id"),"".concat(q,"Id"),R,L),re=c.reduce(function(Y,de){var se="".concat(de.axisType,"Map");return le(le({},Y),{},Ue({},se,Nde(I,le(le({},de),{},{graphicalItems:X,stackGroups:de.axisType===V&&te,dataStartIndex:N,dataEndIndex:k}))))},{}),Q=Mde(le(le({},re),{},{props:I,graphicalItems:X}),E==null?void 0:E.legendBBox);Object.keys(re).forEach(function(Y){re[Y]=p(I,re[Y],Q,Y.replace("Map",""),r)});var ae=re["".concat(q,"Map")],ne=Ode(ae),W=y(I,le(le({},re),{},{dataStartIndex:N,dataEndIndex:k,updateId:O,graphicalItems:X,stackGroups:te,offset:Q}));return le(le({formattedGraphicalItems:W,graphicalItems:X,offset:Q,stackGroups:te},ne),re)},S=(function(b){function T(E){var I,N,k;return mde(this,T),k=vde(this,T,[E]),Ue(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(k,"accessibilityManager",new tde),Ue(k,"handleLegendBBoxUpdate",function(O){if(O){var P=k.state,C=P.dataStartIndex,R=P.dataEndIndex,F=P.updateId;k.setState(le({legendBBox:O},x({props:k.props,dataStartIndex:C,dataEndIndex:R,updateId:F},le(le({},k.state),{},{legendBBox:O}))))}}),Ue(k,"handleReceiveSyncEvent",function(O,P,C){if(k.props.syncId===O){if(C===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(P)}}),Ue(k,"handleBrushChange",function(O){var P=O.startIndex,C=O.endIndex;if(P!==k.state.dataStartIndex||C!==k.state.dataEndIndex){var R=k.state.updateId;k.setState(function(){return le({dataStartIndex:P,dataEndIndex:C},x({props:k.props,dataStartIndex:P,dataEndIndex:C,updateId:R},k.state))}),k.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),Ue(k,"handleMouseEnter",function(O){var P=k.getMouseInfo(O);if(P){var C=le(le({},P),{},{isTooltipActive:!0});k.setState(C),k.triggerSyncEvent(C);var R=k.props.onMouseEnter;Qe(R)&&R(C,O)}}),Ue(k,"triggeredAfterMouseMove",function(O){var P=k.getMouseInfo(O),C=P?le(le({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(C),k.triggerSyncEvent(C);var R=k.props.onMouseMove;Qe(R)&&R(C,O)}),Ue(k,"handleItemMouseEnter",function(O){k.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Ue(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Ue(k,"handleMouseMove",function(O){O.persist(),k.throttleTriggeredAfterMouseMove(O)}),Ue(k,"handleMouseLeave",function(O){k.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};k.setState(P),k.triggerSyncEvent(P);var C=k.props.onMouseLeave;Qe(C)&&C(P,O)}),Ue(k,"handleOuterEvent",function(O){var P=uX(O),C=si(k.props,"".concat(P));if(P&&Qe(C)){var R,F;/.*touch.*/i.test(P)?F=k.getMouseInfo(O.changedTouches[0]):F=k.getMouseInfo(O),C((R=F)!==null&&R!==void 0?R:{},O)}}),Ue(k,"handleClick",function(O){var P=k.getMouseInfo(O);if(P){var C=le(le({},P),{},{isTooltipActive:!0});k.setState(C),k.triggerSyncEvent(C);var R=k.props.onClick;Qe(R)&&R(C,O)}}),Ue(k,"handleMouseDown",function(O){var P=k.props.onMouseDown;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"handleMouseUp",function(O){var P=k.props.onMouseUp;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Ue(k,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.handleMouseDown(O.changedTouches[0])}),Ue(k,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.handleMouseUp(O.changedTouches[0])}),Ue(k,"handleDoubleClick",function(O){var P=k.props.onDoubleClick;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"handleContextMenu",function(O){var P=k.props.onContextMenu;if(Qe(P)){var C=k.getMouseInfo(O);P(C,O)}}),Ue(k,"triggerSyncEvent",function(O){k.props.syncId!==void 0&&d1.emit(f1,k.props.syncId,O,k.eventEmitterSymbol)}),Ue(k,"applySyncEvent",function(O){var P=k.props,C=P.layout,R=P.syncMethod,F=k.state.updateId,L=O.dataStartIndex,$=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)k.setState(le({dataStartIndex:L,dataEndIndex:$},x({props:k.props,dataStartIndex:L,dataEndIndex:$,updateId:F},k.state)));else if(O.activeTooltipIndex!==void 0){var V=O.chartX,q=O.chartY,X=O.activeTooltipIndex,te=k.state,re=te.offset,Q=te.tooltipTicks;if(!re)return;if(typeof R=="function")X=R(Q,O);else if(R==="value"){X=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===O.activeLabel){X=ae;break}}var ne=le(le({},re),{},{x:re.left,y:re.top}),W=Math.min(V,ne.x+ne.width),Y=Math.min(q,ne.y+ne.height),de=Q[X]&&Q[X].value,se=EE(k.state,k.props.data,X),xe=Q[X]?{x:C==="horizontal"?Q[X].coordinate:W,y:C==="horizontal"?Y:Q[X].coordinate}:BV;k.setState(le(le({},O),{},{activeLabel:de,activeCoordinate:xe,activePayload:se,activeTooltipIndex:X}))}else k.setState(O)}),Ue(k,"renderCursor",function(O){var P,C=k.state,R=C.isTooltipActive,F=C.activeCoordinate,L=C.activePayload,$=C.offset,V=C.activeTooltipIndex,q=C.tooltipAxisBandSize,X=k.getTooltipEventType(),te=(P=O.props.active)!==null&&P!==void 0?P:R,re=k.props.layout,Q=O.key||"_recharts-cursor";return G.createElement(lde,{key:Q,activeCoordinate:F,activePayload:L,activeTooltipIndex:V,chartName:r,element:O,isActive:te,layout:re,offset:$,tooltipAxisBandSize:q,tooltipEventType:X})}),Ue(k,"renderPolarAxis",function(O,P,C){var R=si(O,"type.axisType"),F=si(k.state,"".concat(R,"Map")),L=O.type.defaultProps,$=L!==void 0?le(le({},L),O.props):O.props,V=F&&F[$["".concat(R,"Id")]];return D.cloneElement(O,le(le({},V),{},{className:et(R,V.className),key:O.key||"".concat(P,"-").concat(C),ticks:qa(V,!0)}))}),Ue(k,"renderPolarGrid",function(O){var P=O.props,C=P.radialLines,R=P.polarAngles,F=P.polarRadius,L=k.state,$=L.radiusAxisMap,V=L.angleAxisMap,q=Ho($),X=Ho(V),te=X.cx,re=X.cy,Q=X.innerRadius,ae=X.outerRadius;return D.cloneElement(O,{polarAngles:Array.isArray(R)?R:qa(X,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(F)?F:qa(q,!0).map(function(ne){return ne.coordinate}),cx:te,cy:re,innerRadius:Q,outerRadius:ae,key:O.key||"polar-grid",radialLines:C})}),Ue(k,"renderLegend",function(){var O=k.state.formattedGraphicalItems,P=k.props,C=P.children,R=P.width,F=P.height,L=k.props.margin||{},$=R-(L.left||0)-(L.right||0),V=A6({children:C,formattedGraphicalItems:O,legendWidth:$,legendContent:d});if(!V)return null;var q=V.item,X=BD(V,ude);return D.cloneElement(q,le(le({},X),{},{chartWidth:R,chartHeight:F,margin:L,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Ue(k,"renderTooltip",function(){var O,P=k.props,C=P.children,R=P.accessibilityLayer,F=Ln(C,ea);if(!F)return null;var L=k.state,$=L.isTooltipActive,V=L.activeCoordinate,q=L.activePayload,X=L.activeLabel,te=L.offset,re=(O=F.props.active)!==null&&O!==void 0?O:$;return D.cloneElement(F,{viewBox:le(le({},te),{},{x:te.left,y:te.top}),active:re,label:X,payload:re?q:[],coordinate:V,accessibilityLayer:R})}),Ue(k,"renderBrush",function(O){var P=k.props,C=P.margin,R=P.data,F=k.state,L=F.offset,$=F.dataStartIndex,V=F.dataEndIndex,q=F.updateId;return D.cloneElement(O,{key:O.key||"_recharts-brush",onChange:fm(k.handleBrushChange,O.props.onChange),data:R,x:_e(O.props.x)?O.props.x:L.left,y:_e(O.props.y)?O.props.y:L.top+L.height+L.brushBottom-(C.bottom||0),width:_e(O.props.width)?O.props.width:L.width,startIndex:$,endIndex:V,updateId:"brush-".concat(q)})}),Ue(k,"renderReferenceElement",function(O,P,C){if(!O)return null;var R=k,F=R.clipPathId,L=k.state,$=L.xAxisMap,V=L.yAxisMap,q=L.offset,X=O.type.defaultProps||{},te=O.props,re=te.xAxisId,Q=re===void 0?X.xAxisId:re,ae=te.yAxisId,ne=ae===void 0?X.yAxisId:ae;return D.cloneElement(O,{key:O.key||"".concat(P,"-").concat(C),xAxis:$[Q],yAxis:V[ne],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:F})}),Ue(k,"renderActivePoints",function(O){var P=O.item,C=O.activePoint,R=O.basePoint,F=O.childIndex,L=O.isRange,$=[],V=P.props.key,q=P.item.type.defaultProps!==void 0?le(le({},P.item.type.defaultProps),P.item.props):P.item.props,X=q.activeDot,te=q.dataKey,re=le(le({index:F,dataKey:te,cx:C.x,cy:C.y,r:4,fill:IA(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ge(X,!1)),rg(X));return $.push(T.renderActiveDot(X,re,"".concat(V,"-activePoint-").concat(F))),R?$.push(T.renderActiveDot(X,le(le({},re),{},{cx:R.x,cy:R.y}),"".concat(V,"-basePoint-").concat(F))):L&&$.push(null),$}),Ue(k,"renderGraphicChild",function(O,P,C){var R=k.filterFormatItem(O,P,C);if(!R)return null;var F=k.getTooltipEventType(),L=k.state,$=L.isTooltipActive,V=L.tooltipAxis,q=L.activeTooltipIndex,X=L.activeLabel,te=k.props.children,re=Ln(te,ea),Q=R.props,ae=Q.points,ne=Q.isRange,W=Q.baseLine,Y=R.item.type.defaultProps!==void 0?le(le({},R.item.type.defaultProps),R.item.props):R.item.props,de=Y.activeDot,se=Y.hide,xe=Y.activeBar,Re=Y.activeShape,ue=!!(!se&&$&&re&&(de||xe||Re)),Se={};F!=="axis"&&re&&re.props.trigger==="click"?Se={onClick:fm(k.handleItemMouseEnter,O.props.onClick)}:F!=="axis"&&(Se={onMouseLeave:fm(k.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:fm(k.handleItemMouseEnter,O.props.onMouseEnter)});var fe=D.cloneElement(O,le(le({},R.props),Se));function Ee(me){return typeof V.dataKey=="function"?V.dataKey(me.payload):null}if(ue)if(q>=0){var Le,pe;if(V.dataKey&&!V.allowDuplicatedCategory){var it=typeof V.dataKey=="function"?Ee:"payload.".concat(V.dataKey.toString());Le=aS(ae,it,X),pe=ne&&W&&aS(W,it,X)}else Le=ae==null?void 0:ae[q],pe=ne&&W&&W[q];if(Re||xe){var We=O.props.activeIndex!==void 0?O.props.activeIndex:q;return[D.cloneElement(O,le(le(le({},R.props),Se),{},{activeIndex:We})),null,null]}if(!pt(Le))return[fe].concat(Tc(k.renderActivePoints({item:R,activePoint:Le,basePoint:pe,childIndex:q,isRange:ne})))}else{var gt,dt=(gt=k.getItemByXY(k.state.activeCoordinate))!==null&&gt!==void 0?gt:{graphicalItem:fe},_t=dt.graphicalItem,nr=_t.item,fr=nr===void 0?O:nr,hr=_t.childIndex,$t=le(le(le({},R.props),Se),{},{activeIndex:hr});return[D.cloneElement(fr,$t),null,null]}return ne?[fe,null,null]:[fe,null]}),Ue(k,"renderCustomized",function(O,P,C){return D.cloneElement(O,le(le({key:"recharts-customized-".concat(C)},k.props),k.state))}),Ue(k,"renderMap",{CartesianGrid:{handler:ym,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:ym},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:ym},YAxis:{handler:ym},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((I=E.id)!==null&&I!==void 0?I:Dy("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=A$(k.triggeredAfterMouseMove,(N=E.throttleDelay)!==null&&N!==void 0?N:1e3/60),k.state={},k}return wde(T,b),yde(T,[{key:"componentDidMount",value:function(){var I,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,N=I.children,k=I.data,O=I.height,P=I.layout,C=Ln(N,ea);if(C){var R=C.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,L=EE(this.state,k,R,F),$=this.state.tooltipTicks[R].coordinate,V=(this.state.offset.top+O)/2,q=P==="horizontal",X=q?{x:$,y:V}:{y:$,x:V},te=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});te&&(X=le(le({},X),te.props.points[R].tooltipPosition),L=te.props.points[R].tooltipPayload);var re={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:X};this.setState(re),this.renderCursor(C),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var k,O;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(I){sS([Ln(I.children,ea)],[Ln(this.props.children,ea)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Ln(this.props.children,ea);if(I&&typeof I.props.shared=="boolean"){var N=I.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var N=this.container,k=N.getBoundingClientRect(),O=QJ(k),P={chartX:Math.round(I.pageX-O.left),chartY:Math.round(I.pageY-O.top)},C=k.width/N.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,C);if(!R)return null;var F=this.state,L=F.xAxisMap,$=F.yAxisMap,V=this.getTooltipEventType(),q=WD(this.state,this.props.data,this.props.layout,R);if(V!=="axis"&&L&&$){var X=Ho(L).scale,te=Ho($).scale,re=X&&X.invert?X.invert(P.chartX):null,Q=te&&te.invert?te.invert(P.chartY):null;return le(le({},P),{},{xValue:re,yValue:Q},q)}return q?le(le({},P),q):null}},{key:"inRange",value:function(I,N){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=I/k,C=N/k;if(O==="horizontal"||O==="vertical"){var R=this.state.offset,F=P>=R.left&&P<=R.left+R.width&&C>=R.top&&C<=R.top+R.height;return F?{x:P,y:C}:null}var L=this.state,$=L.angleAxisMap,V=L.radiusAxisMap;if($&&V){var q=Ho($);return KR({x:P,y:C},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,N=this.getTooltipEventType(),k=Ln(I,ea),O={};k&&N==="axis"&&(k.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=rg(this.props,this.handleOuterEvent);return le(le({},P),O)}},{key:"addListener",value:function(){d1.on(f1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d1.removeListener(f1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,N,k){for(var O=this.state.formattedGraphicalItems,P=0,C=O.length;P<C;P++){var R=O[P];if(R.item===I||R.props.key===I.key||N===Ga(R.item.type)&&k===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,N=this.state.offset,k=N.left,O=N.top,P=N.height,C=N.width;return G.createElement("defs",null,G.createElement("clipPath",{id:I},G.createElement("rect",{x:k,y:O,height:P,width:C})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(N,k){var O=zD(k,2),P=O[0],C=O[1];return le(le({},N),{},Ue({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(N,k){var O=zD(k,2),P=O[0],C=O[1];return le(le({},N),{},Ue({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(I){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(I){var N=this.state,k=N.formattedGraphicalItems,O=N.activeItem;if(k&&k.length)for(var P=0,C=k.length;P<C;P++){var R=k[P],F=R.props,L=R.item,$=L.type.defaultProps!==void 0?le(le({},L.type.defaultProps),L.props):L.props,V=Ga(L.type);if(V==="Bar"){var q=(F.data||[]).find(function(Q){return goe(I,Q)});if(q)return{graphicalItem:R,payload:q}}else if(V==="RadialBar"){var X=(F.data||[]).find(function(Q){return KR(I,Q)});if(X)return{graphicalItem:R,payload:X}}else if(sv(R,O)||lv(R,O)||eh(R,O)){var te=Vse({graphicalItem:R,activeTooltipItem:O,itemData:$.data}),re=$.activeIndex===void 0?te:$.activeIndex;return{graphicalItem:le(le({},R),{},{childIndex:re}),payload:eh(R,O)?$.data[te]:R.props.data[te]}}}return null}},{key:"render",value:function(){var I=this;if(!sN(this))return null;var N=this.props,k=N.children,O=N.className,P=N.width,C=N.height,R=N.style,F=N.compact,L=N.title,$=N.desc,V=BD(N,cde),q=Ge(V,!1);if(F)return G.createElement(AD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(uS,Mu({},q,{width:P,height:C,title:L,desc:$}),this.renderClipPath(),uN(k,this.renderMap)));if(this.props.accessibilityLayer){var X,te;q.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,q.role=(te=this.props.role)!==null&&te!==void 0?te:"application",q.onKeyDown=function(Q){I.accessibilityManager.keyboardEvent(Q)},q.onFocus=function(){I.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return G.createElement(AD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Mu({className:et("recharts-wrapper",O),style:le({position:"relative",cursor:"default",width:P,height:C},R)},re,{ref:function(ae){I.container=ae}}),G.createElement(uS,Mu({},q,{width:P,height:C,title:L,desc:$,style:Pde}),this.renderClipPath(),uN(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(D.Component);Ue(S,"displayName",r),Ue(S,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ue(S,"getDerivedStateFromProps",function(b,T){var E=b.dataKey,I=b.data,N=b.children,k=b.width,O=b.height,P=b.layout,C=b.stackOffset,R=b.margin,F=T.dataStartIndex,L=T.dataEndIndex;if(T.updateId===void 0){var $=HD(b);return le(le(le({},$),{},{updateId:0},x(le(le({props:b},$),{},{updateId:0}),T)),{},{prevDataKey:E,prevData:I,prevWidth:k,prevHeight:O,prevLayout:P,prevStackOffset:C,prevMargin:R,prevChildren:N})}if(E!==T.prevDataKey||I!==T.prevData||k!==T.prevWidth||O!==T.prevHeight||P!==T.prevLayout||C!==T.prevStackOffset||!zu(R,T.prevMargin)){var V=HD(b),q={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},X=le(le({},WD(T,I,P)),{},{updateId:T.updateId+1}),te=le(le(le({},V),q),X);return le(le(le({},te),x(le({props:b},te),T)),{},{prevDataKey:E,prevData:I,prevWidth:k,prevHeight:O,prevLayout:P,prevStackOffset:C,prevMargin:R,prevChildren:N})}if(!sS(N,T.prevChildren)){var re,Q,ae,ne,W=Ln(N,gc),Y=W&&(re=(Q=W.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&re!==void 0?re:F,de=W&&(ae=(ne=W.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ae!==void 0?ae:L,se=Y!==F||de!==L,xe=!pt(I),Re=xe&&!se?T.updateId:T.updateId+1;return le(le({updateId:Re},x(le(le({props:b},T),{},{updateId:Re,dataStartIndex:Y,dataEndIndex:de}),T)),{},{prevChildren:N,dataStartIndex:Y,dataEndIndex:de})}return null}),Ue(S,"renderActiveDot",function(b,T,E){var I;return D.isValidElement(b)?I=D.cloneElement(b,T):Qe(b)?I=b(T):I=G.createElement(OA,T),G.createElement(Et,{className:"recharts-active-dot",key:E},I)});var w=D.forwardRef(function(T,E){return G.createElement(S,Mu({},T,{ref:E}))});return w.displayName=S.displayName,w},Lde=WV({chartName:"BarChart",GraphicalChild:Ml,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mv},{axisType:"yAxis",AxisComp:gv}],formatAxisMap:Xle}),$de=WV({chartName:"RadialBarChart",GraphicalChild:Rh,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:Oh},{axisType:"radiusAxis",AxisComp:av}],formatAxisMap:Pne,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const TE=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function lh(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function Vde(t){const e=t.length,r=t.filter(i=>i.status==="present").length,n=e===0?0:Math.round(r/e*100);return{total:e,present:r,percent:n}}function Fde(t){return t>=75?"safe":"risk"}function Ude(t,e){if(t===0)return 0;let r=0,n=t,i=e;for(;Math.round(i/n*100)<75;)n++,i++,r++;return r}function KD(t){const e=Vde(t),r=Fde(e.percent);return{...e,zone:r,classesNeededFor75:r==="risk"?Ude(e.total,e.present):0}}const HV={async mark(t,{subjectId:e,status:r,date:n}){const i=n??lh(),a=`${e}_${i}`;await Li(nt(t,"attendance",a),{subjectId:e,date:i,status:r,locked:!0,createdAt:new Date().toISOString()})}};function GV(){const{user:t}=zn(),[e,r]=D.useState(lh()),[n,i]=D.useState(TE[new Date().getDay()]),[a,o]=D.useState([]),[l,c]=D.useState(!0),[d,p]=D.useState(null),[m,y]=D.useState(null);D.useEffect(()=>{if(!t)return;const w=lh(),b=TE[new Date().getDay()];let T=[],E=[],I=()=>{};function N(O){const P={};if(O.docs.forEach(F=>{P[F.data().subjectId]=F.data().status}),E.length===0)return T.map(F=>({subject:F,markedStatus:P[F.id]??null,alreadyMarked:!!P[F.id],timetableName:null,timetableId:null,uniqueKey:F.id}));const C=[],R=new Set;return E.forEach(F=>{(F.slots??[]).filter($=>$.day===b).sort(($,V)=>($.startTime??"").localeCompare(V.startTime??"")).forEach($=>{const V=T.find(X=>X.id===$.subjectId);if(!V)return;const q=`${F.id}_${V.id}`;R.has(q)||(R.add(q),C.push({subject:V,markedStatus:P[V.id]??null,alreadyMarked:!!P[V.id],timetableName:F.name,timetableId:F.id,uniqueKey:q,slot:$}))})}),C}return(async()=>{try{const[O,P]=await Promise.all([fs(cn(rr(t.id,"subjects"),An("archived","==",!1))),fs(cn(rr(t.id,"timetables"),An("active","==",!0)))]);T=O.docs.map(C=>({id:C.id,...C.data()})),E=P.docs.map(C=>({id:C.id,...C.data()})).filter(C=>!C.archived&&(!C.startDate||C.startDate<=w)),I=Cr(cn(rr(t.id,"attendance"),An("date","==",w)),C=>{o(N(C)),r(w),i(b),c(!1)},C=>{p(C.message),c(!1)})}catch(O){p(O.message),c(!1)}})(),()=>I()},[t]);const x=D.useCallback(async(w,b,T)=>{if(t){y(w);try{await HV.mark(t.id,{subjectId:w,status:b,date:T})}catch(E){p(E.message)}finally{y(null)}}},[t]),S=D.useCallback(()=>{},[]);return{date:e,day:n,today:a,loading:l,error:d,marking:m,mark:x,refresh:S}}function KV(){const{user:t}=zn(),[e,r]=D.useState(null),[n,i]=D.useState([]),[a,o]=D.useState(!0),[l,c]=D.useState(null);D.useEffect(()=>{if(!t)return;let p=[],m=()=>{};return(async()=>{try{p=(await fs(cn(rr(t.id,"subjects"),An("archived","==",!1)))).docs.map(S=>({id:S.id,...S.data()})),m=Cr(rr(t.id,"attendance"),S=>{const w=S.docs.map(T=>({id:T.id,...T.data()})),b=p.map(T=>{const E=w.filter(I=>I.subjectId===T.id);return{subject:T,...KD(E)}});r(KD(w)),i(b),o(!1)},S=>{c(S.message),o(!1)})}catch(x){c(x.message),o(!1)}})(),()=>m()},[t]);const d=D.useCallback(()=>{},[]);return{overall:e,subjects:n,loading:a,error:l,refresh:d}}function zde({subjectId:t,from:e,to:r}={}){const{user:n}=zn(),[i,a]=D.useState([]),[o,l]=D.useState(!0);return D.useEffect(()=>{if(n)return Cr(rr(n.id,"attendance"),c=>{let d=c.docs.map(p=>({id:p.id,...p.data()}));t&&(d=d.filter(p=>p.subjectId===t)),e&&(d=d.filter(p=>p.date>=e)),r&&(d=d.filter(p=>p.date<=r)),d.sort((p,m)=>(m.date??"").localeCompare(p.date??"")),a(d),l(!1)})},[n,t,e,r]),{records:i,loading:o}}const $a={async create(t,{title:e,description:r="",dueDate:n=null,priority:i="medium"}){return(await Un(rr(t,"tasks"),{title:e,description:r,dueDate:n,priority:i,completed:!1,archived:!1,subtasks:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id},async update(t,e,r){await rt(nt(t,"tasks",e),{...r,updatedAt:new Date().toISOString()})},async archive(t,e){await rt(nt(t,"tasks",e),{archived:!0,updatedAt:new Date().toISOString()})},async addSubtask(t,e,r,n){const i=Date.now().toString(36)+Math.random().toString(36).slice(2,5),a=[...r||[],{id:i,title:n,completed:!1}];await rt(nt(t,"tasks",e),{subtasks:a,updatedAt:new Date().toISOString()})},async toggleSubtask(t,e,r,n){const i=(r||[]).map(a=>a.id===n?{...a,completed:!a.completed}:a);await rt(nt(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})},async deleteSubtask(t,e,r,n){const i=(r||[]).filter(a=>a.id!==n);await rt(nt(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})}};function vv({archived:t=!1}={}){const{user:e}=zn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,l]=D.useState(null);D.useEffect(()=>e?Cr(rr(e.id,"tasks"),b=>{const T=b.docs.map(E=>({id:E.id,...E.data()})).filter(E=>t?E.archived===!0:E.archived!==!0).sort((E,I)=>(I.createdAt??"").localeCompare(E.createdAt??""));n(T),a(!1)},b=>{l(b.message),a(!1)}):void 0,[e,t]);const c=D.useCallback(async w=>{if(e)try{await $a.create(e.id,w)}catch(b){l(b.message)}},[e]),d=D.useCallback(async(w,b)=>{if(e)try{await $a.update(e.id,w,b)}catch(T){l(T.message)}},[e]),p=D.useCallback((w,b)=>d(w,{completed:!b}),[d]),m=D.useCallback(async w=>{if(e)try{await $a.archive(e.id,w)}catch(b){l(b.message)}},[e]),y=D.useCallback(async(w,b)=>{if(!e)return;const T=r.find(E=>E.id===w);try{await $a.addSubtask(e.id,w,(T==null?void 0:T.subtasks)??[],b)}catch(E){l(E.message)}},[e,r]),x=D.useCallback(async(w,b)=>{if(!e)return;const T=r.find(E=>E.id===w);try{await $a.toggleSubtask(e.id,w,(T==null?void 0:T.subtasks)??[],b)}catch(E){l(E.message)}},[e,r]),S=D.useCallback(async(w,b)=>{if(!e)return;const T=r.find(E=>E.id===w);try{await $a.deleteSubtask(e.id,w,(T==null?void 0:T.subtasks)??[],b)}catch(E){l(E.message)}},[e,r]);return{tasks:r,loading:i,error:o,create:c,update:d,toggle:p,archive:m,addSubtask:y,toggleSubtask:x,deleteSubtask:S}}const p1={async addHabit(t,e){await Un(rr(t,"habits"),{name:e,active:!0,createdAt:new Date().toISOString()})},async archiveHabit(t,e){await rt(nt(t,"habits",e),{active:!1})},async toggleToday(t,e,r){const n=lh(),i=`${e}_${n}`;await Li(nt(t,"habitLogs",i),{habitId:e,date:n,done:!r,updatedAt:new Date().toISOString()})}};function XV(){const{user:t}=zn(),[e,r]=D.useState([]),[n,i]=D.useState({}),[a,o]=D.useState(!0);D.useEffect(()=>{if(!t)return;const p=cn(rr(t.id,"habits"),An("active","==",!0));return Cr(p,m=>{r(m.docs.map(y=>({id:y.id,...y.data()})).sort((y,x)=>(y.createdAt??"").localeCompare(x.createdAt??""))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const p=lh(),m=cn(rr(t.id,"habitLogs"),An("date","==",p));return Cr(m,y=>{const x={};y.docs.forEach(S=>{x[S.data().habitId]=S.data().done}),i(x)})},[t]);const l=D.useCallback(async p=>{!t||!p.trim()||await p1.addHabit(t.id,p.trim())},[t]),c=D.useCallback(async p=>{t&&await p1.archiveHabit(t.id,p)},[t]),d=D.useCallback(async p=>{if(!t)return;const m=n[p]??!1;await p1.toggleToday(t.id,p,m)},[t,n]);return{habits:e,todayLogs:n,loading:a,addHabit:l,archiveHabit:c,toggleToday:d}}function Mh(){const{user:t}=zn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>t?Cr(rr(t.id,"timetables"),S=>{const w=S.docs.map(b=>({id:b.id,...b.data()})).filter(b=>b.archived!==!0).sort((b,T)=>(b.createdAt??"").localeCompare(T.createdAt??""));r(w),i(!1)},S=>{o(S.message),i(!1)}):void 0,[t]);const l=D.useCallback(async({name:x,startDate:S})=>{if(t)try{await Un(rr(t.id,"timetables"),{name:x,startDate:S||null,active:!1,archived:!1,slots:[],createdAt:new Date().toISOString()})}catch(w){o(w.message)}},[t]),c=D.useCallback(async x=>{if(t)try{const S=e.find(b=>b.id===x);if(!S)return;const w=Z1(ht);if(S.active)w.update(nt(t.id,"timetables",x),{active:!1});else{const b=e.filter(T=>T.active);if(b.length>=2){const T=[...b].sort((E,I)=>(E.activatedAt??E.createdAt??"").localeCompare(I.activatedAt??I.createdAt??""))[0];w.update(nt(t.id,"timetables",T.id),{active:!1})}w.update(nt(t.id,"timetables",x),{active:!0,activatedAt:new Date().toISOString()})}await w.commit()}catch(S){o(S.message)}},[t,e]),d=D.useCallback(async x=>{if(t)try{await rt(nt(t.id,"timetables",x),{archived:!0,active:!1})}catch(S){o(S.message)}},[t]),p=D.useCallback(async(x,S)=>{if(t)try{const w=e.find(T=>T.id===x);if(!w)return;const b={id:crypto.randomUUID(),...S};await rt(nt(t.id,"timetables",x),{slots:[...w.slots??[],b]})}catch(w){o(w.message)}},[t,e]),m=D.useCallback(async(x,S)=>{if(t)try{const w=e.find(b=>b.id===x);if(!w)return;await rt(nt(t.id,"timetables",x),{slots:(w.slots??[]).filter(b=>b.id!==S)})}catch(w){o(w.message)}},[t,e]),y=D.useCallback(async({name:x,slots:S=[]})=>{if(t)try{await Un(rr(t.id,"timetables"),{name:x,startDate:null,active:!1,archived:!1,slots:S.map(w=>({...w,id:crypto.randomUUID()})),createdAt:new Date().toISOString()})}catch(w){o(w.message)}},[t]);return{timetables:e,loading:n,error:a,create:l,activate:c,archive:d,addSlot:p,deleteSlot:m,importTimetable:y}}const m1=()=>Tn(ht,"quotes"),Du={async getAll(){return(await fs(m1())).docs.map(e=>({id:e.id,...e.data()}))},async getActive(){return(await fs(cn(m1(),An("active","==",!0)))).docs.map(e=>({id:e.id,...e.data()}))},async add({text:t,author:e=""}){return Un(m1(),{text:t,author:e.trim(),active:!0,createdAt:new Date().toISOString()})},async update(t,e){await rt(Zr(ht,"quotes",t),e)},async remove(t){await r3(Zr(ht,"quotes",t))}};function XD(t){if(!t.length)return null;const e=Math.floor(Date.now()/(1e3*60*60));return t[e%t.length]}const YD=[{id:"seed-1",text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{id:"seed-2",text:"The secret of getting ahead is getting started.",author:"Mark Twain"},{id:"seed-3",text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{id:"seed-4",text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{id:"seed-5",text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{id:"seed-6",text:"Education is the passport to the future.",author:"Malcolm X"},{id:"seed-7",text:"The more that you read, the more things you will know.",author:"Dr. Seuss"},{id:"seed-8",text:"You don't have to be great to start, but you have to start to be great.",author:"Zig Ziglar"},{id:"seed-9",text:"Push yourself, because no one else is going to do it for you.",author:""},{id:"seed-10",text:"Great things never come from comfort zones.",author:""},{id:"seed-11",text:"Dream it. Wish it. Do it.",author:""},{id:"seed-12",text:"Success doesn't just find you. You have to go out and get it.",author:""}];function Bde(){const[t,e]=D.useState(null);return D.useEffect(()=>{let r=!1;async function n(){try{const l=await Du.getActive();if(r)return;const c=l.length?l:YD;e(XD(c))}catch{r||e(XD(YD))}}n();const a=36e5-Date.now()%36e5,o=setTimeout(()=>n(),a);return()=>{r=!0,clearTimeout(o)}},[]),t}function qde(){const[t,e]=D.useState([]),[r,n]=D.useState(!0);async function i(){n(!0);try{e(await Du.getAll())}catch{e([])}n(!1)}return D.useEffect(()=>{i()},[]),{quotes:t,loading:r,refresh:i}}class Dh{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const Wde=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Ur={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Wde()},zA=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Hde=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=zA(t);Ur.publicKey=r.publicKey,Ur.blockHeadless=r.blockHeadless,Ur.storageProvider=r.storageProvider,Ur.blockList=r.blockList,Ur.limitRate=r.limitRate,Ur.origin=r.origin||e},YV=async(t,e,r={})=>{const n=await fetch(Ur.origin+t,{method:"POST",headers:r,body:e}),i=await n.text(),a=new Dh(n.status,i);if(n.ok)return a;throw a},QV=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Gde=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},JV=t=>t.webdriver||!t.languages||t.languages.length===0,ZV=()=>new Dh(451,"Unavailable For Headless Browser"),Kde=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Xde=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Yde=(t,e)=>t instanceof FormData?t.get(e):t[e],eF=(t,e)=>{if(Xde(t))return!1;Kde(t.list,t.watchVariable);const r=Yde(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},tF=()=>new Dh(403,"Forbidden"),Qde=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Jde=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},rF=async(t,e,r)=>{if(!e.throttle||!r)return!1;Qde(e.throttle,e.id);const n=e.id||t;return await Jde(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},nF=()=>new Dh(429,"Too Many Requests"),Zde=async(t,e,r,n)=>{const i=zA(n),a=i.publicKey||Ur.publicKey,o=i.blockHeadless||Ur.blockHeadless,l=i.storageProvider||Ur.storageProvider,c={...Ur.blockList,...i.blockList},d={...Ur.limitRate,...i.limitRate};return o&&JV(navigator)?Promise.reject(ZV()):(QV(a,t,e),Gde(r),r&&eF(c,r)?Promise.reject(tF()):await rF(location.pathname,d,l)?Promise.reject(nF()):YV("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},efe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},tfe=t=>typeof t=="string"?document.querySelector(t):t,rfe=async(t,e,r,n)=>{const i=zA(n),a=i.publicKey||Ur.publicKey,o=i.blockHeadless||Ur.blockHeadless,l=Ur.storageProvider||i.storageProvider,c={...Ur.blockList,...i.blockList},d={...Ur.limitRate,...i.limitRate};if(o&&JV(navigator))return Promise.reject(ZV());const p=tfe(r);QV(a,t,e),efe(p);const m=new FormData(p);return eF(c,m)?Promise.reject(tF()):await rF(location.pathname,d,l)?Promise.reject(nF()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",a),YV("/api/v1.0/email/send-form",m))},QD={init:Hde,send:Zde,sendForm:rfe,EmailJSResponseStatus:Dh},JD="service_hjvrjoa",ZD="ED2eDc6-CLeSavBsg",nfe="template_attendance_risk_id",ife="template_task_overdue_id",e4="/SARASVA/logo.png",afe=window.location.origin,ofe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let g1=[],y1=[];function sfe(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}const df={async requestPermission(){return"Notification"in window?Notification.requestPermission():"denied"},get permission(){return"Notification"in window?Notification.permission:"denied"},push(t,e,{tag:r,path:n}={}){if("Notification"in window&&Notification.permission==="granted")try{const i=new Notification(t,{body:e,icon:e4,badge:e4,tag:r});n&&(i.onclick=()=>{window.focus(),window.location.href=afe+n})}catch{}},schedulePeriodNotifications(t,e){if(g1.forEach(clearTimeout),g1=[],Notification.permission!=="granted")return;const r=new Date,n=ofe[r.getDay()];t.filter(i=>i.day===n).forEach(i=>{if(!i.startTime)return;const[a,o]=i.startTime.split(":").map(Number),l=new Date(r);l.setHours(a,Math.max(0,o-5),0,0);const c=l-r;if(c<=0)return;const d=(e==null?void 0:e(i.subjectId))||i.subjectName||"Class",p=setTimeout(()=>{this.push(` ${d} in 5 minutes`,`Starting at ${i.startTime}${i.room?"  "+i.room:""}  mark attendance after class!`,{tag:`period-${i.id??i.subjectId}`,path:"/attendance"})},c);g1.push(p)})},scheduleTaskReminders(t){if(y1.forEach(clearTimeout),y1=[],Notification.permission!=="granted")return;const e=sfe(),r=t.filter(a=>!a.completed&&!a.archived&&a.dueDate===e);if(!r.length)return;const n=new Date,i=new Date(n);i.setHours(22,0,0,0),[2,4,6].forEach(a=>{const o=new Date(n.getTime()+a*3600*1e3);if(o>i)return;const l=setTimeout(()=>{this.push(` ${r.length} task${r.length!==1?"s":""} due today`,r.slice(0,3).map(c=>c.title).join("  "),{tag:"tasks-due-today",path:"/tasks"})},o-n);y1.push(l)})},async sendAttendanceAlert(t,e,r){const n=r.map(i=>` ${i.subject.name}: ${i.percent}% (need ${i.classesNeededFor75} more classes)`).join(`
`);try{await QD.send(JD,nfe,{to_email:t,to_name:e,subject_list:n,reply_to:t},ZD)}catch{}},async sendTaskAlert(t,e,r){const n=r.map(i=>` ${i.title}${i.dueDate?` (due ${new Date(i.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})`:""}`).join(`
`);try{await QD.send(JD,ife,{to_email:t,to_name:e,task_list:n,reply_to:t},ZD)}catch{}},checkAndAlert(t,e,r){if(!t)return;const n=`sarasva_alerted_${t.id}_${new Date().toDateString()}`;if(sessionStorage.getItem(n))return;sessionStorage.setItem(n,"1");const i=e.filter(o=>o.zone==="risk"),a=r.filter(o=>!o.completed&&o.dueDate&&new Date(o.dueDate)<new Date);i.length>0&&(this.push("Attendance Risk ",`${i.length} subject${i.length!==1?"s":""} below 75%  check your dashboard.`,{tag:"att-risk",path:"/attendance"}),t.notificationsEmail&&t.email&&this.sendAttendanceAlert(t.email,t.name,i)),a.length>0&&(this.push("Overdue Tasks",`${a.length} task${a.length!==1?"s":""} past due date.`,{tag:"tasks-overdue",path:"/tasks"}),t.notificationsEmail&&t.email&&this.sendTaskAlert(t.email,t.name,a))},notifyFriendRequest(t){this.push(` Friend request from ${t}`,"Tap to view and respond on your Study Peers page.",{tag:`friend-req-${t}`,path:"/ptp"})}};function iF({zone:t}){const e=t==="safe";return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold",e?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-700"),children:[e?f.jsx(OT,{size:11}):f.jsx(NT,{size:11}),e?"SAFE":"RISK"]})}function vm({icon:t,label:e,value:r,sub:n,iconBg:i="bg-primary/10",iconColor:a="text-primary",to:o}){const l=f.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-border bg-card p-4 card-shadow hover:shadow-md transition-shadow",children:[f.jsx("div",{className:ke("mt-0.5 rounded-xl p-2.5",i,a),children:f.jsx(t,{size:17})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold leading-none tracking-tight",children:r}),f.jsx("p",{className:"mt-0.5 text-xs font-medium text-muted-foreground",children:e}),n&&f.jsx("div",{className:"mt-1",children:typeof n=="string"?f.jsx("p",{className:"text-xs text-muted-foreground",children:n}):n})]})]});return o?f.jsx(Vn,{to:o,children:l}):l}function lfe({active:t,payload:e}){if(!t||!(e!=null&&e.length))return null;const r=e[0].payload;return f.jsxs("div",{className:"rounded-xl border border-border bg-card px-3 py-2 shadow-lg text-xs",children:[f.jsx("p",{className:"font-semibold mb-1",children:r.name}),f.jsxs("p",{children:[r.percent,"% attendance"]}),f.jsxs("p",{className:"text-muted-foreground",children:[r.present," present / ",r.total," total"]}),r.zone==="risk"&&r.classesNeededFor75>0&&f.jsxs("p",{className:"mt-1 font-medium text-rose-600",children:["Need ",r.classesNeededFor75," more to reach 75%"]})]})}function ufe({percent:t,zone:e}){const r=[{value:t,fill:e==="safe"?"#10b981":"#f43f5e"}];return f.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[f.jsxs($de,{width:156,height:156,cx:78,cy:78,innerRadius:52,outerRadius:70,startAngle:225,endAngle:-45,data:r,barSize:14,children:[f.jsx(Oh,{type:"number",domain:[0,100],angleAxisId:0,tick:!1}),f.jsx(Rh,{dataKey:"value",cornerRadius:8,background:{fill:"hsl(var(--muted))"},angleAxisId:0})]}),f.jsxs("div",{className:"absolute flex flex-col items-center",children:[f.jsxs("span",{className:"text-2xl font-bold leading-none",children:[t,"%"]}),f.jsx(iF,{zone:e})]})]})}function cfe({subjects:t}){const e=t.filter(r=>r.zone==="risk").sort((r,n)=>n.classesNeededFor75-r.classesNeededFor75);return e.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-1 py-6 text-center text-sm text-muted-foreground",children:[f.jsx(OT,{size:28,className:"text-emerald-500 opacity-80"}),f.jsx("p",{children:"All subjects above 75%!"})]}):f.jsx("div",{className:"space-y-2",children:e.map(r=>f.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-semibold text-rose-900",children:r.subject.name}),f.jsxs("span",{className:"text-xs font-bold text-rose-700",children:[r.percent,"%"]})]}),f.jsx("div",{className:"my-1.5 h-1.5 w-full overflow-hidden rounded-full bg-rose-200",children:f.jsx("div",{className:"h-full rounded-full bg-rose-500",style:{width:`${r.percent}%`}})}),f.jsxs("p",{className:"text-xs text-rose-700",children:["Attend ",f.jsx("strong",{children:r.classesNeededFor75})," consecutive class",r.classesNeededFor75!==1?"es":""," to reach 75%"]})]},r.subject.id))})}function dfe({exams:t}){const e=new Date;e.setHours(0,0,0,0);const r=t.filter(o=>!o.archived&&o.examDate).map(o=>{const l=new Date(o.examDate+"T00:00:00"),c=Math.ceil((l-e)/864e5);return{...o,daysLeft:c}}).filter(o=>o.daysLeft>=0).sort((o,l)=>o.daysLeft-l.daysLeft);if(r.length===0)return null;const n=r[0],i=n.daysLeft<=3,a=n.daysLeft<=7;return f.jsx(Vn,{to:"/exams",children:f.jsx("div",{className:ke("rounded-2xl border p-4 card-shadow transition-shadow hover:shadow-md",i?"border-rose-300 bg-gradient-to-r from-rose-50 to-orange-50":a?"border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50":"border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50"),children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:ke("flex flex-col items-center justify-center rounded-2xl px-4 py-2 min-w-[72px] text-center",i?"bg-rose-100":a?"bg-amber-100":"bg-blue-100"),children:[f.jsx("span",{className:ke("text-3xl font-extrabold leading-none",i?"text-rose-700":a?"text-amber-700":"text-blue-700"),children:n.daysLeft}),f.jsxs("span",{className:ke("text-[10px] font-semibold uppercase tracking-wide mt-0.5",i?"text-rose-600":a?"text-amber-600":"text-blue-600"),children:["day",n.daysLeft!==1?"s":""]})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(uG,{size:14,className:ke(i?"text-rose-600":a?"text-amber-600":"text-blue-600")}),f.jsx("p",{className:ke("text-xs font-semibold uppercase tracking-wide",i?"text-rose-600":a?"text-amber-700":"text-blue-600"),children:i?"Exam very soon!":a?"Exam coming up":"Upcoming exam"})]}),f.jsx("p",{className:"mt-0.5 text-base font-bold truncate",children:n.name}),f.jsx("p",{className:ke("text-xs",i?"text-rose-600":a?"text-amber-600":"text-muted-foreground"),children:new Date(n.examDate+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})}),n.subjects.length>0&&f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[n.subjects.length," subject",n.subjects.length!==1?"s":"","  tap to prep"]})]}),r.length>1&&f.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-0.5",children:[f.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",r.length-1]}),f.jsx("span",{className:"text-[10px] text-muted-foreground",children:"more"})]}),f.jsx(bl,{size:16,className:"shrink-0 text-muted-foreground"})]})})})}const ffe=[{key:"present",label:"P",activeBg:"bg-emerald-500",activeRing:"ring-emerald-400"},{key:"absent",label:"A",activeBg:"bg-rose-500",activeRing:"ring-rose-400"},{key:"cancelled",label:"C",activeBg:"bg-amber-400",activeRing:"ring-amber-300"}];function hfe({today:t=[],day:e,mark:r,marking:n}){const i=t.filter(o=>!o.alreadyMarked);if(t.length===0)return f.jsxs("p",{className:"py-4 text-center text-sm text-muted-foreground",children:["No classes scheduled today (",e,")."]});const a=i.length===0;return f.jsxs("div",{className:"space-y-2",children:[a?f.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg bg-emerald-50 px-2.5 py-1.5",children:[f.jsx(c3,{size:13,className:"text-emerald-600 shrink-0"}),f.jsx("p",{className:"text-xs font-semibold text-emerald-700",children:"All classes marked for today!"})]}):f.jsxs("p",{className:"rounded-lg bg-amber-50 px-2.5 py-1.5 text-xs font-semibold text-amber-700",children:[i.length," class",i.length!==1?"es":""," not yet marked"]}),t.map(({subject:o,markedStatus:l,uniqueKey:c,timetableName:d})=>f.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-background px-3 py-2.5",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"text-sm font-medium truncate",children:o.name}),d&&f.jsx("span",{className:"ml-1.5 text-[10px] text-primary/60 font-medium",children:d})]}),f.jsx("div",{className:"flex items-center gap-1.5 shrink-0",children:ffe.map(({key:p,label:m,activeBg:y,activeRing:x})=>{const S=l===p,w=n===o.id;return f.jsx("button",{disabled:w,onClick:()=>r(o.id,p),title:p.charAt(0).toUpperCase()+p.slice(1),className:ke("h-7 w-7 rounded-full text-[11px] font-bold transition-all duration-150 select-none",S?`${y} text-white ring-2 ring-offset-1 ${x} scale-110`:"bg-muted text-muted-foreground hover:bg-muted/80",w&&"opacity-50 cursor-not-allowed"),children:w&&n===o.id?"":m},p)})})]},c??o.id))]})}function pfe({tasks:t,toggle:e,toggleSubtask:r}){const n=new Date,i=t.filter(y=>!y.completed&&y.dueDate&&new Date(y.dueDate)<n),a=t.filter(y=>!y.completed&&y.priority==="high"&&!i.find(x=>x.id===y.id)),o=[...i,...a].slice(0,4),l=t.filter(y=>!y.completed),c=l.length===0,[d,p]=D.useState(new Set);function m(y){p(x=>{const S=new Set(x);return S.has(y)?S.delete(y):S.add(y),S})}return f.jsxs("div",{className:ke("rounded-2xl border p-5 card-shadow",c?"border-emerald-200 bg-emerald-50":i.length>0?"border-rose-200 bg-gradient-to-br from-rose-50 to-orange-50":"border-amber-200 bg-gradient-to-br from-amber-50 to-yellow-50"),children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("div",{className:ke("rounded-xl p-2",c?"bg-emerald-100":i.length>0?"bg-rose-100":"bg-amber-100"),children:c?f.jsx(tS,{size:18,className:"text-emerald-600"}):i.length>0?f.jsx(JH,{size:18,className:"text-rose-600"}):f.jsx(nS,{size:18,className:"text-amber-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-foreground",children:c?"All tasks complete!":"Tasks"}),!c&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length>0&&`${i.length} overdue  `,l.length," pending"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(Vn,{to:"/tasks",className:"flex items-center gap-1 rounded-lg bg-white/70 border border-border px-3 py-1.5 text-xs font-medium text-foreground hover:bg-white transition-colors",children:[f.jsx(dr,{size:11})," Add"]}),f.jsxs(Vn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["All ",f.jsx(tg,{size:11})]})]})]}),c?f.jsx("p",{className:"text-sm text-emerald-700 font-medium text-center py-1",children:"You're all caught up! Great work."}):o.length>0?f.jsxs("div",{className:"space-y-1.5",children:[o.map(y=>{const x=y.dueDate&&new Date(y.dueDate)<n,S=y.subtasks??[],w=d.has(y.id),b=S.filter(T=>T.completed).length;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-white/60 px-3 py-2.5 hover:bg-white/90 transition-colors",children:[f.jsx("button",{onClick:()=>e(y.id,y.completed),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:f.jsx(rS,{size:17})}),f.jsx("button",{className:"flex-1 text-left text-sm font-medium truncate focus:outline-none",onClick:()=>S.length>0&&m(y.id),children:y.title}),S.length>0&&f.jsxs("span",{className:"shrink-0 text-[10px] text-muted-foreground font-medium",children:[b,"/",S.length]}),S.length>0&&f.jsx(bl,{size:13,className:ke("shrink-0 text-muted-foreground transition-transform duration-200",w&&"rotate-90")}),f.jsx("span",{className:ke("shrink-0 rounded-full px-2 py-0.5 text-xs font-semibold",x?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"),children:x?"overdue":"high"})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:w?`${S.length*44+8}px`:"0px"},children:f.jsx("div",{className:"ml-10 mt-1 space-y-0.5 pb-1",children:S.map(T=>f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/50 px-3 py-1.5",children:[f.jsx("button",{onClick:()=>r(y.id,T.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:T.completed?f.jsx(tS,{size:14,className:"text-primary"}):f.jsx(rS,{size:14})}),f.jsx("span",{className:ke("text-xs",T.completed&&"line-through text-muted-foreground"),children:T.title})]},T.id))})})]},y.id)}),l.length>o.length&&f.jsxs(Vn,{to:"/tasks",className:"block text-center text-xs text-muted-foreground hover:text-primary pt-1",children:["+",l.length-o.length," more tasks"]})]}):f.jsxs("p",{className:"text-sm text-muted-foreground px-1",children:[l.length," pending task",l.length!==1?"s":"","  no urgent ones right now."," ",f.jsx(Vn,{to:"/tasks",className:"text-primary underline",children:"View all"})]})]})}function mfe(){const{habits:t,todayLogs:e,toggleToday:r}=XV();if(t.length===0)return null;const n=t.filter(a=>e[a.id]).length,i=n===t.length;return f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[f.jsx(Tf,{size:14,className:"text-violet-500"}),"Daily Habits"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[n,"/",t.length," completed today"]})]}),f.jsxs(Vn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Manage ",f.jsx(tg,{size:11})]})]}),i&&f.jsxs("div",{className:"mb-2 flex items-center gap-1.5 rounded-lg bg-violet-50 px-2.5 py-1.5",children:[f.jsx(c3,{size:13,className:"text-violet-600 shrink-0"}),f.jsx("p",{className:"text-xs font-semibold text-violet-700",children:"All habits done for today!"})]}),f.jsx("div",{className:"space-y-1.5",children:t.map(a=>{const o=!!e[a.id];return f.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border bg-background px-3 py-2.5",children:[f.jsx("button",{onClick:()=>r(a.id),className:ke("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all duration-150",o?"bg-violet-500 border-violet-500 text-white scale-105":"border-muted-foreground/40 hover:border-violet-400"),children:o&&f.jsx(xr,{size:12})}),f.jsx("span",{className:ke("flex-1 text-sm truncate",o&&"line-through text-muted-foreground"),children:a.name}),o&&f.jsx("span",{className:"shrink-0 text-[10px] font-semibold text-violet-500",children:"Done "})]},a.id)})})]})}function gfe({quote:t}){return t?f.jsx("div",{className:"rounded-2xl border border-primary/20 bg-gradient-to-r from-primary/5 to-violet-500/5 p-4 card-shadow",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx(y3,{size:18,className:"text-primary/40 shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium leading-relaxed text-foreground italic",children:t.text}),t.author&&f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[" ",t.author]})]})]})}):null}function yfe({count:t,onAccept:e,onDismiss:r}){return f.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 flex items-start gap-3",children:[f.jsx(Fi,{size:18,className:"text-amber-600 shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"text-sm font-semibold text-amber-800",children:[t," completed task",t!==1?"s":""," older than 7 days"]}),f.jsx("p",{className:"text-xs text-amber-700 mt-0.5",children:"Would you like to delete them to keep your task list clean?"}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("button",{onClick:e,className:"rounded-lg bg-amber-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-amber-700 transition-colors",children:"Delete old tasks"}),f.jsx("button",{onClick:r,className:"rounded-lg border border-amber-300 px-3 py-1.5 text-xs font-medium text-amber-700 hover:bg-amber-100 transition-colors",children:"Keep them"})]})]})]})}function vfe(){var V;const{user:t}=di(),{overall:e,subjects:r=[]}=KV(),{today:n=[],date:i,day:a,mark:o,marking:l}=GV(),{tasks:c=[],toggle:d,toggleSubtask:p}=vv({archived:!1}),{exams:m=[]}=LT(),{timetables:y=[]}=Mh(),{subjects:x=[]}=ys(),S=Bde(),w=c.filter(q=>!q.completed).length,b=r.filter(q=>q.zone==="risk").length,T=m.filter(q=>!q.archived).length,E=n.filter(q=>!q.alreadyMarked).length,[I,N]=D.useState([]),[k,O]=D.useState(!1);D.useEffect(()=>{if(!c.length)return;const q=Date.now()-10080*60*1e3,X=c.filter(te=>{if(!te.completed)return!1;const re=te.completedAt??te.updatedAt??te.createdAt??"";return re&&new Date(re).getTime()<q});if(X.length>0){N(X.map(re=>re.id));const te="sarasva_cleanup_prompted";sessionStorage.getItem(te)||(sessionStorage.setItem(te,"1"),O(!0))}},[c]);async function P(){O(!1);for(const q of I)try{await $a.archive(t.id,q)}catch{}N([])}D.useEffect(()=>{!t||r.length===0||df.checkAndAlert(t,r,c)},[t,r,c]),D.useEffect(()=>{const X=y.filter(re=>re.active).flatMap(re=>re.slots??[]),te=Object.fromEntries(x.map(re=>[re.id,re.name]));df.schedulePeriodNotifications(X,re=>te[re])},[y,x]),D.useEffect(()=>{df.scheduleTaskReminders(c)},[c]);const C=D.useMemo(()=>r.map(q=>({name:q.subject.name.length>10?q.subject.name.slice(0,10)+"":q.subject.name,fullName:q.subject.name,percent:q.percent,present:q.present,total:q.total,zone:q.zone,classesNeededFor75:q.classesNeededFor75})),[r]),R=(e==null?void 0:e.percent)??0,F=(e==null?void 0:e.zone)??"risk",L=new Date().getHours(),$=L<12?"Good morning":L<17?"Good afternoon":"Good evening";return f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[$,", ",f.jsx("span",{className:"font-medium text-foreground",children:(V=t==null?void 0:t.name)==null?void 0:V.split(" ")[0]})]})]}),f.jsx(gfe,{quote:S}),f.jsx(dfe,{exams:m}),k&&I.length>0&&f.jsx(yfe,{count:I.length,onAccept:P,onDismiss:()=>O(!1)}),f.jsx(pfe,{tasks:c,toggle:d,toggleSubtask:p}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[f.jsx(Sf,{size:14,className:"text-primary"}),"Today's Attendance"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a,", ",i]})]}),f.jsxs(Vn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Full view ",f.jsx(tg,{size:11})]})]}),f.jsx(hfe,{today:n,day:a,mark:o,marking:l})]}),f.jsx(mfe,{}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:grid-cols-4",children:[f.jsx(vm,{icon:Sf,label:"Overall Attendance",value:`${R}%`,sub:f.jsx(iF,{zone:F}),iconBg:"bg-blue-50",iconColor:"text-blue-600",to:"/attendance"}),f.jsx(vm,{icon:lG,label:"Subjects at Risk",value:b,sub:b>0?"Need attention":"All safe",iconBg:b>0?"bg-rose-50":"bg-emerald-50",iconColor:b>0?"text-rose-600":"text-emerald-600",to:"/attendance"}),f.jsx(vm,{icon:m3,label:"Pending Tasks",value:w,sub:w>0?`${c.filter(q=>!q.completed&&q.dueDate&&new Date(q.dueDate)<new Date).length} overdue`:"All clear",iconBg:"bg-violet-50",iconColor:"text-violet-600",to:"/tasks"}),f.jsx(vm,{icon:to,label:"Active Exams",value:T,sub:`${E} class${E!==1?"es":""} unmarked today`,iconBg:"bg-amber-50",iconColor:"text-amber-600",to:"/exams"})]}),f.jsxs("div",{className:"grid gap-4 lg:grid-cols-5",children:[f.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsx("h3",{className:"mb-3 text-sm font-semibold",children:"Overall Attendance"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(ufe,{percent:R,zone:F}),f.jsx("div",{className:"space-y-1.5 text-sm",children:[["Present",(e==null?void 0:e.present)??0],["Total",(e==null?void 0:e.total)??0],["Absent",((e==null?void 0:e.total)??0)-((e==null?void 0:e.present)??0)]].map(([q,X])=>f.jsxs("div",{className:"flex justify-between gap-6",children:[f.jsx("span",{className:"text-muted-foreground",children:q}),f.jsx("span",{className:"font-semibold",children:X})]},q))})]})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Below 75% Alert"}),f.jsxs(Vn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Details ",f.jsx(tg,{size:11})]})]}),f.jsx(cfe,{subjects:r})]})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow lg:col-span-3",children:[f.jsx("h3",{className:"mb-4 text-sm font-semibold",children:"Subject-wise Attendance"}),C.length===0?f.jsx("div",{className:"flex h-48 items-center justify-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking classes."}):f.jsx(qJ,{width:"100%",height:220,children:f.jsxs(Lde,{data:C,margin:{top:4,right:8,left:-20,bottom:0},barSize:28,children:[f.jsx(CV,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),f.jsx(mv,{dataKey:"name",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),f.jsx(gv,{domain:[0,100],tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),f.jsx(cv,{y:75,stroke:"#f59e0b",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:"75%",position:"insideTopRight",fontSize:10,fill:"#f59e0b"}}),f.jsx(ea,{content:f.jsx(lfe,{}),cursor:{fill:"hsl(var(--accent))"}}),f.jsx(Ml,{dataKey:"percent",radius:[6,6,0,0],children:C.map((q,X)=>f.jsx(qy,{fill:q.zone==="safe"?"#10b981":"#f43f5e",fillOpacity:.82},X))})]})}),f.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-emerald-500"}),"  75% Safe"]}),f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-rose-500"})," < 75% Risk"]}),f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-0.5 w-5 bg-amber-400",style:{borderTop:"1px dashed #f59e0b"}})," 75% line"]})]})]})]})]})}function t4({zone:t}){const e=t==="safe";return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-semibold",e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e?f.jsx(OT,{size:12}):f.jsx(NT,{size:12}),e?"SAFE":"RISK"]})}function r4({percent:t}){const e=t>=75;return f.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:f.jsx("div",{className:ke("h-full rounded-full transition-all",e?"bg-green-500":"bg-red-400"),style:{width:`${Math.min(t,100)}%`}})})}function aF({status:t}){if(!t)return null;const e={present:"bg-green-100 text-green-800",absent:"bg-red-100 text-red-800",cancelled:"bg-yellow-100 text-yellow-800",extra:"bg-blue-100 text-blue-800"};return f.jsx("span",{className:ke("rounded-full px-3 py-1 text-xs font-semibold",e[t]??"bg-muted text-muted-foreground"),children:t.toUpperCase()})}function oF({subjectId:t,marking:e,onMark:r,disabled:n}){return f.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{key:"present",label:"Present",cls:"bg-green-600 hover:bg-green-700 text-white"},{key:"absent",label:"Absent",cls:"bg-red-500 hover:bg-red-600 text-white"},{key:"cancelled",label:"Cancelled",cls:"border border-border text-muted-foreground hover:bg-accent"}].map(({key:i,label:a,cls:o})=>f.jsx("button",{disabled:e===t||n,onClick:()=>r(t,i),className:ke("rounded-md px-3 py-1.5 text-xs font-semibold transition-all duration-150 active:scale-95 disabled:opacity-50",o),children:a},i))})}function bfe({date:t,day:e,today:r,marking:n,onMark:i}){if(r.length===0)return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:["No classes scheduled for today (",e,").",f.jsx("br",{}),f.jsx("span",{className:"text-xs",children:"Add a timetable or set one as active to see scheduled subjects."})]});const a=D.useMemo(()=>{const o=new Map;return r.forEach(l=>{const c=l.timetableId??"__none__";o.has(c)||o.set(c,{name:l.timetableName,items:[]}),o.get(c).items.push(l)}),[...o.values()]},[r]);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("div",{className:"border-b border-border px-4 py-3",children:[f.jsx("h3",{className:"font-semibold",children:"Today's Classes"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[e,", ",t]})]}),f.jsx("div",{children:a.map((o,l)=>f.jsxs("div",{className:ke(l>0&&"border-t border-border"),children:[o.name&&f.jsx("div",{className:"px-4 pt-3 pb-1",children:f.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-primary/70 bg-primary/5 rounded-full px-2 py-0.5",children:o.name})}),f.jsx("div",{className:"divide-y divide-border",children:o.items.map(({subject:c,markedStatus:d,alreadyMarked:p,uniqueKey:m,slot:y})=>f.jsxs("div",{className:"flex flex-col gap-2 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium",children:c.name}),(y==null?void 0:y.startTime)&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[y.startTime,"",y.endTime]})]}),p?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(aF,{status:d}),f.jsx("button",{onClick:()=>i(c.id,d==="present"?"absent":"present"),className:"text-[10px] text-muted-foreground hover:text-foreground underline",children:"change"})]}):f.jsx(oF,{subjectId:c.id,marking:n,onMark:i})]},m))})]},l))})]})}function n4(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`}function xfe(t){if(!t||t.length===0)return null;const e={present:0,absent:0,cancelled:0};t.forEach(n=>{e[n.status]!==void 0&&e[n.status]++});const r=Math.max(e.present,e.absent,e.cancelled);return r===0?null:e.present===r?"present":e.absent===r?"absent":"cancelled"}const i4={present:"bg-green-400",absent:"bg-red-400",cancelled:"bg-yellow-400"},wfe={present:"bg-green-50 border-green-200",absent:"bg-red-50 border-red-200",cancelled:"bg-yellow-50 border-yellow-200"};function _fe({allRecords:t,timetables:e,subjects:r,onRetroMark:n}){const i=new Date,[a,o]=D.useState(i.getFullYear()),[l,c]=D.useState(i.getMonth()),[d,p]=D.useState(null),m=D.useMemo(()=>{const T={};return t.forEach(E=>{T[E.date]||(T[E.date]=[]),T[E.date].push(E)}),T},[t]),y=D.useMemo(()=>{const T=new Date(a,l,1),E=new Date(a,l+1,0),I=(T.getDay()+6)%7,N=[];for(let k=0;k<I;k++)N.push(null);for(let k=1;k<=E.getDate();k++)N.push(new Date(a,l,k));for(;N.length%7!==0;)N.push(null);return N},[a,l]);function x(){l===0?(o(T=>T-1),c(11)):c(T=>T-1),p(null)}function S(){l===11?(o(T=>T+1),c(0)):c(T=>T+1),p(null)}const w=new Date(a,l,1).toLocaleDateString("en-IN",{month:"long",year:"numeric"}),b=n4(i);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Monthly Calendar"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:x,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(d3,{size:15})}),f.jsx("span",{className:"text-sm font-medium min-w-[130px] text-center",children:w}),f.jsx("button",{onClick:S,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(bl,{size:15})})]})]}),f.jsx("div",{className:"grid grid-cols-7 border-b border-border",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(T=>f.jsx("div",{className:"py-2 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:T},T))}),f.jsx("div",{className:"grid grid-cols-7",children:y.map((T,E)=>{if(!T)return f.jsx("div",{className:"aspect-square"},E);const I=n4(T),N=m[I],k=xfe(N),O=I===b,P=I===d,C=I>b;return f.jsxs("button",{disabled:C,onClick:()=>p(P?null:I),className:ke("aspect-square flex flex-col items-center justify-center gap-0.5 text-xs transition-all duration-150 border border-transparent",C?"opacity-30 cursor-default":"cursor-pointer hover:bg-accent active:scale-95",P&&"ring-2 ring-primary ring-inset",O&&!P&&"font-bold text-primary",k&&!P&&wfe[k]),children:[f.jsx("span",{className:ke("text-xs",O&&"underline underline-offset-2"),children:T.getDate()}),k&&f.jsx("span",{className:ke("h-1.5 w-1.5 rounded-full",i4[k])})]},I)})}),f.jsx("div",{className:"flex items-center gap-3 px-4 py-2 border-t border-border text-xs text-muted-foreground",children:[["present","green","Present"],["absent","red","Absent"],["cancelled","yellow","Cancelled"]].map(([T,E,I])=>f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:ke("h-2 w-2 rounded-full",i4[T])})," ",I]},T))}),d&&f.jsx(Sfe,{date:d,timetables:e,subjects:r,existingRecords:m[d]??[],onMark:n,onClose:()=>p(null)})]})}function Sfe({date:t,timetables:e,subjects:r,existingRecords:n,onMark:i,onClose:a}){const[o,l]=D.useState(null),[c,d]=D.useState(null),p=new Date(t+"T12:00:00"),m=TE[p.getDay()],y=p.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),x=e.filter(E=>E.active&&!E.archived&&(!E.startDate||E.startDate<=t)),S=x.find(E=>E.id===o)??x[0]??null,w=D.useMemo(()=>S?(S.slots??[]).filter(I=>I.day===m).sort((I,N)=>(I.startTime??"").localeCompare(N.startTime??"")).map(I=>{const N=r.find(k=>k.id===I.subjectId);return N?{subject:N,slot:I}:null}).filter(Boolean):r.map(I=>({subject:I,slot:null})),[S,m,r]),b=D.useMemo(()=>{const E={};return n.forEach(I=>{E[I.subjectId]=I.status}),E},[n]);async function T(E,I){d(E);try{await i(E,I,t)}finally{d(null)}}return f.jsxs("div",{className:"border-t border-border bg-muted/30 p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold",children:y}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Mark attendance for this date"})]}),f.jsx("button",{onClick:a,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(on,{size:15})})]}),x.length>1&&f.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[f.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"Timetable:"}),x.map(E=>{var I;return f.jsx("button",{onClick:()=>l(E.id),className:ke("rounded-full px-2.5 py-1 text-xs font-medium transition-colors",(o??((I=x[0])==null?void 0:I.id))===E.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"),children:E.name},E.id)})]}),w.length===0?f.jsxs("p",{className:"text-sm text-muted-foreground text-center py-3",children:["No classes scheduled for ",m," in this timetable."]}):f.jsx("div",{className:"space-y-2",children:w.map(({subject:E,slot:I})=>{const N=b[E.id];return f.jsxs("div",{className:"flex flex-col gap-1.5 rounded-lg border border-border bg-background px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium",children:E.name}),(I==null?void 0:I.startTime)&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[I.startTime,"",I.endTime]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[N&&f.jsx(aF,{status:N}),f.jsx(oF,{subjectId:E.id,marking:c,onMark:T})]})]},E.id)})})]})}function Efe({overall:t,subjects:e}){return e.length===0?f.jsx("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking your classes above."}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fG,{size:16,className:"text-muted-foreground"}),f.jsx("span",{className:"text-sm font-semibold",children:"Overall Attendance"})]}),f.jsx(t4,{zone:t.zone})]}),f.jsx(r4,{percent:t.percent}),f.jsxs("p",{className:"mt-1.5 text-xs text-muted-foreground",children:[t.present," present / ",t.total," total  ",t.percent,"%"]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:[f.jsx("div",{className:"px-4 py-2.5",children:f.jsx("h3",{className:"text-sm font-semibold",children:"Subject-wise Intelligence"})}),e.map(({subject:r,percent:n,present:i,total:a,zone:o,classesNeededFor75:l})=>f.jsxs("div",{className:"px-4 py-3 space-y-1.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:r.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-semibold",children:[n,"%"]}),f.jsx(t4,{zone:o})]})]}),f.jsx(r4,{percent:n}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[f.jsxs("span",{children:[i," present / ",a," total"]}),o==="risk"&&l>0&&f.jsxs("span",{className:"font-medium text-red-600",children:["Need ",l," consecutive present class",l!==1?"es":""," to reach 75%"]}),o==="safe"&&f.jsx("span",{className:"font-medium text-green-600",children:"On track"})]})]},r.id))]})]})}function Tfe(){const{user:t}=zn(),{date:e,day:r,today:n,error:i,marking:a,mark:o}=GV(),{overall:l,subjects:c,refresh:d}=KV(),{records:p}=zde(),{timetables:m}=Mh(),{subjects:y}=ys({archived:!1});function x(w,b){o(w,b),setTimeout(d,50)}async function S(w,b,T){t&&(await HV.mark(t.id,{subjectId:w,status:b,date:T}),setTimeout(d,50))}return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Sf,{size:24,className:"text-primary"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Attendance"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark today's classes and track your progress."})]})]}),i&&f.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:i}),f.jsx(bfe,{date:e,day:r,today:n??[],marking:a,onMark:x}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Monthly View"}),f.jsx(_fe,{allRecords:p,timetables:m,subjects:y,onRetroMark:S})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Attendance Intelligence"}),f.jsx(Efe,{overall:l??{percent:0,present:0,total:0,zone:"risk"},subjects:c??[]})]})]})}const BA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function Afe({timetableId:t,subjects:e,onAdd:r}){const[n,i]=D.useState({day:"Monday",subjectId:"",startTime:"09:00",endTime:"10:00"}),[a,o]=D.useState("");function l(d,p){i(m=>({...m,[d]:p}))}function c(d){if(d.preventDefault(),!n.subjectId){o("Select a subject.");return}if(n.startTime>=n.endTime){o("End time must be after start time.");return}r(t,n),i(p=>({...p,subjectId:""})),o("")}return f.jsxs("form",{onSubmit:c,className:"space-y-2 rounded-lg bg-muted/50 p-3",children:[f.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Add slot"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[f.jsx("select",{value:n.day,onChange:d=>l("day",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:BA.map(d=>f.jsx("option",{children:d},d))}),f.jsxs("select",{value:n.subjectId,onChange:d=>l("subjectId",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[f.jsx("option",{value:"",children:" Subject "}),e.map(d=>f.jsx("option",{value:d.id,children:d.name},d.id))]}),f.jsx("input",{type:"time",value:n.startTime,onChange:d=>l("startTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"time",value:n.endTime,onChange:d=>l("endTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),a&&f.jsx("p",{className:"text-xs text-destructive",children:a}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[f.jsx(dr,{size:13})," Add slot"]})]})}function Pfe({slot:t,subjects:e,onDelete:r}){const n=e.find(i=>i.id===t.subjectId);return f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-1 py-2 last:border-0",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("span",{className:"w-24 font-medium text-muted-foreground",children:t.day}),f.jsx("span",{className:"font-medium",children:(n==null?void 0:n.name)??"Unknown"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.startTime,"  ",t.endTime]})]}),f.jsx("button",{onClick:()=>r(t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Remove slot",children:f.jsx(Fi,{size:14})})]})}function jfe({slots:t,subjects:e}){if(t.length===0)return f.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots yet. Add some below."});const r=BA.filter(i=>t.some(a=>a.day===i)),n=[...new Set(t.map(i=>`${i.startTime??""}${i.endTime??""}`))].sort();return f.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-border bg-muted/50",children:[f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-muted-foreground w-24",children:"Time"}),r.map(i=>f.jsx("th",{className:"px-3 py-2 text-center font-semibold text-muted-foreground",children:i.slice(0,3)},i))]})}),f.jsx("tbody",{children:n.map(i=>{const[a,o]=i.split("");return f.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30",children:[f.jsxs("td",{className:"px-3 py-2 text-muted-foreground font-mono whitespace-nowrap",children:[a,f.jsx("br",{}),f.jsx("span",{className:"text-[10px]",children:o})]}),r.map(l=>{const c=t.find(p=>p.day===l&&`${p.startTime??""}${p.endTime??""}`===i),d=c?e.find(p=>p.id===c.subjectId):null;return f.jsx("td",{className:"px-3 py-2 text-center",children:d?f.jsx("span",{className:"inline-block rounded-md bg-primary/10 px-1.5 py-0.5 text-[11px] font-medium text-primary",children:d.name}):f.jsx("span",{className:"text-muted-foreground/30",children:""})},l)})]},i)})})]})})}function kfe({tt:t,subjects:e,onActivate:r,onArchive:n,onAddSlot:i,onDeleteSlot:a}){const[o,l]=D.useState(!1),[c,d]=D.useState("list");return f.jsxs("div",{className:ke("overflow-hidden rounded-xl border bg-card transition-all",t.active?"border-primary shadow-sm":"border-border"),children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-semibold",children:t.name}),t.active&&f.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary",children:"Active"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.slots.length," slot",t.slots.length!==1?"s":""]}),t.startDate&&f.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(u3,{size:11}),"From ",new Date(t.startDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>r(t.id),className:ke("flex items-center gap-1 rounded-md px-2.5 py-1.5 text-xs font-medium transition-colors",t.active?"text-amber-600 hover:bg-amber-50":"text-primary hover:bg-primary/10"),children:t.active?f.jsxs(f.Fragment,{children:[f.jsx(yG,{size:13})," Deactivate"]}):f.jsxs(f.Fragment,{children:[f.jsx(vG,{size:13})," Activate"]})}),f.jsx("button",{onClick:()=>n(t.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive",children:f.jsx(Fi,{size:15})}),f.jsx("button",{onClick:()=>l(p=>!p),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",children:o?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})})]})]}),o&&f.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[t.slots.length>0&&f.jsxs("div",{className:"flex gap-1 self-start overflow-hidden rounded-lg border border-border text-xs",children:[f.jsxs("button",{onClick:()=>d("list"),className:ke("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[f.jsx(g3,{size:12})," List"]}),f.jsxs("button",{onClick:()=>d("table"),className:ke("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="table"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[f.jsx(ZH,{size:12})," Table"]})]}),t.slots.length===0?f.jsx("p",{className:"text-sm text-muted-foreground",children:"No slots yet."}):c==="table"?f.jsx(jfe,{slots:t.slots,subjects:e}):BA.map(p=>{const m=t.slots.filter(y=>y.day===p).sort((y,x)=>(y.startTime??"").localeCompare(x.startTime??""));return m.length>0?f.jsxs("div",{children:[f.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:p}),m.map(y=>f.jsx(Pfe,{slot:y,subjects:e,onDelete:x=>a(t.id,x)},y.id))]},p):null}),f.jsx(Afe,{timetableId:t.id,subjects:e,onAdd:i})]})]})}function Ife(){const{timetables:t,create:e,activate:r,archive:n,addSlot:i,deleteSlot:a}=Mh(),{subjects:o}=ys({archived:!1}),[l,c]=D.useState(""),[d,p]=D.useState("");function m(w){w.preventDefault();const b=l.trim();b&&(e({name:b,startDate:d||null}),c(""),p(""))}function y(w){confirm("Archive this timetable?")&&n(w)}const x=t.filter(w=>!w.archived),S=x.filter(w=>w.active).length;return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Timetable"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Create timetables and add class slots. Up to 2 timetables can be active at once."})]}),S>=2&&f.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-2 text-sm text-amber-800",children:"2 timetables are active. Activating another will deactivate the oldest one."}),o.length===0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",f.jsx("strong",{children:"Subjects"})," page before creating slots."]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsx("p",{className:"mb-3 text-sm font-semibold",children:"New Timetable"}),f.jsxs("form",{onSubmit:m,className:"space-y-2",children:[f.jsx("input",{value:l,onChange:w=>c(w.target.value),placeholder:'e.g. "Sem 4 Regular"',className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[f.jsx(u3,{size:11})," Start date (optional)"]}),f.jsx("input",{type:"date",value:d,onChange:w=>p(w.target.value),className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 self-end",children:[f.jsx(dr,{size:15})," Create"]})]}),f.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Start date prevents the timetable from applying to dates before it was activated."})]})]}),x.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[f.jsx(Th,{size:36,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No timetables yet."})]}):f.jsx("div",{className:"space-y-3",children:x.map(w=>f.jsx(kfe,{tt:w,subjects:o,onActivate:r,onArchive:y,onAddSlot:i,onDeleteSlot:a},w.id))})]})}function Cfe({subject:t,onAdd:e,onUpdate:r,onDelete:n}){const[i,a]=D.useState(""),[o,l]=D.useState(null),[c,d]=D.useState(""),[p,m]=D.useState(!1),y=t.chapters??[];function x(b){b.preventDefault();const T=i.trim();T&&(e(t.id,T),a(""),m(!1))}function S(b){l(b.id),d(b.name)}function w(){const b=c.trim();b&&r(t.id,o,b),l(null)}return f.jsxs("div",{className:"border-t border-border bg-muted/30 px-4 pb-3 pt-2 space-y-2",children:[y.length===0?f.jsx("p",{className:"text-xs text-muted-foreground py-1",children:"No chapters added yet."}):f.jsx("div",{className:"space-y-1",children:y.map((b,T)=>o===b.id?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-muted-foreground w-5 text-right",children:[T+1,"."]}),f.jsx("input",{autoFocus:!0,value:c,onChange:E=>d(E.target.value),onKeyDown:E=>{E.key==="Enter"&&w(),E.key==="Escape"&&l(null)},className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{onClick:w,className:"rounded p-1 text-green-600 hover:bg-green-50",children:f.jsx(xr,{size:14})}),f.jsx("button",{onClick:()=>l(null),className:"rounded p-1 text-muted-foreground hover:bg-accent",children:f.jsx(on,{size:14})})]},b.id):f.jsxs("div",{className:"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-accent/40 transition-colors group",children:[f.jsxs("span",{className:"text-xs text-muted-foreground w-5 text-right",children:[T+1,"."]}),f.jsx("span",{className:"flex-1 text-sm",children:b.name}),f.jsx("button",{onClick:()=>S(b),className:"rounded p-1 text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-accent hover:text-foreground transition-all",children:f.jsx(ky,{size:12})}),f.jsx("button",{onClick:()=>n(t.id,b.id),className:"rounded p-1 text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",children:f.jsx(Fi,{size:12})})]},b.id))}),p?f.jsxs("form",{onSubmit:x,className:"flex items-center gap-2",children:[f.jsx("input",{autoFocus:!0,value:i,onChange:b=>a(b.target.value),placeholder:"Chapter name",className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",className:"rounded-md bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground hover:opacity-90",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>m(!1),className:"rounded-md border border-border px-2 py-1 text-xs text-muted-foreground hover:bg-accent",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-2.5 py-1 text-xs text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(dr,{size:12})," Add chapter"]})]})}function Nfe(){const{subjects:t,create:e,update:r,archive:n,addChapter:i,updateChapter:a,deleteChapter:o}=ys({archived:!1}),[l,c]=D.useState(""),[d,p]=D.useState(null),[m,y]=D.useState(""),[x,S]=D.useState(new Set),[w,b]=D.useState("");function T(P){P.preventDefault();const C=l.trim();if(C){if(t.find(R=>R.name.toLowerCase()===C.toLowerCase())){b("A subject with this name already exists.");return}e(C),c(""),b("")}}function E(P){p(P.id),y(P.name)}function I(P){const C=m.trim();if(!C){N();return}r(P,{name:C}),p(null)}function N(){p(null),y("")}function k(P){confirm("Archive this subject? It won't appear in attendance or timetable.")&&n(P)}function O(P){S(C=>{const R=new Set(C);return R.has(P)?R.delete(P):R.add(P),R})}return f.jsxs("div",{className:"mx-auto max-w-xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Subjects"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subjects and their chapters. Chapters are used in exam prep."})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("form",{onSubmit:T,className:"flex gap-2",children:[f.jsx("input",{value:l,onChange:P=>{c(P.target.value),b("")},placeholder:"Subject name (e.g. Mathematics)",className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(dr,{size:15})," Add"]})]}),w&&f.jsx("p",{className:"mt-2 text-xs text-destructive",children:w})]}),f.jsx("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:t.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-muted-foreground",children:[f.jsx(QH,{size:32,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No subjects yet. Add one above."})]}):t.map(P=>{const C=P.chapters??[],R=x.has(P.id),F=d===P.id;return f.jsxs("div",{className:"transition-colors",children:[F?f.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[f.jsx("input",{autoFocus:!0,value:m,onChange:L=>y(L.target.value),onKeyDown:L=>{L.key==="Enter"&&I(P.id),L.key==="Escape"&&N()},className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background"}),f.jsx("button",{onClick:()=>I(P.id),className:"rounded-md p-1.5 text-green-600 hover:bg-green-50",title:"Save",children:f.jsx(xr,{size:16})}),f.jsx("button",{onClick:N,className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",title:"Cancel",children:f.jsx(on,{size:16})})]}):f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 hover:bg-accent/40 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("span",{className:"text-sm font-medium truncate",children:P.name}),C.length>0&&f.jsxs("span",{className:"flex items-center gap-0.5 rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:[f.jsx(g3,{size:9})," ",C.length]})]}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:()=>O(P.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:R?"Collapse chapters":"Manage chapters",children:R?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})}),f.jsx("button",{onClick:()=>E(P),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:"Rename",children:f.jsx(ky,{size:15})}),f.jsx("button",{onClick:()=>k(P.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive",children:f.jsx(Fi,{size:15})})]})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:R?`${(C.length+2)*44+80}px`:"0px"},children:R&&f.jsx(Cfe,{subject:P,onAdd:i,onUpdate:a,onDelete:o})})]},P.id)})}),t.length>0&&f.jsxs("p",{className:"text-right text-xs text-muted-foreground",children:[t.length," subject",t.length!==1?"s":""]})]})}function Ofe({value:t,color:e="bg-primary"}){return f.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:f.jsx("div",{className:ke("h-full rounded-full transition-all duration-500",e),style:{width:`${t}%`}})})}function sF({value:t,placeholder:e,onSave:r,buttonLabel:n}){const[i,a]=D.useState(!1),[o,l]=D.useState(t??"");function c(){r(o.trim()),a(!1)}function d(){l(t??""),a(!1)}return i?f.jsxs("div",{className:"flex gap-1 items-start",children:[f.jsx("textarea",{autoFocus:!0,value:o,onChange:p=>l(p.target.value),rows:2,placeholder:e,className:"flex-1 resize-none rounded-md border border-input bg-background px-2 py-1.5 text-xs outline-none focus:ring-2 focus:ring-ring"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("button",{onClick:c,className:"rounded p-1 text-green-600 hover:bg-green-50 transition-colors",children:f.jsx(xr,{size:13})}),f.jsx("button",{onClick:d,className:"rounded p-1 text-muted-foreground hover:bg-accent transition-colors",children:f.jsx(on,{size:13})})]})]}):t?f.jsx("p",{className:"text-xs text-amber-800 italic leading-snug cursor-pointer hover:text-amber-900 bg-amber-50 border border-amber-100 rounded px-2 py-1.5",onClick:()=>{l(t),a(!0)},children:t}):f.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 text-[11px] text-muted-foreground/50 hover:text-muted-foreground transition-colors",children:[f.jsx(Iy,{size:11})," ",n]})}function Rfe({chapter:t,examId:e,subjectId:r,onUpdate:n,onDelete:i}){function a(){n(e,r,t.id,{theoryDone:!t.theoryDone})}function o(){n(e,r,t.id,{practiceCount:(t.practiceCount??0)+1})}const l=t.theoryDone&&(t.practiceCount??0)>0;return f.jsxs("div",{className:ke("rounded-lg border p-3 space-y-2 transition-colors",l?"border-green-200 bg-green-50/40":"border-border bg-background"),children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("span",{className:ke("text-sm font-medium flex-1 leading-snug",l&&"text-green-800"),children:[l&&f.jsx(xr,{size:11,className:"inline mr-1 text-green-600"}),t.name]}),f.jsx("button",{onClick:()=>i(e,r,t.id),className:"rounded p-0.5 text-muted-foreground/30 hover:text-destructive hover:bg-destructive/5 transition-colors shrink-0",children:f.jsx(Fi,{size:12})})]}),f.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[f.jsxs("button",{onClick:a,className:ke("flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium border transition-all",t.theoryDone?"border-blue-200 bg-blue-50 text-blue-700":"border-border text-muted-foreground hover:border-blue-200 hover:bg-blue-50 hover:text-blue-600"),children:[t.theoryDone?f.jsx(xr,{size:11}):f.jsx(to,{size:11}),t.theoryDone?"Studied":"Mark Studied"]}),f.jsxs("button",{onClick:o,className:ke("flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium border transition-all",(t.practiceCount??0)>0?"border-violet-200 bg-violet-50 text-violet-700":"border-border text-muted-foreground hover:border-violet-200 hover:bg-violet-50 hover:text-violet-600"),children:[f.jsx(dr,{size:11}),"Practice",(t.practiceCount??0)>0?` (${t.practiceCount}x)`:""]})]}),f.jsx(sF,{value:t.notes,placeholder:"Add a note about where you left off",onSave:c=>n(e,r,t.id,{notes:c}),buttonLabel:"+ Note"})]})}function Mfe({examId:t,subjectId:e,onAdd:r}){const[n,i]=D.useState(!1),[a,o]=D.useState("");function l(c){c.preventDefault(),a.trim()&&(r(t,e,{name:a.trim()}),o(""),i(!1))}return n?f.jsxs("form",{onSubmit:l,className:"flex gap-2",children:[f.jsx("input",{autoFocus:!0,value:a,onChange:c=>o(c.target.value),placeholder:"Chapter name",className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",className:"rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{i(!1),o("")},className:"rounded-md border border-border px-2 py-1.5 text-xs text-muted-foreground hover:bg-accent transition-colors",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-3 py-1.5 text-xs text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(dr,{size:13})," Add chapter"]})}function Dfe({subjectName:t,onConfirm:e,onClose:r}){const[n,i]=D.useState(7),a=[3,7,14,21,30];return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:f.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-border bg-card p-6 shadow-xl space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"rounded-xl bg-violet-100 p-2",children:f.jsx(Tf,{size:18,className:"text-violet-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Schedule a Review"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[t,"  all chapters done!"]})]})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"When should we remind you to revise?"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(o=>f.jsxs("button",{onClick:()=>i(o),className:ke("rounded-full px-3 py-1.5 text-xs font-medium transition-all",n===o?"bg-violet-600 text-white":"bg-muted text-muted-foreground hover:bg-accent"),children:[o," days"]},o))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>e(n),className:"flex-1 flex items-center justify-center gap-1.5 rounded-lg bg-violet-600 py-2 text-sm font-medium text-white hover:bg-violet-700 transition-colors",children:[f.jsx(eS,{size:14})," Remind me in ",n," days"]}),f.jsx("button",{onClick:r,className:"rounded-lg border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-accent transition-colors",children:"Skip"})]})]})})}function Lfe({examSubject:t,allSubjects:e,examId:r,isFirst:n,isLast:i,onRemoveSubject:a,onAddChapter:o,onUpdateChapter:l,onDeleteChapter:c,onMoveSubject:d,onSetDueDate:p,onAddRepeatReminder:m,onSetSubjectNotes:y}){const x=e.find(F=>F.id===t.subjectId),S=(x==null?void 0:x.name)??"Unknown",[w,b]=D.useState(!1),[T,E]=D.useState(!1),[I,N]=D.useState(t.dueDate??""),{theoryProgress:k,practiceProgress:O,overallProgress:P,allDone:C}=t;function R(){p(r,t.subjectId,I),E(!1)}return f.jsxs(f.Fragment,{children:[w&&f.jsx(Dfe,{subjectName:S,onConfirm:F=>{m(S,F),b(!1)},onClose:()=>b(!1)}),f.jsxs("div",{className:"space-y-3 rounded-xl border border-border bg-card/50 p-4 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-0.5 shrink-0",children:[f.jsx("button",{onClick:()=>d(r,t.subjectId,"up"),disabled:n,className:"rounded p-0.5 text-muted-foreground hover:bg-accent hover:text-foreground disabled:opacity-20 transition-colors",children:f.jsx(KH,{size:13})}),f.jsx("button",{onClick:()=>d(r,t.subjectId,"down"),disabled:i,className:"rounded p-0.5 text-muted-foreground hover:bg-accent hover:text-foreground disabled:opacity-20 transition-colors",children:f.jsx(GH,{size:13})})]}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("h4",{className:"text-sm font-semibold",children:S}),C&&f.jsx("span",{className:"rounded-full bg-green-100 px-2 py-0.5 text-[10px] font-semibold text-green-700",children:"Complete"}),t.dueDate&&!C&&f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-semibold text-amber-800",children:[f.jsx(ua,{size:9}),"Due ",new Date(t.dueDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:()=>E(F=>!F),title:"Study deadline",className:"rounded p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:f.jsx(ua,{size:13})}),C&&f.jsx("button",{onClick:()=>b(!0),title:"Schedule revision",className:"rounded p-1 text-violet-500 hover:bg-violet-50 transition-colors",children:f.jsx(Tf,{size:13})}),f.jsx("button",{onClick:()=>a(r,t.subjectId),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(on,{size:14})})]})]}),T&&f.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-2",children:[f.jsx(ua,{size:13,className:"text-muted-foreground shrink-0"}),f.jsx("input",{type:"date",value:I,onChange:F=>N(F.target.value),className:"flex-1 bg-transparent text-sm outline-none"}),f.jsx("button",{onClick:R,className:"rounded-md bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground hover:opacity-90",children:"Set"}),f.jsx("button",{onClick:()=>{N(""),p(r,t.subjectId,""),E(!1)},className:"text-xs text-destructive hover:underline",children:"Clear"})]}),t.chapters.length>0&&f.jsx("div",{className:"space-y-2 rounded-lg bg-muted/30 px-3 py-2.5",children:[{label:"Theory",value:k,color:"bg-blue-400"},{label:"Practice",value:O,color:"bg-violet-400"},{label:"Overall",value:P,color:P>=100?"bg-green-500":P>=60?"bg-amber-400":"bg-primary"}].map(({label:F,value:L,color:$})=>f.jsxs("div",{className:"space-y-0.5",children:[f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[f.jsx("span",{children:F}),f.jsxs("span",{className:ke("font-semibold",F==="Overall"&&L>=100&&"text-green-700"),children:[L,"%"]})]}),f.jsx(Ofe,{value:L,color:$})]},F))}),f.jsx(sF,{value:t.notes,placeholder:"Add a study note for this subject",onSave:F=>y(r,t.subjectId,F),buttonLabel:"+ Subject note"}),f.jsxs("div",{className:"space-y-2",children:[t.chapters.length===0?f.jsx("p",{className:"text-xs text-muted-foreground",children:"No chapters yet. Add one below."}):t.chapters.map(F=>f.jsx(Rfe,{chapter:F,examId:r,subjectId:t.subjectId,onUpdate:l,onDelete:c},F.id)),f.jsx(Mfe,{examId:r,subjectId:t.subjectId,onAdd:o})]}),C&&f.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-violet-200 bg-violet-50 px-3 py-2",children:[f.jsx(Tf,{size:13,className:"text-violet-600 shrink-0"}),f.jsx("p",{className:"flex-1 text-xs text-violet-800 font-medium",children:"All chapters complete! Schedule a revision?"}),f.jsx("button",{onClick:()=>b(!0),className:"rounded-md bg-violet-600 px-2.5 py-1 text-xs font-medium text-white hover:bg-violet-700 transition-colors",children:"Remind me"})]})]})]})}function $fe({exam:t,allSubjects:e,onArchive:r,onAddSubject:n,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:l,onMoveSubject:c,onSetDueDate:d,onUpdate:p,onAddRepeatReminder:m,onSetSubjectNotes:y}){var V;const[x,S]=D.useState(!1),[w,b]=D.useState(""),[T,E]=D.useState(!1),[I,N]=D.useState(t.name),[k,O]=D.useState(t.examDate??""),P=t.subjects.map(q=>q.subjectId),C=e.filter(q=>!P.includes(q.id)),R=t.examDate?Math.ceil((new Date(t.examDate+"T12:00:00")-new Date)/864e5):null;function F(){if(!w)return;const q=e.find(X=>X.id===w);n(t.id,w,(q==null?void 0:q.chapters)??[]),b("")}function L(){I.trim()&&p(t.id,{name:I.trim(),examDate:k||null}),E(!1)}const $=t.subjects.flatMap(q=>(q.chapters??[]).filter(X=>!X.theoryDone).map(X=>{var te;return{subject:((te=e.find(re=>re.id===q.subjectId))==null?void 0:te.name)??"Unknown",chapter:X.name}})).slice(0,5);return f.jsxs("div",{className:ke("overflow-hidden rounded-xl border bg-card transition-shadow hover:shadow-sm",R!==null&&R<=3?"border-rose-300":R!==null&&R<=7?"border-amber-200":"border-border"),children:[T?f.jsxs("div",{className:"space-y-2 border-b border-border px-4 py-3",children:[f.jsx("input",{autoFocus:!0,value:I,onChange:q=>N(q.target.value),placeholder:"Exam name",className:"w-full rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("label",{className:"text-xs text-muted-foreground whitespace-nowrap flex items-center gap-1",children:[f.jsx(ua,{size:12})," Exam Date:"]}),f.jsx("input",{type:"date",value:k,onChange:q=>O(q.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:L,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[f.jsx(xr,{size:12})," Save"]}),f.jsx("button",{onClick:()=>E(!1),className:"rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent",children:"Cancel"})]})]}):f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-semibold",children:t.name}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.subjects.length," subject",t.subjects.length!==1?"s":""]}),t.examDate&&f.jsxs("span",{className:ke("flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",R!==null&&R<=3?"bg-rose-100 text-rose-700":R!==null&&R<=7?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"),children:[f.jsx(ua,{size:9}),new Date(t.examDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"}),R!==null&&R>=0&&`  ${R}d`,R!==null&&R<0&&"  past"]})]})}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>{N(t.name),O(t.examDate??""),E(!0)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:"Edit",children:f.jsx(ky,{size:14})}),f.jsx("button",{onClick:()=>{confirm("Archive this exam?")&&r(t.id)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive",children:f.jsx(Fi,{size:15})}),f.jsx("button",{onClick:()=>S(q=>!q),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent transition-colors",children:x?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})})]})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-500 ease-in-out",style:{maxHeight:x?"99999px":"0px"},children:f.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[$.length>0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[f.jsxs("div",{className:"mb-2 flex items-center gap-1.5 text-xs font-semibold text-amber-800",children:[f.jsx(hG,{size:13})," Not Yet Studied"]}),f.jsx("ul",{className:"space-y-1",children:$.map((q,X)=>f.jsxs("li",{className:"text-xs text-amber-900",children:[f.jsx("span",{className:"font-medium",children:q.subject}),"  ",q.chapter]},X))})]}),C.length>0&&f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:w,onChange:q=>b(q.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[f.jsx("option",{value:"",children:" Add a subject "}),C.map(q=>f.jsxs("option",{value:q.id,children:[q.name,(q.chapters??[]).length>0?` (${q.chapters.length} chapters)`:""]},q.id))]}),f.jsxs("button",{onClick:F,disabled:!w,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 disabled:opacity-40 transition-opacity",children:[f.jsx(dr,{size:13})," Add"]})]}),w&&(((V=e.find(q=>q.id===w))==null?void 0:V.chapters)??[]).length>0&&f.jsx("p",{className:"text-xs text-primary",children:"Chapters will be auto-imported."})]}),t.subjects.length===0?f.jsx("p",{className:"text-sm text-muted-foreground",children:"No subjects added yet."}):t.subjects.map((q,X)=>f.jsx(Lfe,{examSubject:q,allSubjects:e,examId:t.id,isFirst:X===0,isLast:X===t.subjects.length-1,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:l,onMoveSubject:c,onSetDueDate:d,onAddRepeatReminder:m,onSetSubjectNotes:y},q.subjectId))]})})]})}function Vfe(){const{exams:t,create:e,archive:r,update:n,addSubject:i,removeSubject:a,moveSubject:o,setSubjectDueDate:l,setSubjectNotes:c,addChapter:d,updateChapter:p,deleteChapter:m}=LT(),{subjects:y}=ys({archived:!1}),{create:x}=vv({archived:!1}),[S,w]=D.useState(""),[b,T]=D.useState(""),[E,I]=D.useState(!1);function N(P){P.preventDefault();const C=S.trim();C&&(e({name:C,examDate:b||null}),w(""),T(""),I(!1))}async function k(P,C){const R=new Date;R.setDate(R.getDate()+C);const F=$=>String($).padStart(2,"0"),L=`${R.getFullYear()}-${F(R.getMonth()+1)}-${F(R.getDate())}`;try{await x({title:`Revise: ${P}`,description:`Spaced repetition review  ${C} days after completing ${P}`,dueDate:L,priority:"medium"})}catch{}}const O=t.filter(P=>!P.archived);return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Exam Preparation"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Track chapter-by-chapter study progress. Arrange subjects in your study order."})]}),y.length===0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",f.jsx("strong",{children:"Subjects"})," page  chapters will be auto-imported here."]}),E?f.jsx("div",{className:"rounded-xl border border-border bg-card p-4",children:f.jsxs("form",{onSubmit:N,className:"space-y-3",children:[f.jsx("input",{autoFocus:!0,value:S,onChange:P=>w(P.target.value),placeholder:'Exam name (e.g. "Mid Sem 1")',className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("label",{className:"text-xs text-muted-foreground whitespace-nowrap flex items-center gap-1",children:[f.jsx(ua,{size:12})," Exam Date (optional):"]}),f.jsx("input",{type:"date",value:b,onChange:P=>T(P.target.value),className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(dr,{size:15})," Create"]}),f.jsx("button",{type:"button",onClick:()=>I(!1),className:"rounded-md border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-accent transition-colors",children:"Cancel"})]})]})}):f.jsxs("button",{onClick:()=>I(!0),className:"flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-border py-3 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(dr,{size:15})," Create New Exam"]}),O.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[f.jsx(to,{size:36,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No exams yet. Create one above."})]}):f.jsx("div",{className:"space-y-3",children:O.map(P=>f.jsx($fe,{exam:P,allSubjects:y,onArchive:r,onUpdate:(C,R)=>n(C,R),onAddSubject:i,onRemoveSubject:a,onAddChapter:d,onUpdateChapter:p,onDeleteChapter:m,onMoveSubject:o,onSetDueDate:l,onAddRepeatReminder:k,onSetSubjectNotes:c},P.id))})]})}const lF=["low","medium","high"];function Ffe({priority:t}){return f.jsx("span",{className:ke("rounded-full px-2 py-0.5 text-xs font-semibold capitalize",t==="high"&&"bg-rose-100 text-rose-700",t==="medium"&&"bg-amber-100 text-amber-700",t==="low"&&"bg-emerald-100 text-emerald-700"),children:t})}function Ufe({task:t,onAdd:e,onToggle:r,onDelete:n}){const[i,a]=D.useState(""),o=D.useRef(null),l=t.subtasks||[],c=l.filter(m=>m.completed).length,d=l.length;function p(m){var x;m.preventDefault();const y=i.trim();y&&(e(t.id,y),a(""),(x=o.current)==null||x.focus())}return f.jsxs("div",{className:"mt-2 ml-8 space-y-1 border-l-2 border-border pl-3 pb-1",children:[l.map(m=>f.jsxs("div",{className:"group flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-muted/60 transition-colors",children:[f.jsx("button",{onClick:()=>r(t.id,m.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:m.completed?f.jsx(tS,{size:15,className:"text-primary"}):f.jsx(rS,{size:15})}),f.jsx("span",{className:ke("flex-1 text-xs leading-snug",m.completed&&"line-through text-muted-foreground"),children:m.title}),f.jsx("button",{onClick:()=>n(t.id,m.id),className:"shrink-0 opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-destructive transition-all",children:f.jsx(on,{size:12})})]},m.id)),f.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 pt-0.5",children:[f.jsx(dr,{size:13,className:"shrink-0 text-muted-foreground ml-0.5"}),f.jsx("input",{ref:o,value:i,onChange:m=>a(m.target.value),placeholder:"Add a subtask",className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground py-1",onKeyDown:m=>{m.key==="Escape"&&a("")}}),i.trim()&&f.jsx("button",{type:"submit",className:"shrink-0 rounded-md bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary hover:bg-primary/20 transition-colors",children:"Add"})]}),d>0&&f.jsxs("p",{className:"text-[10px] text-muted-foreground pl-1",children:[c,"/",d," completed"]})]})}function a4({task:t,onToggle:e,onArchive:r,onAddSubtask:n,onToggleSubtask:i,onDeleteSubtask:a}){const[o,l]=D.useState(!1),c=t.dueDate&&!t.completed&&new Date(t.dueDate)<new Date,d=t.subtasks||[],p=d.filter(m=>m.completed).length;return f.jsxs("div",{className:ke("transition-colors",t.completed&&"opacity-55"),children:[f.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-muted/40 transition-colors",children:[f.jsx("button",{onClick:()=>e(t.id,t.completed),className:"mt-0.5 shrink-0 text-muted-foreground hover:text-primary transition-colors",title:t.completed?"Mark incomplete":"Mark complete",children:t.completed?f.jsx(RT,{size:17,className:"text-primary"}):f.jsx(sG,{size:17})}),f.jsxs("div",{className:"min-w-0 flex-1 cursor-pointer",onClick:()=>l(m=>!m),children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("p",{className:ke("text-sm font-medium leading-snug",t.completed&&"line-through text-muted-foreground"),children:t.title}),d.length>0&&f.jsxs("span",{className:"rounded-full bg-muted px-1.5 py-0.5 text-[10px] text-muted-foreground font-medium",children:[p,"/",d.length]}),f.jsx(bl,{size:13,className:ke("ml-auto text-muted-foreground transition-transform duration-200",o&&"rotate-90")})]}),t.description&&f.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground truncate",children:t.description}),f.jsxs("div",{className:"mt-1 flex items-center gap-2 flex-wrap",children:[f.jsx(Ffe,{priority:t.priority}),t.dueDate&&f.jsxs("span",{className:ke("text-xs",c?"font-medium text-rose-600":"text-muted-foreground"),children:[c?"Overdue  ":"Due  ",new Date(t.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})]}),f.jsx("button",{onClick:()=>r(t.id),className:"mt-0.5 shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive task",children:f.jsx(Fi,{size:13})})]}),o&&f.jsx("div",{className:"px-4 pb-2",children:f.jsx(Ufe,{task:t,onAdd:n,onToggle:i,onDelete:a})})]})}function zfe({onCreate:t}){const[e,r]=D.useState(!1),[n,i]=D.useState({title:"",description:"",dueDate:"",priority:"medium"}),[a,o]=D.useState("");function l(d,p){i(m=>({...m,[d]:p}))}function c(d){if(d.preventDefault(),!n.title.trim()){o("Title is required.");return}t({title:n.title.trim(),description:n.description.trim(),dueDate:n.dueDate||null,priority:n.priority}),i({title:"",description:"",dueDate:"",priority:"medium"}),o(""),r(!1)}return f.jsx("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:e?f.jsxs("form",{onSubmit:c,className:"space-y-3",children:[f.jsx("input",{autoFocus:!0,value:n.title,onChange:d=>l("title",d.target.value),placeholder:"Task title",className:"w-full rounded-xl border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),f.jsx("input",{value:n.description,onChange:d=>l("description",d.target.value),placeholder:"Description (optional)",className:"w-full rounded-xl border border-input bg-background px-3 py-1.5 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Due date"}),f.jsx("input",{type:"date",value:n.dueDate,onChange:d=>l("dueDate",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition"})]}),f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Priority"}),f.jsx("select",{value:n.priority,onChange:d=>l("priority",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",children:lF.map(d=>f.jsx("option",{value:d,className:"capitalize",children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),a&&f.jsx("p",{className:"text-xs text-destructive",children:a}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-xl bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(dr,{size:14})," Add task"]}),f.jsx("button",{type:"button",onClick:()=>{r(!1),o("")},className:"rounded-xl border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>r(!0),className:"flex w-full items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[f.jsx("div",{className:"rounded-lg bg-primary/10 p-1.5",children:f.jsx(dr,{size:14,className:"text-primary"})}),"Add a new task"]})})}function Bfe(){const{habits:t,todayLogs:e,addHabit:r,archiveHabit:n,toggleToday:i}=XV(),[a,o]=D.useState(""),[l,c]=D.useState(!1),[d,p]=D.useState(!0);function m(x){x.preventDefault();const S=a.trim();S&&(r(S),o(""),c(!1))}const y=t.filter(x=>e[x.id]).length;return f.jsxs("div",{className:"rounded-2xl border border-border bg-card card-shadow overflow-hidden",children:[f.jsxs("button",{onClick:()=>p(x=>!x),className:"flex w-full items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"rounded-lg bg-violet-100 p-1.5",children:f.jsx(Tf,{size:14,className:"text-violet-600"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-sm font-semibold",children:"Daily Habits"}),t.length>0&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[y,"/",t.length," done today"]})]})]}),d?f.jsx(Il,{size:15,className:"text-muted-foreground"}):f.jsx(kl,{size:15,className:"text-muted-foreground"})]}),d&&f.jsxs("div",{className:"border-t border-border",children:[t.length===0?f.jsx("p",{className:"px-4 py-4 text-sm text-muted-foreground text-center",children:"No daily habits yet. Add one to start tracking!"}):f.jsx("div",{className:"divide-y divide-border",children:t.map(x=>{const S=!!e[x.id];return f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-muted/30 transition-colors",children:[f.jsx("button",{onClick:()=>i(x.id),className:ke("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all",S?"bg-violet-500 border-violet-500 text-white":"border-muted-foreground/40 hover:border-violet-400"),children:S&&f.jsx(xr,{size:12})}),f.jsx("span",{className:ke("flex-1 text-sm",S&&"line-through text-muted-foreground"),children:x.name}),f.jsx("button",{onClick:()=>n(x.id),className:"shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Remove habit",children:f.jsx(Fi,{size:13})})]},x.id)})}),f.jsx("div",{className:"border-t border-border p-3",children:l?f.jsxs("form",{onSubmit:m,className:"flex items-center gap-2",children:[f.jsx("input",{autoFocus:!0,value:a,onChange:x=>o(x.target.value),placeholder:"Habit name, e.g. Morning exercise",className:"flex-1 rounded-lg border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",onKeyDown:x=>{x.key==="Escape"&&(c(!1),o(""))}}),f.jsx("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground disabled:opacity-50",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{c(!1),o("")},className:"rounded-lg border border-border px-2.5 py-1.5 text-xs text-muted-foreground hover:bg-muted",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1.5 text-xs text-primary font-medium hover:opacity-80 transition-opacity",children:[f.jsx(dr,{size:13})," Add daily habit"]})})]})]})}function qfe(){const{tasks:t,create:e,toggle:r,archive:n,addSubtask:i,toggleSubtask:a,deleteSubtask:o}=vv({archived:!1}),[l,c]=D.useState("all"),[d,p]=D.useState(!1),m=t.filter(b=>!b.completed),y=t.filter(b=>b.completed);function x(b){return l==="all"?b:b.filter(T=>T.priority===l)}const S=x(m),w=x(y);return f.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[f.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tasks"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.length," pending  ",y.length," done"]})]}),f.jsx("div",{className:"flex self-start overflow-hidden rounded-xl border border-border text-xs font-medium bg-card",children:["all",...lF].map(b=>f.jsx("button",{onClick:()=>c(b),className:ke("px-3 py-1.5 capitalize transition-colors",l===b?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:b},b))})]}),f.jsx(zfe,{onCreate:e}),S.length===0&&l==="all"?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-10 text-muted-foreground",children:[f.jsx(m3,{size:36,className:"opacity-25"}),f.jsx("p",{className:"text-sm",children:"No pending tasks. Add one above."})]}):f.jsx("div",{className:"overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:S.length===0?f.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No ",l," priority tasks pending."]}):S.map(b=>f.jsx(a4,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))}),f.jsx(Bfe,{}),y.length>0&&f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>p(b=>!b),className:"flex w-full items-center justify-between rounded-xl px-2 py-2.5 text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:[f.jsxs("span",{children:["Completed (",w.length,")"]}),d?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})]}),d&&f.jsx("div",{className:"mt-1 overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:w.length===0?f.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No completed ",l," priority tasks."]}):w.map(b=>f.jsx(a4,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))})]})]})}const Wfe=[{key:"focusModeEnabled",label:"Focus Mode",desc:"Hide distracting elements during study sessions"},{key:"strictFocusEnabled",label:"Strict Focus",desc:"Lock navigation while focus mode is active"},{key:"motivationEnabled",label:"Motivation Quotes",desc:"Show inspirational quotes on the dashboard"},{key:"analyticsEnabled",label:"Analytics",desc:"Track detailed study and attendance patterns"},{key:"safeModeEnabled",label:"Safe Mode",desc:"Show confirmation dialogs before destructive actions"}];function o4({on:t,disabled:e,onChange:r}){return f.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:r,disabled:e,className:ke("relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t?"bg-primary":"bg-input"),children:f.jsx("span",{className:ke("pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-lg transform transition duration-200 ease-in-out",t?"translate-x-4":"translate-x-0")})})}function bm({title:t,icon:e,children:r,defaultOpen:n=!1}){const[i,a]=D.useState(n);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("button",{onClick:()=>a(o=>!o),className:"flex w-full items-center justify-between px-5 py-4",children:[f.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[e&&f.jsx(e,{size:14}),t]}),i?f.jsx(Il,{size:16,className:"text-muted-foreground"}):f.jsx(kl,{size:16,className:"text-muted-foreground"})]}),i&&f.jsx("div",{className:"border-t border-border px-5 pb-5 pt-4 space-y-4",children:r})]})}function Hfe(){var po;const{user:t,refreshUser:e}=di(),n=(((po=Lr.currentUser)==null?void 0:po.providerData.map(Oe=>Oe.providerId))??[]).includes("password"),[i,a]=D.useState((t==null?void 0:t.avatarColor)??"#6366f1"),[o,l]=D.useState((t==null?void 0:t.avatarEmoji)??null),[c,d]=D.useState(!1),[p,m]=D.useState(!1);async function y(){d(!0);try{await xn.updateAvatar({avatarColor:i,avatarEmoji:o??null}),await e(),m(!0),setTimeout(()=>m(!1),2e3)}finally{d(!1)}}const[x,S]=D.useState(!1),[w,b]=D.useState({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??"",institute:(t==null?void 0:t.institute)??""}),[T,E]=D.useState(!1),[I,N]=D.useState(!1),[k,O]=D.useState("");function P(){b({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??"",institute:(t==null?void 0:t.institute)??""}),S(!0)}async function C(Oe){if(Oe.preventDefault(),!!w.name.trim()){E(!0),O(""),N(!1);try{await xn.updateProfile({name:w.name.trim(),course:w.course.trim(),semester:w.semester.trim(),institute:w.institute.trim()}),await e(),N(!0),S(!1),setTimeout(()=>N(!1),2500)}catch(Be){O(Be.message||"Failed to save.")}finally{E(!1)}}}const[R,F]=D.useState({currentPw:"",newEmail:""}),[L,$]=D.useState(!1),[V,q]=D.useState(!1),[X,te]=D.useState("");async function re(Oe){Oe.preventDefault(),$(!0),te(""),q(!1);try{await xn.changeEmail(R.currentPw,R.newEmail.trim()),await e(),q(!0),F({currentPw:"",newEmail:""}),setTimeout(()=>q(!1),3e3)}catch(Be){te(Be.code==="auth/wrong-password"?"Incorrect current password.":Be.message)}finally{$(!1)}}const[Q,ae]=D.useState({currentPw:"",newPw:"",confirmPw:""}),[ne,W]=D.useState(!1),[Y,de]=D.useState(!1),[se,xe]=D.useState("");async function Re(Oe){if(Oe.preventDefault(),Q.newPw!==Q.confirmPw){xe("Passwords do not match.");return}if(Q.newPw.length<6){xe("Min 6 characters.");return}W(!0),xe(""),de(!1);try{await xn.changePassword(Q.currentPw,Q.newPw),de(!0),ae({currentPw:"",newPw:"",confirmPw:""}),setTimeout(()=>de(!1),3e3)}catch(Be){xe(Be.code==="auth/wrong-password"?"Incorrect current password.":Be.message)}finally{W(!1)}}const[ue,Se]=D.useState({password:"",confirm:""}),[fe,Ee]=D.useState(!1),[Le,pe]=D.useState(!1),[it,We]=D.useState("");async function gt(Oe){if(Oe.preventDefault(),ue.password!==ue.confirm){We("Passwords do not match.");return}if(ue.password.length<6){We("Min 6 characters.");return}Ee(!0),We(""),pe(!1);try{await xn.addPassword(ue.password),pe(!0),Se({password:"",confirm:""})}catch(Be){We(Be.message||"Failed to set password.")}finally{Ee(!1)}}const[dt,_t]=D.useState((t==null?void 0:t.settings)??{focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0}),[nr,fr]=D.useState(!1),[hr,$t]=D.useState(!1),[me,Xe]=D.useState("");async function Nt(Oe){const Be={...dt,[Oe]:!dt[Oe]};_t(Be),fr(!0),Xe(""),$t(!1);try{await xn.updateSettings(Be),await e(),$t(!0),setTimeout(()=>$t(!1),2e3)}catch(jn){_t(dt),Xe(jn.message||"Failed to save.")}finally{fr(!1)}}const[Gt,Jt]=D.useState(()=>typeof Notification<"u"?Notification.permission:"denied"),[Kt,Bn]=D.useState((t==null?void 0:t.notificationsEmail)??!1),[_s,hi]=D.useState(!1),[ba,pi]=D.useState(!1);async function Ss(){const Oe=!Kt;Bn(Oe),hi(!0),pi(!1);try{await xn.updateNotificationPrefs({notificationsEmail:Oe}),await e(),pi(!0),setTimeout(()=>pi(!1),2e3)}catch{Bn(!Oe)}finally{hi(!1)}}return f.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Profile & Settings"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your identity, security, and preferences."})]}),f.jsxs(bm,{title:"Profile Picture",icon:nG,defaultOpen:!0,children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(DT,{user:{name:t==null?void 0:t.name,avatarColor:i,avatarEmoji:o},size:"xl"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Style  pick an emoji or use initials"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:JG.map((Oe,Be)=>f.jsx("button",{onClick:()=>l(Oe),className:ke("h-10 w-10 rounded-full flex items-center justify-center text-lg transition-all border-2",o===Oe?"border-primary scale-110 shadow-md":"border-transparent bg-muted hover:scale-105"),style:Oe===null?{background:i}:{},title:Oe===null?"Initials":Oe,children:Oe===null?f.jsx("span",{className:"text-white text-[11px] font-bold leading-none",children:((t==null?void 0:t.name)??"?").split(" ").filter(Boolean).slice(0,2).map(jn=>jn[0]).join("").toUpperCase()}):Oe},Be))})]}),!o&&f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Color"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:QG.map(({hex:Oe,label:Be})=>f.jsx("button",{onClick:()=>a(Oe),title:Be,className:ke("h-8 w-8 rounded-full transition-all border-2",i===Oe?"border-foreground scale-110":"border-transparent hover:scale-105"),style:{background:Oe}},Oe))})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:y,disabled:c,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:c?"Saving":"Save"}),p&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Saved"]})]})]}),f.jsxs(bm,{title:"Account & Security",icon:eG,children:[f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted/50 px-3 py-2.5 text-sm",children:[f.jsx(tG,{size:14,className:"text-muted-foreground shrink-0"}),f.jsx("span",{className:"text-muted-foreground",children:"Email:"}),f.jsx("span",{className:"font-medium",children:(t==null?void 0:t.email)??""})]}),n&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(XH,{size:11})," Change Email"]}),V&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(xr,{size:14})," Email updated."]}),X&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:X}),f.jsxs("form",{onSubmit:re,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"Current password",required:!0,value:R.currentPw,onChange:Oe=>F(Be=>({...Be,currentPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"email",placeholder:"New email address",required:!0,value:R.newEmail,onChange:Oe=>F(Be=>({...Be,newEmail:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:L,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:L?"Updating":"Update Email"})]}),f.jsx("div",{className:"border-t border-border"})]}),n?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(XI,{size:11})," Change Password"]}),Y&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(xr,{size:14})," Password updated."]}),se&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:se}),f.jsxs("form",{onSubmit:Re,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"Current password",required:!0,value:Q.currentPw,onChange:Oe=>ae(Be=>({...Be,currentPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"New password (min 6 chars)",required:!0,value:Q.newPw,onChange:Oe=>ae(Be=>({...Be,newPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"Confirm new password",required:!0,value:Q.confirmPw,onChange:Oe=>ae(Be=>({...Be,confirmPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:ne,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:ne?"Updating":"Update Password"})]})]}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-amber-600 uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(XI,{size:11})," Set a Password"]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Your account uses Google sign-in only. Set a password to also log in with email."}),Le&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(xr,{size:14})," Password set."]}),it&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:it}),f.jsxs("form",{onSubmit:gt,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"New password",required:!0,value:ue.password,onChange:Oe=>Se(Be=>({...Be,password:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"Confirm password",required:!0,value:ue.confirm,onChange:Oe=>Se(Be=>({...Be,confirm:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:fe,className:"rounded-md bg-amber-500 px-4 py-2 text-sm font-semibold text-white hover:opacity-90 disabled:opacity-50 transition-opacity",children:fe?"Setting":"Set Password"})]})]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[f.jsx(Nm,{size:14})," Personal Info"]}),x?f.jsx("button",{onClick:()=>{S(!1),O("")},className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent transition-colors",children:f.jsx(on,{size:15})}):f.jsxs("button",{onClick:P,className:"flex items-center gap-1.5 rounded-md border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:[f.jsx(ky,{size:12})," Edit"]})]}),k&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:k}),x?f.jsxs("form",{onSubmit:C,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(Nm,{size:13,className:"text-muted-foreground"})," Full name"]}),f.jsx("input",{autoFocus:!0,required:!0,value:w.name,onChange:Oe=>b(Be=>({...Be,name:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(to,{size:13,className:"text-muted-foreground"})," Course"]}),f.jsx("input",{value:w.course,onChange:Oe=>b(Be=>({...Be,course:Oe.target.value})),placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(KI,{size:13,className:"text-muted-foreground"})," Semester"]}),f.jsx("input",{value:w.semester,onChange:Oe=>b(Be=>({...Be,semester:Oe.target.value})),placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(GI,{size:13,className:"text-muted-foreground"})," Institute"]}),f.jsx("input",{value:w.institute,onChange:Oe=>b(Be=>({...Be,institute:Oe.target.value})),placeholder:"e.g. NIT Calicut",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{type:"submit",disabled:T,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:T?"Saving":"Save changes"}),f.jsx("button",{type:"button",onClick:()=>{S(!1),O("")},className:"text-sm text-muted-foreground hover:text-foreground",children:"Cancel"})]})]}):f.jsxs("div",{className:"space-y-3",children:[[{icon:Nm,label:"Name",value:t==null?void 0:t.name},{icon:to,label:"Course",value:t==null?void 0:t.course},{icon:KI,label:"Semester",value:t==null?void 0:t.semester},{icon:GI,label:"Institute",value:t==null?void 0:t.institute}].map(({icon:Oe,label:Be,value:jn})=>f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx(Oe,{size:14,className:"text-muted-foreground shrink-0"}),f.jsx("span",{className:"text-muted-foreground w-20 shrink-0",children:Be}),f.jsx("span",{className:"font-medium truncate",children:jn||f.jsx("span",{className:"text-muted-foreground/60 italic text-xs",children:"Not set"})})]},Be)),I&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Saved successfully"]})]})]}),f.jsxs(bm,{title:"App Settings",icon:oG,children:[me&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:me}),hr&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Settings saved"]}),f.jsx("div",{className:"divide-y divide-border -mx-5 px-5",children:Wfe.map(({key:Oe,label:Be,desc:jn})=>f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:Be}),f.jsx("p",{className:"text-xs text-muted-foreground",children:jn})]}),f.jsx(o4,{on:dt[Oe],disabled:nr,onChange:()=>Nt(Oe)})]},Oe))})]}),f.jsxs(bm,{title:"Notifications",icon:eS,children:[ba&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(xr,{size:14})," Saved"]}),f.jsxs("div",{className:"divide-y divide-border -mx-5 px-5",children:[f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:"Browser Notifications"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:Gt==="granted"?"Enabled  class reminders, task due-day alerts, attendance risk.":Gt==="denied"?"Blocked. Allow in browser/Android system settings.":"Get notified 5 min before each class, task reminders every 2 hrs on due day, and attendance risk alerts."})]}),Gt==="granted"?f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-semibold text-emerald-700",children:[f.jsx(eS,{size:11})," On"]}):Gt==="denied"?f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-muted px-2.5 py-1 text-xs font-semibold text-muted-foreground",children:[f.jsx(YH,{size:11})," Blocked"]}):f.jsx("button",{onClick:async()=>Jt(await df.requestPermission()),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-semibold text-primary-foreground hover:opacity-90",children:"Enable"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:"Email Alerts"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Send alerts to ",f.jsx("span",{className:"font-medium",children:t==null?void 0:t.email}),". Requires EmailJS config."]})]}),f.jsx(o4,{on:Kt,disabled:_s,onChange:Ss})]})]})]})]})}const v1={high:"bg-rose-500",medium:"bg-amber-400",low:"bg-emerald-500"},Gfe={high:"text-rose-600",medium:"text-amber-600",low:"text-emerald-600"},Kfe={high:"bg-rose-50 dark:bg-rose-950/30",medium:"bg-amber-50 dark:bg-amber-950/30",low:"bg-emerald-50 dark:bg-emerald-950/30"},Xfe=["January","February","March","April","May","June","July","August","September","October","November","December"],Yfe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function s4(t){return String(t).padStart(2,"0")}function l4(t,e,r){return`${t}-${s4(e+1)}-${s4(r)}`}function Qfe(){const t=new Date,e=l4(t.getFullYear(),t.getMonth(),t.getDate()),[r,n]=D.useState(t.getFullYear()),[i,a]=D.useState(t.getMonth()),[o,l]=D.useState(e),{tasks:c}=vv({archived:!1}),d=ga(),p=D.useMemo(()=>{var E;const T={};for(const I of c)I.dueDate&&(T[E=I.dueDate]??(T[E]=[])).push(I);return T},[c]),{days:m,firstDow:y}=D.useMemo(()=>{const T=new Date(r,i,1),E=new Date(r,i+1,0).getDate(),I=T.getDay();return{days:Array.from({length:E},(k,O)=>({d:O+1,dateStr:l4(r,i,O+1)})),firstDow:I}},[r,i]);function x(){i===0?(n(T=>T-1),a(11)):a(T=>T-1),l(null)}function S(){i===11?(n(T=>T+1),a(0)):a(T=>T+1),l(null)}const w=o?p[o]??[]:[];function b(T){return T?new Date(T+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"}):""}return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Task Calendar"}),f.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-card px-4 py-3",children:[f.jsx("button",{onClick:x,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(d3,{size:18})}),f.jsxs("span",{className:"text-sm font-semibold",children:[Xfe[i]," ",r]}),f.jsx("button",{onClick:S,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(bl,{size:18})})]}),f.jsx("div",{className:"grid grid-cols-7",children:Yfe.map(T=>f.jsx("div",{className:"py-1 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:T},T))}),f.jsxs("div",{className:"grid grid-cols-7 gap-px overflow-hidden rounded-xl border border-border bg-border",children:[Array.from({length:y}).map((T,E)=>f.jsx("div",{className:"bg-background/60 aspect-square"},`e${E}`)),m.map(({d:T,dateStr:E})=>{const I=p[E]??[],N=E===e,k=E===o,O=[...new Set(I.map(P=>P.priority))].slice(0,3);return f.jsxs("button",{onClick:()=>l(k?null:E),className:`flex min-h-[52px] flex-col items-center bg-background pb-1.5 pt-1 transition-colors hover:bg-accent ${k?"ring-2 ring-inset ring-primary bg-primary/5":""}`,children:[f.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-medium ${N?"bg-primary text-primary-foreground":k?"font-bold":""}`,children:T}),O.length>0&&f.jsx("div",{className:"mt-0.5 flex flex-wrap justify-center gap-0.5",children:O.map(P=>f.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${v1[P]??"bg-muted"}`},P))})]},E)})]}),f.jsx("div",{className:"flex justify-center gap-5",children:Object.entries(v1).map(([T,E])=>f.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[f.jsx("span",{className:`h-2 w-2 rounded-full ${E}`}),T.charAt(0).toUpperCase()+T.slice(1)]},T))}),o&&f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold",children:b(o)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.length," task",w.length!==1?"s":""]})]}),f.jsxs("button",{onClick:()=>d("/tasks"),className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium hover:bg-accent transition-colors",children:[f.jsx(dr,{size:12}),"Add Task"]})]}),w.length===0?f.jsx("p",{className:"py-6 text-center text-xs text-muted-foreground",children:"No tasks due on this day."}):f.jsx("div",{className:"flex flex-col gap-2",children:w.map(T=>f.jsxs("div",{className:`flex items-start gap-2.5 rounded-lg p-2.5 ${Kfe[T.priority]??""} ${T.completed?"opacity-50":""}`,children:[f.jsx("span",{className:`mt-1 h-2 w-2 shrink-0 rounded-full ${v1[T.priority]??"bg-muted"}`}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:`text-sm font-medium leading-snug ${T.completed?"line-through text-muted-foreground":""}`,children:T.title}),T.description&&f.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:T.description}),f.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide ${Gfe[T.priority]??""}`,children:T.priority})]}),T.completed&&f.jsx("span",{className:"shrink-0 text-[10px] text-muted-foreground",children:"Done"})]},T.id))})]})]})}function Jfe(t){return Zr(ht,"publicProfiles",t)}function u4(){return Tn(ht,"friendRequests")}function c4(t){return Zr(ht,"friendRequests",t)}const Vd={async upsertPublicProfile(t,{name:e,course:r,institute:n}){const i=e??"";await Li(Jfe(t),{name:i,nameLower:i.toLowerCase(),course:r??"",institute:n??"",uid:t},{merge:!0})},async searchUsers(t){const e=t.toLowerCase();return(await fs(Tn(ht,"publicProfiles"))).docs.map(n=>n.data()).filter(n=>(n.name??"").toLowerCase().includes(e))},async sendRequest(t,e,r,n,i,a){const o=cn(u4(),An("fromUid","==",t));if((await fs(o)).docs.some(p=>{const m=p.data();return m.toUid===i&&m.status==="pending"}))throw new Error("Friend request already sent.");if((await ii(nt(t,"friends",i))).exists())throw new Error("Already friends.");await Un(u4(),{fromUid:t,fromName:e,fromCourse:r??"",fromInstitute:n??"",toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()})},async acceptRequest(t,e,r,n,i,a,o){await Li(nt(a,"friends",e),{uid:e,name:r,course:n??"",institute:i??"",addedAt:new Date().toISOString()}),await rt(c4(t),{status:"accepted"})},async rejectRequest(t){await rt(c4(t),{status:"rejected"})},async removeFriend(t,e){await r3(nt(t,"friends",e))}};function qA(){const{user:t}=zn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState([]),[l,c]=D.useState(!0),[d,p]=D.useState(null),m=D.useRef(null);D.useEffect(()=>{if(t)return Cr(rr(t.id,"friends"),T=>{r(T.docs.map(E=>({id:E.id,...E.data()}))),c(!1)},T=>{p(T.message),c(!1)})},[t]),D.useEffect(()=>{if(!t)return;const T=cn(Tn(ht,"friendRequests"),An("toUid","==",t.id));return Cr(T,E=>{const I=E.docs.map(N=>({id:N.id,...N.data()})).filter(N=>N.status==="pending");if(i(I),m.current!==null&&I.length>m.current){const N=I[I.length-1];N!=null&&N.fromName&&df.notifyFriendRequest(N.fromName)}m.current=I.length},E=>p(E.message))},[t]),D.useEffect(()=>{if(!t)return;const T=cn(Tn(ht,"friendRequests"),An("fromUid","==",t.id));return Cr(T,E=>{o(E.docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.status==="pending"))},E=>p(E.message))},[t]),D.useEffect(()=>{if(!t)return;const T=cn(Tn(ht,"friendRequests"),An("fromUid","==",t.id));return Cr(T,async E=>{for(const I of E.docs.filter(N=>N.data().status==="accepted")){const N=I.data();(await ii(nt(t.id,"friends",N.toUid))).exists()||await Li(nt(t.id,"friends",N.toUid),{uid:N.toUid,name:N.toName,course:"",institute:"",addedAt:new Date().toISOString()})}})},[t]);const y=D.useCallback(async T=>{if(!T.trim()||!t)return{results:[],error:null};try{return{results:(await Vd.searchUsers(T.trim())).filter(I=>I.uid!==t.id),error:null}}catch(E){return{results:[],error:E.message}}},[t]),x=D.useCallback(async T=>{if(t)try{await Vd.sendRequest(t.id,t.name,t.course??"",t.institute??"",T.uid,T.name)}catch(E){throw p(E.message),E}},[t]),S=D.useCallback(async T=>{if(t)try{await Vd.acceptRequest(T.id,T.fromUid,T.fromName,T.fromCourse??"",T.fromInstitute??"",t.id,t.name)}catch(E){p(E.message)}},[t]),w=D.useCallback(async T=>{if(t)try{await Vd.rejectRequest(T)}catch(E){p(E.message)}},[t]),b=D.useCallback(async T=>{if(t)try{await Vd.removeFriend(t.id,T)}catch(E){p(E.message)}},[t]);return{friends:e,incomingRequests:n,outgoingRequests:a,loading:l,error:d,searchUsers:y,sendRequest:x,acceptRequest:S,rejectRequest:w,removeFriend:b}}const Uo=t=>Zr(ht,"studyGroups",t),Zfe=t=>Tn(ht,"studyGroups",t,"posts"),d4=()=>Tn(ht,"groupInvites"),f4=t=>Zr(ht,"groupInvites",t),Va={async createGroup(t,e,r){const n=await Un(Tn(ht,"studyGroups"),{name:r,createdBy:t,memberUids:[t],members:[{uid:t,name:e,joinedAt:new Date().toISOString()}],createdAt:new Date().toISOString()});return await Li(nt(t,"groups",n.id),{groupId:n.id,name:r,joinedAt:new Date().toISOString()}),n.id},async inviteToGroup(t,e,r,n,i,a){var c,d;if((d=(c=(await ii(Uo(t))).data())==null?void 0:c.memberUids)!=null&&d.includes(i))throw new Error("Already a member of this group.");if((await fs(cn(d4(),An("fromUid","==",r),An("groupId","==",t)))).docs.some(p=>p.data().toUid===i&&p.data().status==="pending"))throw new Error("Invite already sent.");await Un(d4(),{groupId:t,groupName:e,fromUid:r,fromName:n,toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()}),await rt(Uo(t),{pendingInviteUids:Hd(i)})},async acceptGroupInvite(t,e,r,n){var o;const a=((o=(await ii(Uo(e))).data())==null?void 0:o.name)??"";await rt(Uo(e),{memberUids:Hd(r),members:Hd({uid:r,name:n,joinedAt:new Date().toISOString()}),pendingInviteUids:Gd(r)}),await Li(nt(r,"groups",e),{groupId:e,name:a,joinedAt:new Date().toISOString()}),await rt(f4(t),{status:"accepted"})},async rejectGroupInvite(t){await rt(f4(t),{status:"rejected"})},async deleteGroup(t,e){const n=(await ii(Uo(t))).data();if(!n)throw new Error("Group not found.");if(n.createdBy!==e)throw new Error("Only the group creator can delete this group.");const i=Z1(ht);(n.memberUids??[]).forEach(a=>{i.delete(nt(a,"groups",t))}),i.delete(Uo(t)),await i.commit()},async leaveGroup(t,e){const n=(await ii(Uo(t))).data();if(!n)throw new Error("Group not found.");const i=(n.members??[]).filter(o=>o.uid!==e),a=Z1(ht);a.update(Uo(t),{memberUids:Gd(e),members:i,pendingInviteUids:Gd(e)}),a.delete(nt(e,"groups",t)),await a.commit()},async createPost(t,{authorUid:e,authorName:r,type:n,title:i,description:a,date:o,payload:l}){await Un(Zfe(t),{authorUid:e,authorName:r,type:n,title:i,description:a??"",date:o??null,payload:l??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r){await rt(Zr(ht,"studyGroups",t,"posts",e),{savedBy:Hd(r)})},async unsavePost(t,e,r){await rt(Zr(ht,"studyGroups",t,"posts",e),{savedBy:Gd(r)})}};function uF(){const{user:t}=zn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState(!0);D.useEffect(()=>{if(t)return Cr(rr(t.id,"groups"),x=>{r(x.docs.map(S=>({id:S.id,...S.data()})).sort((S,w)=>(w.joinedAt??"").localeCompare(S.joinedAt??""))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const x=cn(Tn(ht,"groupInvites"),An("toUid","==",t.id));return Cr(x,S=>{i(S.docs.map(w=>({id:w.id,...w.data()})).filter(w=>w.status==="pending"))},()=>i([]))},[t]);const l=D.useCallback(async x=>{if(!(!t||!x.trim()))return Va.createGroup(t.id,t.name,x.trim())},[t]),c=D.useCallback(async(x,S,w)=>{if(t)return Va.inviteToGroup(x,S,t.id,t.name,w.uid,w.name)},[t]),d=D.useCallback(async x=>{if(t)return Va.acceptGroupInvite(x.id,x.groupId,t.id,t.name)},[t]),p=D.useCallback(async x=>Va.rejectGroupInvite(x),[]),m=D.useCallback(async x=>{if(t)return Va.deleteGroup(x,t.id)},[t]),y=D.useCallback(async x=>{if(t)return Va.leaveGroup(x,t.id)},[t]);return{myGroups:e,groupInvites:n,loading:a,createGroup:l,inviteToGroup:c,acceptInvite:d,rejectInvite:p,deleteGroup:m,leaveGroup:y}}function ehe(t){const{user:e}=zn(),[r,n]=D.useState(null),[i,a]=D.useState([]),[o,l]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const p=Cr(Zr(ht,"studyGroups",t),y=>{y.exists()&&n({id:y.id,...y.data()}),l(!1)}),m=Cr(cn(Tn(ht,"studyGroups",t,"posts"),e3("createdAt","desc")),y=>{a(y.docs.map(x=>({id:x.id,...x.data()})))});return()=>{p(),m()}},[e,t]);const c=D.useCallback(async p=>{if(!(!e||!t))return Va.createPost(t,{...p,authorUid:e.id,authorName:e.name})},[e,t]),d=D.useCallback(async(p,m)=>{if(!(!e||!t))return m?Va.unsavePost(t,p,e.id):Va.savePost(t,p,e.id)},[e,t]);return{group:r,posts:i,loading:o,createPost:c,toggleSave:d}}function the(t){return t?t.trim().split(/\s+/).map(e=>e[0]).join("").toUpperCase().slice(0,6):""}function b1({course:t,institute:e}){const r=[t,the(e)].filter(Boolean);return r.length?f.jsx("p",{className:"truncate text-xs text-muted-foreground",children:r.join("  ")}):null}function xm({name:t,size:e="md"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="sm"?"h-9 w-9 text-xs":"h-11 w-11 text-sm";return f.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function rhe(){const t=ga(),{friends:e,incomingRequests:r,outgoingRequests:n,loading:i,searchUsers:a,sendRequest:o,acceptRequest:l,rejectRequest:c}=qA(),{myGroups:d,groupInvites:p,createGroup:m,acceptInvite:y,rejectInvite:x}=uF(),[S,w]=D.useState(""),[b,T]=D.useState([]),[E,I]=D.useState(!1),[N,k]=D.useState(null),[O,P]=D.useState({}),C=D.useRef(null),[R,F]=D.useState("friends"),[L,$]=D.useState(!1),[V,q]=D.useState(""),[X,te]=D.useState("");async function re(se){if(w(se),k(null),clearTimeout(C.current),!se.trim()){T([]);return}C.current=setTimeout(async()=>{I(!0);const{results:xe,error:Re}=await a(se);T(xe),k(Re),I(!1)},400)}async function Q(se){try{await o(se),P(xe=>({...xe,[se.uid]:!0}))}catch{}}async function ae(se){if(se.preventDefault(),!!V.trim()){te("");try{const xe=await m(V);q(""),$(!1),xe&&t(`/ptp/group/${xe}`)}catch(xe){te(xe.message)}}}const ne=S.length>0,W=r.length+p.length;function Y(se){return O[se]||n.some(xe=>xe.toUid===se)}function de(se){return e.some(xe=>xe.uid===se)}return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold",children:"Study Peers"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Connect, form study groups, and share resources"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(aG,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),f.jsx("input",{value:S,onChange:se=>re(se.target.value),placeholder:"Search peers by name",className:"w-full rounded-xl border border-border bg-card py-2.5 pl-9 pr-9 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),S&&f.jsx("button",{onClick:()=>{w(""),T([]),k(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:f.jsx(on,{size:14})})]}),ne&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsx("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Search Results"}),E?f.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"Searching"}):N?f.jsxs("div",{className:"px-4 py-6 text-center",children:[f.jsx("p",{className:"text-sm font-medium text-destructive",children:"Search failed"}),f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Firestore rules may not be published yet. Go to Firebase Console  Firestore  Rules and publish the rules from ",f.jsx("code",{className:"font-mono",children:"firestore.rules"}),"."]})]}):b.length===0?f.jsxs("div",{className:"px-4 py-6 text-center space-y-1",children:[f.jsxs("p",{className:"text-sm text-muted-foreground",children:['No users found for "',S,'".']}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"The person must open the Sarasva app at least once to appear in search."})]}):f.jsx("div",{className:"divide-y divide-border",children:b.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(xm,{name:se.name}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.name}),f.jsx(b1,{course:se.course,institute:se.institute})]}),de(se.uid)?f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600",children:[f.jsx(pG,{size:14})," Friends"]}):Y(se.uid)?f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(nS,{size:13})," Sent"]}):f.jsxs("button",{onClick:()=>Q(se),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground",children:[f.jsx(b3,{size:12})," Add"]})]},se.uid))})]}),f.jsx("div",{className:"flex gap-1 rounded-xl bg-muted p-1",children:[{key:"friends",label:`Friends (${e.length})`},{key:"requests",label:"Requests",badge:W},{key:"groups",label:`Groups (${d.length})`}].map(({key:se,label:xe,badge:Re})=>f.jsxs("button",{onClick:()=>F(se),className:ke("relative flex-1 rounded-lg py-1.5 text-xs font-medium transition-colors",R===se?"bg-card shadow-sm":"text-muted-foreground"),children:[xe,Re>0&&f.jsx("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[9px] font-bold text-white",children:Re})]},se))}),R==="friends"&&f.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:i?f.jsx("p",{className:"py-10 text-center text-sm text-muted-foreground",children:"Loading"}):e.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-14",children:[f.jsx(x3,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study peers yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Search above to find classmates"})]}):f.jsx("div",{className:"divide-y divide-border",children:e.map(se=>f.jsxs("button",{onClick:()=>t(`/ptp/friend/${se.uid}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[f.jsx(xm,{name:se.name}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.name}),f.jsx(b1,{course:se.course,institute:se.institute}),f.jsx("p",{className:"text-[10px] text-primary/60 mt-0.5",children:"Tap to view & share"})]}),f.jsx(bl,{size:15,className:"shrink-0 text-muted-foreground"})]},se.id))})}),R==="requests"&&f.jsxs("div",{className:"space-y-3",children:[r.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Friend Requests (",r.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:r.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(xm,{name:se.fromName}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.fromName}),f.jsx(b1,{course:se.fromCourse,institute:se.fromInstitute})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>l(se),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:f.jsx(xr,{size:14})}),f.jsx("button",{onClick:()=>c(se.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(on,{size:14})})]})]},se.id))})]}),p.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Group Invites (",p.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:p.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx("div",{className:"flex h-11 w-11 shrink-0 items-center justify-center rounded-full bg-primary/10",children:f.jsx(nf,{size:18,className:"text-primary"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-semibold",children:se.groupName}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Invited by ",se.fromName]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>y(se),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:f.jsx(xr,{size:14})}),f.jsx("button",{onClick:()=>x(se.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(on,{size:14})})]})]},se.id))})]}),n.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Sent (",n.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:n.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(xm,{name:se.toName}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.toName}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Request pending"})]}),f.jsx(nS,{size:14,className:"shrink-0 text-muted-foreground"})]},se.id))})]}),r.length===0&&n.length===0&&p.length===0&&f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(gG,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No pending requests"})]})]}),R==="groups"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>{$(se=>!se),te("")},className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",L?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[L?f.jsx(on,{size:15}):f.jsx(dr,{size:15}),L?"Cancel":"Create Study Group"]}),L&&f.jsxs("form",{onSubmit:ae,className:"flex flex-col gap-2 rounded-xl border border-border bg-card p-4",children:[f.jsx("input",{autoFocus:!0,value:V,onChange:se=>q(se.target.value),placeholder:"Group name e.g. BCA Batch 26",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),X&&f.jsx("p",{className:"text-xs text-destructive",children:X}),f.jsx("button",{type:"submit",disabled:!V.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:"Create & Open"})]}),d.length===0&&!L?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(nf,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study groups yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a group or accept an invitation"})]}):f.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card divide-y divide-border",children:d.map(se=>f.jsxs("button",{onClick:()=>t(`/ptp/group/${se.groupId}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[f.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:f.jsx(nf,{size:17,className:"text-primary"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-semibold",children:se.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to open"})]}),f.jsx(bl,{size:15,className:"shrink-0 text-muted-foreground"})]},se.id))})]})]})}const AE=[{value:"note",label:"Note",icon:Iy,bg:"bg-emerald-100 dark:bg-emerald-950/40",text:"text-emerald-700 dark:text-emerald-400"},{value:"task",label:"Task",icon:IT,bg:"bg-blue-100 dark:bg-blue-950/40",text:"text-blue-700 dark:text-blue-400"},{value:"assignment",label:"Assignment",icon:h3,bg:"bg-purple-100 dark:bg-purple-950/40",text:"text-purple-700 dark:text-purple-400"},{value:"exam_date",label:"Exam Date",icon:ua,bg:"bg-rose-100 dark:bg-rose-950/40",text:"text-rose-700 dark:text-rose-400"},{value:"exam_pattern",label:"Exam Pattern",icon:to,bg:"bg-amber-100 dark:bg-amber-950/40",text:"text-amber-700 dark:text-amber-400"},{value:"subject",label:"Subject",icon:Ef,bg:"bg-teal-100 dark:bg-teal-950/40",text:"text-teal-700 dark:text-teal-400"},{value:"timetable",label:"Timetable",icon:Th,bg:"bg-violet-100 dark:bg-violet-950/40",text:"text-violet-700 dark:text-violet-400"}];function nhe(t){return AE.find(e=>e.value===t)??AE[0]}function x1({name:t,size:e="sm"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="xs"?"h-7 w-7 text-[10px]":"h-9 w-9 text-xs";return f.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function ihe({type:t}){const e=nhe(t),r=e.icon;return f.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold ${e.bg} ${e.text}`,children:[f.jsx(r,{size:10}),e.label]})}function ahe(){var fr,hr,$t;const{groupId:t}=w4(),e=ga(),{user:r}=di(),{group:n,posts:i,loading:a,createPost:o,toggleSave:l}=ehe(t),{inviteToGroup:c,deleteGroup:d,leaveGroup:p}=uF(),{friends:m}=qA(),{subjects:y,importSubject:x}=ys(),{timetables:S,importTimetable:w}=Mh(),[b,T]=D.useState(!1),[E,I]=D.useState("note"),[N,k]=D.useState(""),[O,P]=D.useState(""),[C,R]=D.useState(""),[F,L]=D.useState(null),[$,V]=D.useState(""),[q,X]=D.useState(!1),[te,re]=D.useState(!1),[Q,ae]=D.useState(!1),[ne,W]=D.useState({}),[Y,de]=D.useState(""),[se,xe]=D.useState({}),Re=(n==null?void 0:n.createdBy)===(r==null?void 0:r.id),ue=m.filter(me=>{var Xe;return!((Xe=n==null?void 0:n.memberUids)!=null&&Xe.includes(me.uid))});function Se(me){I(me),L(null),(me==="subject"||me==="timetable")&&(k(""),P(""))}function fe(me){const Xe=y.find(Gt=>Gt.id===me.target.value);if(!Xe){k(""),P(""),L(null);return}const Nt=Xe.chapters??[];k(Xe.name),P(Nt.length?Nt.map(Gt=>Gt.name).join(", "):"No chapters yet"),L({name:Xe.name,chapters:Nt})}function Ee(me){const Xe=S.find(Nt=>Nt.id===me.target.value);if(!Xe){k(""),P(""),L(null);return}k(Xe.name),P(`${(Xe.slots??[]).length} time slot(s)`),L({name:Xe.name,slots:Xe.slots??[]})}async function Le(me){if(me.preventDefault(),!!N.trim()&&!((E==="subject"||E==="timetable")&&!F)){V(""),X(!0);try{await o({type:E,title:N.trim(),description:O.trim(),date:C||null,payload:F}),k(""),P(""),R(""),L(null),T(!1)}catch(Xe){V(Xe.message)}X(!1)}}async function pe(me){var Nt;const Xe=se[me.id]??((Nt=me.savedBy)==null?void 0:Nt.includes(r==null?void 0:r.id));if(xe(Gt=>({...Gt,[me.id]:!Xe})),await l(me.id,Xe),!Xe)try{me.type==="subject"&&me.payload?await x(me.payload):me.type==="timetable"&&me.payload?await w(me.payload):await $a.create(r.id,{title:me.title,description:`[${(n==null?void 0:n.name)??"Group"}] ${me.description}`.trim(),dueDate:me.date??"",priority:me.type==="exam_date"?"high":"medium"})}catch{}}async function it(me){if(n){de("");try{await c(t,n.name,me),W(Xe=>({...Xe,[me.uid]:!0}))}catch(Xe){de(Xe.message)}}}async function We(){if(confirm(`Delete "${n.name}"? This cannot be undone and will remove the group for all members.`))try{await d(t),e("/ptp")}catch(me){alert(me.message)}}async function gt(){if(confirm(`Leave "${n.name}"?`))try{await p(t),e("/ptp")}catch(me){alert(me.message)}}if(a)return f.jsx("div",{className:"flex h-40 items-center justify-center",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})});if(!n)return f.jsxs("div",{className:"flex flex-col items-center gap-2 py-20",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Group not found."}),f.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const dt=["task","assignment","exam_date"].includes(E),_t=E==="subject",nr=E==="timetable";return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(o3,{size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-lg font-bold truncate",children:n.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[((fr=n.memberUids)==null?void 0:fr.length)??0," member",((hr=n.memberUids)==null?void 0:hr.length)!==1?"s":""]})]}),Re?f.jsxs("button",{onClick:We,className:"flex items-center gap-1 rounded-lg border border-destructive/30 px-2.5 py-1.5 text-xs font-medium text-destructive hover:bg-destructive/10 transition-colors",title:"Delete group",children:[f.jsx(Fi,{size:13})," Delete"]}):f.jsxs("button",{onClick:gt,className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium text-muted-foreground hover:bg-muted transition-colors",title:"Leave group",children:[f.jsx(CT,{size:13})," Leave"]})]}),f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("button",{onClick:()=>re(me=>!me),className:"flex w-full items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[f.jsx(x3,{size:14,className:"text-primary"}),"Members (",(($t=n.members)==null?void 0:$t.length)??0,")"]}),te?f.jsx(Il,{size:14,className:"text-muted-foreground"}):f.jsx(kl,{size:14,className:"text-muted-foreground"})]}),te&&f.jsxs("div",{className:"border-t border-border",children:[f.jsx("div",{className:"divide-y divide-border",children:(n.members??[]).map(me=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5",children:[f.jsx(x1,{name:me.name,size:"xs"}),f.jsx("p",{className:"flex-1 text-sm",children:me.name}),me.uid===n.createdBy&&f.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:"Admin"})]},me.uid))}),f.jsxs("div",{className:"border-t border-border p-3 space-y-2",children:[f.jsxs("button",{onClick:()=>{ae(me=>!me),de("")},className:"flex items-center gap-1.5 text-xs font-medium text-primary",children:[f.jsx(b3,{size:13}),Q?"Close":"Invite a Friend"]}),Q&&f.jsxs("div",{className:"space-y-1.5",children:[Y&&f.jsx("p",{className:"text-xs text-destructive",children:Y}),ue.length===0?f.jsx("p",{className:"py-2 text-center text-xs text-muted-foreground",children:"All your friends are already in this group."}):ue.map(me=>f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted px-3 py-2",children:[f.jsx(x1,{name:me.name,size:"xs"}),f.jsx("span",{className:"flex-1 text-sm",children:me.name}),ne[me.uid]?f.jsx("span",{className:"text-xs text-muted-foreground",children:"Sent"}):f.jsx("button",{onClick:()=>it(me),className:"rounded-lg bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground",children:"Invite"})]},me.uid))]})]})]})]}),f.jsxs("button",{onClick:()=>T(me=>!me),className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",b?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[b?f.jsx(on,{size:15}):f.jsx(dr,{size:15}),b?"Cancel":"Share with Group"]}),b&&f.jsxs("form",{onSubmit:Le,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[f.jsx("div",{className:"flex flex-wrap gap-1.5",children:AE.map(me=>{const Xe=E===me.value;return f.jsx("button",{type:"button",onClick:()=>Se(me.value),className:ke("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",Xe?`${me.bg} ${me.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:me.label},me.value)})}),_t&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a subject to share"}),f.jsxs("select",{onChange:fe,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select subject"}),y.map(me=>f.jsxs("option",{value:me.id,children:[me.name,(me.chapters??[]).length>0?` (${me.chapters.length} chapters)`:""]},me.id))]})]}),nr&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a timetable to share"}),f.jsxs("select",{onChange:Ee,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select timetable"}),S.map(me=>f.jsxs("option",{value:me.id,children:[me.name,(me.slots??[]).length>0?` (${me.slots.length} slots)`:""]},me.id))]})]}),(_t||nr)&&N&&f.jsxs("div",{className:"rounded-lg border border-border bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:N}),O&&f.jsxs("span",{className:"ml-1",children:[" ",O]})]}),!_t&&!nr&&f.jsxs(f.Fragment,{children:[f.jsx("input",{autoFocus:!0,value:N,onChange:me=>k(me.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("textarea",{value:O,onChange:me=>P(me.target.value),placeholder:"Details, topics to cover, notes",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),dt&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),f.jsx("input",{type:"date",value:C,onChange:me=>R(me.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),$&&f.jsx("p",{className:"text-xs text-destructive",children:$}),f.jsx("button",{type:"submit",disabled:q||!N.trim()||(_t||nr)&&!F,className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:q?"Sharing":"Share"})]}),i.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(Iy,{size:34,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Be the first to share a task, subject, or note"})]}):f.jsx("div",{className:"space-y-3",children:i.map(me=>{var Gt;const Xe=se[me.id]??((Gt=me.savedBy)==null?void 0:Gt.includes(r==null?void 0:r.id)),Nt=me.type==="subject"||me.type==="timetable";return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[f.jsx(ihe,{type:me.type}),f.jsx("p",{className:"text-sm font-semibold leading-snug",children:me.title})]}),f.jsx("button",{onClick:()=>pe(me),className:ke("shrink-0 rounded-lg p-1.5 transition-colors",Xe?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:Xe?Nt?"Already imported":"Saved to my tasks":Nt?"Import to my app":"Save to my tasks",children:Xe?f.jsx(s3,{size:16}):Nt?f.jsx(f3,{size:16}):f.jsx(l3,{size:16})})]}),me.description&&f.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:me.description}),f.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(x1,{name:me.authorName,size:"xs"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:me.authorName})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[me.date&&f.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(me.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),Xe&&f.jsx("span",{className:"text-[10px] font-semibold text-primary",children:Nt?"Imported ":"Saved "})]})]})]},me.id)})})]})}function ff(t,e){return[t,e].sort().join("_")}function ohe(t,e){return Tn(ht,"directChats",ff(t,e),"posts")}const w1={async createPost(t,e,{authorUid:r,authorName:n,type:i,title:a,description:o,date:l,payload:c}){const d=ff(t,e);await Li(Zr(ht,"directChats",d),{memberUids:[t,e].sort(),updatedAt:new Date().toISOString()},{merge:!0}),await Un(ohe(t,e),{authorUid:r,authorName:n,type:i,title:a,description:o??"",date:l??null,payload:c??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r,n){const i=ff(t,e);await rt(Zr(ht,"directChats",i,"posts",r),{savedBy:Hd(n)})},async unsavePost(t,e,r,n){const i=ff(t,e);await rt(Zr(ht,"directChats",i,"posts",r),{savedBy:Gd(n)})}};function she(t){const{user:e}=zn(),[r,n]=D.useState([]),[i,a]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const c=ff(e.id,t);return Cr(cn(Tn(ht,"directChats",c,"posts"),e3("createdAt","desc")),p=>{n(p.docs.map(m=>({id:m.id,...m.data()}))),a(!1)},()=>a(!1))},[e,t]);const o=D.useCallback(async c=>{if(!(!e||!t))return w1.createPost(e.id,t,{...c,authorUid:e.id,authorName:e.name})},[e,t]),l=D.useCallback(async(c,d)=>{if(!(!e||!t))return d?w1.unsavePost(e.id,t,c,e.id):w1.savePost(e.id,t,c,e.id)},[e,t]);return{posts:r,loading:i,createPost:o,toggleSave:l}}const PE=[{value:"note",label:"Note",icon:Iy,bg:"bg-emerald-100",text:"text-emerald-700"},{value:"task",label:"Task",icon:IT,bg:"bg-blue-100",text:"text-blue-700"},{value:"assignment",label:"Assignment",icon:h3,bg:"bg-purple-100",text:"text-purple-700"},{value:"exam_date",label:"Exam Date",icon:ua,bg:"bg-rose-100",text:"text-rose-700"},{value:"exam_pattern",label:"Exam Pattern",icon:to,bg:"bg-amber-100",text:"text-amber-700"},{value:"subject",label:"Subject",icon:Ef,bg:"bg-teal-100",text:"text-teal-700"},{value:"timetable",label:"Timetable",icon:Th,bg:"bg-violet-100",text:"text-violet-700"}];function lhe(t){return PE.find(e=>e.value===t)??PE[0]}function h4({name:t,size:e="lg"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="lg"?"h-16 w-16 text-xl":e==="md"?"h-10 w-10 text-sm":"h-8 w-8 text-xs";return f.jsx("div",{className:ke("shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary",n),children:r})}function uhe({type:t}){const e=lhe(t),r=e.icon;return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",e.bg,e.text),children:[f.jsx(r,{size:10}),e.label]})}function che(){const{friendUid:t}=w4(),e=ga(),{user:r}=di(),{friends:n,removeFriend:i}=qA(),{posts:a,loading:o,createPost:l,toggleSave:c}=she(t),{subjects:d,importSubject:p}=ys(),{timetables:m,importTimetable:y}=Mh(),x=D.useMemo(()=>n.find(ue=>ue.uid===t),[n,t]),[S,w]=D.useState(!1),[b,T]=D.useState(!1),[E,I]=D.useState("note"),[N,k]=D.useState(""),[O,P]=D.useState(""),[C,R]=D.useState(""),[F,L]=D.useState(null),[$,V]=D.useState(""),[q,X]=D.useState(!1),[te,re]=D.useState({});async function Q(){if(!S){w(!0);return}await i(t),e("/ptp")}function ae(ue){I(ue),L(null),(ue==="subject"||ue==="timetable")&&(k(""),P(""))}function ne(ue){const Se=d.find(Ee=>Ee.id===ue.target.value);if(!Se){k(""),P(""),L(null);return}const fe=Se.chapters??[];k(Se.name),P(fe.length?fe.map(Ee=>Ee.name).join(", "):"No chapters yet"),L({name:Se.name,chapters:fe})}function W(ue){const Se=m.find(fe=>fe.id===ue.target.value);if(!Se){k(""),P(""),L(null);return}k(Se.name),P(`${(Se.slots??[]).length} time slot(s)`),L({name:Se.name,slots:Se.slots??[]})}async function Y(ue){if(ue.preventDefault(),!!N.trim()&&!((E==="subject"||E==="timetable")&&!F)){V(""),X(!0);try{await l({type:E,title:N.trim(),description:O.trim(),date:C||null,payload:F}),k(""),P(""),R(""),L(null),T(!1)}catch(Se){V(Se.message)}X(!1)}}async function de(ue){var fe;const Se=te[ue.id]??((fe=ue.savedBy)==null?void 0:fe.includes(r==null?void 0:r.id));if(re(Ee=>({...Ee,[ue.id]:!Se})),await c(ue.id,Se),!Se)try{ue.type==="subject"&&ue.payload?await p(ue.payload):ue.type==="timetable"&&ue.payload?await y(ue.payload):await $a.create(r.id,{title:ue.title,description:`[From ${(x==null?void 0:x.name)??"Friend"}] ${ue.description}`.trim(),dueDate:ue.date??"",priority:ue.type==="exam_date"?"high":"medium"})}catch{}}if(!o&&!x)return f.jsxs("div",{className:"mx-auto max-w-md space-y-4 py-20 text-center",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Friend not found or you're no longer connected."}),f.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const se=["task","assignment","exam_date"].includes(E),xe=E==="subject",Re=E==="timetable";return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(o3,{size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-lg font-bold truncate",children:(x==null?void 0:x.name)??""}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Study peer"})]})]}),x&&f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 flex items-center gap-4",children:[f.jsx(h4,{name:x.name,size:"lg"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-base font-semibold",children:x.name}),x.course&&f.jsx("p",{className:"text-sm text-muted-foreground",children:x.course}),x.institute&&f.jsx("p",{className:"text-xs text-muted-foreground",children:x.institute})]}),S?f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:Q,className:"rounded-md bg-destructive px-2 py-1 text-[11px] font-medium text-destructive-foreground",children:"Confirm remove"}),f.jsx("button",{onClick:()=>w(!1),className:"rounded-md border border-border px-2 py-1 text-[11px] text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]}):f.jsx("button",{onClick:Q,title:"Remove friend",className:"rounded-md border border-border p-1 text-muted-foreground/50 hover:border-destructive/40 hover:text-destructive hover:bg-destructive/5 transition-colors shrink-0",children:f.jsx(mG,{size:12})})]}),f.jsxs("button",{onClick:()=>{T(ue=>!ue),w(!1)},className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",b?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[b?f.jsx(on,{size:15}):f.jsx(YI,{size:15}),b?"Cancel":"Share with Friend"]}),b&&f.jsxs("form",{onSubmit:Y,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[f.jsx("div",{className:"flex flex-wrap gap-1.5",children:PE.map(ue=>{const Se=E===ue.value;return f.jsx("button",{type:"button",onClick:()=>ae(ue.value),className:ke("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",Se?`${ue.bg} ${ue.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:ue.label},ue.value)})}),xe&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a subject to share"}),f.jsxs("select",{onChange:ne,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select subject"}),d.map(ue=>f.jsxs("option",{value:ue.id,children:[ue.name,(ue.chapters??[]).length>0?` (${ue.chapters.length} chapters)`:""]},ue.id))]})]}),Re&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a timetable to share"}),f.jsxs("select",{onChange:W,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select timetable"}),m.map(ue=>f.jsxs("option",{value:ue.id,children:[ue.name,(ue.slots??[]).length>0?` (${ue.slots.length} slots)`:""]},ue.id))]})]}),(xe||Re)&&N&&f.jsxs("div",{className:"rounded-lg border border-border bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:N}),O&&f.jsxs("span",{className:"ml-1",children:[" ",O]})]}),!xe&&!Re&&f.jsxs(f.Fragment,{children:[f.jsx("input",{autoFocus:!0,value:N,onChange:ue=>k(ue.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("textarea",{value:O,onChange:ue=>P(ue.target.value),placeholder:"Details, notes, tips",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),se&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),f.jsx("input",{type:"date",value:C,onChange:ue=>R(ue.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),$&&f.jsx("p",{className:"text-xs text-destructive",children:$}),f.jsx("button",{type:"submit",disabled:q||!N.trim()||(xe||Re)&&!F,className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:q?"Sharing":"Share"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Shared between you two"}),o?f.jsx("div",{className:"flex h-24 items-center justify-center",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})}):a.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(YI,{size:34,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a task, exam tip, subject, or note"})]}):f.jsx("div",{className:"space-y-3",children:a.map(ue=>{var Le;const Se=te[ue.id]??((Le=ue.savedBy)==null?void 0:Le.includes(r==null?void 0:r.id)),fe=ue.authorUid===(r==null?void 0:r.id),Ee=ue.type==="subject"||ue.type==="timetable";return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[f.jsx(uhe,{type:ue.type}),f.jsx("p",{className:"text-sm font-semibold leading-snug",children:ue.title})]}),!fe&&f.jsx("button",{onClick:()=>de(ue),className:ke("shrink-0 rounded-lg p-1.5 transition-colors",Se?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:Se?Ee?"Already imported":"Saved to my tasks":Ee?"Import to my app":"Save to my tasks",children:Se?f.jsx(s3,{size:16}):Ee?f.jsx(f3,{size:16}):f.jsx(l3,{size:16})})]}),ue.description&&f.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:ue.description}),f.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(h4,{name:ue.authorName,size:"sm"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:fe?"You":ue.authorName})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[ue.date&&f.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(ue.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),Se&&!fe&&f.jsx("span",{className:"text-[10px] font-semibold text-primary",children:Ee?"Imported ":"Saved "})]})]})]},ue.id)})})]})]})}function dhe({children:t}){const{user:e}=di();return(e==null?void 0:e.role)!=="admin"?f.jsxs("div",{className:"flex flex-col items-center gap-4 py-20 text-center",children:[f.jsx(NT,{size:48,className:"text-destructive/40"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-bold",children:"Access Denied"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This area is restricted to admin users."}),f.jsxs("p",{className:"mt-3 text-xs text-muted-foreground max-w-xs mx-auto",children:["To become admin: open Firebase Console  Firestore "," ",f.jsx("code",{className:"font-mono bg-muted px-1 rounded",children:"users/{uid}/profile/data"})," ","and add field ",f.jsx("code",{className:"font-mono bg-muted px-1 rounded",children:'role = "admin"'})]})]})]}):t}function fhe({quote:t,onDelete:e,onToggle:r,onSave:n}){const[i,a]=D.useState(!1),[o,l]=D.useState(t.text),[c,d]=D.useState(t.author??""),[p,m]=D.useState(!1);async function y(){o.trim()&&(m(!0),await n(t.id,{text:o.trim(),author:c.trim()}),m(!1),a(!1))}return f.jsx("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2",children:i?f.jsxs(f.Fragment,{children:[f.jsx("textarea",{value:o,onChange:x=>l(x.target.value),rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("input",{value:c,onChange:x=>d(x.target.value),placeholder:"Author (optional)",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:y,disabled:p||!o.trim(),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground disabled:opacity-50",children:[f.jsx(xr,{size:12}),p?"Saving":"Save"]}),f.jsxs("button",{onClick:()=>{a(!1),l(t.text),d(t.author??"")},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:bg-muted",children:[f.jsx(on,{size:12}),"Cancel"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-sm italic text-foreground",children:['"',t.text,'"']}),t.author&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",t.author]}),f.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[f.jsx("button",{onClick:()=>a(!0),className:"rounded-lg border border-border p-1.5 text-muted-foreground hover:bg-accent transition-colors",title:"Edit",children:f.jsx(iG,{size:13})}),f.jsx("button",{onClick:()=>r(t.id,t.active),className:ke("rounded-lg border p-1.5 transition-colors",t.active?"border-emerald-300 text-emerald-600 hover:bg-emerald-50":"border-border text-muted-foreground hover:bg-muted"),title:t.active?"Deactivate":"Activate",children:t.active?f.jsx(dG,{size:13}):f.jsx(cG,{size:13})}),f.jsx("button",{onClick:()=>e(t.id),className:"rounded-lg border border-destructive/30 p-1.5 text-destructive hover:bg-destructive/10 transition-colors",title:"Delete",children:f.jsx(Fi,{size:13})}),f.jsx("span",{className:ke("ml-auto rounded-full px-2 py-0.5 text-[10px] font-semibold",t.active?"bg-emerald-100 text-emerald-700":"bg-muted text-muted-foreground"),children:t.active?"Active":"Inactive"})]})]})})}function hhe({onAdd:t}){const[e,r]=D.useState(""),[n,i]=D.useState(""),[a,o]=D.useState(!1),[l,c]=D.useState(!1);async function d(p){if(p.preventDefault(),!!e.trim()){o(!0);try{await t({text:e.trim(),author:n.trim()}),r(""),i(""),c(!1)}catch{}o(!1)}}return l?f.jsxs("form",{onSubmit:d,className:"rounded-xl border border-primary/30 bg-card p-4 space-y-3",children:[f.jsx("textarea",{autoFocus:!0,value:e,onChange:p=>r(p.target.value),placeholder:"Motivational quote text",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("input",{value:n,onChange:p=>i(p.target.value),placeholder:"Author (optional)",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",disabled:a||!e.trim(),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:[f.jsx(xr,{size:13}),a?"Saving":"Add Quote"]}),f.jsx("button",{type:"button",onClick:()=>{c(!1),r(""),i("")},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-2 text-sm font-medium text-muted-foreground hover:bg-muted",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>c(!0),className:"flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-primary/40 py-3 text-sm font-medium text-primary hover:bg-primary/5 transition-colors",children:[f.jsx(dr,{size:15})," Add Quote"]})}function phe(){const{quotes:t,loading:e,refresh:r}=qde();async function n(c){await Du.add(c),r()}async function i(c){confirm("Delete this quote?")&&(await Du.remove(c),r())}async function a(c,d){await Du.update(c,{active:!d}),r()}async function o(c,d){await Du.update(c,d),r()}const l=t.filter(c=>c.active).length;return f.jsx(dhe,{children:f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[f.jsx(v3,{size:22,className:"text-primary"})," Admin Panel"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Control motivational quotes and app content."})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[f.jsx(y3,{size:16,className:"text-primary"}),"Motivational Quotes"]}),f.jsxs("div",{className:"text-xs text-muted-foreground",children:[l," active  ",t.length," total"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground -mt-2",children:"Active quotes rotate hourly on the dashboard for all users. Add as many as you like."}),e?f.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"Loading"}):f.jsxs("div",{className:"space-y-3",children:[f.jsx(hhe,{onAdd:n}),t.length===0&&f.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No quotes yet. Add some above!"}),t.map(c=>f.jsx(fhe,{quote:c,onDelete:i,onToggle:a,onSave:o},c.id))]})]}),f.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-4 space-y-2",children:[f.jsx("p",{className:"text-sm font-semibold text-amber-800",children:" Admin Setup Reminder"}),f.jsxs("ul",{className:"text-xs text-amber-700 space-y-1 list-disc list-inside",children:[f.jsxs("li",{children:["Firestore security rules: add ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:"quotes"})," collection rules to allow authenticated reads and admin writes."]}),f.jsxs("li",{children:["To add another admin: set ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:'role = "admin"'})," in their profile doc."]}),f.jsxs("li",{children:["Quotes are stored in ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:"quotes/{id}"}),"  top-level Firestore collection."]})]})]})]})})}function mhe(){const{loading:t}=di();return t?f.jsx("div",{className:"flex h-screen items-center justify-center",children:f.jsx("span",{className:"text-muted-foreground text-sm",children:"Loading..."})}):f.jsxs(pz,{children:[f.jsx(vr,{path:"/login",element:f.jsx(lK,{})}),f.jsx(vr,{path:"/register",element:f.jsx(uK,{})}),f.jsx(vr,{element:f.jsx(sK,{}),children:f.jsxs(vr,{element:f.jsx(oK,{}),children:[f.jsx(vr,{index:!0,element:f.jsx(E1,{to:"/dashboard",replace:!0})}),f.jsx(vr,{path:"/dashboard",element:f.jsx(vfe,{})}),f.jsx(vr,{path:"/attendance",element:f.jsx(Tfe,{})}),f.jsx(vr,{path:"/timetable",element:f.jsx(Ife,{})}),f.jsx(vr,{path:"/subjects",element:f.jsx(Nfe,{})}),f.jsx(vr,{path:"/exams",element:f.jsx(Vfe,{})}),f.jsx(vr,{path:"/tasks",element:f.jsx(qfe,{})}),f.jsx(vr,{path:"/profile",element:f.jsx(Hfe,{})}),f.jsx(vr,{path:"/calendar",element:f.jsx(Qfe,{})}),f.jsx(vr,{path:"/ptp",element:f.jsx(rhe,{})}),f.jsx(vr,{path:"/ptp/group/:groupId",element:f.jsx(ahe,{})}),f.jsx(vr,{path:"/ptp/friend/:friendUid",element:f.jsx(che,{})}),f.jsx(vr,{path:"/admin",element:f.jsx(phe,{})})]})}),f.jsx(vr,{path:"*",element:f.jsx(E1,{to:"/dashboard",replace:!0})})]})}_U.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(_z,{children:f.jsx(BH,{children:f.jsx(mhe,{})})})}));
