function pU(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zb={exports:{}},Pd={},qb={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj;function mU(){if(Qj)return tt;Qj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function b(q,X,de){this.props=q,this.context=X,this.refs=w,this.updater=de||x}b.prototype.isReactComponent={},b.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=b.prototype;function T(q,X,de){this.props=q,this.context=X,this.refs=w,this.updater=de||x}var N=T.prototype=new E;N.constructor=T,S(N,b.prototype),N.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,O={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(q,X,de){var se,xe={},Re=null,ue=null;if(X!=null)for(se in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(Re=""+X.key),X)k.call(X,se)&&!P.hasOwnProperty(se)&&(xe[se]=X[se]);var Se=arguments.length-2;if(Se===1)xe.children=de;else if(1<Se){for(var fe=Array(Se),Ee=0;Ee<Se;Ee++)fe[Ee]=arguments[Ee+2];xe.children=fe}if(q&&q.defaultProps)for(se in Se=q.defaultProps,Se)xe[se]===void 0&&(xe[se]=Se[se]);return{$$typeof:t,type:q,key:Re,ref:ue,props:xe,_owner:O.current}}function M(q,X){return{$$typeof:t,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(de){return X[de]})}var V=/\/+/g;function L(q,X){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):X.toString(36)}function W(q,X,de,se,xe){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var ue=!1;if(q===null)ue=!0;else switch(Re){case"string":case"number":ue=!0;break;case"object":switch(q.$$typeof){case t:case e:ue=!0}}if(ue)return ue=q,xe=xe(ue),q=se===""?"."+L(ue,0):se,C(xe)?(de="",q!=null&&(de=q.replace(V,"$&/")+"/"),W(xe,X,de,"",function(Ee){return Ee})):xe!=null&&(U(xe)&&(xe=M(xe,de+(!xe.key||ue&&ue.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+q)),X.push(xe)),1;if(ue=0,se=se===""?".":se+":",C(q))for(var Se=0;Se<q.length;Se++){Re=q[Se];var fe=se+L(Re,Se);ue+=W(Re,X,de,fe,xe)}else if(fe=y(q),typeof fe=="function")for(q=fe.call(q),Se=0;!(Re=q.next()).done;)Re=Re.value,fe=se+L(Re,Se++),ue+=W(Re,X,de,fe,xe);else if(Re==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function Y(q,X,de){if(q==null)return q;var se=[],xe=0;return W(q,se,"","",function(Re){return X.call(de,Re,xe++)}),se}function te(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(de){(q._status===0||q._status===-1)&&(q._status=1,q._result=de)},function(de){(q._status===0||q._status===-1)&&(q._status=2,q._result=de)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var re={current:null},Q={transition:null},ae={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:O};function ne(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:Y,forEach:function(q,X,de){Y(q,function(){X.apply(this,arguments)},de)},count:function(q){var X=0;return Y(q,function(){X++}),X},toArray:function(q){return Y(q,function(X){return X})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},tt.Component=b,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=T,tt.StrictMode=n,tt.Suspense=c,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,tt.act=ne,tt.cloneElement=function(q,X,de){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var se=S({},q.props),xe=q.key,Re=q.ref,ue=q._owner;if(X!=null){if(X.ref!==void 0&&(Re=X.ref,ue=O.current),X.key!==void 0&&(xe=""+X.key),q.type&&q.type.defaultProps)var Se=q.type.defaultProps;for(fe in X)k.call(X,fe)&&!P.hasOwnProperty(fe)&&(se[fe]=X[fe]===void 0&&Se!==void 0?Se[fe]:X[fe])}var fe=arguments.length-2;if(fe===1)se.children=de;else if(1<fe){Se=Array(fe);for(var Ee=0;Ee<fe;Ee++)Se[Ee]=arguments[Ee+2];se.children=Se}return{$$typeof:t,type:q.type,key:xe,ref:Re,props:se,_owner:ue}},tt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},tt.createElement=I,tt.createFactory=function(q){var X=I.bind(null,q);return X.type=q,X},tt.createRef=function(){return{current:null}},tt.forwardRef=function(q){return{$$typeof:l,render:q}},tt.isValidElement=U,tt.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:te}},tt.memo=function(q,X){return{$$typeof:d,type:q,compare:X===void 0?null:X}},tt.startTransition=function(q){var X=Q.transition;Q.transition={};try{q()}finally{Q.transition=X}},tt.unstable_act=ne,tt.useCallback=function(q,X){return re.current.useCallback(q,X)},tt.useContext=function(q){return re.current.useContext(q)},tt.useDebugValue=function(){},tt.useDeferredValue=function(q){return re.current.useDeferredValue(q)},tt.useEffect=function(q,X){return re.current.useEffect(q,X)},tt.useId=function(){return re.current.useId()},tt.useImperativeHandle=function(q,X,de){return re.current.useImperativeHandle(q,X,de)},tt.useInsertionEffect=function(q,X){return re.current.useInsertionEffect(q,X)},tt.useLayoutEffect=function(q,X){return re.current.useLayoutEffect(q,X)},tt.useMemo=function(q,X){return re.current.useMemo(q,X)},tt.useReducer=function(q,X,de){return re.current.useReducer(q,X,de)},tt.useRef=function(q){return re.current.useRef(q)},tt.useState=function(q){return re.current.useState(q)},tt.useSyncExternalStore=function(q,X,de){return re.current.useSyncExternalStore(q,X,de)},tt.useTransition=function(){return re.current.useTransition()},tt.version="18.3.1",tt}var Jj;function jE(){return Jj||(Jj=1,qb.exports=mU()),qb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj;function gU(){if(Zj)return Pd;Zj=1;var t=jE(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var p,m={},y=null,x=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(x=c.ref);for(p in c)n.call(c,p)&&!a.hasOwnProperty(p)&&(m[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:e,type:l,key:y,ref:x,props:m,_owner:i.current}}return Pd.Fragment=r,Pd.jsx=o,Pd.jsxs=o,Pd}var ek;function yU(){return ek||(ek=1,zb.exports=gU()),zb.exports}var f=yU(),D=jE();const G=wt(D),vU=pU({__proto__:null,default:G},[D]);var Jp={},Wb={exports:{}},bn={},Hb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function bU(){return tk||(tk=1,(function(t){function e(Q,ae){var ne=Q.length;Q.push(ae);e:for(;0<ne;){var q=ne-1>>>1,X=Q[q];if(0<i(X,ae))Q[q]=ae,Q[ne]=X,ne=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ae=Q[0],ne=Q.pop();if(ne!==ae){Q[0]=ne;e:for(var q=0,X=Q.length,de=X>>>1;q<de;){var se=2*(q+1)-1,xe=Q[se],Re=se+1,ue=Q[Re];if(0>i(xe,ne))Re<X&&0>i(ue,xe)?(Q[q]=ue,Q[Re]=ne,q=Re):(Q[q]=xe,Q[se]=ne,q=se);else if(Re<X&&0>i(ue,ne))Q[q]=ue,Q[Re]=ne,q=Re;else break e}}return ae}function i(Q,ae){var ne=Q.sortIndex-ae.sortIndex;return ne!==0?ne:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,m=null,y=3,x=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Q){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=Q)n(d),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=r(d)}}function C(Q){if(w=!1,N(Q),!S)if(r(c)!==null)S=!0,te(k);else{var ae=r(d);ae!==null&&re(C,ae.startTime-Q)}}function k(Q,ae){S=!1,w&&(w=!1,E(I),I=-1),x=!0;var ne=y;try{for(N(ae),m=r(c);m!==null&&(!(m.expirationTime>ae)||Q&&!$());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var X=q(m.expirationTime<=ae);ae=t.unstable_now(),typeof X=="function"?m.callback=X:m===r(c)&&n(c),N(ae)}else n(c);m=r(c)}if(m!==null)var de=!0;else{var se=r(d);se!==null&&re(C,se.startTime-ae),de=!1}return de}finally{m=null,y=ne,x=!1}}var O=!1,P=null,I=-1,M=5,U=-1;function $(){return!(t.unstable_now()-U<M)}function V(){if(P!==null){var Q=t.unstable_now();U=Q;var ae=!0;try{ae=P(!0,Q)}finally{ae?L():(O=!1,P=null)}}else O=!1}var L;if(typeof T=="function")L=function(){T(V)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=V,L=function(){Y.postMessage(null)}}else L=function(){b(V,0)};function te(Q){P=Q,O||(O=!0,L())}function re(Q,ae){I=b(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,te(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ne=y;y=ae;try{return Q()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=y;y=Q;try{return ae()}finally{y=ne}},t.unstable_scheduleCallback=function(Q,ae,ne){var q=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?q+ne:q):ne=q,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ne+X,Q={id:p++,callback:ae,priorityLevel:Q,startTime:ne,expirationTime:X,sortIndex:-1},ne>q?(Q.sortIndex=ne,e(d,Q),r(c)===null&&Q===r(d)&&(w?(E(I),I=-1):w=!0,re(C,ne-q))):(Q.sortIndex=X,e(c,Q),S||x||(S=!0,te(k))),Q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(Q){var ae=y;return function(){var ne=y;y=ae;try{return Q.apply(this,arguments)}finally{y=ne}}}})(Gb)),Gb}var rk;function xU(){return rk||(rk=1,Hb.exports=bU()),Hb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function wU(){if(nk)return bn;nk=1;var t=jE(),e=xU();function r(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,u){o(s,u),o(s+"Capture",u)}function o(s,u){for(i[s]=u,s=0;s<u.length;s++)n.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return c.call(m,s)?!0:c.call(p,s)?!1:d.test(s)?m[s]=!0:(p[s]=!0,!1)}function x(s,u,h,v){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,u,h,v){if(u===null||typeof u>"u"||x(s,u,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(s,u,h,v,_,j,F){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=s,this.type=u,this.sanitizeURL=j,this.removeEmptyString=F}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];b[u]=new w(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(E,T);b[u]=new w(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(E,T);b[u]=new w(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(E,T);b[u]=new w(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,u,h,v){var _=b.hasOwnProperty(u)?b[u]:null;(_!==null?_.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,h,_,v)&&(h=null),v||_===null?y(u)&&(h===null?s.removeAttribute(u):s.setAttribute(u,""+h)):_.mustUseProperty?s[_.propertyName]=h===null?_.type===3?!1:"":h:(u=_.attributeName,v=_.attributeNamespace,h===null?s.removeAttribute(u):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,v?s.setAttributeNS(v,u,h):s.setAttribute(u,h))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,q;function X(s){if(q===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+s}var de=!1;function se(s,u){if(!s||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ie){var v=ie}Reflect.construct(s,[],u)}else{try{u.call()}catch(ie){v=ie}s.call(u.prototype)}else{try{throw Error()}catch(ie){v=ie}s()}}catch(ie){if(ie&&v&&typeof ie.stack=="string"){for(var _=ie.stack.split(`
`),j=v.stack.split(`
`),F=_.length-1,z=j.length-1;1<=F&&0<=z&&_[F]!==j[z];)z--;for(;1<=F&&0<=z;F--,z--)if(_[F]!==j[z]){if(F!==1||z!==1)do if(F--,z--,0>z||_[F]!==j[z]){var H=`
`+_[F].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=F&&0<=z);break}}}finally{de=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?X(s):""}function xe(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function Re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case O:return"Portal";case M:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case U:return(s._context.displayName||"Context")+".Provider";case V:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return u=s.displayName||null,u!==null?u:Re(s.type)||"Memo";case te:u=s._payload,s=s._init;try{return Re(s(u))}catch{}}return null}function ue(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fe(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ee(s){var u=fe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),v=""+s[u];if(!s.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,j=h.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return _.call(this)},set:function(F){v=""+F,j.call(this,F)}}),Object.defineProperty(s,u,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Le(s){s._valueTracker||(s._valueTracker=Ee(s))}function pe(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var h=u.getValue(),v="";return s&&(v=fe(s)?s.checked?"true":"false":s.value),s=v,s!==h?(u.setValue(s),!0):!1}function nt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function We(s,u){var h=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function gt(s,u){var h=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;h=Se(u.value!=null?u.value:h),s._wrapperState={initialChecked:v,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function dt(s,u){u=u.checked,u!=null&&N(s,"checked",u,!1)}function _t(s,u){dt(s,u);var h=Se(u.value),v=u.type;if(h!=null)v==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?hr(s,u.type,h):u.hasOwnProperty("defaultValue")&&hr(s,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function ir(s,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,h||u===s.value||(s.value=u),s.defaultValue=u}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function hr(s,u,h){(u!=="number"||nt(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var pr=Array.isArray;function $t(s,u,h,v){if(s=s.options,u){u={};for(var _=0;_<h.length;_++)u["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=u.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&v&&(s[h].defaultSelected=!0)}else{for(h=""+Se(h),u=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,v&&(s[_].defaultSelected=!0);return}u!==null||s[_].disabled||(u=s[_])}u!==null&&(u.selected=!0)}}function me(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xe(s,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(pr(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}s._wrapperState={initialValue:Se(h)}}function Ct(s,u){var h=Se(u.value),v=Se(u.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),u.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),v!=null&&(s.defaultValue=""+v)}function Kt(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Zt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Zt(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var zn,_s=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,v,_){MSApp.execUnsafeLocalFunction(function(){return s(u,h,v,_)})}:s})(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(zn=zn||document.createElement("div"),zn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=zn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function fi(s,u){if(u){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=u;return}}s.textContent=u}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hi=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(s){hi.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),va[u]=va[s]})});function Ss(s,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||va.hasOwnProperty(s)&&va[s]?(""+u).trim():u+"px"}function ho(s,u){s=s.style;for(var h in u)if(u.hasOwnProperty(h)){var v=h.indexOf("--")===0,_=Ss(h,u[h],v);h==="float"&&(h="cssFloat"),v?s.setProperty(h,_):s[h]=_}}var Oe=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ze(s,u){if(u){if(Oe[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function jn(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function Dl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ll=null,qn=null,Bi=null;function $l(s){if(s=fd(s)){if(typeof Ll!="function")throw Error(r(280));var u=s.stateNode;u&&(u=fp(u),Ll(s.stateNode,s.type,u))}}function zi(s){qn?Bi?Bi.push(s):Bi=[s]:qn=s}function zc(){if(qn){var s=qn,u=Bi;if(Bi=qn=null,$l(s),u)for(s=0;s<u.length;s++)$l(u[s])}}function Ts(s,u){return s(u)}function qc(){}var ba=!1;function Wc(s,u,h){if(ba)return s(u,h);ba=!0;try{return Ts(s,u,h)}finally{ba=!1,(qn!==null||Bi!==null)&&(qc(),zc())}}function er(s,u){var h=s.stateNode;if(h===null)return null;var v=fp(h);if(v===null)return null;h=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Vl=!1;if(l)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Vl=!1}function As(s,u,h,v,_,j,F,z,H){var ie=Array.prototype.slice.call(arguments,3);try{u.apply(h,ie)}catch(ye){this.onError(ye)}}var Ps=!1,Fl=null,mi=!1,Hc=null,yv={onError:function(s){Ps=!0,Fl=s}};function Ul(s,u,h,v,_,j,F,z,H){Ps=!1,Fl=null,As.apply(yv,arguments)}function Lh(s,u,h,v,_,j,F,z,H){if(Ul.apply(this,arguments),Ps){if(Ps){var ie=Fl;Ps=!1,Fl=null}else throw Error(r(198));mi||(mi=!0,Hc=ie)}}function gi(s){var u=s,h=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(h=u.return),s=u.return;while(s)}return u.tag===3?h:null}function js(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function yi(s){if(gi(s)!==s)throw Error(r(188))}function $h(s){var u=s.alternate;if(!u){if(u=gi(s),u===null)throw Error(r(188));return u!==s?null:s}for(var h=s,v=u;;){var _=h.return;if(_===null)break;var j=_.alternate;if(j===null){if(v=_.return,v!==null){h=v;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===h)return yi(_),s;if(j===v)return yi(_),u;j=j.sibling}throw Error(r(188))}if(h.return!==v.return)h=_,v=j;else{for(var F=!1,z=_.child;z;){if(z===h){F=!0,h=_,v=j;break}if(z===v){F=!0,v=_,h=j;break}z=z.sibling}if(!F){for(z=j.child;z;){if(z===h){F=!0,h=j,v=_;break}if(z===v){F=!0,v=j,h=_;break}z=z.sibling}if(!F)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:u}function Gc(s){return s=$h(s),s!==null?Bl(s):null}function Bl(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=Bl(s);if(u!==null)return u;s=s.sibling}return null}var zl=e.unstable_scheduleCallback,Kc=e.unstable_cancelCallback,Vh=e.unstable_shouldYield,vv=e.unstable_requestPaint,jt=e.unstable_now,Fh=e.unstable_getCurrentPriorityLevel,ks=e.unstable_ImmediatePriority,po=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,Xc=e.unstable_LowPriority,Uh=e.unstable_IdlePriority,Is=null,kn=null;function Bh(s){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Is,s,void 0,(s.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:qh,Yc=Math.log,zh=Math.LN2;function qh(s){return s>>>=0,s===0?32:31-(Yc(s)/zh|0)|0}var ql=64,Wl=4194304;function mo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ns(s,u){var h=s.pendingLanes;if(h===0)return 0;var v=0,_=s.suspendedLanes,j=s.pingedLanes,F=h&268435455;if(F!==0){var z=F&~_;z!==0?v=mo(z):(j&=F,j!==0&&(v=mo(j)))}else F=h&~_,F!==0?v=mo(F):j!==0&&(v=mo(j));if(v===0)return 0;if(u!==0&&u!==v&&(u&_)===0&&(_=v&-v,j=u&-u,_>=j||_===16&&(j&4194240)!==0))return u;if((v&4)!==0&&(v|=h&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=v;0<u;)h=31-nn(u),_=1<<h,v|=s[h],u&=~_;return v}function bv(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(s,u){for(var h=s.suspendedLanes,v=s.pingedLanes,_=s.expirationTimes,j=s.pendingLanes;0<j;){var F=31-nn(j),z=1<<F,H=_[F];H===-1?((z&h)===0||(z&v)!==0)&&(_[F]=bv(z,u)):H<=u&&(s.expiredLanes|=z),j&=~z}}function In(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Cs(){var s=ql;return ql<<=1,(ql&4194240)===0&&(ql=64),s}function go(s){for(var u=[],h=0;31>h;h++)u.push(s);return u}function yo(s,u,h){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-nn(u),s[u]=h}function Tt(s,u){var h=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<h;){var _=31-nn(h),j=1<<_;u[_]=0,v[_]=-1,s[_]=-1,h&=~j}}function vo(s,u){var h=s.entangledLanes|=u;for(s=s.entanglements;h;){var v=31-nn(h),_=1<<v;_&u|s[v]&u&&(s[v]|=u),h&=~_}}var st=0;function bo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wh,Hl,Hh,Gh,Kh,Qc=!1,qi=[],Mr=null,vi=null,bi=null,xo=new Map,Hn=new Map,Wi=[],xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xh(s,u){switch(s){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":xo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(u.pointerId)}}function fn(s,u,h,v,_,j){return s===null||s.nativeEvent!==j?(s={blockedOn:u,domEventName:h,eventSystemFlags:v,nativeEvent:j,targetContainers:[_]},u!==null&&(u=fd(u),u!==null&&Hl(u)),s):(s.eventSystemFlags|=v,u=s.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),s)}function wv(s,u,h,v,_){switch(u){case"focusin":return Mr=fn(Mr,s,u,h,v,_),!0;case"dragenter":return vi=fn(vi,s,u,h,v,_),!0;case"mouseover":return bi=fn(bi,s,u,h,v,_),!0;case"pointerover":var j=_.pointerId;return xo.set(j,fn(xo.get(j)||null,s,u,h,v,_)),!0;case"gotpointercapture":return j=_.pointerId,Hn.set(j,fn(Hn.get(j)||null,s,u,h,v,_)),!0}return!1}function Yh(s){var u=Ls(s.target);if(u!==null){var h=gi(u);if(h!==null){if(u=h.tag,u===13){if(u=js(h),u!==null){s.blockedOn=u,Kh(s.priority,function(){Hh(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wa(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var h=Gl(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);Es=v,h.target.dispatchEvent(v),Es=null}else return u=fd(h),u!==null&&Hl(u),s.blockedOn=h,!1;u.shift()}return!0}function Os(s,u,h){wa(s)&&h.delete(u)}function Qh(){Qc=!1,Mr!==null&&wa(Mr)&&(Mr=null),vi!==null&&wa(vi)&&(vi=null),bi!==null&&wa(bi)&&(bi=null),xo.forEach(Os),Hn.forEach(Os)}function xi(s,u){s.blockedOn===u&&(s.blockedOn=null,Qc||(Qc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qh)))}function wi(s){function u(_){return xi(_,s)}if(0<qi.length){xi(qi[0],s);for(var h=1;h<qi.length;h++){var v=qi[h];v.blockedOn===s&&(v.blockedOn=null)}}for(Mr!==null&&xi(Mr,s),vi!==null&&xi(vi,s),bi!==null&&xi(bi,s),xo.forEach(u),Hn.forEach(u),h=0;h<Wi.length;h++)v=Wi[h],v.blockedOn===s&&(v.blockedOn=null);for(;0<Wi.length&&(h=Wi[0],h.blockedOn===null);)Yh(h),h.blockedOn===null&&Wi.shift()}var _a=C.ReactCurrentBatchConfig,wo=!0;function Vt(s,u,h,v){var _=st,j=_a.transition;_a.transition=null;try{st=1,Jc(s,u,h,v)}finally{st=_,_a.transition=j}}function _v(s,u,h,v){var _=st,j=_a.transition;_a.transition=null;try{st=4,Jc(s,u,h,v)}finally{st=_,_a.transition=j}}function Jc(s,u,h,v){if(wo){var _=Gl(s,u,h,v);if(_===null)Ov(s,u,v,Rs,h),Xh(s,v);else if(wv(_,s,u,h,v))v.stopPropagation();else if(Xh(s,v),u&4&&-1<xv.indexOf(s)){for(;_!==null;){var j=fd(_);if(j!==null&&Wh(j),j=Gl(s,u,h,v),j===null&&Ov(s,u,v,Rs,h),j===_)break;_=j}_!==null&&v.stopPropagation()}else Ov(s,u,v,null,h)}}var Rs=null;function Gl(s,u,h,v){if(Rs=null,s=Dl(v),s=Ls(s),s!==null)if(u=gi(s),u===null)s=null;else if(h=u.tag,h===13){if(s=js(u),s!==null)return s;s=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return Rs=s,null}function Zc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fh()){case ks:return 1;case po:return 4;case Wn:case Xc:return 16;case Uh:return 536870912;default:return 16}default:return 16}}var Nn=null,Kl=null,hn=null;function ed(){if(hn)return hn;var s,u=Kl,h=u.length,v,_="value"in Nn?Nn.value:Nn.textContent,j=_.length;for(s=0;s<h&&u[s]===_[s];s++);var F=h-s;for(v=1;v<=F&&u[h-v]===_[j-v];v++);return hn=_.slice(s,1<v?1-v:void 0)}function Xl(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Hi(){return!0}function td(){return!1}function Dr(s){function u(h,v,_,j,F){this._reactName=h,this._targetInst=_,this.type=v,this.nativeEvent=j,this.target=F,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(h=s[z],this[z]=h?h(j):j[z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Hi:td,this.isPropagationStopped=td,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),u}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Dr(_i),Gi=ne({},_i,{view:0,detail:0}),Sv=Dr(Gi),Ql,Sa,_o,Ms=ne({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_o&&(_o&&s.type==="mousemove"?(Ql=s.screenX-_o.screenX,Sa=s.screenY-_o.screenY):Sa=Ql=0,_o=s),Ql)},movementY:function(s){return"movementY"in s?s.movementY:Sa}}),Jl=Dr(Ms),rd=ne({},Ms,{dataTransfer:0}),Jh=Dr(rd),Zl=ne({},Gi,{relatedTarget:0}),eu=Dr(Zl),Zh=ne({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Dr(Zh),ep=ne({},_i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),tp=Dr(ep),rp=ne({},_i,{data:0}),nd=Dr(rp),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ip(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=np[s])?!!u[s]:!1}function Ki(){return ip}var g=ne({},Gi,{key:function(s){if(s.key){var u=tu[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Xl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?an[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(s){return s.type==="keypress"?Xl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),A=Dr(g),R=ne({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Dr(R),J=ne({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),oe=Dr(J),we=ne({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=Dr(we),mr=ne({},Ms,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lt=Dr(mr),Tr=[9,13,27,32],ar=l&&"CompositionEvent"in window,Gn=null;l&&"documentMode"in document&&(Gn=document.documentMode);var Cn=l&&"TextEvent"in window&&!Gn,Ds=l&&(!ar||Gn&&8<Gn&&11>=Gn),ru=" ",WA=!1;function HA(s,u){switch(s){case"keyup":return Tr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var nu=!1;function dF(s,u){switch(s){case"compositionend":return GA(u);case"keypress":return u.which!==32?null:(WA=!0,ru);case"textInput":return s=u.data,s===ru&&WA?null:s;default:return null}}function fF(s,u){if(nu)return s==="compositionend"||!ar&&HA(s,u)?(s=ed(),hn=Kl=Nn=null,nu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ds&&u.locale!=="ko"?null:u.data;default:return null}}var hF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!hF[s.type]:u==="textarea"}function XA(s,u,h,v){zi(v),u=up(u,"onChange"),0<u.length&&(h=new Yl("onChange","change",null,h,v),s.push({event:h,listeners:u}))}var id=null,ad=null;function pF(s){hP(s,0)}function ap(s){var u=lu(s);if(pe(u))return s}function mF(s,u){if(s==="change")return u}var YA=!1;if(l){var Ev;if(l){var Tv="oninput"in document;if(!Tv){var QA=document.createElement("div");QA.setAttribute("oninput","return;"),Tv=typeof QA.oninput=="function"}Ev=Tv}else Ev=!1;YA=Ev&&(!document.documentMode||9<document.documentMode)}function JA(){id&&(id.detachEvent("onpropertychange",ZA),ad=id=null)}function ZA(s){if(s.propertyName==="value"&&ap(ad)){var u=[];XA(u,ad,s,Dl(s)),Wc(pF,u)}}function gF(s,u,h){s==="focusin"?(JA(),id=u,ad=h,id.attachEvent("onpropertychange",ZA)):s==="focusout"&&JA()}function yF(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ap(ad)}function vF(s,u){if(s==="click")return ap(u)}function bF(s,u){if(s==="input"||s==="change")return ap(u)}function xF(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Si=typeof Object.is=="function"?Object.is:xF;function od(s,u){if(Si(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var h=Object.keys(s),v=Object.keys(u);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var _=h[v];if(!c.call(u,_)||!Si(s[_],u[_]))return!1}return!0}function eP(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tP(s,u){var h=eP(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=u&&v>=u)return{node:h,offset:u-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=eP(h)}}function rP(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?rP(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function nP(){for(var s=window,u=nt();u instanceof s.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)s=u.contentWindow;else break;u=nt(s.document)}return u}function Av(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function wF(s){var u=nP(),h=s.focusedElem,v=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&rP(h.ownerDocument.documentElement,h)){if(v!==null&&Av(h)){if(u=v.start,s=v.end,s===void 0&&(s=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(s,h.value.length);else if(s=(u=h.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var _=h.textContent.length,j=Math.min(v.start,_);v=v.end===void 0?j:Math.min(v.end,_),!s.extend&&j>v&&(_=v,v=j,j=_),_=tP(h,j);var F=tP(h,v);_&&F&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==F.node||s.focusOffset!==F.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),s.removeAllRanges(),j>v?(s.addRange(u),s.extend(F.node,F.offset)):(u.setEnd(F.node,F.offset),s.addRange(u)))}}for(u=[],s=h;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)s=u[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _F=l&&"documentMode"in document&&11>=document.documentMode,iu=null,Pv=null,sd=null,jv=!1;function iP(s,u,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;jv||iu==null||iu!==nt(v)||(v=iu,"selectionStart"in v&&Av(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),sd&&od(sd,v)||(sd=v,v=up(Pv,"onSelect"),0<v.length&&(u=new Yl("onSelect","select",null,u,h),s.push({event:u,listeners:v}),u.target=iu)))}function op(s,u){var h={};return h[s.toLowerCase()]=u.toLowerCase(),h["Webkit"+s]="webkit"+u,h["Moz"+s]="moz"+u,h}var au={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},kv={},aP={};l&&(aP=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function sp(s){if(kv[s])return kv[s];if(!au[s])return s;var u=au[s],h;for(h in u)if(u.hasOwnProperty(h)&&h in aP)return kv[s]=u[h];return s}var oP=sp("animationend"),sP=sp("animationiteration"),lP=sp("animationstart"),uP=sp("transitionend"),cP=new Map,dP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(s,u){cP.set(s,u),a(u,[s])}for(var Iv=0;Iv<dP.length;Iv++){var Nv=dP[Iv],SF=Nv.toLowerCase(),EF=Nv[0].toUpperCase()+Nv.slice(1);So(SF,"on"+EF)}So(oP,"onAnimationEnd"),So(sP,"onAnimationIteration"),So(lP,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(uP,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function fP(s,u,h){var v=s.type||"unknown-event";s.currentTarget=h,Lh(v,u,void 0,s),s.currentTarget=null}function hP(s,u){u=(u&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],_=v.event;v=v.listeners;e:{var j=void 0;if(u)for(var F=v.length-1;0<=F;F--){var z=v[F],H=z.instance,ie=z.currentTarget;if(z=z.listener,H!==j&&_.isPropagationStopped())break e;fP(_,z,ie),j=H}else for(F=0;F<v.length;F++){if(z=v[F],H=z.instance,ie=z.currentTarget,z=z.listener,H!==j&&_.isPropagationStopped())break e;fP(_,z,ie),j=H}}}if(mi)throw s=Hc,mi=!1,Hc=null,s}function Ot(s,u){var h=u[Vv];h===void 0&&(h=u[Vv]=new Set);var v=s+"__bubble";h.has(v)||(pP(u,s,2,!1),h.add(v))}function Cv(s,u,h){var v=0;u&&(v|=4),pP(h,s,v,u)}var lp="_reactListening"+Math.random().toString(36).slice(2);function ud(s){if(!s[lp]){s[lp]=!0,n.forEach(function(h){h!=="selectionchange"&&(TF.has(h)||Cv(h,!1,s),Cv(h,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[lp]||(u[lp]=!0,Cv("selectionchange",!1,u))}}function pP(s,u,h,v){switch(Zc(u)){case 1:var _=Vt;break;case 4:_=_v;break;default:_=Jc}h=_.bind(null,u,h,s),_=void 0,!Vl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),v?_!==void 0?s.addEventListener(u,h,{capture:!0,passive:_}):s.addEventListener(u,h,!0):_!==void 0?s.addEventListener(u,h,{passive:_}):s.addEventListener(u,h,!1)}function Ov(s,u,h,v,_){var j=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var z=v.stateNode.containerInfo;if(z===_||z.nodeType===8&&z.parentNode===_)break;if(F===4)for(F=v.return;F!==null;){var H=F.tag;if((H===3||H===4)&&(H=F.stateNode.containerInfo,H===_||H.nodeType===8&&H.parentNode===_))return;F=F.return}for(;z!==null;){if(F=Ls(z),F===null)return;if(H=F.tag,H===5||H===6){v=j=F;continue e}z=z.parentNode}}v=v.return}Wc(function(){var ie=j,ye=Dl(h),ve=[];e:{var ge=cP.get(s);if(ge!==void 0){var Pe=Yl,Ce=s;switch(s){case"keypress":if(Xl(h)===0)break e;case"keydown":case"keyup":Pe=A;break;case"focusin":Ce="focus",Pe=eu;break;case"focusout":Ce="blur",Pe=eu;break;case"beforeblur":case"afterblur":Pe=eu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=oe;break;case oP:case sP:case lP:Pe=Ea;break;case uP:Pe=xt;break;case"scroll":Pe=Sv;break;case"wheel":Pe=lt;break;case"copy":case"cut":case"paste":Pe=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=B}var Me=(u&4)!==0,tr=!Me&&s==="scroll",Z=Me?ge!==null?ge+"Capture":null:ge;Me=[];for(var K=ie,ee;K!==null;){ee=K;var be=ee.stateNode;if(ee.tag===5&&be!==null&&(ee=be,Z!==null&&(be=er(K,Z),be!=null&&Me.push(cd(K,be,ee)))),tr)break;K=K.return}0<Me.length&&(ge=new Pe(ge,Ce,null,h,ye),ve.push({event:ge,listeners:Me}))}}if((u&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",ge&&h!==Es&&(Ce=h.relatedTarget||h.fromElement)&&(Ls(Ce)||Ce[Ta]))break e;if((Pe||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Pe?(Ce=h.relatedTarget||h.toElement,Pe=ie,Ce=Ce?Ls(Ce):null,Ce!==null&&(tr=gi(Ce),Ce!==tr||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Pe=null,Ce=ie),Pe!==Ce)){if(Me=Jl,be="onMouseLeave",Z="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Me=B,be="onPointerLeave",Z="onPointerEnter",K="pointer"),tr=Pe==null?ge:lu(Pe),ee=Ce==null?ge:lu(Ce),ge=new Me(be,K+"leave",Pe,h,ye),ge.target=tr,ge.relatedTarget=ee,be=null,Ls(ye)===ie&&(Me=new Me(Z,K+"enter",Ce,h,ye),Me.target=ee,Me.relatedTarget=tr,be=Me),tr=be,Pe&&Ce)t:{for(Me=Pe,Z=Ce,K=0,ee=Me;ee;ee=ou(ee))K++;for(ee=0,be=Z;be;be=ou(be))ee++;for(;0<K-ee;)Me=ou(Me),K--;for(;0<ee-K;)Z=ou(Z),ee--;for(;K--;){if(Me===Z||Z!==null&&Me===Z.alternate)break t;Me=ou(Me),Z=ou(Z)}Me=null}else Me=null;Pe!==null&&mP(ve,ge,Pe,Me,!1),Ce!==null&&tr!==null&&mP(ve,tr,Ce,Me,!0)}}e:{if(ge=ie?lu(ie):window,Pe=ge.nodeName&&ge.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ge.type==="file")var De=mF;else if(KA(ge))if(YA)De=bF;else{De=yF;var Ve=gF}else(Pe=ge.nodeName)&&Pe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(De=vF);if(De&&(De=De(s,ie))){XA(ve,De,h,ye);break e}Ve&&Ve(s,ge,ie),s==="focusout"&&(Ve=ge._wrapperState)&&Ve.controlled&&ge.type==="number"&&hr(ge,"number",ge.value)}switch(Ve=ie?lu(ie):window,s){case"focusin":(KA(Ve)||Ve.contentEditable==="true")&&(iu=Ve,Pv=ie,sd=null);break;case"focusout":sd=Pv=iu=null;break;case"mousedown":jv=!0;break;case"contextmenu":case"mouseup":case"dragend":jv=!1,iP(ve,h,ye);break;case"selectionchange":if(_F)break;case"keydown":case"keyup":iP(ve,h,ye)}var Fe;if(ar)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else nu?HA(s,h)&&(He="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(He="onCompositionStart");He&&(Ds&&h.locale!=="ko"&&(nu||He!=="onCompositionStart"?He==="onCompositionEnd"&&nu&&(Fe=ed()):(Nn=ye,Kl="value"in Nn?Nn.value:Nn.textContent,nu=!0)),Ve=up(ie,He),0<Ve.length&&(He=new nd(He,s,null,h,ye),ve.push({event:He,listeners:Ve}),Fe?He.data=Fe:(Fe=GA(h),Fe!==null&&(He.data=Fe)))),(Fe=Cn?dF(s,h):fF(s,h))&&(ie=up(ie,"onBeforeInput"),0<ie.length&&(ye=new nd("onBeforeInput","beforeinput",null,h,ye),ve.push({event:ye,listeners:ie}),ye.data=Fe))}hP(ve,u)})}function cd(s,u,h){return{instance:s,listener:u,currentTarget:h}}function up(s,u){for(var h=u+"Capture",v=[];s!==null;){var _=s,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=er(s,h),j!=null&&v.unshift(cd(s,j,_)),j=er(s,u),j!=null&&v.push(cd(s,j,_))),s=s.return}return v}function ou(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function mP(s,u,h,v,_){for(var j=u._reactName,F=[];h!==null&&h!==v;){var z=h,H=z.alternate,ie=z.stateNode;if(H!==null&&H===v)break;z.tag===5&&ie!==null&&(z=ie,_?(H=er(h,j),H!=null&&F.unshift(cd(h,H,z))):_||(H=er(h,j),H!=null&&F.push(cd(h,H,z)))),h=h.return}F.length!==0&&s.push({event:u,listeners:F})}var AF=/\r\n?/g,PF=/\u0000|\uFFFD/g;function gP(s){return(typeof s=="string"?s:""+s).replace(AF,`
`).replace(PF,"")}function cp(s,u,h){if(u=gP(u),gP(s)!==u&&h)throw Error(r(425))}function dp(){}var Rv=null,Mv=null;function Dv(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Lv=typeof setTimeout=="function"?setTimeout:void 0,jF=typeof clearTimeout=="function"?clearTimeout:void 0,yP=typeof Promise=="function"?Promise:void 0,kF=typeof queueMicrotask=="function"?queueMicrotask:typeof yP<"u"?function(s){return yP.resolve(null).then(s).catch(IF)}:Lv;function IF(s){setTimeout(function(){throw s})}function $v(s,u){var h=u,v=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(v===0){s.removeChild(_),wi(u);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=_}while(h);wi(u)}function Eo(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function vP(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return s;u--}else h==="/$"&&u++}s=s.previousSibling}return null}var su=Math.random().toString(36).slice(2),Xi="__reactFiber$"+su,dd="__reactProps$"+su,Ta="__reactContainer$"+su,Vv="__reactEvents$"+su,NF="__reactListeners$"+su,CF="__reactHandles$"+su;function Ls(s){var u=s[Xi];if(u)return u;for(var h=s.parentNode;h;){if(u=h[Ta]||h[Xi]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(s=vP(s);s!==null;){if(h=s[Xi])return h;s=vP(s)}return u}s=h,h=s.parentNode}return null}function fd(s){return s=s[Xi]||s[Ta],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function lu(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function fp(s){return s[dd]||null}var Fv=[],uu=-1;function To(s){return{current:s}}function Rt(s){0>uu||(s.current=Fv[uu],Fv[uu]=null,uu--)}function kt(s,u){uu++,Fv[uu]=s.current,s.current=u}var Ao={},Hr=To(Ao),pn=To(!1),$s=Ao;function cu(s,u){var h=s.type.contextTypes;if(!h)return Ao;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in h)_[j]=u[j];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=_),_}function mn(s){return s=s.childContextTypes,s!=null}function hp(){Rt(pn),Rt(Hr)}function bP(s,u,h){if(Hr.current!==Ao)throw Error(r(168));kt(Hr,u),kt(pn,h)}function xP(s,u,h){var v=s.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var _ in v)if(!(_ in u))throw Error(r(108,ue(s)||"Unknown",_));return ne({},h,v)}function pp(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ao,$s=Hr.current,kt(Hr,s),kt(pn,pn.current),!0}function wP(s,u,h){var v=s.stateNode;if(!v)throw Error(r(169));h?(s=xP(s,u,$s),v.__reactInternalMemoizedMergedChildContext=s,Rt(pn),Rt(Hr),kt(Hr,s)):Rt(pn),kt(pn,h)}var Aa=null,mp=!1,Uv=!1;function _P(s){Aa===null?Aa=[s]:Aa.push(s)}function OF(s){mp=!0,_P(s)}function Po(){if(!Uv&&Aa!==null){Uv=!0;var s=0,u=st;try{var h=Aa;for(st=1;s<h.length;s++){var v=h[s];do v=v(!0);while(v!==null)}Aa=null,mp=!1}catch(_){throw Aa!==null&&(Aa=Aa.slice(s+1)),zl(ks,Po),_}finally{st=u,Uv=!1}}return null}var du=[],fu=0,gp=null,yp=0,Kn=[],Xn=0,Vs=null,Pa=1,ja="";function Fs(s,u){du[fu++]=yp,du[fu++]=gp,gp=s,yp=u}function SP(s,u,h){Kn[Xn++]=Pa,Kn[Xn++]=ja,Kn[Xn++]=Vs,Vs=s;var v=Pa;s=ja;var _=32-nn(v)-1;v&=~(1<<_),h+=1;var j=32-nn(u)+_;if(30<j){var F=_-_%5;j=(v&(1<<F)-1).toString(32),v>>=F,_-=F,Pa=1<<32-nn(u)+_|h<<_|v,ja=j+s}else Pa=1<<j|h<<_|v,ja=s}function Bv(s){s.return!==null&&(Fs(s,1),SP(s,1,0))}function zv(s){for(;s===gp;)gp=du[--fu],du[fu]=null,yp=du[--fu],du[fu]=null;for(;s===Vs;)Vs=Kn[--Xn],Kn[Xn]=null,ja=Kn[--Xn],Kn[Xn]=null,Pa=Kn[--Xn],Kn[Xn]=null}var On=null,Rn=null,Ft=!1,Ei=null;function EP(s,u){var h=Zn(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=s,u=s.deletions,u===null?(s.deletions=[h],s.flags|=16):u.push(h)}function TP(s,u){switch(s.tag){case 5:var h=s.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,On=s,Rn=Eo(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,On=s,Rn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Vs!==null?{id:Pa,overflow:ja}:null,s.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=Zn(18,null,null,0),h.stateNode=u,h.return=s,s.child=h,On=s,Rn=null,!0):!1;default:return!1}}function qv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Wv(s){if(Ft){var u=Rn;if(u){var h=u;if(!TP(s,u)){if(qv(s))throw Error(r(418));u=Eo(h.nextSibling);var v=On;u&&TP(s,u)?EP(v,h):(s.flags=s.flags&-4097|2,Ft=!1,On=s)}}else{if(qv(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ft=!1,On=s}}}function AP(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function vp(s){if(s!==On)return!1;if(!Ft)return AP(s),Ft=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!Dv(s.type,s.memoizedProps)),u&&(u=Rn)){if(qv(s))throw PP(),Error(r(418));for(;u;)EP(s,u),u=Eo(u.nextSibling)}if(AP(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(u===0){Rn=Eo(s.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}s=s.nextSibling}Rn=null}}else Rn=On?Eo(s.stateNode.nextSibling):null;return!0}function PP(){for(var s=Rn;s;)s=Eo(s.nextSibling)}function hu(){Rn=On=null,Ft=!1}function Hv(s){Ei===null?Ei=[s]:Ei.push(s)}var RF=C.ReactCurrentBatchConfig;function hd(s,u,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,s));var _=v,j=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===j?u.ref:(u=function(F){var z=_.refs;F===null?delete z[j]:z[j]=F},u._stringRef=j,u)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function bp(s,u){throw s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function jP(s){var u=s._init;return u(s._payload)}function kP(s){function u(Z,K){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[K],Z.flags|=16):ee.push(K)}}function h(Z,K){if(!s)return null;for(;K!==null;)u(Z,K),K=K.sibling;return null}function v(Z,K){for(Z=new Map;K!==null;)K.key!==null?Z.set(K.key,K):Z.set(K.index,K),K=K.sibling;return Z}function _(Z,K){return Z=Mo(Z,K),Z.index=0,Z.sibling=null,Z}function j(Z,K,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<K?(Z.flags|=2,K):ee):(Z.flags|=2,K)):(Z.flags|=1048576,K)}function F(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function z(Z,K,ee,be){return K===null||K.tag!==6?(K=Lb(ee,Z.mode,be),K.return=Z,K):(K=_(K,ee),K.return=Z,K)}function H(Z,K,ee,be){var De=ee.type;return De===P?ye(Z,K,ee.props.children,be,ee.key):K!==null&&(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&jP(De)===K.type)?(be=_(K,ee.props),be.ref=hd(Z,K,ee),be.return=Z,be):(be=zp(ee.type,ee.key,ee.props,null,Z.mode,be),be.ref=hd(Z,K,ee),be.return=Z,be)}function ie(Z,K,ee,be){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=$b(ee,Z.mode,be),K.return=Z,K):(K=_(K,ee.children||[]),K.return=Z,K)}function ye(Z,K,ee,be,De){return K===null||K.tag!==7?(K=Ks(ee,Z.mode,be,De),K.return=Z,K):(K=_(K,ee),K.return=Z,K)}function ve(Z,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Lb(""+K,Z.mode,ee),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return ee=zp(K.type,K.key,K.props,null,Z.mode,ee),ee.ref=hd(Z,null,K),ee.return=Z,ee;case O:return K=$b(K,Z.mode,ee),K.return=Z,K;case te:var be=K._init;return ve(Z,be(K._payload),ee)}if(pr(K)||ae(K))return K=Ks(K,Z.mode,ee,null),K.return=Z,K;bp(Z,K)}return null}function ge(Z,K,ee,be){var De=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return De!==null?null:z(Z,K,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return ee.key===De?H(Z,K,ee,be):null;case O:return ee.key===De?ie(Z,K,ee,be):null;case te:return De=ee._init,ge(Z,K,De(ee._payload),be)}if(pr(ee)||ae(ee))return De!==null?null:ye(Z,K,ee,be,null);bp(Z,ee)}return null}function Pe(Z,K,ee,be,De){if(typeof be=="string"&&be!==""||typeof be=="number")return Z=Z.get(ee)||null,z(K,Z,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case k:return Z=Z.get(be.key===null?ee:be.key)||null,H(K,Z,be,De);case O:return Z=Z.get(be.key===null?ee:be.key)||null,ie(K,Z,be,De);case te:var Ve=be._init;return Pe(Z,K,ee,Ve(be._payload),De)}if(pr(be)||ae(be))return Z=Z.get(ee)||null,ye(K,Z,be,De,null);bp(K,be)}return null}function Ce(Z,K,ee,be){for(var De=null,Ve=null,Fe=K,He=K=0,jr=null;Fe!==null&&He<ee.length;He++){Fe.index>He?(jr=Fe,Fe=null):jr=Fe.sibling;var ft=ge(Z,Fe,ee[He],be);if(ft===null){Fe===null&&(Fe=jr);break}s&&Fe&&ft.alternate===null&&u(Z,Fe),K=j(ft,K,He),Ve===null?De=ft:Ve.sibling=ft,Ve=ft,Fe=jr}if(He===ee.length)return h(Z,Fe),Ft&&Fs(Z,He),De;if(Fe===null){for(;He<ee.length;He++)Fe=ve(Z,ee[He],be),Fe!==null&&(K=j(Fe,K,He),Ve===null?De=Fe:Ve.sibling=Fe,Ve=Fe);return Ft&&Fs(Z,He),De}for(Fe=v(Z,Fe);He<ee.length;He++)jr=Pe(Fe,Z,He,ee[He],be),jr!==null&&(s&&jr.alternate!==null&&Fe.delete(jr.key===null?He:jr.key),K=j(jr,K,He),Ve===null?De=jr:Ve.sibling=jr,Ve=jr);return s&&Fe.forEach(function(Do){return u(Z,Do)}),Ft&&Fs(Z,He),De}function Me(Z,K,ee,be){var De=ae(ee);if(typeof De!="function")throw Error(r(150));if(ee=De.call(ee),ee==null)throw Error(r(151));for(var Ve=De=null,Fe=K,He=K=0,jr=null,ft=ee.next();Fe!==null&&!ft.done;He++,ft=ee.next()){Fe.index>He?(jr=Fe,Fe=null):jr=Fe.sibling;var Do=ge(Z,Fe,ft.value,be);if(Do===null){Fe===null&&(Fe=jr);break}s&&Fe&&Do.alternate===null&&u(Z,Fe),K=j(Do,K,He),Ve===null?De=Do:Ve.sibling=Do,Ve=Do,Fe=jr}if(ft.done)return h(Z,Fe),Ft&&Fs(Z,He),De;if(Fe===null){for(;!ft.done;He++,ft=ee.next())ft=ve(Z,ft.value,be),ft!==null&&(K=j(ft,K,He),Ve===null?De=ft:Ve.sibling=ft,Ve=ft);return Ft&&Fs(Z,He),De}for(Fe=v(Z,Fe);!ft.done;He++,ft=ee.next())ft=Pe(Fe,Z,He,ft.value,be),ft!==null&&(s&&ft.alternate!==null&&Fe.delete(ft.key===null?He:ft.key),K=j(ft,K,He),Ve===null?De=ft:Ve.sibling=ft,Ve=ft);return s&&Fe.forEach(function(hU){return u(Z,hU)}),Ft&&Fs(Z,He),De}function tr(Z,K,ee,be){if(typeof ee=="object"&&ee!==null&&ee.type===P&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:e:{for(var De=ee.key,Ve=K;Ve!==null;){if(Ve.key===De){if(De=ee.type,De===P){if(Ve.tag===7){h(Z,Ve.sibling),K=_(Ve,ee.props.children),K.return=Z,Z=K;break e}}else if(Ve.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&jP(De)===Ve.type){h(Z,Ve.sibling),K=_(Ve,ee.props),K.ref=hd(Z,Ve,ee),K.return=Z,Z=K;break e}h(Z,Ve);break}else u(Z,Ve);Ve=Ve.sibling}ee.type===P?(K=Ks(ee.props.children,Z.mode,be,ee.key),K.return=Z,Z=K):(be=zp(ee.type,ee.key,ee.props,null,Z.mode,be),be.ref=hd(Z,K,ee),be.return=Z,Z=be)}return F(Z);case O:e:{for(Ve=ee.key;K!==null;){if(K.key===Ve)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){h(Z,K.sibling),K=_(K,ee.children||[]),K.return=Z,Z=K;break e}else{h(Z,K);break}else u(Z,K);K=K.sibling}K=$b(ee,Z.mode,be),K.return=Z,Z=K}return F(Z);case te:return Ve=ee._init,tr(Z,K,Ve(ee._payload),be)}if(pr(ee))return Ce(Z,K,ee,be);if(ae(ee))return Me(Z,K,ee,be);bp(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(h(Z,K.sibling),K=_(K,ee),K.return=Z,Z=K):(h(Z,K),K=Lb(ee,Z.mode,be),K.return=Z,Z=K),F(Z)):h(Z,K)}return tr}var pu=kP(!0),IP=kP(!1),xp=To(null),wp=null,mu=null,Gv=null;function Kv(){Gv=mu=wp=null}function Xv(s){var u=xp.current;Rt(xp),s._currentValue=u}function Yv(s,u,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),s===h)break;s=s.return}}function gu(s,u){wp=s,Gv=mu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(gn=!0),s.firstContext=null)}function Yn(s){var u=s._currentValue;if(Gv!==s)if(s={context:s,memoizedValue:u,next:null},mu===null){if(wp===null)throw Error(r(308));mu=s,wp.dependencies={lanes:0,firstContext:s}}else mu=mu.next=s;return u}var Us=null;function Qv(s){Us===null?Us=[s]:Us.push(s)}function NP(s,u,h,v){var _=u.interleaved;return _===null?(h.next=h,Qv(u)):(h.next=_.next,_.next=h),u.interleaved=h,ka(s,v)}function ka(s,u){s.lanes|=u;var h=s.alternate;for(h!==null&&(h.lanes|=u),h=s,s=s.return;s!==null;)s.childLanes|=u,h=s.alternate,h!==null&&(h.childLanes|=u),h=s,s=s.return;return h.tag===3?h.stateNode:null}var jo=!1;function Jv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CP(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ia(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function ko(s,u,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(ct&2)!==0){var _=v.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),v.pending=u,ka(s,h)}return _=v.interleaved,_===null?(u.next=u,Qv(v)):(u.next=_.next,_.next=u),v.interleaved=u,ka(s,h)}function _p(s,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var v=u.lanes;v&=s.pendingLanes,h|=v,u.lanes=h,vo(s,h)}}function OP(s,u){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var _=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var F={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?_=j=F:j=j.next=F,h=h.next}while(h!==null);j===null?_=j=u:j=j.next=u}else _=j=u;h={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:v.shared,effects:v.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=u}function Sp(s,u,h,v){var _=s.updateQueue;jo=!1;var j=_.firstBaseUpdate,F=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var H=z,ie=H.next;H.next=null,F===null?j=ie:F.next=ie,F=H;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,z=ye.lastBaseUpdate,z!==F&&(z===null?ye.firstBaseUpdate=ie:z.next=ie,ye.lastBaseUpdate=H))}if(j!==null){var ve=_.baseState;F=0,ye=ie=H=null,z=j;do{var ge=z.lane,Pe=z.eventTime;if((v&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ce=s,Me=z;switch(ge=u,Pe=h,Me.tag){case 1:if(Ce=Me.payload,typeof Ce=="function"){ve=Ce.call(Pe,ve,ge);break e}ve=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Me.payload,ge=typeof Ce=="function"?Ce.call(Pe,ve,ge):Ce,ge==null)break e;ve=ne({},ve,ge);break e;case 2:jo=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,ge=_.effects,ge===null?_.effects=[z]:ge.push(z))}else Pe={eventTime:Pe,lane:ge,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ye===null?(ie=ye=Pe,H=ve):ye=ye.next=Pe,F|=ge;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;ge=z,z=ge.next,ge.next=null,_.lastBaseUpdate=ge,_.shared.pending=null}}while(!0);if(ye===null&&(H=ve),_.baseState=H,_.firstBaseUpdate=ie,_.lastBaseUpdate=ye,u=_.shared.interleaved,u!==null){_=u;do F|=_.lane,_=_.next;while(_!==u)}else j===null&&(_.shared.lanes=0);qs|=F,s.lanes=F,s.memoizedState=ve}}function RP(s,u,h){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var v=s[u],_=v.callback;if(_!==null){if(v.callback=null,v=h,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var pd={},Yi=To(pd),md=To(pd),gd=To(pd);function Bs(s){if(s===pd)throw Error(r(174));return s}function Zv(s,u){switch(kt(gd,u),kt(md,s),kt(Yi,pd),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Xt(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=Xt(u,s)}Rt(Yi),kt(Yi,u)}function yu(){Rt(Yi),Rt(md),Rt(gd)}function MP(s){Bs(gd.current);var u=Bs(Yi.current),h=Xt(u,s.type);u!==h&&(kt(md,s),kt(Yi,h))}function eb(s){md.current===s&&(Rt(Yi),Rt(md))}var qt=To(0);function Ep(s){for(var u=s;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var tb=[];function rb(){for(var s=0;s<tb.length;s++)tb[s]._workInProgressVersionPrimary=null;tb.length=0}var Tp=C.ReactCurrentDispatcher,nb=C.ReactCurrentBatchConfig,zs=0,Wt=null,gr=null,Ar=null,Ap=!1,yd=!1,vd=0,MF=0;function Gr(){throw Error(r(321))}function ib(s,u){if(u===null)return!1;for(var h=0;h<u.length&&h<s.length;h++)if(!Si(s[h],u[h]))return!1;return!0}function ab(s,u,h,v,_,j){if(zs=j,Wt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Tp.current=s===null||s.memoizedState===null?VF:FF,s=h(v,_),yd){j=0;do{if(yd=!1,vd=0,25<=j)throw Error(r(301));j+=1,Ar=gr=null,u.updateQueue=null,Tp.current=UF,s=h(v,_)}while(yd)}if(Tp.current=kp,u=gr!==null&&gr.next!==null,zs=0,Ar=gr=Wt=null,Ap=!1,u)throw Error(r(300));return s}function ob(){var s=vd!==0;return vd=0,s}function Qi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Wt.memoizedState=Ar=s:Ar=Ar.next=s,Ar}function Qn(){if(gr===null){var s=Wt.alternate;s=s!==null?s.memoizedState:null}else s=gr.next;var u=Ar===null?Wt.memoizedState:Ar.next;if(u!==null)Ar=u,gr=s;else{if(s===null)throw Error(r(310));gr=s,s={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Ar===null?Wt.memoizedState=Ar=s:Ar=Ar.next=s}return Ar}function bd(s,u){return typeof u=="function"?u(s):u}function sb(s){var u=Qn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=gr,_=v.baseQueue,j=h.pending;if(j!==null){if(_!==null){var F=_.next;_.next=j.next,j.next=F}v.baseQueue=_=j,h.pending=null}if(_!==null){j=_.next,v=v.baseState;var z=F=null,H=null,ie=j;do{var ye=ie.lane;if((zs&ye)===ye)H!==null&&(H=H.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),v=ie.hasEagerState?ie.eagerState:s(v,ie.action);else{var ve={lane:ye,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};H===null?(z=H=ve,F=v):H=H.next=ve,Wt.lanes|=ye,qs|=ye}ie=ie.next}while(ie!==null&&ie!==j);H===null?F=v:H.next=z,Si(v,u.memoizedState)||(gn=!0),u.memoizedState=v,u.baseState=F,u.baseQueue=H,h.lastRenderedState=v}if(s=h.interleaved,s!==null){_=s;do j=_.lane,Wt.lanes|=j,qs|=j,_=_.next;while(_!==s)}else _===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function lb(s){var u=Qn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,_=h.pending,j=u.memoizedState;if(_!==null){h.pending=null;var F=_=_.next;do j=s(j,F.action),F=F.next;while(F!==_);Si(j,u.memoizedState)||(gn=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),h.lastRenderedState=j}return[j,v]}function DP(){}function LP(s,u){var h=Wt,v=Qn(),_=u(),j=!Si(v.memoizedState,_);if(j&&(v.memoizedState=_,gn=!0),v=v.queue,ub(FP.bind(null,h,v,s),[s]),v.getSnapshot!==u||j||Ar!==null&&Ar.memoizedState.tag&1){if(h.flags|=2048,xd(9,VP.bind(null,h,v,_,u),void 0,null),Pr===null)throw Error(r(349));(zs&30)!==0||$P(h,u,_)}return _}function $P(s,u,h){s.flags|=16384,s={getSnapshot:u,value:h},u=Wt.updateQueue,u===null?(u={lastEffect:null,stores:null},Wt.updateQueue=u,u.stores=[s]):(h=u.stores,h===null?u.stores=[s]:h.push(s))}function VP(s,u,h,v){u.value=h,u.getSnapshot=v,UP(u)&&BP(s)}function FP(s,u,h){return h(function(){UP(u)&&BP(s)})}function UP(s){var u=s.getSnapshot;s=s.value;try{var h=u();return!Si(s,h)}catch{return!0}}function BP(s){var u=ka(s,1);u!==null&&ji(u,s,1,-1)}function zP(s){var u=Qi();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:s},u.queue=s,s=s.dispatch=$F.bind(null,Wt,s),[u.memoizedState,s]}function xd(s,u,h,v){return s={tag:s,create:u,destroy:h,deps:v,next:null},u=Wt.updateQueue,u===null?(u={lastEffect:null,stores:null},Wt.updateQueue=u,u.lastEffect=s.next=s):(h=u.lastEffect,h===null?u.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,u.lastEffect=s)),s}function qP(){return Qn().memoizedState}function Pp(s,u,h,v){var _=Qi();Wt.flags|=s,_.memoizedState=xd(1|u,h,void 0,v===void 0?null:v)}function jp(s,u,h,v){var _=Qn();v=v===void 0?null:v;var j=void 0;if(gr!==null){var F=gr.memoizedState;if(j=F.destroy,v!==null&&ib(v,F.deps)){_.memoizedState=xd(u,h,j,v);return}}Wt.flags|=s,_.memoizedState=xd(1|u,h,j,v)}function WP(s,u){return Pp(8390656,8,s,u)}function ub(s,u){return jp(2048,8,s,u)}function HP(s,u){return jp(4,2,s,u)}function GP(s,u){return jp(4,4,s,u)}function KP(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function XP(s,u,h){return h=h!=null?h.concat([s]):null,jp(4,4,KP.bind(null,u,s),h)}function cb(){}function YP(s,u){var h=Qn();u=u===void 0?null:u;var v=h.memoizedState;return v!==null&&u!==null&&ib(u,v[1])?v[0]:(h.memoizedState=[s,u],s)}function QP(s,u){var h=Qn();u=u===void 0?null:u;var v=h.memoizedState;return v!==null&&u!==null&&ib(u,v[1])?v[0]:(s=s(),h.memoizedState=[s,u],s)}function JP(s,u,h){return(zs&21)===0?(s.baseState&&(s.baseState=!1,gn=!0),s.memoizedState=h):(Si(h,u)||(h=Cs(),Wt.lanes|=h,qs|=h,s.baseState=!0),u)}function DF(s,u){var h=st;st=h!==0&&4>h?h:4,s(!0);var v=nb.transition;nb.transition={};try{s(!1),u()}finally{st=h,nb.transition=v}}function ZP(){return Qn().memoizedState}function LF(s,u,h){var v=Oo(s);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},ej(s))tj(u,h);else if(h=NP(s,u,h,v),h!==null){var _=sn();ji(h,s,v,_),rj(h,u,v)}}function $F(s,u,h){var v=Oo(s),_={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(ej(s))tj(u,_);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var F=u.lastRenderedState,z=j(F,h);if(_.hasEagerState=!0,_.eagerState=z,Si(z,F)){var H=u.interleaved;H===null?(_.next=_,Qv(u)):(_.next=H.next,H.next=_),u.interleaved=_;return}}catch{}finally{}h=NP(s,u,_,v),h!==null&&(_=sn(),ji(h,s,v,_),rj(h,u,v))}}function ej(s){var u=s.alternate;return s===Wt||u!==null&&u===Wt}function tj(s,u){yd=Ap=!0;var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}function rj(s,u,h){if((h&4194240)!==0){var v=u.lanes;v&=s.pendingLanes,h|=v,u.lanes=h,vo(s,h)}}var kp={readContext:Yn,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},VF={readContext:Yn,useCallback:function(s,u){return Qi().memoizedState=[s,u===void 0?null:u],s},useContext:Yn,useEffect:WP,useImperativeHandle:function(s,u,h){return h=h!=null?h.concat([s]):null,Pp(4194308,4,KP.bind(null,u,s),h)},useLayoutEffect:function(s,u){return Pp(4194308,4,s,u)},useInsertionEffect:function(s,u){return Pp(4,2,s,u)},useMemo:function(s,u){var h=Qi();return u=u===void 0?null:u,s=s(),h.memoizedState=[s,u],s},useReducer:function(s,u,h){var v=Qi();return u=h!==void 0?h(u):u,v.memoizedState=v.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},v.queue=s,s=s.dispatch=LF.bind(null,Wt,s),[v.memoizedState,s]},useRef:function(s){var u=Qi();return s={current:s},u.memoizedState=s},useState:zP,useDebugValue:cb,useDeferredValue:function(s){return Qi().memoizedState=s},useTransition:function(){var s=zP(!1),u=s[0];return s=DF.bind(null,s[1]),Qi().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,h){var v=Wt,_=Qi();if(Ft){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Pr===null)throw Error(r(349));(zs&30)!==0||$P(v,u,h)}_.memoizedState=h;var j={value:h,getSnapshot:u};return _.queue=j,WP(FP.bind(null,v,j,s),[s]),v.flags|=2048,xd(9,VP.bind(null,v,j,h,u),void 0,null),h},useId:function(){var s=Qi(),u=Pr.identifierPrefix;if(Ft){var h=ja,v=Pa;h=(v&~(1<<32-nn(v)-1)).toString(32)+h,u=":"+u+"R"+h,h=vd++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=MF++,u=":"+u+"r"+h.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},FF={readContext:Yn,useCallback:YP,useContext:Yn,useEffect:ub,useImperativeHandle:XP,useInsertionEffect:HP,useLayoutEffect:GP,useMemo:QP,useReducer:sb,useRef:qP,useState:function(){return sb(bd)},useDebugValue:cb,useDeferredValue:function(s){var u=Qn();return JP(u,gr.memoizedState,s)},useTransition:function(){var s=sb(bd)[0],u=Qn().memoizedState;return[s,u]},useMutableSource:DP,useSyncExternalStore:LP,useId:ZP,unstable_isNewReconciler:!1},UF={readContext:Yn,useCallback:YP,useContext:Yn,useEffect:ub,useImperativeHandle:XP,useInsertionEffect:HP,useLayoutEffect:GP,useMemo:QP,useReducer:lb,useRef:qP,useState:function(){return lb(bd)},useDebugValue:cb,useDeferredValue:function(s){var u=Qn();return gr===null?u.memoizedState=s:JP(u,gr.memoizedState,s)},useTransition:function(){var s=lb(bd)[0],u=Qn().memoizedState;return[s,u]},useMutableSource:DP,useSyncExternalStore:LP,useId:ZP,unstable_isNewReconciler:!1};function Ti(s,u){if(s&&s.defaultProps){u=ne({},u),s=s.defaultProps;for(var h in s)u[h]===void 0&&(u[h]=s[h]);return u}return u}function db(s,u,h,v){u=s.memoizedState,h=h(v,u),h=h==null?u:ne({},u,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Ip={isMounted:function(s){return(s=s._reactInternals)?gi(s)===s:!1},enqueueSetState:function(s,u,h){s=s._reactInternals;var v=sn(),_=Oo(s),j=Ia(v,_);j.payload=u,h!=null&&(j.callback=h),u=ko(s,j,_),u!==null&&(ji(u,s,_,v),_p(u,s,_))},enqueueReplaceState:function(s,u,h){s=s._reactInternals;var v=sn(),_=Oo(s),j=Ia(v,_);j.tag=1,j.payload=u,h!=null&&(j.callback=h),u=ko(s,j,_),u!==null&&(ji(u,s,_,v),_p(u,s,_))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var h=sn(),v=Oo(s),_=Ia(h,v);_.tag=2,u!=null&&(_.callback=u),u=ko(s,_,v),u!==null&&(ji(u,s,v,h),_p(u,s,v))}};function nj(s,u,h,v,_,j,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,j,F):u.prototype&&u.prototype.isPureReactComponent?!od(h,v)||!od(_,j):!0}function ij(s,u,h){var v=!1,_=Ao,j=u.contextType;return typeof j=="object"&&j!==null?j=Yn(j):(_=mn(u)?$s:Hr.current,v=u.contextTypes,j=(v=v!=null)?cu(s,_):Ao),u=new u(h,j),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ip,s.stateNode=u,u._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=j),u}function aj(s,u,h,v){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==s&&Ip.enqueueReplaceState(u,u.state,null)}function fb(s,u,h,v){var _=s.stateNode;_.props=h,_.state=s.memoizedState,_.refs={},Jv(s);var j=u.contextType;typeof j=="object"&&j!==null?_.context=Yn(j):(j=mn(u)?$s:Hr.current,_.context=cu(s,j)),_.state=s.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(db(s,u,j,h),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Ip.enqueueReplaceState(_,_.state,null),Sp(s,h,_,v),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function vu(s,u){try{var h="",v=u;do h+=xe(v),v=v.return;while(v);var _=h}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:u,stack:_,digest:null}}function hb(s,u,h){return{value:s,source:null,stack:h??null,digest:u??null}}function pb(s,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var BF=typeof WeakMap=="function"?WeakMap:Map;function oj(s,u,h){h=Ia(-1,h),h.tag=3,h.payload={element:null};var v=u.value;return h.callback=function(){Lp||(Lp=!0,kb=v),pb(s,u)},h}function sj(s,u,h){h=Ia(-1,h),h.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;h.payload=function(){return v(_)},h.callback=function(){pb(s,u)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){pb(s,u),typeof v!="function"&&(No===null?No=new Set([this]):No.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})}),h}function lj(s,u,h){var v=s.pingCache;if(v===null){v=s.pingCache=new BF;var _=new Set;v.set(u,_)}else _=v.get(u),_===void 0&&(_=new Set,v.set(u,_));_.has(h)||(_.add(h),s=rU.bind(null,s,u,h),u.then(s,s))}function uj(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function cj(s,u,h,v,_){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Ia(-1,1),u.tag=2,ko(h,u,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var zF=C.ReactCurrentOwner,gn=!1;function on(s,u,h,v){u.child=s===null?IP(u,null,h,v):pu(u,s.child,h,v)}function dj(s,u,h,v,_){h=h.render;var j=u.ref;return gu(u,_),v=ab(s,u,h,v,j,_),h=ob(),s!==null&&!gn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~_,Na(s,u,_)):(Ft&&h&&Bv(u),u.flags|=1,on(s,u,v,_),u.child)}function fj(s,u,h,v,_){if(s===null){var j=h.type;return typeof j=="function"&&!Db(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=j,hj(s,u,j,v,_)):(s=zp(h.type,null,v,u,u.mode,_),s.ref=u.ref,s.return=u,u.child=s)}if(j=s.child,(s.lanes&_)===0){var F=j.memoizedProps;if(h=h.compare,h=h!==null?h:od,h(F,v)&&s.ref===u.ref)return Na(s,u,_)}return u.flags|=1,s=Mo(j,v),s.ref=u.ref,s.return=u,u.child=s}function hj(s,u,h,v,_){if(s!==null){var j=s.memoizedProps;if(od(j,v)&&s.ref===u.ref)if(gn=!1,u.pendingProps=v=j,(s.lanes&_)!==0)(s.flags&131072)!==0&&(gn=!0);else return u.lanes=s.lanes,Na(s,u,_)}return mb(s,u,h,v,_)}function pj(s,u,h){var v=u.pendingProps,_=v.children,j=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(xu,Mn),Mn|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,kt(xu,Mn),Mn|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:h,kt(xu,Mn),Mn|=v}else j!==null?(v=j.baseLanes|h,u.memoizedState=null):v=h,kt(xu,Mn),Mn|=v;return on(s,u,_,h),u.child}function mj(s,u){var h=u.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function mb(s,u,h,v,_){var j=mn(h)?$s:Hr.current;return j=cu(u,j),gu(u,_),h=ab(s,u,h,v,j,_),v=ob(),s!==null&&!gn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~_,Na(s,u,_)):(Ft&&v&&Bv(u),u.flags|=1,on(s,u,h,_),u.child)}function gj(s,u,h,v,_){if(mn(h)){var j=!0;pp(u)}else j=!1;if(gu(u,_),u.stateNode===null)Cp(s,u),ij(u,h,v),fb(u,h,v,_),v=!0;else if(s===null){var F=u.stateNode,z=u.memoizedProps;F.props=z;var H=F.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=Yn(ie):(ie=mn(h)?$s:Hr.current,ie=cu(u,ie));var ye=h.getDerivedStateFromProps,ve=typeof ye=="function"||typeof F.getSnapshotBeforeUpdate=="function";ve||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(z!==v||H!==ie)&&aj(u,F,v,ie),jo=!1;var ge=u.memoizedState;F.state=ge,Sp(u,v,F,_),H=u.memoizedState,z!==v||ge!==H||pn.current||jo?(typeof ye=="function"&&(db(u,h,ye,v),H=u.memoizedState),(z=jo||nj(u,h,z,v,ge,H,ie))?(ve||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=H),F.props=v,F.state=H,F.context=ie,v=z):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{F=u.stateNode,CP(s,u),z=u.memoizedProps,ie=u.type===u.elementType?z:Ti(u.type,z),F.props=ie,ve=u.pendingProps,ge=F.context,H=h.contextType,typeof H=="object"&&H!==null?H=Yn(H):(H=mn(h)?$s:Hr.current,H=cu(u,H));var Pe=h.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(z!==ve||ge!==H)&&aj(u,F,v,H),jo=!1,ge=u.memoizedState,F.state=ge,Sp(u,v,F,_);var Ce=u.memoizedState;z!==ve||ge!==Ce||pn.current||jo?(typeof Pe=="function"&&(db(u,h,Pe,v),Ce=u.memoizedState),(ie=jo||nj(u,h,ie,v,ge,Ce,H)||!1)?(ye||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,Ce,H),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,Ce,H)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||z===s.memoizedProps&&ge===s.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&ge===s.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ce),F.props=v,F.state=Ce,F.context=H,v=ie):(typeof F.componentDidUpdate!="function"||z===s.memoizedProps&&ge===s.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&ge===s.memoizedState||(u.flags|=1024),v=!1)}return gb(s,u,h,v,j,_)}function gb(s,u,h,v,_,j){mj(s,u);var F=(u.flags&128)!==0;if(!v&&!F)return _&&wP(u,h,!1),Na(s,u,j);v=u.stateNode,zF.current=u;var z=F&&typeof h.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,s!==null&&F?(u.child=pu(u,s.child,null,j),u.child=pu(u,null,z,j)):on(s,u,z,j),u.memoizedState=v.state,_&&wP(u,h,!0),u.child}function yj(s){var u=s.stateNode;u.pendingContext?bP(s,u.pendingContext,u.pendingContext!==u.context):u.context&&bP(s,u.context,!1),Zv(s,u.containerInfo)}function vj(s,u,h,v,_){return hu(),Hv(_),u.flags|=256,on(s,u,h,v),u.child}var yb={dehydrated:null,treeContext:null,retryLane:0};function vb(s){return{baseLanes:s,cachePool:null,transitions:null}}function bj(s,u,h){var v=u.pendingProps,_=qt.current,j=!1,F=(u.flags&128)!==0,z;if((z=F)||(z=s!==null&&s.memoizedState===null?!1:(_&2)!==0),z?(j=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),kt(qt,_&1),s===null)return Wv(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(F=v.children,s=v.fallback,j?(v=u.mode,j=u.child,F={mode:"hidden",children:F},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=F):j=qp(F,v,0,null),s=Ks(s,v,h,null),j.return=u,s.return=u,j.sibling=s,u.child=j,u.child.memoizedState=vb(h),u.memoizedState=yb,s):bb(u,F));if(_=s.memoizedState,_!==null&&(z=_.dehydrated,z!==null))return qF(s,u,F,v,z,_,h);if(j){j=v.fallback,F=u.mode,_=s.child,z=_.sibling;var H={mode:"hidden",children:v.children};return(F&1)===0&&u.child!==_?(v=u.child,v.childLanes=0,v.pendingProps=H,u.deletions=null):(v=Mo(_,H),v.subtreeFlags=_.subtreeFlags&14680064),z!==null?j=Mo(z,j):(j=Ks(j,F,h,null),j.flags|=2),j.return=u,v.return=u,v.sibling=j,u.child=v,v=j,j=u.child,F=s.child.memoizedState,F=F===null?vb(h):{baseLanes:F.baseLanes|h,cachePool:null,transitions:F.transitions},j.memoizedState=F,j.childLanes=s.childLanes&~h,u.memoizedState=yb,v}return j=s.child,s=j.sibling,v=Mo(j,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=h),v.return=u,v.sibling=null,s!==null&&(h=u.deletions,h===null?(u.deletions=[s],u.flags|=16):h.push(s)),u.child=v,u.memoizedState=null,v}function bb(s,u){return u=qp({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function Np(s,u,h,v){return v!==null&&Hv(v),pu(u,s.child,null,h),s=bb(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function qF(s,u,h,v,_,j,F){if(h)return u.flags&256?(u.flags&=-257,v=hb(Error(r(422))),Np(s,u,F,v)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(j=v.fallback,_=u.mode,v=qp({mode:"visible",children:v.children},_,0,null),j=Ks(j,_,F,null),j.flags|=2,v.return=u,j.return=u,v.sibling=j,u.child=v,(u.mode&1)!==0&&pu(u,s.child,null,F),u.child.memoizedState=vb(F),u.memoizedState=yb,j);if((u.mode&1)===0)return Np(s,u,F,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var z=v.dgst;return v=z,j=Error(r(419)),v=hb(j,v,void 0),Np(s,u,F,v)}if(z=(F&s.childLanes)!==0,gn||z){if(v=Pr,v!==null){switch(F&-F){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|F))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,ka(s,_),ji(v,s,_,-1))}return Mb(),v=hb(Error(r(421))),Np(s,u,F,v)}return _.data==="$?"?(u.flags|=128,u.child=s.child,u=nU.bind(null,s),_._reactRetry=u,null):(s=j.treeContext,Rn=Eo(_.nextSibling),On=u,Ft=!0,Ei=null,s!==null&&(Kn[Xn++]=Pa,Kn[Xn++]=ja,Kn[Xn++]=Vs,Pa=s.id,ja=s.overflow,Vs=u),u=bb(u,v.children),u.flags|=4096,u)}function xj(s,u,h){s.lanes|=u;var v=s.alternate;v!==null&&(v.lanes|=u),Yv(s.return,u,h)}function xb(s,u,h,v,_){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:_}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=h,j.tailMode=_)}function wj(s,u,h){var v=u.pendingProps,_=v.revealOrder,j=v.tail;if(on(s,u,v.children,h),v=qt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xj(s,h,u);else if(s.tag===19)xj(s,h,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(kt(qt,v),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(h=u.child,_=null;h!==null;)s=h.alternate,s!==null&&Ep(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=u.child,u.child=null):(_=h.sibling,h.sibling=null),xb(u,!1,_,h,j);break;case"backwards":for(h=null,_=u.child,u.child=null;_!==null;){if(s=_.alternate,s!==null&&Ep(s)===null){u.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}xb(u,!0,h,null,j);break;case"together":xb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Cp(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function Na(s,u,h){if(s!==null&&(u.dependencies=s.dependencies),qs|=u.lanes,(h&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,h=Mo(s,s.pendingProps),u.child=h,h.return=u;s.sibling!==null;)s=s.sibling,h=h.sibling=Mo(s,s.pendingProps),h.return=u;h.sibling=null}return u.child}function WF(s,u,h){switch(u.tag){case 3:yj(u),hu();break;case 5:MP(u);break;case 1:mn(u.type)&&pp(u);break;case 4:Zv(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,_=u.memoizedProps.value;kt(xp,v._currentValue),v._currentValue=_;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(kt(qt,qt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?bj(s,u,h):(kt(qt,qt.current&1),s=Na(s,u,h),s!==null?s.sibling:null);kt(qt,qt.current&1);break;case 19:if(v=(h&u.childLanes)!==0,(s.flags&128)!==0){if(v)return wj(s,u,h);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),kt(qt,qt.current),v)break;return null;case 22:case 23:return u.lanes=0,pj(s,u,h)}return Na(s,u,h)}var _j,wb,Sj,Ej;_j=function(s,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},wb=function(){},Sj=function(s,u,h,v){var _=s.memoizedProps;if(_!==v){s=u.stateNode,Bs(Yi.current);var j=null;switch(h){case"input":_=We(s,_),v=We(s,v),j=[];break;case"select":_=ne({},_,{value:void 0}),v=ne({},v,{value:void 0}),j=[];break;case"textarea":_=me(s,_),v=me(s,v),j=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=dp)}ze(h,v);var F;h=null;for(ie in _)if(!v.hasOwnProperty(ie)&&_.hasOwnProperty(ie)&&_[ie]!=null)if(ie==="style"){var z=_[ie];for(F in z)z.hasOwnProperty(F)&&(h||(h={}),h[F]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?j||(j=[]):(j=j||[]).push(ie,null));for(ie in v){var H=v[ie];if(z=_!=null?_[ie]:void 0,v.hasOwnProperty(ie)&&H!==z&&(H!=null||z!=null))if(ie==="style")if(z){for(F in z)!z.hasOwnProperty(F)||H&&H.hasOwnProperty(F)||(h||(h={}),h[F]="");for(F in H)H.hasOwnProperty(F)&&z[F]!==H[F]&&(h||(h={}),h[F]=H[F])}else h||(j||(j=[]),j.push(ie,h)),h=H;else ie==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(j=j||[]).push(ie,H)):ie==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(ie,""+H):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(H!=null&&ie==="onScroll"&&Ot("scroll",s),j||z===H||(j=[])):(j=j||[]).push(ie,H))}h&&(j=j||[]).push("style",h);var ie=j;(u.updateQueue=ie)&&(u.flags|=4)}},Ej=function(s,u,h,v){h!==v&&(u.flags|=4)};function wd(s,u){if(!Ft)switch(s.tailMode){case"hidden":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Kr(s){var u=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(u)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=v,s.childLanes=h,u}function HF(s,u,h){var v=u.pendingProps;switch(zv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(u),null;case 1:return mn(u.type)&&hp(),Kr(u),null;case 3:return v=u.stateNode,yu(),Rt(pn),Rt(Hr),rb(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(vp(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ei!==null&&(Cb(Ei),Ei=null))),wb(s,u),Kr(u),null;case 5:eb(u);var _=Bs(gd.current);if(h=u.type,s!==null&&u.stateNode!=null)Sj(s,u,h,v,_),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Kr(u),null}if(s=Bs(Yi.current),vp(u)){v=u.stateNode,h=u.type;var j=u.memoizedProps;switch(v[Xi]=u,v[dd]=j,s=(u.mode&1)!==0,h){case"dialog":Ot("cancel",v),Ot("close",v);break;case"iframe":case"object":case"embed":Ot("load",v);break;case"video":case"audio":for(_=0;_<ld.length;_++)Ot(ld[_],v);break;case"source":Ot("error",v);break;case"img":case"image":case"link":Ot("error",v),Ot("load",v);break;case"details":Ot("toggle",v);break;case"input":gt(v,j),Ot("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},Ot("invalid",v);break;case"textarea":Xe(v,j),Ot("invalid",v)}ze(h,j),_=null;for(var F in j)if(j.hasOwnProperty(F)){var z=j[F];F==="children"?typeof z=="string"?v.textContent!==z&&(j.suppressHydrationWarning!==!0&&cp(v.textContent,z,s),_=["children",z]):typeof z=="number"&&v.textContent!==""+z&&(j.suppressHydrationWarning!==!0&&cp(v.textContent,z,s),_=["children",""+z]):i.hasOwnProperty(F)&&z!=null&&F==="onScroll"&&Ot("scroll",v)}switch(h){case"input":Le(v),ir(v,j,!0);break;case"textarea":Le(v),Kt(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=dp)}v=_,u.updateQueue=v,v!==null&&(u.flags|=4)}else{F=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Zt(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=F.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=F.createElement(h,{is:v.is}):(s=F.createElement(h),h==="select"&&(F=s,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):s=F.createElementNS(s,h),s[Xi]=u,s[dd]=v,_j(s,u,!1,!1),u.stateNode=s;e:{switch(F=jn(h,v),h){case"dialog":Ot("cancel",s),Ot("close",s),_=v;break;case"iframe":case"object":case"embed":Ot("load",s),_=v;break;case"video":case"audio":for(_=0;_<ld.length;_++)Ot(ld[_],s);_=v;break;case"source":Ot("error",s),_=v;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),_=v;break;case"details":Ot("toggle",s),_=v;break;case"input":gt(s,v),_=We(s,v),Ot("invalid",s);break;case"option":_=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},_=ne({},v,{value:void 0}),Ot("invalid",s);break;case"textarea":Xe(s,v),_=me(s,v),Ot("invalid",s);break;default:_=v}ze(h,_),z=_;for(j in z)if(z.hasOwnProperty(j)){var H=z[j];j==="style"?ho(s,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&_s(s,H)):j==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&fi(s,H):typeof H=="number"&&fi(s,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?H!=null&&j==="onScroll"&&Ot("scroll",s):H!=null&&N(s,j,H,F))}switch(h){case"input":Le(s),ir(s,v,!1);break;case"textarea":Le(s),Kt(s);break;case"option":v.value!=null&&s.setAttribute("value",""+Se(v.value));break;case"select":s.multiple=!!v.multiple,j=v.value,j!=null?$t(s,!!v.multiple,j,!1):v.defaultValue!=null&&$t(s,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=dp)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Kr(u),null;case 6:if(s&&u.stateNode!=null)Ej(s,u,s.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(h=Bs(gd.current),Bs(Yi.current),vp(u)){if(v=u.stateNode,h=u.memoizedProps,v[Xi]=u,(j=v.nodeValue!==h)&&(s=On,s!==null))switch(s.tag){case 3:cp(v.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&cp(v.nodeValue,h,(s.mode&1)!==0)}j&&(u.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Xi]=u,u.stateNode=v}return Kr(u),null;case 13:if(Rt(qt),v=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ft&&Rn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)PP(),hu(),u.flags|=98560,j=!1;else if(j=vp(u),v!==null&&v.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=u.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Xi]=u}else hu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kr(u),j=!1}else Ei!==null&&(Cb(Ei),Ei=null),j=!0;if(!j)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(qt.current&1)!==0?yr===0&&(yr=3):Mb())),u.updateQueue!==null&&(u.flags|=4),Kr(u),null);case 4:return yu(),wb(s,u),s===null&&ud(u.stateNode.containerInfo),Kr(u),null;case 10:return Xv(u.type._context),Kr(u),null;case 17:return mn(u.type)&&hp(),Kr(u),null;case 19:if(Rt(qt),j=u.memoizedState,j===null)return Kr(u),null;if(v=(u.flags&128)!==0,F=j.rendering,F===null)if(v)wd(j,!1);else{if(yr!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(F=Ep(s),F!==null){for(u.flags|=128,wd(j,!1),v=F.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=h,h=u.child;h!==null;)j=h,s=v,j.flags&=14680066,F=j.alternate,F===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=F.childLanes,j.lanes=F.lanes,j.child=F.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=F.memoizedProps,j.memoizedState=F.memoizedState,j.updateQueue=F.updateQueue,j.type=F.type,s=F.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return kt(qt,qt.current&1|2),u.child}s=s.sibling}j.tail!==null&&jt()>wu&&(u.flags|=128,v=!0,wd(j,!1),u.lanes=4194304)}else{if(!v)if(s=Ep(F),s!==null){if(u.flags|=128,v=!0,h=s.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),wd(j,!0),j.tail===null&&j.tailMode==="hidden"&&!F.alternate&&!Ft)return Kr(u),null}else 2*jt()-j.renderingStartTime>wu&&h!==1073741824&&(u.flags|=128,v=!0,wd(j,!1),u.lanes=4194304);j.isBackwards?(F.sibling=u.child,u.child=F):(h=j.last,h!==null?h.sibling=F:u.child=F,j.last=F)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=jt(),u.sibling=null,h=qt.current,kt(qt,v?h&1|2:h&1),u):(Kr(u),null);case 22:case 23:return Rb(),v=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Mn&1073741824)!==0&&(Kr(u),u.subtreeFlags&6&&(u.flags|=8192)):Kr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function GF(s,u){switch(zv(u),u.tag){case 1:return mn(u.type)&&hp(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return yu(),Rt(pn),Rt(Hr),rb(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return eb(u),null;case 13:if(Rt(qt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));hu()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Rt(qt),null;case 4:return yu(),null;case 10:return Xv(u.type._context),null;case 22:case 23:return Rb(),null;case 24:return null;default:return null}}var Op=!1,Xr=!1,KF=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function bu(s,u){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Yt(s,u,v)}else h.current=null}function _b(s,u,h){try{h()}catch(v){Yt(s,u,v)}}var Tj=!1;function XF(s,u){if(Rv=wo,s=nP(),Av(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var _=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var F=0,z=-1,H=-1,ie=0,ye=0,ve=s,ge=null;t:for(;;){for(var Pe;ve!==h||_!==0&&ve.nodeType!==3||(z=F+_),ve!==j||v!==0&&ve.nodeType!==3||(H=F+v),ve.nodeType===3&&(F+=ve.nodeValue.length),(Pe=ve.firstChild)!==null;)ge=ve,ve=Pe;for(;;){if(ve===s)break t;if(ge===h&&++ie===_&&(z=F),ge===j&&++ye===v&&(H=F),(Pe=ve.nextSibling)!==null)break;ve=ge,ge=ve.parentNode}ve=Pe}h=z===-1||H===-1?null:{start:z,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(Mv={focusedElem:s,selectionRange:h},wo=!1,Ie=u;Ie!==null;)if(u=Ie,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Ie=s;else for(;Ie!==null;){u=Ie;try{var Ce=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Me=Ce.memoizedProps,tr=Ce.memoizedState,Z=u.stateNode,K=Z.getSnapshotBeforeUpdate(u.elementType===u.type?Me:Ti(u.type,Me),tr);Z.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=u.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Yt(u,u.return,be)}if(s=u.sibling,s!==null){s.return=u.return,Ie=s;break}Ie=u.return}return Ce=Tj,Tj=!1,Ce}function _d(s,u,h){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&s)===s){var j=_.destroy;_.destroy=void 0,j!==void 0&&_b(u,h,j)}_=_.next}while(_!==v)}}function Rp(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&s)===s){var v=h.create;h.destroy=v()}h=h.next}while(h!==u)}}function Sb(s){var u=s.ref;if(u!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof u=="function"?u(s):u.current=s}}function Aj(s){var u=s.alternate;u!==null&&(s.alternate=null,Aj(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Xi],delete u[dd],delete u[Vv],delete u[NF],delete u[CF])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Pj(s){return s.tag===5||s.tag===3||s.tag===4}function jj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Pj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eb(s,u,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(s,u):h.insertBefore(s,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(s,h)):(u=h,u.appendChild(s)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=dp));else if(v!==4&&(s=s.child,s!==null))for(Eb(s,u,h),s=s.sibling;s!==null;)Eb(s,u,h),s=s.sibling}function Tb(s,u,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?h.insertBefore(s,u):h.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(Tb(s,u,h),s=s.sibling;s!==null;)Tb(s,u,h),s=s.sibling}var Lr=null,Ai=!1;function Io(s,u,h){for(h=h.child;h!==null;)kj(s,u,h),h=h.sibling}function kj(s,u,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Is,h)}catch{}switch(h.tag){case 5:Xr||bu(h,u);case 6:var v=Lr,_=Ai;Lr=null,Io(s,u,h),Lr=v,Ai=_,Lr!==null&&(Ai?(s=Lr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Lr.removeChild(h.stateNode));break;case 18:Lr!==null&&(Ai?(s=Lr,h=h.stateNode,s.nodeType===8?$v(s.parentNode,h):s.nodeType===1&&$v(s,h),wi(s)):$v(Lr,h.stateNode));break;case 4:v=Lr,_=Ai,Lr=h.stateNode.containerInfo,Ai=!0,Io(s,u,h),Lr=v,Ai=_;break;case 0:case 11:case 14:case 15:if(!Xr&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var j=_,F=j.destroy;j=j.tag,F!==void 0&&((j&2)!==0||(j&4)!==0)&&_b(h,u,F),_=_.next}while(_!==v)}Io(s,u,h);break;case 1:if(!Xr&&(bu(h,u),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(z){Yt(h,u,z)}Io(s,u,h);break;case 21:Io(s,u,h);break;case 22:h.mode&1?(Xr=(v=Xr)||h.memoizedState!==null,Io(s,u,h),Xr=v):Io(s,u,h);break;default:Io(s,u,h)}}function Ij(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new KF),u.forEach(function(v){var _=iU.bind(null,s,v);h.has(v)||(h.add(v),v.then(_,_))})}}function Pi(s,u){var h=u.deletions;if(h!==null)for(var v=0;v<h.length;v++){var _=h[v];try{var j=s,F=u,z=F;e:for(;z!==null;){switch(z.tag){case 5:Lr=z.stateNode,Ai=!1;break e;case 3:Lr=z.stateNode.containerInfo,Ai=!0;break e;case 4:Lr=z.stateNode.containerInfo,Ai=!0;break e}z=z.return}if(Lr===null)throw Error(r(160));kj(j,F,_),Lr=null,Ai=!1;var H=_.alternate;H!==null&&(H.return=null),_.return=null}catch(ie){Yt(_,u,ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Nj(u,s),u=u.sibling}function Nj(s,u){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Pi(u,s),Ji(s),v&4){try{_d(3,s,s.return),Rp(3,s)}catch(Me){Yt(s,s.return,Me)}try{_d(5,s,s.return)}catch(Me){Yt(s,s.return,Me)}}break;case 1:Pi(u,s),Ji(s),v&512&&h!==null&&bu(h,h.return);break;case 5:if(Pi(u,s),Ji(s),v&512&&h!==null&&bu(h,h.return),s.flags&32){var _=s.stateNode;try{fi(_,"")}catch(Me){Yt(s,s.return,Me)}}if(v&4&&(_=s.stateNode,_!=null)){var j=s.memoizedProps,F=h!==null?h.memoizedProps:j,z=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{z==="input"&&j.type==="radio"&&j.name!=null&&dt(_,j),jn(z,F);var ie=jn(z,j);for(F=0;F<H.length;F+=2){var ye=H[F],ve=H[F+1];ye==="style"?ho(_,ve):ye==="dangerouslySetInnerHTML"?_s(_,ve):ye==="children"?fi(_,ve):N(_,ye,ve,ie)}switch(z){case"input":_t(_,j);break;case"textarea":Ct(_,j);break;case"select":var ge=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Pe=j.value;Pe!=null?$t(_,!!j.multiple,Pe,!1):ge!==!!j.multiple&&(j.defaultValue!=null?$t(_,!!j.multiple,j.defaultValue,!0):$t(_,!!j.multiple,j.multiple?[]:"",!1))}_[dd]=j}catch(Me){Yt(s,s.return,Me)}}break;case 6:if(Pi(u,s),Ji(s),v&4){if(s.stateNode===null)throw Error(r(162));_=s.stateNode,j=s.memoizedProps;try{_.nodeValue=j}catch(Me){Yt(s,s.return,Me)}}break;case 3:if(Pi(u,s),Ji(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{wi(u.containerInfo)}catch(Me){Yt(s,s.return,Me)}break;case 4:Pi(u,s),Ji(s);break;case 13:Pi(u,s),Ji(s),_=s.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(jb=jt())),v&4&&Ij(s);break;case 22:if(ye=h!==null&&h.memoizedState!==null,s.mode&1?(Xr=(ie=Xr)||ye,Pi(u,s),Xr=ie):Pi(u,s),Ji(s),v&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!ye&&(s.mode&1)!==0)for(Ie=s,ye=s.child;ye!==null;){for(ve=Ie=ye;Ie!==null;){switch(ge=Ie,Pe=ge.child,ge.tag){case 0:case 11:case 14:case 15:_d(4,ge,ge.return);break;case 1:bu(ge,ge.return);var Ce=ge.stateNode;if(typeof Ce.componentWillUnmount=="function"){v=ge,h=ge.return;try{u=v,Ce.props=u.memoizedProps,Ce.state=u.memoizedState,Ce.componentWillUnmount()}catch(Me){Yt(v,h,Me)}}break;case 5:bu(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Rj(ve);continue}}Pe!==null?(Pe.return=ge,Ie=Pe):Rj(ve)}ye=ye.sibling}e:for(ye=null,ve=s;;){if(ve.tag===5){if(ye===null){ye=ve;try{_=ve.stateNode,ie?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(z=ve.stateNode,H=ve.memoizedProps.style,F=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Ss("display",F))}catch(Me){Yt(s,s.return,Me)}}}else if(ve.tag===6){if(ye===null)try{ve.stateNode.nodeValue=ie?"":ve.memoizedProps}catch(Me){Yt(s,s.return,Me)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===s)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===s)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===s)break e;ye===ve&&(ye=null),ve=ve.return}ye===ve&&(ye=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Pi(u,s),Ji(s),v&4&&Ij(s);break;case 21:break;default:Pi(u,s),Ji(s)}}function Ji(s){var u=s.flags;if(u&2){try{e:{for(var h=s.return;h!==null;){if(Pj(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(fi(_,""),v.flags&=-33);var j=jj(s);Tb(s,j,_);break;case 3:case 4:var F=v.stateNode.containerInfo,z=jj(s);Eb(s,z,F);break;default:throw Error(r(161))}}catch(H){Yt(s,s.return,H)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function YF(s,u,h){Ie=s,Cj(s)}function Cj(s,u,h){for(var v=(s.mode&1)!==0;Ie!==null;){var _=Ie,j=_.child;if(_.tag===22&&v){var F=_.memoizedState!==null||Op;if(!F){var z=_.alternate,H=z!==null&&z.memoizedState!==null||Xr;z=Op;var ie=Xr;if(Op=F,(Xr=H)&&!ie)for(Ie=_;Ie!==null;)F=Ie,H=F.child,F.tag===22&&F.memoizedState!==null?Mj(_):H!==null?(H.return=F,Ie=H):Mj(_);for(;j!==null;)Ie=j,Cj(j),j=j.sibling;Ie=_,Op=z,Xr=ie}Oj(s)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Ie=j):Oj(s)}}function Oj(s){for(;Ie!==null;){var u=Ie;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Xr||Rp(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Xr)if(h===null)v.componentDidMount();else{var _=u.elementType===u.type?h.memoizedProps:Ti(u.type,h.memoizedProps);v.componentDidUpdate(_,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=u.updateQueue;j!==null&&RP(u,j,v);break;case 3:var F=u.updateQueue;if(F!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}RP(u,F,h)}break;case 5:var z=u.stateNode;if(h===null&&u.flags&4){h=z;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ie=u.alternate;if(ie!==null){var ye=ie.memoizedState;if(ye!==null){var ve=ye.dehydrated;ve!==null&&wi(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xr||u.flags&512&&Sb(u)}catch(ge){Yt(u,u.return,ge)}}if(u===s){Ie=null;break}if(h=u.sibling,h!==null){h.return=u.return,Ie=h;break}Ie=u.return}}function Rj(s){for(;Ie!==null;){var u=Ie;if(u===s){Ie=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Ie=h;break}Ie=u.return}}function Mj(s){for(;Ie!==null;){var u=Ie;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Rp(4,u)}catch(H){Yt(u,h,H)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var _=u.return;try{v.componentDidMount()}catch(H){Yt(u,_,H)}}var j=u.return;try{Sb(u)}catch(H){Yt(u,j,H)}break;case 5:var F=u.return;try{Sb(u)}catch(H){Yt(u,F,H)}}}catch(H){Yt(u,u.return,H)}if(u===s){Ie=null;break}var z=u.sibling;if(z!==null){z.return=u.return,Ie=z;break}Ie=u.return}}var QF=Math.ceil,Mp=C.ReactCurrentDispatcher,Ab=C.ReactCurrentOwner,Jn=C.ReactCurrentBatchConfig,ct=0,Pr=null,or=null,$r=0,Mn=0,xu=To(0),yr=0,Sd=null,qs=0,Dp=0,Pb=0,Ed=null,yn=null,jb=0,wu=1/0,Ca=null,Lp=!1,kb=null,No=null,$p=!1,Co=null,Vp=0,Td=0,Ib=null,Fp=-1,Up=0;function sn(){return(ct&6)!==0?jt():Fp!==-1?Fp:Fp=jt()}function Oo(s){return(s.mode&1)===0?1:(ct&2)!==0&&$r!==0?$r&-$r:RF.transition!==null?(Up===0&&(Up=Cs()),Up):(s=st,s!==0||(s=window.event,s=s===void 0?16:Zc(s.type)),s)}function ji(s,u,h,v){if(50<Td)throw Td=0,Ib=null,Error(r(185));yo(s,h,v),((ct&2)===0||s!==Pr)&&(s===Pr&&((ct&2)===0&&(Dp|=h),yr===4&&Ro(s,$r)),vn(s,v),h===1&&ct===0&&(u.mode&1)===0&&(wu=jt()+500,mp&&Po()))}function vn(s,u){var h=s.callbackNode;xa(s,u);var v=Ns(s,s===Pr?$r:0);if(v===0)h!==null&&Kc(h),s.callbackNode=null,s.callbackPriority=0;else if(u=v&-v,s.callbackPriority!==u){if(h!=null&&Kc(h),u===1)s.tag===0?OF(Lj.bind(null,s)):_P(Lj.bind(null,s)),kF(function(){(ct&6)===0&&Po()}),h=null;else{switch(bo(v)){case 1:h=ks;break;case 4:h=po;break;case 16:h=Wn;break;case 536870912:h=Uh;break;default:h=Wn}h=Wj(h,Dj.bind(null,s))}s.callbackPriority=u,s.callbackNode=h}}function Dj(s,u){if(Fp=-1,Up=0,(ct&6)!==0)throw Error(r(327));var h=s.callbackNode;if(_u()&&s.callbackNode!==h)return null;var v=Ns(s,s===Pr?$r:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||u)u=Bp(s,v);else{u=v;var _=ct;ct|=2;var j=Vj();(Pr!==s||$r!==u)&&(Ca=null,wu=jt()+500,Hs(s,u));do try{eU();break}catch(z){$j(s,z)}while(!0);Kv(),Mp.current=j,ct=_,or!==null?u=0:(Pr=null,$r=0,u=yr)}if(u!==0){if(u===2&&(_=In(s),_!==0&&(v=_,u=Nb(s,_))),u===1)throw h=Sd,Hs(s,0),Ro(s,v),vn(s,jt()),h;if(u===6)Ro(s,v);else{if(_=s.current.alternate,(v&30)===0&&!JF(_)&&(u=Bp(s,v),u===2&&(j=In(s),j!==0&&(v=j,u=Nb(s,j))),u===1))throw h=Sd,Hs(s,0),Ro(s,v),vn(s,jt()),h;switch(s.finishedWork=_,s.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Gs(s,yn,Ca);break;case 3:if(Ro(s,v),(v&130023424)===v&&(u=jb+500-jt(),10<u)){if(Ns(s,0)!==0)break;if(_=s.suspendedLanes,(_&v)!==v){sn(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=Lv(Gs.bind(null,s,yn,Ca),u);break}Gs(s,yn,Ca);break;case 4:if(Ro(s,v),(v&4194240)===v)break;for(u=s.eventTimes,_=-1;0<v;){var F=31-nn(v);j=1<<F,F=u[F],F>_&&(_=F),v&=~j}if(v=_,v=jt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*QF(v/1960))-v,10<v){s.timeoutHandle=Lv(Gs.bind(null,s,yn,Ca),v);break}Gs(s,yn,Ca);break;case 5:Gs(s,yn,Ca);break;default:throw Error(r(329))}}}return vn(s,jt()),s.callbackNode===h?Dj.bind(null,s):null}function Nb(s,u){var h=Ed;return s.current.memoizedState.isDehydrated&&(Hs(s,u).flags|=256),s=Bp(s,u),s!==2&&(u=yn,yn=h,u!==null&&Cb(u)),s}function Cb(s){yn===null?yn=s:yn.push.apply(yn,s)}function JF(s){for(var u=s;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var _=h[v],j=_.getSnapshot;_=_.value;try{if(!Si(j(),_))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ro(s,u){for(u&=~Pb,u&=~Dp,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var h=31-nn(u),v=1<<h;s[h]=-1,u&=~v}}function Lj(s){if((ct&6)!==0)throw Error(r(327));_u();var u=Ns(s,0);if((u&1)===0)return vn(s,jt()),null;var h=Bp(s,u);if(s.tag!==0&&h===2){var v=In(s);v!==0&&(u=v,h=Nb(s,v))}if(h===1)throw h=Sd,Hs(s,0),Ro(s,u),vn(s,jt()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Gs(s,yn,Ca),vn(s,jt()),null}function Ob(s,u){var h=ct;ct|=1;try{return s(u)}finally{ct=h,ct===0&&(wu=jt()+500,mp&&Po())}}function Ws(s){Co!==null&&Co.tag===0&&(ct&6)===0&&_u();var u=ct;ct|=1;var h=Jn.transition,v=st;try{if(Jn.transition=null,st=1,s)return s()}finally{st=v,Jn.transition=h,ct=u,(ct&6)===0&&Po()}}function Rb(){Mn=xu.current,Rt(xu)}function Hs(s,u){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,jF(h)),or!==null)for(h=or.return;h!==null;){var v=h;switch(zv(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&hp();break;case 3:yu(),Rt(pn),Rt(Hr),rb();break;case 5:eb(v);break;case 4:yu();break;case 13:Rt(qt);break;case 19:Rt(qt);break;case 10:Xv(v.type._context);break;case 22:case 23:Rb()}h=h.return}if(Pr=s,or=s=Mo(s.current,null),$r=Mn=u,yr=0,Sd=null,Pb=Dp=qs=0,yn=Ed=null,Us!==null){for(u=0;u<Us.length;u++)if(h=Us[u],v=h.interleaved,v!==null){h.interleaved=null;var _=v.next,j=h.pending;if(j!==null){var F=j.next;j.next=_,v.next=F}h.pending=v}Us=null}return s}function $j(s,u){do{var h=or;try{if(Kv(),Tp.current=kp,Ap){for(var v=Wt.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Ap=!1}if(zs=0,Ar=gr=Wt=null,yd=!1,vd=0,Ab.current=null,h===null||h.return===null){yr=1,Sd=u,or=null;break}e:{var j=s,F=h.return,z=h,H=u;if(u=$r,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=H,ye=z,ve=ye.tag;if((ye.mode&1)===0&&(ve===0||ve===11||ve===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=uj(F);if(Pe!==null){Pe.flags&=-257,cj(Pe,F,z,j,u),Pe.mode&1&&lj(j,ie,u),u=Pe,H=ie;var Ce=u.updateQueue;if(Ce===null){var Me=new Set;Me.add(H),u.updateQueue=Me}else Ce.add(H);break e}else{if((u&1)===0){lj(j,ie,u),Mb();break e}H=Error(r(426))}}else if(Ft&&z.mode&1){var tr=uj(F);if(tr!==null){(tr.flags&65536)===0&&(tr.flags|=256),cj(tr,F,z,j,u),Hv(vu(H,z));break e}}j=H=vu(H,z),yr!==4&&(yr=2),Ed===null?Ed=[j]:Ed.push(j),j=F;do{switch(j.tag){case 3:j.flags|=65536,u&=-u,j.lanes|=u;var Z=oj(j,H,u);OP(j,Z);break e;case 1:z=H;var K=j.type,ee=j.stateNode;if((j.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(No===null||!No.has(ee)))){j.flags|=65536,u&=-u,j.lanes|=u;var be=sj(j,z,u);OP(j,be);break e}}j=j.return}while(j!==null)}Uj(h)}catch(De){u=De,or===h&&h!==null&&(or=h=h.return);continue}break}while(!0)}function Vj(){var s=Mp.current;return Mp.current=kp,s===null?kp:s}function Mb(){(yr===0||yr===3||yr===2)&&(yr=4),Pr===null||(qs&268435455)===0&&(Dp&268435455)===0||Ro(Pr,$r)}function Bp(s,u){var h=ct;ct|=2;var v=Vj();(Pr!==s||$r!==u)&&(Ca=null,Hs(s,u));do try{ZF();break}catch(_){$j(s,_)}while(!0);if(Kv(),ct=h,Mp.current=v,or!==null)throw Error(r(261));return Pr=null,$r=0,yr}function ZF(){for(;or!==null;)Fj(or)}function eU(){for(;or!==null&&!Vh();)Fj(or)}function Fj(s){var u=qj(s.alternate,s,Mn);s.memoizedProps=s.pendingProps,u===null?Uj(s):or=u,Ab.current=null}function Uj(s){var u=s;do{var h=u.alternate;if(s=u.return,(u.flags&32768)===0){if(h=HF(h,u,Mn),h!==null){or=h;return}}else{if(h=GF(h,u),h!==null){h.flags&=32767,or=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{yr=6,or=null;return}}if(u=u.sibling,u!==null){or=u;return}or=u=s}while(u!==null);yr===0&&(yr=5)}function Gs(s,u,h){var v=st,_=Jn.transition;try{Jn.transition=null,st=1,tU(s,u,h,v)}finally{Jn.transition=_,st=v}return null}function tU(s,u,h,v){do _u();while(Co!==null);if((ct&6)!==0)throw Error(r(327));h=s.finishedWork;var _=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(Tt(s,j),s===Pr&&(or=Pr=null,$r=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||$p||($p=!0,Wj(Wn,function(){return _u(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=Jn.transition,Jn.transition=null;var F=st;st=1;var z=ct;ct|=4,Ab.current=null,XF(s,h),Nj(h,s),wF(Mv),wo=!!Rv,Mv=Rv=null,s.current=h,YF(h),vv(),ct=z,st=F,Jn.transition=j}else s.current=h;if($p&&($p=!1,Co=s,Vp=_),j=s.pendingLanes,j===0&&(No=null),Bh(h.stateNode),vn(s,jt()),u!==null)for(v=s.onRecoverableError,h=0;h<u.length;h++)_=u[h],v(_.value,{componentStack:_.stack,digest:_.digest});if(Lp)throw Lp=!1,s=kb,kb=null,s;return(Vp&1)!==0&&s.tag!==0&&_u(),j=s.pendingLanes,(j&1)!==0?s===Ib?Td++:(Td=0,Ib=s):Td=0,Po(),null}function _u(){if(Co!==null){var s=bo(Vp),u=Jn.transition,h=st;try{if(Jn.transition=null,st=16>s?16:s,Co===null)var v=!1;else{if(s=Co,Co=null,Vp=0,(ct&6)!==0)throw Error(r(331));var _=ct;for(ct|=4,Ie=s.current;Ie!==null;){var j=Ie,F=j.child;if((Ie.flags&16)!==0){var z=j.deletions;if(z!==null){for(var H=0;H<z.length;H++){var ie=z[H];for(Ie=ie;Ie!==null;){var ye=Ie;switch(ye.tag){case 0:case 11:case 15:_d(8,ye,j)}var ve=ye.child;if(ve!==null)ve.return=ye,Ie=ve;else for(;Ie!==null;){ye=Ie;var ge=ye.sibling,Pe=ye.return;if(Aj(ye),ye===ie){Ie=null;break}if(ge!==null){ge.return=Pe,Ie=ge;break}Ie=Pe}}}var Ce=j.alternate;if(Ce!==null){var Me=Ce.child;if(Me!==null){Ce.child=null;do{var tr=Me.sibling;Me.sibling=null,Me=tr}while(Me!==null)}}Ie=j}}if((j.subtreeFlags&2064)!==0&&F!==null)F.return=j,Ie=F;else e:for(;Ie!==null;){if(j=Ie,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:_d(9,j,j.return)}var Z=j.sibling;if(Z!==null){Z.return=j.return,Ie=Z;break e}Ie=j.return}}var K=s.current;for(Ie=K;Ie!==null;){F=Ie;var ee=F.child;if((F.subtreeFlags&2064)!==0&&ee!==null)ee.return=F,Ie=ee;else e:for(F=K;Ie!==null;){if(z=Ie,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Rp(9,z)}}catch(De){Yt(z,z.return,De)}if(z===F){Ie=null;break e}var be=z.sibling;if(be!==null){be.return=z.return,Ie=be;break e}Ie=z.return}}if(ct=_,Po(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Is,s)}catch{}v=!0}return v}finally{st=h,Jn.transition=u}}return!1}function Bj(s,u,h){u=vu(h,u),u=oj(s,u,1),s=ko(s,u,1),u=sn(),s!==null&&(yo(s,1,u),vn(s,u))}function Yt(s,u,h){if(s.tag===3)Bj(s,s,h);else for(;u!==null;){if(u.tag===3){Bj(u,s,h);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(No===null||!No.has(v))){s=vu(h,s),s=sj(u,s,1),u=ko(u,s,1),s=sn(),u!==null&&(yo(u,1,s),vn(u,s));break}}u=u.return}}function rU(s,u,h){var v=s.pingCache;v!==null&&v.delete(u),u=sn(),s.pingedLanes|=s.suspendedLanes&h,Pr===s&&($r&h)===h&&(yr===4||yr===3&&($r&130023424)===$r&&500>jt()-jb?Hs(s,0):Pb|=h),vn(s,u)}function zj(s,u){u===0&&((s.mode&1)===0?u=1:(u=Wl,Wl<<=1,(Wl&130023424)===0&&(Wl=4194304)));var h=sn();s=ka(s,u),s!==null&&(yo(s,u,h),vn(s,h))}function nU(s){var u=s.memoizedState,h=0;u!==null&&(h=u.retryLane),zj(s,h)}function iU(s,u){var h=0;switch(s.tag){case 13:var v=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),zj(s,h)}var qj;qj=function(s,u,h){if(s!==null)if(s.memoizedProps!==u.pendingProps||pn.current)gn=!0;else{if((s.lanes&h)===0&&(u.flags&128)===0)return gn=!1,WF(s,u,h);gn=(s.flags&131072)!==0}else gn=!1,Ft&&(u.flags&1048576)!==0&&SP(u,yp,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Cp(s,u),s=u.pendingProps;var _=cu(u,Hr.current);gu(u,h),_=ab(null,u,v,s,_,h);var j=ob();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,mn(v)?(j=!0,pp(u)):j=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Jv(u),_.updater=Ip,u.stateNode=_,_._reactInternals=u,fb(u,v,s,h),u=gb(null,u,v,!0,j,h)):(u.tag=0,Ft&&j&&Bv(u),on(null,u,_,h),u=u.child),u;case 16:v=u.elementType;e:{switch(Cp(s,u),s=u.pendingProps,_=v._init,v=_(v._payload),u.type=v,_=u.tag=oU(v),s=Ti(v,s),_){case 0:u=mb(null,u,v,s,h);break e;case 1:u=gj(null,u,v,s,h);break e;case 11:u=dj(null,u,v,s,h);break e;case 14:u=fj(null,u,v,Ti(v.type,s),h);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ti(v,_),mb(s,u,v,_,h);case 1:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ti(v,_),gj(s,u,v,_,h);case 3:e:{if(yj(u),s===null)throw Error(r(387));v=u.pendingProps,j=u.memoizedState,_=j.element,CP(s,u),Sp(u,v,null,h);var F=u.memoizedState;if(v=F.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){_=vu(Error(r(423)),u),u=vj(s,u,v,h,_);break e}else if(v!==_){_=vu(Error(r(424)),u),u=vj(s,u,v,h,_);break e}else for(Rn=Eo(u.stateNode.containerInfo.firstChild),On=u,Ft=!0,Ei=null,h=IP(u,null,v,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(hu(),v===_){u=Na(s,u,h);break e}on(s,u,v,h)}u=u.child}return u;case 5:return MP(u),s===null&&Wv(u),v=u.type,_=u.pendingProps,j=s!==null?s.memoizedProps:null,F=_.children,Dv(v,_)?F=null:j!==null&&Dv(v,j)&&(u.flags|=32),mj(s,u),on(s,u,F,h),u.child;case 6:return s===null&&Wv(u),null;case 13:return bj(s,u,h);case 4:return Zv(u,u.stateNode.containerInfo),v=u.pendingProps,s===null?u.child=pu(u,null,v,h):on(s,u,v,h),u.child;case 11:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ti(v,_),dj(s,u,v,_,h);case 7:return on(s,u,u.pendingProps,h),u.child;case 8:return on(s,u,u.pendingProps.children,h),u.child;case 12:return on(s,u,u.pendingProps.children,h),u.child;case 10:e:{if(v=u.type._context,_=u.pendingProps,j=u.memoizedProps,F=_.value,kt(xp,v._currentValue),v._currentValue=F,j!==null)if(Si(j.value,F)){if(j.children===_.children&&!pn.current){u=Na(s,u,h);break e}}else for(j=u.child,j!==null&&(j.return=u);j!==null;){var z=j.dependencies;if(z!==null){F=j.child;for(var H=z.firstContext;H!==null;){if(H.context===v){if(j.tag===1){H=Ia(-1,h&-h),H.tag=2;var ie=j.updateQueue;if(ie!==null){ie=ie.shared;var ye=ie.pending;ye===null?H.next=H:(H.next=ye.next,ye.next=H),ie.pending=H}}j.lanes|=h,H=j.alternate,H!==null&&(H.lanes|=h),Yv(j.return,h,u),z.lanes|=h;break}H=H.next}}else if(j.tag===10)F=j.type===u.type?null:j.child;else if(j.tag===18){if(F=j.return,F===null)throw Error(r(341));F.lanes|=h,z=F.alternate,z!==null&&(z.lanes|=h),Yv(F,h,u),F=j.sibling}else F=j.child;if(F!==null)F.return=j;else for(F=j;F!==null;){if(F===u){F=null;break}if(j=F.sibling,j!==null){j.return=F.return,F=j;break}F=F.return}j=F}on(s,u,_.children,h),u=u.child}return u;case 9:return _=u.type,v=u.pendingProps.children,gu(u,h),_=Yn(_),v=v(_),u.flags|=1,on(s,u,v,h),u.child;case 14:return v=u.type,_=Ti(v,u.pendingProps),_=Ti(v.type,_),fj(s,u,v,_,h);case 15:return hj(s,u,u.type,u.pendingProps,h);case 17:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Ti(v,_),Cp(s,u),u.tag=1,mn(v)?(s=!0,pp(u)):s=!1,gu(u,h),ij(u,v,_),fb(u,v,_,h),gb(null,u,v,!0,s,h);case 19:return wj(s,u,h);case 22:return pj(s,u,h)}throw Error(r(156,u.tag))};function Wj(s,u){return zl(s,u)}function aU(s,u,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,u,h,v){return new aU(s,u,h,v)}function Db(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oU(s){if(typeof s=="function")return Db(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Y)return 14}return 2}function Mo(s,u){var h=s.alternate;return h===null?(h=Zn(s.tag,u,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=u,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,u=s.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function zp(s,u,h,v,_,j){var F=2;if(v=s,typeof s=="function")Db(s)&&(F=1);else if(typeof s=="string")F=5;else e:switch(s){case P:return Ks(h.children,_,j,u);case I:F=8,_|=8;break;case M:return s=Zn(12,h,u,_|2),s.elementType=M,s.lanes=j,s;case L:return s=Zn(13,h,u,_),s.elementType=L,s.lanes=j,s;case W:return s=Zn(19,h,u,_),s.elementType=W,s.lanes=j,s;case re:return qp(h,_,j,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:F=10;break e;case $:F=9;break e;case V:F=11;break e;case Y:F=14;break e;case te:F=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return u=Zn(F,h,u,_),u.elementType=s,u.type=v,u.lanes=j,u}function Ks(s,u,h,v){return s=Zn(7,s,v,u),s.lanes=h,s}function qp(s,u,h,v){return s=Zn(22,s,v,u),s.elementType=re,s.lanes=h,s.stateNode={isHidden:!1},s}function Lb(s,u,h){return s=Zn(6,s,null,u),s.lanes=h,s}function $b(s,u,h){return u=Zn(4,s.children!==null?s.children:[],s.key,u),u.lanes=h,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function sU(s,u,h,v,_){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=go(0),this.expirationTimes=go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Vb(s,u,h,v,_,j,F,z,H){return s=new sU(s,u,h,z,H),u===1?(u=1,j===!0&&(u|=8)):u=0,j=Zn(3,null,null,u),s.current=j,j.stateNode=s,j.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jv(j),s}function lU(s,u,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:v==null?null:""+v,children:s,containerInfo:u,implementation:h}}function Hj(s){if(!s)return Ao;s=s._reactInternals;e:{if(gi(s)!==s||s.tag!==1)throw Error(r(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(mn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(mn(h))return xP(s,h,u)}return u}function Gj(s,u,h,v,_,j,F,z,H){return s=Vb(h,v,!0,s,_,j,F,z,H),s.context=Hj(null),h=s.current,v=sn(),_=Oo(h),j=Ia(v,_),j.callback=u??null,ko(h,j,_),s.current.lanes=_,yo(s,_,v),vn(s,v),s}function Wp(s,u,h,v){var _=u.current,j=sn(),F=Oo(_);return h=Hj(h),u.context===null?u.context=h:u.pendingContext=h,u=Ia(j,F),u.payload={element:s},v=v===void 0?null:v,v!==null&&(u.callback=v),s=ko(_,u,F),s!==null&&(ji(s,_,F,j),_p(s,_,F)),F}function Hp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Kj(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<u?h:u}}function Fb(s,u){Kj(s,u),(s=s.alternate)&&Kj(s,u)}function uU(){return null}var Xj=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ub(s){this._internalRoot=s}Gp.prototype.render=Ub.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));Wp(s,u,null,null)},Gp.prototype.unmount=Ub.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Ws(function(){Wp(null,s,null,null)}),u[Ta]=null}};function Gp(s){this._internalRoot=s}Gp.prototype.unstable_scheduleHydration=function(s){if(s){var u=Gh();s={blockedOn:null,target:s,priority:u};for(var h=0;h<Wi.length&&u!==0&&u<Wi[h].priority;h++);Wi.splice(h,0,s),h===0&&Yh(s)}};function Bb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Kp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Yj(){}function cU(s,u,h,v,_){if(_){if(typeof v=="function"){var j=v;v=function(){var ie=Hp(F);j.call(ie)}}var F=Gj(u,v,s,0,null,!1,!1,"",Yj);return s._reactRootContainer=F,s[Ta]=F.current,ud(s.nodeType===8?s.parentNode:s),Ws(),F}for(;_=s.lastChild;)s.removeChild(_);if(typeof v=="function"){var z=v;v=function(){var ie=Hp(H);z.call(ie)}}var H=Vb(s,0,!1,null,null,!1,!1,"",Yj);return s._reactRootContainer=H,s[Ta]=H.current,ud(s.nodeType===8?s.parentNode:s),Ws(function(){Wp(u,H,h,v)}),H}function Xp(s,u,h,v,_){var j=h._reactRootContainer;if(j){var F=j;if(typeof _=="function"){var z=_;_=function(){var H=Hp(F);z.call(H)}}Wp(u,F,s,_)}else F=cU(h,u,s,_,v);return Hp(F)}Wh=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var h=mo(u.pendingLanes);h!==0&&(vo(u,h|1),vn(u,jt()),(ct&6)===0&&(wu=jt()+500,Po()))}break;case 13:Ws(function(){var v=ka(s,1);if(v!==null){var _=sn();ji(v,s,1,_)}}),Fb(s,1)}},Hl=function(s){if(s.tag===13){var u=ka(s,134217728);if(u!==null){var h=sn();ji(u,s,134217728,h)}Fb(s,134217728)}},Hh=function(s){if(s.tag===13){var u=Oo(s),h=ka(s,u);if(h!==null){var v=sn();ji(h,s,u,v)}Fb(s,u)}},Gh=function(){return st},Kh=function(s,u){var h=st;try{return st=s,u()}finally{st=h}},Ll=function(s,u,h){switch(u){case"input":if(_t(s,h),u=h.name,h.type==="radio"&&u!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var v=h[u];if(v!==s&&v.form===s.form){var _=fp(v);if(!_)throw Error(r(90));pe(v),_t(v,_)}}}break;case"textarea":Ct(s,h);break;case"select":u=h.value,u!=null&&$t(s,!!h.multiple,u,!1)}},Ts=Ob,qc=Ws;var dU={usingClientEntryPoint:!1,Events:[fd,lu,fp,zi,zc,Ob]},Ad={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fU={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Gc(s),s===null?null:s.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||uU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{Is=Yp.inject(fU),kn=Yp}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dU,bn.createPortal=function(s,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bb(u))throw Error(r(200));return lU(s,u,null,h)},bn.createRoot=function(s,u){if(!Bb(s))throw Error(r(299));var h=!1,v="",_=Xj;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=Vb(s,1,!1,null,null,h,!1,v,_),s[Ta]=u.current,ud(s.nodeType===8?s.parentNode:s),new Ub(u)},bn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Gc(u),s=s===null?null:s.stateNode,s},bn.flushSync=function(s){return Ws(s)},bn.hydrate=function(s,u,h){if(!Kp(u))throw Error(r(200));return Xp(null,s,u,!0,h)},bn.hydrateRoot=function(s,u,h){if(!Bb(s))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,_=!1,j="",F=Xj;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(F=h.onRecoverableError)),u=Gj(u,null,s,1,h??null,_,!1,j,F),s[Ta]=u.current,ud(s),v)for(s=0;s<v.length;s++)h=v[s],_=h._getVersion,_=_(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,_]:u.mutableSourceEagerHydrationData.push(h,_);return new Gp(u)},bn.render=function(s,u,h){if(!Kp(u))throw Error(r(200));return Xp(null,s,u,!1,h)},bn.unmountComponentAtNode=function(s){if(!Kp(s))throw Error(r(40));return s._reactRootContainer?(Ws(function(){Xp(null,null,s,!1,function(){s._reactRootContainer=null,s[Ta]=null})}),!0):!1},bn.unstable_batchedUpdates=Ob,bn.unstable_renderSubtreeIntoContainer=function(s,u,h,v){if(!Kp(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Xp(s,u,h,!1,v)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var ik;function p4(){if(ik)return Wb.exports;ik=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wb.exports=wU(),Wb.exports}var ak;function _U(){if(ak)return Jp;ak=1;var t=p4();return Jp.createRoot=t.createRoot,Jp.hydrateRoot=t.hydrateRoot,Jp}var SU=_U();p4();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ff.apply(this,arguments)}var Ho;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ho||(Ho={}));const ok="popstate";function EU(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:l="",hash:c=""}=El(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_1("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof a=="string"?a:Om(a))}function n(i,a){ty(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return AU(e,r,n,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ty(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TU(){return Math.random().toString(36).substr(2,8)}function sk(t,e){return{usr:t.state,key:t.key,idx:e}}function _1(t,e,r,n){return r===void 0&&(r=null),ff({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?El(e):e,{state:r,key:e&&e.key||n||TU()})}function Om(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function El(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function AU(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Ho.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(ff({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=Ho.Pop;let b=p(),E=b==null?null:b-d;d=b,c&&c({action:l,location:w.location,delta:E})}function y(b,E){l=Ho.Push;let T=_1(w.location,b,E);r&&r(T,b),d=p()+1;let N=sk(T,d),C=w.createHref(T);try{o.pushState(N,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(C)}a&&c&&c({action:l,location:w.location,delta:1})}function x(b,E){l=Ho.Replace;let T=_1(w.location,b,E);r&&r(T,b),d=p();let N=sk(T,d),C=w.createHref(T);o.replaceState(N,"",C),a&&c&&c({action:l,location:w.location,delta:0})}function S(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof b=="string"?b:Om(b);return T=T.replace(/ $/,"%20"),Ht(E,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,E)}let w={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ok,m),c=b,()=>{i.removeEventListener(ok,m),c=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let E=S(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:x,go(b){return o.go(b)}};return w}var lk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lk||(lk={}));function PU(t,e,r){return r===void 0&&(r="/"),jU(t,e,r)}function jU(t,e,r,n){let i=typeof e=="string"?El(e):e,a=Hu(i.pathname||"/",r);if(a==null)return null;let o=m4(t);kU(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=FU(a);l=$U(o[c],d)}return l}function m4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Yo([n,c.relativePath]),p=r.concat(c);a.children&&a.children.length>0&&(Ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),m4(a.children,e,p,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:DU(d,a.index),routesMeta:p})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of g4(a.path))i(a,o,c)}),e}function g4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=g4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function kU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:LU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IU=/^:[\w-]+$/,NU=3,CU=2,OU=1,RU=10,MU=-2,uk=t=>t==="*";function DU(t,e){let r=t.split("/"),n=r.length;return r.some(uk)&&(n+=MU),e&&(n+=CU),r.filter(i=>!uk(i)).reduce((i,a)=>i+(IU.test(a)?NU:a===""?OU:RU),n)}function LU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $U(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=S1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Yo([a,m.pathname]),pathnameBase:WU(Yo([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Yo([a,m.pathnameBase]))}return o}function S1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=VU(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,p,m)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let w=l[m]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const S=l[m];return x&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function VU(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ty(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function FU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ty(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const UU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BU=t=>UU.test(t);function zU(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?El(t):t,a;if(r)if(BU(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ty(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=ck(r.substring(1),"/"):a=ck(r,e)}else a=e;return{pathname:a,search:HU(n),hash:GU(i)}}function ck(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Kb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kE(t,e){let r=qU(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=El(t):(i=ff({},t),Ht(!i.pathname||!i.pathname.includes("?"),Kb("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),Kb("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),Kb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let c=zU(i,l),d=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Yo=t=>t.join("/").replace(/\/\/+/g,"/"),WU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y4=["post","put","patch","delete"];new Set(y4);const XU=["get",...y4];new Set(XU);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}const ry=D.createContext(null),v4=D.createContext(null),ao=D.createContext(null),ny=D.createContext(null),pa=D.createContext({outlet:null,matches:[],isDataRoute:!1}),b4=D.createContext(null);function YU(t,e){let{relative:r}=e===void 0?{}:e;Ac()||Ht(!1);let{basename:n,navigator:i}=D.useContext(ao),{hash:a,pathname:o,search:l}=iy(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Yo([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Ac(){return D.useContext(ny)!=null}function Tl(){return Ac()||Ht(!1),D.useContext(ny).location}function x4(t){D.useContext(ao).static||D.useLayoutEffect(t)}function ma(){let{isDataRoute:t}=D.useContext(pa);return t?dB():QU()}function QU(){Ac()||Ht(!1);let t=D.useContext(ry),{basename:e,future:r,navigator:n}=D.useContext(ao),{matches:i}=D.useContext(pa),{pathname:a}=Tl(),o=JSON.stringify(kE(i,r.v7_relativeSplatPath)),l=D.useRef(!1);return x4(()=>{l.current=!0}),D.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=IE(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Yo([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,a,t])}const JU=D.createContext(null);function ZU(t){let e=D.useContext(pa).outlet;return e&&D.createElement(JU.Provider,{value:t},e)}function w4(){let{matches:t}=D.useContext(pa),e=t[t.length-1];return e?e.params:{}}function iy(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(ao),{matches:i}=D.useContext(pa),{pathname:a}=Tl(),o=JSON.stringify(kE(i,n.v7_relativeSplatPath));return D.useMemo(()=>IE(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function eB(t,e){return tB(t,e)}function tB(t,e,r,n){Ac()||Ht(!1);let{navigator:i}=D.useContext(ao),{matches:a}=D.useContext(pa),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Tl(),p;if(e){var m;let b=typeof e=="string"?El(e):e;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Ht(!1),p=b}else p=d;let y=p.pathname||"/",x=y;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=PU(t,{pathname:x}),w=oB(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Yo([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Yo([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&w?D.createElement(ny.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ho.Pop}},w):w}function rB(){let t=cB(),e=KU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const nB=D.createElement(rB,null);class iB extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(pa.Provider,{value:this.props.routeContext},D.createElement(b4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aB(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(ry);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(pa.Provider,{value:e},n)}function oB(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||Ht(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:x}=r,S=m.route.loader&&y[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let x,S=!1,w=null,b=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||nB,c&&(d<0&&y===0?(fB("route-fallback"),S=!0,b=null):d===y&&(S=!0,b=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,y+1)),T=()=>{let N;return x?N=w:S?N=b:m.route.Component?N=D.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=p,D.createElement(aB,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:r!=null},children:N})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?D.createElement(iB,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}var _4=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(_4||{}),S4=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(S4||{});function sB(t){let e=D.useContext(ry);return e||Ht(!1),e}function lB(t){let e=D.useContext(v4);return e||Ht(!1),e}function uB(t){let e=D.useContext(pa);return e||Ht(!1),e}function E4(t){let e=uB(),r=e.matches[e.matches.length-1];return r.route.id||Ht(!1),r.route.id}function cB(){var t;let e=D.useContext(b4),r=lB(),n=E4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function dB(){let{router:t}=sB(_4.UseNavigateStable),e=E4(S4.UseNavigateStable),r=D.useRef(!1);return x4(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hf({fromRouteId:e},a)))},[t,e])}const dk={};function fB(t,e,r){dk[t]||(dk[t]=!0)}function hB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function E1(t){let{to:e,replace:r,state:n,relative:i}=t;Ac()||Ht(!1);let{future:a,static:o}=D.useContext(ao),{matches:l}=D.useContext(pa),{pathname:c}=Tl(),d=ma(),p=IE(e,kE(l,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return D.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:i}),[d,m,i,r,n]),null}function T4(t){return ZU(t.context)}function br(t){Ht(!1)}function pB(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ho.Pop,navigator:a,static:o=!1,future:l}=t;Ac()&&Ht(!1);let c=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:a,static:o,future:hf({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=El(n));let{pathname:p="/",search:m="",hash:y="",state:x=null,key:S="default"}=n,w=D.useMemo(()=>{let b=Hu(p,c);return b==null?null:{location:{pathname:b,search:m,hash:y,state:x,key:S},navigationType:i}},[c,p,m,y,x,S,i]);return w==null?null:D.createElement(ao.Provider,{value:d},D.createElement(ny.Provider,{children:r,value:w}))}function mB(t){let{children:e,location:r}=t;return eB(T1(e),r)}new Promise(()=>{});function T1(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,T1(n.props.children,a));return}n.type!==br&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=T1(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}function A4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function gB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yB(t,e){return t.button===0&&(!e||e==="_self")&&!gB(t)}const vB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bB=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],xB="6";try{window.__reactRouterVersion=xB}catch{}const wB=D.createContext({isTransitioning:!1}),_B="startTransition",fk=vU[_B];function SB(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=EU({window:i,v5Compat:!0}));let o=a.current,[l,c]=D.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},p=D.useCallback(m=>{d&&fk?fk(()=>c(m)):c(m)},[c,d]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.useEffect(()=>hB(n),[n]),D.createElement(pB,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const EB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:m}=e,y=A4(e,vB),{basename:x}=D.useContext(ao),S,w=!1;if(typeof d=="string"&&TB.test(d)&&(S=d,EB))try{let N=new URL(window.location.href),C=d.startsWith("//")?new URL(N.protocol+d):new URL(d),k=Hu(C.pathname,x);C.origin===N.origin&&k!=null?d=k+C.search+C.hash:w=!0}catch{}let b=YU(d,{relative:i}),E=PB(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function T(N){n&&n(N),N.defaultPrevented||E(N)}return D.createElement("a",Rm({},y,{href:S||b,onClick:w||a?n:T,ref:r,target:c}))}),wm=D.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p}=e,m=A4(e,bB),y=iy(c,{relative:m.relative}),x=Tl(),S=D.useContext(v4),{navigator:w,basename:b}=D.useContext(ao),E=S!=null&&jB(y)&&d===!0,T=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,N=x.pathname,C=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(N=N.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&b&&(C=Hu(C,b)||C);const k=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=N===T||!o&&N.startsWith(T)&&N.charAt(k)==="/",P=C!=null&&(C===T||!o&&C.startsWith(T)&&C.charAt(T.length)==="/"),I={isActive:O,isPending:P,isTransitioning:E},M=O?n:void 0,U;typeof a=="function"?U=a(I):U=[a,O?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(I):l;return D.createElement(Vn,Rm({},m,{"aria-current":M,className:U,ref:r,style:$,to:c,viewTransition:d}),typeof p=="function"?p(I):p)});var A1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A1||(A1={}));var hk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hk||(hk={}));function AB(t){let e=D.useContext(ry);return e||Ht(!1),e}function PB(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=ma(),d=Tl(),p=iy(t,{relative:o});return D.useCallback(m=>{if(yB(m,r)){m.preventDefault();let y=n!==void 0?n:Om(d)===Om(p);c(t,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,p,n,i,r,t,a,o,l])}function jB(t,e){e===void 0&&(e={});let r=D.useContext(wB);r==null&&Ht(!1);let{basename:n}=AB(A1.useViewTransitionState),i=iy(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Hu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Hu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return S1(i.pathname,o)!=null||S1(i.pathname,a)!=null}const kB=()=>{};var pk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},IB=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},j4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=a>>2,m=(a&3)<<4|l>>4;let y=(l&15)<<2|d>>6,x=d&63;c||(x=64,o||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new NB;const y=a<<2|l>>4;if(n.push(y),d!==64){const x=l<<4&240|d>>2;if(n.push(x),m!==64){const S=d<<6&192|m;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CB=function(t){const e=P4(t);return j4.encodeByteArray(e,!0)},Mm=function(t){return CB(t).replace(/\./g,"")},k4=function(t){try{return j4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=()=>OB().__FIREBASE_DEFAULTS__,MB=()=>{if(typeof process>"u"||typeof pk>"u")return;const t=pk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k4(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return kB()||RB()||MB()||DB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I4=t=>{var e,r;return(r=(e=ay())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},LB=t=>{const e=I4(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},N4=()=>{var t;return(t=ay())===null||t===void 0?void 0:t.config},C4=t=>{var e;return(e=ay())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mm(JSON.stringify(r)),Mm(JSON.stringify(o)),""].join(".")}const Qd={};function FB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qd))Qd[e]?t.emulator.push(e):t.prod.push(e);return t}function UB(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let mk=!1;function R4(t,e){if(typeof window>"u"||typeof document>"u"||!Pc(window.location.host)||Qd[t]===e||Qd[t]||mk)return;Qd[t]=e;function r(y){return`__firebase__banner__${y}`}const n="__firebase__banner",a=FB().prod.length>0;function o(){const y=document.getElementById(n);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{mk=!0,o()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=UB(n),x=r("text"),S=document.getElementById(x)||document.createElement("span"),w=r("learnmore"),b=document.getElementById(w)||document.createElement("a"),E=r("preprendIcon"),T=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const N=y.element;l(N),p(b,w);const C=d();c(T,E),N.append(T,S,b,C),document.body.appendChild(N)}a?(S.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function zB(){var t;const e=(t=ay())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GB(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KB(){return!zB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XB(){try{return typeof indexedDB=="object"}catch{return!1}}function YB(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="FirebaseError";class oo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=QB,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?JB(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new oo(i,l,n)}}function JB(t,e){return t.replace(ZB,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const ZB=/\{\$([^}]+)}/g;function ez(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(gk(a)&&gk(o)){if(!Ya(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function gk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ud(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function tz(t,e){const r=new rz(t,e);return r.subscribe.bind(r)}class rz{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");nz(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Xb),i.error===void 0&&(i.error=Xb),i.complete===void 0&&(i.complete=Xb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nz(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Xb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class hl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $B;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oz(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:az(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function az(t){return t===Js?void 0:t}function oz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new iz(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const lz={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},uz=it.INFO,cz={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},dz=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=cz[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NE{constructor(e){this.name=e,this._logLevel=uz,this._logHandler=dz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const fz=(t,e)=>e.some(r=>t instanceof r);let yk,vk;function hz(){return yk||(yk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pz(){return vk||(vk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M4=new WeakMap,P1=new WeakMap,D4=new WeakMap,Yb=new WeakMap,CE=new WeakMap;function mz(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Qo(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&M4.set(r,t)}).catch(()=>{}),CE.set(e,t),e}function gz(t){if(P1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});P1.set(t,e)}let j1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return P1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yz(t){j1=t(j1)}function vz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Qb(this),e,...r);return D4.set(n,e.sort?e.sort():[e]),Qo(n)}:pz().includes(t)?function(...e){return t.apply(Qb(this),e),Qo(M4.get(this))}:function(...e){return Qo(t.apply(Qb(this),e))}}function bz(t){return typeof t=="function"?vz(t):(t instanceof IDBTransaction&&gz(t),fz(t,hz())?new Proxy(t,j1):t)}function Qo(t){if(t instanceof IDBRequest)return mz(t);if(Yb.has(t))return Yb.get(t);const e=bz(t);return e!==t&&(Yb.set(t,e),CE.set(e,t)),e}const Qb=t=>CE.get(t);function xz(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Qo(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Qo(o.result),c.oldVersion,c.newVersion,Qo(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const wz=["get","getKey","getAll","getAllKeys","count"],_z=["put","add","delete","clear"],Jb=new Map;function bk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jb.get(e))return Jb.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=_z.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||wz.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return Jb.set(e,a),a}yz(t=>({...t,get:(e,r,n)=>bk(e,r)||t.get(e,r,n),has:(e,r)=>!!bk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ez(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Ez(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k1="@firebase/app",xk="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new NE("@firebase/app"),Tz="@firebase/app-compat",Az="@firebase/analytics-compat",Pz="@firebase/analytics",jz="@firebase/app-check-compat",kz="@firebase/app-check",Iz="@firebase/auth",Nz="@firebase/auth-compat",Cz="@firebase/database",Oz="@firebase/data-connect",Rz="@firebase/database-compat",Mz="@firebase/functions",Dz="@firebase/functions-compat",Lz="@firebase/installations",$z="@firebase/installations-compat",Vz="@firebase/messaging",Fz="@firebase/messaging-compat",Uz="@firebase/performance",Bz="@firebase/performance-compat",zz="@firebase/remote-config",qz="@firebase/remote-config-compat",Wz="@firebase/storage",Hz="@firebase/storage-compat",Gz="@firebase/firestore",Kz="@firebase/ai",Xz="@firebase/firestore-compat",Yz="firebase",Qz="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="[DEFAULT]",Jz={[k1]:"fire-core",[Tz]:"fire-core-compat",[Pz]:"fire-analytics",[Az]:"fire-analytics-compat",[kz]:"fire-app-check",[jz]:"fire-app-check-compat",[Iz]:"fire-auth",[Nz]:"fire-auth-compat",[Cz]:"fire-rtdb",[Oz]:"fire-data-connect",[Rz]:"fire-rtdb-compat",[Mz]:"fire-fn",[Dz]:"fire-fn-compat",[Lz]:"fire-iid",[$z]:"fire-iid-compat",[Vz]:"fire-fcm",[Fz]:"fire-fcm-compat",[Uz]:"fire-perf",[Bz]:"fire-perf-compat",[zz]:"fire-rc",[qz]:"fire-rc-compat",[Wz]:"fire-gcs",[Hz]:"fire-gcs-compat",[Gz]:"fire-fst",[Xz]:"fire-fst-compat",[Kz]:"fire-vertex","fire-js":"fire-js",[Yz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map,Zz=new Map,N1=new Map;function wk(t,e){try{t.container.addComponent(e)}catch(r){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Gu(t){const e=t.name;if(N1.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;N1.set(e,t);for(const r of Dm.values())wk(r,t);for(const r of Zz.values())wk(r,t);return!0}function OE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new lh("app","Firebase",e9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=Qz;function L4(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:I1,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(r||(r=N4()),!r)throw Jo.create("no-options");const a=Dm.get(i);if(a){if(Ya(r,a.options)&&Ya(n,a.config))return a;throw Jo.create("duplicate-app",{appName:i})}const o=new sz(i);for(const c of N1.values())o.addComponent(c);const l=new t9(r,n,o);return Dm.set(i,l),l}function $4(t=I1){const e=Dm.get(t);if(!e&&t===I1&&N4())return L4();if(!e)throw Jo.create("no-app",{appName:t});return e}function Zo(t,e,r){var n;let i=(n=Jz[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(l.join(" "));return}Gu(new hl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="firebase-heartbeat-database",n9=1,pf="firebase-heartbeat-store";let Zb=null;function V4(){return Zb||(Zb=xz(r9,n9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),Zb}async function i9(t){try{const r=(await V4()).transaction(pf),n=await r.objectStore(pf).get(F4(t));return await r.done,n}catch(e){if(e instanceof oo)Qa.warn(e.message);else{const r=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(r.message)}}}async function _k(t,e){try{const n=(await V4()).transaction(pf,"readwrite");await n.objectStore(pf).put(e,F4(t)),await n.done}catch(r){if(r instanceof oo)Qa.warn(r.message);else{const n=Jo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Qa.warn(n.message)}}}function F4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=1024,o9=30;class s9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new u9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Sk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>o9){const o=c9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Qa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Sk(),{heartbeatsToSend:n,unsentEntries:i}=l9(this._heartbeatsCache.heartbeats),a=Mm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Qa.warn(r),""}}}function Sk(){return new Date().toISOString().substring(0,10)}function l9(t,e=a9){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Ek(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Ek(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class u9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XB()?YB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await i9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _k(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _k(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ek(t){return Mm(JSON.stringify({version:2,heartbeats:t})).length}function c9(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){Gu(new hl("platform-logger",e=>new Sz(e),"PRIVATE")),Gu(new hl("heartbeat",e=>new s9(e),"PRIVATE")),Zo(k1,xk,t),Zo(k1,xk,"esm2017"),Zo("fire-js","")}d9("");function RE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function U4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f9=U4,B4=new lh("auth","Firebase",U4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new NE("@firebase/auth");function h9(t,...e){Lm.logLevel<=it.WARN&&Lm.warn(`Auth (${jc}): ${t}`,...e)}function _m(t,...e){Lm.logLevel<=it.ERROR&&Lm.error(`Auth (${jc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,...e){throw DE(t,...e)}function Ri(t,...e){return DE(t,...e)}function ME(t,e,r){const n=Object.assign(Object.assign({},f9()),{[e]:r});return new lh("auth","Firebase",n).create(e,{appName:t.name})}function na(t){return ME(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z4(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ui(t,"argument-error"),ME(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function DE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return B4.create(t,...e)}function Be(t,e,...r){if(!t)throw DE(e,...r)}function Va(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _m(e),new Error(e)}function Ja(t,e){t||Va(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p9(){return Tk()==="http:"||Tk()==="https:"}function Tk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p9()||WB()||"connection"in navigator)?navigator.onLine:!0}function g9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ja(r>e,"Short delay should be less than long delay!"),this.isMobile=BB()||HB()}get(){return m9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){Ja(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b9=new ch(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $i(t,e,r,n,i={}){return W4(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=uh(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return qB()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Pc(t.emulatorConfig.host)&&(d.credentials="include"),q4.fetch()(await H4(t,t.config.apiHost,r,l),d)})}async function W4(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},y9),e);try{const i=new w9(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Zp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Zp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Zp(t,"user-disabled",o);const p=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ME(t,p,d);ui(t,p)}}catch(i){if(i instanceof oo)throw i;ui(t,"network-request-failed",{message:String(i)})}}async function dh(t,e,r,n,i={}){const a=await $i(t,e,r,n,i);return"mfaPendingCredential"in a&&ui(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function H4(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?LE(t.config,i):`${t.config.apiScheme}://${i}`;return v9.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function x9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ri(this.auth,"network-request-failed")),b9.get())})}}function Zp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ri(t,e,n);return i.customData._tokenResponse=r,i}function Ak(t){return t!==void 0&&t.enterprise!==void 0}class _9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return x9(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S9(t,e){return $i(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function $m(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T9(t,e=!1){const r=Pt(t),n=await r.getIdToken(e),i=$E(n);Be(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Jd(ex(i.auth_time)),issuedAtTime:Jd(ex(i.iat)),expirationTime:Jd(ex(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ex(t){return Number(t)*1e3}function $E(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const i=k4(r);return i?JSON.parse(i):(_m("Failed to decode base64 JWT payload"),null)}catch(i){return _m("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Pk(t){const e=$E(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof oo&&A9(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function A9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jd(this.lastLoginAt),this.creationTime=Jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t){var e;const r=t.auth,n=await t.getIdToken(),i=await pl(t,$m(r,{idToken:n}));Be(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?G4(a.providerUserInfo):[],l=k9(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),p=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new O1(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function j9(t){const e=Pt(t);await mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k9(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function G4(t){return t.map(e=>{var{providerId:r}=e,n=RE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e){const r=await W4(t,{},async()=>{const n=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await H4(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Pc(t.emulatorConfig.host)&&(c.credentials="include"),q4.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function N9(t,e){return $i(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const r=Pk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await I9(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Lu;return n&&(Be(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Be(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return Va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=RE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new O1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Be(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return T9(this,e)}reload(){return j9(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await mf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await pl(this,E9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,l,c,d,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(l=r.tenantId)!==null&&l!==void 0?l:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,E=(d=r.createdAt)!==null&&d!==void 0?d:void 0,T=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:N,emailVerified:C,isAnonymous:k,providerData:O,stsTokenManager:P}=r;Be(N&&P,e,"internal-error");const I=Lu.fromJSON(this.name,P);Be(typeof N=="string",e,"internal-error"),Lo(m,e.name),Lo(y,e.name),Be(typeof C=="boolean",e,"internal-error"),Be(typeof k=="boolean",e,"internal-error"),Lo(x,e.name),Lo(S,e.name),Lo(w,e.name),Lo(b,e.name),Lo(E,e.name),Lo(T,e.name);const M=new Ci({uid:N,auth:e,email:y,emailVerified:C,displayName:m,isAnonymous:k,photoURL:S,phoneNumber:x,tenantId:w,stsTokenManager:I,createdAt:E,lastLoginAt:T});return O&&Array.isArray(O)&&(M.providerData=O.map(U=>Object.assign({},U))),b&&(M._redirectEventId=b),M}static async _fromIdTokenResponse(e,r,n=!1){const i=new Lu;i.updateFromServerResponse(r);const a=new Ci({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await mf(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?G4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Lu;l.updateFromIdToken(n);const c=new Ci({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new O1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Map;function Fa(t){Ja(t instanceof Function,"Expected a class definition");let e=jk.get(t);return e?(Ja(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}K4.type="NONE";const kk=K4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e,r){return`firebase:${t}:${e}:${r}`}class $u{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Sm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Sm("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await $m(this.auth,{idToken:e}).catch(()=>{});return r?Ci._fromGetAccountInfoResponse(this.auth,r,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new $u(Fa(kk),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Fa(kk);const o=Sm(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const p=await d._get(o);if(p){let m;if(typeof p=="string"){const y=await $m(e,{idToken:p}).catch(()=>{});if(!y)break;m=await Ci._fromGetAccountInfoResponse(e,y,p)}else m=Ci._fromJSON(e,p);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new $u(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new $u(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eL(e))return"Blackberry";if(tL(e))return"Webos";if(Y4(e))return"Safari";if((e.includes("chrome/")||Q4(e))&&!e.includes("edge/"))return"Chrome";if(Z4(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function X4(t=rn()){return/firefox\//i.test(t)}function Y4(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q4(t=rn()){return/crios\//i.test(t)}function J4(t=rn()){return/iemobile/i.test(t)}function Z4(t=rn()){return/android/i.test(t)}function eL(t=rn()){return/blackberry/i.test(t)}function tL(t=rn()){return/webos/i.test(t)}function VE(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C9(t=rn()){var e;return VE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O9(){return GB()&&document.documentMode===10}function rL(t=rn()){return VE(t)||Z4(t)||tL(t)||eL(t)||/windows phone/i.test(t)||J4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e=[]){let r;switch(t){case"Browser":r=Ik(rn());break;case"Worker":r=`${Ik(rn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${jc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e={}){return $i(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=6;class L9{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:D9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nk(this),this.idTokenSubscription=new Nk(this),this.beforeStateQueue=new R9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Fa(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await $m(this,{idToken:e}),n=await Ci._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(_n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await mf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(na(this));const r=e?Pt(e):null;return r&&Be(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M9(this),r=new L9(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await N9(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Fa(e)||this._popupRedirectResolver;Be(r,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[Fa(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&h9(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function lo(t){return Pt(t)}class Nk{constructor(e){this.auth=e,this.observer=null,this.addObserver=tz(r=>this.observer=r)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V9(t){oy=t}function iL(t){return oy.loadJS(t)}function F9(){return oy.recaptchaEnterpriseScript}function U9(){return oy.gapiScript}function B9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class z9{constructor(){this.enterprise=new q9}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class q9{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const W9="recaptcha-enterprise",aL="NO_RECAPTCHA";class H9{constructor(e){this.type=W9,this.auth=lo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{S9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new _9(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;Ak(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(aL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z9().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&Ak(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=F9();c.length!==0&&(c+=l),iL(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Ck(t,e,r,n=!1,i=!1){const a=new H9(t);let o;if(i)o=aL;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Vm(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ck(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ck(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){const r=OE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ya(a,e??{}))return i;ui(i,"already-initialized")}return r.initialize({options:e})}function K9(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Fa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function X9(t,e,r){const n=lo(t);Be(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=oL(e),{host:o,port:l}=Y9(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},p=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Be(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Be(Ya(d,n.config.emulator)&&Ya(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Pc(o)?(O4(`${a}//${o}${c}`),R4("Auth",!0)):Q9()}function oL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y9(t){const e=oL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Ok(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Ok(o)}}}function Ok(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q9(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Va("not implemented")}_getIdTokenResponse(e){return Va("not implemented")}_linkToIdToken(e,r){return Va("not implemented")}_getReauthenticationResolver(e){return Va("not implemented")}}async function J9(t,e){return $i(t,"POST","/v1/accounts:update",e)}async function Z9(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(t,e){return dh(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}async function t8(t,e){return $i(t,"POST","/v1/accounts:sendOobCode",so(t,e))}async function r8(t,e){return t8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function i8(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends FE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new gf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new gf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,r,"signInWithPassword",e8);case"emailLink":return n8(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signUpPassword",Z9);case"emailLink":return i8(e,{idToken:r,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e){return dh(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="http://localhost";class ml extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ui("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=RE(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ml(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Vu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Vu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Vu(e,r)}buildRequest(){const e={requestUri:a8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=uh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s8(t){const e=Fd(Ud(t)).link,r=e?Fd(Ud(e)).deep_link_id:null,n=Fd(Ud(t)).deep_link_id;return(n?Fd(Ud(n)).link:null)||n||r||e||t}class UE{constructor(e){var r,n,i,a,o,l;const c=Fd(Ud(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,p=(n=c.oobCode)!==null&&n!==void 0?n:null,m=o8((i=c.mode)!==null&&i!==void 0?i:null);Be(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=s8(e);try{return new UE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.providerId=qa.PROVIDER_ID}static credential(e,r){return gf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=UE.parseLink(r);return Be(n,"argument-error"),gf._fromEmailAndCode(e,n.code,n.tenantId)}}qa.PROVIDER_ID="password";qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends fh{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bo.credential(e.oauthAccessToken)}catch{return null}}}Bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ml._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ta.credential(r,n)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends fh{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.GITHUB_SIGN_IN_METHOD="github.com";zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends fh{constructor(){super("twitter.com")}static credential(e,r){return ml._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return qo.credential(r,n)}catch{return null}}}qo.TWITTER_SIGN_IN_METHOD="twitter.com";qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t,e){return dh(t,"POST","/v1/accounts:signUp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ci._fromIdTokenResponse(e,n,i),o=Rk(n);return new gl({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Rk(n);return new gl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Rk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends oo{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Fm(e,r,n,i)}}function sL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,a,e,n):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function lL(t,e,r=!1){const n=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return gl._forOperation(t,"link",n)}async function c8(t,e,r){await mf(e);const n=u8(e.providerData);Be(n.has(r)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e,r=!1){const{auth:n}=t;if(_n(n.app))return Promise.reject(na(n));const i="reauthenticate";try{const a=await pl(t,sL(n,i,e,t),r);Be(a.idToken,n,"internal-error");const o=$E(a.idToken);Be(o,n,"internal-error");const{sub:l}=o;return Be(t.uid===l,n,"user-mismatch"),gl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ui(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e,r=!1){if(_n(t.app))return Promise.reject(na(t));const n="signIn",i=await sL(t,n,e),a=await gl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function d8(t,e){return cL(lo(t),e)}async function f8(t,e){const r=Pt(t);return await c8(!1,r,e.providerId),lL(r,e)}async function Mk(t,e){return uL(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t){const e=lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h8(t,e,r){const n=lo(t);await Vm(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",r8)}async function p8(t,e,r){if(_n(t.app))return Promise.reject(na(t));const n=lo(t),o=await Vm(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l8).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&dL(t),c}),l=await gl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function m8(t,e,r){return _n(t.app)?Promise.reject(na(t)):d8(Pt(t),qa.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&dL(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e){return $i(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Pt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await pl(n,g8(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function y8(t,e){const r=Pt(t);return _n(r.auth.app)?Promise.reject(na(r.auth)):fL(r,e,null)}function v8(t,e){return fL(Pt(t),null,e)}async function fL(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const o=await pl(t,J9(n,a));await t._updateTokensIfNecessary(o,!0)}function b8(t,e,r,n){return Pt(t).onIdTokenChanged(e,r,n)}function x8(t,e,r){return Pt(t).beforeAuthStateChanged(e,r)}function w8(t,e,r,n){return Pt(t).onAuthStateChanged(e,r,n)}function _8(t){return Pt(t).signOut()}const Um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=1e3,E8=10;class pL extends hL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);O9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,E8):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},S8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}pL.type="LOCAL";const T8=pL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends hL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}mL.type="SESSION";const gL=mL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ly(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,a)),c=await A8(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=BE("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(){return window}function j8(t){ia().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return typeof ia().WorkerGlobalScope<"u"&&typeof ia().importScripts=="function"}async function k8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N8(){return yL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebaseLocalStorageDb",C8=1,Bm="firebaseLocalStorage",bL="fbase_key";class hh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function uy(t,e){return t.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function O8(){const t=indexedDB.deleteDatabase(vL);return new hh(t).toPromise()}function R1(){const t=indexedDB.open(vL,C8);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Bm,{keyPath:bL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Bm)?e(n):(n.close(),await O8(),e(await R1()))})})}async function Lk(t,e,r){const n=uy(t,!0).put({[bL]:e,value:r});return new hh(n).toPromise()}async function R8(t,e){const r=uy(t,!1).get(e),n=await new hh(r).toPromise();return n===void 0?null:n.value}function $k(t,e){const r=uy(t,!0).delete(e);return new hh(r).toPromise()}const M8=800,D8=3;class xL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>D8)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(N8()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await k8(),!this.activeServiceWorker)return;this.sender=new P8(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R1();return await Lk(e,Um,"1"),await $k(e,Um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>R8(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>$k(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=uy(i,!1).getAll();return new hh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xL.type="LOCAL";const L8=xL;new ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){return e?Fa(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Vu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function $8(t){return cL(t.auth,new qE(t),t.bypassAuthState)}function V8(t){const{auth:e,user:r}=t;return Be(r,e,"internal-error"),uL(r,new qE(t),t.bypassAuthState)}async function F8(t){const{auth:e,user:r}=t;return Be(r,e,"internal-error"),lL(r,new qE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $8;case"linkViaPopup":case"linkViaRedirect":return F8;case"reauthViaPopup":case"reauthViaRedirect":return V8;default:ui(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=new ch(2e3,1e4);async function B8(t,e,r){if(_n(t.app))return Promise.reject(Ri(t,"operation-not-supported-in-this-environment"));const n=lo(t);z4(t,e,sy);const i=zE(n,r);return new Go(n,"signInViaPopup",e,i).executeNotNull()}async function z8(t,e,r){const n=Pt(t);z4(n.auth,e,sy);const i=zE(n.auth,r);return new Go(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class Go extends wL{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=BE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U8.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="pendingRedirect",Em=new Map;class W8 extends wL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const n=await H8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H8(t,e){const r=X8(e),n=K8(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function G8(t,e){Em.set(t._key(),e)}function K8(t){return Fa(t._redirectPersistence)}function X8(t){return Sm(q8,t.config.apiKey,t.name)}async function Y8(t,e,r=!1){if(_n(t.app))return Promise.reject(na(t));const n=lo(t),i=zE(n,e),o=await new W8(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=600*1e3;class J8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z8(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!_L(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ri(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vk(e))}saveEventToCache(e){this.cachedEventUids.add(Vk(e)),this.lastProcessedEventTime=Date.now()}}function Vk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _L({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _L(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eq(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rq=/^https?/;async function nq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eq(t);for(const r of e)try{if(iq(r))return}catch{}ui(t,"unauthorized-domain")}function iq(t){const e=C1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!rq.test(r))return!1;if(tq.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=new ch(3e4,6e4);function Fk(){const t=ia().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function oq(t){return new Promise((e,r)=>{var n,i,a;function o(){Fk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fk(),r(Ri(t,"network-request-failed"))},timeout:aq.get()})}if(!((i=(n=ia().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ia().gapi)===null||a===void 0)&&a.load)o();else{const l=B9("iframefcb");return ia()[l]=()=>{gapi.load?o():r(Ri(t,"network-request-failed"))},iL(`${U9()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Tm=null,e})}let Tm=null;function sq(t){return Tm=Tm||oq(t),Tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=new ch(5e3,15e3),uq="__/auth/iframe",cq="emulator/auth/iframe",dq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hq(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?LE(e,cq):`https://${t.config.authDomain}/${uq}`,n={apiKey:e.apiKey,appName:t.name,v:jc},i=fq.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${uh(n).slice(1)}`}async function pq(t){const e=await sq(t),r=ia().gapi;return Be(r,t,"internal-error"),e.open({where:document.body,url:hq(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dq,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Ri(t,"network-request-failed"),l=ia().setTimeout(()=>{a(o)},lq.get());function c(){ia().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gq=500,yq=600,vq="_blank",bq="http://localhost";class Uk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xq(t,e,r,n=gq,i=yq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},mq),{width:n.toString(),height:i.toString(),top:a,left:o}),d=rn().toLowerCase();r&&(l=Q4(d)?vq:r),X4(d)&&(e=e||bq,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(C9(d)&&l!=="_self")return wq(e||"",l),new Uk(null);const m=window.open(e||"",l,p);Be(m,t,"popup-blocked");try{m.focus()}catch{}return new Uk(m)}function wq(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="__/auth/handler",Sq="emulator/auth/handler",Eq=encodeURIComponent("fac");async function Bk(t,e,r,n,i,a){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:jc,eventId:i};if(e instanceof sy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ez(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof fh){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),d=c?`#${Eq}=${encodeURIComponent(c)}`:"";return`${Tq(t)}?${uh(l).slice(1)}${d}`}function Tq({config:t}){return t.emulator?LE(t,Sq):`https://${t.authDomain}/${_q}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="webStorageSupport";class Aq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gL,this._completeRedirectFn=Y8,this._overrideRedirectResult=G8}async _openPopup(e,r,n,i){var a;Ja((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Bk(e,r,n,C1(),i);return xq(e,o,BE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await Bk(e,r,n,C1(),i);return j8(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ja(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await pq(e),n=new J8(e);return r.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(tx,{type:tx},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[tx];o!==void 0&&r(!!o),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=nq(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return rL()||Y4()||VE()}}const Pq=Aq;var zk="@firebase/auth",qk="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Iq(t){Gu(new hl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nL(t)},d=new $9(n,i,a,c);return K9(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Gu(new hl("auth-internal",e=>{const r=lo(e.getProvider("auth").getImmediate());return(n=>new jq(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(zk,qk,kq(t)),Zo(zk,qk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=300,Cq=C4("authIdTokenMaxAge")||Nq;let Wk=null;const Oq=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Cq)return;const i=r==null?void 0:r.token;Wk!==i&&(Wk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rq(t=$4()){const e=OE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=G9(t,{popupRedirectResolver:Pq,persistence:[L8,T8,gL]}),n=C4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Oq(a.toString());x8(r,o,()=>o(r.currentUser)),b8(r,l=>o(l))}}const i=I4("auth");return i&&X9(r,`http://${i}`),r}function Mq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V9({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ri("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Mq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Iq("Browser");var Dq="firebase",Lq="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(Dq,Lq,"app");var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,SL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function M(){}M.prototype=I.prototype,P.D=I.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(U,$,V){for(var L=Array(arguments.length-2),W=2;W<arguments.length;W++)L[W-2]=arguments[W];return I.prototype[$].apply(U,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,I,M){M||(M=0);var U=Array(16);if(typeof I=="string")for(var $=0;16>$;++$)U[$]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for($=0;16>$;++$)U[$]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=P.g[0],M=P.g[1],$=P.g[2];var V=P.g[3],L=I+(V^M&($^V))+U[0]+3614090360&4294967295;I=M+(L<<7&4294967295|L>>>25),L=V+($^I&(M^$))+U[1]+3905402710&4294967295,V=I+(L<<12&4294967295|L>>>20),L=$+(M^V&(I^M))+U[2]+606105819&4294967295,$=V+(L<<17&4294967295|L>>>15),L=M+(I^$&(V^I))+U[3]+3250441966&4294967295,M=$+(L<<22&4294967295|L>>>10),L=I+(V^M&($^V))+U[4]+4118548399&4294967295,I=M+(L<<7&4294967295|L>>>25),L=V+($^I&(M^$))+U[5]+1200080426&4294967295,V=I+(L<<12&4294967295|L>>>20),L=$+(M^V&(I^M))+U[6]+2821735955&4294967295,$=V+(L<<17&4294967295|L>>>15),L=M+(I^$&(V^I))+U[7]+4249261313&4294967295,M=$+(L<<22&4294967295|L>>>10),L=I+(V^M&($^V))+U[8]+1770035416&4294967295,I=M+(L<<7&4294967295|L>>>25),L=V+($^I&(M^$))+U[9]+2336552879&4294967295,V=I+(L<<12&4294967295|L>>>20),L=$+(M^V&(I^M))+U[10]+4294925233&4294967295,$=V+(L<<17&4294967295|L>>>15),L=M+(I^$&(V^I))+U[11]+2304563134&4294967295,M=$+(L<<22&4294967295|L>>>10),L=I+(V^M&($^V))+U[12]+1804603682&4294967295,I=M+(L<<7&4294967295|L>>>25),L=V+($^I&(M^$))+U[13]+4254626195&4294967295,V=I+(L<<12&4294967295|L>>>20),L=$+(M^V&(I^M))+U[14]+2792965006&4294967295,$=V+(L<<17&4294967295|L>>>15),L=M+(I^$&(V^I))+U[15]+1236535329&4294967295,M=$+(L<<22&4294967295|L>>>10),L=I+($^V&(M^$))+U[1]+4129170786&4294967295,I=M+(L<<5&4294967295|L>>>27),L=V+(M^$&(I^M))+U[6]+3225465664&4294967295,V=I+(L<<9&4294967295|L>>>23),L=$+(I^M&(V^I))+U[11]+643717713&4294967295,$=V+(L<<14&4294967295|L>>>18),L=M+(V^I&($^V))+U[0]+3921069994&4294967295,M=$+(L<<20&4294967295|L>>>12),L=I+($^V&(M^$))+U[5]+3593408605&4294967295,I=M+(L<<5&4294967295|L>>>27),L=V+(M^$&(I^M))+U[10]+38016083&4294967295,V=I+(L<<9&4294967295|L>>>23),L=$+(I^M&(V^I))+U[15]+3634488961&4294967295,$=V+(L<<14&4294967295|L>>>18),L=M+(V^I&($^V))+U[4]+3889429448&4294967295,M=$+(L<<20&4294967295|L>>>12),L=I+($^V&(M^$))+U[9]+568446438&4294967295,I=M+(L<<5&4294967295|L>>>27),L=V+(M^$&(I^M))+U[14]+3275163606&4294967295,V=I+(L<<9&4294967295|L>>>23),L=$+(I^M&(V^I))+U[3]+4107603335&4294967295,$=V+(L<<14&4294967295|L>>>18),L=M+(V^I&($^V))+U[8]+1163531501&4294967295,M=$+(L<<20&4294967295|L>>>12),L=I+($^V&(M^$))+U[13]+2850285829&4294967295,I=M+(L<<5&4294967295|L>>>27),L=V+(M^$&(I^M))+U[2]+4243563512&4294967295,V=I+(L<<9&4294967295|L>>>23),L=$+(I^M&(V^I))+U[7]+1735328473&4294967295,$=V+(L<<14&4294967295|L>>>18),L=M+(V^I&($^V))+U[12]+2368359562&4294967295,M=$+(L<<20&4294967295|L>>>12),L=I+(M^$^V)+U[5]+4294588738&4294967295,I=M+(L<<4&4294967295|L>>>28),L=V+(I^M^$)+U[8]+2272392833&4294967295,V=I+(L<<11&4294967295|L>>>21),L=$+(V^I^M)+U[11]+1839030562&4294967295,$=V+(L<<16&4294967295|L>>>16),L=M+($^V^I)+U[14]+4259657740&4294967295,M=$+(L<<23&4294967295|L>>>9),L=I+(M^$^V)+U[1]+2763975236&4294967295,I=M+(L<<4&4294967295|L>>>28),L=V+(I^M^$)+U[4]+1272893353&4294967295,V=I+(L<<11&4294967295|L>>>21),L=$+(V^I^M)+U[7]+4139469664&4294967295,$=V+(L<<16&4294967295|L>>>16),L=M+($^V^I)+U[10]+3200236656&4294967295,M=$+(L<<23&4294967295|L>>>9),L=I+(M^$^V)+U[13]+681279174&4294967295,I=M+(L<<4&4294967295|L>>>28),L=V+(I^M^$)+U[0]+3936430074&4294967295,V=I+(L<<11&4294967295|L>>>21),L=$+(V^I^M)+U[3]+3572445317&4294967295,$=V+(L<<16&4294967295|L>>>16),L=M+($^V^I)+U[6]+76029189&4294967295,M=$+(L<<23&4294967295|L>>>9),L=I+(M^$^V)+U[9]+3654602809&4294967295,I=M+(L<<4&4294967295|L>>>28),L=V+(I^M^$)+U[12]+3873151461&4294967295,V=I+(L<<11&4294967295|L>>>21),L=$+(V^I^M)+U[15]+530742520&4294967295,$=V+(L<<16&4294967295|L>>>16),L=M+($^V^I)+U[2]+3299628645&4294967295,M=$+(L<<23&4294967295|L>>>9),L=I+($^(M|~V))+U[0]+4096336452&4294967295,I=M+(L<<6&4294967295|L>>>26),L=V+(M^(I|~$))+U[7]+1126891415&4294967295,V=I+(L<<10&4294967295|L>>>22),L=$+(I^(V|~M))+U[14]+2878612391&4294967295,$=V+(L<<15&4294967295|L>>>17),L=M+(V^($|~I))+U[5]+4237533241&4294967295,M=$+(L<<21&4294967295|L>>>11),L=I+($^(M|~V))+U[12]+1700485571&4294967295,I=M+(L<<6&4294967295|L>>>26),L=V+(M^(I|~$))+U[3]+2399980690&4294967295,V=I+(L<<10&4294967295|L>>>22),L=$+(I^(V|~M))+U[10]+4293915773&4294967295,$=V+(L<<15&4294967295|L>>>17),L=M+(V^($|~I))+U[1]+2240044497&4294967295,M=$+(L<<21&4294967295|L>>>11),L=I+($^(M|~V))+U[8]+1873313359&4294967295,I=M+(L<<6&4294967295|L>>>26),L=V+(M^(I|~$))+U[15]+4264355552&4294967295,V=I+(L<<10&4294967295|L>>>22),L=$+(I^(V|~M))+U[6]+2734768916&4294967295,$=V+(L<<15&4294967295|L>>>17),L=M+(V^($|~I))+U[13]+1309151649&4294967295,M=$+(L<<21&4294967295|L>>>11),L=I+($^(M|~V))+U[4]+4149444226&4294967295,I=M+(L<<6&4294967295|L>>>26),L=V+(M^(I|~$))+U[11]+3174756917&4294967295,V=I+(L<<10&4294967295|L>>>22),L=$+(I^(V|~M))+U[2]+718787259&4294967295,$=V+(L<<15&4294967295|L>>>17),L=M+(V^($|~I))+U[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+($+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+$&4294967295,P.g[3]=P.g[3]+V&4294967295}n.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var M=I-this.blockSize,U=this.B,$=this.h,V=0;V<I;){if($==0)for(;V<=M;)i(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<I;)if(U[$++]=P.charCodeAt(V++),$==this.blockSize){i(this,U),$=0;break}}else for(;V<I;)if(U[$++]=P[V++],$==this.blockSize){i(this,U),$=0;break}}this.h=$,this.o+=I},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var M=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=M&255,M/=256;for(this.u(P),P=Array(16),I=M=0;4>I;++I)for(var U=0;32>U;U+=8)P[M++]=this.g[I]>>>U&255;return P};function a(P,I){var M=l;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=I(P)}function o(P,I){this.h=I;for(var M=[],U=!0,$=P.length-1;0<=$;$--){var V=P[$]|0;U&&V==I||(M[$]=V,U=!1)}this.g=M}var l={};function c(P){return-128<=P&&128>P?a(P,function(I){return new o([I|0],0>I?-1:0)}):new o([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return b(d(-P));for(var I=[],M=1,U=0;P>=M;U++)I[U]=P/M|0,M*=4294967296;return new o(I,0)}function p(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return b(p(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(I,8)),U=m,$=0;$<P.length;$+=8){var V=Math.min(8,P.length-$),L=parseInt(P.substring($,$+V),I);8>V?(V=d(Math.pow(I,V)),U=U.j(V).add(d(L))):(U=U.j(M),U=U.add(d(L)))}return U}var m=c(0),y=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();for(var P=0,I=1,M=0;M<this.g.length;M++){var U=this.i(M);P+=(0<=U?U:4294967296+U)*I,I*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(w(this))return"-"+b(this).toString(P);for(var I=d(Math.pow(P,6)),M=this,U="";;){var $=C(M,I).g;M=E(M,$.j(I));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=$,S(M))return V+U;for(;6>V.length;)V="0"+V;U=V+U}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=E(this,P),w(P)?-1:S(P)?0:1};function b(P){for(var I=P.g.length,M=[],U=0;U<I;U++)M[U]=~P.g[U];return new o(M,~P.h).add(y)}t.abs=function(){return w(this)?b(this):this},t.add=function(P){for(var I=Math.max(this.g.length,P.g.length),M=[],U=0,$=0;$<=I;$++){var V=U+(this.i($)&65535)+(P.i($)&65535),L=(V>>>16)+(this.i($)>>>16)+(P.i($)>>>16);U=L>>>16,V&=65535,L&=65535,M[$]=L<<16|V}return new o(M,M[M.length-1]&-2147483648?-1:0)};function E(P,I){return P.add(b(I))}t.j=function(P){if(S(this)||S(P))return m;if(w(this))return w(P)?b(this).j(b(P)):b(b(this).j(P));if(w(P))return b(this.j(b(P)));if(0>this.l(x)&&0>P.l(x))return d(this.m()*P.m());for(var I=this.g.length+P.g.length,M=[],U=0;U<2*I;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var $=0;$<P.g.length;$++){var V=this.i(U)>>>16,L=this.i(U)&65535,W=P.i($)>>>16,Y=P.i($)&65535;M[2*U+2*$]+=L*Y,T(M,2*U+2*$),M[2*U+2*$+1]+=V*Y,T(M,2*U+2*$+1),M[2*U+2*$+1]+=L*W,T(M,2*U+2*$+1),M[2*U+2*$+2]+=V*W,T(M,2*U+2*$+2)}for(U=0;U<I;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=I;U<2*I;U++)M[U]=0;return new o(M,0)};function T(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function N(P,I){this.g=P,this.h=I}function C(P,I){if(S(I))throw Error("division by zero");if(S(P))return new N(m,m);if(w(P))return I=C(b(P),I),new N(b(I.g),b(I.h));if(w(I))return I=C(P,b(I)),new N(b(I.g),I.h);if(30<P.g.length){if(w(P)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var M=y,U=I;0>=U.l(P);)M=k(M),U=k(U);var $=O(M,1),V=O(U,1);for(U=O(U,2),M=O(M,2);!S(U);){var L=V.add(U);0>=L.l(P)&&($=$.add(M),V=L),U=O(U,1),M=O(M,1)}return I=E(P,$.j(I)),new N($,I)}for($=m;0<=P.l(I);){for(M=Math.max(1,Math.floor(P.m()/I.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),V=d(M),L=V.j(I);w(L)||0<L.l(P);)M-=U,V=d(M),L=V.j(I);S(V)&&(V=y),$=$.add(V),P=E(P,L)}return new N($,P)}t.A=function(P){return C(this,P).h},t.and=function(P){for(var I=Math.max(this.g.length,P.g.length),M=[],U=0;U<I;U++)M[U]=this.i(U)&P.i(U);return new o(M,this.h&P.h)},t.or=function(P){for(var I=Math.max(this.g.length,P.g.length),M=[],U=0;U<I;U++)M[U]=this.i(U)|P.i(U);return new o(M,this.h|P.h)},t.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),M=[],U=0;U<I;U++)M[U]=this.i(U)^P.i(U);return new o(M,this.h^P.h)};function k(P){for(var I=P.g.length+1,M=[],U=0;U<I;U++)M[U]=P.i(U)<<1|P.i(U-1)>>>31;return new o(M,P.h)}function O(P,I){var M=I>>5;I%=32;for(var U=P.g.length-M,$=[],V=0;V<U;V++)$[V]=0<I?P.i(V+M)>>>I|P.i(V+M+1)<<32-I:P.i(V+M);return new o($,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,SL=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,es=o}).apply(typeof Hk<"u"?Hk:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EL,Bd,TL,Am,M1,AL,PL,jL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,R){return g==Array.prototype||g==Object.prototype||(g[A]=R.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var A=0;A<g.length;++A){var R=g[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function i(g,A){if(A)e:{var R=n;g=g.split(".");for(var B=0;B<g.length-1;B++){var J=g[B];if(!(J in R))break e;R=R[J]}g=g[g.length-1],B=R[g],A=A(B),A!=B&&A!=null&&e(R,g,{configurable:!0,writable:!0,value:A})}}function a(g,A){g instanceof String&&(g+="");var R=0,B=!1,J={next:function(){if(!B&&R<g.length){var oe=R++;return{value:A(oe,g[oe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(g){return g||function(){return a(this,function(A,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function d(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function p(g,A,R){return g.call.apply(g.bind,arguments)}function m(g,A,R){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,B),g.apply(A,J)}}return function(){return g.apply(A,arguments)}}function y(g,A,R){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,A){var R=Array.prototype.slice.call(arguments,1);return function(){var B=R.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function S(g,A){function R(){}R.prototype=A.prototype,g.aa=A.prototype,g.prototype=new R,g.prototype.constructor=g,g.Qb=function(B,J,oe){for(var we=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)we[xt-2]=arguments[xt];return A.prototype[J].apply(B,we)}}function w(g){const A=g.length;if(0<A){const R=Array(A);for(let B=0;B<A;B++)R[B]=g[B];return R}return[]}function b(g,A){for(let R=1;R<arguments.length;R++){const B=arguments[R];if(c(B)){const J=g.length||0,oe=B.length||0;g.length=J+oe;for(let we=0;we<oe;we++)g[J+we]=B[we]}else g.push(B)}}class E{constructor(A,R){this.i=A,this.j=R,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function T(g){return/^[\s\xa0]*$/.test(g)}function N(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function C(g){return C[" "](g),g}C[" "]=function(){};var k=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function O(g,A,R){for(const B in g)A.call(R,g[B],B,g)}function P(g,A){for(const R in g)A.call(void 0,g[R],R,g)}function I(g){const A={};for(const R in g)A[R]=g[R];return A}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(g,A){let R,B;for(let J=1;J<arguments.length;J++){B=arguments[J];for(R in B)g[R]=B[R];for(let oe=0;oe<M.length;oe++)R=M[oe],Object.prototype.hasOwnProperty.call(B,R)&&(g[R]=B[R])}}function $(g){var A=1;g=g.split(":");const R=[];for(;0<A&&g.length;)R.push(g.shift()),A--;return g.length&&R.push(g.join(":")),R}function V(g){l.setTimeout(()=>{throw g},0)}function L(){var g=ae;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class W{constructor(){this.h=this.g=null}add(A,R){const B=Y.get();B.set(A,R),this.h?this.h.next=B:this.g=B,this.h=B}}var Y=new E(()=>new te,g=>g.reset());class te{constructor(){this.next=this.g=this.h=null}set(A,R){this.h=A,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Q=!1,ae=new W,ne=()=>{const g=l.Promise.resolve(void 0);re=()=>{g.then(q)}};var q=()=>{for(var g;g=L();){try{g.h.call(g.g)}catch(R){V(R)}var A=Y;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};l.addEventListener("test",R,A),l.removeEventListener("test",R,A)}catch{}return g})();function xe(g,A){if(de.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var R=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(k){e:{try{C(A.nodeName);var J=!0;break e}catch{}J=!1}J||(A=null)}}else R=="mouseover"?A=g.fromElement:R=="mouseout"&&(A=g.toElement);this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Re[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}S(xe,de);var Re={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Se=0;function fe(g,A,R,B,J){this.listener=g,this.proxy=null,this.src=A,this.type=R,this.capture=!!B,this.ha=J,this.key=++Se,this.da=this.fa=!1}function Ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Le(g){this.src=g,this.g={},this.h=0}Le.prototype.add=function(g,A,R,B,J){var oe=g.toString();g=this.g[oe],g||(g=this.g[oe]=[],this.h++);var we=nt(g,A,B,J);return-1<we?(A=g[we],R||(A.fa=!1)):(A=new fe(A,this.src,oe,!!B,J),A.fa=R,g.push(A)),A};function pe(g,A){var R=A.type;if(R in g.g){var B=g.g[R],J=Array.prototype.indexOf.call(B,A,void 0),oe;(oe=0<=J)&&Array.prototype.splice.call(B,J,1),oe&&(Ee(A),g.g[R].length==0&&(delete g.g[R],g.h--))}}function nt(g,A,R,B){for(var J=0;J<g.length;++J){var oe=g[J];if(!oe.da&&oe.listener==A&&oe.capture==!!R&&oe.ha==B)return J}return-1}var We="closure_lm_"+(1e6*Math.random()|0),gt={};function dt(g,A,R,B,J){if(Array.isArray(A)){for(var oe=0;oe<A.length;oe++)dt(g,A[oe],R,B,J);return null}return R=Kt(R),g&&g[ue]?g.K(A,R,d(B)?!!B.capture:!1,J):_t(g,A,R,!1,B,J)}function _t(g,A,R,B,J,oe){if(!A)throw Error("Invalid event type");var we=d(J)?!!J.capture:!!J,xt=Xe(g);if(xt||(g[We]=xt=new Le(g)),R=xt.add(A,R,B,we,oe),R.proxy)return R;if(B=ir(),R.proxy=B,B.src=g,B.listener=R,g.addEventListener)se||(J=we),J===void 0&&(J=!1),g.addEventListener(A.toString(),B,J);else if(g.attachEvent)g.attachEvent($t(A.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ir(){function g(R){return A.call(g.src,g.listener,R)}const A=me;return g}function hr(g,A,R,B,J){if(Array.isArray(A))for(var oe=0;oe<A.length;oe++)hr(g,A[oe],R,B,J);else B=d(B)?!!B.capture:!!B,R=Kt(R),g&&g[ue]?(g=g.i,A=String(A).toString(),A in g.g&&(oe=g.g[A],R=nt(oe,R,B,J),-1<R&&(Ee(oe[R]),Array.prototype.splice.call(oe,R,1),oe.length==0&&(delete g.g[A],g.h--)))):g&&(g=Xe(g))&&(A=g.g[A.toString()],g=-1,A&&(g=nt(A,R,B,J)),(R=-1<g?A[g]:null)&&pr(R))}function pr(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[ue])pe(A.i,g);else{var R=g.type,B=g.proxy;A.removeEventListener?A.removeEventListener(R,B,g.capture):A.detachEvent?A.detachEvent($t(R),B):A.addListener&&A.removeListener&&A.removeListener(B),(R=Xe(A))?(pe(R,g),R.h==0&&(R.src=null,A[We]=null)):Ee(g)}}}function $t(g){return g in gt?gt[g]:gt[g]="on"+g}function me(g,A){if(g.da)g=!0;else{A=new xe(A,this);var R=g.listener,B=g.ha||g.src;g.fa&&pr(g),g=R.call(B,A)}return g}function Xe(g){return g=g[We],g instanceof Le?g:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kt(g){return typeof g=="function"?g:(g[Ct]||(g[Ct]=function(A){return g.handleEvent(A)}),g[Ct])}function Zt(){X.call(this),this.i=new Le(this),this.M=this,this.F=null}S(Zt,X),Zt.prototype[ue]=!0,Zt.prototype.removeEventListener=function(g,A,R,B){hr(this,g,A,R,B)};function Xt(g,A){var R,B=g.F;if(B)for(R=[];B;B=B.F)R.push(B);if(g=g.M,B=A.type||A,typeof A=="string")A=new de(A,g);else if(A instanceof de)A.target=A.target||g;else{var J=A;A=new de(B,g),U(A,J)}if(J=!0,R)for(var oe=R.length-1;0<=oe;oe--){var we=A.g=R[oe];J=zn(we,B,!0,A)&&J}if(we=A.g=g,J=zn(we,B,!0,A)&&J,J=zn(we,B,!1,A)&&J,R)for(oe=0;oe<R.length;oe++)we=A.g=R[oe],J=zn(we,B,!1,A)&&J}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var R=g.g[A],B=0;B<R.length;B++)Ee(R[B]);delete g.g[A],g.h--}}this.F=null},Zt.prototype.K=function(g,A,R,B){return this.i.add(String(g),A,!1,R,B)},Zt.prototype.L=function(g,A,R,B){return this.i.add(String(g),A,!0,R,B)};function zn(g,A,R,B){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var J=!0,oe=0;oe<A.length;++oe){var we=A[oe];if(we&&!we.da&&we.capture==R){var xt=we.listener,mr=we.ha||we.src;we.fa&&pe(g.i,we),J=xt.call(mr,B)!==!1&&J}}return J&&!B.defaultPrevented}function _s(g,A,R){if(typeof g=="function")R&&(g=y(g,R));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:l.setTimeout(g,A||0)}function fi(g){g.g=_s(()=>{g.g=null,g.i&&(g.i=!1,fi(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class va extends X{constructor(A,R){super(),this.m=A,this.l=R,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(g){X.call(this),this.h=g,this.g={}}S(hi,X);var Ss=[];function ho(g){O(g.g,function(A,R){this.g.hasOwnProperty(R)&&pr(A)},g),g.g={}}hi.prototype.N=function(){hi.aa.N.call(this),ho(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=l.JSON.stringify,ze=l.JSON.parse,jn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Es(){}Es.prototype.h=null;function Dl(g){return g.h||(g.h=g.i())}function Ll(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){de.call(this,"d")}S(Bi,de);function $l(){de.call(this,"c")}S($l,de);var zi={},zc=null;function Ts(){return zc=zc||new Zt}zi.La="serverreachability";function qc(g){de.call(this,zi.La,g)}S(qc,de);function ba(g){const A=Ts();Xt(A,new qc(A))}zi.STAT_EVENT="statevent";function Wc(g,A){de.call(this,zi.STAT_EVENT,g),this.stat=A}S(Wc,de);function er(g){const A=Ts();Xt(A,new Wc(A,g))}zi.Ma="timingevent";function Vl(g,A){de.call(this,zi.Ma,g),this.size=A}S(Vl,de);function pi(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function As(){this.g=!0}As.prototype.xa=function(){this.g=!1};function Ps(g,A,R,B,J,oe){g.info(function(){if(g.g)if(oe)for(var we="",xt=oe.split("&"),mr=0;mr<xt.length;mr++){var lt=xt[mr].split("=");if(1<lt.length){var Tr=lt[0];lt=lt[1];var ar=Tr.split("_");we=2<=ar.length&&ar[1]=="type"?we+(Tr+"="+lt+"&"):we+(Tr+"=redacted&")}}else we=null;else we=oe;return"XMLHTTP REQ ("+B+") [attempt "+J+"]: "+A+`
`+R+`
`+we})}function Fl(g,A,R,B,J,oe,we){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+J+"]: "+A+`
`+R+`
`+oe+" "+we})}function mi(g,A,R,B){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+yv(g,R)+(B?" "+B:"")})}function Hc(g,A){g.info(function(){return"TIMEOUT: "+A})}As.prototype.info=function(){};function yv(g,A){if(!g.g)return A;if(!A)return null;try{var R=JSON.parse(A);if(R){for(g=0;g<R.length;g++)if(Array.isArray(R[g])){var B=R[g];if(!(2>B.length)){var J=B[1];if(Array.isArray(J)&&!(1>J.length)){var oe=J[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var we=1;we<J.length;we++)J[we]=""}}}}return Oe(R)}catch{return A}}var Ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function js(){}S(js,Es),js.prototype.g=function(){return new XMLHttpRequest},js.prototype.i=function(){return{}},gi=new js;function yi(g,A,R,B){this.j=g,this.i=A,this.l=R,this.R=B||1,this.U=new hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $h}function $h(){this.i=null,this.g="",this.h=!1}var Gc={},Bl={};function zl(g,A,R){g.L=1,g.v=vo(In(A)),g.m=R,g.P=!0,Kc(g,null)}function Kc(g,A){g.F=Date.now(),jt(g),g.A=In(g.v);var R=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),xo(R.i,"t",B),g.C=0,R=g.j.J,g.h=new $h,g.g=rp(g.j,R?A:null,!g.m),0<g.O&&(g.M=new va(y(g.Y,g,g.g),g.O)),A=g.U,R=g.g,B=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(Ss[0]=J.toString()),J=Ss);for(var oe=0;oe<J.length;oe++){var we=dt(R,J[oe],B||A.handleEvent,!1,A.h||A);if(!we)break;A.g[we.key]=we}A=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),ba(),Ps(g.i,g.u,g.A,g.l,g.R,g.m)}yi.prototype.ca=function(g){g=g.target;const A=this.M;A&&hn(g)==3?A.j():this.Y(g)},yi.prototype.Y=function(g){try{if(g==this.g)e:{const ar=hn(this.g);var A=this.g.Ba();const Gn=this.g.Z();if(!(3>ar)&&(ar!=3||this.g&&(this.h.h||this.g.oa()||ed(this.g)))){this.J||ar!=4||A==7||(A==8||0>=Gn?ba(3):ba(2)),ks(this);var R=this.g.Z();this.X=R;t:if(Vh(this)){var B=ed(this.g);g="";var J=B.length,oe=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),po(this);var we="";break t}this.h.i=new l.TextDecoder}for(A=0;A<J;A++)this.h.h=!0,g+=this.h.i.decode(B[A],{stream:!(oe&&A==J-1)});B.length=0,this.h.g+=g,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=R==200,Fl(this.i,this.u,this.A,this.l,this.R,ar,R),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,mr=this.g;if((xt=mr.g?mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(xt)){var lt=xt;break t}}lt=null}if(R=lt)mi(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,R);else{this.o=!1,this.s=3,er(12),Wn(this),po(this);break e}}if(this.P){R=!0;let Cn;for(;!this.J&&this.C<we.length;)if(Cn=vv(this,we),Cn==Bl){ar==4&&(this.s=4,er(14),R=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Gc){this.s=4,er(15),mi(this.i,this.l,we,"[Invalid Chunk]"),R=!1;break}else mi(this.i,this.l,Cn,null),Xc(this,Cn);if(Vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ar!=4||we.length!=0||this.h.h||(this.s=1,er(16),R=!1),this.o=this.o&&R,!R)mi(this.i,this.l,we,"[Invalid Chunked Response]"),Wn(this),po(this);else if(0<we.length&&!this.W){this.W=!0;var Tr=this.j;Tr.g==this&&Tr.ba&&!Tr.M&&(Tr.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),rd(Tr),Tr.M=!0,er(11))}}else mi(this.i,this.l,we,null),Xc(this,we);ar==4&&Wn(this),this.o&&!this.J&&(ar==4?eu(this.j,this):(this.o=!1,jt(this)))}else Xl(this.g),R==400&&0<we.indexOf("Unknown SID")?(this.s=3,er(12)):(this.s=0,er(13)),Wn(this),po(this)}}}catch{}finally{}};function Vh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function vv(g,A){var R=g.C,B=A.indexOf(`
`,R);return B==-1?Bl:(R=Number(A.substring(R,B)),isNaN(R)?Gc:(B+=1,B+R>A.length?Bl:(A=A.slice(B,B+R),g.C=B+R,A)))}yi.prototype.cancel=function(){this.J=!0,Wn(this)};function jt(g){g.S=Date.now()+g.I,Fh(g,g.I)}function Fh(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=pi(y(g.ba,g),A)}function ks(g){g.B&&(l.clearTimeout(g.B),g.B=null)}yi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Hc(this.i,this.A),this.L!=2&&(ba(),er(17)),Wn(this),this.s=2,po(this)):Fh(this,this.S-g)};function po(g){g.j.G==0||g.J||eu(g.j,g)}function Wn(g){ks(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,ho(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function Xc(g,A){try{var R=g.j;if(R.G!=0&&(R.g==g||nn(R.h,g))){if(!g.K&&nn(R.h,g)&&R.G==3){try{var B=R.Da.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var J=B;if(J[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<g.F)Zl(R),_i(R);else break e;Jl(R),er(18)}}else R.za=J[1],0<R.za-R.T&&37500>J[2]&&R.F&&R.v==0&&!R.C&&(R.C=pi(y(R.Za,R),6e3));if(1>=Bh(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Ea(R,11)}else if((g.K||R.g==g)&&Zl(R),!T(A))for(J=R.Da.g.parse(A),A=0;A<J.length;A++){let lt=J[A];if(R.T=lt[0],lt=lt[1],R.G==2)if(lt[0]=="c"){R.K=lt[1],R.ia=lt[2];const Tr=lt[3];Tr!=null&&(R.la=Tr,R.j.info("VER="+R.la));const ar=lt[4];ar!=null&&(R.Aa=ar,R.j.info("SVER="+R.Aa));const Gn=lt[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(B=1.5*Gn,R.L=B,R.j.info("backChannelRequestTimeoutMs_="+B)),B=R;const Cn=g.g;if(Cn){const Ds=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var oe=B.h;oe.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Yc(oe,oe.h),oe.h=null))}if(B.D){const ru=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ru&&(B.ya=ru,Tt(B.I,B.D,ru))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-g.F,R.j.info("Handshake RTT: "+R.R+"ms")),B=R;var we=g;if(B.qa=tp(B,B.J?B.ia:null,B.W),we.K){zh(B.h,we);var xt=we,mr=B.L;mr&&(xt.I=mr),xt.B&&(ks(xt),jt(xt)),B.g=we}else Ms(B);0<R.i.length&&Gi(R)}else lt[0]!="stop"&&lt[0]!="close"||Ea(R,7);else R.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Ea(R,7):Dr(R):lt[0]!="noop"&&R.l&&R.l.ta(lt),R.v=0)}}ba(4)}catch{}}var Uh=class{constructor(g,A){this.g=g,this.map=A}};function Is(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Bh(g){return g.h?1:g.g?g.g.size:0}function nn(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function Yc(g,A){g.g?g.g.add(A):g.h=A}function zh(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}Is.prototype.cancel=function(){if(this.i=qh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function qh(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const R of g.g.values())A=A.concat(R.D);return A}return w(g.i)}function ql(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var A=[],R=g.length,B=0;B<R;B++)A.push(g[B]);return A}A=[],R=0;for(B in g)A[R++]=g[B];return A}function Wl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var A=[];g=g.length;for(var R=0;R<g;R++)A.push(R);return A}A=[],R=0;for(const B in g)A[R++]=B;return A}}}function mo(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var R=Wl(g),B=ql(g),J=B.length,oe=0;oe<J;oe++)A.call(void 0,B[oe],R&&R[oe],g)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bv(g,A){if(g){g=g.split("&");for(var R=0;R<g.length;R++){var B=g[R].indexOf("="),J=null;if(0<=B){var oe=g[R].substring(0,B);J=g[R].substring(B+1)}else oe=g[R];A(oe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function xa(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof xa){this.h=g.h,Cs(this,g.j),this.o=g.o,this.g=g.g,go(this,g.s),this.l=g.l;var A=g.i,R=new qi;R.i=A.i,A.g&&(R.g=new Map(A.g),R.h=A.h),yo(this,R),this.m=g.m}else g&&(A=String(g).match(Ns))?(this.h=!1,Cs(this,A[1]||"",!0),this.o=st(A[2]||""),this.g=st(A[3]||"",!0),go(this,A[4]),this.l=st(A[5]||"",!0),yo(this,A[6]||"",!0),this.m=st(A[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}xa.prototype.toString=function(){var g=[],A=this.j;A&&g.push(bo(A,Hl,!0),":");var R=this.g;return(R||A=="file")&&(g.push("//"),(A=this.o)&&g.push(bo(A,Hl,!0),"@"),g.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&g.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(bo(R,R.charAt(0)=="/"?Gh:Hh,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",bo(R,Qc)),g.join("")};function In(g){return new xa(g)}function Cs(g,A,R){g.j=R?st(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function go(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function yo(g,A,R){A instanceof qi?(g.i=A,Wi(g.i,g.h)):(R||(A=bo(A,Kh)),g.i=new qi(A,g.h))}function Tt(g,A,R){g.i.set(A,R)}function vo(g){return Tt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function st(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function bo(g,A,R){return typeof g=="string"?(g=encodeURI(g).replace(A,Wh),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Wh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Hl=/[#\/\?@]/g,Hh=/[#\?:]/g,Gh=/[#\?]/g,Kh=/[#\?@]/g,Qc=/#/g;function qi(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Mr(g){g.g||(g.g=new Map,g.h=0,g.i&&bv(g.i,function(A,R){g.add(decodeURIComponent(A.replace(/\+/g," ")),R)}))}t=qi.prototype,t.add=function(g,A){Mr(this),this.i=null,g=Hn(this,g);var R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(A),this.h+=1,this};function vi(g,A){Mr(g),A=Hn(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function bi(g,A){return Mr(g),A=Hn(g,A),g.g.has(A)}t.forEach=function(g,A){Mr(this),this.g.forEach(function(R,B){R.forEach(function(J){g.call(A,J,B,this)},this)},this)},t.na=function(){Mr(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),R=[];for(let B=0;B<A.length;B++){const J=g[B];for(let oe=0;oe<J.length;oe++)R.push(A[B])}return R},t.V=function(g){Mr(this);let A=[];if(typeof g=="string")bi(this,g)&&(A=A.concat(this.g.get(Hn(this,g))));else{g=Array.from(this.g.values());for(let R=0;R<g.length;R++)A=A.concat(g[R])}return A},t.set=function(g,A){return Mr(this),this.i=null,g=Hn(this,g),bi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function xo(g,A,R){vi(g,A),0<R.length&&(g.i=null,g.g.set(Hn(g,A),w(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var R=0;R<A.length;R++){var B=A[R];const oe=encodeURIComponent(String(B)),we=this.V(B);for(B=0;B<we.length;B++){var J=oe;we[B]!==""&&(J+="="+encodeURIComponent(String(we[B]))),g.push(J)}}return this.i=g.join("&")};function Hn(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function Wi(g,A){A&&!g.j&&(Mr(g),g.i=null,g.g.forEach(function(R,B){var J=B.toLowerCase();B!=J&&(vi(this,B),xo(this,J,R))},g)),g.j=A}function xv(g,A){const R=new As;if(l.Image){const B=new Image;B.onload=x(fn,R,"TestLoadImage: loaded",!0,A,B),B.onerror=x(fn,R,"TestLoadImage: error",!1,A,B),B.onabort=x(fn,R,"TestLoadImage: abort",!1,A,B),B.ontimeout=x(fn,R,"TestLoadImage: timeout",!1,A,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else A(!1)}function Xh(g,A){const R=new As,B=new AbortController,J=setTimeout(()=>{B.abort(),fn(R,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:B.signal}).then(oe=>{clearTimeout(J),oe.ok?fn(R,"TestPingServer: ok",!0,A):fn(R,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),fn(R,"TestPingServer: error",!1,A)})}function fn(g,A,R,B,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),B(R)}catch{}}function wv(){this.g=new jn}function Yh(g,A,R){const B=R||"";try{mo(g,function(J,oe){let we=J;d(J)&&(we=Oe(J)),A.push(B+oe+"="+encodeURIComponent(we))})}catch(J){throw A.push(B+"type="+encodeURIComponent("_badmap")),J}}function wa(g){this.l=g.Ub||null,this.j=g.eb||!1}S(wa,Es),wa.prototype.g=function(){return new Os(this.l,this.j)},wa.prototype.i=(function(g){return function(){return g}})({});function Os(g,A){Zt.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Os,Zt),t=Os.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,wi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||l).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qh(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qh(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?xi(this):wi(this),this.readyState==3&&Qh(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,xi(this))},t.Qa=function(g){this.g&&(this.response=g,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,wi(g)}t.setRequestHeader=function(g,A){this.u.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var R=A.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=A.next();return g.join(`\r
`)};function wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function _a(g){let A="";return O(g,function(R,B){A+=B,A+=":",A+=R,A+=`\r
`}),A}function wo(g,A,R){e:{for(B in R){var B=!1;break e}B=!0}B||(R=_a(R),typeof g=="string"?R!=null&&encodeURIComponent(String(R)):Tt(g,A,R))}function Vt(g){Zt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Vt,Zt);var _v=/^https?$/i,Jc=["POST","PUT"];t=Vt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,A,R,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?Dl(this.o):Dl(gi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(oe){Rs(this,oe);return}if(g=R||"",R=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var J in B)R.set(J,B[J]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const oe of B.keys())R.set(oe,B.get(oe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(R.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Jc,A,void 0))||B||J||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,we]of R)this.g.setRequestHeader(oe,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kl(this),this.u=!0,this.g.send(g),this.u=!1}catch(oe){Rs(this,oe)}};function Rs(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,Gl(g),Nn(g)}function Gl(g){g.A||(g.A=!0,Xt(g,"complete"),Xt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Xt(this,"complete"),Xt(this,"abort"),Nn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)};function Zc(g){if(g.h&&typeof o<"u"&&(!g.v[1]||hn(g)!=4||g.Z()!=2)){if(g.u&&hn(g)==4)_s(g.Ea,0,g);else if(Xt(g,"readystatechange"),hn(g)==4){g.h=!1;try{const we=g.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var R;if(!(R=A)){var B;if(B=we===0){var J=String(g.D).match(Ns)[1]||null;!J&&l.self&&l.self.location&&(J=l.self.location.protocol.slice(0,-1)),B=!_v.test(J?J.toLowerCase():"")}R=B}if(R)Xt(g,"complete"),Xt(g,"success");else{g.m=6;try{var oe=2<hn(g)?g.g.statusText:""}catch{oe=""}g.l=oe+" ["+g.Z()+"]",Gl(g)}}finally{Nn(g)}}}}function Nn(g,A){if(g.g){Kl(g);const R=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||Xt(g,"ready");try{R.onreadystatechange=B}catch{}}}function Kl(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function hn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),ze(A)}};function ed(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Xl(g){const A={};g=(g.g&&2<=hn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(T(g[B]))continue;var R=$(g[B]);const J=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const oe=A[J]||[];A[J]=oe,oe.push(R)}P(A,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(g,A,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||A}function td(g){this.Aa=0,this.i=[],this.j=new As,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,g),this.cb=Hi("retryDelaySeedMs",1e4,g),this.Wa=Hi("forwardChannelMaxRetries",2,g),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(g&&g.concurrentRequestLimit),this.Da=new wv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=td.prototype,t.la=8,t.G=1,t.connect=function(g,A,R,B){er(0),this.W=g,this.H=A||{},R&&B!==void 0&&(this.H.OSID=R,this.H.OAID=B),this.F=this.X,this.I=tp(this,null,this.W),Gi(this)};function Dr(g){if(Yl(g),g.G==3){var A=g.U++,R=In(g.I);if(Tt(R,"SID",g.K),Tt(R,"RID",A),Tt(R,"TYPE","terminate"),Sa(g,R),A=new yi(g,g.j,A),A.L=2,A.v=vo(In(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(A.v.toString(),"")}catch{}!R&&l.Image&&(new Image().src=A.v,R=!0),R||(A.g=rp(A.j,null),A.g.ea(A.v)),A.F=Date.now(),jt(A)}ep(g)}function _i(g){g.g&&(rd(g),g.g.cancel(),g.g=null)}function Yl(g){_i(g),g.u&&(l.clearTimeout(g.u),g.u=null),Zl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function Gi(g){if(!kn(g.h)&&!g.s){g.s=!0;var A=g.Ga;re||ne(),Q||(re(),Q=!0),ae.add(A,g),g.B=0}}function Sv(g,A){return Bh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=pi(y(g.Ga,g,A),Zh(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new yi(this,this.j,g);let oe=this.o;if(this.S&&(oe?(oe=I(oe),U(oe,this.S)):oe=this.S),this.m!==null||this.O||(J.H=oe,oe=null),this.P)e:{for(var A=0,R=0;R<this.i.length;R++){t:{var B=this.i[R];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,4096<A){A=R;break e}if(A===4096||R===this.i.length-1){A=R+1;break e}}A=1e3}else A=1e3;A=_o(this,J,A),R=In(this.I),Tt(R,"RID",g),Tt(R,"CVER",22),this.D&&Tt(R,"X-HTTP-Session-Id",this.D),Sa(this,R),oe&&(this.O?A="headers="+encodeURIComponent(String(_a(oe)))+"&"+A:this.m&&wo(R,this.m,oe)),Yc(this.h,J),this.Ua&&Tt(R,"TYPE","init"),this.P?(Tt(R,"$req",A),Tt(R,"SID","null"),J.T=!0,zl(J,R,null)):zl(J,R,A),this.G=2}}else this.G==3&&(g?Ql(this,g):this.i.length==0||kn(this.h)||Ql(this))};function Ql(g,A){var R;A?R=A.l:R=g.U++;const B=In(g.I);Tt(B,"SID",g.K),Tt(B,"RID",R),Tt(B,"AID",g.T),Sa(g,B),g.m&&g.o&&wo(B,g.m,g.o),R=new yi(g,g.j,R,g.B+1),g.m===null&&(R.H=g.o),A&&(g.i=A.D.concat(g.i)),A=_o(g,R,1e3),R.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Yc(g.h,R),zl(R,B,A)}function Sa(g,A){g.H&&O(g.H,function(R,B){Tt(A,B,R)}),g.l&&mo({},function(R,B){Tt(A,B,R)})}function _o(g,A,R){R=Math.min(g.i.length,R);var B=g.l?y(g.l.Na,g.l,g):null;e:{var J=g.i;let oe=-1;for(;;){const we=["count="+R];oe==-1?0<R?(oe=J[0].g,we.push("ofs="+oe)):oe=0:we.push("ofs="+oe);let xt=!0;for(let mr=0;mr<R;mr++){let lt=J[mr].g;const Tr=J[mr].map;if(lt-=oe,0>lt)oe=Math.max(0,J[mr].g-100),xt=!1;else try{Yh(Tr,we,"req"+lt+"_")}catch{B&&B(Tr)}}if(xt){B=we.join("&");break e}}}return g=g.i.splice(0,R),A.D=g,B}function Ms(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;re||ne(),Q||(re(),Q=!0),ae.add(A,g),g.v=0}}function Jl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=pi(y(g.Fa,g),Zh(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Jh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=pi(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,er(10),_i(this),Jh(this))};function rd(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Jh(g){g.g=new yi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=In(g.qa);Tt(A,"RID","rpc"),Tt(A,"SID",g.K),Tt(A,"AID",g.T),Tt(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Tt(A,"TO",g.ja),Tt(A,"TYPE","xmlhttp"),Sa(g,A),g.m&&g.o&&wo(A,g.m,g.o),g.L&&(g.g.I=g.L);var R=g.g;g=g.ia,R.L=1,R.v=vo(In(A)),R.m=null,R.P=!0,Kc(R,g)}t.Za=function(){this.C!=null&&(this.C=null,_i(this),Jl(this),er(19))};function Zl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function eu(g,A){var R=null;if(g.g==A){Zl(g),rd(g),g.g=null;var B=2}else if(nn(g.h,A))R=A.D,zh(g.h,A),B=1;else return;if(g.G!=0){if(A.o)if(B==1){R=A.m?A.m.length:0,A=Date.now()-A.F;var J=g.B;B=Ts(),Xt(B,new Vl(B,R)),Gi(g)}else Ms(g);else if(J=A.s,J==3||J==0&&0<A.X||!(B==1&&Sv(g,A)||B==2&&Jl(g)))switch(R&&0<R.length&&(A=g.h,A.i=A.i.concat(R)),J){case 1:Ea(g,5);break;case 4:Ea(g,10);break;case 3:Ea(g,6);break;default:Ea(g,2)}}}function Zh(g,A){let R=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(R*=2),R*A}function Ea(g,A){if(g.j.info("Error code "+A),A==2){var R=y(g.fb,g),B=g.Xa;const J=!B;B=new xa(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Cs(B,"https"),vo(B),J?xv(B.toString(),R):Xh(B.toString(),R)}else er(2);g.G=0,g.l&&g.l.sa(A),ep(g),Yl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),er(2)):(this.j.info("Failed to ping google.com"),er(1))};function ep(g){if(g.G=0,g.ka=[],g.l){const A=qh(g.h);(A.length!=0||g.i.length!=0)&&(b(g.ka,A),b(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function tp(g,A,R){var B=R instanceof xa?In(R):new xa(R);if(B.g!="")A&&(B.g=A+"."+B.g),go(B,B.s);else{var J=l.location;B=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;var oe=new xa(null);B&&Cs(oe,B),A&&(oe.g=A),J&&go(oe,J),R&&(oe.l=R),B=oe}return R=g.D,A=g.ya,R&&A&&Tt(B,R,A),Tt(B,"VER",g.la),Sa(g,B),B}function rp(g,A,R){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new Vt(new wa({eb:R})):new Vt(g.pa),A.Ha(g.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nd(){}t=nd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tu(){}tu.prototype.g=function(g,A){return new an(g,A)};function an(g,A){Zt.call(this),this.g=new td(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!T(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!T(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Ki(this)}S(an,Zt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Dr(this.g)},an.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.u&&(R={},R.__data__=Oe(g),g=R);A.i.push(new Uh(A.Ya++,g)),A.G==3&&Gi(A)},an.prototype.N=function(){this.g.l=null,delete this.j,Dr(this.g),delete this.g,an.aa.N.call(this)};function np(g){Bi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const R in A){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}S(np,Bi);function ip(){$l.call(this),this.status=1}S(ip,$l);function Ki(g){this.g=g}S(Ki,nd),Ki.prototype.ua=function(){Xt(this.g,"a")},Ki.prototype.ta=function(g){Xt(this.g,new np(g))},Ki.prototype.sa=function(g){Xt(this.g,new ip)},Ki.prototype.ra=function(){Xt(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,jL=function(){return new tu},PL=function(){return Ts()},AL=zi,M1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,Am=Ul,Lh.COMPLETE="complete",TL=Lh,Ll.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,Bd=Ll,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,EL=Vt}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const Gk="@firebase/firestore",Kk="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new NE("@firebase/firestore");function ju(){return yl.logLevel}function je(t,...e){if(yl.logLevel<=it.DEBUG){const r=e.map(WE);yl.debug(`Firestore (${kc}): ${t}`,...r)}}function Za(t,...e){if(yl.logLevel<=it.ERROR){const r=e.map(WE);yl.error(`Firestore (${kc}): ${t}`,...r)}}function is(t,...e){if(yl.logLevel<=it.WARN){const r=e.map(WE);yl.warn(`Firestore (${kc}): ${t}`,...r)}}function WE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,kL(t,n,r)}function kL(t,e,r){let n=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Za(n),new Error(n)}function bt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||kL(e,i,n)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends oo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Jr.UNAUTHENTICATED)))}shutdown(){}}class Vq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Fq{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){bt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Wa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wa,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wa)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(bt(typeof n.accessToken=="string",31837,{l:n}),new IL(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Jr(e)}}class Uq{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bq{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Uq(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Jr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zq{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){bt(this.o===void 0,3512);const n=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(bt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Xk(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=qq(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ze(t,e){return t<e?-1:t>e?1:0}function D1(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Ze(n,i);{const a=NL(),o=Wq(a.encode(Yk(t,r)),a.encode(Yk(e,r)));return o!==0?o:Ze(n,i)}}r+=n>65535?2:1}return Ze(t.length,e.length)}function Yk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Wq(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ze(t[r],e[r]);return Ze(t.length,e.length)}function Ku(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="__name__";class Zi{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Zi.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ze(e.length,r.length)}static compareSegments(e,r){const n=Zi.isNumericId(e),i=Zi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Zi.extractNumericId(e).compare(Zi.extractNumericId(r)):D1(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class Nt extends Zi{construct(e,r,n){return new Nt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Nt(r)}static emptyPath(){return new Nt([])}}const Hq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qr extends Zi{construct(e,r,n){return new qr(e,r,n)}static isValidIdentifier(e){return Hq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qk}static keyField(){return new qr([Qk])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qr(r)}static emptyPath(){return new qr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Nt.fromString(e))}static fromName(e){return new $e(Nt.fromString(e).popFirst(5))}static empty(){return new $e(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Nt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e,r){if(!r)throw new Te(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gq(t,e,r,n){if(e===!0&&n===!0)throw new Te(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Jk(t){if(!$e.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zk(t){if($e.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cy(t);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,e){const r={typeString:t};return e&&(r.value=e),r}function ph(t,e){if(!OL(t))throw new Te(ce.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Te(ce.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=-62135596800,tI=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*tI);return new Lt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<eI)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tI}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ph(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:cr("string",Lt._jsonSchemaVersion),seconds:cr("number"),nanoseconds:cr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Lt(0,0))}static max(){return new Ke(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=-1;function Kq(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(n===1e9?new Lt(r+1,0):new Lt(r,n));return new as(i,$e.empty(),e)}function Xq(t){return new as(t.readTime,t.key,yf)}class as{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new as(Ke.min(),$e.empty(),yf)}static max(){return new as(Ke.max(),$e.empty(),yf)}}function Yq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=$e.comparator(t.documentKey,e.documentKey),r!==0?r:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Qq)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):he.reject(r)}static resolve(e){return new he(((r,n)=>{r(e)}))}static reject(e){return new he(((r,n)=>{n(e)}))}static waitFor(e){return new he(((r,n)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&r()}),(c=>n(c)))})),o=!0,a===i&&r()}))}static or(e){let r=he.resolve(!1);for(const n of e)r=r.next((i=>i?he.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new he(((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;r(e[d]).next((p=>{o[d]=p,++l,l===a&&n(o)}),(p=>i(p)))}}))}static doWhile(e,r){return new he(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Zq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this._e(n),this.ae=n=>r.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dy.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-1;function fy(t){return t==null}function zm(t){return t===0&&1/t==-1/0}function e7(t){return typeof t=="number"&&Number.isInteger(t)&&!zm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="";function t7(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=rI(e)),e=r7(t.get(r),e);return rI(e)}function r7(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case RL:r+="";break;default:r+=a}}return r}function rI(t){return t+RL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ps(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ML(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,r){this.comparator=e,this.root=r||Ur.EMPTY}insert(e,r){return new Gt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Ur.RED,this.left=i??Ur.EMPTY,this.right=a??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Ur(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Ur.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1;Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Ur(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new iI(this.data.getIterator())}getIteratorFrom(e){return new iI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new _r(this.comparator);return r.data=e,r}}class iI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(qr.comparator)}static empty(){return new Fn([])}unionWith(e){let r=new _r(qr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Fn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DL("Invalid base64 string: "+a):a}})(e);return new Wr(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Wr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const n7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const r=n7.exec(t);if(bt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:rr(t.seconds),nanos:rr(t.nanos)}}function rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?Wr.fromBase64String(t):Wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="server_timestamp",$L="__type__",VL="__previous_value__",FL="__local_write_time__";function KE(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$L])===null||r===void 0?void 0:r.stringValue)===LL}function hy(t){const e=t.mapValue.fields[VL];return KE(e)?hy(e):e}function vf(t){const e=os(t.mapValue.fields[FL].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,r,n,i,a,o,l,c,d,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const qm="(default)";class bf{constructor(e,r){this.projectId=e,this.database=r||qm}static empty(){return new bf("","")}get isDefaultDatabase(){return this.database===qm}isEqual(e){return e instanceof bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="__type__",a7="__max__",rm={mapValue:{}},BL="__vector__",Wm="value";function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KE(t)?4:s7(t)?9007199254740991:o7(t)?10:11:qe(28295,{value:t})}function da(t,e){if(t===e)return!0;const r=ls(t);if(r!==ls(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vf(t).isEqual(vf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=os(i.timestampValue),l=os(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ss(i.bytesValue).isEqual(ss(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return rr(i.geoPointValue.latitude)===rr(a.geoPointValue.latitude)&&rr(i.geoPointValue.longitude)===rr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return rr(i.integerValue)===rr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=rr(i.doubleValue),l=rr(a.doubleValue);return o===l?zm(o)===zm(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Ku(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(nI(o)!==nI(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!da(o[c],l[c])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function xf(t,e){return(t.values||[]).find((r=>da(r,e)))!==void 0}function Xu(t,e){if(t===e)return 0;const r=ls(t),n=ls(e);if(r!==n)return Ze(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=rr(a.integerValue||a.doubleValue),c=rr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return aI(t.timestampValue,e.timestampValue);case 4:return aI(vf(t),vf(e));case 5:return D1(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=ss(a),c=ss(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const p=Ze(l[d],c[d]);if(p!==0)return p}return Ze(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=Ze(rr(a.latitude),rr(o.latitude));return l!==0?l:Ze(rr(a.longitude),rr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return oI(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var l,c,d,p;const m=a.fields||{},y=o.fields||{},x=(l=m[Wm])===null||l===void 0?void 0:l.arrayValue,S=(c=y[Wm])===null||c===void 0?void 0:c.arrayValue,w=Ze(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:oI(x,S)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===rm.mapValue&&o===rm.mapValue)return 0;if(a===rm.mapValue)return 1;if(o===rm.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const y=D1(c[m],p[m]);if(y!==0)return y;const x=Xu(l[c[m]],d[p[m]]);if(x!==0)return x}return Ze(c.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{le:r})}}function aI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const r=os(t),n=os(e),i=Ze(r.seconds,n.seconds);return i!==0?i:Ze(r.nanos,n.nanos)}function oI(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Xu(r[i],n[i]);if(a)return a}return Ze(r.length,n.length)}function Yu(t){return L1(t)}function L1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=os(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return ss(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return $e.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=L1(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${L1(r.fields[o])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function Pm(t){switch(ls(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hy(t);return e?16+Pm(e):16;case 5:return 2*t.stringValue.length;case 6:return ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Pm(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return ps(n.fields,((a,o)=>{i+=a.length+Pm(o)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function sI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $1(t){return!!t&&"integerValue"in t}function XE(t){return!!t&&"arrayValue"in t}function lI(t){return!!t&&"nullValue"in t}function uI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jm(t){return!!t&&"mapValue"in t}function o7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UL])===null||r===void 0?void 0:r.stringValue)===BL}function Zd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Zd(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function s7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!jm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(r)}setAll(e){let r=qr.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Zd(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());jm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ps(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new Sn(Zd(this.value))}}function zL(t){const e=[];return ps(t.fields,((r,n)=>{const i=new qr([r]);if(jm(n)){const a=zL(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Zr(e,0,Ke.min(),Ke.min(),Ke.min(),Sn.empty(),0)}static newFoundDocument(e,r,n,i){return new Zr(e,1,r,Ke.min(),n,i,0)}static newNoDocument(e,r){return new Zr(e,2,r,Ke.min(),Ke.min(),Sn.empty(),0)}static newUnknownDocument(e,r){return new Zr(e,3,r,Ke.min(),Ke.min(),Sn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,r){this.position=e,this.inclusive=r}}function cI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=$e.comparator($e.fromName(o.referenceValue),r.key):n=Xu(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function dI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!da(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r="asc"){this.field=e,this.dir=r}}function l7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{}class ur extends qL{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new c7(e,r,n):r==="array-contains"?new h7(e,n):r==="in"?new p7(e,n):r==="not-in"?new m7(e,n):r==="array-contains-any"?new g7(e,n):new ur(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new d7(e,n):new f7(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Xu(r,this.value)):r!==null&&ls(this.value)===ls(r)&&this.matchesComparison(Xu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends qL{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new Mi(e,r)}matches(e){return WL(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function WL(t){return t.op==="and"}function HL(t){return u7(t)&&WL(t)}function u7(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function V1(t){if(t instanceof ur)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(HL(t))return t.filters.map((e=>V1(e))).join(",");{const e=t.filters.map((r=>V1(r))).join(",");return`${t.op}(${e})`}}function GL(t,e){return t instanceof ur?(function(n,i){return i instanceof ur&&n.op===i.op&&n.field.isEqual(i.field)&&da(n.value,i.value)})(t,e):t instanceof Mi?(function(n,i){return i instanceof Mi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,l)=>a&&GL(o,i.filters[l])),!0):!1})(t,e):void qe(19439)}function KL(t){return t instanceof ur?(function(r){return`${r.field.canonicalString()} ${r.op} ${Yu(r.value)}`})(t):t instanceof Mi?(function(r){return r.op.toString()+" {"+r.getFilters().map(KL).join(" ,")+"}"})(t):"Filter"}class c7 extends ur{constructor(e,r,n){super(e,r,n),this.key=$e.fromName(n.referenceValue)}matches(e){const r=$e.comparator(e.key,this.key);return this.matchesComparison(r)}}class d7 extends ur{constructor(e,r){super(e,"in",r),this.keys=XL("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class f7 extends ur{constructor(e,r){super(e,"not-in",r),this.keys=XL("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function XL(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>$e.fromName(n.referenceValue)))}class h7 extends ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return XE(r)&&xf(r.arrayValue,this.value)}}class p7 extends ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&xf(this.value.arrayValue,r)}}class m7 extends ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!xf(this.value.arrayValue,r)}}class g7 extends ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!XE(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>xf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Pe=null}}function fI(t,e=null,r=[],n=[],i=null,a=null,o=null){return new y7(t,e,r,n,i,a,o)}function YE(t){const e=Ye(t);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>V1(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),fy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Yu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Yu(n))).join(",")),e.Pe=r}return e.Pe}function QE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!l7(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!GL(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dI(t.startAt,e.startAt)&&dI(t.endAt,e.endAt)}function F1(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function v7(t,e,r,n,i,a,o,l){return new Cc(t,e,r,n,i,a,o,l)}function py(t){return new Cc(t)}function hI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YL(t){return t.collectionGroup!==null}function ef(t){const e=Ye(t);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _r(qr.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new wf(a,n))})),r.has(qr.keyField().canonicalString())||e.Te.push(new wf(qr.keyField(),n))}return e.Te}function aa(t){const e=Ye(t);return e.Ie||(e.Ie=b7(e,ef(t))),e.Ie}function b7(t,e){if(t.limitType==="F")return fI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new wf(i.field,a)}));const r=t.endAt?new Hm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Hm(t.startAt.position,t.startAt.inclusive):null;return fI(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function U1(t,e){const r=t.filters.concat([e]);return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function B1(t,e,r){return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function my(t,e){return QE(aa(t),aa(e))&&t.limitType===e.limitType}function QL(t){return`${YE(aa(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>KL(i))).join(", ")}]`),fy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Yu(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Yu(i))).join(",")),`Target(${n})`})(aa(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):$e.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of ef(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const d=cI(o,l,c);return o.inclusive?d<=0:d<0})(n.startAt,ef(n),i)||n.endAt&&!(function(o,l,c){const d=cI(o,l,c);return o.inclusive?d>=0:d>0})(n.endAt,ef(n),i))})(t,e)}function x7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JL(t){return(e,r)=>{let n=!1;for(const i of ef(t)){const a=w7(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function w7(t,e,r){const n=t.field.isKeyField()?$e.comparator(e.key,r.key):(function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Xu(c,d):qe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return ML(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=new Gt($e.comparator);function eo(){return _7}const ZL=new Gt($e.comparator);function zd(...t){let e=ZL;for(const r of t)e=e.insert(r.key,r);return e}function e5(t){let e=ZL;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function nl(){return tf()}function t5(){return tf()}function tf(){return new Al((t=>t.toString()),((t,e)=>t.isEqual(e)))}const S7=new Gt($e.comparator),E7=new _r($e.comparator);function ot(...t){let e=E7;for(const r of t)e=e.add(r);return e}const T7=new _r(Ze);function A7(){return T7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zm(e)?"-0":e}}function r5(t){return{integerValue:""+t}}function P7(t,e){return e7(e)?r5(e):JE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function j7(t,e,r){return t instanceof Gm?(function(i,a){const o={fields:{[$L]:{stringValue:LL},[FL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&KE(a)&&(a=hy(a)),a&&(o.fields[VL]=a),{mapValue:o}})(r,e):t instanceof Qu?i5(t,e):t instanceof Ju?a5(t,e):(function(i,a){const o=n5(i,a),l=pI(o)+pI(i.Ee);return $1(o)&&$1(i.Ee)?r5(l):JE(i.serializer,l)})(t,e)}function k7(t,e,r){return t instanceof Qu?i5(t,e):t instanceof Ju?a5(t,e):r}function n5(t,e){return t instanceof Km?(function(n){return $1(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Gm extends yy{}class Qu extends yy{constructor(e){super(),this.elements=e}}function i5(t,e){const r=o5(e);for(const n of t.elements)r.some((i=>da(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Ju extends yy{constructor(e){super(),this.elements=e}}function a5(t,e){let r=o5(e);for(const n of t.elements)r=r.filter((i=>!da(i,n)));return{arrayValue:{values:r}}}class Km extends yy{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function pI(t){return rr(t.integerValue||t.doubleValue)}function o5(t){return XE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r){this.field=e,this.transform=r}}function I7(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Qu&&i instanceof Qu||n instanceof Ju&&i instanceof Ju?Ku(n.elements,i.elements,da):n instanceof Km&&i instanceof Km?da(n.Ee,i.Ee):n instanceof Gm&&i instanceof Gm})(t.transform,e.transform)}class N7{constructor(e,r){this.version=e,this.transformResults=r}}class dn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vy{}function l5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new by(t.key,dn.none()):new mh(t.key,t.data,dn.none());{const r=t.data,n=Sn.empty();let i=new _r(qr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new ms(t.key,n,new Fn(i.toArray()),dn.none())}}function C7(t,e,r){t instanceof mh?(function(i,a,o){const l=i.value.clone(),c=gI(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof ms?(function(i,a,o){if(!km(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=gI(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(u5(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function rf(t,e,r,n){return t instanceof mh?(function(a,o,l,c){if(!km(a.precondition,o))return l;const d=a.value.clone(),p=yI(a.fieldTransforms,c,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof ms?(function(a,o,l,c){if(!km(a.precondition,o))return l;const d=yI(a.fieldTransforms,c,o),p=o.data;return p.setAll(u5(a)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(a,o,l){return km(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function O7(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=n5(n.transform,i||null);a!=null&&(r===null&&(r=Sn.empty()),r.set(n.field,a))}return r||null}function mI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ku(n,i,((a,o)=>I7(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mh extends vy{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends vy{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u5(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function gI(t,e,r){const n=new Map;bt(t.length===r.length,32656,{Ae:r.length,Re:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,k7(o,l,r[i]))}return n}function yI(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,j7(a,o,e))}return n}class by extends vy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R7 extends vy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&C7(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=rf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=rf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=t5();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=l5(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ke.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,((r,n)=>mI(r,n)))&&Ku(this.baseMutations,e.baseMutations,((r,n)=>mI(r,n)))}}class ZE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){bt(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=(function(){return S7})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new ZE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr,ut;function $7(t){switch(t){case ce.OK:return qe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function c5(t){if(t===void 0)return Za("GRPC error has no .code"),ce.UNKNOWN;switch(t){case sr.OK:return ce.OK;case sr.CANCELLED:return ce.CANCELLED;case sr.UNKNOWN:return ce.UNKNOWN;case sr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sr.INTERNAL:return ce.INTERNAL;case sr.UNAVAILABLE:return ce.UNAVAILABLE;case sr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sr.NOT_FOUND:return ce.NOT_FOUND;case sr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sr.ABORTED:return ce.ABORTED;case sr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sr.DATA_LOSS:return ce.DATA_LOSS;default:return qe(39323,{code:t})}}(ut=sr||(sr={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=new es([4294967295,4294967295],0);function vI(t){const e=NL().encode(t),r=new SL;return r.update(e),new Uint8Array(r.digest())}function bI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new es([r,n],0),new es([i,a],0)]}class eT{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qd(`Invalid padding: ${r}`);if(n<0)throw new qd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qd(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=es.fromNumber(this.fe)}pe(e,r,n){let i=e.add(r.multiply(es.fromNumber(n)));return i.compare(V7)===1&&(i=new es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=vI(e),[n,i]=bI(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);if(!this.ye(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new eT(a,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.fe===0)return;const r=vI(e),[n,i]=bI(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);this.we(o)}}we(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new xy(Ke.min(),i,new Gt(Ze),eo(),ot())}}class gh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new gh(n,r,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.be=i}}class d5{constructor(e,r){this.targetId=e,this.De=r}}class f5{constructor(e,r,n=Wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class xI{constructor(){this.ve=0,this.Ce=wI(),this.Fe=Wr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ot(),r=ot(),n=ot();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qe(38017,{changeType:a})}})),new gh(this.Fe,this.Me,e,r,n)}ke(){this.xe=!1,this.Ce=wI()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class F7{constructor(e){this.We=e,this.Ge=new Map,this.ze=eo(),this.je=nm(),this.Je=nm(),this.He=new Gt(Ze)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const n=this.tt(r);switch(e.state){case 0:this.nt(r)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),n.Be(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((n,i)=>{this.nt(i)&&r(i)}))}it(e){const r=e.targetId,n=e.De.count,i=this.st(r);if(i){const a=i.target;if(F1(a))if(n===0){const o=new $e(a.path);this.Xe(r,o,Zr.newNoDocument(o,Ke.min()))}else bt(n===1,20013,{expectedCount:n});else{const o=this.ot(r);if(o!==n){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,d)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=ss(n).toUint8Array()}catch(c){if(c instanceof DL)return is("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new eT(o,i,a)}catch(c){return is(c instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,r,n){return r.De.count===n-this.ht(e,r.targetId)?0:2}ht(e,r){const n=this.We.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(r,a,null),i++)})),i}Pt(e){const r=new Map;this.Ge.forEach(((a,o)=>{const l=this.st(o);if(l){if(a.current&&F1(l.target)){const c=new $e(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Zr.newNoDocument(c,e))}a.Ne&&(r.set(o,a.Le()),a.ke())}}));let n=ot();this.Je.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.ze.forEach(((a,o)=>o.setReadTime(e)));const i=new xy(e,r,this.He,this.ze,n);return this.ze=eo(),this.je=nm(),this.Je=nm(),this.He=new Gt(Ze),i}Ze(e,r){if(!this.nt(e))return;const n=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,n),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,r)?i.qe(r,1):i.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),n&&(this.ze=this.ze.insert(r,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new xI,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new _r(Ze),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new _r(Ze),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||je("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xI),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function nm(){return new Gt($e.comparator)}function wI(){return new Gt($e.comparator)}const U7={asc:"ASCENDING",desc:"DESCENDING"},B7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z7={and:"AND",or:"OR"};class q7{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function z1(t,e){return t.useProto3Json||fy(e)?e:{value:e}}function Xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W7(t,e){return Xm(t,e.toTimestamp())}function oa(t){return bt(!!t,49232),Ke.fromTimestamp((function(r){const n=os(r);return new Lt(n.seconds,n.nanos)})(t))}function tT(t,e){return q1(t,e).canonicalString()}function q1(t,e){const r=(function(i){return new Nt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function p5(t){const e=Nt.fromString(t);return bt(b5(e),10190,{key:e.toString()}),e}function W1(t,e){return tT(t.databaseId,e.path)}function rx(t,e){const r=p5(e);if(r.get(1)!==t.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new $e(g5(r))}function m5(t,e){return tT(t.databaseId,e)}function H7(t){const e=p5(t);return e.length===4?Nt.emptyPath():g5(e)}function H1(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g5(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _I(t,e,r){return{name:W1(t,e),fields:r.value.mapValue.fields}}function G7(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,p){return d.useProto3Json?(bt(p===void 0||typeof p=="string",58123),Wr.fromBase64String(p||"")):(bt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Wr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const p=d.code===void 0?ce.UNKNOWN:c5(d.code);return new Te(p,d.message||"")})(o);r=new f5(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=rx(t,n.document.name),a=oa(n.document.updateTime),o=n.document.createTime?oa(n.document.createTime):Ke.min(),l=new Sn({mapValue:{fields:n.document.fields}}),c=Zr.newFoundDocument(i,a,o,l),d=n.targetIds||[],p=n.removedTargetIds||[];r=new Im(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=rx(t,n.document),a=n.readTime?oa(n.readTime):Ke.min(),o=Zr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Im([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=rx(t,n.document),a=n.removedTargetIds||[];r=new Im([],a,i,null)}else{if(!("filter"in e))return qe(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new L7(i,a),l=n.targetId;r=new d5(l,o)}}return r}function K7(t,e){let r;if(e instanceof mh)r={update:_I(t,e.key,e.value)};else if(e instanceof by)r={delete:W1(t,e.key)};else if(e instanceof ms)r={update:_I(t,e.key,e.data),updateMask:nW(e.fieldMask)};else{if(!(e instanceof R7))return qe(16599,{Rt:e.type});r={verify:W1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const l=o.transform;if(l instanceof Gm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Km)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw qe(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:W7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)})(t,e.precondition)),r}function X7(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?oa(i.updateTime):oa(a);return o.isEqual(Ke.min())&&(o=oa(a)),new N7(o,i.transformResults||[])})(r,e)))):[]}function Y7(t,e){return{documents:[m5(t,e.path)]}}function Q7(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=m5(t,i);const a=(function(d){if(d.length!==0)return v5(Mi.create(d,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((p=>(function(y){return{field:Iu(y.field),direction:eW(y.dir)}})(p)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=z1(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:r,parent:i}}function J7(t){let e=H7(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){bt(n===1,65062);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(m){const y=y5(m);return y instanceof Mi&&HL(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(m){return m.map((y=>(function(S){return new wf(Nu(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,fy(y)?null:y})(r.limit));let c=null;r.startAt&&(c=(function(m){const y=!!m.before,x=m.values||[];return new Hm(x,y)})(r.startAt));let d=null;return r.endAt&&(d=(function(m){const y=!m.before,x=m.values||[];return new Hm(x,y)})(r.endAt)),v7(e,i,o,a,l,"F",c,d)}function Z7(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function y5(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Nu(r.unaryFilter.field);return ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(r.unaryFilter.field);return ur.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Nu(r.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Nu(r.unaryFilter.field);return ur.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return ur.create(Nu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Mi.create(r.compositeFilter.filters.map((n=>y5(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(r.compositeFilter.op))})(t):qe(30097,{filter:t})}function eW(t){return U7[t]}function tW(t){return B7[t]}function rW(t){return z7[t]}function Iu(t){return{fieldPath:t.canonicalString()}}function Nu(t){return qr.fromServerFormat(t.fieldPath)}function v5(t){return t instanceof ur?(function(r){if(r.op==="=="){if(uI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NAN"}};if(lI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(uI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NOT_NAN"}};if(lI(r.value))return{unaryFilter:{field:Iu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(r.field),op:tW(r.op),value:r.value}}})(t):t instanceof Mi?(function(r){const n=r.getFilters().map((i=>v5(i)));return n.length===1?n[0]:{compositeFilter:{op:rW(r.op),filters:n}}})(t):qe(54877,{filter:t})}function nW(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function b5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,r,n,i,a=Ke.min(),o=Ke.min(),l=Wr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.gt=e}}function aW(t){const e=J7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?B1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.Dn=new sW}addToCollectionParentIndex(e,r){return this.Dn.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve(as.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve(as.min())}updateCollectionGroup(e,r,n){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class sW{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new _r(Nt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new _r(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x5=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(x5,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Zu(0)}static ur(){return new Zu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="LruGarbageCollector",lW=1048576;function TI([t,e],[r,n]){const i=Ze(t,r);return i===0?Ze(e,n):i}class uW{constructor(e){this.Tr=e,this.buffer=new _r(TI),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();TI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class cW{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){je(EI,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Nc(r)?je(EI,"Ignoring IndexedDB error during garbage collection: ",r):await Ic(r)}await this.Rr(3e5)}))}}class dW{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return he.resolve(dy.ue);const n=new uW(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(SI)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SI):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let n,i,a,o,l,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,r)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(d=Date.now(),ju()<=it.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function fW(t,e){return new dW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.changes=new Al((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Zr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?he.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&rf(n.mutation,i,Fn.empty(),Lt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,ot()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=ot()){const i=nl();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=zd();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=nl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,ot())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let a=eo();const o=tf(),l=(function(){return tf()})();return r.forEach(((c,d)=>{const p=n.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof ms)?a=a.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),rf(p.mutation,d,p.mutation.getFieldMask(),Lt.now())):o.set(d.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,p)=>o.set(d,p))),r.forEach(((d,p)=>{var m;return l.set(d,new pW(p,(m=o.get(d))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,r){const n=tf();let i=new Gt(((o,l)=>o-l)),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let p=n.get(c)||Fn.empty();p=l.applyToLocalView(d,p),n.set(c,p);const m=(i.get(l.batchId)||ot()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,p=c.value,m=t5();p.forEach((y=>{if(!a.has(y)){const x=l5(r.get(y),n.get(y));x!==null&&m.set(y,x),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return he.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):YL(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):he.resolve(nl());let l=yf,c=a;return o.next((d=>he.forEach(d,((p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{c=c.insert(p,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,ot()))).next((p=>({batchId:l,changes:e5(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $e(r)).next((n=>{let i=zd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=zd();return this.indexManager.getCollectionParents(e,a).next((l=>he.forEach(l,(c=>{const d=(function(m,y){return new Cc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((p=>{p.forEach(((m,y)=>{o=o.insert(m,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((c,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Zr.newInvalidDocument(p)))}));let l=zd();return o.forEach(((c,d)=>{const p=a.get(c);p!==void 0&&rf(p.mutation,d,Fn.empty(),Lt.now()),gy(r,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return he.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:oa(i.createTime)}})(r)),he.resolve()}getNamedQuery(e,r){return he.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(i){return{name:i.name,query:aW(i.bundledQuery),readTime:oa(i.readTime)}})(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(){this.overlays=new Gt($e.comparator),this.kr=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const n=nl();return he.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.wt(e,r,a)})),he.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(n)),he.resolve()}getOverlaysForCollection(e,r,n){const i=nl(),a=r.length+1,o=new $e(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return he.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Gt(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let p=a.get(d.largestBatchId);p===null&&(p=nl(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=nl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,p)=>l.set(d,p))),!(l.size()>=i)););return he.resolve(l)}wt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new D7(r,n));let a=this.kr.get(r);a===void 0&&(a=ot(),this.kr.set(r,a)),this.kr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.qr=new _r(Ir.Qr),this.$r=new _r(Ir.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const n=new Ir(e,r);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new Ir(e,r))}Gr(e,r){e.forEach((n=>this.removeReference(n,r)))}zr(e){const r=new $e(new Nt([])),n=new Ir(r,e),i=new Ir(r,e+1),a=[];return this.$r.forEachInRange([n,i],(o=>{this.Wr(o),a.push(o.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new $e(new Nt([])),n=new Ir(r,e),i=new Ir(r,e+1);let a=ot();return this.$r.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new Ir(e,0),n=this.qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ir{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return $e.comparator(e.key,r.key)||Ze(e.Hr,r.Hr)}static Ur(e,r){return Ze(e.Hr,r.Hr)||$e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new _r(Ir.Qr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new M7(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Yr=this.Yr.add(new Ir(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,r){return he.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?GE:this.er-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ir(r,0),i=new Ir(r,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,i],(o=>{const l=this.Zr(o.Hr);a.push(l)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new _r(Ze);return r.forEach((i=>{const a=new Ir(i,0),o=new Ir(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,o],(l=>{n=n.add(l.Hr)}))})),he.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;$e.isDocumentKey(a)||(a=a.child(""));const o=new Ir(new $e(a),0);let l=new _r(Ze);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),o),he.resolve(this.ei(l))}ei(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){bt(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return he.forEach(r.mutations,(i=>{const a=new Ir(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,r){const n=new Ir(r,0),i=this.Yr.firstAfterOrEqual(n);return he.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.ni=e,this.docs=(function(){return new Gt($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ni(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return he.resolve(n?n.document.mutableCopy():Zr.newInvalidDocument(r))}getEntries(e,r){let n=eo();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Zr.newInvalidDocument(i))})),he.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=eo();const o=r.path,l=new $e(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Yq(Xq(p),n)<=0||(i.has(p.key)||gy(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,r,n,i){qe(9500)}ri(e,r){return he.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new wW(this)}getSize(e){return he.resolve(this.size)}}class wW extends hW{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),he.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.persistence=e,this.ii=new Al((r=>YE(r)),QE),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.si=0,this.oi=new rT,this.targetCount=0,this._i=Zu.ar()}forEachTarget(e,r){return this.ii.forEach(((n,i)=>r(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.si&&(this.si=r),he.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Zu(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.hr(r),he.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ii.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const n=this.ii.get(r)||null;return he.resolve(n)}addMatchingKeys(e,r,n){return this.oi.Kr(r,n),he.resolve()}removeMatchingKeys(e,r,n){this.oi.Gr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),he.resolve()}getMatchingKeysForTargetId(e,r){const n=this.oi.Jr(r);return he.resolve(n)}containsKey(e,r){return he.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,r){this.ai={},this.overlays={},this.ui=new dy(0),this.ci=!1,this.ci=!0,this.li=new vW,this.referenceDelegate=e(this),this.hi=new _W(this),this.indexManager=new oW,this.remoteDocumentCache=(function(i){return new xW(i)})((n=>this.referenceDelegate.Pi(n))),this.serializer=new iW(r),this.Ti=new gW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new yW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ai[e.toKey()];return n||(n=new bW(r,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,n){je("MemoryPersistence","Starting transaction:",e);const i=new SW(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,r){return he.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,r))))}}class SW extends Jq{constructor(e){super(),this.currentSequenceNumber=e}}class nT{constructor(e){this.persistence=e,this.Ai=new rT,this.Ri=null}static Vi(e){return new nT(e)}get mi(){if(this.Ri)return this.Ri;throw qe(60996)}addReference(e,r,n){return this.Ai.addReference(n,r),this.mi.delete(n.toString()),he.resolve()}removeReference(e,r,n){return this.Ai.removeReference(n,r),this.mi.add(n.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),he.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((i=>this.mi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.mi,(n=>{const i=$e.fromPath(n);return this.fi(e,i).next((a=>{a||r.removeEntry(i,Ke.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((n=>{n?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return he.or([()=>he.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Ym{constructor(e,r){this.persistence=e,this.gi=new Al((n=>t7(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=fW(this,r)}static Vi(e,r){return new Ym(e,r)}Ii(){}di(e){return he.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}yr(e){let r=0;return this.gr(e,(n=>{r++})).next((()=>r))}gr(e,r){return he.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((a=>a?he.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(o=>this.Sr(e,o,r).next((l=>{l||(n++,a.removeEntry(o,Ke.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}removeReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Pm(e.data.value)),r}Sr(e,r,n){return he.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.gi.get(r);return he.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Is=n,this.ds=i}static Es(e,r){let n=ot(),i=ot();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iT(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return KB()?8:Zq(rn())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ps(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ys(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new EW;return this.ws(e,r,o).next((l=>{if(a.result=l,this.Rs)return this.Ss(e,r,o,l.size)}))})).next((()=>a.result))}Ss(e,r,n,i){return n.documentReadCount<this.Vs?(ju()<=it.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",ku(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(ju()<=it.DEBUG&&je("QueryEngine","Query:",ku(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(ju()<=it.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",ku(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,aa(r))):he.resolve())}ps(e,r){if(hI(r))return he.resolve(null);let n=aa(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=B1(r,null,"F"),n=aa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=ot(...a);return this.gs.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.bs(r,l);return this.Ds(r,d,o,c.readTime)?this.ps(e,B1(r,null,"F")):this.vs(e,d,r,c)}))))})))))}ys(e,r,n,i){return hI(r)||i.isEqual(Ke.min())?he.resolve(null):this.gs.getDocuments(e,n).next((a=>{const o=this.bs(r,a);return this.Ds(r,o,n,i)?he.resolve(null):(ju()<=it.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(r)),this.vs(e,o,r,Kq(i,yf)).next((l=>l)))}))}bs(e,r){let n=new _r(JL(e));return r.forEach(((i,a)=>{gy(e,a)&&(n=n.add(a))})),n}Ds(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,r,n){return ju()<=it.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",ku(r)),this.gs.getDocumentsMatchingQuery(e,r,as.min(),n)}vs(e,r,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="LocalStore",AW=3e8;class PW{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.Fs=new Gt(Ze),this.Ms=new Al((a=>YE(a)),QE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mW(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function jW(t,e,r,n){return new PW(t,e,r,n)}async function _5(t,e){const r=Ye(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Ns(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],l=[];let c=ot();for(const d of i){o.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of a){l.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Bs:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function kW(t,e){const r=Ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,p){const m=d.batch,y=m.keys();let x=he.resolve();return y.forEach((S=>{x=x.next((()=>p.getEntry(c,S))).next((w=>{const b=d.docVersions.get(S);bt(b!==null,48541),w.version.compareTo(b)<0&&(m.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),p.addEntry(w)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=ot();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function S5(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function IW(t,e){const r=Ye(t),n=e.snapshotVersion;let i=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Os.newChangeBuffer({trackRemovals:!0});i=r.Fs;const l=[];e.targetChanges.forEach(((p,m)=>{const y=i.get(m);if(!y)return;l.push(r.hi.removeMatchingKeys(a,p.removedDocuments,m).next((()=>r.hi.addMatchingKeys(a,p.addedDocuments,m))));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Wr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(m,x),(function(w,b,E){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=AW?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(y,x,p)&&l.push(r.hi.updateTargetData(a,x))}));let c=eo(),d=ot();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),l.push(NW(a,o,e.documentUpdates).next((p=>{c=p.Ls,d=p.ks}))),!n.isEqual(Ke.min())){const p=r.hi.getLastRemoteSnapshotVersion(a).next((m=>r.hi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(p)}return he.waitFor(l).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(r.Fs=i,a)))}function NW(t,e,r){let n=ot(),i=ot();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=eo();return r.forEach(((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):je(aT,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Ls:o,ks:i}}))}function CW(t,e){const r=Ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=GE),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function OW(t,e){const r=Ye(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.hi.getTargetData(n,e).next((a=>a?(i=a,he.resolve(i)):r.hi.allocateTargetId(n).next((o=>(i=new Ko(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.hi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(n.targetId,n),r.Ms.set(e,n.targetId)),n}))}async function G1(t,e,r){const n=Ye(t),i=n.Fs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Nc(o))throw o;je(aT,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function AI(t,e,r){const n=Ye(t);let i=Ke.min(),a=ot();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,p){const m=Ye(c),y=m.Ms.get(p);return y!==void 0?he.resolve(m.Fs.get(y)):m.hi.getTargetData(d,p)})(n,o,aa(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(o,e,r?i:Ke.min(),r?a:ot()))).next((l=>(RW(n,x7(e),l),{documents:l,qs:a})))))}function RW(t,e,r){let n=t.xs.get(e)||Ke.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.xs.set(e,n)}class PI{constructor(){this.activeTargetIds=A7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MW{constructor(){this.Fo=new PI,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,n){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new PI,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="ConnectivityMonitor";class kI{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){je(jI,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){je(jI,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function K1(){return im===null?im=(function(){return 268435456+Math.round(2147483648*Math.random())})():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="RestConnection",LW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $W{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===qm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const o=K1(),l=this.Go(e,r.toUriEncodedString());je(nx,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:d}=new URL(l),p=Pc(d);return this.jo(e,l,c,n,p).then((m=>(je(nx,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw is(nx,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",n),m}))}Jo(e,r,n,i,a,o){return this.Wo(e,r,n,i,a)}zo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Go(e,r){const n=LW[e];return`${this.$o}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="WebChannelConnection";class FW extends $W{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,n,i,a){const o=K1();return new Promise(((l,c)=>{const d=new EL;d.setWithCredentials(!0),d.listenOnce(TL.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Am.NO_ERROR:const m=d.getResponseJson();je(Yr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Am.TIMEOUT:je(Yr,`RPC '${e}' ${o} timed out`),c(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const y=d.getStatus();if(je(Yr,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const w=(function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(T)>=0?T:ce.UNKNOWN})(S.status);c(new Te(w,S.message))}else c(new Te(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{je(Yr,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);je(Yr,`RPC '${e}' ${o} sending request:`,i),d.send(r,"POST",p,n,15)}))}P_(e,r,n){const i=K1(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jL(),l=PL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const p=a.join("");je(Yr,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=o.createWebChannel(p,c);this.T_(m);let y=!1,x=!1;const S=new VW({Ho:b=>{x?je(Yr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(je(Yr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),je(Yr,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},Yo:()=>m.close()}),w=(b,E,T)=>{b.listen(E,(N=>{try{T(N)}catch(C){setTimeout((()=>{throw C}),0)}}))};return w(m,Bd.EventType.OPEN,(()=>{x||(je(Yr,`RPC '${e}' stream ${i} transport opened.`),S.s_())})),w(m,Bd.EventType.CLOSE,(()=>{x||(x=!0,je(Yr,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(m))})),w(m,Bd.EventType.ERROR,(b=>{x||(x=!0,is(Yr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.__(new Te(ce.UNAVAILABLE,"The operation could not be completed")))})),w(m,Bd.EventType.MESSAGE,(b=>{var E;if(!x){const T=b.data[0];bt(!!T,16349);const N=T,C=(N==null?void 0:N.error)||((E=N[0])===null||E===void 0?void 0:E.error);if(C){je(Yr,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let O=(function(M){const U=sr[M];if(U!==void 0)return c5(U)})(k),P=C.message;O===void 0&&(O=ce.INTERNAL,P="Unknown error status: "+k+" with message "+C.message),x=!0,S.__(new Te(O,P)),m.close()}else je(Yr,`RPC '${e}' stream ${i} received:`,T),S.a_(T)}})),w(l,AL.STAT_EVENT,(b=>{b.stat===M1.PROXY?je(Yr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===M1.NOPROXY&&je(Yr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.o_()}),0),S}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function ix(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){return new q7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=r,this.d_=n,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-n);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="PersistentStream";class T5{constructor(e,r,n,i,a,o,l,c){this.Fi=e,this.w_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new E5(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Za(r.toString()),Za("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.b_===r&&this.W_(n,i)}),(n=>{e((()=>{const i=new Te(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)}))}))}W_(e,r){const n=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{n((()=>this.G_(i)))})),this.stream.onMessage((i=>{n((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return je(II,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(je(II,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UW extends T5{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=G7(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ke.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?oa(o.readTime):Ke.min()})(e);return this.listener.J_(r,n)}H_(e){const r={};r.database=H1(this.serializer),r.addTarget=(function(a,o){let l;const c=o.target;if(l=F1(c)?{documents:Y7(a,c)}:{query:Q7(a,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=h5(a,o.resumeToken);const d=z1(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ke.min())>0){l.readTime=Xm(a,o.snapshotVersion.toTimestamp());const d=z1(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const n=Z7(this.serializer,e);n&&(r.labels=n),this.k_(r)}Y_(e){const r={};r.database=H1(this.serializer),r.removeTarget=e,this.k_(r)}}class BW extends T5{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=X7(e.writeResults,e.commitTime),n=oa(e.commitTime);return this.listener.ta(n,r)}na(){const e={};e.database=H1(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>K7(this.serializer,n)))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{}class qW extends zW{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Wo(e,q1(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ce.UNKNOWN,a.toString())}))}Jo(e,r,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Jo(e,q1(r,n),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ce.UNKNOWN,o.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class WW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Za(r),this._a=!1):je("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class HW{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((o=>{n.enqueueAndForget((async()=>{Pl(this)&&(je(vl,"Restarting streams for network reachability change."),await(async function(c){const d=Ye(c);d.Ia.add(4),await yh(d),d.Aa.set("Unknown"),d.Ia.delete(4),await _y(d)})(this))}))})),this.Aa=new WW(n,i)}}async function _y(t){if(Pl(t))for(const e of t.da)await e(!0)}async function yh(t){for(const e of t.da)await e(!1)}function A5(t,e){const r=Ye(t);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),uT(r)?lT(r):Oc(r).x_()&&sT(r,e))}function oT(t,e){const r=Ye(t),n=Oc(r);r.Ta.delete(e),n.x_()&&P5(r,e),r.Ta.size===0&&(n.x_()?n.B_():Pl(r)&&r.Aa.set("Unknown"))}function sT(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Oc(t).H_(e)}function P5(t,e){t.Ra.$e(e),Oc(t).Y_(e)}function lT(t){t.Ra=new F7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.Aa.aa()}function uT(t){return Pl(t)&&!Oc(t).M_()&&t.Ta.size>0}function Pl(t){return Ye(t).Ia.size===0}function j5(t){t.Ra=void 0}async function GW(t){t.Aa.set("Online")}async function KW(t){t.Ta.forEach(((e,r)=>{sT(t,e)}))}async function XW(t,e){j5(t),uT(t)?(t.Aa.la(e),lT(t)):t.Aa.set("Unknown")}async function YW(t,e,r){if(t.Aa.set("Online"),e instanceof f5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ta.delete(l),i.Ra.removeTarget(l))})(t,e)}catch(n){je(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qm(t,n)}else if(e instanceof Im?t.Ra.Ye(e):e instanceof d5?t.Ra.it(e):t.Ra.et(e),!r.isEqual(Ke.min()))try{const n=await S5(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const l=a.Ra.Pt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Ta.get(d);p&&a.Ta.set(d,p.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const p=a.Ta.get(c);if(!p)return;a.Ta.set(c,p.withResumeToken(Wr.EMPTY_BYTE_STRING,p.snapshotVersion)),P5(a,c);const m=new Ko(p.target,c,d,p.sequenceNumber);sT(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){je(vl,"Failed to raise snapshot:",n),await Qm(t,n)}}async function Qm(t,e,r){if(!Nc(e))throw e;t.Ia.add(1),await yh(t),t.Aa.set("Offline"),r||(r=()=>S5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(vl,"Retrying IndexedDB access"),await r(),t.Ia.delete(1),await _y(t)}))}function k5(t,e){return e().catch((r=>Qm(t,r,e)))}async function Sy(t){const e=Ye(t),r=us(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:GE;for(;QW(e);)try{const i=await CW(e.localStore,n);if(i===null){e.Pa.length===0&&r.B_();break}n=i.batchId,JW(e,i)}catch(i){await Qm(e,i)}I5(e)&&N5(e)}function QW(t){return Pl(t)&&t.Pa.length<10}function JW(t,e){t.Pa.push(e);const r=us(t);r.x_()&&r.Z_&&r.X_(e.mutations)}function I5(t){return Pl(t)&&!us(t).M_()&&t.Pa.length>0}function N5(t){us(t).start()}async function ZW(t){us(t).na()}async function eH(t){const e=us(t);for(const r of t.Pa)e.X_(r.mutations)}async function tH(t,e,r){const n=t.Pa.shift(),i=ZE.from(n,e,r);await k5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Sy(t)}async function rH(t,e){e&&us(t).Z_&&await(async function(n,i){if((function(o){return $7(o)&&o!==ce.ABORTED})(i.code)){const a=n.Pa.shift();us(n).N_(),await k5(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Sy(n)}})(t,e),I5(t)&&N5(t)}async function NI(t,e){const r=Ye(t);r.asyncQueue.verifyOperationInProgress(),je(vl,"RemoteStore received new credentials");const n=Pl(r);r.Ia.add(3),await yh(r),n&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await _y(r)}async function nH(t,e){const r=Ye(t);e?(r.Ia.delete(2),await _y(r)):e||(r.Ia.add(2),await yh(r),r.Aa.set("Unknown"))}function Oc(t){return t.Va||(t.Va=(function(r,n,i){const a=Ye(r);return a.ia(),new UW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:GW.bind(null,t),e_:KW.bind(null,t),n_:XW.bind(null,t),J_:YW.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),uT(t)?lT(t):t.Aa.set("Unknown")):(await t.Va.stop(),j5(t))}))),t.Va}function us(t){return t.ma||(t.ma=(function(r,n,i){const a=Ye(r);return a.ia(),new BW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:ZW.bind(null,t),n_:rH.bind(null,t),ea:eH.bind(null,t),ta:tH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Sy(t)):(await t.ma.stop(),t.Pa.length>0&&(je(vl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new cT(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dT(t,e){if(Za("AsyncQueue",`${e}: ${t}`),Nc(t))return new Te(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{static emptySet(e){return new Fu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||$e.comparator(r.key,n.key):(r,n)=>$e.comparator(r.key,n.key),this.keyedMap=zd(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Fu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.fa=new Gt($e.comparator)}track(e){const r=e.doc.key,n=this.fa.get(r);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(r,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(r):e.type===1&&n.type===2?this.fa=this.fa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):qe(63341,{At:e,ga:n}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,n)=>{e.push(n)})),e}}class ec{constructor(e,r,n,i,a,o,l,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new ec(e,r,Fu.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class aH{constructor(){this.queries=OI(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,n){const i=Ye(r),a=i.queries;i.queries=OI(),a.forEach(((o,l)=>{for(const c of l.wa)c.onError(n)}))})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function OI(){return new Al((t=>QL(t)),my)}async function fT(t,e){const r=Ye(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.ba()&&(n=2):(a=new iH,n=e.ba()?0:1);try{switch(n){case 0:a.ya=await r.onListen(i,!0);break;case 1:a.ya=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=dT(o,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.wa.push(e),e.va(r.onlineState),a.ya&&e.Ca(a.ya)&&pT(r)}async function hT(t,e){const r=Ye(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.wa.indexOf(e);o>=0&&(a.wa.splice(o,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function oH(t,e){const r=Ye(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.wa)l.Ca(i)&&(n=!0);o.ya=i}}n&&pT(r)}function sH(t,e,r){const n=Ye(t),i=n.queries.get(e);if(i)for(const a of i.wa)a.onError(r);n.queries.delete(e)}function pT(t){t.Da.forEach((e=>{e.next()}))}var X1,RI;(RI=X1||(X1={})).Fa="default",RI.Cache="cache";class mT{constructor(e,r,n){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ec(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const n=r!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==X1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.key=e}}class O5{constructor(e){this.key=e}}class lH{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ot(),this.mutatedKeys=ot(),this.Xa=JL(e),this.eu=new Fu(this.Xa)}get tu(){return this.Ha}nu(e,r){const n=r?r.ru:new CI,i=r?r.eu:this.eu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const y=i.get(p),x=gy(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?S!==w&&(n.track({type:3,doc:x}),b=!0):this.iu(y,x)||(n.track({type:2,doc:x}),b=!0,(c&&this.Xa(x,c)>0||d&&this.Xa(x,d)<0)&&(l=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(c||d)&&(l=!0)),b&&(x?(o=o.add(x),a=w?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{eu:o,ru:n,Ds:l,mutatedKeys:a}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((p,m)=>(function(x,S){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{At:b})}};return w(x)-w(S)})(p.type,m.type)||this.Xa(p.doc,m.doc))),this.su(n),i=i!=null&&i;const l=r&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,d=c!==this.Ya;return this.Ya=c,o.length!==0||d?{snapshot:new ec(this.query,e.eu,a,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new CI,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ot(),this.eu.forEach((n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))}));const r=[];return e.forEach((n=>{this.Za.has(n)||r.push(new O5(n))})),this.Za.forEach((n=>{e.has(n)||r.push(new C5(n))})),r}uu(e){this.Ha=e.qs,this.Za=ot();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return ec.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const gT="SyncEngine";class uH{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class cH{constructor(e){this.key=e,this.lu=!1}}class dH{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Al((l=>QL(l)),my),this.Tu=new Map,this.Iu=new Set,this.du=new Gt($e.comparator),this.Eu=new Map,this.Au=new rT,this.Ru={},this.Vu=new Map,this.mu=Zu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function fH(t,e,r=!0){const n=V5(t);let i;const a=n.Pu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await R5(n,e,r,!0),i}async function hH(t,e){const r=V5(t);await R5(r,e,!0,!1)}async function R5(t,e,r,n){const i=await OW(t.localStore,aa(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await pH(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&A5(t.remoteStore,i),l}async function pH(t,e,r,n,i){t.gu=(m,y,x)=>(async function(w,b,E,T){let N=b.view.nu(E);N.Ds&&(N=await AI(w.localStore,b.query,!1).then((({documents:P})=>b.view.nu(P,N))));const C=T&&T.targetChanges.get(b.targetId),k=T&&T.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(N,w.isPrimaryClient,C,k);return DI(w,b.targetId,O._u),O.snapshot})(t,m,y,x);const a=await AI(t.localStore,e,!0),o=new lH(e,a.qs),l=o.nu(a.documents),c=gh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);DI(t,r,d._u);const p=new uH(e,r,o);return t.Pu.set(e,p),t.Tu.has(r)?t.Tu.get(r).push(e):t.Tu.set(r,[e]),d.snapshot}async function mH(t,e,r){const n=Ye(t),i=n.Pu.get(e),a=n.Tu.get(i.targetId);if(a.length>1)return n.Tu.set(i.targetId,a.filter((o=>!my(o,e)))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await G1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&oT(n.remoteStore,i.targetId),Y1(n,i.targetId)})).catch(Ic)):(Y1(n,i.targetId),await G1(n.localStore,i.targetId,!0))}async function gH(t,e){const r=Ye(t),n=r.Pu.get(e),i=r.Tu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),oT(r.remoteStore,n.targetId))}async function yH(t,e,r){const n=EH(t);try{const i=await(function(o,l){const c=Ye(o),d=Lt.now(),p=l.reduce(((x,S)=>x.add(S.key)),ot());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=eo(),w=ot();return c.Os.getEntries(x,p).next((b=>{S=b,S.forEach(((E,T)=>{T.isValidDocument()||(w=w.add(E))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((b=>{m=b;const E=[];for(const T of l){const N=O7(T,m.get(T.key).overlayedDocument);N!=null&&E.push(new ms(T.key,N,zL(N.value.mapValue),dn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,E,l)})).next((b=>{y=b;const E=b.applyToLocalDocumentSet(m,w);return c.documentOverlayCache.saveOverlays(x,b.batchId,E)}))})).then((()=>({batchId:y.batchId,changes:e5(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new Gt(Ze)),d=d.insert(l,c),o.Ru[o.currentUser.toKey()]=d})(n,i.batchId,r),await vh(n,i.changes),await Sy(n.remoteStore)}catch(i){const a=dT(i,"Failed to persist write");r.reject(a)}}async function M5(t,e){const r=Ye(t);try{const n=await IW(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Eu.get(a);o&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?bt(o.lu,14607):i.removedDocuments.size>0&&(bt(o.lu,42227),o.lu=!1))})),await vh(r,n,e)}catch(n){await Ic(n)}}function MI(t,e,r){const n=Ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Pu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=Ye(o);c.onlineState=l;let d=!1;c.queries.forEach(((p,m)=>{for(const y of m.wa)y.va(l)&&(d=!0)})),d&&pT(c)})(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function vH(t,e,r){const n=Ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),a=i&&i.key;if(a){let o=new Gt($e.comparator);o=o.insert(a,Zr.newNoDocument(a,Ke.min()));const l=ot().add(a),c=new xy(Ke.min(),new Map,new Gt(Ze),o,l);await M5(n,c),n.du=n.du.remove(a),n.Eu.delete(e),yT(n)}else await G1(n.localStore,e,!1).then((()=>Y1(n,e,r))).catch(Ic)}async function bH(t,e){const r=Ye(t),n=e.batch.batchId;try{const i=await kW(r.localStore,e);L5(r,n,null),D5(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await vh(r,i)}catch(i){await Ic(i)}}async function xH(t,e,r){const n=Ye(t);try{const i=await(function(o,l){const c=Ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(bt(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>c.localDocuments.getDocuments(d,p)))}))})(n.localStore,e);L5(n,e,r),D5(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await vh(n,i)}catch(i){await Ic(i)}}function D5(t,e){(t.Vu.get(e)||[]).forEach((r=>{r.resolve()})),t.Vu.delete(e)}function L5(t,e,r){const n=Ye(t);let i=n.Ru[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function Y1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Tu.get(e))t.Pu.delete(n),r&&t.hu.pu(n,r);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((n=>{t.Au.containsKey(n)||$5(t,n)}))}function $5(t,e){t.Iu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(oT(t.remoteStore,r),t.du=t.du.remove(e),t.Eu.delete(r),yT(t))}function DI(t,e,r){for(const n of r)n instanceof C5?(t.Au.addReference(n.key,e),wH(t,n)):n instanceof O5?(je(gT,"Document no longer in limbo: "+n.key),t.Au.removeReference(n.key,e),t.Au.containsKey(n.key)||$5(t,n.key)):qe(19791,{yu:n})}function wH(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Iu.has(n)||(je(gT,"New document in limbo: "+r),t.Iu.add(n),yT(t))}function yT(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const r=new $e(Nt.fromString(e)),n=t.mu.next();t.Eu.set(n,new cH(r)),t.du=t.du.insert(r,n),A5(t.remoteStore,new Ko(aa(py(r.path)),n,"TargetPurposeLimboResolution",dy.ue))}}async function vh(t,e,r){const n=Ye(t),i=[],a=[],o=[];n.Pu.isEmpty()||(n.Pu.forEach(((l,c)=>{o.push(n.gu(c,e,r).then((d=>{var p;if((d||r)&&n.isPrimaryClient){const m=d?!d.fromCache:(p=r==null?void 0:r.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=iT.Es(c.targetId,d);a.push(m)}})))})),await Promise.all(o),n.hu.J_(i),await(async function(c,d){const p=Ye(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>he.forEach(d,(y=>he.forEach(y.Is,(x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x))).next((()=>he.forEach(y.ds,(x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))))))}catch(m){if(!Nc(m))throw m;je(aT,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const x=p.Fs.get(y),S=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(S);p.Fs=p.Fs.insert(y,w)}}})(n.localStore,a))}async function _H(t,e){const r=Ye(t);if(!r.currentUser.isEqual(e)){je(gT,"User change. New user:",e.toKey());const n=await _5(r.localStore,e);r.currentUser=e,(function(a,o){a.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Te(ce.CANCELLED,o))}))})),a.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await vh(r,n.Bs)}}function SH(t,e){const r=Ye(t),n=r.Eu.get(e);if(n&&n.lu)return ot().add(n.key);{let i=ot();const a=r.Tu.get(e);if(!a)return i;for(const o of a){const l=r.Pu.get(o);i=i.unionWith(l.view.tu)}return i}}function V5(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vH.bind(null,e),e.hu.J_=oH.bind(null,e.eventManager),e.hu.pu=sH.bind(null,e.eventManager),e}function EH(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xH.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return jW(this.persistence,new TW,e.initialUser,this.serializer)}Du(e){return new w5(nT.Vi,this.serializer)}bu(e){return new MW}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class TH extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){bt(this.persistence.referenceDelegate instanceof Ym,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new cW(n,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new w5((n=>Ym.Vi(n,r)),this.serializer)}}class Q1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>MI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=_H.bind(null,this.syncEngine),await nH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aH})()}createDatastore(e){const r=wy(e.databaseInfo.databaseId),n=(function(a){return new FW(a)})(e.databaseInfo);return(function(a,o,l,c){return new qW(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,l){return new HW(n,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>MI(this.syncEngine,r,0)),(function(){return kI.C()?new kI:new DW})())}createSyncEngine(e,r){return(function(i,a,o,l,c,d,p){const m=new dH(i,a,o,l,c,d);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=Ye(i);je(vl,"RemoteStore shutting down."),a.Ia.add(5),await yh(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Q1.provider={build:()=>new Q1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Za("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class AH{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=HE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{je(cs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(je(cs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=dT(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ax(t,e){t.asyncQueue.verifyOperationInProgress(),je(cs,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await _5(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>{is("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{je("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{is("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function LI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await PH(t);je(cs,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>NI(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>NI(e.remoteStore,i))),t._onlineComponents=e}async function PH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(cs,"Using user provided OfflineComponentProvider");try{await ax(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;is("Error using user provided cache. Falling back to memory cache: "+r),await ax(t,new Jm)}}else je(cs,"Using default OfflineComponentProvider"),await ax(t,new TH(void 0));return t._offlineComponents}async function F5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(cs,"Using user provided OnlineComponentProvider"),await LI(t,t._uninitializedComponentsProvider._online)):(je(cs,"Using default OnlineComponentProvider"),await LI(t,new Q1))),t._onlineComponents}function jH(t){return F5(t).then((e=>e.syncEngine))}async function Zm(t){const e=await F5(t),r=e.eventManager;return r.onListen=fH.bind(null,e.syncEngine),r.onUnlisten=mH.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=hH.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=gH.bind(null,e.syncEngine),r}function kH(t,e,r={}){const n=new Wa;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,d){const p=new vT({next:y=>{p.Ou(),o.enqueueAndForget((()=>hT(a,m)));const x=y.docs.has(l);!x&&y.fromCache?d.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&c&&c.source==="server"?d.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new mT(py(l.path),p,{includeMetadataChanges:!0,ka:!0});return fT(a,m)})(await Zm(t),t.asyncQueue,e,r,n))),n.promise}function IH(t,e,r={}){const n=new Wa;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,d){const p=new vT({next:y=>{p.Ou(),o.enqueueAndForget((()=>hT(a,m))),y.fromCache&&c.source==="server"?d.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new mT(l,p,{includeMetadataChanges:!0,ka:!0});return fT(a,m)})(await Zm(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="firestore.googleapis.com",VI=!0;class FI{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B5,this.ssl=VI}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:VI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lW)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U5((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $q;switch(n.type){case"firstParty":return new Bq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=$I.get(r);n&&(je("ComponentProvider","Removing Datastore"),$I.delete(r),n.terminate())})(this),Promise.resolve()}}function NH(t,e,r,n={}){var i;t=cn(t,Ey);const a=Pc(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;a&&(O4(`https://${c}`),R4("Firestore",!0)),o.host!==B5&&o.host!==c&&is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:n});if(!Ya(d,l)&&(t._setSettings(d),n.mockUserToken)){let p,m;if(typeof n.mockUserToken=="string")p=n.mockUserToken,m=Jr.MOCK_USER;else{p=VB(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jr(y)}t._authCredentials=new Vq(new IL(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class Jt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(ph(r,Jt._jsonSchema))return new Jt(e,n||null,new $e(Nt.fromString(r.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:cr("string",Jt._jsonSchemaVersion),referencePath:cr("string")};class ts extends gs{constructor(e,r,n){super(e,r,py(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new $e(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function An(t,e,...r){if(t=Pt(t),CL("collection","path",e),t instanceof Ey){const n=Nt.fromString(e,...r);return Zk(n),new ts(t,null,n)}{if(!(t instanceof Jt||t instanceof ts))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nt.fromString(e,...r));return Zk(n),new ts(t.firestore,null,n)}}function tn(t,e,...r){if(t=Pt(t),arguments.length===1&&(e=HE.newId()),CL("doc","path",e),t instanceof Ey){const n=Nt.fromString(e,...r);return Jk(n),new Jt(t,null,new $e(n))}{if(!(t instanceof Jt||t instanceof ts))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nt.fromString(e,...r));return Jk(n),new Jt(t.firestore,t instanceof ts?t.converter:null,new $e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="AsyncQueue";class BI{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new E5(this,"async_queue_retry"),this.oc=()=>{const n=ix();n&&je(UI,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const r=ix();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=ix();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Wa;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Nc(e))throw e;je(UI,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((n=>{throw this.tc=n,this.nc=!1,Za("INTERNAL UNHANDLED ERROR: ",zI(n)),n})).then((n=>(this.nc=!1,n))))));return this._c=r,r}enqueueAfterDelay(e,r,n){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const i=cT.createAndSchedule(this,e,r,n,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&qe(47125,{hc:zI(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function zI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class fa extends Ey{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new BI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BI(e),this._firestoreClient=void 0,await e}}}function CH(t,e){const r=typeof t=="object"?t:$4(),n=typeof t=="string"?t:qm,i=OE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=LB("firestore");a&&NH(i,...a)}return i}function bh(t){if(t._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OH(t),t._firestoreClient}function OH(t){var e,r,n;const i=t._freezeSettings(),a=(function(l,c,d,p){return new i7(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U5(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new AH(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Wr.fromBase64String(e))}catch(r){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ai(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ph(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:cr("string",ai._jsonSchemaVersion),bytes:cr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sa._jsonSchemaVersion}}static fromJSON(e){if(ph(e,sa._jsonSchema))return new sa(e.latitude,e.longitude)}}sa._jsonSchemaVersion="firestore/geoPoint/1.0",sa._jsonSchema={type:cr("string",sa._jsonSchemaVersion),latitude:cr("number"),longitude:cr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:la._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ph(e,la._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new la(e.vectorValues);throw new Te(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}la._jsonSchemaVersion="firestore/vectorValue/1.0",la._jsonSchema={type:cr("string",la._jsonSchemaVersion),vectorValues:cr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=/^__.*__$/;class MH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,r,this.fieldTransforms):new mh(e,this.data,r,this.fieldTransforms)}}class z5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ms(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function q5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ec:t})}}class Ty{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return eg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(q5(this.Ec)&&RH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class DH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||wy(e)}Dc(e,r,n,i=!1){return new Ty({Ec:e,methodName:r,bc:n,path:qr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(t){const e=t._freezeSettings(),r=wy(t._databaseId);return new DH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function bT(t,e,r,n,i,a={}){const o=t.Dc(a.merge||a.mergeFields?2:0,e,r,i);_T("Data must be an object, but it was:",o,n);const l=K5(n,o);let c,d;if(a.merge)c=new Fn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=J1(e,m,r);if(!o.contains(y))throw new Te(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Y5(p,y)||p.push(y)}c=new Fn(p),d=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=o.fieldTransforms;return new MH(new Sn(l),c,d)}class Ay extends wh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function W5(t,e,r){return new Ty({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xT extends wh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=W5(this,e,!0),n=this.vc.map((a=>jl(a,r))),i=new Qu(n);return new s5(e.path,i)}isEqual(e){return e instanceof xT&&Ya(this.vc,e.vc)}}class wT extends wh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=W5(this,e,!0),n=this.vc.map((a=>jl(a,r))),i=new Ju(n);return new s5(e.path,i)}isEqual(e){return e instanceof wT&&Ya(this.vc,e.vc)}}function H5(t,e,r,n){const i=t.Dc(1,e,r);_T("Data must be an object, but it was:",i,n);const a=[],o=Sn.empty();ps(n,((c,d)=>{const p=ST(e,c,r);d=Pt(d);const m=i.gc(p);if(d instanceof Ay)a.push(p);else{const y=jl(d,m);y!=null&&(a.push(p),o.set(p,y))}}));const l=new Fn(a);return new z5(o,l,i.fieldTransforms)}function G5(t,e,r,n,i,a){const o=t.Dc(1,e,r),l=[J1(e,n,r)],c=[i];if(a.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(J1(e,a[y])),c.push(a[y+1]);const d=[],p=Sn.empty();for(let y=l.length-1;y>=0;--y)if(!Y5(d,l[y])){const x=l[y];let S=c[y];S=Pt(S);const w=o.gc(x);if(S instanceof Ay)d.push(x);else{const b=jl(S,w);b!=null&&(d.push(x),p.set(x,b))}}const m=new Fn(d);return new z5(p,m,o.fieldTransforms)}function LH(t,e,r,n=!1){return jl(r,t.Dc(n?4:3,e))}function jl(t,e){if(X5(t=Pt(t)))return _T("Unsupported field value:",e,t),K5(t,e);if(t instanceof wh)return(function(n,i){if(!q5(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const l of n){let c=jl(l,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return P7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Lt.fromDate(n);return{timestampValue:Xm(i.serializer,a)}}if(n instanceof Lt){const a=new Lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xm(i.serializer,a)}}if(n instanceof sa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ai)return{bytesValue:h5(i.serializer,n._byteString)};if(n instanceof Jt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tT(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof la)return(function(o,l){return{mapValue:{fields:{[UL]:{stringValue:BL},[Wm]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return JE(l.serializer,d)}))}}}}}})(n,i);throw i.wc(`Unsupported field value: ${cy(n)}`)})(t,e)}function K5(t,e){const r={};return ML(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,((n,i)=>{const a=jl(i,e.Vc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function X5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof sa||t instanceof ai||t instanceof Jt||t instanceof wh||t instanceof la)}function _T(t,e,r){if(!X5(r)||!OL(r)){const n=cy(r);throw n==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+n)}}function J1(t,e,r){if((e=Pt(e))instanceof xh)return e._internalPath;if(typeof e=="string")return ST(t,e);throw eg("Field path arguments must be of type string or ",t,!1,void 0,r)}const $H=new RegExp("[~\\*/\\[\\]]");function ST(t,e,r){if(e.search($H)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new xh(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function eg(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new Te(ce.INVALID_ARGUMENT,l+t+c)}function Y5(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class VH extends Q5{data(){return super.data()}}function Py(t,e){return typeof e=="string"?ST(t,e):e instanceof xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ET{}class Z5 extends ET{}function Sr(t,e,...r){let n=[];e instanceof ET&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((c=>c instanceof TT)).length,l=a.filter((c=>c instanceof jy)).length;if(o>1||o>0&&l>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class jy extends Z5{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new jy(e,r,n)}_apply(e){const r=this._parse(e);return t3(e._query,r),new gs(e.firestore,e.converter,U1(e._query,r))}_parse(e){const r=_h(e.firestore);return(function(a,o,l,c,d,p,m){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){HI(m,p);const S=[];for(const w of m)S.push(WI(c,a,w));y={arrayValue:{values:S}}}else y=WI(c,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||HI(m,p),y=LH(l,o,m,p==="in"||p==="not-in");return ur.create(d,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ut(t,e,r){const n=e,i=Py("where",t);return jy._create(i,n,r)}class TT extends ET{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new TT(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Mi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)t3(o,c),o=U1(o,c)})(e._query,r),new gs(e.firestore,e.converter,U1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AT extends Z5{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new AT(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wf(a,o)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Cc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function e3(t,e="asc"){const r=e,n=Py("orderBy",t);return AT._create(n,r)}function WI(t,e,r){if(typeof(r=Pt(r))=="string"){if(r==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YL(e)&&r.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Nt.fromString(r));if(!$e.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return sI(t,new $e(n))}if(r instanceof Jt)return sI(t,r._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cy(r)}.`)}function HI(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t3(t,e){const r=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class FH{convertValue(e,r="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ps(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Wm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((o=>rr(o.doubleValue)));return new la(a)}convertGeoPoint(e){return new sa(rr(e.latitude),rr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=hy(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const r=os(e);return new Lt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Nt.fromString(e);bt(b5(n),9688,{name:e});const i=new bf(n.get(1),n.get(3)),a=new $e(n.popFirst(5));return i.isEqual(r)||Za(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Wd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ll extends Q5{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ll._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",ll._jsonSchema={type:cr("string",ll._jsonSchemaVersion),bundleSource:cr("string","DocumentSnapshot"),bundleName:cr("string"),bundle:cr("string")};class Nm extends ll{data(e={}){return super.data(e)}}class ul{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Nm(this._firestore,this._userDataWriter,n.key,n,new Wd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new Nm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Nm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:UH(l.type),doc:c,oldIndex:d,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=HE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){t=cn(t,Jt);const e=cn(t.firestore,fa);return kH(bh(e),t._key).then((r=>n3(e,t,r)))}ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:cr("string",ul._jsonSchemaVersion),bundleSource:cr("string","QuerySnapshot"),bundleName:cr("string"),bundle:cr("string")};class jT extends FH{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,r)}}function ds(t){t=cn(t,gs);const e=cn(t.firestore,fa),r=bh(e),n=new jT(e);return J5(t._query),IH(r,t._query).then((i=>new ul(e,n,t,i)))}function Di(t,e,r){t=cn(t,Jt);const n=cn(t.firestore,fa),i=PT(t.converter,e,r);return Sh(n,[bT(_h(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,dn.none())])}function rt(t,e,r,...n){t=cn(t,Jt);const i=cn(t.firestore,fa),a=_h(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof xh?G5(a,"updateDoc",t._key,e,r,n):H5(a,"updateDoc",t._key,e),Sh(i,[o.toMutation(t._key,dn.exists(!0))])}function r3(t){return Sh(cn(t.firestore,fa),[new by(t._key,dn.none())])}function Un(t,e){const r=cn(t.firestore,fa),n=tn(t),i=PT(t.converter,e);return Sh(r,[bT(_h(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,dn.exists(!1))]).then((()=>n))}function Or(t,...e){var r,n,i;t=Pt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||qI(e[o])||(a=e[o++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(qI(e[o])){const m=e[o];e[o]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,p;if(t instanceof Jt)d=cn(t.firestore,fa),p=py(t._key.path),c={next:m=>{e[o]&&e[o](n3(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=cn(t,gs);d=cn(m.firestore,fa),p=m._query;const y=new jT(d);c={next:x=>{e[o]&&e[o](new ul(d,y,m,x))},error:e[o+1],complete:e[o+2]},J5(t._query)}return(function(y,x,S,w){const b=new vT(w),E=new mT(x,b,S);return y.asyncQueue.enqueueAndForget((async()=>fT(await Zm(y),E))),()=>{b.Ou(),y.asyncQueue.enqueueAndForget((async()=>hT(await Zm(y),E)))}})(bh(d),p,l,c)}function Sh(t,e){return(function(n,i){const a=new Wa;return n.asyncQueue.enqueueAndForget((async()=>yH(await jH(n),i,a))),a.promise})(bh(t),e)}function n3(t,e,r){const n=r.docs.get(e._key),i=new jT(t);return new ll(t,i,e._key,n,new Wd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=_h(e)}set(e,r,n){this._verifyNotCommitted();const i=ox(e,this._firestore),a=PT(i.converter,r,n),o=bT(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,dn.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=ox(e,this._firestore);let o;return o=typeof(r=Pt(r))=="string"||r instanceof xh?G5(this._dataReader,"WriteBatch.update",a._key,r,n,i):H5(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ox(e,this._firestore);return this._mutations=this._mutations.concat(new by(r._key,dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ox(t,e){if((t=Pt(t)).firestore!==e)throw new Te(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Hd(...t){return new xT("arrayUnion",t)}function Gd(...t){return new wT("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){return bh(t=cn(t,fa)),new BH(t,(e=>Sh(t,e)))}(function(e,r=!0){(function(i){kc=i})(jc),Gu(new hl("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new fa(new Fq(n.getProvider("auth-internal")),new zq(o,n.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bf(d.options.projectId,p)})(o,i),o);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Zo(Gk,Kk,e),Zo(Gk,Kk,"esm2017")})();const zH={apiKey:"AIzaSyCe85WvMIdGqpB4fQ-5l4c46fikr-EwO5s",authDomain:"sarasva-e25dd.firebaseapp.com",projectId:"sarasva-e25dd",storageBucket:"sarasva-e25dd.firebasestorage.app",messagingSenderId:"1033167676784",appId:"1:1033167676784:web:9134c434cc4716434ddbb5"},i3=L4(zH),Vr=Rq(i3),ht=CH(i3);function nr(t,e){return An(ht,"users",t,e)}function at(t,e,r){return tn(ht,"users",t,e,r)}async function Su(t,{name:e,course:r}){const n=e??"";await Di(tn(ht,"publicProfiles",t),{name:n,nameLower:n.toLowerCase(),course:r??"",uid:t},{merge:!0})}const Zs={focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0};function ei(t){return tn(ht,"users",t,"profile","data")}function Eu(t,e={}){return{id:t.uid,name:e.name??t.displayName??"",email:t.email,course:e.course??"",semester:e.semester??"",institute:e.institute??"",settings:e.settings??Zs,notificationsEmail:e.notificationsEmail??!1,avatarColor:e.avatarColor??"#6366f1",avatarEmoji:e.avatarEmoji??null,role:e.role??"user"}}const wn={async register({name:t,email:e,password:r,course:n="",semester:i=""}){const a=await p8(Vr,e,r);await Dk(a.user,{displayName:t});const o={name:t,course:n,semester:i,institute:"",settings:Zs};return await Di(ei(a.user.uid),o),await Su(a.user.uid,{name:t,course:n}),Eu(a.user,o)},async loginWithGoogle(){const t=new ta,e=await B8(Vr,t),r=await ii(ei(e.user.uid));if(!r.exists()){const i={name:e.user.displayName??"",course:"",semester:"",settings:Zs};return await Di(ei(e.user.uid),i),await Su(e.user.uid,{name:i.name,course:""}),Eu(e.user,i)}const n=r.data();return Su(e.user.uid,{name:n.name??e.user.displayName??"",course:n.course??"",institute:n.institute??""}).catch(()=>{}),Eu(e.user,n)},async login({email:t,password:e}){try{const r=await m8(Vr,t,e),n=await ii(ei(r.user.uid)),i=n.exists()?n.data():{};return Su(r.user.uid,{name:i.name??r.user.displayName??"",course:i.course??"",institute:i.institute??""}).catch(()=>{}),Eu(r.user,i)}catch(r){throw r.code==="auth/invalid-credential"||r.code==="auth/wrong-password"?Object.assign(new Error('Incorrect password. If you previously signed in with Google, use "Forgot password?" to set a password for email login.'),{code:r.code}):r}},async linkGoogle(){const t=Vr.currentUser;if(!t)throw new Error("Not logged in.");const e=new ta;await z8(t,e)},async addPassword(t){const e=Vr.currentUser;if(!e)throw new Error("Not logged in.");if(!e.email)throw new Error("No email on account.");const r=qa.credential(e.email,t);await f8(e,r)},async getMe(){const t=Vr.currentUser;if(!t)return null;const e=await ii(ei(t.uid)),r=e.exists()?e.data():{};return Su(t.uid,{name:r.name??t.displayName??"",course:r.course??"",institute:r.institute??""}).catch(()=>{}),Eu(t,r)},async logout(){await _8(Vr)},async resetPassword(t){await h8(Vr,t)},async updateProfile({name:t,course:e,semester:r,institute:n}){const i=Vr.currentUser;if(!i)throw new Error("Not logged in.");await Dk(i,{displayName:t}),await rt(ei(i.uid),{name:t,course:e,semester:r,institute:n??""}),await Su(i.uid,{name:t,course:e});const a=await ii(ei(i.uid));return Eu(i,a.data())},async getSettings(){const t=Vr.currentUser;if(!t)return null;const e=await ii(ei(t.uid));return e.exists()?e.data().settings??Zs:Zs},async updateSettings(t){const e=Vr.currentUser;if(!e)throw new Error("Not logged in.");const r=await ii(ei(e.uid)),i={...r.exists()?r.data().settings??Zs:Zs,...t};return await rt(ei(e.uid),{settings:i}),i},async updateNotificationPrefs({notificationsEmail:t}){const e=Vr.currentUser;if(!e)throw new Error("Not logged in.");await rt(ei(e.uid),{notificationsEmail:t})},async changeEmail(t,e){const r=Vr.currentUser;if(!r)throw new Error("Not logged in.");if(!r.email)throw new Error("No email on account.");const n=qa.credential(r.email,t);await Mk(r,n),await y8(r,e)},async changePassword(t,e){const r=Vr.currentUser;if(!r)throw new Error("Not logged in.");if(!r.email)throw new Error("No email on account.");const n=qa.credential(r.email,t);await Mk(r,n),await v8(r,e)},async updateAvatar({avatarColor:t,avatarEmoji:e}){const r=Vr.currentUser;if(!r)throw new Error("Not logged in.");const n={};t!==void 0&&(n.avatarColor=t),e!==void 0&&(n.avatarEmoji=e),await rt(ei(r.uid),n)}},kT=D.createContext(null);function Bn(){return D.useContext(kT)}function qH({children:t}){const[e,r]=D.useState(null),[n,i]=D.useState(!0);D.useEffect(()=>w8(Vr,async m=>{if(m){const y=await wn.getMe();r(y)}else r(null);i(!1)}),[]);const a=D.useCallback(async(p,m)=>{const y=await wn.login({email:p,password:m});return r(y),y},[]),o=D.useCallback(async p=>{const m=await wn.register(p);return r(m),m},[]),l=D.useCallback(async()=>{const p=await wn.loginWithGoogle();return r(p),p},[]),c=D.useCallback(async()=>{await wn.logout(),r(null)},[]),d=D.useCallback(async()=>{const p=await wn.getMe();r(p??null)},[]);return f.jsx(kT.Provider,{value:{user:e,loading:n,login:a,loginWithGoogle:l,register:o,logout:c,refreshUser:d},children:t})}function Vi(){const t=D.useContext(kT);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>D.createElement("svg",{ref:c,...HH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:a3("lucide",i),...l},[...o.map(([d,p])=>D.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(GH,{ref:a,iconNode:e,className:a3(`lucide-${WH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ae("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Ae("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Ae("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Ae("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Ae("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Ae("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ae("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Ae("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Ae("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Ae("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=Ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Ae("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ae("MessageSquareShare",[["path",{d:"M21 12v3a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h7",key:"tqtdkg"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m16 8 5-5",key:"15mbrl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Ae("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ae("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=Ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=Ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=Ae("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=Ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=Ae("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=Ae("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=Ae("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=Ae("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Ae("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=Ae("ZapOff",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function _3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=_3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=_3(t))&&(n&&(n+=" "),n+=e);return n}const MT="-",xG=t=>{const e=_G(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(MT);return l[0]===""&&l.length!==1&&l.shift(),S3(l,e)||wG(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},S3=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?S3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(MT);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},QI=/^\[(.+)\]$/,wG=t=>{if(QI.test(t)){const e=QI.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},_G=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return EG(Object.entries(t.classGroups),r).forEach(([a,o])=>{iS(o,n,a,e)}),n},iS=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:JI(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(SG(i)){iS(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{iS(o,JI(e,a),r,n)})})},JI=(t,e)=>{let r=t;return e.split(MT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},SG=t=>t.isThemeGetter,EG=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,TG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},E3="!",AG=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,p=0,m;for(let b=0;b<l.length;b++){let E=l[b];if(d===0){if(E===i&&(n||l.slice(b,b+a)===e)){c.push(l.slice(p,b)),p=b+a;continue}if(E==="/"){m=b;continue}}E==="["?d++:E==="]"&&d--}const y=c.length===0?l:l.substring(p),x=y.startsWith(E3),S=x?y.substring(1):y,w=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:w}};return r?l=>r({className:l,parseClassName:o}):o},PG=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},jG=t=>({cache:TG(t.cacheSize),parseClassName:AG(t),...xG(t)}),kG=/\s+/,IG=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(kG);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=r(d);let S=!!x,w=n(S?y.substring(0,x):y);if(!w){if(!S){l=d+(l.length>0?" "+l:l);continue}if(w=n(y),!w){l=d+(l.length>0?" "+l:l);continue}S=!1}const b=PG(p).join(":"),E=m?b+E3:b,T=E+w;if(a.includes(T))continue;a.push(T);const N=i(w,S);for(let C=0;C<N.length;++C){const k=N[C];a.push(E+k)}l=d+(l.length>0?" "+l:l)}return l};function NG(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=T3(e))&&(n&&(n+=" "),n+=r);return n}const T3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=T3(t[n]))&&(r&&(r+=" "),r+=e);return r};function CG(t,...e){let r,n,i,a=o;function o(c){const d=e.reduce((p,m)=>m(p),t());return r=jG(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const p=IG(c,r);return i(c,p),p}return function(){return a(NG.apply(null,arguments))}}const Mt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},A3=/^\[(?:([a-z-]+):)?(.+)\]$/i,OG=/^\d+\/\d+$/,RG=new Set(["px","full","screen"]),MG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$G=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=t=>Uu(t)||RG.has(t)||OG.test(t),$o=t=>Rc(t,"length",GG),Uu=t=>!!t&&!Number.isNaN(Number(t)),lx=t=>Rc(t,"number",Uu),jd=t=>!!t&&Number.isInteger(Number(t)),FG=t=>t.endsWith("%")&&Uu(t.slice(0,-1)),Je=t=>A3.test(t),Vo=t=>MG.test(t),UG=new Set(["length","size","percentage"]),BG=t=>Rc(t,UG,P3),zG=t=>Rc(t,"position",P3),qG=new Set(["image","url"]),WG=t=>Rc(t,qG,XG),HG=t=>Rc(t,"",KG),kd=()=>!0,Rc=(t,e,r)=>{const n=A3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},GG=t=>DG.test(t)&&!LG.test(t),P3=()=>!1,KG=t=>$G.test(t),XG=t=>VG.test(t),YG=()=>{const t=Mt("colors"),e=Mt("spacing"),r=Mt("blur"),n=Mt("brightness"),i=Mt("borderColor"),a=Mt("borderRadius"),o=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),d=Mt("grayscale"),p=Mt("hueRotate"),m=Mt("invert"),y=Mt("gap"),x=Mt("gradientColorStops"),S=Mt("gradientColorStopPositions"),w=Mt("inset"),b=Mt("margin"),E=Mt("opacity"),T=Mt("padding"),N=Mt("saturate"),C=Mt("scale"),k=Mt("sepia"),O=Mt("skew"),P=Mt("space"),I=Mt("translate"),M=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Je,e],V=()=>[Je,e],L=()=>["",Oa,$o],W=()=>["auto",Uu,Je],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Je],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Uu,Je];return{cacheSize:500,separator:":",theme:{colors:[kd],spacing:[Oa,$o],blur:["none","",Vo,Je],brightness:q(),borderColor:[t],borderRadius:["none","","full",Vo,Je],borderSpacing:V(),borderWidth:L(),contrast:q(),grayscale:ae(),hueRotate:q(),invert:ae(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[FG,$o],inset:$(),margin:$(),opacity:q(),padding:V(),saturate:q(),scale:q(),sepia:ae(),skew:q(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Vo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Je]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jd,Je]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",jd,Je]}],"grid-cols":[{"grid-cols":[kd]}],"col-start-end":[{col:["auto",{span:["full",jd,Je]},Je]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[kd]}],"row-start-end":[{row:["auto",{span:[jd,Je]},Je]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Vo]},Vo]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Vo,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lx]}],"font-family":[{font:[kd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Uu,lx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oa,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa,$o]}],"underline-offset":[{"underline-offset":["auto",Oa,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),zG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Oa,Je]}],"outline-w":[{outline:[Oa,$o]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Oa,$o]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vo,HG]}],"shadow-color":[{shadow:[kd]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vo,Je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[N]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[jd,Je]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Oa,$o,lx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QG=CG(YG);function ke(...t){return QG(et(t))}const JG=[{hex:"#6366f1",label:"Indigo"},{hex:"#8b5cf6",label:"Violet"},{hex:"#ec4899",label:"Pink"},{hex:"#f43f5e",label:"Rose"},{hex:"#f97316",label:"Orange"},{hex:"#f59e0b",label:"Amber"},{hex:"#10b981",label:"Emerald"},{hex:"#0ea5e9",label:"Sky"},{hex:"#14b8a6",label:"Teal"},{hex:"#84cc16",label:"Lime"}],ZG=[null,"","","","","","","","","","","","","","","",""];function DT({user:t,size:e="md"}){const r={xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-14 w-14 text-xl",xl:"h-20 w-20 text-3xl"},n=((t==null?void 0:t.name)??"?").split(" ").filter(Boolean).slice(0,2).map(o=>o[0]).join("").toUpperCase(),i=(t==null?void 0:t.avatarColor)??"#6366f1",a=(t==null?void 0:t.avatarEmoji)??null;return f.jsx("div",{className:`${r[e]} shrink-0 rounded-full flex items-center justify-center font-bold select-none`,style:{background:a?"#f3f4f6":i,color:a?void 0:"#ffffff"},children:a??n})}const eK=[{to:"/dashboard",label:"Dashboard",icon:p3},{to:"/attendance",label:"Attendance",icon:_f},{to:"/timetable",label:"Timetable",icon:Eh},{to:"/subjects",label:"Subjects",icon:Sf},{to:"/exams",label:"Exams",icon:fs},{to:"/tasks",label:"Tasks",icon:OT},{to:"/calendar",label:"Calendar",icon:Ha},{to:"/ptp",label:"Study Peers",icon:nf}];function tK(){const{user:t,logout:e}=Vi(),r=ma();function n(){e(),r("/login")}return f.jsxs("aside",{className:"hidden lg:flex w-56 flex-shrink-0 flex-col border-r border-border bg-card px-3 py-6",children:[f.jsxs("div",{className:"mb-8 px-3",children:[f.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Sarasva"}),f.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:t==null?void 0:t.name})]}),f.jsx("nav",{className:"flex flex-col gap-1",children:eK.map(({to:i,label:a,icon:o})=>f.jsxs(wm,{to:i,className:({isActive:l})=>ke("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",l?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[f.jsx(o,{size:16}),a]},i))}),(t==null?void 0:t.role)==="admin"&&f.jsxs(wm,{to:"/admin",className:({isActive:i})=>ke("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[f.jsx(b3,{size:16}),"Admin"]}),f.jsxs("div",{className:"mt-auto flex flex-col gap-1",children:[f.jsxs(wm,{to:"/profile",className:({isActive:i})=>ke("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[f.jsx(DT,{user:t,size:"xs"}),"Profile"]}),f.jsxs("button",{onClick:n,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-destructive hover:text-destructive-foreground",children:[f.jsx(y3,{size:16}),"Logout"]})]})]})}const rK=[{to:"/dashboard",label:"Home",icon:p3},{to:"/attendance",label:"Attend",icon:_f},{to:"/exams",label:"Exams",icon:fs},{to:"/tasks",label:"Tasks",icon:OT},{to:"/ptp",label:"Peers",icon:nf}];function nK(){return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-16 lg:hidden border-t border-border bg-card",children:rK.map(({to:t,label:e,icon:r})=>f.jsxs(wm,{to:t,className:({isActive:n})=>ke("flex flex-1 flex-col items-center justify-center gap-0.5 text-[10px] font-medium transition-colors",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[f.jsx(r,{size:19}),f.jsx("span",{children:e})]},t))})}function ys({archived:t=!1}={}){const{user:e}=Bn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,l]=D.useState(null);D.useEffect(()=>{if(!e)return;const b=Sr(nr(e.id,"subjects"),Ut("archived","==",t));return Or(b,T=>{const N=T.docs.map(C=>({id:C.id,...C.data()})).sort((C,k)=>C.createdAt.localeCompare(k.createdAt));n(N),a(!1)},T=>{l(T.message),a(!1)})},[e,t]);const c=D.useCallback(async b=>{if(e)try{await Un(nr(e.id,"subjects"),{name:b,archived:!1,chapters:[],createdAt:new Date().toISOString()})}catch(E){l(E.message)}},[e]),d=D.useCallback(async(b,E)=>{if(e)try{await rt(at(e.id,"subjects",b),E)}catch(T){l(T.message)}},[e]),p=D.useCallback(async b=>{await d(b,{archived:!0})},[d]),m=D.useCallback(async(b,E)=>{if(!e)return;const T=r.find(k=>k.id===b);if(!T)return;const N={id:crypto.randomUUID(),name:E.trim()},C=[...T.chapters??[],N];try{await rt(at(e.id,"subjects",b),{chapters:C})}catch(k){l(k.message)}},[e,r]),y=D.useCallback(async(b,E,T)=>{if(!e)return;const N=r.find(k=>k.id===b);if(!N)return;const C=(N.chapters??[]).map(k=>k.id===E?{...k,name:T.trim()}:k);try{await rt(at(e.id,"subjects",b),{chapters:C})}catch(k){l(k.message)}},[e,r]),x=D.useCallback(async(b,E)=>{if(!e)return;const T=r.find(C=>C.id===b);if(!T)return;const N=(T.chapters??[]).filter(C=>C.id!==E);try{await rt(at(e.id,"subjects",b),{chapters:N})}catch(C){l(C.message)}},[e,r]),S=D.useCallback(async({name:b,chapters:E=[]})=>{if(e)try{await Un(nr(e.id,"subjects"),{name:b,archived:!1,chapters:E.map(T=>({id:crypto.randomUUID(),name:T.name})),createdAt:new Date().toISOString()})}catch(T){l(T.message)}},[e]),w=D.useCallback(()=>{},[]);return{subjects:r,loading:i,error:o,refresh:w,create:c,update:d,archive:p,addChapter:m,updateChapter:y,deleteChapter:x,importSubject:S}}function iK(t){const e=Math.round((t.theoryProgress+t.practiceProgress)/2),r=Math.round((100-e)*t.weightage);return{...t,overallProgress:e,priorityScore:r}}function aK(t){return{...t,subjects:(t.subjects??[]).map(e=>({...e,chapters:(e.chapters??[]).map(iK)}))}}const ux={async create(t,{name:e,examDate:r}){return(await Un(nr(t,"exams"),{name:e,examDate:r??null,archived:!1,subjects:[],createdAt:new Date().toISOString()})).id},async update(t,e,r){await rt(at(t,"exams",e),r)},async archive(t,e){await rt(at(t,"exams",e),{archived:!0})}};function LT(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>{if(!t)return;const E=Sr(nr(t.id,"exams"),Ut("archived","==",!1));return Or(E,T=>{const N=T.docs.map(C=>aK({id:C.id,...C.data()})).sort((C,k)=>C.createdAt.localeCompare(k.createdAt));r(N),i(!1)},T=>{o(T.message),i(!1)})},[t]);const l=D.useCallback(async({name:E,examDate:T})=>{if(t)try{await ux.create(t.id,{name:E,examDate:T})}catch(N){o(N.message)}},[t]),c=D.useCallback(async(E,T)=>{if(t)try{await ux.update(t.id,E,T)}catch(N){o(N.message)}},[t]),d=D.useCallback(async E=>{if(t)try{await ux.archive(t.id,E)}catch(T){o(T.message)}},[t]),p=D.useCallback(async(E,T,N=[])=>{if(t)try{const C=e.find(P=>P.id===E);if(!C)return;if(C.subjects.find(P=>P.subjectId===T))throw new Error("Subject already added.");const k=N.map(P=>({id:P.id,name:P.name,theoryProgress:0,practiceProgress:0,weightage:1})),O=[...C.subjects,{subjectId:T,chapters:k,dueDate:null}];await rt(at(t.id,"exams",E),{subjects:O})}catch(C){o(C.message)}},[t,e]),m=D.useCallback(async(E,T)=>{if(t)try{const N=e.find(k=>k.id===E);if(!N)return;const C=N.subjects.filter(k=>k.subjectId!==T);await rt(at(t.id,"exams",E),{subjects:C})}catch(N){o(N.message)}},[t,e]),y=D.useCallback(async(E,T,N)=>{if(t)try{const C=e.find(P=>P.id===E);if(!C)return;const k={id:crypto.randomUUID(),name:N.name,theoryProgress:N.theoryProgress??0,practiceProgress:N.practiceProgress??0,weightage:N.weightage??1},O=C.subjects.map(P=>P.subjectId===T?{...P,chapters:[...P.chapters,k]}:P);await rt(at(t.id,"exams",E),{subjects:O})}catch(C){o(C.message)}},[t,e]),x=D.useCallback(async(E,T,N,C)=>{if(t)try{const k=e.find(P=>P.id===E);if(!k)return;const O=k.subjects.map(P=>P.subjectId===T?{...P,chapters:P.chapters.map(I=>I.id===N?{...I,...C}:I)}:P);await rt(at(t.id,"exams",E),{subjects:O})}catch(k){o(k.message)}},[t,e]),S=D.useCallback(async(E,T,N)=>{if(t)try{const C=e.find(O=>O.id===E);if(!C)return;const k=C.subjects.map(O=>O.subjectId===T?{...O,chapters:O.chapters.filter(P=>P.id!==N)}:O);await rt(at(t.id,"exams",E),{subjects:k})}catch(C){o(C.message)}},[t,e]),w=D.useCallback(async(E,T,N)=>{if(t)try{const C=e.find(I=>I.id===E);if(!C)return;const k=C.subjects.findIndex(I=>I.subjectId===T);if(k<0)return;const O=N==="up"?k-1:k+1;if(O<0||O>=C.subjects.length)return;const P=[...C.subjects];[P[k],P[O]]=[P[O],P[k]],await rt(at(t.id,"exams",E),{subjects:P})}catch(C){o(C.message)}},[t,e]),b=D.useCallback(async(E,T,N)=>{if(t)try{const C=e.find(O=>O.id===E);if(!C)return;const k=C.subjects.map(O=>O.subjectId===T?{...O,dueDate:N||null}:O);await rt(at(t.id,"exams",E),{subjects:k})}catch(C){o(C.message)}},[t,e]);return{exams:e,loading:n,error:a,create:l,update:c,archive:d,addSubject:p,removeSubject:m,moveSubject:w,setSubjectDueDate:b,addChapter:y,updateChapter:x,deleteChapter:S}}function oK({open:t,onClose:e}){const[r,n]=D.useState(!1),[i,a]=D.useState(""),[o,l]=D.useState(""),[c,d]=D.useState(!1),[p,m]=D.useState(""),{create:y}=ys({archived:!1}),{create:x}=LT(),S=ma();async function w(C){if(C.preventDefault(),!!i.trim()){l("");try{await y(i.trim()),a(""),n(!1)}catch(k){l(k.message)}}}async function b(C){C.preventDefault(),p.trim()&&(await x({name:p.trim()}),m(""),d(!1))}function E(C){S(C),e()}function T(){n(C=>!C),d(!1),l("")}function N(){d(C=>!C),n(!1)}return f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:e}),f.jsxs("div",{className:`fixed top-0 left-0 z-50 h-full w-72 bg-card shadow-2xl transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-4",children:[f.jsx("h2",{className:"text-base font-bold tracking-tight",children:"Quick Actions"}),f.jsx("button",{onClick:e,className:"rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground",children:f.jsx(ln,{size:18})})]}),f.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto p-4 h-[calc(100%-61px)]",children:[f.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[f.jsxs("button",{onClick:T,className:"flex w-full items-center gap-3",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Sf,{size:15,className:"text-primary"})}),f.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add Subject"}),f.jsx(fr,{size:15,className:`text-primary transition-transform duration-200 ${r?"rotate-45":""}`})]}),r&&f.jsxs("form",{onSubmit:w,className:"mt-3 flex flex-col gap-2",children:[f.jsx("input",{autoFocus:!0,value:i,onChange:C=>a(C.target.value),placeholder:"e.g. Mathematics",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),o&&f.jsx("p",{className:"text-xs text-destructive",children:o}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{n(!1),a("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[f.jsxs("button",{onClick:N,className:"flex w-full items-center gap-3",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(IT,{size:15,className:"text-primary"})}),f.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add New Exam"}),f.jsx(fr,{size:15,className:`text-primary transition-transform duration-200 ${c?"rotate-45":""}`})]}),c&&f.jsxs("form",{onSubmit:b,className:"mt-3 flex flex-col gap-2",children:[f.jsx("input",{autoFocus:!0,value:p,onChange:C=>m(C.target.value),placeholder:"e.g. Mid-term 2026",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{d(!1),m("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),f.jsx("div",{className:"my-1 border-t border-border"}),f.jsxs("button",{onClick:()=>E("/calendar"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Ha,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Task Calendar"})]}),f.jsxs("button",{onClick:()=>E("/subjects"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Sf,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Subjects"})]}),f.jsxs("button",{onClick:()=>E("/timetable"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[f.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:f.jsx(Eh,{size:15,className:"text-primary"})}),f.jsx("span",{className:"text-sm font-medium",children:"Schedule / Timetable"})]})]})]})]})}function sK(){const{user:t}=Vi(),[e,r]=D.useState(!1);return f.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[f.jsx(tK,{}),f.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[f.jsxs("header",{className:"flex lg:hidden shrink-0 items-center justify-between border-b border-border bg-card px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>r(!0),className:"-ml-1 rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Open quick actions",children:f.jsx(nG,{size:20})}),f.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Sarasva"})]}),f.jsx(Vn,{to:"/profile",title:"Profile",children:f.jsx(DT,{user:t,size:"sm"})})]}),f.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-20 lg:p-6 lg:pb-6",children:f.jsx(T4,{})})]}),f.jsx(nK,{}),f.jsx(oK,{open:e,onClose:()=>r(!1)})]})}function lK(){const{user:t}=Vi();return t?f.jsx(T4,{}):f.jsx(E1,{to:"/login",replace:!0})}function uK(){var N;const{login:t,loginWithGoogle:e,user:r}=Vi(),n=ma(),i=Tl(),[a,o]=D.useState({email:"",password:""}),[l,c]=D.useState(""),[d,p]=D.useState(""),[m,y]=D.useState(!1),[x,S]=D.useState(!1);if(r)return n(((N=i.state)==null?void 0:N.from)||"/dashboard",{replace:!0}),null;function w(C){o(k=>({...k,[C.target.name]:C.target.value}))}async function b(C){var k;C.preventDefault(),c(""),p(""),y(!0);try{await t(a.email,a.password),n(((k=i.state)==null?void 0:k.from)||"/dashboard",{replace:!0})}catch(O){c(O.message||"Login failed. Please try again.")}finally{y(!1)}}async function E(){var C;c(""),p(""),S(!0);try{await e(),n(((C=i.state)==null?void 0:C.from)||"/dashboard",{replace:!0})}catch(k){k.code!=="auth/popup-closed-by-user"&&c(k.message||"Google sign-in failed. Please try again.")}finally{S(!1)}}async function T(){if(!a.email){c("Please enter your email address to reset your password.");return}c(""),p("");try{await wn.resetPassword(a.email),p("Password reset email sent. Please check your inbox.")}catch(C){c(C.message||"Failed to send reset email.")}}return f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:f.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Sign in to your account"})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[l&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:l}),d&&f.jsx("div",{className:"rounded-md bg-green-500/10 px-3 py-2 text-sm text-green-600",children:d}),f.jsxs("button",{type:"button",onClick:E,disabled:x||m,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),f.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),f.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),f.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),x?"Signing in...":"Continue with Google"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-border"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-border"})]}),f.jsxs("form",{onSubmit:b,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:w,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx("button",{type:"button",onClick:T,className:"text-xs text-muted-foreground hover:text-primary hover:underline",children:"Forgot password?"})]}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:w,placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),f.jsx("button",{type:"submit",disabled:m||x,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:m?"Signing in...":"Sign in"})]})]}),f.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",f.jsx(Vn,{to:"/register",className:"font-medium text-primary underline underline-offset-4",children:"Sign up"})]})]})})}function cK(){const{register:t,loginWithGoogle:e}=Vi(),r=ma(),[n,i]=D.useState({name:"",email:"",password:"",course:"",semester:""}),[a,o]=D.useState(""),[l,c]=D.useState(!1),[d,p]=D.useState(!1);function m(S){i(w=>({...w,[S.target.name]:S.target.value}))}async function y(S){if(S.preventDefault(),o(""),n.password.length<8){o("Password must be at least 8 characters.");return}c(!0);try{await t(n),r("/dashboard",{replace:!0})}catch(w){o(w.message||"Registration failed. Please try again.")}finally{c(!1)}}async function x(){o(""),p(!0);try{await e(),r("/dashboard",{replace:!0})}catch(S){S.code!=="auth/popup-closed-by-user"&&o(S.message||"Google sign-in failed. Please try again.")}finally{p(!1)}}return f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:f.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),f.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create your account"})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[a&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:a}),f.jsxs("button",{type:"button",onClick:x,disabled:d||l,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),f.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),f.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),f.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),d?"Signing in...":"Continue with Google"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-border"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-border"})]}),f.jsxs("form",{onSubmit:y,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Full name"}),f.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:m,placeholder:"Arjun Sharma",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:m,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:m,placeholder:"Min. 8 characters",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{htmlFor:"course",className:"text-sm font-medium",children:["Course ",f.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),f.jsx("input",{id:"course",name:"course",type:"text",value:n.course,onChange:m,placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{htmlFor:"semester",className:"text-sm font-medium",children:["Semester ",f.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),f.jsx("input",{id:"semester",name:"semester",type:"text",value:n.semester,onChange:m,placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]})]}),f.jsx("button",{type:"submit",disabled:l||d,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:l?"Creating account...":"Create account"})]})]}),f.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",f.jsx(Vn,{to:"/login",className:"font-medium text-primary underline underline-offset-4",children:"Sign in"})]})]})})}var cx,ZI;function Pn(){if(ZI)return cx;ZI=1;var t=Array.isArray;return cx=t,cx}var dx,eN;function j3(){if(eN)return dx;eN=1;var t=typeof Qp=="object"&&Qp&&Qp.Object===Object&&Qp;return dx=t,dx}var fx,tN;function ga(){if(tN)return fx;tN=1;var t=j3(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return fx=r,fx}var hx,rN;function Ah(){if(rN)return hx;rN=1;var t=ga(),e=t.Symbol;return hx=e,hx}var px,nN;function dK(){if(nN)return px;nN=1;var t=Ah(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var p=n.call(o);return d&&(l?o[i]=c:delete o[i]),p}return px=a,px}var mx,iN;function fK(){if(iN)return mx;iN=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return mx=r,mx}var gx,aN;function uo(){if(aN)return gx;aN=1;var t=Ah(),e=dK(),r=fK(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return gx=o,gx}var yx,oN;function co(){if(oN)return yx;oN=1;function t(e){return e!=null&&typeof e=="object"}return yx=t,yx}var vx,sN;function Mc(){if(sN)return vx;sN=1;var t=uo(),e=co(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return vx=n,vx}var bx,lN;function $T(){if(lN)return bx;lN=1;var t=Pn(),e=Mc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return bx=i,bx}var xx,uN;function vs(){if(uN)return xx;uN=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return xx=t,xx}var wx,cN;function VT(){if(cN)return wx;cN=1;var t=uo(),e=vs(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==a}return wx=o,wx}var _x,dN;function hK(){if(dN)return _x;dN=1;var t=ga(),e=t["__core-js_shared__"];return _x=e,_x}var Sx,fN;function pK(){if(fN)return Sx;fN=1;var t=hK(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Sx=r,Sx}var Ex,hN;function k3(){if(hN)return Ex;hN=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Ex=r,Ex}var Tx,pN;function mK(){if(pN)return Tx;pN=1;var t=VT(),e=pK(),r=vs(),n=k3(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,p=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return Tx=m,Tx}var Ax,mN;function gK(){if(mN)return Ax;mN=1;function t(e,r){return e==null?void 0:e[r]}return Ax=t,Ax}var Px,gN;function Nl(){if(gN)return Px;gN=1;var t=mK(),e=gK();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Px=r,Px}var jx,yN;function ky(){if(yN)return jx;yN=1;var t=Nl(),e=t(Object,"create");return jx=e,jx}var kx,vN;function yK(){if(vN)return kx;vN=1;var t=ky();function e(){this.__data__=t?t(null):{},this.size=0}return kx=e,kx}var Ix,bN;function vK(){if(bN)return Ix;bN=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Ix=t,Ix}var Nx,xN;function bK(){if(xN)return Nx;xN=1;var t=ky(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return Nx=i,Nx}var Cx,wN;function xK(){if(wN)return Cx;wN=1;var t=ky(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Cx=n,Cx}var Ox,_N;function wK(){if(_N)return Ox;_N=1;var t=ky(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Ox=r,Ox}var Rx,SN;function _K(){if(SN)return Rx;SN=1;var t=yK(),e=vK(),r=bK(),n=xK(),i=wK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Rx=a,Rx}var Mx,EN;function SK(){if(EN)return Mx;EN=1;function t(){this.__data__=[],this.size=0}return Mx=t,Mx}var Dx,TN;function FT(){if(TN)return Dx;TN=1;function t(e,r){return e===r||e!==e&&r!==r}return Dx=t,Dx}var Lx,AN;function Iy(){if(AN)return Lx;AN=1;var t=FT();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Lx=e,Lx}var $x,PN;function EK(){if(PN)return $x;PN=1;var t=Iy(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return $x=n,$x}var Vx,jN;function TK(){if(jN)return Vx;jN=1;var t=Iy();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Vx=e,Vx}var Fx,kN;function AK(){if(kN)return Fx;kN=1;var t=Iy();function e(r){return t(this.__data__,r)>-1}return Fx=e,Fx}var Ux,IN;function PK(){if(IN)return Ux;IN=1;var t=Iy();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Ux=e,Ux}var Bx,NN;function Ny(){if(NN)return Bx;NN=1;var t=SK(),e=EK(),r=TK(),n=AK(),i=PK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Bx=a,Bx}var zx,CN;function UT(){if(CN)return zx;CN=1;var t=Nl(),e=ga(),r=t(e,"Map");return zx=r,zx}var qx,ON;function jK(){if(ON)return qx;ON=1;var t=_K(),e=Ny(),r=UT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return qx=n,qx}var Wx,RN;function kK(){if(RN)return Wx;RN=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Wx=t,Wx}var Hx,MN;function Cy(){if(MN)return Hx;MN=1;var t=kK();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Hx=e,Hx}var Gx,DN;function IK(){if(DN)return Gx;DN=1;var t=Cy();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Gx=e,Gx}var Kx,LN;function NK(){if(LN)return Kx;LN=1;var t=Cy();function e(r){return t(this,r).get(r)}return Kx=e,Kx}var Xx,$N;function CK(){if($N)return Xx;$N=1;var t=Cy();function e(r){return t(this,r).has(r)}return Xx=e,Xx}var Yx,VN;function OK(){if(VN)return Yx;VN=1;var t=Cy();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Yx=e,Yx}var Qx,FN;function BT(){if(FN)return Qx;FN=1;var t=jK(),e=IK(),r=NK(),n=CK(),i=OK();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Qx=a,Qx}var Jx,UN;function I3(){if(UN)return Jx;UN=1;var t=BT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,Jx=r,Jx}var Zx,BN;function RK(){if(BN)return Zx;BN=1;var t=I3(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Zx=r,Zx}var e0,zN;function MK(){if(zN)return e0;zN=1;var t=RK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,d){a.push(c?d.replace(r,"$1"):l||o)}),a});return e0=n,e0}var t0,qN;function zT(){if(qN)return t0;qN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return t0=t,t0}var r0,WN;function DK(){if(WN)return r0;WN=1;var t=Ah(),e=zT(),r=Pn(),n=Mc(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return r0=o,r0}var n0,HN;function N3(){if(HN)return n0;HN=1;var t=DK();function e(r){return r==null?"":t(r)}return n0=e,n0}var i0,GN;function C3(){if(GN)return i0;GN=1;var t=Pn(),e=$T(),r=MK(),n=N3();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return i0=i,i0}var a0,KN;function Oy(){if(KN)return a0;KN=1;var t=Mc();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return a0=e,a0}var o0,XN;function qT(){if(XN)return o0;XN=1;var t=C3(),e=Oy();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return o0=r,o0}var s0,YN;function O3(){if(YN)return s0;YN=1;var t=qT();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return s0=e,s0}var LK=O3();const si=wt(LK);var l0,QN;function $K(){if(QN)return l0;QN=1;function t(e){return e==null}return l0=t,l0}var VK=$K();const pt=wt(VK);var u0,JN;function FK(){if(JN)return u0;JN=1;var t=uo(),e=Pn(),r=co(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return u0=i,u0}var UK=FK();const xl=wt(UK);var BK=VT();const Qe=wt(BK);var zK=vs();const Dc=wt(zK);var c0={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function qK(){if(ZN)return yt;ZN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case r:case i:case n:case d:case p:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case c:case y:case m:case a:return b;default:return E}}case e:return E}}}return yt.ContextConsumer=o,yt.ContextProvider=a,yt.Element=t,yt.ForwardRef=c,yt.Fragment=r,yt.Lazy=y,yt.Memo=m,yt.Portal=e,yt.Profiler=i,yt.StrictMode=n,yt.Suspense=d,yt.SuspenseList=p,yt.isAsyncMode=function(){return!1},yt.isConcurrentMode=function(){return!1},yt.isContextConsumer=function(b){return w(b)===o},yt.isContextProvider=function(b){return w(b)===a},yt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yt.isForwardRef=function(b){return w(b)===c},yt.isFragment=function(b){return w(b)===r},yt.isLazy=function(b){return w(b)===y},yt.isMemo=function(b){return w(b)===m},yt.isPortal=function(b){return w(b)===e},yt.isProfiler=function(b){return w(b)===i},yt.isStrictMode=function(b){return w(b)===n},yt.isSuspense=function(b){return w(b)===d},yt.isSuspenseList=function(b){return w(b)===p},yt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===d||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===a||b.$$typeof===o||b.$$typeof===c||b.$$typeof===S||b.getModuleId!==void 0)},yt.typeOf=w,yt}var eC;function WK(){return eC||(eC=1,c0.exports=qK()),c0.exports}var HK=WK(),d0,tC;function R3(){if(tC)return d0;tC=1;var t=uo(),e=co(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return d0=n,d0}var f0,rC;function GK(){if(rC)return f0;rC=1;var t=R3();function e(r){return t(r)&&r!=+r}return f0=e,f0}var KK=GK();const Ph=wt(KK);var XK=R3();const YK=wt(XK);var En=function(e){return e===0?0:e>0?1:-1},il=function(e){return xl(e)&&e.indexOf("%")===e.length-1},_e=function(e){return YK(e)&&!Ph(e)},QK=function(e){return pt(e)},wr=function(e){return _e(e)||xl(e)},JK=0,Ry=function(e){var r=++JK;return"".concat(e||"").concat(r)},Oi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!xl(e))return n;var a;if(il(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ph(a)&&(a=n),i&&a>r&&(a=r),a},Wo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ZK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Da=function(e,r){return _e(e)&&_e(r)?function(n){return e+n*(r-e)}:function(){return r}};function aS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):si(n,e))===r})}var eX=function(e,r){return _e(e)&&_e(r)?e-r:xl(e)&&xl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Bu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function oS(t){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oS(t)}var tX=["viewBox","children"],rX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nC=["points","pathLength"],h0={svg:tX,polygon:nC,polyline:nC},WT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rg=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!Dc(n))return null;var i={};return Object.keys(n).forEach(function(a){WT.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},nX=function(e,r,n){return function(i){return e(r,n,i),null}},hs=function(e,r,n){if(!Dc(e)||oS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];WT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=nX(o,r,n))}),i},iX=["children"],aX=["children"];function iC(t,e){if(t==null)return{};var r=oX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ga=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oC=null,p0=null,HT=function t(e){if(e===oC&&Array.isArray(p0))return p0;var r=[];return D.Children.forEach(e,function(n){pt(n)||(HK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),p0=r,oC=e,r};function li(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ga(i)}):n=[Ga(e)],HT(t).forEach(function(i){var a=si(i,"type.displayName")||si(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ln(t,e){var r=li(t,e);return r&&r[0]}var sC=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!_e(n)||n<=0||!_e(i)||i<=0)},sX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lX=function(e){return e&&e.type&&xl(e.type)&&sX.indexOf(e.type)>=0},uX=function(e,r,n,i){var a,o=(a=h0==null?void 0:h0[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Qe(e)&&(i&&o.includes(r)||rX.includes(r))||n&&WT.includes(r)},Ge=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Dc(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;uX((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},sS=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lC(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!lC(a,o))return!1}return!0},lC=function(e,r){if(pt(e)&&pt(r))return!0;if(!pt(e)&&!pt(r)){var n=e.props||{},i=n.children,a=iC(n,iX),o=r.props||{},l=o.children,c=iC(o,aX);return i&&l?Bu(a,c)&&sS(i,l):!i&&!l?Bu(a,c):!1}return!1},uC=function(e,r){var n=[],i={};return HT(e).forEach(function(a,o){if(lX(a))n.push(a);else if(a){var l=Ga(a.type),c=r[l]||{},d=c.handler,p=c.once;if(d&&(!p||!i[l])){var m=d(a,l,o);n.push(m),i[l]=!0}}}),n},cX=function(e){var r=e&&e.type;return r&&aC[r]?aC[r]:null},dX=function(e,r){return HT(r).indexOf(e)},fX=["children","width","height","viewBox","className","style","title","desc"];function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lS.apply(this,arguments)}function hX(t,e){if(t==null)return{};var r=pX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uS(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,d=hX(t,fX),p=i||{width:r,height:n,x:0,y:0},m=et("recharts-surface",a);return G.createElement("svg",lS({},Ge(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,l),G.createElement("desc",null,c),e)}var mX=["children","className"];function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cS.apply(this,arguments)}function gX(t,e){if(t==null)return{};var r=yX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Et=G.forwardRef(function(t,e){var r=t.children,n=t.className,i=gX(t,mX),a=et("recharts-layer",n);return G.createElement("g",cS({className:a},Ge(i,!0),{ref:e}),r)}),Ka=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},m0,cC;function vX(){if(cC)return m0;cC=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return m0=t,m0}var g0,dC;function bX(){if(dC)return g0;dC=1;var t=vX();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return g0=e,g0}var y0,fC;function M3(){if(fC)return y0;fC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(d){return l.test(d)}return y0=c,y0}var v0,hC;function xX(){if(hC)return v0;hC=1;function t(e){return e.split("")}return v0=t,v0}var b0,pC;function wX(){if(pC)return b0;pC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=d+"?",w="["+a+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+w+S+")*",E=w+S+b,T="(?:"+[p+l+"?",l,m,y,o].join("|")+")",N=RegExp(c+"(?="+c+")|"+T+E,"g");function C(k){return k.match(N)||[]}return b0=C,b0}var x0,mC;function _X(){if(mC)return x0;mC=1;var t=xX(),e=M3(),r=wX();function n(i){return e(i)?r(i):t(i)}return x0=n,x0}var w0,gC;function SX(){if(gC)return w0;gC=1;var t=bX(),e=M3(),r=_X(),n=N3();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[a]()+d}}return w0=i,w0}var _0,yC;function EX(){if(yC)return _0;yC=1;var t=SX(),e=t("toUpperCase");return _0=e,_0}var TX=EX();const My=wt(TX);function It(t){return function(){return t}}const D3=Math.cos,ng=Math.sin,Ui=Math.sqrt,ig=Math.PI,Dy=2*ig,dS=Math.PI,fS=2*dS,el=1e-6,AX=fS-el;function L3(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function PX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return L3;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class jX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?L3:PX(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,d=i-r,p=o-e,m=l-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>el)if(!(Math.abs(m*c-d*p)>el)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,S=i-l,w=c*c+d*d,b=x*x+S*S,E=Math.sqrt(w),T=Math.sqrt(y),N=a*Math.tan((dS-Math.acos((w+y-b)/(2*E*T)))/2),C=N/T,k=N/E;Math.abs(C-1)>el&&this._append`L${e+C*p},${r+C*m}`,this._append`A${a},${a},0,0,${+(m*x>p*S)},${this._x1=e+k*c},${this._y1=r+k*d}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,p=r+c,m=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>el||Math.abs(this._y1-p)>el)&&this._append`L${d},${p}`,n&&(y<0&&(y=y%fS+fS),y>AX?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=p}`:y>el&&this._append`A${n},${n},0,${+(y>=dS)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function GT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new jX(e)}function KT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $3(t){this._context=t}$3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new $3(t)}function V3(t){return t[0]}function F3(t){return t[1]}function U3(t,e){var r=It(!0),n=null,i=Ly,a=null,o=GT(l);t=typeof t=="function"?t:t===void 0?V3:It(t),e=typeof e=="function"?e:e===void 0?F3:It(e);function l(c){var d,p=(c=KT(c)).length,m,y=!1,x;for(n==null&&(a=i(x=o())),d=0;d<=p;++d)!(d<p&&r(m=c[d],d,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,d,c),+e(m,d,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:It(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:It(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:It(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function am(t,e,r){var n=null,i=It(!0),a=null,o=Ly,l=null,c=GT(d);t=typeof t=="function"?t:t===void 0?V3:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?F3:It(+r);function d(m){var y,x,S,w=(m=KT(m)).length,b,E=!1,T,N=new Array(w),C=new Array(w);for(a==null&&(l=o(T=c())),y=0;y<=w;++y){if(!(y<w&&i(b=m[y],y,m))===E)if(E=!E)x=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=x;--S)l.point(N[S],C[S]);l.lineEnd(),l.areaEnd()}E&&(N[y]=+t(b,y,m),C[y]=+e(b,y,m),l.point(n?+n(b,y,m):N[y],r?+r(b,y,m):C[y]))}if(T)return l=null,T+""||null}function p(){return U3().defined(i).curve(o).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),d):r},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(r)},d.lineX1=function(){return p().x(n).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:It(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,a!=null&&(l=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=l=null:l=o(a=m),d):a},d}class B3{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function kX(t){return new B3(t,!0)}function IX(t){return new B3(t,!1)}const XT={draw(t,e){const r=Ui(e/ig);t.moveTo(r,0),t.arc(0,0,r,0,Dy)}},NX={draw(t,e){const r=Ui(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},z3=Ui(1/3),CX=z3*2,OX={draw(t,e){const r=Ui(e/CX),n=r*z3;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},RX={draw(t,e){const r=Ui(e),n=-r/2;t.rect(n,n,r,r)}},MX=.8908130915292852,q3=ng(ig/10)/ng(7*ig/10),DX=ng(Dy/10)*q3,LX=-D3(Dy/10)*q3,$X={draw(t,e){const r=Ui(e*MX),n=DX*r,i=LX*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Dy*a/5,l=D3(o),c=ng(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},S0=Ui(3),VX={draw(t,e){const r=-Ui(e/(S0*3));t.moveTo(0,r*2),t.lineTo(-S0*r,-r),t.lineTo(S0*r,-r),t.closePath()}},ti=-.5,ri=Ui(3)/2,hS=1/Ui(12),FX=(hS/2+1)*3,UX={draw(t,e){const r=Ui(e/FX),n=r/2,i=r*hS,a=n,o=r*hS+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(ti*n-ri*i,ri*n+ti*i),t.lineTo(ti*a-ri*o,ri*a+ti*o),t.lineTo(ti*l-ri*c,ri*l+ti*c),t.lineTo(ti*n+ri*i,ti*i-ri*n),t.lineTo(ti*a+ri*o,ti*o-ri*a),t.lineTo(ti*l+ri*c,ti*c-ri*l),t.closePath()}};function BX(t,e){let r=null,n=GT(i);t=typeof t=="function"?t:It(t||XT),e=typeof e=="function"?e:It(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:It(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:It(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function ag(){}function og(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function W3(t){this._context=t}W3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:og(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zX(t){return new W3(t)}function H3(t){this._context=t}H3.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qX(t){return new H3(t)}function G3(t){this._context=t}G3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WX(t){return new G3(t)}function K3(t){this._context=t}K3.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HX(t){return new K3(t)}function vC(t){return t<0?-1:1}function bC(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(vC(a)+vC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function xC(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function E0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function sg(t){this._context=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E0(this,this._t0,xC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,E0(this,xC(this,r=bC(this,t,e)),r);break;default:E0(this,this._t0,r=bC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function X3(t){this._context=new Y3(t)}(X3.prototype=Object.create(sg.prototype)).point=function(t,e){sg.prototype.point.call(this,e,t)};function Y3(t){this._context=t}Y3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function GX(t){return new sg(t)}function KX(t){return new X3(t)}function Q3(t){this._context=t}Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=wC(t),i=wC(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wC(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function XX(t){return new Q3(t)}function $y(t,e){this._context=t,this._t=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function YX(t){return new $y(t,.5)}function QX(t){return new $y(t,0)}function JX(t){return new $y(t,1)}function tc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function pS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ZX(t,e){return t[e]}function eY(t){const e=[];return e.key=t,e}function tY(){var t=It([]),e=pS,r=tc,n=ZX;function i(a){var o=Array.from(t.apply(this,arguments),eY),l,c=o.length,d=-1,p;for(const m of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,a)]).data=m;for(l=0,p=KT(e(o));l<c;++l)o[p[l]].index=l;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:It(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:It(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?pS:typeof a=="function"?a:It(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??tc,i):r},i}function rY(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}tc(t,e)}}function nY(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}tc(t,e)}}function iY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var p=t[e[l]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,S=0;S<l;++S){var w=t[e[S]],b=w[n][1]||0,E=w[n-1][1]||0;x+=b-E}c+=m,d+=x*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,tc(t,e)}}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var aY=["type","size","sizeType"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mS.apply(this,arguments)}function _C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(r),!0).forEach(function(n){oY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oY(t,e,r){return e=sY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sY(t){var e=lY(t,"string");return Tf(e)=="symbol"?e:e+""}function lY(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uY(t,e){if(t==null)return{};var r=cY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var J3={symbolCircle:XT,symbolCross:NX,symbolDiamond:OX,symbolSquare:RX,symbolStar:$X,symbolTriangle:VX,symbolWye:UX},dY=Math.PI/180,fY=function(e){var r="symbol".concat(My(e));return J3[r]||XT},hY=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*dY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pY=function(e,r){J3["symbol".concat(My(e))]=r},YT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=uY(e,aY),d=SC(SC({},c),{},{type:n,size:a,sizeType:l}),p=function(){var b=fY(n),E=BX().type(b).size(hY(a,l,n));return E()},m=d.className,y=d.cx,x=d.cy,S=Ge(d,!0);return y===+y&&x===+x&&a===+a?G.createElement("path",mS({},S,{className:et("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};YT.registerSymbol=pY;function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(this,arguments)}function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){Af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e$(n.key),n)}}function vY(t,e,r){return e&&yY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bY(t,e,r){return e=lg(e),xY(t,Z3()?Reflect.construct(e,r||[],lg(t).constructor):e.apply(t,r))}function xY(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wY(t)}function wY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z3=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(t)}function _Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yS(t,e)}function Af(t,e,r){return e=e$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e$(t){var e=SY(t,"string");return rc(e)=="symbol"?e:e+""}function SY(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=32,QT=(function(t){function e(){return gY(this,e),bY(this,e,arguments)}return _Y(e,t),vY(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ni/2,o=ni/6,l=ni/3,c=n.inactive?i:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ni,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ni,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var d=mY({},n);return delete d.legendIcon,G.cloneElement(n.legendIcon,d)}return G.createElement(YT,{fill:c,cx:a,cy:a,size:ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,p={x:0,y:0,width:ni,height:ni},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,S){var w=x.formatter||c,b=et(Af(Af({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var E=Qe(x.value)?null:x.value;Ka(!Qe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=x.inactive?d:x.color;return G.createElement("li",gS({className:b,style:m,key:"legend-item-".concat(S)},hs(n.props,x,S)),G.createElement(uS,{width:o,height:o,viewBox:p,style:y},n.renderIcon(x)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},w?w(E,x,S):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(D.PureComponent);Af(QT,"displayName","Legend");Af(QT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var T0,TC;function EY(){if(TC)return T0;TC=1;var t=Ny();function e(){this.__data__=new t,this.size=0}return T0=e,T0}var A0,AC;function TY(){if(AC)return A0;AC=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return A0=t,A0}var P0,PC;function AY(){if(PC)return P0;PC=1;function t(e){return this.__data__.get(e)}return P0=t,P0}var j0,jC;function PY(){if(jC)return j0;jC=1;function t(e){return this.__data__.has(e)}return j0=t,j0}var k0,kC;function jY(){if(kC)return k0;kC=1;var t=Ny(),e=UT(),r=BT(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return k0=i,k0}var I0,IC;function t$(){if(IC)return I0;IC=1;var t=Ny(),e=EY(),r=TY(),n=AY(),i=PY(),a=jY();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,I0=o,I0}var N0,NC;function kY(){if(NC)return N0;NC=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return N0=e,N0}var C0,CC;function IY(){if(CC)return C0;CC=1;function t(e){return this.__data__.has(e)}return C0=t,C0}var O0,OC;function r$(){if(OC)return O0;OC=1;var t=BT(),e=kY(),r=IY();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,O0=n,O0}var R0,RC;function n$(){if(RC)return R0;RC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return R0=t,R0}var M0,MC;function i$(){if(MC)return M0;MC=1;function t(e,r){return e.has(r)}return M0=t,M0}var D0,DC;function a$(){if(DC)return D0;DC=1;var t=r$(),e=n$(),r=i$(),n=1,i=2;function a(o,l,c,d,p,m){var y=c&n,x=o.length,S=l.length;if(x!=S&&!(y&&S>x))return!1;var w=m.get(o),b=m.get(l);if(w&&b)return w==l&&b==o;var E=-1,T=!0,N=c&i?new t:void 0;for(m.set(o,l),m.set(l,o);++E<x;){var C=o[E],k=l[E];if(d)var O=y?d(k,C,E,l,o,m):d(C,k,E,o,l,m);if(O!==void 0){if(O)continue;T=!1;break}if(N){if(!e(l,function(P,I){if(!r(N,I)&&(C===P||p(C,P,c,d,m)))return N.push(I)})){T=!1;break}}else if(!(C===k||p(C,k,c,d,m))){T=!1;break}}return m.delete(o),m.delete(l),T}return D0=a,D0}var L0,LC;function NY(){if(LC)return L0;LC=1;var t=ga(),e=t.Uint8Array;return L0=e,L0}var $0,$C;function CY(){if($C)return $0;$C=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return $0=t,$0}var V0,VC;function JT(){if(VC)return V0;VC=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return V0=t,V0}var F0,FC;function OY(){if(FC)return F0;FC=1;var t=Ah(),e=NY(),r=FT(),n=a$(),i=CY(),a=JT(),o=1,l=2,c="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",w="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",N=t?t.prototype:void 0,C=N?N.valueOf:void 0;function k(O,P,I,M,U,$,V){switch(I){case T:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case E:return!(O.byteLength!=P.byteLength||!$(new e(O),new e(P)));case c:case d:case y:return r(+O,+P);case p:return O.name==P.name&&O.message==P.message;case x:case w:return O==P+"";case m:var L=i;case S:var W=M&o;if(L||(L=a),O.size!=P.size&&!W)return!1;var Y=V.get(O);if(Y)return Y==P;M|=l,V.set(O,P);var te=n(L(O),L(P),M,U,$,V);return V.delete(O),te;case b:if(C)return C.call(O)==C.call(P)}return!1}return F0=k,F0}var U0,UC;function o$(){if(UC)return U0;UC=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return U0=t,U0}var B0,BC;function RY(){if(BC)return B0;BC=1;var t=o$(),e=Pn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return B0=r,B0}var z0,zC;function MY(){if(zC)return z0;zC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return z0=t,z0}var q0,qC;function DY(){if(qC)return q0;qC=1;function t(){return[]}return q0=t,q0}var W0,WC;function LY(){if(WC)return W0;WC=1;var t=MY(),e=DY(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return W0=a,W0}var H0,HC;function $Y(){if(HC)return H0;HC=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return H0=t,H0}var G0,GC;function VY(){if(GC)return G0;GC=1;var t=uo(),e=co(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return G0=n,G0}var K0,KC;function ZT(){if(KC)return K0;KC=1;var t=VY(),e=co(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return K0=a,K0}var Kd={exports:{}},X0,XC;function FY(){if(XC)return X0;XC=1;function t(){return!1}return X0=t,X0}Kd.exports;var YC;function s$(){return YC||(YC=1,(function(t,e){var r=ga(),n=FY(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Kd,Kd.exports)),Kd.exports}var Y0,QC;function eA(){if(QC)return Y0;QC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Y0=r,Y0}var Q0,JC;function tA(){if(JC)return Q0;JC=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Q0=e,Q0}var J0,ZC;function UY(){if(ZC)return J0;ZC=1;var t=uo(),e=tA(),r=co(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",N="[object Float64Array]",C="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",U="[object Uint32Array]",$={};$[T]=$[N]=$[C]=$[k]=$[O]=$[P]=$[I]=$[M]=$[U]=!0,$[n]=$[i]=$[b]=$[a]=$[E]=$[o]=$[l]=$[c]=$[d]=$[p]=$[m]=$[y]=$[x]=$[S]=$[w]=!1;function V(L){return r(L)&&e(L.length)&&!!$[t(L)]}return J0=V,J0}var Z0,eO;function l$(){if(eO)return Z0;eO=1;function t(e){return function(r){return e(r)}}return Z0=t,Z0}var Xd={exports:{}};Xd.exports;var tO;function BY(){return tO||(tO=1,(function(t,e){var r=j3(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Xd,Xd.exports)),Xd.exports}var ew,rO;function u$(){if(rO)return ew;rO=1;var t=UY(),e=l$(),r=BY(),n=r&&r.isTypedArray,i=n?e(n):t;return ew=i,ew}var tw,nO;function zY(){if(nO)return tw;nO=1;var t=$Y(),e=ZT(),r=Pn(),n=s$(),i=eA(),a=u$(),o=Object.prototype,l=o.hasOwnProperty;function c(d,p){var m=r(d),y=!m&&e(d),x=!m&&!y&&n(d),S=!m&&!y&&!x&&a(d),w=m||y||x||S,b=w?t(d.length,String):[],E=b.length;for(var T in d)(p||l.call(d,T))&&!(w&&(T=="length"||x&&(T=="offset"||T=="parent")||S&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,E)))&&b.push(T);return b}return tw=c,tw}var rw,iO;function qY(){if(iO)return rw;iO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return rw=e,rw}var nw,aO;function c$(){if(aO)return nw;aO=1;function t(e,r){return function(n){return e(r(n))}}return nw=t,nw}var iw,oO;function WY(){if(oO)return iw;oO=1;var t=c$(),e=t(Object.keys,Object);return iw=e,iw}var aw,sO;function HY(){if(sO)return aw;sO=1;var t=qY(),e=WY(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return aw=i,aw}var ow,lO;function jh(){if(lO)return ow;lO=1;var t=VT(),e=tA();function r(n){return n!=null&&e(n.length)&&!t(n)}return ow=r,ow}var sw,uO;function Vy(){if(uO)return sw;uO=1;var t=zY(),e=HY(),r=jh();function n(i){return r(i)?t(i):e(i)}return sw=n,sw}var lw,cO;function GY(){if(cO)return lw;cO=1;var t=RY(),e=LY(),r=Vy();function n(i){return t(i,r,e)}return lw=n,lw}var uw,dO;function KY(){if(dO)return uw;dO=1;var t=GY(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,c,d,p){var m=l&e,y=t(a),x=y.length,S=t(o),w=S.length;if(x!=w&&!m)return!1;for(var b=x;b--;){var E=y[b];if(!(m?E in o:n.call(o,E)))return!1}var T=p.get(a),N=p.get(o);if(T&&N)return T==o&&N==a;var C=!0;p.set(a,o),p.set(o,a);for(var k=m;++b<x;){E=y[b];var O=a[E],P=o[E];if(c)var I=m?c(P,O,E,o,a,p):c(O,P,E,a,o,p);if(!(I===void 0?O===P||d(O,P,l,c,p):I)){C=!1;break}k||(k=E=="constructor")}if(C&&!k){var M=a.constructor,U=o.constructor;M!=U&&"constructor"in a&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof U=="function"&&U instanceof U)&&(C=!1)}return p.delete(a),p.delete(o),C}return uw=i,uw}var cw,fO;function XY(){if(fO)return cw;fO=1;var t=Nl(),e=ga(),r=t(e,"DataView");return cw=r,cw}var dw,hO;function YY(){if(hO)return dw;hO=1;var t=Nl(),e=ga(),r=t(e,"Promise");return dw=r,dw}var fw,pO;function d$(){if(pO)return fw;pO=1;var t=Nl(),e=ga(),r=t(e,"Set");return fw=r,fw}var hw,mO;function QY(){if(mO)return hw;mO=1;var t=Nl(),e=ga(),r=t(e,"WeakMap");return hw=r,hw}var pw,gO;function JY(){if(gO)return pw;gO=1;var t=XY(),e=UT(),r=YY(),n=d$(),i=QY(),a=uo(),o=k3(),l="[object Map]",c="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=o(t),S=o(e),w=o(r),b=o(n),E=o(i),T=a;return(t&&T(new t(new ArrayBuffer(1)))!=y||e&&T(new e)!=l||r&&T(r.resolve())!=d||n&&T(new n)!=p||i&&T(new i)!=m)&&(T=function(N){var C=a(N),k=C==c?N.constructor:void 0,O=k?o(k):"";if(O)switch(O){case x:return y;case S:return l;case w:return d;case b:return p;case E:return m}return C}),pw=T,pw}var mw,yO;function ZY(){if(yO)return mw;yO=1;var t=t$(),e=a$(),r=OY(),n=KY(),i=JY(),a=Pn(),o=s$(),l=u$(),c=1,d="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(w,b,E,T,N,C){var k=a(w),O=a(b),P=k?p:i(w),I=O?p:i(b);P=P==d?m:P,I=I==d?m:I;var M=P==m,U=I==m,$=P==I;if($&&o(w)){if(!o(b))return!1;k=!0,M=!1}if($&&!M)return C||(C=new t),k||l(w)?e(w,b,E,T,N,C):r(w,b,P,E,T,N,C);if(!(E&c)){var V=M&&x.call(w,"__wrapped__"),L=U&&x.call(b,"__wrapped__");if(V||L){var W=V?w.value():w,Y=L?b.value():b;return C||(C=new t),N(W,Y,E,T,C)}}return $?(C||(C=new t),n(w,b,E,T,N,C)):!1}return mw=S,mw}var gw,vO;function rA(){if(vO)return gw;vO=1;var t=ZY(),e=co();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return gw=r,gw}var yw,bO;function eQ(){if(bO)return yw;bO=1;var t=t$(),e=rA(),r=1,n=2;function i(a,o,l,c){var d=l.length,p=d,m=!c;if(a==null)return!p;for(a=Object(a);d--;){var y=l[d];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++d<p;){y=l[d];var x=y[0],S=a[x],w=y[1];if(m&&y[2]){if(S===void 0&&!(x in a))return!1}else{var b=new t;if(c)var E=c(S,w,x,a,o,b);if(!(E===void 0?e(w,S,r|n,c,b):E))return!1}}return!0}return yw=i,yw}var vw,xO;function f$(){if(xO)return vw;xO=1;var t=vs();function e(r){return r===r&&!t(r)}return vw=e,vw}var bw,wO;function tQ(){if(wO)return bw;wO=1;var t=f$(),e=Vy();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return bw=r,bw}var xw,_O;function h$(){if(_O)return xw;_O=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return xw=t,xw}var ww,SO;function rQ(){if(SO)return ww;SO=1;var t=eQ(),e=tQ(),r=h$();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return ww=n,ww}var _w,EO;function nQ(){if(EO)return _w;EO=1;function t(e,r){return e!=null&&r in Object(e)}return _w=t,_w}var Sw,TO;function iQ(){if(TO)return Sw;TO=1;var t=C3(),e=ZT(),r=Pn(),n=eA(),i=tA(),a=Oy();function o(l,c,d){c=t(c,l);for(var p=-1,m=c.length,y=!1;++p<m;){var x=a(c[p]);if(!(y=l!=null&&d(l,x)))break;l=l[x]}return y||++p!=m?y:(m=l==null?0:l.length,!!m&&i(m)&&n(x,m)&&(r(l)||e(l)))}return Sw=o,Sw}var Ew,AO;function aQ(){if(AO)return Ew;AO=1;var t=nQ(),e=iQ();function r(n,i){return n!=null&&e(n,i,t)}return Ew=r,Ew}var Tw,PO;function oQ(){if(PO)return Tw;PO=1;var t=rA(),e=O3(),r=aQ(),n=$T(),i=f$(),a=h$(),o=Oy(),l=1,c=2;function d(p,m){return n(p)&&i(m)?a(o(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,l|c)}}return Tw=d,Tw}var Aw,jO;function Lc(){if(jO)return Aw;jO=1;function t(e){return e}return Aw=t,Aw}var Pw,kO;function sQ(){if(kO)return Pw;kO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Pw=t,Pw}var jw,IO;function lQ(){if(IO)return jw;IO=1;var t=qT();function e(r){return function(n){return t(n,r)}}return jw=e,jw}var kw,NO;function uQ(){if(NO)return kw;NO=1;var t=sQ(),e=lQ(),r=$T(),n=Oy();function i(a){return r(a)?t(n(a)):e(a)}return kw=i,kw}var Iw,CO;function ya(){if(CO)return Iw;CO=1;var t=rQ(),e=oQ(),r=Lc(),n=Pn(),i=uQ();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return Iw=a,Iw}var Nw,OO;function p$(){if(OO)return Nw;OO=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return Nw=t,Nw}var Cw,RO;function cQ(){if(RO)return Cw;RO=1;function t(e){return e!==e}return Cw=t,Cw}var Ow,MO;function dQ(){if(MO)return Ow;MO=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Ow=t,Ow}var Rw,DO;function fQ(){if(DO)return Rw;DO=1;var t=p$(),e=cQ(),r=dQ();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return Rw=n,Rw}var Mw,LO;function hQ(){if(LO)return Mw;LO=1;var t=fQ();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Mw=e,Mw}var Dw,$O;function pQ(){if($O)return Dw;$O=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Dw=t,Dw}var Lw,VO;function mQ(){if(VO)return Lw;VO=1;function t(){}return Lw=t,Lw}var $w,FO;function gQ(){if(FO)return $w;FO=1;var t=d$(),e=mQ(),r=JT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return $w=i,$w}var Vw,UO;function yQ(){if(UO)return Vw;UO=1;var t=r$(),e=hQ(),r=pQ(),n=i$(),i=gQ(),a=JT(),o=200;function l(c,d,p){var m=-1,y=e,x=c.length,S=!0,w=[],b=w;if(p)S=!1,y=r;else if(x>=o){var E=d?null:i(c);if(E)return a(E);S=!1,y=n,b=new t}else b=d?[]:w;e:for(;++m<x;){var T=c[m],N=d?d(T):T;if(T=p||T!==0?T:0,S&&N===N){for(var C=b.length;C--;)if(b[C]===N)continue e;d&&b.push(N),w.push(T)}else y(b,N,p)||(b!==w&&b.push(N),w.push(T))}return w}return Vw=l,Vw}var Fw,BO;function vQ(){if(BO)return Fw;BO=1;var t=ya(),e=yQ();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Fw=r,Fw}var bQ=vQ();const zO=wt(bQ);function m$(t,e,r){return e===!0?zO(t,r):Qe(e)?zO(t,e):t}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}var xQ=["ref"];function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){Fy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y$(n.key),n)}}function _Q(t,e,r){return e&&WO(t.prototype,e),r&&WO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SQ(t,e,r){return e=ug(e),EQ(t,g$()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function EQ(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TQ(t)}function TQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function AQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vS(t,e)}function Fy(t,e,r){return e=y$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){var e=PQ(t,"string");return nc(e)=="symbol"?e:e+""}function PQ(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jQ(t,e){if(t==null)return{};var r=kQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IQ(t){return t.value}function NQ(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=jQ(e,xQ);return G.createElement(QT,r)}var HO=1,zu=(function(t){function e(){var r;wQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=SQ(this,e,[].concat(i)),Fy(r,"lastBoundingBox",{width:-1,height:-1}),r}return AQ(e,t),_Q(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HO||Math.abs(i.height-this.lastBoundingBox.height)>HO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ra({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,p=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((p||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ra(Ra({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,p=i.payload,m=Ra(Ra({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},NQ(a,Ra(Ra({},this.props),{},{payload:m$(p,d,IQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ra(Ra({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&_e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(D.PureComponent);Fy(zu,"displayName","Legend");Fy(zu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Uw,GO;function CQ(){if(GO)return Uw;GO=1;var t=Ah(),e=ZT(),r=Pn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Uw=i,Uw}var Bw,KO;function v$(){if(KO)return Bw;KO=1;var t=o$(),e=CQ();function r(n,i,a,o,l){var c=-1,d=n.length;for(a||(a=e),l||(l=[]);++c<d;){var p=n[c];i>0&&a(p)?i>1?r(p,i-1,a,o,l):t(l,p):o||(l[l.length]=p)}return l}return Bw=r,Bw}var zw,XO;function OQ(){if(XO)return zw;XO=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[e?c:++a];if(n(o[d],d,o)===!1)break}return r}}return zw=t,zw}var qw,YO;function RQ(){if(YO)return qw;YO=1;var t=OQ(),e=t();return qw=e,qw}var Ww,QO;function b$(){if(QO)return Ww;QO=1;var t=RQ(),e=Vy();function r(n,i){return n&&t(n,i,e)}return Ww=r,Ww}var Hw,JO;function MQ(){if(JO)return Hw;JO=1;var t=jh();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return Hw=e,Hw}var Gw,ZO;function nA(){if(ZO)return Gw;ZO=1;var t=b$(),e=MQ(),r=e(t);return Gw=r,Gw}var Kw,e2;function x$(){if(e2)return Kw;e2=1;var t=nA(),e=jh();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++a]=i(l,c,d)}),o}return Kw=r,Kw}var Xw,t2;function DQ(){if(t2)return Xw;t2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Xw=t,Xw}var Yw,r2;function LQ(){if(r2)return Yw;r2=1;var t=Mc();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,p=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&p&&!d&&!m||a&&c&&p||!i&&p||!o)return 1;if(!a&&!l&&!m&&r<n||m&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!p)return-1}return 0}return Yw=e,Yw}var Qw,n2;function $Q(){if(n2)return Qw;n2=1;var t=LQ();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++a<c;){var p=t(o[a],l[a]);if(p){if(a>=d)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Qw=e,Qw}var Jw,i2;function VQ(){if(i2)return Jw;i2=1;var t=zT(),e=qT(),r=ya(),n=x$(),i=DQ(),a=l$(),o=$Q(),l=Lc(),c=Pn();function d(p,m,y){m.length?m=t(m,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[l];var x=-1;m=t(m,a(r));var S=n(p,function(w,b,E){var T=t(m,function(N){return N(w)});return{criteria:T,index:++x,value:w}});return i(S,function(w,b){return o(w,b,y)})}return Jw=d,Jw}var Zw,a2;function FQ(){if(a2)return Zw;a2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Zw=t,Zw}var e_,o2;function UQ(){if(o2)return e_;o2=1;var t=FQ(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var p=Array(i+1);++l<i;)p[l]=o[l];return p[i]=a(d),t(n,this,p)}}return e_=r,e_}var t_,s2;function BQ(){if(s2)return t_;s2=1;function t(e){return function(){return e}}return t_=t,t_}var r_,l2;function w$(){if(l2)return r_;l2=1;var t=Nl(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return r_=e,r_}var n_,u2;function zQ(){if(u2)return n_;u2=1;var t=BQ(),e=w$(),r=Lc(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return n_=n,n_}var i_,c2;function qQ(){if(c2)return i_;c2=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return i_=n,i_}var a_,d2;function WQ(){if(d2)return a_;d2=1;var t=zQ(),e=qQ(),r=e(t);return a_=r,a_}var o_,f2;function HQ(){if(f2)return o_;f2=1;var t=Lc(),e=UQ(),r=WQ();function n(i,a){return r(e(i,a,t),i+"")}return o_=n,o_}var s_,h2;function Uy(){if(h2)return s_;h2=1;var t=FT(),e=jh(),r=eA(),n=vs();function i(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return s_=i,s_}var l_,p2;function GQ(){if(p2)return l_;p2=1;var t=v$(),e=VQ(),r=HQ(),n=Uy(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return l_=i,l_}var KQ=GQ();const iA=wt(KQ);function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bS.apply(this,arguments)}function XQ(t,e){return ZQ(t)||JQ(t,e)||QQ(t,e)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QQ(t,e){if(t){if(typeof t=="string")return m2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function ZQ(t){if(Array.isArray(t))return t}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){eJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eJ(t,e,r){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tJ(t){var e=rJ(t,"string");return Pf(e)=="symbol"?e:e+""}function rJ(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nJ(t){return Array.isArray(t)&&wr(t[0])&&wr(t[1])?t.join(" ~ "):t}var iJ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,w=e.label,b=e.labelFormatter,E=e.accessibilityLayer,T=E===void 0?!1:E,N=function(){if(p&&p.length){var V={padding:0,margin:0},L=(y?iA(p,y):p).map(function(W,Y){if(W.type==="none")return null;var te=u_({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),re=W.formatter||m||nJ,Q=W.value,ae=W.name,ne=Q,q=ae;if(re&&ne!=null&&q!=null){var X=re(Q,ae,W,Y,p);if(Array.isArray(X)){var de=XQ(X,2);ne=de[0],q=de[1]}else ne=X}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:te},wr(q)?G.createElement("span",{className:"recharts-tooltip-item-name"},q):null,wr(q)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ne),G.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:V},L)}return null},C=u_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=u_({margin:0},d),O=!pt(w),P=O?w:"",I=et("recharts-default-tooltip",x),M=et("recharts-tooltip-label",S);O&&b&&p!==void 0&&p!==null&&(P=b(w,p));var U=T?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",bS({className:I,style:C},U),G.createElement("p",{className:M,style:k},G.isValidElement(P)?P:"".concat(P)),N())};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function om(t,e,r){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aJ(t){var e=oJ(t,"string");return jf(e)=="symbol"?e:e+""}function oJ(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Id="recharts-tooltip-wrapper",sJ={visibility:"hidden"};function lJ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return et(Id,om(om(om(om({},"".concat(Id,"-right"),_e(r)&&e&&_e(e.x)&&r>=e.x),"".concat(Id,"-left"),_e(r)&&e&&_e(e.x)&&r<e.x),"".concat(Id,"-bottom"),_e(n)&&e&&_e(e.y)&&n>=e.y),"".concat(Id,"-top"),_e(n)&&e&&_e(e.y)&&n<e.y))}function y2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&_e(a[n]))return a[n];var p=r[n]-l-i,m=r[n]+i;if(e[n])return o[n]?p:m;if(o[n]){var y=p,x=c[n];return y<x?Math.max(m,c[n]):Math.max(p,c[n])}var S=m+l,w=c[n]+d;return S>w?Math.max(p,c[n]):Math.max(m,c[n])}function uJ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function cJ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,p,m;return o.height>0&&o.width>0&&r?(p=y2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=y2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=uJ({translateX:p,translateY:m,useTranslate3d:l})):d=sJ,{cssProperties:d,cssClasses:lJ({translateX:p,translateY:m,coordinate:r})}}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){wS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S$(n.key),n)}}function hJ(t,e,r){return e&&fJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pJ(t,e,r){return e=cg(e),mJ(t,_$()?Reflect.construct(e,r||[],cg(t).constructor):e.apply(t,r))}function mJ(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(t)}function gJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(t)}function yJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xS(t,e)}function wS(t,e,r){return e=S$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$(t){var e=vJ(t,"string");return ic(e)=="symbol"?e:e+""}function vJ(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x2=1,bJ=(function(t){function e(){var r;dJ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=pJ(this,e,[].concat(i)),wS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),r}return yJ(e,t),hJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>x2||Math.abs(n.height-this.state.lastBoundingBox.height)>x2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,p=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,w=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,T=i.wrapperStyle,N=cJ({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:S,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),C=N.cssClasses,k=N.cssProperties,O=b2(b2({transition:y&&a?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return G.createElement("div",{tabIndex:-1,className:C,style:O,ref:function(I){n.wrapperNode=I}},d)}}])})(D.PureComponent),xJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$c={isSsr:xJ()};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(n){aA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function SJ(t,e,r){return e&&_J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EJ(t,e,r){return e=dg(e),TJ(t,E$()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function TJ(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AJ(t)}function AJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function PJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_S(t,e)}function aA(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=jJ(t,"string");return ac(e)=="symbol"?e:e+""}function jJ(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kJ(t){return t.dataKey}function IJ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(iJ,e)}var ea=(function(t){function e(){return wJ(this,e),EJ(this,e,arguments)}return PJ(e,t),SJ(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,p=i.coordinate,m=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,w=i.payloadUniqBy,b=i.position,E=i.reverseDirection,T=i.useTranslate3d,N=i.viewBox,C=i.wrapperStyle,k=S??[];m&&k.length&&(k=m$(S.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),w,kJ));var O=k.length>0;return G.createElement(bJ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:y,active:a,coordinate:p,hasPayload:O,offset:x,position:b,reverseDirection:E,useTranslate3d:T,viewBox:N,wrapperStyle:C},IJ(d,_2(_2({},this.props),{},{payload:k})))}}])})(D.PureComponent);aA(ea,"displayName","Tooltip");aA(ea,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$c.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var c_,S2;function NJ(){if(S2)return c_;S2=1;var t=ga(),e=function(){return t.Date.now()};return c_=e,c_}var d_,E2;function CJ(){if(E2)return d_;E2=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return d_=e,d_}var f_,T2;function OJ(){if(T2)return f_;T2=1;var t=CJ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return f_=r,f_}var h_,A2;function A$(){if(A2)return h_;A2=1;var t=OJ(),e=vs(),r=Mc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=a.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):i.test(d)?n:+d}return h_=c,h_}var p_,P2;function RJ(){if(P2)return p_;P2=1;var t=vs(),e=NJ(),r=A$(),n="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var p,m,y,x,S,w,b=0,E=!1,T=!1,N=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(E=!!d.leading,T="maxWait"in d,y=T?i(r(d.maxWait)||0,c):y,N="trailing"in d?!!d.trailing:N);function C(L){var W=p,Y=m;return p=m=void 0,b=L,x=l.apply(Y,W),x}function k(L){return b=L,S=setTimeout(I,c),E?C(L):x}function O(L){var W=L-w,Y=L-b,te=c-W;return T?a(te,y-Y):te}function P(L){var W=L-w,Y=L-b;return w===void 0||W>=c||W<0||T&&Y>=y}function I(){var L=e();if(P(L))return M(L);S=setTimeout(I,O(L))}function M(L){return S=void 0,N&&p?C(L):(p=m=void 0,x)}function U(){S!==void 0&&clearTimeout(S),b=0,p=w=m=S=void 0}function $(){return S===void 0?x:M(e())}function V(){var L=e(),W=P(L);if(p=arguments,m=this,w=L,W){if(S===void 0)return k(w);if(T)return clearTimeout(S),S=setTimeout(I,c),C(w)}return S===void 0&&(S=setTimeout(I,c)),x}return V.cancel=U,V.flush=$,V}return p_=o,p_}var m_,j2;function MJ(){if(j2)return m_;j2=1;var t=RJ(),e=vs(),r="Expected a function";function n(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return m_=n,m_}var DJ=MJ();const P$=wt(DJ);function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function k2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(r),!0).forEach(function(n){LJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LJ(t,e,r){return e=$J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $J(t){var e=VJ(t,"string");return kf(e)=="symbol"?e:e+""}function VJ(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FJ(t,e){return qJ(t)||zJ(t,e)||BJ(t,e)||UJ()}function UJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BJ(t,e){if(t){if(typeof t=="string")return I2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I2(t,e)}}function I2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function qJ(t){if(Array.isArray(t))return t}var WJ=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,p=d===void 0?0:d,m=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,w=S===void 0?0:S,b=t.id,E=t.className,T=t.onResize,N=t.style,C=N===void 0?{}:N,k=D.useRef(null),O=D.useRef();O.current=T,D.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var P=D.useState({containerWidth:i.width,containerHeight:i.height}),I=FJ(P,2),M=I[0],U=I[1],$=D.useCallback(function(L,W){U(function(Y){var te=Math.round(L),re=Math.round(W);return Y.containerWidth===te&&Y.containerHeight===re?Y:{containerWidth:te,containerHeight:re}})},[]);D.useEffect(function(){var L=function(ae){var ne,q=ae[0].contentRect,X=q.width,de=q.height;$(X,de),(ne=O.current)===null||ne===void 0||ne.call(O,X,de)};w>0&&(L=P$(L,w,{trailing:!0,leading:!1}));var W=new ResizeObserver(L),Y=k.current.getBoundingClientRect(),te=Y.width,re=Y.height;return $(te,re),W.observe(k.current),function(){W.disconnect()}},[$,w]);var V=D.useMemo(function(){var L=M.containerWidth,W=M.containerHeight;if(L<0||W<0)return null;Ka(il(o)||il(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ka(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=il(o)?L:o,te=il(c)?W:c;r&&r>0&&(Y?te=Y/r:te&&(Y=te*r),y&&te>y&&(te=y)),Ka(Y>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,te,o,c,p,m,r);var re=!Array.isArray(x)&&Ga(x.type).endsWith("Chart");return G.Children.map(x,function(Q){return G.isValidElement(Q)?D.cloneElement(Q,sm({width:Y,height:te},re?{style:sm({height:"100%",width:"100%",maxHeight:te,maxWidth:Y},Q.props.style)}:{})):Q})},[r,x,c,y,m,p,M,o]);return G.createElement("div",{id:b?"".concat(b):void 0,className:et("recharts-responsive-container",E),style:sm(sm({},C),{},{width:o,height:c,minWidth:p,minHeight:m,maxHeight:y}),ref:k},V)}),By=function(e){return null};By.displayName="Cell";function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function N2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(r),!0).forEach(function(n){HJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HJ(t,e,r){return e=GJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GJ(t){var e=KJ(t,"string");return If(e)=="symbol"?e:e+""}function KJ(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu={widthCache:{},cacheCount:0},XJ=2e3,YJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},C2="recharts_measurement_span";function QJ(t){var e=SS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var af=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$c.isSsr)return{width:0,height:0};var n=QJ(r),i=JSON.stringify({text:e,copyStyle:n});if(Tu.widthCache[i])return Tu.widthCache[i];try{var a=document.getElementById(C2);a||(a=document.createElement("span"),a.setAttribute("id",C2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=SS(SS({},YJ),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Tu.widthCache[i]=c,++Tu.cacheCount>XJ&&(Tu.cacheCount=0,Tu.widthCache={}),c}catch{return{width:0,height:0}}},JJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function fg(t,e){return rZ(t)||tZ(t,e)||eZ(t,e)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eZ(t,e){if(t){if(typeof t=="string")return O2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O2(t,e)}}function O2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function rZ(t){if(Array.isArray(t))return t}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aZ(n.key),n)}}function iZ(t,e,r){return e&&R2(t.prototype,e),r&&R2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aZ(t){var e=oZ(t,"string");return Nf(e)=="symbol"?e:e+""}function oZ(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,j$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uZ=Object.keys(j$),Cu="NaN";function cZ(t,e){return t*j$[e]}var lm=(function(){function t(e,r){nZ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!sZ.test(r)&&(this.num=NaN,this.unit=""),uZ.includes(r)&&(this.num=cZ(e,r),this.unit="px")}return iZ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=lZ.exec(r))!==null&&n!==void 0?n:[],a=fg(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])})();function k$(t){if(t.includes(Cu))return Cu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=M2.exec(e))!==null&&r!==void 0?r:[],i=fg(n,4),a=i[1],o=i[2],l=i[3],c=lm.parse(a??""),d=lm.parse(l??""),p=o==="*"?c.multiply(d):c.divide(d);if(p.isNaN())return Cu;e=e.replace(M2,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=D2.exec(e))!==null&&m!==void 0?m:[],x=fg(y,4),S=x[1],w=x[2],b=x[3],E=lm.parse(S??""),T=lm.parse(b??""),N=w==="+"?E.add(T):E.subtract(T);if(N.isNaN())return Cu;e=e.replace(D2,N.toString())}return e}var L2=/\(([^()]*)\)/;function dZ(t){for(var e=t;e.includes("(");){var r=L2.exec(e),n=fg(r,2),i=n[1];e=e.replace(L2,k$(i))}return e}function fZ(t){var e=t.replace(/\s+/g,"");return e=dZ(e),e=k$(e),e}function hZ(t){try{return fZ(t)}catch{return Cu}}function g_(t){var e=hZ(t.slice(5,-1));return e===Cu?"":e}var pZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mZ=["dx","dy","angle","className","breakAll"];function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}function $2(t,e){if(t==null)return{};var r=gZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V2(t,e){return xZ(t)||bZ(t,e)||vZ(t,e)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return F2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function xZ(t){if(Array.isArray(t))return t}var I$=/[ \f\n\r\t\v\u2028\u2029]+/,N$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];pt(r)||(n?a=r.toString().split(""):a=r.toString().split(I$));var o=a.map(function(c){return{word:c,width:af(c,i).width}}),l=n?0:af("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},wZ=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,p=_e(o),m=l,y=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(te,re){var Q=re.word,ae=re.width,ne=te[te.length-1];if(ne&&(i==null||a||ne.width+ae+n<Number(i)))ne.words.push(Q),ne.width+=ae+n;else{var q={words:[Q],width:ae};te.push(q)}return te},[])},x=y(r),S=function(Y){return Y.reduce(function(te,re){return te.width>re.width?te:re})};if(!p)return x;for(var w="",b=function(Y){var te=m.slice(0,Y),re=N$({breakAll:d,style:c,children:te+w}).wordsWithComputedWidth,Q=y(re),ae=Q.length>o||S(Q).width>Number(i);return[ae,Q]},E=0,T=m.length-1,N=0,C;E<=T&&N<=m.length-1;){var k=Math.floor((E+T)/2),O=k-1,P=b(O),I=V2(P,2),M=I[0],U=I[1],$=b(k),V=V2($,1),L=V[0];if(!M&&!L&&(E=k+1),M&&L&&(T=k-1),!M&&L){C=U;break}N++}return C||x},U2=function(e){var r=pt(e)?[]:e.toString().split(I$);return[{words:r}]},_Z=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!$c.isSsr){var c,d,p=N$({breakAll:o,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;c=m,d=y}else return U2(i);return wZ({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return U2(i)},B2="#808080",oc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,w=S===void 0?"end":S,b=e.fill,E=b===void 0?B2:b,T=$2(e,pZ),N=D.useMemo(function(){return _Z({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),C=T.dx,k=T.dy,O=T.angle,P=T.className,I=T.breakAll,M=$2(T,mZ);if(!wr(n)||!wr(a))return null;var U=n+(_e(C)?C:0),$=a+(_e(k)?k:0),V;switch(w){case"start":V=g_("calc(".concat(d,")"));break;case"middle":V=g_("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:V=g_("calc(".concat(N.length-1," * -").concat(l,")"));break}var L=[];if(m){var W=N[0].width,Y=T.width;L.push("scale(".concat((_e(Y)?Y/W:1)/W,")"))}return O&&L.push("rotate(".concat(O,", ").concat(U,", ").concat($,")")),L.length&&(M.transform=L.join(" ")),G.createElement("text",ES({},Ge(M,!0),{x:U,y:$,className:et("recharts-text",P),textAnchor:x,fill:E.includes("url")?B2:E}),N.map(function(te,re){var Q=te.words.join(I?"":" ");return G.createElement("tspan",{x:U,dy:re===0?V:l,key:"".concat(Q,"-").concat(re)},Q)}))};function rs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oA(t){let e,r,n;t.length!==2?(e=rs,r=(l,c)=>rs(t(l),c),n=(l,c)=>t(l)-c):(e=t===rs||t===SZ?t:EZ,r=t,n=t);function i(l,c,d=0,p=l.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(l[m],c)<0?d=m+1:p=m}while(d<p)}return d}function a(l,c,d=0,p=l.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(l[m],c)<=0?d=m+1:p=m}while(d<p)}return d}function o(l,c,d=0,p=l.length){const m=i(l,c,d,p-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:o,right:a}}function EZ(){return 0}function C$(t){return t===null?NaN:+t}function*TZ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const AZ=oA(rs),kh=AZ.right;oA(C$).center;class z2 extends Map{constructor(e,r=kZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(q2(this,e))}has(e){return super.has(q2(this,e))}set(e,r){return super.set(PZ(this,e),r)}delete(e){return super.delete(jZ(this,e))}}function q2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function PZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function kZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function IZ(t=rs){if(t===rs)return O$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function O$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NZ=Math.sqrt(50),CZ=Math.sqrt(10),OZ=Math.sqrt(2);function hg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=NZ?10:a>=CZ?5:a>=OZ?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?hg(t,e,r*2):[l,c,d]}function TS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?hg(e,t,r):hg(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function AS(t,e,r){return e=+e,t=+t,r=+r,hg(t,e,r)[2]}function PS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?AS(e,t,r):AS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function W2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function H2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function R$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?O$:IZ(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,p=Math.log(c),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(r,Math.floor(e-d*m/c+y)),S=Math.min(n,Math.floor(e+(c-d)*m/c+y));R$(t,e,x,S,i)}const a=t[e];let o=r,l=n;for(Nd(t,r,e),i(t[n],a)>0&&Nd(t,r,n);o<l;){for(Nd(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Nd(t,r,l):(++l,Nd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Nd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function RZ(t,e,r){if(t=Float64Array.from(TZ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return H2(t);if(e>=1)return W2(t);var n,i=(n-1)*e,a=Math.floor(i),o=W2(R$(t,a).subarray(0,a+1)),l=H2(t.subarray(a+1));return o+(l-o)*(i-a)}}function MZ(t,e,r=C$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function DZ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jS=Symbol("implicit");function sA(){var t=new z2,e=[],r=[],n=jS;function i(a){let o=t.get(a);if(o===void 0){if(n!==jS)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new z2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sA(e,r).unknown(n)},di.apply(i,arguments),i}function Cf(){var t=sA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,d=0,p=.5;delete t.unknown;function m(){var y=e().length,x=i<n,S=x?i:n,w=x?n:i;a=(w-S)/Math.max(1,y-c+d*2),l&&(a=Math.floor(a)),S+=(w-S-a*(y-c))*p,o=a*(1-c),l&&(S=Math.round(S),o=Math.round(o));var b=DZ(y).map(function(E){return S+a*E});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Cf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(p)},di.apply(m(),arguments)}function M$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return M$(e())},t}function of(){return M$(Cf.apply(null,arguments).paddingInner(1))}function lA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function D$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ih(){}var Of=.7,pg=1/Of,qu="\\s*([+-]?\\d+)\\s*",Rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LZ=/^#([0-9a-f]{3,8})$/,$Z=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),VZ=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),FZ=new RegExp(`^rgba\\(${qu},${qu},${qu},${Rf}\\)$`),UZ=new RegExp(`^rgba\\(${ua},${ua},${ua},${Rf}\\)$`),BZ=new RegExp(`^hsl\\(${Rf},${ua},${ua}\\)$`),zZ=new RegExp(`^hsla\\(${Rf},${ua},${ua},${Rf}\\)$`),G2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lA(Ih,Mf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:K2,formatHex:K2,formatHex8:qZ,formatHsl:WZ,formatRgb:X2,toString:X2});function K2(){return this.rgb().formatHex()}function qZ(){return this.rgb().formatHex8()}function WZ(){return L$(this).formatHsl()}function X2(){return this.rgb().formatRgb()}function Mf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=LZ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Y2(e):r===3?new Tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?um(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?um(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$Z.exec(t))?new Tn(e[1],e[2],e[3],1):(e=VZ.exec(t))?new Tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=FZ.exec(t))?um(e[1],e[2],e[3],e[4]):(e=UZ.exec(t))?um(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BZ.exec(t))?Z2(e[1],e[2]/100,e[3]/100,1):(e=zZ.exec(t))?Z2(e[1],e[2]/100,e[3]/100,e[4]):G2.hasOwnProperty(t)?Y2(G2[t]):t==="transparent"?new Tn(NaN,NaN,NaN,0):null}function Y2(t){return new Tn(t>>16&255,t>>8&255,t&255,1)}function um(t,e,r,n){return n<=0&&(t=e=r=NaN),new Tn(t,e,r,n)}function HZ(t){return t instanceof Ih||(t=Mf(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function kS(t,e,r,n){return arguments.length===1?HZ(t):new Tn(t,e,r,n??1)}function Tn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}lA(Tn,kS,D$(Ih,{brighter(t){return t=t==null?pg:Math.pow(pg,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Of:Math.pow(Of,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tn(cl(this.r),cl(this.g),cl(this.b),mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q2,formatHex:Q2,formatHex8:GZ,formatRgb:J2,toString:J2}));function Q2(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function GZ(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function J2(){const t=mg(this.opacity);return`${t===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${t===1?")":`, ${t})`}`}function mg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function al(t){return t=cl(t),(t<16?"0":"")+t.toString(16)}function Z2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ni(t,e,r,n)}function L$(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);if(t instanceof Ih||(t=Mf(t)),!t)return new Ni;if(t instanceof Ni)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Ni(o,l,c,t.opacity)}function KZ(t,e,r,n){return arguments.length===1?L$(t):new Ni(t,e,r,n??1)}function Ni(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}lA(Ni,KZ,D$(Ih,{brighter(t){return t=t==null?pg:Math.pow(pg,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Of:Math.pow(Of,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Tn(y_(t>=240?t-240:t+120,i,n),y_(t,i,n),y_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ni(eR(this.h),cm(this.s),cm(this.l),mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mg(this.opacity);return`${t===1?"hsl(":"hsla("}${eR(this.h)}, ${cm(this.s)*100}%, ${cm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eR(t){return t=(t||0)%360,t<0?t+360:t}function cm(t){return Math.max(0,Math.min(1,t||0))}function y_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const uA=t=>()=>t;function XZ(t,e){return function(r){return t+r*e}}function YZ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function QZ(t){return(t=+t)==1?$$:function(e,r){return r-e?YZ(e,r,t):uA(isNaN(e)?r:e)}}function $$(t,e){var r=e-t;return r?XZ(t,r):uA(isNaN(t)?e:t)}const tR=(function t(e){var r=QZ(e);function n(i,a){var o=r((i=kS(i)).r,(a=kS(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=$$(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=l(p),i.b=c(p),i.opacity=d(p),i+""}}return n.gamma=t,n})(1);function JZ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function ZZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eee(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Vc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function tee(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function gg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ree(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Vc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var IS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v_=new RegExp(IS.source,"g");function nee(t){return function(){return t}}function iee(t){return function(e){return t(e)+""}}function aee(t,e){var r=IS.lastIndex=v_.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=IS.exec(t))&&(i=v_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:gg(n,i)})),r=v_.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?iee(c[0].x):nee(e):(e=c.length,function(d){for(var p=0,m;p<e;++p)l[(m=c[p]).i]=m.x(d);return l.join("")})}function Vc(t,e){var r=typeof e,n;return e==null||r==="boolean"?uA(e):(r==="number"?gg:r==="string"?(n=Mf(e))?(e=n,tR):aee:e instanceof Mf?tR:e instanceof Date?tee:ZZ(e)?JZ:Array.isArray(e)?eee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ree:gg)(t,e)}function cA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function oee(t,e){e===void 0&&(e=t,t=Vc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function see(t){return function(){return t}}function yg(t){return+t}var rR=[0,1];function un(t){return t}function NS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:see(isNaN(e)?NaN:.5)}function lee(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function uee(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=NS(i,n),a=r(o,a)):(n=NS(n,i),a=r(a,o)),function(l){return a(n(l))}}function cee(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=NS(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=kh(t,l,1,n)-1;return a[c](i[c](l))}}function Nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zy(){var t=rR,e=rR,r=Vc,n,i,a,o=un,l,c,d;function p(){var y=Math.min(t.length,e.length);return o!==un&&(o=lee(t[0],t[y-1])),l=y>2?cee:uee,c=d=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(n),e,r)))(n(o(y)))}return m.invert=function(y){return o(i((d||(d=l(e,t.map(n),gg)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,yg),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=cA,p()},m.clamp=function(y){return arguments.length?(o=y?!0:un,p()):o!==un},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,x){return n=y,i=x,p()}}function dA(){return zy()(un,un)}function dee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vg(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function sc(t){return t=vg(Math.abs(t)),t?t[1]:NaN}function fee(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function hee(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var pee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Df(t){if(!(e=pee.exec(t)))throw new Error("invalid format: "+t);var e;return new fA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Df.prototype=fA.prototype;function fA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mee(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var bg;function gee(t,e){var r=vg(t,e);if(!r)return bg=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(bg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+vg(t,Math.max(0,e+a-1))[0]}function nR(t,e){var r=vg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const iR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nR(t*100,e),r:nR,s:gee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aR(t){return t}var oR=Array.prototype.map,sR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yee(t){var e=t.grouping===void 0||t.thousands===void 0?aR:fee(oR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aR:hee(oR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,y){m=Df(m);var x=m.fill,S=m.align,w=m.sign,b=m.symbol,E=m.zero,T=m.width,N=m.comma,C=m.precision,k=m.trim,O=m.type;O==="n"?(N=!0,O="g"):iR[O]||(C===void 0&&(C=12),k=!0,O="g"),(E||x==="0"&&S==="=")&&(E=!0,x="0",S="=");var P=(y&&y.prefix!==void 0?y.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),I=(b==="$"?n:/[%p]/.test(O)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),M=iR[O],U=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function $(V){var L=P,W=I,Y,te,re;if(O==="c")W=M(V)+W,V="";else{V=+V;var Q=V<0||1/V<0;if(V=isNaN(V)?c:M(Math.abs(V),C),k&&(V=mee(V)),Q&&+V==0&&w!=="+"&&(Q=!1),L=(Q?w==="("?w:l:w==="-"||w==="("?"":w)+L,W=(O==="s"&&!isNaN(V)&&bg!==void 0?sR[8+bg/3]:"")+W+(Q&&w==="("?")":""),U){for(Y=-1,te=V.length;++Y<te;)if(re=V.charCodeAt(Y),48>re||re>57){W=(re===46?i+V.slice(Y+1):V.slice(Y))+W,V=V.slice(0,Y);break}}}N&&!E&&(V=e(V,1/0));var ae=L.length+V.length+W.length,ne=ae<T?new Array(T-ae+1).join(x):"";switch(N&&E&&(V=e(ne+V,ne.length?T-W.length:1/0),ne=""),S){case"<":V=L+V+W+ne;break;case"=":V=L+ne+V+W;break;case"^":V=ne.slice(0,ae=ne.length>>1)+L+V+W+ne.slice(ae);break;default:V=ne+L+V+W;break}return a(V)}return $.toString=function(){return m+""},$}function p(m,y){var x=Math.max(-8,Math.min(8,Math.floor(sc(y)/3)))*3,S=Math.pow(10,-x),w=d((m=Df(m),m.type="f",m),{suffix:sR[8+x/3]});return function(b){return w(S*b)}}return{format:d,formatPrefix:p}}var dm,hA,V$;vee({thousands:",",grouping:[3],currency:["$",""]});function vee(t){return dm=yee(t),hA=dm.format,V$=dm.formatPrefix,dm}function bee(t){return Math.max(0,-sc(Math.abs(t)))}function xee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(e)/3)))*3-sc(Math.abs(t)))}function wee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sc(e)-sc(t))+1}function F$(t,e,r,n){var i=PS(t,e,r),a;switch(n=Df(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=xee(i,o))&&(n.precision=a),V$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=wee(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=bee(i))&&(n.precision=a-(n.type==="%")*2);break}}return hA(n)}function bs(t){var e=t.domain;return t.ticks=function(r){var n=e();return TS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return F$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,p=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);p-- >0;){if(d=AS(o,l,r),d===c)return n[i]=o,n[a]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function xg(){var t=dA();return t.copy=function(){return Nh(t,xg())},di.apply(t,arguments),bs(t)}function U$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return U$(t).unknown(e)},t=arguments.length?Array.from(t,yg):[0,1],bs(r)}function B$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function lR(t){return Math.log(t)}function uR(t){return Math.exp(t)}function _ee(t){return-Math.log(-t)}function See(t){return-Math.exp(-t)}function Eee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Tee(t){return t===10?Eee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Aee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cR(t){return(e,r)=>-t(-e,r)}function pA(t){const e=t(lR,uR),r=e.domain;let n=10,i,a;function o(){return i=Aee(n),a=Tee(n),r()[0]<0?(i=cR(i),a=cR(a),t(_ee,See)):t(lR,uR),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],p=c[c.length-1];const m=p<d;m&&([d,p]=[p,d]);let y=i(d),x=i(p),S,w;const b=l==null?10:+l;let E=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),d>0){for(;y<=x;++y)for(S=1;S<n;++S)if(w=y<0?S/a(-y):S*a(y),!(w<d)){if(w>p)break;E.push(w)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(w=y>0?S/a(-y):S*a(y),!(w<d)){if(w>p)break;E.push(w)}E.length*2<b&&(E=TS(d,p,b))}else E=TS(y,x,Math.min(x-y,b)).map(a);return m?E.reverse():E},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Df(c)).precision==null&&(c.trim=!0),c=hA(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=d?c(p):""}},e.nice=()=>r(B$(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function z$(){const t=pA(zy()).domain([1,10]);return t.copy=()=>Nh(t,z$()).base(t.base()),di.apply(t,arguments),t}function dR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mA(t){var e=1,r=t(dR(e),fR(e));return r.constant=function(n){return arguments.length?t(dR(e=+n),fR(e)):e},bs(r)}function q$(){var t=mA(zy());return t.copy=function(){return Nh(t,q$()).constant(t.constant())},di.apply(t,arguments)}function hR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jee(t){return t<0?-t*t:t*t}function gA(t){var e=t(un,un),r=1;function n(){return r===1?t(un,un):r===.5?t(Pee,jee):t(hR(r),hR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},bs(e)}function yA(){var t=gA(zy());return t.copy=function(){return Nh(t,yA()).exponent(t.exponent())},di.apply(t,arguments),t}function kee(){return yA.apply(null,arguments).exponent(.5)}function pR(t){return Math.sign(t)*t*t}function Iee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function W$(){var t=dA(),e=[0,1],r=!1,n;function i(a){var o=Iee(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(pR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yg)).map(pR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return W$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},di.apply(i,arguments),bs(i)}function H$(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=MZ(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[kh(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(rs),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return H$().domain(t).range(e).unknown(n)},di.apply(a,arguments)}function G$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[kh(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return G$().domain([t,e]).range(i).unknown(a)},di.apply(bs(o),arguments)}function K$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[kh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return K$().domain(t).range(e).unknown(r)},di.apply(i,arguments)}const b_=new Date,x_=new Date;function Er(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>Er(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(b_.setTime(+a),x_.setTime(+o),t(b_),t(x_),Math.floor(r(b_,x_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const wg=Er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Er(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wg);wg.range;const Ua=1e3,oi=Ua*60,Ba=oi*60,to=Ba*24,vA=to*7,mR=to*30,w_=to*365,ol=Er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCSeconds());ol.range;const bA=Er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getMinutes());bA.range;const xA=Er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCMinutes());xA.range;const wA=Er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua-t.getMinutes()*oi)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getHours());wA.range;const _A=Er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCHours());_A.range;const Ch=Er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oi)/to,t=>t.getDate()-1);Ch.range;const qy=Er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>t.getUTCDate()-1);qy.range;const X$=Er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>Math.floor(t/to));X$.range;function Cl(t){return Er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*oi)/vA)}const Wy=Cl(0),_g=Cl(1),Nee=Cl(2),Cee=Cl(3),lc=Cl(4),Oee=Cl(5),Ree=Cl(6);Wy.range;_g.range;Nee.range;Cee.range;lc.range;Oee.range;Ree.range;function Ol(t){return Er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/vA)}const Hy=Ol(0),Sg=Ol(1),Mee=Ol(2),Dee=Ol(3),uc=Ol(4),Lee=Ol(5),$ee=Ol(6);Hy.range;Sg.range;Mee.range;Dee.range;uc.range;Lee.range;$ee.range;const SA=Er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SA.range;const EA=Er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EA.range;const ro=Er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ro.range;const no=Er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());no.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});no.range;function Y$(t,e,r,n,i,a){const o=[[ol,1,Ua],[ol,5,5*Ua],[ol,15,15*Ua],[ol,30,30*Ua],[a,1,oi],[a,5,5*oi],[a,15,15*oi],[a,30,30*oi],[i,1,Ba],[i,3,3*Ba],[i,6,6*Ba],[i,12,12*Ba],[n,1,to],[n,2,2*to],[r,1,vA],[e,1,mR],[e,3,3*mR],[t,1,w_]];function l(d,p,m){const y=p<d;y&&([d,p]=[p,d]);const x=m&&typeof m.range=="function"?m:c(d,p,m),S=x?x.range(d,+p+1):[];return y?S.reverse():S}function c(d,p,m){const y=Math.abs(p-d)/m,x=oA(([,,b])=>b).right(o,y);if(x===o.length)return t.every(PS(d/w_,p/w_,m));if(x===0)return wg.every(Math.max(PS(d,p,m),1));const[S,w]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return S.every(w)}return[l,c]}const[Vee,Fee]=Y$(no,EA,Hy,X$,_A,xA),[Uee,Bee]=Y$(ro,SA,Wy,Ch,wA,bA);function __(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function S_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function zee(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Od(i),p=Rd(i),m=Od(a),y=Rd(a),x=Od(o),S=Rd(o),w=Od(l),b=Rd(l),E=Od(c),T=Rd(c),N={a:re,A:Q,b:ae,B:ne,c:null,d:wR,e:wR,f:fte,g:_te,G:Ete,H:ute,I:cte,j:dte,L:Q$,m:hte,M:pte,p:q,q:X,Q:ER,s:TR,S:mte,u:gte,U:yte,V:vte,w:bte,W:xte,x:null,X:null,y:wte,Y:Ste,Z:Tte,"%":SR},C={a:de,A:se,b:xe,B:Re,c:null,d:_R,e:_R,f:kte,g:Vte,G:Ute,H:Ate,I:Pte,j:jte,L:Z$,m:Ite,M:Nte,p:ue,q:Se,Q:ER,s:TR,S:Cte,u:Ote,U:Rte,V:Mte,w:Dte,W:Lte,x:null,X:null,y:$te,Y:Fte,Z:Bte,"%":SR},k={a:U,A:$,b:V,B:L,c:W,d:bR,e:bR,f:ate,g:vR,G:yR,H:xR,I:xR,j:tte,L:ite,m:ete,M:rte,p:M,q:Zee,Q:ste,s:lte,S:nte,u:Kee,U:Xee,V:Yee,w:Gee,W:Qee,x:Y,X:te,y:vR,Y:yR,Z:Jee,"%":ote};N.x=O(r,N),N.X=O(n,N),N.c=O(e,N),C.x=O(r,C),C.X=O(n,C),C.c=O(e,C);function O(fe,Ee){return function(Le){var pe=[],nt=-1,We=0,gt=fe.length,dt,_t,ir;for(Le instanceof Date||(Le=new Date(+Le));++nt<gt;)fe.charCodeAt(nt)===37&&(pe.push(fe.slice(We,nt)),(_t=gR[dt=fe.charAt(++nt)])!=null?dt=fe.charAt(++nt):_t=dt==="e"?" ":"0",(ir=Ee[dt])&&(dt=ir(Le,_t)),pe.push(dt),We=nt+1);return pe.push(fe.slice(We,nt)),pe.join("")}}function P(fe,Ee){return function(Le){var pe=Cd(1900,void 0,1),nt=I(pe,fe,Le+="",0),We,gt;if(nt!=Le.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ee&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(We=S_(Cd(pe.y,0,1)),gt=We.getUTCDay(),We=gt>4||gt===0?Sg.ceil(We):Sg(We),We=qy.offset(We,(pe.V-1)*7),pe.y=We.getUTCFullYear(),pe.m=We.getUTCMonth(),pe.d=We.getUTCDate()+(pe.w+6)%7):(We=__(Cd(pe.y,0,1)),gt=We.getDay(),We=gt>4||gt===0?_g.ceil(We):_g(We),We=Ch.offset(We,(pe.V-1)*7),pe.y=We.getFullYear(),pe.m=We.getMonth(),pe.d=We.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),gt="Z"in pe?S_(Cd(pe.y,0,1)).getUTCDay():__(Cd(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(gt+5)%7:pe.w+pe.U*7-(gt+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,S_(pe)):__(pe)}}function I(fe,Ee,Le,pe){for(var nt=0,We=Ee.length,gt=Le.length,dt,_t;nt<We;){if(pe>=gt)return-1;if(dt=Ee.charCodeAt(nt++),dt===37){if(dt=Ee.charAt(nt++),_t=k[dt in gR?Ee.charAt(nt++):dt],!_t||(pe=_t(fe,Le,pe))<0)return-1}else if(dt!=Le.charCodeAt(pe++))return-1}return pe}function M(fe,Ee,Le){var pe=d.exec(Ee.slice(Le));return pe?(fe.p=p.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function U(fe,Ee,Le){var pe=x.exec(Ee.slice(Le));return pe?(fe.w=S.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function $(fe,Ee,Le){var pe=m.exec(Ee.slice(Le));return pe?(fe.w=y.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function V(fe,Ee,Le){var pe=E.exec(Ee.slice(Le));return pe?(fe.m=T.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function L(fe,Ee,Le){var pe=w.exec(Ee.slice(Le));return pe?(fe.m=b.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function W(fe,Ee,Le){return I(fe,e,Ee,Le)}function Y(fe,Ee,Le){return I(fe,r,Ee,Le)}function te(fe,Ee,Le){return I(fe,n,Ee,Le)}function re(fe){return o[fe.getDay()]}function Q(fe){return a[fe.getDay()]}function ae(fe){return c[fe.getMonth()]}function ne(fe){return l[fe.getMonth()]}function q(fe){return i[+(fe.getHours()>=12)]}function X(fe){return 1+~~(fe.getMonth()/3)}function de(fe){return o[fe.getUTCDay()]}function se(fe){return a[fe.getUTCDay()]}function xe(fe){return c[fe.getUTCMonth()]}function Re(fe){return l[fe.getUTCMonth()]}function ue(fe){return i[+(fe.getUTCHours()>=12)]}function Se(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ee=O(fe+="",N);return Ee.toString=function(){return fe},Ee},parse:function(fe){var Ee=P(fe+="",!1);return Ee.toString=function(){return fe},Ee},utcFormat:function(fe){var Ee=O(fe+="",C);return Ee.toString=function(){return fe},Ee},utcParse:function(fe){var Ee=P(fe+="",!0);return Ee.toString=function(){return fe},Ee}}}var gR={"-":"",_:" ",0:"0"},Rr=/^\s*\d+/,qee=/^%/,Wee=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Hee(t){return t.replace(Wee,"\\$&")}function Od(t){return new RegExp("^(?:"+t.map(Hee).join("|")+")","i")}function Rd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Gee(t,e,r){var n=Rr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Kee(t,e,r){var n=Rr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Xee(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Yee(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Qee(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function yR(t,e,r){var n=Rr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vR(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jee(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Zee(t,e,r){var n=Rr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function ete(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bR(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function tte(t,e,r){var n=Rr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xR(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function rte(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function nte(t,e,r){var n=Rr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ite(t,e,r){var n=Rr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ate(t,e,r){var n=Rr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ote(t,e,r){var n=qee.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ste(t,e,r){var n=Rr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function lte(t,e,r){var n=Rr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function wR(t,e){return mt(t.getDate(),e,2)}function ute(t,e){return mt(t.getHours(),e,2)}function cte(t,e){return mt(t.getHours()%12||12,e,2)}function dte(t,e){return mt(1+Ch.count(ro(t),t),e,3)}function Q$(t,e){return mt(t.getMilliseconds(),e,3)}function fte(t,e){return Q$(t,e)+"000"}function hte(t,e){return mt(t.getMonth()+1,e,2)}function pte(t,e){return mt(t.getMinutes(),e,2)}function mte(t,e){return mt(t.getSeconds(),e,2)}function gte(t){var e=t.getDay();return e===0?7:e}function yte(t,e){return mt(Wy.count(ro(t)-1,t),e,2)}function J$(t){var e=t.getDay();return e>=4||e===0?lc(t):lc.ceil(t)}function vte(t,e){return t=J$(t),mt(lc.count(ro(t),t)+(ro(t).getDay()===4),e,2)}function bte(t){return t.getDay()}function xte(t,e){return mt(_g.count(ro(t)-1,t),e,2)}function wte(t,e){return mt(t.getFullYear()%100,e,2)}function _te(t,e){return t=J$(t),mt(t.getFullYear()%100,e,2)}function Ste(t,e){return mt(t.getFullYear()%1e4,e,4)}function Ete(t,e){var r=t.getDay();return t=r>=4||r===0?lc(t):lc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function Tte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function _R(t,e){return mt(t.getUTCDate(),e,2)}function Ate(t,e){return mt(t.getUTCHours(),e,2)}function Pte(t,e){return mt(t.getUTCHours()%12||12,e,2)}function jte(t,e){return mt(1+qy.count(no(t),t),e,3)}function Z$(t,e){return mt(t.getUTCMilliseconds(),e,3)}function kte(t,e){return Z$(t,e)+"000"}function Ite(t,e){return mt(t.getUTCMonth()+1,e,2)}function Nte(t,e){return mt(t.getUTCMinutes(),e,2)}function Cte(t,e){return mt(t.getUTCSeconds(),e,2)}function Ote(t){var e=t.getUTCDay();return e===0?7:e}function Rte(t,e){return mt(Hy.count(no(t)-1,t),e,2)}function e6(t){var e=t.getUTCDay();return e>=4||e===0?uc(t):uc.ceil(t)}function Mte(t,e){return t=e6(t),mt(uc.count(no(t),t)+(no(t).getUTCDay()===4),e,2)}function Dte(t){return t.getUTCDay()}function Lte(t,e){return mt(Sg.count(no(t)-1,t),e,2)}function $te(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Vte(t,e){return t=e6(t),mt(t.getUTCFullYear()%100,e,2)}function Fte(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function Ute(t,e){var r=t.getUTCDay();return t=r>=4||r===0?uc(t):uc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function Bte(){return"+0000"}function SR(){return"%"}function ER(t){return+t}function TR(t){return Math.floor(+t/1e3)}var Au,t6,r6;zte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zte(t){return Au=zee(t),t6=Au.format,Au.parse,r6=Au.utcFormat,Au.utcParse,Au}function qte(t){return new Date(t)}function Wte(t){return t instanceof Date?+t:+new Date(+t)}function TA(t,e,r,n,i,a,o,l,c,d){var p=dA(),m=p.invert,y=p.domain,x=d(".%L"),S=d(":%S"),w=d("%I:%M"),b=d("%I %p"),E=d("%a %d"),T=d("%b %d"),N=d("%B"),C=d("%Y");function k(O){return(c(O)<O?x:l(O)<O?S:o(O)<O?w:a(O)<O?b:n(O)<O?i(O)<O?E:T:r(O)<O?N:C)(O)}return p.invert=function(O){return new Date(m(O))},p.domain=function(O){return arguments.length?y(Array.from(O,Wte)):y().map(qte)},p.ticks=function(O){var P=y();return t(P[0],P[P.length-1],O??10)},p.tickFormat=function(O,P){return P==null?k:d(P)},p.nice=function(O){var P=y();return(!O||typeof O.range!="function")&&(O=e(P[0],P[P.length-1],O??10)),O?y(B$(P,O)):p},p.copy=function(){return Nh(p,TA(t,e,r,n,i,a,o,l,c,d))},p}function Hte(){return di.apply(TA(Uee,Bee,ro,SA,Wy,Ch,wA,bA,ol,t6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gte(){return di.apply(TA(Vee,Fee,no,EA,Hy,qy,_A,xA,ol,r6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gy(){var t=0,e=1,r,n,i,a,o=un,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(a(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function p(m){return function(y){var x,S;return arguments.length?([x,S]=y,o=m(x,S),d):[o(0),o(1)]}}return d.range=p(Vc),d.rangeRound=p(cA),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),d}}function xs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function n6(){var t=bs(Gy()(un));return t.copy=function(){return xs(t,n6())},fo.apply(t,arguments)}function i6(){var t=pA(Gy()).domain([1,10]);return t.copy=function(){return xs(t,i6()).base(t.base())},fo.apply(t,arguments)}function a6(){var t=mA(Gy());return t.copy=function(){return xs(t,a6()).constant(t.constant())},fo.apply(t,arguments)}function AA(){var t=gA(Gy());return t.copy=function(){return xs(t,AA()).exponent(t.exponent())},fo.apply(t,arguments)}function Kte(){return AA.apply(null,arguments).exponent(.5)}function o6(){var t=[],e=un;function r(n){if(n!=null&&!isNaN(n=+n))return e((kh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>RZ(t,a/n))},r.copy=function(){return o6(e).domain(t)},fo.apply(r,arguments)}function Ky(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,d=un,p,m=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-a)*(n*w<n*a?l:c),d(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,i=p(t=+t),a=p(e=+e),o=p(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(d=w,x):d};function S(w){return function(b){var E,T,N;return arguments.length?([E,T,N]=b,d=oee(w,[E,T,N]),x):[d(0),d(.5),d(1)]}}return x.range=S(Vc),x.rangeRound=S(cA),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,i=w(t),a=w(e),o=w(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function s6(){var t=bs(Ky()(un));return t.copy=function(){return xs(t,s6())},fo.apply(t,arguments)}function l6(){var t=pA(Ky()).domain([.1,1,10]);return t.copy=function(){return xs(t,l6()).base(t.base())},fo.apply(t,arguments)}function u6(){var t=mA(Ky());return t.copy=function(){return xs(t,u6()).constant(t.constant())},fo.apply(t,arguments)}function PA(){var t=gA(Ky());return t.copy=function(){return xs(t,PA()).exponent(t.exponent())},fo.apply(t,arguments)}function Xte(){return PA.apply(null,arguments).exponent(.5)}const AR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cf,scaleDiverging:s6,scaleDivergingLog:l6,scaleDivergingPow:PA,scaleDivergingSqrt:Xte,scaleDivergingSymlog:u6,scaleIdentity:U$,scaleImplicit:jS,scaleLinear:xg,scaleLog:z$,scaleOrdinal:sA,scalePoint:of,scalePow:yA,scaleQuantile:H$,scaleQuantize:G$,scaleRadial:W$,scaleSequential:n6,scaleSequentialLog:i6,scaleSequentialPow:AA,scaleSequentialQuantile:o6,scaleSequentialSqrt:Kte,scaleSequentialSymlog:a6,scaleSqrt:kee,scaleSymlog:q$,scaleThreshold:K$,scaleTime:Hte,scaleUtc:Gte,tickFormat:F$},Symbol.toStringTag,{value:"Module"}));var E_,PR;function Xy(){if(PR)return E_;PR=1;var t=Mc();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,p=l}return p}return E_=e,E_}var T_,jR;function c6(){if(jR)return T_;jR=1;function t(e,r){return e>r}return T_=t,T_}var A_,kR;function Yte(){if(kR)return A_;kR=1;var t=Xy(),e=c6(),r=Lc();function n(i){return i&&i.length?t(i,r,e):void 0}return A_=n,A_}var Qte=Yte();const Yy=wt(Qte);var P_,IR;function d6(){if(IR)return P_;IR=1;function t(e,r){return e<r}return P_=t,P_}var j_,NR;function Jte(){if(NR)return j_;NR=1;var t=Xy(),e=d6(),r=Lc();function n(i){return i&&i.length?t(i,r,e):void 0}return j_=n,j_}var Zte=Jte();const Qy=wt(Zte);var k_,CR;function ere(){if(CR)return k_;CR=1;var t=zT(),e=ya(),r=x$(),n=Pn();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return k_=i,k_}var I_,OR;function tre(){if(OR)return I_;OR=1;var t=v$(),e=ere();function r(n,i){return t(e(n,i),1)}return I_=r,I_}var rre=tre();const nre=wt(rre);var N_,RR;function ire(){if(RR)return N_;RR=1;var t=rA();function e(r,n){return t(r,n)}return N_=e,N_}var are=ire();const Jy=wt(are);var Fc=1e9,ore={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kA,Bt=!0,ci="[DecimalError] ",dl=ci+"Invalid argument: ",jA=ci+"Exponent out of range: ",Uc=Math.floor,tl=Math.pow,sre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Nr=1e7,Dt=7,f6=9007199254740991,Eg=Uc(f6/Dt),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(t){return Xa(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,r=e.constructor;return At(Xa(e,new r(t),0,1),r.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return dr(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq($n))throw Error(ci+"NaN");if(r.s<1)throw Error(ci+(r.s?"NaN":"-Infinity"));return r.eq($n)?new n(0):(Bt=!1,e=Xa(Lf(r,a),Lf(t,a),a),Bt=!0,At(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m6(e,t):h6(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ci+"NaN");return r.s?(Bt=!1,e=Xa(r,t,0,1).times(t),Bt=!0,r.minus(e)):At(new n(r),i)};Ne.naturalExponential=Ne.exp=function(){return p6(this)};Ne.naturalLogarithm=Ne.ln=function(){return Lf(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h6(e,t):m6(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dl+t);if(e=dr(i)+1,n=i.d.length-1,r=n*Dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ne.squareRoot=Ne.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ci+"NaN")}for(t=dr(l),Bt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ra(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Xa(l,a,o+2)).times(.5),ra(a.d).slice(0,o)===(e=ra(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(At(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Bt=!0,At(n,r)};Ne.times=Ne.mul=function(t){var e,r,n,i,a,o,l,c,d,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,c=y.length,d=x.length,c<d&&(a=y,y=x,x=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+x[n]*y[i-n-1]+e,a[i--]=l%Nr|0,e=l/Nr|0;a[i]=(a[i]+e)%Nr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Bt?At(t,m.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ha(t,0,Fc),e===void 0?e=n.rounding:ha(e,0,8),At(r,t+dr(r)+1,e))};Ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=wl(n,!0):(ha(t,0,Fc),e===void 0?e=i.rounding:ha(e,0,8),n=At(new i(n),t+1,e),r=wl(n,!0,t+1)),r};Ne.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?wl(i):(ha(t,0,Fc),e===void 0?e=a.rounding:ha(e,0,8),n=At(new a(i),t+dr(i)+1,e),r=wl(n.abs(),!1,t+dr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return At(new e(t),dr(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,d=12,p=+(t=new c(t));if(!t.s)return new c($n);if(l=new c(l),!l.s){if(t.s<1)throw Error(ci+"Infinity");return l}if(l.eq($n))return l;if(n=c.precision,t.eq($n))return At(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=p<0?-p:p)<=f6){for(i=new c($n),e=Math.ceil(n/Dt+4),Bt=!1;r%2&&(i=i.times(l),DR(i.d,e)),r=Uc(r/2),r!==0;)l=l.times(l),DR(l.d,e);return Bt=!0,t.s<0?new c($n).div(i):At(i,n)}}else if(a<0)throw Error(ci+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Bt=!1,i=t.times(Lf(l,n+d)),Bt=!0,i=p6(i),i.s=a,i};Ne.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=dr(i),n=wl(i,r<=a.toExpNeg||r>=a.toExpPos)):(ha(t,1,Fc),e===void 0?e=a.rounding:ha(e,0,8),i=At(new a(i),t,e),r=dr(i),n=wl(i,t<=r||r<=a.toExpNeg,t)),n};Ne.toSignificantDigits=Ne.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ha(t,1,Fc),e===void 0?e=n.rounding:ha(e,0,8)),At(new n(r),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dr(t),r=t.constructor;return wl(t,e<=r.toExpNeg||e>=r.toExpPos)};function h6(t,e){var r,n,i,a,o,l,c,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Bt?At(e,m):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(m/Dt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/Nr|0,c[a]%=Nr;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Bt?At(e,m):e}function ha(t,e,r){if(t!==~~t||t<e||t>r)throw Error(dl+t)}function ra(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Dt-n.length,r&&(a+=Uo(r)),a+=n;o=t[e],n=o+"",r=Dt-n.length,r&&(a+=Uo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Xa=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Nr|0,o=a/Nr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Nr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,p,m,y,x,S,w,b,E,T,N,C,k,O,P,I,M=n.constructor,U=n.s==i.s?1:-1,$=n.d,V=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(ci+"Division by zero");for(c=n.e-i.e,P=V.length,k=$.length,x=new M(U),S=x.d=[],d=0;V[d]==($[d]||0);)++d;if(V[d]>($[d]||0)&&--c,a==null?T=a=M.precision:o?T=a+(dr(n)-dr(i))+1:T=a,T<0)return new M(0);if(T=T/Dt+2|0,d=0,P==1)for(p=0,V=V[0],T++;(d<k||p)&&T--;d++)N=p*Nr+($[d]||0),S[d]=N/V|0,p=N%V|0;else{for(p=Nr/(V[0]+1)|0,p>1&&(V=t(V,p),$=t($,p),P=V.length,k=$.length),C=P,w=$.slice(0,P),b=w.length;b<P;)w[b++]=0;I=V.slice(),I.unshift(0),O=V[0],V[1]>=Nr/2&&++O;do p=0,l=e(V,w,P,b),l<0?(E=w[0],P!=b&&(E=E*Nr+(w[1]||0)),p=E/O|0,p>1?(p>=Nr&&(p=Nr-1),m=t(V,p),y=m.length,b=w.length,l=e(m,w,y,b),l==1&&(p--,r(m,P<y?I:V,y))):(p==0&&(l=p=1),m=V.slice()),y=m.length,y<b&&m.unshift(0),r(w,m,b),l==-1&&(b=w.length,l=e(V,w,P,b),l<1&&(p++,r(w,P<b?I:V,b))),b=w.length):l===0&&(p++,w=[0]),S[d++]=p,l&&w[0]?w[b++]=$[C]||0:(w=[$[C]],b=1);while((C++<k||w[0]!==void 0)&&T--)}return S[0]||S.shift(),x.e=c,At(x,o?a+dr(x)+1:a)}})();function p6(t,e){var r,n,i,a,o,l,c=0,d=0,p=t.constructor,m=p.precision;if(dr(t)>16)throw Error(jA+dr(t));if(!t.s)return new p($n);for(Bt=!1,l=m,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(tl(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new p($n),p.precision=l;;){if(i=At(i.times(t),l),r=r.times(++c),o=a.plus(Xa(i,r,l)),ra(o.d).slice(0,l)===ra(a.d).slice(0,l)){for(;d--;)a=At(a.times(a),l);return p.precision=m,e==null?(Bt=!0,At(a,m)):a}a=o}}function dr(t){for(var e=t.e*Dt,r=t.d[0];r>=10;r/=10)e++;return e}function C_(t,e,r){if(e>t.LN10.sd())throw Bt=!0,r&&(t.precision=r),Error(ci+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Uo(t){for(var e="";t--;)e+="0";return e}function Lf(t,e){var r,n,i,a,o,l,c,d,p,m=1,y=10,x=t,S=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(ci+(x.s?"NaN":"-Infinity"));if(x.eq($n))return new w(0);if(e==null?(Bt=!1,d=b):d=e,x.eq(10))return e==null&&(Bt=!0),C_(w,d);if(d+=y,w.precision=d,r=ra(S),n=r.charAt(0),a=dr(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=ra(x.d),n=r.charAt(0),m++;a=dr(x),n>1?(x=new w("0."+r),a++):x=new w(n+"."+r.slice(1))}else return c=C_(w,d+2,b).times(a+""),x=Lf(new w(n+"."+r.slice(1)),d-y).plus(c),w.precision=b,e==null?(Bt=!0,At(x,b)):x;for(l=o=x=Xa(x.minus($n),x.plus($n),d),p=At(x.times(x),d),i=3;;){if(o=At(o.times(p),d),c=l.plus(Xa(o,new w(i),d)),ra(c.d).slice(0,d)===ra(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(C_(w,d+2,b).times(a+""))),l=Xa(l,new w(m),d),w.precision=b,e==null?(Bt=!0,At(l,b)):l;l=c,i+=2}}function MR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Uc(r/Dt),t.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Dt;n<i;)t.d.push(+e.slice(n,n+=Dt));e=e.slice(n),n=Dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Bt&&(t.e>Eg||t.e<-Eg))throw Error(jA+r)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,r){var n,i,a,o,l,c,d,p,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Dt,i=e,d=m[p=0];else{if(p=Math.ceil((n+1)/Dt),a=m.length,p>=a)return t;for(d=a=m[p],o=1;a>=10;a/=10)o++;n%=Dt,i=n-Dt+o}if(r!==void 0&&(a=tl(10,o-i-1),l=d/a%10|0,c=e<0||m[p+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/tl(10,o-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=dr(t),m.length=1,e=e-a-1,m[0]=tl(10,(Dt-e%Dt)%Dt),t.e=Uc(-e/Dt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=tl(10,Dt-n),m[p]=i>0?(d/tl(10,o-i)%tl(10,i)|0)*a:0),c)for(;;)if(p==0){(m[0]+=a)==Nr&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Nr)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Bt&&(t.e>Eg||t.e<-Eg))throw Error(jA+dr(t));return t}function m6(t,e){var r,n,i,a,o,l,c,d,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Bt?At(e,x):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(p=o<0,p?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),i=Math.max(Math.ceil(x/Dt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){p=c[i]<m[i];break}o=0}for(p&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Nr-1;--c[a],c[i]+=Nr}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Bt?At(e,x):e):new y(0)}function wl(t,e,r){var n,i=dr(t),a=ra(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Uo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Uo(-i-1)+a,r&&(n=r-o)>0&&(a+=Uo(n))):i>=o?(a+=Uo(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Uo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Uo(n))),t.s<0?"-"+a:a}function DR(t,e){if(t.length>e)return t.length=e,!0}function g6(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(dl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return MR(o,a.toString())}else if(typeof a!="string")throw Error(dl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,sre.test(a))MR(o,a);else throw Error(dl+a)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=g6,i.config=i.set=lre,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function lre(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,r,n,i=["precision",1,Fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Uc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(dl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dl+r+": "+n);return this}var kA=g6(ore);$n=new kA(1);const St=kA;function ure(t){return hre(t)||fre(t)||dre(t)||cre()}function cre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(t,e){if(t){if(typeof t=="string")return CS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CS(t,e)}}function fre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hre(t){if(Array.isArray(t))return CS(t)}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pre=function(e){return e},y6={},v6=function(e){return e===y6},LR=function(e){return function r(){return arguments.length===0||arguments.length===1&&v6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},mre=function t(e,r){return e===1?r:LR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==y6}).length;return o>=e?r.apply(void 0,i):t(e-o,LR(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var p=i.map(function(m){return v6(m)?c.shift():m});return r.apply(void 0,ure(p).concat(c))}))})},Zy=function(e){return mre(e.length,e)},OS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},gre=Zy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),yre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return pre;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},RS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},b6=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function vre(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function bre(t,e,r){for(var n=new St(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var xre=Zy(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),wre=Zy(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),_re=Zy(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ev={rangeStep:bre,getDigitCount:vre,interpolateNumber:xre,uninterpolateNumber:wre,uninterpolateTruncation:_re};function MS(t){return Tre(t)||Ere(t)||x6(t)||Sre()}function Sre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ere(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tre(t){if(Array.isArray(t))return DS(t)}function $f(t,e){return jre(t)||Pre(t,e)||x6(t,e)||Are()}function Are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6(t,e){if(t){if(typeof t=="string")return DS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DS(t,e)}}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function jre(t){if(Array.isArray(t))return t}function w6(t){var e=$f(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function _6(t,e,r){if(t.lte(0))return new St(0);var n=ev.getDigitCount(t.toNumber()),i=new St(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new St(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new St(Math.ceil(c))}function kre(t,e,r){var n=1,i=new St(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new St(10).pow(ev.getDigitCount(t)-1),i=new St(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):r||(i=new St(Math.floor(t)));var o=Math.floor((e-1)/2),l=yre(gre(function(c){return i.add(new St(c-o).mul(n)).toNumber()}),OS);return l(0,e)}function S6(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=_6(new St(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new St(0):(o=new St(t).add(e).div(2),o=o.sub(new St(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new St(e).sub(o).div(a).toNumber()),d=l+c+1;return d>r?S6(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:a,tickMin:o.sub(new St(l).mul(a)),tickMax:o.add(new St(c).mul(a))})}function Ire(t){var e=$f(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=w6([r,n]),c=$f(l,2),d=c[0],p=c[1];if(d===-1/0||p===1/0){var m=p===1/0?[d].concat(MS(OS(0,i-1).map(function(){return 1/0}))):[].concat(MS(OS(0,i-1).map(function(){return-1/0})),[p]);return r>n?RS(m):m}if(d===p)return kre(d,i,a);var y=S6(d,p,o,a),x=y.step,S=y.tickMin,w=y.tickMax,b=ev.rangeStep(S,w.add(new St(.1).mul(x)),x);return r>n?RS(b):b}function Nre(t,e){var r=$f(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=w6([n,i]),l=$f(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(e,2),m=_6(new St(d).sub(c).div(p-1),a,0),y=[].concat(MS(ev.rangeStep(new St(c),new St(d).sub(new St(.99).mul(m)),m)),[d]);return n>i?RS(y):y}var Cre=b6(Ire),Ore=b6(Nre),Rre="Invariant failed";function _l(t,e){throw new Error(Rre)}var Mre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function Dre(t,e){return Fre(t)||Vre(t,e)||$re(t,e)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return $R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $R(t,e)}}function $R(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Fre(t){if(Array.isArray(t))return t}function Ure(t,e){if(t==null)return{};var r=Bre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A6(n.key),n)}}function Wre(t,e,r){return e&&qre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hre(t,e,r){return e=Ag(e),Gre(t,E6()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function Gre(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kre(t)}function Kre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E6=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function Xre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LS(t,e)}function T6(t,e,r){return e=A6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A6(t){var e=Yre(t,"string");return cc(e)=="symbol"?e:e+""}function Yre(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tv=(function(t){function e(){return zre(this,e),Hre(this,e,arguments)}return Xre(e,t),Wre(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=Ure(n,Mre),x=Ge(y,!1);this.props.direction==="x"&&p.type!=="number"&&_l();var S=c.map(function(w){var b=d(w,l),E=b.x,T=b.y,N=b.value,C=b.errorVal;if(!C)return null;var k=[],O,P;if(Array.isArray(C)){var I=Dre(C,2);O=I[0],P=I[1]}else O=P=C;if(a==="vertical"){var M=p.scale,U=T+i,$=U+o,V=U-o,L=M(N-O),W=M(N+P);k.push({x1:W,y1:$,x2:W,y2:V}),k.push({x1:L,y1:U,x2:W,y2:U}),k.push({x1:L,y1:$,x2:L,y2:V})}else if(a==="horizontal"){var Y=m.scale,te=E+i,re=te-o,Q=te+o,ae=Y(N-O),ne=Y(N+P);k.push({x1:re,y1:ne,x2:Q,y2:ne}),k.push({x1:te,y1:ae,x2:te,y2:ne}),k.push({x1:re,y1:ae,x2:Q,y2:ae})}return G.createElement(Et,Tg({className:"recharts-errorBar",key:"bar-".concat(k.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},x),k.map(function(q){return G.createElement("line",Tg({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return G.createElement(Et,{className:"recharts-errorBars"},S)}}])})(G.Component);T6(tv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});T6(tv,"displayName","ErrorBar");function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){Qre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qre(t,e,r){return e=Jre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jre(t){var e=Zre(t,"string");return Vf(e)=="symbol"?e:e+""}function Zre(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P6=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ln(r,zu);if(!o)return null;var l=zu.defaultProps,c=l!==void 0?Xs(Xs({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,S=x.sectors||x.data||[];return p.concat(S.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?Xs(Xs({},y),m.props):{},S=x.dataKey,w=x.name,b=x.legendType,E=x.hide;return{inactive:E,dataKey:S,type:c.iconType||b||"square",color:IA(m),value:w||S,payload:x}}),Xs(Xs(Xs({},c),zu.getWithHeight(o,i)),{},{payload:d,item:o})};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function FR(t){return nne(t)||rne(t)||tne(t)||ene()}function ene(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tne(t,e){if(t){if(typeof t=="string")return $S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $S(t,e)}}function rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nne(t){if(Array.isArray(t))return $S(t)}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(r),!0).forEach(function(n){Wu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wu(t,e,r){return e=ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ine(t){var e=ane(t,"string");return Ff(e)=="symbol"?e:e+""}function ane(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Li(t,e,r){return pt(t)||pt(e)?r:wr(e)?si(t,e,r):Qe(e)?e(t):r}function sf(t,e,r,n){var i=nre(t,function(l){return Li(l,e)});if(r==="number"){var a=i.filter(function(l){return _e(l)||parseFloat(l)});return a.length?[Qy(a),Yy(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!pt(l)}):i;return o.map(function(l){return wr(l)||l instanceof Date?l:""})}var one=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var p=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,y=d>=l-1?i[0].coordinate:i[d+1].coordinate,x=void 0;if(En(m-p)!==En(y-m)){var S=[];if(En(y-m)===En(c[1]-c[0])){x=y;var w=m+c[1]-c[0];S[0]=Math.min(w,(w+p)/2),S[1]=Math.max(w,(w+p)/2)}else{x=p;var b=y+c[1]-c[0];S[0]=Math.min(m,(b+m)/2),S[1]=Math.max(m,(b+m)/2)}var E=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>E[0]&&e<=E[1]||e>=S[0]&&e<=S[1]){o=i[d].index;break}}else{var T=Math.min(p,y),N=Math.max(p,y);if(e>(T+m)/2&&e<=(N+m)/2){o=i[d].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},IA=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},sne=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var p=a[l[c]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var S=p[m[y]],w=S.items,b=S.cateAxisId,E=w.filter(function(P){return Ga(P.type).indexOf("Bar")>=0});if(E&&E.length){var T=E[0].type.defaultProps,N=T!==void 0?Qt(Qt({},T),E[0].props):E[0].props,C=N.barSize,k=N[b];o[k]||(o[k]=[]);var O=pt(C)?r:C;o[k].push({item:E[0],stackList:E.slice(1),barSize:pt(O)?void 0:Oi(O,n,0)})}}return o},lne=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Oi(r,i,0,!0),p,m=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=i/c,S=o.reduce(function(C,k){return C+k.barSize||0},0);S+=(c-1)*d,S>=i&&(S-=(c-1)*d,d=0),S>=i&&x>0&&(y=!0,x*=.9,S=c*x);var w=(i-S)/2>>0,b={offset:w-d,size:0};p=o.reduce(function(C,k){var O={item:k.item,position:{offset:b.offset+b.size+d,size:y?x:k.barSize}},P=[].concat(FR(C),[O]);return b=P[P.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){P.push({item:I,position:b})}),P},m)}else{var E=Oi(n,i,0,!0);i-2*E-(c-1)*d<=0&&(d=0);var T=(i-2*E-(c-1)*d)/c;T>1&&(T>>=0);var N=l===+l?Math.min(T,l):T;p=o.reduce(function(C,k,O){var P=[].concat(FR(C),[{item:k.item,position:{offset:E+(T+d)*O+(T-N)/2,size:N}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},m)}return p},une=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=P6({children:a,legendWidth:c});if(d){var p=i||{},m=p.width,y=p.height,x=d.align,S=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&S==="middle")&&x!=="center"&&_e(e[x]))return Qt(Qt({},e),{},Wu({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&S!=="middle"&&_e(e[S]))return Qt(Qt({},e),{},Wu({},S,e[S]+(y||0)))}return e},cne=function(e,r,n){return pt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},j6=function(e,r,n,i,a){var o=r.props.children,l=li(o,tv).filter(function(d){return cne(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var m=Li(p,n);if(pt(m))return d;var y=Array.isArray(m)?[Qy(m),Yy(m)]:[m,m],x=c.reduce(function(S,w){var b=Li(p,w,0),E=y[0]-Math.abs(Array.isArray(b)?b[0]:b),T=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,S[0]),Math.max(T,S[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},dne=function(e,r,n,i,a){var o=r.map(function(l){return j6(e,l,n,a,i)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},k6=function(e,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&j6(e,c,d,i)||sf(e,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var p=0,m=d.length;p<m;p++)l[d[p]]||(l[d[p]]=!0,c.push(d[p]));return c},[])},I6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},N6=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},za=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?En(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+d,value:m,offset:d}});return p.filter(function(m){return!Ph(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+d,value:m,index:y,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,y){return{coordinate:i(m)+d,value:a?a[m]:m,index:y,offset:d}})},O_=new WeakMap,fm=function(e,r){if(typeof r!="function")return e;O_.has(e)||O_.set(e,new WeakMap);var n=O_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},C6=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Cf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xg(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:of(),realScaleType:"point"}:a==="category"?{scale:Cf(),realScaleType:"band"}:{scale:xg(),realScaleType:"linear"};if(xl(i)){var c="scale".concat(My(i));return{scale:(AR[c]||of)(),realScaleType:AR[c]?c:"point"}}return Qe(i)?{scale:i}:{scale:of(),realScaleType:"point"}},BR=1e-4,O6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-BR,o=Math.max(i[0],i[1])+BR,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},R6=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},M6=function(e,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<n)&&(a[0]=n),(!_e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},fne=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Ph(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},hne=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=Ph(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},pne={sign:fne,expand:rY,none:tc,silhouette:nY,wiggle:iY,positive:hne},mne=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=pne[n],o=tY().keys(i).value(function(l,c){return+Li(l,c,0)}).order(pS).offset(a);return o(e)},gne=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Qt(Qt({},y.type.defaultProps),y.props):y.props,w=S.stackId,b=S.hide;if(b)return m;var E=S[n],T=m[E]||{hasStack:!1,stackGroups:{}};if(wr(w)){var N=T.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};N.items.push(y),T.hasStack=!0,T.stackGroups[w]=N}else T.stackGroups[Ry("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Qt(Qt({},m),{},Wu({},E,T))},c),p={};return Object.keys(d).reduce(function(m,y){var x=d[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var E=x.stackGroups[b];return Qt(Qt({},w),{},Wu({},b,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:mne(e,E.items,a)}))},S)}return Qt(Qt({},m),{},Wu({},y,x))},p)},D6=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=Cre(d,a,l);return e.domain([Qy(p),Yy(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),y=Ore(m,a,l);return{niceTicks:y}}return null},Pg=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Li(o,r.dataKey,r.domain[l]);return pt(c)?null:r.scale(c)-a/2+i},L6=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},yne=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(wr(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},vne=function(e){return e.reduce(function(r,n){return[Qy(n.concat([r[0]]).filter(_e)),Yy(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},$6=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,p){var m=vne(p.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},zR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VS=function(e,r,n){if(Qe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(_e(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(zR.test(e[0])){var a=+zR.exec(e[0])[1];i[0]=r[0]-a}else Qe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(_e(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(qR.test(e[1])){var o=+qR.exec(e[1])[1];i[1]=r[1]+o}else Qe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},jg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=iA(r,function(m){return m.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],p=a[l-1];o=Math.min((d.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},WR=function(e,r,n){return!e||!e.length||Jy(e,si(n,"type.defaultProps.domain"))?r:e},NA=function(e,r){var n=e.type.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,p=n.hide;return Qt(Qt({},Ge(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:IA(e),value:Li(r,i),type:c,payload:r,chartType:d,hide:p})};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){V6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V6(t,e,r){return e=bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bne(t){var e=xne(t,"string");return Uf(e)=="symbol"?e:e+""}function xne(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wne(t,e){return Tne(t)||Ene(t,e)||Sne(t,e)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(t,e){if(t){if(typeof t=="string")return GR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(t,e)}}function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ene(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Tne(t){if(Array.isArray(t))return t}var kg=Math.PI/180,Ane=function(e){return e*180/Math.PI},zt=function(e,r,n,i){return{x:e+Math.cos(-kg*i)*n,y:r+Math.sin(-kg*i)*n}},Pne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},jne=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,p=Oi(e.cx,o,o/2),m=Oi(e.cy,l,l/2),y=Pne(o,l,n),x=Oi(e.innerRadius,y,0),S=Oi(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(b,E){var T=r[E],N=T.domain,C=T.reversed,k;if(pt(T.range))i==="angleAxis"?k=[c,d]:i==="radiusAxis"&&(k=[x,S]),C&&(k=[k[1],k[0]]);else{k=T.range;var O=k,P=wne(O,2);c=P[0],d=P[1]}var I=C6(T,a),M=I.realScaleType,U=I.scale;U.domain(N).range(k),O6(U);var $=D6(U,Ma(Ma({},T),{},{realScaleType:M})),V=Ma(Ma(Ma({},T),$),{},{range:k,radius:S,realScaleType:M,scale:U,cx:p,cy:m,innerRadius:x,outerRadius:S,startAngle:c,endAngle:d});return Ma(Ma({},b),{},V6({},E,V))},{})},kne=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Ine=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=kne({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:Ane(d),angleInRadian:d}},Nne=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Cne=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},KR=function(e,r){var n=e.x,i=e.y,a=Ine({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var p=Nne(r),m=p.startAngle,y=p.endAngle,x=l,S;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;S=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=m}return S?Ma(Ma({},r),{},{radius:o,angle:Cne(x,r)}):null},F6=function(e){return!D.isValidElement(e)&&!Qe(e)&&typeof e!="boolean"?e.className:""};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var One=["offset"];function Rne(t){return $ne(t)||Lne(t)||Dne(t)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dne(t,e){if(t){if(typeof t=="string")return FS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(t,e)}}function Lne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ne(t){if(Array.isArray(t))return FS(t)}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vne(t,e){if(t==null)return{};var r=Fne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){Une(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Une(t,e,r){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bne(t){var e=zne(t,"string");return Bf(e)=="symbol"?e:e+""}function zne(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zf.apply(this,arguments)}var qne=function(e){var r=e.value,n=e.formatter,i=pt(e.children)?r:e.children;return Qe(n)?n(i):i},Wne=function(e,r){var n=En(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Hne=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,p=c.cy,m=c.innerRadius,y=c.outerRadius,x=c.startAngle,S=c.endAngle,w=c.clockWise,b=(m+y)/2,E=Wne(x,S),T=E>=0?1:-1,N,C;i==="insideStart"?(N=x+T*o,C=w):i==="insideEnd"?(N=S-T*o,C=!w):i==="end"&&(N=S+T*o,C=w),C=E<=0?C:!C;var k=zt(d,p,b,N),O=zt(d,p,b,N+(C?1:-1)*359),P="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),I=pt(e.id)?Ry("recharts-radial-line-"):e.id;return G.createElement("text",zf({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:I,d:P})),G.createElement("textPath",{xlinkHref:"#".concat(I)},r))},Gne=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,p=a.startAngle,m=a.endAngle,y=(p+m)/2;if(i==="outside"){var x=zt(o,l,d+n,y),S=x.x,w=x.y;return{x:S,y:w,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,E=zt(o,l,b,y),T=E.x,N=E.y;return{x:T,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Kne=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,d=o.width,p=o.height,m=p>=0?1:-1,y=m*i,x=m>0?"end":"start",S=m>0?"start":"end",w=d>=0?1:-1,b=w*i,E=w>0?"end":"start",T=w>0?"start":"end";if(a==="top"){var N={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:x};return xr(xr({},N),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var C={x:l+d/2,y:c+p+y,textAnchor:"middle",verticalAnchor:S};return xr(xr({},C),n?{height:Math.max(n.y+n.height-(c+p),0),width:d}:{})}if(a==="left"){var k={x:l-b,y:c+p/2,textAnchor:E,verticalAnchor:"middle"};return xr(xr({},k),n?{width:Math.max(k.x-n.x,0),height:p}:{})}if(a==="right"){var O={x:l+d+b,y:c+p/2,textAnchor:T,verticalAnchor:"middle"};return xr(xr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var P=n?{width:d,height:p}:{};return a==="insideLeft"?xr({x:l+b,y:c+p/2,textAnchor:T,verticalAnchor:"middle"},P):a==="insideRight"?xr({x:l+d-b,y:c+p/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideTop"?xr({x:l+d/2,y:c+y,textAnchor:"middle",verticalAnchor:S},P):a==="insideBottom"?xr({x:l+d/2,y:c+p-y,textAnchor:"middle",verticalAnchor:x},P):a==="insideTopLeft"?xr({x:l+b,y:c+y,textAnchor:T,verticalAnchor:S},P):a==="insideTopRight"?xr({x:l+d-b,y:c+y,textAnchor:E,verticalAnchor:S},P):a==="insideBottomLeft"?xr({x:l+b,y:c+p-y,textAnchor:T,verticalAnchor:x},P):a==="insideBottomRight"?xr({x:l+d-b,y:c+p-y,textAnchor:E,verticalAnchor:x},P):Dc(a)&&(_e(a.x)||il(a.x))&&(_e(a.y)||il(a.y))?xr({x:l+Oi(a.x,d),y:c+Oi(a.y,p),textAnchor:"end",verticalAnchor:"end"},P):xr({x:l+d/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Xne=function(e){return"cx"in e&&_e(e.cx)};function Br(t){var e=t.offset,r=e===void 0?5:e,n=Vne(t,One),i=xr({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,p=i.className,m=p===void 0?"":p,y=i.textBreakAll;if(!a||pt(l)&&pt(c)&&!D.isValidElement(d)&&!Qe(d))return null;if(D.isValidElement(d))return D.cloneElement(d,i);var x;if(Qe(d)){if(x=D.createElement(d,i),D.isValidElement(x))return x}else x=qne(i);var S=Xne(a),w=Ge(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Hne(i,x,w);var b=S?Gne(i):Kne(i);return G.createElement(oc,zf({className:et("recharts-label",m)},w,b,{breakAll:y}),x)}Br.displayName="Label";var U6=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,S=e.left,w=e.width,b=e.height,E=e.clockWise,T=e.labelViewBox;if(T)return T;if(_e(w)&&_e(b)){if(_e(m)&&_e(y))return{x:m,y,width:w,height:b};if(_e(x)&&_e(S))return{x,y:S,width:w,height:b}}return _e(m)&&_e(y)?{x:m,y,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:p||c||l||0,clockWise:E}:e.viewBox?e.viewBox:{}},Yne=function(e,r){return e?e===!0?G.createElement(Br,{key:"label-implicit",viewBox:r}):wr(e)?G.createElement(Br,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===Br?D.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(Br,{key:"label-implicit",content:e,viewBox:r}):Qe(e)?G.createElement(Br,{key:"label-implicit",content:e,viewBox:r}):Dc(e)?G.createElement(Br,zf({viewBox:r},e,{key:"label-implicit"})):null:null},Qne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=U6(e),o=li(i,Br).map(function(c,d){return D.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=Yne(e.label,r||a);return[l].concat(Rne(o))};Br.parseViewBox=U6;Br.renderCallByParent=Qne;var R_,YR;function Jne(){if(YR)return R_;YR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return R_=t,R_}var Zne=Jne();const eie=wt(Zne);function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var tie=["valueAccessor"],rie=["data","dataKey","clockWise","id","textBreakAll"];function nie(t){return sie(t)||oie(t)||aie(t)||iie()}function iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(t,e){if(t){if(typeof t=="string")return US(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(t,e)}}function oie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sie(t){if(Array.isArray(t))return US(t)}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(this,arguments)}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){lie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lie(t,e,r){return e=uie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uie(t){var e=cie(t,"string");return qf(e)=="symbol"?e:e+""}function cie(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZR(t,e){if(t==null)return{};var r=die(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function die(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fie=function(e){return Array.isArray(e.value)?eie(e.value):e.value};function ns(t){var e=t.valueAccessor,r=e===void 0?fie:e,n=ZR(t,tie),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=ZR(n,rie);return!i||!i.length?null:G.createElement(Et,{className:"recharts-label-list"},i.map(function(p,m){var y=pt(a)?r(p,m):Li(p&&p.payload,a),x=pt(l)?{}:{id:"".concat(l,"-").concat(m)};return G.createElement(Br,Ig({},Ge(p,!0),d,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:c,viewBox:Br.parseViewBox(pt(o)?p:JR(JR({},p),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}ns.displayName="LabelList";function hie(t,e){return t?t===!0?G.createElement(ns,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Qe(t)?G.createElement(ns,{key:"labelList-implicit",data:e,content:t}):Dc(t)?G.createElement(ns,Ig({data:e},t,{key:"labelList-implicit"})):null:null}function pie(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=li(n,ns).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=hie(t.label,e);return[a].concat(nie(i))}ns.renderCallByParent=pie;function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BS.apply(this,arguments)}function eM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(r),!0).forEach(function(n){mie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mie(t,e,r){return e=gie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gie(t){var e=yie(t,"string");return Wf(e)=="symbol"?e:e+""}function yie(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vie=function(e,r){var n=En(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},hm=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,p=c*(l?1:-1)+i,m=Math.asin(c/p)/kg,y=d?a:a+o*m,x=zt(r,n,p,y),S=zt(r,n,i,y),w=d?a-o*m:a,b=zt(r,n,p*Math.cos(m*kg),w);return{center:x,circleTangency:S,lineTangency:b,theta:m}},B6=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=vie(o,l),d=o+c,p=zt(r,n,a,o),m=zt(r,n,a,d),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=zt(r,n,i,o),S=zt(r,n,i,d);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},bie=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,m=En(p-d),y=hm({cx:r,cy:n,radius:a,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,S=y.lineTangency,w=y.theta,b=hm({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:o,cornerIsExternal:c}),E=b.circleTangency,T=b.lineTangency,N=b.theta,C=c?Math.abs(d-p):Math.abs(d-p)-w-N;if(C<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):B6({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p});var k="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var O=hm({cx:r,cy:n,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=O.circleTangency,I=O.lineTangency,M=O.theta,U=hm({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=U.circleTangency,V=U.lineTangency,L=U.theta,W=c?Math.abs(d-p):Math.abs(d-p)-M-L;if(W<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},xie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z6=function(e){var r=tM(tM({},xie),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(o<a||p===m)return null;var x=et("recharts-sector",y),S=o-a,w=Oi(l,S,0,!0),b;return w>0&&Math.abs(p-m)<360?b=bie({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,S/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:p,endAngle:m}):b=B6({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:m}),G.createElement("path",BS({},Ge(r,!0),{className:x,d:b,role:"img"}))};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zS.apply(this,arguments)}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){wie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wie(t,e,r){return e=_ie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ie(t){var e=Sie(t,"string");return Hf(e)=="symbol"?e:e+""}function Sie(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iM={curveBasisClosed:qX,curveBasisOpen:WX,curveBasis:zX,curveBumpX:kX,curveBumpY:IX,curveLinearClosed:HX,curveLinear:Ly,curveMonotoneX:GX,curveMonotoneY:KX,curveNatural:XX,curveStep:YX,curveStepAfter:JX,curveStepBefore:QX},pm=function(e){return e.x===+e.x&&e.y===+e.y},Md=function(e){return e.x},Dd=function(e){return e.y},Eie=function(e,r){if(Qe(e))return e;var n="curve".concat(My(e));return(n==="curveMonotone"||n==="curveBump")&&r?iM["".concat(n).concat(r==="vertical"?"Y":"X")]:iM[n]||Ly},Tie=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,p=Eie(n,l),m=d?a.filter(function(w){return pm(w)}):a,y;if(Array.isArray(o)){var x=d?o.filter(function(w){return pm(w)}):o,S=m.map(function(w,b){return nM(nM({},w),{},{base:x[b]})});return l==="vertical"?y=am().y(Dd).x1(Md).x0(function(w){return w.base.x}):y=am().x(Md).y1(Dd).y0(function(w){return w.base.y}),y.defined(pm).curve(p),y(S)}return l==="vertical"&&_e(o)?y=am().y(Dd).x1(Md).x0(o):_e(o)?y=am().x(Md).y1(Dd).y0(o):y=U3().x(Md).y(Dd),y.defined(pm).curve(p),y(m)},aM=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Tie(e):i;return D.createElement("path",zS({},Ge(e,!1),rg(e),{className:et("recharts-curve",r),d:o,ref:a}))},M_={exports:{}},D_,oM;function Aie(){if(oM)return D_;oM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return D_=t,D_}var L_,sM;function Pie(){if(sM)return L_;sM=1;var t=Aie();function e(){}function r(){}return r.resetWarningCache=e,L_=function(){function n(o,l,c,d,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},L_}var lM;function jie(){return lM||(lM=1,M_.exports=Pie()()),M_.exports}var kie=jie();const vt=wt(kie),{getOwnPropertyNames:Iie,getOwnPropertySymbols:Nie}=Object,{hasOwnProperty:Cie}=Object.prototype;function $_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function mm(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function Oie(t){return t!=null?t[Symbol.toStringTag]:void 0}function uM(t){return Iie(t).concat(Nie(t))}const Rie=Object.hasOwn||((t,e)=>Cie.call(t,e));function Rl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Mie="__v",Die="__o",Lie="_owner",{getOwnPropertyDescriptor:cM,keys:dM}=Object;function $ie(t,e){return t.byteLength===e.byteLength&&Ng(new Uint8Array(t),new Uint8Array(e))}function Vie(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Fie(t,e){return t.byteLength===e.byteLength&&Ng(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Uie(t,e){return Rl(t.getTime(),e.getTime())}function Bie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zie(t,e){return t===e}function fM(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const d=e.entries();let p=!1,m=0;for(;(l=d.next())&&!l.done;){if(i[m]){m++;continue}const y=o.value,x=l.value;if(r.equals(y[0],x[0],c,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;c++}return!0}const qie=Rl;function Wie(t,e,r){const n=dM(t);let i=n.length;if(dM(e).length!==i)return!1;for(;i-- >0;)if(!q6(t,e,r,n[i]))return!1;return!0}function Ld(t,e,r){const n=uM(t);let i=n.length;if(uM(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!q6(t,e,r,a)||(o=cM(t,a),l=cM(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Hie(t,e){return Rl(t.valueOf(),e.valueOf())}function Gie(t,e){return t.source===e.source&&t.flags===e.flags}function hM(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let d=!1,p=0;for(;(l=c.next())&&!l.done;){if(!i[p]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function Ng(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Kie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function q6(t,e,r,n){return(n===Lie||n===Die||n===Mie)&&(t.$$typeof||e.$$typeof)?!0:Rie(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Xie="[object ArrayBuffer]",Yie="[object Arguments]",Qie="[object Boolean]",Jie="[object DataView]",Zie="[object Date]",eae="[object Error]",tae="[object Map]",rae="[object Number]",nae="[object Object]",iae="[object RegExp]",aae="[object Set]",oae="[object String]",sae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},lae="[object URL]",uae=Object.prototype.toString;function cae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:x,unknownTagComparators:S}){return function(b,E,T){if(b===E)return!0;if(b==null||E==null)return!1;const N=typeof b;if(N!==typeof E)return!1;if(N!=="object")return N==="number"?l(b,E,T):N==="function"?a(b,E,T):!1;const C=b.constructor;if(C!==E.constructor)return!1;if(C===Object)return c(b,E,T);if(Array.isArray(b))return e(b,E,T);if(C===Date)return n(b,E,T);if(C===RegExp)return p(b,E,T);if(C===Map)return o(b,E,T);if(C===Set)return m(b,E,T);const k=uae.call(b);if(k===Zie)return n(b,E,T);if(k===iae)return p(b,E,T);if(k===tae)return o(b,E,T);if(k===aae)return m(b,E,T);if(k===nae)return typeof b.then!="function"&&typeof E.then!="function"&&c(b,E,T);if(k===lae)return x(b,E,T);if(k===eae)return i(b,E,T);if(k===Yie)return c(b,E,T);if(sae[k])return y(b,E,T);if(k===Xie)return t(b,E,T);if(k===Jie)return r(b,E,T);if(k===Qie||k===rae||k===oae)return d(b,E,T);if(S){let O=S[k];if(!O){const P=Oie(b);P&&(O=S[P])}if(O)return O(b,E,T)}return!1}}function dae({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:$ie,areArraysEqual:r?Ld:Vie,areDataViewsEqual:Fie,areDatesEqual:Uie,areErrorsEqual:Bie,areFunctionsEqual:zie,areMapsEqual:r?$_(fM,Ld):fM,areNumbersEqual:qie,areObjectsEqual:r?Ld:Wie,arePrimitiveWrappersEqual:Hie,areRegExpsEqual:Gie,areSetsEqual:r?$_(hM,Ld):hM,areTypedArraysEqual:r?$_(Ng,Ld):Ng,areUrlsEqual:Kie,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=mm(n.areArraysEqual),a=mm(n.areMapsEqual),o=mm(n.areObjectsEqual),l=mm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function fae(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function hae({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:p}=r();return e(l,c,{cache:d,equals:n,meta:p,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const pae=ws();ws({strict:!0});ws({circular:!0});ws({circular:!0,strict:!0});ws({createInternalComparator:()=>Rl});ws({strict:!0,createInternalComparator:()=>Rl});ws({circular:!0,createInternalComparator:()=>Rl});ws({circular:!0,createInternalComparator:()=>Rl,strict:!0});function ws(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=dae(t),o=cae(a),l=r?r(o):fae(o);return hae({circular:e,comparator:o,createState:n,equals:l,strict:i})}function mae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):mae(i)};requestAnimationFrame(n)}function qS(t){"@babel/helpers - typeof";return qS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qS(t)}function gae(t){return xae(t)||bae(t)||vae(t)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t,e){if(t){if(typeof t=="string")return mM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(t,e)}}function mM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xae(t){if(Array.isArray(t))return t}function wae(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=gae(o),c=l[0],d=l.slice(1);if(typeof c=="number"){pM(i.bind(null,d),c);return}i(c),pM(i.bind(null,d));return}qS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){W6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W6(t,e,r){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=Sae(t,"string");return Gf(e)==="symbol"?e:String(e)}function Sae(t,e){if(Gf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eae=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Tae=function(e){return e},Aae=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lf=function(e,r){return Object.keys(r).reduce(function(n,i){return yM(yM({},n),{},W6({},i,e(i,r[i])))},{})},vM=function(e,r,n){return e.map(function(i){return"".concat(Aae(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Pae(t,e){return Iae(t)||kae(t,e)||H6(t,e)||jae()}function jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Iae(t){if(Array.isArray(t))return t}function Nae(t){return Rae(t)||Oae(t)||H6(t)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H6(t,e){if(t){if(typeof t=="string")return WS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WS(t,e)}}function Oae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rae(t){if(Array.isArray(t))return WS(t)}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Cg=1e-4,G6=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},K6=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},bM=function(e,r){return function(n){var i=G6(e,r);return K6(i,n)}},Mae=function(e,r){return function(n){var i=G6(e,r),a=[].concat(Nae(i.map(function(o,l){return o*l}).slice(1)),[0]);return K6(a,n)}},xM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=Pae(d,4);i=p[0],a=p[1],o=p[2],l=p[3]}}}var m=bM(i,o),y=bM(a,l),x=Mae(i,o),S=function(E){return E>1?1:E<0?0:E},w=function(E){for(var T=E>1?1:E,N=T,C=0;C<8;++C){var k=m(N)-T,O=x(N);if(Math.abs(k-T)<Cg||O<Cg)return y(N);N=S(N-k/O)}return y(N)};return w.isStepper=!1,w},Dae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(p,m,y){var x=-(p-m)*n,S=y*a,w=y+(x-S)*l/1e3,b=y*l/1e3+p;return Math.abs(b-m)<Cg&&Math.abs(w)<Cg?[m,0]:[b,w]};return c.isStepper=!0,c.dt=l,c},Lae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xM(i);case"spring":return Dae();default:if(i.split("(")[0]==="cubic-bezier")return xM(i)}return typeof i=="function"?i:null};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function wM(t){return Fae(t)||Vae(t)||X6(t)||$ae()}function $ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fae(t){if(Array.isArray(t))return GS(t)}function _M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(r),!0).forEach(function(n){HS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HS(t,e,r){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uae(t){var e=Bae(t,"string");return Kf(e)==="symbol"?e:String(e)}function Bae(t,e){if(Kf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zae(t,e){return Hae(t)||Wae(t,e)||X6(t,e)||qae()}function qae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(t,e){if(t){if(typeof t=="string")return GS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GS(t,e)}}function GS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Hae(t){if(Array.isArray(t))return t}var Og=function(e,r,n){return e+(r-e)*n},KS=function(e){var r=e.from,n=e.to;return r!==n},Gae=function t(e,r,n){var i=lf(function(a,o){if(KS(o)){var l=e(o.from,o.to,o.velocity),c=zae(l,2),d=c[0],p=c[1];return Fr(Fr({},o),{},{from:d,velocity:p})}return o},r);return n<1?lf(function(a,o){return KS(o)?Fr(Fr({},o),{},{velocity:Og(o.velocity,i[a].velocity,n),from:Og(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Kae=(function(t,e,r,n,i){var a=Eae(t,e),o=a.reduce(function(b,E){return Fr(Fr({},b),{},HS({},E,[t[E],e[E]]))},{}),l=a.reduce(function(b,E){return Fr(Fr({},b),{},HS({},E,{from:t[E],velocity:0,to:e[E]}))},{}),c=-1,d,p,m=function(){return null},y=function(){return lf(function(E,T){return T.from},l)},x=function(){return!Object.values(l).filter(KS).length},S=function(E){d||(d=E);var T=E-d,N=T/r.dt;l=Gae(r,l,N),i(Fr(Fr(Fr({},t),e),y())),d=E,x()||(c=requestAnimationFrame(m))},w=function(E){p||(p=E);var T=(E-p)/n,N=lf(function(k,O){return Og.apply(void 0,wM(O).concat([r(T)]))},o);if(i(Fr(Fr(Fr({},t),e),N)),T<1)c=requestAnimationFrame(m);else{var C=lf(function(k,O){return Og.apply(void 0,wM(O).concat([r(1)]))},o);i(Fr(Fr(Fr({},t),e),C))}};return m=r.isStepper?S:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}var Xae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yae(t,e){if(t==null)return{};var r=Qae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qae(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function V_(t){return toe(t)||eoe(t)||Zae(t)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zae(t,e){if(t){if(typeof t=="string")return XS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XS(t,e)}}function eoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function toe(t){if(Array.isArray(t))return XS(t)}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(r),!0).forEach(function(n){Yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yd(t,e,r){return e=Y6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function noe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y6(n.key),n)}}function ioe(t,e,r){return e&&noe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y6(t){var e=aoe(t,"string");return dc(e)==="symbol"?e:String(e)}function aoe(t,e){if(dc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YS(t,e)}function soe(t){var e=loe();return function(){var n=Rg(t),i;if(e){var a=Rg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QS(this,i)}}function QS(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JS(t)}function JS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function loe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}var io=(function(t){ooe(r,t);var e=soe(r);function r(n,i){var a;roe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,p=o.to,m=o.steps,y=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(JS(a)),a.changeStyle=a.changeStyle.bind(JS(a)),!l||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),QS(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof y=="function")return a.state={style:d},QS(a);a.state={style:c?Yd({},c,d):d}}else a.state={style:{}};return a}return ioe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,p=a.to,m=a.from,y=this.state.style;if(l){if(!o){var x={style:c?Yd({},c,p):p};this.state&&y&&(c&&y[c]!==p||!c&&y!==p)&&this.setState(x);return}if(!(pae(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=S||d?m:i.to;if(this.state&&y){var b={style:c?Yd({},c,w):w};(c&&y[c]!==w||!c&&y!==w)&&this.setState(b)}this.runAnimation(ki(ki({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,p=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,x=Kae(o,l,Lae(d),c,this.changeStyle),S=function(){a.stopJSAnimation=x()};this.manager.start([y,p,S,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],p=d.style,m=d.duration,y=m===void 0?0:m,x=function(w,b,E){if(E===0)return w;var T=b.duration,N=b.easing,C=N===void 0?"ease":N,k=b.style,O=b.properties,P=b.onAnimationEnd,I=E>0?o[E-1]:b,M=O||Object.keys(k);if(typeof C=="function"||C==="spring")return[].concat(V_(w),[a.runJSAnimation.bind(a,{from:I.style,to:k,duration:T,easing:C}),T]);var U=vM(M,T,C),$=ki(ki(ki({},I.style),k),{},{transition:U});return[].concat(V_(w),[$,T,P]).filter(Tae)};return this.manager.start([c].concat(V_(o.reduce(x,[p,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wae());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var w=l?Yd({},l,c):c,b=vM(Object.keys(w),o,d);S.start([p,a,ki(ki({},w),{},{transition:b}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Yae(i,Xae),d=D.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!l||d===0||o<=0)return a;var m=function(x){var S=x.props,w=S.style,b=w===void 0?{}:w,E=S.className,T=D.cloneElement(x,ki(ki({},c),{},{style:ki(ki({},b),p),className:E}));return T};return d===1?m(D.Children.only(a)):G.createElement("div",null,D.Children.map(a,function(y){return m(y)}))}}]),r})(D.PureComponent);io.displayName="Animate";io.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};io.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(this,arguments)}function uoe(t,e){return hoe(t)||foe(t,e)||doe(t,e)||coe()}function coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(t,e){if(t){if(typeof t=="string")return EM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EM(t,e)}}function EM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function foe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function hoe(t){if(Array.isArray(t))return t}function TM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(r),!0).forEach(function(n){poe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function poe(t,e,r){return e=moe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function moe(t){var e=goe(t,"string");return Xf(e)=="symbol"?e:e+""}function goe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PM=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=a[y]>o?o:a[y];p="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),p+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),p+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),p+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-l*m[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);p="M ".concat(e,",").concat(r+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*S,`
            L `).concat(e+n,",").concat(r+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e,",").concat(r+i-l*S," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},yoe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),p=Math.max(a,a+l),m=Math.min(o,o+c),y=Math.max(o,o+c);return n>=d&&n<=p&&i>=m&&i<=y}return!1},voe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CA=function(e){var r=AM(AM({},voe),e),n=D.useRef(),i=D.useState(-1),a=uoe(i,2),o=a[0],l=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,d=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,E=r.isAnimationActive,T=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var N=et("recharts-rectangle",x);return T?G.createElement(io,{canBegin:o>0,from:{width:p,height:m,x:c,y:d},to:{width:p,height:m,x:c,y:d},duration:w,animationEasing:S,isActive:T},function(C){var k=C.width,O=C.height,P=C.x,I=C.y;return G.createElement(io,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:E,easing:S},G.createElement("path",Mg({},Ge(r,!0),{className:N,d:PM(P,I,k,O,y),ref:n})))}):G.createElement("path",Mg({},Ge(r,!0),{className:N,d:PM(c,d,p,m,y)}))},boe=["points","className","baseLinePoints","connectNulls"];function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ou.apply(this,arguments)}function xoe(t,e){if(t==null)return{};var r=woe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function woe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jM(t){return Toe(t)||Eoe(t)||Soe(t)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(t,e){if(t){if(typeof t=="string")return ZS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(t,e)}}function Eoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Toe(t){if(Array.isArray(t))return ZS(t)}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kM=function(e){return e&&e.x===+e.x&&e.y===+e.y},Aoe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){kM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),kM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uf=function(e,r){var n=Aoe(e);r&&(n=[n.reduce(function(a,o){return[].concat(jM(a),jM(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Poe=function(e,r,n){var i=uf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(uf(r.reverse(),n).slice(1))},joe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=xoe(e,boe);if(!r||!r.length)return null;var l=et("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=Poe(r,i,a);return G.createElement("g",{className:l},G.createElement("path",Ou({},Ge(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?G.createElement("path",Ou({},Ge(o,!0),{fill:"none",d:uf(r,a)})):null,c?G.createElement("path",Ou({},Ge(o,!0),{fill:"none",d:uf(i,a)})):null)}var p=uf(r,a);return G.createElement("path",Ou({},Ge(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:l,d:p}))};function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eE.apply(this,arguments)}var OA=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=et("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",eE({},Ge(e,!1),rg(e),{className:o,cx:r,cy:n,r:i})):null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var koe=["x","y","top","left","width","height","className"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tE.apply(this,arguments)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ioe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){Noe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Noe(t,e,r){return e=Coe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Coe(t){var e=Ooe(t,"string");return Yf(e)=="symbol"?e:e+""}function Ooe(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e){if(t==null)return{};var r=Moe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Moe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Doe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Loe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,S=e.className,w=Roe(e,koe),b=Ioe({x:n,y:a,top:l,left:d,width:m,height:x},w);return!_e(n)||!_e(a)||!_e(m)||!_e(x)||!_e(l)||!_e(d)?null:G.createElement("path",tE({},Ge(b,!0),{className:et("recharts-cross",S),d:Doe(n,a,m,x,l,d)}))},F_,NM;function $oe(){if(NM)return F_;NM=1;var t=Xy(),e=c6(),r=ya();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return F_=n,F_}var Voe=$oe();const Foe=wt(Voe);var U_,CM;function Uoe(){if(CM)return U_;CM=1;var t=Xy(),e=ya(),r=d6();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return U_=n,U_}var Boe=Uoe();const zoe=wt(Boe);var qoe=["cx","cy","angle","ticks","axisLine"],Woe=["ticks","tick","angle","tickFormatter","stroke"];function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cf.apply(this,arguments)}function OM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(r),!0).forEach(function(n){rv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RM(t,e){if(t==null)return{};var r=Hoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J6(n.key),n)}}function Koe(t,e,r){return e&&MM(t.prototype,e),r&&MM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xoe(t,e,r){return e=Dg(e),Yoe(t,Q6()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function Yoe(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qoe(t)}function Qoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q6=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rE(t,e)}function rv(t,e,r){return e=J6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J6(t){var e=Zoe(t,"string");return fc(e)=="symbol"?e:e+""}function Zoe(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nv=(function(t){function e(){return Goe(this,e),Xoe(this,e,arguments)}return Joe(e,t),Koe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return zt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=Foe(l,function(p){return p.coordinate||0}),d=zoe(l,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=RM(n,qoe),p=l.reduce(function(S,w){return[Math.min(S[0],w.coordinate),Math.max(S[1],w.coordinate)]},[1/0,-1/0]),m=zt(i,a,p[0],o),y=zt(i,a,p[1],o),x=Ys(Ys(Ys({},Ge(d,!1)),{},{fill:"none"},Ge(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return G.createElement("line",cf({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,p=RM(i,Woe),m=this.getTickTextAnchor(),y=Ge(p,!1),x=Ge(o,!1),S=a.map(function(w,b){var E=n.getTickValueCoord(w),T=Ys(Ys(Ys(Ys({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(E.x,", ").concat(E.y,")")},y),{},{stroke:"none",fill:d},x),{},{index:b},E),{},{payload:w});return G.createElement(Et,cf({className:et("recharts-polar-radius-axis-tick",F6(o)),key:"tick-".concat(w.coordinate)},hs(n.props,w,b)),e.renderTickItem(o,T,c?c(w.value,b):w.value))});return G.createElement(Et,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:G.createElement(Et,{className:et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Br.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Qe(n)?o=n(i):o=G.createElement(oc,cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(D.PureComponent);rv(nv,"displayName","PolarRadiusAxis");rv(nv,"axisType","radiusAxis");rv(nv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rl.apply(this,arguments)}function DM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(r),!0).forEach(function(n){iv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ese(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eV(n.key),n)}}function tse(t,e,r){return e&&LM(t.prototype,e),r&&LM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rse(t,e,r){return e=Lg(e),nse(t,Z6()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function nse(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ise(t)}function ise(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z6=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nE(t,e)}function iv(t,e,r){return e=eV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eV(t){var e=ose(t,"string");return hc(e)=="symbol"?e:e+""}function ose(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sse=Math.PI/180,$M=1e-5,Oh=(function(t){function e(){return ese(this,e),rse(this,e,arguments)}return ase(e,t),tse(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,p=d||8,m=zt(a,o,l,n.coordinate),y=zt(a,o,l+(c==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*sse),o;return a>$M?o=i==="outer"?"start":"end":a<-$M?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Qs(Qs({},Ge(this.props,!1)),{},{fill:"none"},Ge(l,!1));if(c==="circle")return G.createElement(OA,rl({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var p=this.props.ticks,m=p.map(function(y){return zt(i,a,o,y.coordinate)});return G.createElement(joe,rl({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,p=Ge(this.props,!1),m=Ge(o,!1),y=Qs(Qs({},p),{},{fill:"none"},Ge(l,!1)),x=a.map(function(S,w){var b=n.getTickLineCoord(S),E=n.getTickTextAnchor(S),T=Qs(Qs(Qs({textAnchor:E},p),{},{stroke:"none",fill:d},m),{},{index:w,payload:S,x:b.x2,y:b.y2});return G.createElement(Et,rl({className:et("recharts-polar-angle-axis-tick",F6(o)),key:"tick-".concat(S.coordinate)},hs(n.props,S,w)),l&&G.createElement("line",rl({className:"recharts-polar-angle-axis-tick-line"},y,b)),o&&e.renderTickItem(o,T,c?c(S.value,w):S.value))});return G.createElement(Et,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:G.createElement(Et,{className:et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Qe(n)?o=n(i):o=G.createElement(oc,rl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(D.PureComponent);iv(Oh,"displayName","PolarAngleAxis");iv(Oh,"axisType","angleAxis");iv(Oh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var B_,VM;function lse(){if(VM)return B_;VM=1;var t=c$(),e=t(Object.getPrototypeOf,Object);return B_=e,B_}var z_,FM;function use(){if(FM)return z_;FM=1;var t=uo(),e=lse(),r=co(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=l.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==c}return z_=d,z_}var cse=use();const dse=wt(cse);var q_,UM;function fse(){if(UM)return q_;UM=1;var t=uo(),e=co(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return q_=n,q_}var hse=fse();const pse=wt(hse);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$g.apply(this,arguments)}function mse(t,e){return bse(t)||vse(t,e)||yse(t,e)||gse()}function gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(t,e){if(t){if(typeof t=="string")return BM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function bse(t){if(Array.isArray(t))return t}function zM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(r),!0).forEach(function(n){xse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xse(t,e,r){return e=wse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wse(t){var e=_se(t,"string");return Qf(e)=="symbol"?e:e+""}function _se(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WM=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},Sse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ese=function(e){var r=qM(qM({},Sse),e),n=D.useRef(),i=D.useState(-1),a=mse(i,2),o=a[0],l=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,E=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var T=et("recharts-trapezoid",x);return E?G.createElement(io,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:d},to:{upperWidth:p,lowerWidth:m,height:y,x:c,y:d},duration:w,animationEasing:S,isActive:E},function(N){var C=N.upperWidth,k=N.lowerWidth,O=N.height,P=N.x,I=N.y;return G.createElement(io,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:S},G.createElement("path",$g({},Ge(r,!0),{className:T,d:WM(P,I,C,k,O),ref:n})))}):G.createElement("g",null,G.createElement("path",$g({},Ge(r,!0),{className:T,d:WM(c,d,p,m,y)})))},Tse=["option","shapeType","propTransformer","activeClassName","isActive"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function Ase(t,e){if(t==null)return{};var r=Pse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){jse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jse(t,e,r){return e=kse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kse(t){var e=Ise(t,"string");return Jf(e)=="symbol"?e:e+""}function Ise(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nse(t,e){return Vg(Vg({},e),t)}function Cse(t,e){return t==="symbols"}function GM(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(CA,r);case"trapezoid":return G.createElement(Ese,r);case"sector":return G.createElement(z6,r);case"symbols":if(Cse(e))return G.createElement(YT,r);break;default:return null}}function Ose(t){return D.isValidElement(t)?t.props:t}function tV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Nse:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=Ase(t,Tse),d;if(D.isValidElement(e))d=D.cloneElement(e,Vg(Vg({},c),Ose(e)));else if(Qe(e))d=e(c);else if(dse(e)&&!pse(e)){var p=i(e,c);d=G.createElement(GM,{shapeType:r,elementProps:p})}else{var m=c;d=G.createElement(GM,{shapeType:r,elementProps:m})}return l?G.createElement(Et,{className:o},d):d}function av(t,e){return e!=null&&"trapezoids"in t.props}function ov(t,e){return e!=null&&"sectors"in t.props}function Zf(t,e){return e!=null&&"points"in t.props}function Rse(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Mse(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Dse(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Lse(t,e){var r;return av(t,e)?r=Rse:ov(t,e)?r=Mse:Zf(t,e)&&(r=Dse),r}function $se(t,e){var r;return av(t,e)?r="trapezoids":ov(t,e)?r="sectors":Zf(t,e)&&(r="points"),r}function Vse(t,e){if(av(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ov(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zf(t,e)?e.payload:{}}function Fse(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=$se(r,e),a=Vse(r,e),o=n.filter(function(c,d){var p=Jy(a,c),m=r.props[i].filter(function(S){var w=Lse(r,e);return w(S,e)}),y=r.props[i].indexOf(m[m.length-1]),x=d===y;return p&&x}),l=n.indexOf(o[o.length-1]);return l}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iE.apply(this,arguments)}function KM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(r),!0).forEach(function(n){Use(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Use(t,e,r){return e=Bse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bse(t){var e=zse(t,"string");return eh(e)=="symbol"?e:e+""}function zse(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XM(t){return typeof t=="string"?parseInt(t,10):t}function qse(t,e){var r="".concat(e.cx||t.cx),n=Number(r),i="".concat(e.cy||t.cy),a=Number(i);return W_(W_(W_({},e),t),{},{cx:n,cy:a})}function YM(t){return G.createElement(tV,iE({shapeType:"sector",propTransformer:qse},t))}var Wse=["shape","activeShape","activeIndex","cornerRadius"],Hse=["value","background"];function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fg.apply(this,arguments)}function QM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(r),!0).forEach(function(n){fl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JM(t,e){if(t==null)return{};var r=Gse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nV(n.key),n)}}function Xse(t,e,r){return e&&ZM(t.prototype,e),r&&ZM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yse(t,e,r){return e=Ug(e),Qse(t,rV()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function Qse(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jse(t)}function Jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function Zse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aE(t,e)}function fl(t,e,r){return e=nV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nV(t){var e=ele(t,"string");return pc(e)=="symbol"?e:e+""}function ele(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rh=(function(t){function e(){var r;Kse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Yse(this,e,[].concat(i)),fl(r,"state",{isAnimationFinished:!1}),fl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qe(o)&&o()}),fl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qe(o)&&o()}),r}return Zse(e,t),Xse(e,[{key:"getDeltaAngle",value:function(){var n=this.props,i=n.startAngle,a=n.endAngle,o=En(a-i),l=Math.min(Math.abs(a-i),360);return o*l}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.activeShape,c=a.activeIndex,d=a.cornerRadius,p=JM(a,Wse),m=Ge(p,!1);return n.map(function(y,x){var S=x===c,w=kr(kr(kr(kr({},m),{},{cornerRadius:XM(d)},y),hs(i.props,y,x)),{},{className:"recharts-radial-bar-sector ".concat(y.className),forceCornerRadius:p.forceCornerRadius,cornerIsExternal:p.cornerIsExternal,isActive:S,option:S?l:o});return G.createElement(YM,Fg({},w,{key:"sector-".concat(x)}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,p=i.animationId,m=this.state.prevData;return G.createElement(io,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,S=a.map(function(w,b){var E=m&&m[b];if(E){var T=Da(E.startAngle,w.startAngle),N=Da(E.endAngle,w.endAngle);return kr(kr({},w),{},{startAngle:T(x),endAngle:N(x)})}var C=w.endAngle,k=w.startAngle,O=Da(k,C);return kr(kr({},w),{},{endAngle:O(x)})});return G.createElement(Et,null,n.renderSectorsStatically(S))})}},{key:"renderSectors",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Jy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"renderBackground",value:function(n){var i=this,a=this.props.cornerRadius,o=Ge(this.props.background,!1);return n.map(function(l,c){l.value;var d=l.background,p=JM(l,Hse);if(!d)return null;var m=kr(kr(kr(kr(kr({cornerRadius:XM(a)},p),{},{fill:"#eee"},d),o),hs(i.props,l,c)),{},{index:c,className:et("recharts-radial-bar-background-sector",o==null?void 0:o.className),option:d,isActive:!1});return G.createElement(YM,Fg({},m,{key:"sector-".concat(c)}))})}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.background,c=n.isAnimationActive;if(i||!a||!a.length)return null;var d=this.state.isAnimationFinished,p=et("recharts-area",o);return G.createElement(Et,{className:p},l&&G.createElement(Et,{className:"recharts-radial-bar-background"},this.renderBackground(a)),G.createElement(Et,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!c||d)&&ns.renderCallByParent(kr({},this.props),a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);fl(Rh,"displayName","RadialBar");fl(Rh,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!$c.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});fl(Rh,"getComposedData",function(t){var e=t.item,r=t.props,n=t.radiusAxis,i=t.radiusAxisTicks,a=t.angleAxis,o=t.angleAxisTicks,l=t.displayedData,c=t.dataKey,d=t.stackedData,p=t.barPosition,m=t.bandSize,y=t.dataStartIndex,x=R6(p,e);if(!x)return null;var S=a.cx,w=a.cy,b=r.layout,E=e.props,T=E.children,N=E.minPointSize,C=b==="radial"?a:n,k=d?C.scale.domain():null,O=L6({numericAxis:C}),P=li(T,By),I=l.map(function(M,U){var $,V,L,W,Y,te;if(d?$=M6(d[y+U],k):($=Li(M,c),Array.isArray($)||($=[O,$])),b==="radial"){V=Pg({axis:n,ticks:i,bandSize:m,offset:x.offset,entry:M,index:U}),Y=a.scale($[1]),W=a.scale($[0]),L=V+x.size;var re=Y-W;if(Math.abs(N)>0&&Math.abs(re)<Math.abs(N)){var Q=En(re||N)*(Math.abs(N)-Math.abs(re));Y+=Q}te={background:{cx:S,cy:w,innerRadius:V,outerRadius:L,startAngle:r.startAngle,endAngle:r.endAngle}}}else{V=n.scale($[0]),L=n.scale($[1]),W=Pg({axis:a,ticks:o,bandSize:m,offset:x.offset,entry:M,index:U}),Y=W+x.size;var ae=L-V;if(Math.abs(N)>0&&Math.abs(ae)<Math.abs(N)){var ne=En(ae||N)*(Math.abs(N)-Math.abs(ae));L+=ne}}return kr(kr(kr(kr({},M),te),{},{payload:M,value:d?$:$[1],cx:S,cy:w,innerRadius:V,outerRadius:L,startAngle:W,endAngle:Y},P&&P[U]&&P[U].props),{},{tooltipPayload:[NA(e,M)],tooltipPosition:zt(S,w,(V+L)/2,(W+Y)/2)})});return{data:I,layout:b}});var H_,eD;function tle(){if(eD)return H_;eD=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,c=e(t((i-n)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=a;return d}return H_=r,H_}var G_,tD;function iV(){if(tD)return G_;tD=1;var t=A$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return G_=n,G_}var K_,rD;function rle(){if(rD)return K_;rD=1;var t=tle(),e=Uy(),r=iV();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return K_=n,K_}var X_,nD;function nle(){if(nD)return X_;nD=1;var t=rle(),e=t();return X_=e,X_}var ile=nle();const Bg=wt(ile);function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function iD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(r),!0).forEach(function(n){aV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aV(t,e,r){return e=ale(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ale(t){var e=ole(t,"string");return th(e)=="symbol"?e:e+""}function ole(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sle=["Webkit","Moz","O","ms"],lle=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=sle.reduce(function(a,o){return aD(aD({},a),{},aV({},o+n,r))},{});return i[e]=r,i};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zg.apply(this,arguments)}function oD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(r),!0).forEach(function(n){Dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sV(n.key),n)}}function cle(t,e,r){return e&&sD(t.prototype,e),r&&sD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dle(t,e,r){return e=qg(e),fle(t,oV()?Reflect.construct(e,r||[],qg(t).constructor):e.apply(t,r))}function fle(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hle(t)}function hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(t)}function ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oE(t,e)}function Dn(t,e,r){return e=sV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sV(t){var e=mle(t,"string");return mc(e)=="symbol"?e:e+""}function mle(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gle=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=of().domain(Bg(0,c)).range([a,a+o-l]),p=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:p}},lD=function(e){return e.changedTouches&&!!e.changedTouches.length},gc=(function(t){function e(r){var n;return ule(this,e),n=dle(this,e,[r]),Dn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Dn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Dn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Dn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Dn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Dn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Dn(n,"handleSlideDragStart",function(i){var a=lD(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ple(e,t),cle(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,p=d.length-1,m=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(o,m),S=e.getIndexInRange(o,y);return{startIndex:x-x%c,endIndex:S===p?p:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Li(a[n],l,n);return Qe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,p=c.width,m=c.travellerWidth,y=c.startIndex,x=c.endIndex,S=c.onChange,w=n.pageX-a;w>0?w=Math.min(w,d+p-m-l,d+p-m-o):w<0&&(w=Math.max(w,d-o,d-l));var b=this.getIndex({startX:o+w,endX:l+w});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=lD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,S=p.onChange,w=p.gap,b=p.data,E={startX:this.state.startX,endX:this.state.endX},T=n.pageX-a;T>0?T=Math.min(T,m+y-x-d):T<0&&(T=Math.max(T,m-d)),E[o]=d+T;var N=this.getIndex(E),C=N.startIndex,k=N.endIndex,O=function(){var I=b.length-1;return o==="startX"&&(l>c?C%w===0:k%w===0)||l<c&&k===I||o==="endX"&&(l>c?k%w===0:C%w===0)||l>c&&k===I};this.setState(Dn(Dn({},o,d+T),"brushMoveStartX",n.pageX),function(){S&&O()&&S(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,p=this.state[i],m=l.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=l.length)){var x=l[y];i==="startX"&&x>=d||i==="endX"&&x<=c||this.setState(Dn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return G.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,p=n.padding,m=D.Children.only(d);return m?G.cloneElement(m,{x:i,y:a,width:o,height:l,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,p=c.travellerWidth,m=c.height,y=c.traveller,x=c.ariaLabel,S=c.data,w=c.startIndex,b=c.endIndex,E=Math.max(n,this.props.x),T=Y_(Y_({},Ge(this.props,!1)),{},{x:E,y:d,width:p,height:m}),N=x||"Min value: ".concat((a=S[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[b])===null||o===void 0?void 0:o.name);return G.createElement(Et,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,T))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,p=Math.min(n,i)+d,m=Math.max(Math.abs(i-n)-d,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,S={pointerEvents:"none",fill:d};return G.createElement(Et,{className:"recharts-brush-texts"},G.createElement(oc,zg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:o+l/2},S),this.getTextOfTick(i)),G.createElement(oc,zg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+x,y:o+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,w=y.isTextActive,b=y.isSlideMoving,E=y.isTravellerMoving,T=y.isTravellerFocused;if(!i||!i.length||!_e(l)||!_e(c)||!_e(d)||!_e(p)||d<=0||p<=0)return null;var N=et("recharts-brush",a),C=G.Children.count(o)===1,k=lle("userSelect","none");return G.createElement(Et,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(w||b||E||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),G.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return G.isValidElement(n)?a=G.cloneElement(n,i):Qe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Y_({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?gle({data:a,width:o,x:l,travellerWidth:c,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(D.PureComponent);Dn(gc,"displayName","Brush");Dn(gc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Q_,uD;function yle(){if(uD)return Q_;uD=1;var t=nA();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return Q_=e,Q_}var J_,cD;function vle(){if(cD)return J_;cD=1;var t=n$(),e=ya(),r=yle(),n=Pn(),i=Uy();function a(o,l,c){var d=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return J_=a,J_}var ble=vle();const xle=wt(ble);var ca=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Z_,dD;function wle(){if(dD)return Z_;dD=1;var t=w$();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Z_=e,Z_}var e1,fD;function _le(){if(fD)return e1;fD=1;var t=wle(),e=b$(),r=ya();function n(i,a){var o={};return a=r(a,3),e(i,function(l,c,d){t(o,c,a(l,c,d))}),o}return e1=n,e1}var Sle=_le();const Ele=wt(Sle);var t1,hD;function Tle(){if(hD)return t1;hD=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return t1=t,t1}var r1,pD;function Ale(){if(pD)return r1;pD=1;var t=nA();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return r1=e,r1}var n1,mD;function Ple(){if(mD)return n1;mD=1;var t=Tle(),e=Ale(),r=ya(),n=Pn(),i=Uy();function a(o,l,c){var d=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return n1=a,n1}var jle=Ple();const lV=wt(jle);var kle=["x","y"];function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sE.apply(this,arguments)}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){Ile(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ile(t,e,r){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nle(t){var e=Cle(t,"string");return rh(e)=="symbol"?e:e+""}function Cle(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ole(t,e){if(t==null)return{};var r=Rle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mle(t,e){var r=t.x,n=t.y,i=Ole(t,kle),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),p=parseInt(d,10),m="".concat(e.width||i.width),y=parseInt(m,10);return $d($d($d($d($d({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function yD(t){return G.createElement(tV,sE({shapeType:"rectangle",propTransformer:Mle,activeClassName:"recharts-active-bar"},t))}var Dle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=_e(n)||QK(n);return a?e(n,i):(a||_l(),r)}},Lle=["value","background"],uV;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function $le(t,e){if(t==null)return{};var r=Vle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wg.apply(this,arguments)}function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(n){Xo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dV(n.key),n)}}function Ule(t,e,r){return e&&bD(t.prototype,e),r&&bD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ble(t,e,r){return e=Hg(e),zle(t,cV()?Reflect.construct(e,r||[],Hg(t).constructor):e.apply(t,r))}function zle(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qle(t)}function qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(t)}function Wle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lE(t,e)}function Xo(t,e,r){return e=dV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dV(t){var e=Hle(t,"string");return yc(e)=="symbol"?e:e+""}function Hle(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ml=(function(t){function e(){var r;Fle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ble(this,e,[].concat(i)),Xo(r,"state",{isAnimationFinished:!1}),Xo(r,"id",Ry("recharts-bar-")),Xo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Xo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Wle(e,t),Ule(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,p=Ge(this.props,!1);return n&&n.map(function(m,y){var x=y===c,S=x?d:o,w=lr(lr(lr({},p),m),{},{isActive:x,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(Et,Wg({className:"recharts-bar-rectangle"},hs(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),G.createElement(yD,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,p=i.animationEasing,m=i.animationId,y=this.state.prevData;return G.createElement(io,{begin:c,duration:d,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,w=a.map(function(b,E){var T=y&&y[E];if(T){var N=Da(T.x,b.x),C=Da(T.y,b.y),k=Da(T.width,b.width),O=Da(T.height,b.height);return lr(lr({},b),{},{x:N(S),y:C(S),width:k(S),height:O(S)})}if(o==="horizontal"){var P=Da(0,b.height),I=P(S);return lr(lr({},b),{},{y:b.y+b.height-I,height:I})}var M=Da(0,b.width),U=M(S);return lr(lr({},b),{},{width:U})});return G.createElement(Et,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Jy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Ge(this.props.background,!1);return a.map(function(d,p){d.value;var m=d.background,y=$le(d,Lle);if(!m)return null;var x=lr(lr(lr(lr(lr({},y),{},{fill:"#eee"},m),c),hs(n.props,d,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(yD,Wg({key:"background-bar-".concat(p),option:n.props.background,isActive:p===l},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,p=a.children,m=li(p,tv);if(!m)return null;var y=d==="vertical"?o[0].height/2:o[0].width/2,x=function(b,E){var T=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:T,errorVal:Li(b,E)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(Et,S,m.map(function(w){return G.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,S=n.background,w=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,E=et("recharts-bar",o),T=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,C=T||N,k=pt(w)?this.id:w;return G.createElement(Et,{className:E},T||N?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(k)},G.createElement("rect",{x:T?d:d-m/2,y:N?p:p-y/2,width:T?m:m*2,height:N?y:y*2}))):null,G.createElement(Et,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(k,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,k),(!x||b)&&ns.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);uV=Ml;Xo(Ml,"displayName","Bar");Xo(Ml,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$c.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(Ml,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=R6(n,r);if(!x)return null;var S=e.layout,w=r.type.defaultProps,b=w!==void 0?lr(lr({},w),r.props):r.props,E=b.dataKey,T=b.children,N=b.minPointSize,C=S==="horizontal"?o:a,k=d?C.scale.domain():null,O=L6({numericAxis:C}),P=li(T,By),I=m.map(function(M,U){var $,V,L,W,Y,te;d?$=M6(d[p+U],k):($=Li(M,E),Array.isArray($)||($=[O,$]));var re=Dle(N,uV.defaultProps.minPointSize)($[1],U);if(S==="horizontal"){var Q,ae=[o.scale($[0]),o.scale($[1])],ne=ae[0],q=ae[1];V=Pg({axis:a,ticks:l,bandSize:i,offset:x.offset,entry:M,index:U}),L=(Q=q??ne)!==null&&Q!==void 0?Q:void 0,W=x.size;var X=ne-q;if(Y=Number.isNaN(X)?0:X,te={x:V,y:o.y,width:W,height:o.height},Math.abs(re)>0&&Math.abs(Y)<Math.abs(re)){var de=En(Y||re)*(Math.abs(re)-Math.abs(Y));L-=de,Y+=de}}else{var se=[a.scale($[0]),a.scale($[1])],xe=se[0],Re=se[1];if(V=xe,L=Pg({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:M,index:U}),W=Re-xe,Y=x.size,te={x:a.x,y:L,width:a.width,height:Y},Math.abs(re)>0&&Math.abs(W)<Math.abs(re)){var ue=En(W||re)*(Math.abs(re)-Math.abs(W));W+=ue}}return lr(lr(lr({},M),{},{x:V,y:L,width:W,height:Y,value:d?$:$[1],payload:M,background:te},P&&P[U]&&P[U].props),{},{tooltipPayload:[NA(r,M)],tooltipPosition:{x:V+W/2,y:L+Y/2}})});return lr({data:I,layout:S},y)});function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Gle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fV(n.key),n)}}function Kle(t,e,r){return e&&xD(t.prototype,e),r&&xD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(r),!0).forEach(function(n){sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sv(t,e,r){return e=fV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fV(t){var e=Xle(t,"string");return nh(e)=="symbol"?e:e+""}function Xle(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yle=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},y=!!Ln(d,Ml);return p.reduce(function(x,S){var w=r[S],b=w.orientation,E=w.domain,T=w.padding,N=T===void 0?{}:T,C=w.mirror,k=w.reversed,O="".concat(b).concat(C?"Mirror":""),P,I,M,U,$;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var V=E[1]-E[0],L=1/0,W=w.categoricalDomain.sort(eX);if(W.forEach(function(se,xe){xe>0&&(L=Math.min((se||0)-(W[xe-1]||0),L))}),Number.isFinite(L)){var Y=L/V,te=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(P=Y*te/2),w.padding==="no-gap"){var re=Oi(e.barCategoryGap,Y*te),Q=Y*te/2;P=Q-re-(Q-re)/te*re}}}i==="xAxis"?I=[n.left+(N.left||0)+(P||0),n.left+n.width-(N.right||0)-(P||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(P||0),n.top+n.height-(N.bottom||0)-(P||0)]:I=w.range,k&&(I=[I[1],I[0]]);var ae=C6(w,a,y),ne=ae.scale,q=ae.realScaleType;ne.domain(E).range(I),O6(ne);var X=D6(ne,Ii(Ii({},w),{},{realScaleType:q}));i==="xAxis"?($=b==="top"&&!C||b==="bottom"&&C,M=n.left,U=m[O]-$*w.height):i==="yAxis"&&($=b==="left"&&!C||b==="right"&&C,M=m[O]-$*w.width,U=n.top);var de=Ii(Ii(Ii({},w),X),{},{realScaleType:q,x:M,y:U,scale:ne,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return de.bandSize=jg(de,X),!w.hide&&i==="xAxis"?m[O]+=($?-1:1)*de.height:w.hide||(m[O]+=($?-1:1)*de.width),Ii(Ii({},x),{},sv({},S,de))},{})},hV=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Qle=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return hV({x:r,y:n},{x:i,y:a})},pV=(function(){function t(e){Gle(this,t),this.scale=e}return Kle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();sv(pV,"EPS",1e-4);var RA=function(e){var r=Object.keys(e).reduce(function(n,i){return Ii(Ii({},n),{},sv({},i,pV.create(e[i])))},{});return Ii(Ii({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Ele(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return lV(i,function(a,o){return r[o].isInRange(a)})}})};function Jle(t){return(t%180+180)%180}var Zle=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jle(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},i1,_D;function eue(){if(_D)return i1;_D=1;var t=ya(),e=jh(),r=Vy();function n(i){return function(a,o,l){var c=Object(a);if(!e(a)){var d=t(o,3);a=r(a),o=function(m){return d(c[m],m,c)}}var p=i(a,o,l);return p>-1?c[d?a[p]:p]:void 0}}return i1=n,i1}var a1,SD;function tue(){if(SD)return a1;SD=1;var t=iV();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return a1=e,a1}var o1,ED;function rue(){if(ED)return o1;ED=1;var t=p$(),e=ya(),r=tue(),n=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(a,e(o,3),d)}return o1=i,o1}var s1,TD;function nue(){if(TD)return s1;TD=1;var t=eue(),e=rue(),r=t(e);return s1=r,s1}var iue=nue();const aue=wt(iue);var oue=I3();const sue=wt(oue);var lue=sue(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),MA=D.createContext(void 0),DA=D.createContext(void 0),mV=D.createContext(void 0),gV=D.createContext({}),yV=D.createContext(void 0),vV=D.createContext(0),bV=D.createContext(0),AD=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,p=lue(a);return G.createElement(MA.Provider,{value:n},G.createElement(DA.Provider,{value:i},G.createElement(gV.Provider,{value:a},G.createElement(mV.Provider,{value:p},G.createElement(yV.Provider,{value:o},G.createElement(vV.Provider,{value:d},G.createElement(bV.Provider,{value:c},l)))))))},uue=function(){return D.useContext(yV)},xV=function(e){var r=D.useContext(MA);r==null&&_l();var n=r[e];return n==null&&_l(),n},cue=function(){var e=D.useContext(MA);return Wo(e)},due=function(){var e=D.useContext(DA),r=aue(e,function(n){return lV(n.domain,Number.isFinite)});return r||Wo(e)},wV=function(e){var r=D.useContext(DA);r==null&&_l();var n=r[e];return n==null&&_l(),n},fue=function(){var e=D.useContext(mV);return e},hue=function(){return D.useContext(gV)},LA=function(){return D.useContext(bV)},$A=function(){return D.useContext(vV)};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SV(n.key),n)}}function gue(t,e,r){return e&&mue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yue(t,e,r){return e=Gg(e),vue(t,_V()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function vue(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bue(t)}function bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uE(t,e)}function PD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(r),!0).forEach(function(n){VA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VA(t,e,r){return e=SV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SV(t){var e=wue(t,"string");return vc(e)=="symbol"?e:e+""}function wue(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _ue(t,e){return Aue(t)||Tue(t,e)||Eue(t,e)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(t,e){if(t){if(typeof t=="string")return kD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(t,e)}}function kD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Aue(t){if(Array.isArray(t))return t}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cE.apply(this,arguments)}var Pue=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):Qe(e)?n=e(r):n=G.createElement("line",cE({},r,{className:"recharts-reference-line-line"})),n},jue=function(e,r,n,i,a,o,l,c,d){var p=a.x,m=a.y,y=a.width,x=a.height;if(n){var S=d.y,w=e.y.apply(S,{position:o});if(ca(d,"discard")&&!e.y.isInRange(w))return null;var b=[{x:p+y,y:w},{x:p,y:w}];return c==="left"?b.reverse():b}if(r){var E=d.x,T=e.x.apply(E,{position:o});if(ca(d,"discard")&&!e.x.isInRange(T))return null;var N=[{x:T,y:m+x},{x:T,y:m}];return l==="top"?N.reverse():N}if(i){var C=d.segment,k=C.map(function(O){return e.apply(O,{position:o})});return ca(d,"discard")&&xle(k,function(O){return!e.isInRange(O)})?null:k}return null};function kue(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=uue(),p=xV(i),m=wV(a),y=fue();if(!d||!y)return null;Ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=RA({x:p.scale,y:m.scale}),S=wr(e),w=wr(r),b=n&&n.length===2,E=jue(x,S,w,b,y,t.position,p.orientation,m.orientation,t);if(!E)return null;var T=_ue(E,2),N=T[0],C=N.x,k=N.y,O=T[1],P=O.x,I=O.y,M=ca(t,"hidden")?"url(#".concat(d,")"):void 0,U=jD(jD({clipPath:M},Ge(t,!0)),{},{x1:C,y1:k,x2:P,y2:I});return G.createElement(Et,{className:et("recharts-reference-line",l)},Pue(o,U),Br.renderCallByParent(t,Qle({x1:C,y1:k,x2:P,y2:I})))}var lv=(function(t){function e(){return pue(this,e),yue(this,e,arguments)}return xue(e,t),gue(e,[{key:"render",value:function(){return G.createElement(kue,this.props)}}])})(G.Component);VA(lv,"displayName","ReferenceLine");VA(lv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dE.apply(this,arguments)}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ND(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){uv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TV(n.key),n)}}function Cue(t,e,r){return e&&Nue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oue(t,e,r){return e=Kg(e),Rue(t,EV()?Reflect.construct(e,r||[],Kg(t).constructor):e.apply(t,r))}function Rue(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mue(t)}function Mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(t)}function Due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fE(t,e)}function uv(t,e,r){return e=TV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TV(t){var e=Lue(t,"string");return bc(e)=="symbol"?e:e+""}function Lue(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ue=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=RA({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ca(e,"discard")&&!o.isInRange(l)?null:l},cv=(function(t){function e(){return Iue(this,e),Oue(this,e,arguments)}return Due(e,t),Cue(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=wr(i),p=wr(a);if(Ka(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var m=$ue(this.props);if(!m)return null;var y=m.x,x=m.y,S=this.props,w=S.shape,b=S.className,E=ca(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=ND(ND({clipPath:E},Ge(this.props,!0)),{},{cx:y,cy:x});return G.createElement(Et,{className:et("recharts-reference-dot",b)},e.renderDot(w,T),Br.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])})(G.Component);uv(cv,"displayName","ReferenceDot");uv(cv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});uv(cv,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Qe(t)?r=t(e):r=G.createElement(OA,dE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hE.apply(this,arguments)}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function CD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(r),!0).forEach(function(n){dv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PV(n.key),n)}}function Uue(t,e,r){return e&&Fue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bue(t,e,r){return e=Xg(e),zue(t,AV()?Reflect.construct(e,r||[],Xg(t).constructor):e.apply(t,r))}function zue(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(t)}function que(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AV=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(t)}function Wue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pE(t,e)}function dv(t,e,r){return e=PV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PV(t){var e=Hue(t,"string");return xc(e)=="symbol"?e:e+""}function Hue(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gue=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var y=RA({x:p.scale,y:m.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(d,{position:"end"}):y.y.rangeMax};return ca(a,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:hV(x,S)},fv=(function(t){function e(){return Vue(this,e),Bue(this,e,arguments)}return Wue(e,t),Uue(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,p=n.clipPathId;Ka(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=wr(i),y=wr(a),x=wr(o),S=wr(l),w=this.props.shape;if(!m&&!y&&!x&&!S&&!w)return null;var b=Gue(m,y,x,S,this.props);if(!b&&!w)return null;var E=ca(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(Et,{className:et("recharts-reference-area",c)},e.renderRect(w,OD(OD({clipPath:E},Ge(this.props,!0)),b)),Br.renderCallByParent(this.props,b))}}])})(G.Component);dv(fv,"displayName","ReferenceArea");dv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dv(fv,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Qe(t)?r=t(e):r=G.createElement(CA,hE({},e,{className:"recharts-reference-area-rect"})),r});function jV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Kue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Zle(n,r)}function Xue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Yg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Yue(t,e){return jV(t,e+1)}function Que(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,p=o,m=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:jV(n,d)};var w=c,b,E=function(){return b===void 0&&(b=r(S,w)),b},T=S.coordinate,N=c===0||Yg(t,T,E,p,l);N||(c=0,p=o,d+=1),N&&(p=T+t*(E()/2+i),c+=d)},y;d<=a.length;)if(y=m(),y)return y.v;return[]}function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function RD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(r),!0).forEach(function(n){Jue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jue(t,e,r){return e=Zue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zue(t){var e=ece(t,"string");return ih(e)=="symbol"?e:e+""}function ece(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tce(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(y){var x=a[y],S,w=function(){return S===void 0&&(S=r(x,y)),S};if(y===o-1){var b=t*(x.coordinate+t*w()/2-c);a[y]=x=Qr(Qr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=Qr(Qr({},x),{},{tickCoord:x.coordinate});var E=Yg(t,x.tickCoord,w,l,c);E&&(c=x.tickCoord-t*(w()/2+i),a[y]=Qr(Qr({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)d(p);return a}function rce(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var p=n[l-1],m=r(p,l-1),y=t*(p.coordinate+t*m/2-d);o[l-1]=p=Qr(Qr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Yg(t,p.tickCoord,function(){return m},c,d);x&&(d=p.tickCoord-t*(m/2+i),o[l-1]=Qr(Qr({},p),{},{isShow:!0}))}for(var S=a?l-1:l,w=function(T){var N=o[T],C,k=function(){return C===void 0&&(C=r(N,T)),C};if(T===0){var O=t*(N.coordinate-t*k()/2-c);o[T]=N=Qr(Qr({},N),{},{tickCoord:O<0?N.coordinate-O*t:N.coordinate})}else o[T]=N=Qr(Qr({},N),{},{tickCoord:N.coordinate});var P=Yg(t,N.tickCoord,k,c,d);P&&(c=N.tickCoord+t*(k()/2+i),o[T]=Qr(Qr({},N),{},{isShow:!0}))},b=0;b<S;b++)w(b);return o}function FA(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(_e(c)||$c.isSsr)return Yue(i,typeof c=="number"&&_e(c)?c:0);var y=[],x=l==="top"||l==="bottom"?"width":"height",S=p&&x==="width"?af(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(N,C){var k=Qe(d)?d(N.value,C):N.value;return x==="width"?Kue(af(k,{fontSize:e,letterSpacing:r}),S,m):af(k,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?En(i[1].coordinate-i[0].coordinate):1,E=Xue(a,b,x);return c==="equidistantPreserveStart"?Que(b,E,w,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=rce(b,E,w,i,o,c==="preserveStartEnd"):y=tce(b,E,w,i,o),y.filter(function(T){return T.isShow}))}var nce=["viewBox"],ice=["viewBox"],ace=["ticks"];function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function MD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(r),!0).forEach(function(n){UA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l1(t,e){if(t==null)return{};var r=oce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IV(n.key),n)}}function lce(t,e,r){return e&&DD(t.prototype,e),r&&DD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uce(t,e,r){return e=Qg(e),cce(t,kV()?Reflect.construct(e,r||[],Qg(t).constructor):e.apply(t,r))}function cce(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(t)}function dce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(t)}function fce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mE(t,e)}function UA(t,e,r){return e=IV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IV(t){var e=hce(t,"string");return wc(e)=="symbol"?e:e+""}function hce(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bc=(function(t){function e(r){var n;return sce(this,e),n=uce(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return fce(e,t),lce(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=l1(n,nce),l=this.props,c=l.viewBox,d=l1(l,ice);return!Bu(a,c)||!Bu(o,d)||!Bu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,p=i.tickSize,m=i.mirror,y=i.tickMargin,x,S,w,b,E,T,N=m?-1:1,C=n.tickSize||p,k=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":x=S=n.coordinate,b=o+ +!m*c,w=b-N*C,T=w-N*y,E=k;break;case"left":w=b=n.coordinate,S=a+ +!m*l,x=S-N*C,E=x-N*y,T=k;break;case"right":w=b=n.coordinate,S=a+ +m*l,x=S+N*C,E=x+N*y,T=k;break;default:x=S=n.coordinate,b=o+ +m*c,w=b+N*C,T=w+N*y,E=k;break}return{line:{x1:x,y1:w,x2:S,y2:b},tick:{x:E,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,p=n.axisLine,m=vr(vr(vr({},Ge(this.props,!1)),Ge(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!d||c==="bottom"&&d);m=vr(vr({},m),{},{x1:i,y1:a+y*l,x2:i+o,y2:a+y*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);m=vr(vr({},m),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+l})}return G.createElement("line",Ru({},m,{className:et("recharts-cartesian-axis-line",si(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,p=l.tick,m=l.tickFormatter,y=l.unit,x=FA(vr(vr({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Ge(this.props,!1),E=Ge(p,!1),T=vr(vr({},b),{},{fill:"none"},Ge(c,!1)),N=x.map(function(C,k){var O=o.getTickLineCoord(C),P=O.line,I=O.tick,M=vr(vr(vr(vr({textAnchor:S,verticalAnchor:w},b),{},{stroke:"none",fill:d},E),I),{},{index:k,payload:C,visibleTicksCount:x.length,tickFormatter:m});return G.createElement(Et,Ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},hs(o.props,C,k)),c&&G.createElement("line",Ru({},T,P,{className:et("recharts-cartesian-axis-tick-line",si(c,"className"))})),p&&e.renderTickItem(p,M,"".concat(Qe(m)?m(C.value,k):C.value).concat(y||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,p=i.hide;if(p)return null;var m=this.props,y=m.ticks,x=l1(m,ace),S=y;return Qe(c)&&(S=y&&y.length>0?c(this.props):c(x)),o<=0||l<=0||!S||!S.length?null:G.createElement(Et,{className:et("recharts-cartesian-axis",d),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Br.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=et(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?o=G.cloneElement(n,vr(vr({},i),{},{className:l})):Qe(n)?o=n(vr(vr({},i),{},{className:l})):o=G.createElement(oc,Ru({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(D.Component);UA(Bc,"displayName","CartesianAxis");UA(Bc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pce=["x1","y1","x2","y2","key"],mce=["offset"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function LD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(r),!0).forEach(function(n){gce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gce(t,e,r){return e=yce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yce(t){var e=vce(t,"string");return Sl(e)=="symbol"?e:e+""}function vce(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sl.apply(this,arguments)}function $D(t,e){if(t==null)return{};var r=bce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xce=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return G.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function NV(t,e){var r;if(G.isValidElement(t))r=G.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=$D(e,pce),d=Ge(c,!1);d.offset;var p=$D(d,mce);r=G.createElement("line",sl({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function wce(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=en(en({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return NV(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _ce(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=en(en({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return NV(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Sce(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var p=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],w=S?i+o-y:p[x+1]-y;if(w<=0)return null;var b=x%e.length;return G.createElement("rect",{key:"react-".concat(x),y,x:n,height:w,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Ece(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var p=d.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],w=S?a+l-y:p[x+1]-y;if(w<=0)return null;var b=x%n.length;return G.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Tce=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return N6(FA(en(en(en({},Bc.defaultProps),n),{},{ticks:za(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Ace=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return N6(FA(en(en(en({},Bc.defaultProps),n),{},{ticks:za(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Pu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CV(t){var e,r,n,i,a,o,l=LA(),c=$A(),d=hue(),p=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Pu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Pu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Pu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Pu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Pu.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Pu.verticalFill,x:_e(t.x)?t.x:d.left,y:_e(t.y)?t.y:d.top,width:_e(t.width)?t.width:d.width,height:_e(t.height)?t.height:d.height}),m=p.x,y=p.y,x=p.width,S=p.height,w=p.syncWithTicks,b=p.horizontalValues,E=p.verticalValues,T=cue(),N=due();if(!_e(x)||x<=0||!_e(S)||S<=0||!_e(m)||m!==+m||!_e(y)||y!==+y)return null;var C=p.verticalCoordinatesGenerator||Tce,k=p.horizontalCoordinatesGenerator||Ace,O=p.horizontalPoints,P=p.verticalPoints;if((!O||!O.length)&&Qe(k)){var I=b&&b.length,M=k({yAxis:N?en(en({},N),{},{ticks:I?b:N.ticks}):void 0,width:l,height:c,offset:d},I?!0:w);Ka(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(M),"]")),Array.isArray(M)&&(O=M)}if((!P||!P.length)&&Qe(C)){var U=E&&E.length,$=C({xAxis:T?en(en({},T),{},{ticks:U?E:T.ticks}):void 0,width:l,height:c,offset:d},U?!0:w);Ka(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sl($),"]")),Array.isArray($)&&(P=$)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(xce,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(wce,sl({},p,{offset:d,horizontalPoints:O,xAxis:T,yAxis:N})),G.createElement(_ce,sl({},p,{offset:d,verticalPoints:P,xAxis:T,yAxis:N})),G.createElement(Sce,sl({},p,{horizontalPoints:O})),G.createElement(Ece,sl({},p,{verticalPoints:P})))}CV.displayName="CartesianGrid";function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Pce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MV(n.key),n)}}function kce(t,e,r){return e&&jce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ice(t,e,r){return e=Jg(e),Nce(t,OV()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function Nce(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(t)}function Cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OV=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}function Oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gE(t,e)}function RV(t,e,r){return e=MV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MV(t){var e=Rce(t,"string");return _c(e)=="symbol"?e:e+""}function Rce(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yE.apply(this,arguments)}function Mce(t){var e=t.xAxisId,r=LA(),n=$A(),i=xV(e);return i==null?null:D.createElement(Bc,yE({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return za(o,!0)}}))}var hv=(function(t){function e(){return Pce(this,e),Ice(this,e,arguments)}return Oce(e,t),kce(e,[{key:"render",value:function(){return D.createElement(Mce,this.props)}}])})(D.Component);RV(hv,"displayName","XAxis");RV(hv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function Dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$V(n.key),n)}}function $ce(t,e,r){return e&&Lce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vce(t,e,r){return e=Zg(e),Fce(t,DV()?Reflect.construct(e,r||[],Zg(t).constructor):e.apply(t,r))}function Fce(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uce(t)}function Uce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(t)}function Bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vE(t,e)}function LV(t,e,r){return e=$V(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $V(t){var e=zce(t,"string");return Sc(e)=="symbol"?e:e+""}function zce(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bE.apply(this,arguments)}var qce=function(e){var r=e.yAxisId,n=LA(),i=$A(),a=wV(r);return a==null?null:D.createElement(Bc,bE({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return za(l,!0)}}))},pv=(function(t){function e(){return Dce(this,e),Vce(this,e,arguments)}return Bce(e,t),$ce(e,[{key:"render",value:function(){return D.createElement(qce,this.props)}}])})(D.Component);LV(pv,"displayName","YAxis");LV(pv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VD(t){return Kce(t)||Gce(t)||Hce(t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(t,e){if(t){if(typeof t=="string")return xE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(t,e)}}function Gce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return xE(t)}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wE=function(e,r,n,i,a){var o=li(e,lv),l=li(e,cv),c=[].concat(VD(o),VD(l)),d=li(e,fv),p="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(w,b){if(b.props[p]===n&&ca(b.props,"extendDomain")&&_e(b.props[m])){var E=b.props[m];return[Math.min(w[0],E),Math.max(w[1],E)]}return w},y)),d.length){var x="".concat(m,"1"),S="".concat(m,"2");y=d.reduce(function(w,b){if(b.props[p]===n&&ca(b.props,"extendDomain")&&_e(b.props[x])&&_e(b.props[S])){var E=b.props[x],T=b.props[S];return[Math.min(w[0],E,T),Math.max(w[1],E,T)]}return w},y)}return a&&a.length&&(y=a.reduce(function(w,b){return _e(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},y)),y},u1={exports:{}},FD;function Xce(){return FD||(FD=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function a(c,d,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||c,y),S=r?r+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)e.call(p,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=r?r+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,S=new Array(x);y<x;y++)S[y]=m[y].fn;return S},l.prototype.listenerCount=function(d){var p=r?r+d:d,m=this._events[p];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,p,m,y,x,S){var w=r?r+d:d;if(!this._events[w])return!1;var b=this._events[w],E=arguments.length,T,N;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,S),!0}for(N=1,T=new Array(E-1);N<E;N++)T[N-1]=arguments[N];b.fn.apply(b.context,T)}else{var C=b.length,k;for(N=0;N<C;N++)switch(b[N].once&&this.removeListener(d,b[N].fn,void 0,!0),E){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,p);break;case 3:b[N].fn.call(b[N].context,p,m);break;case 4:b[N].fn.call(b[N].context,p,m,y);break;default:if(!T)for(k=1,T=new Array(E-1);k<E;k++)T[k-1]=arguments[k];b[N].fn.apply(b[N].context,T)}}return!0},l.prototype.on=function(d,p,m){return a(this,d,p,m,!1)},l.prototype.once=function(d,p,m){return a(this,d,p,m,!0)},l.prototype.removeListener=function(d,p,m,y){var x=r?r+d:d;if(!this._events[x])return this;if(!p)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!y||S.once)&&(!m||S.context===m)&&o(this,x);else{for(var w=0,b=[],E=S.length;w<E;w++)(S[w].fn!==p||y&&!S[w].once||m&&S[w].context!==m)&&b.push(S[w]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(u1)),u1.exports}var Yce=Xce();const Qce=wt(Yce);var c1=new Qce,d1="recharts.syncMouseEvents";function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VV(n.key),n)}}function ede(t,e,r){return e&&Zce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f1(t,e,r){return e=VV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VV(t){var e=tde(t,"string");return ah(e)=="symbol"?e:e+""}function tde(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rde=(function(){function t(){Jce(this,t),f1(this,"activeIndex",0),f1(this,"coordinateList",[]),f1(this,"layout","horizontal")}return ede(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+d,y=o+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function nde(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&_e(n)&&_e(i))return!0}return!1}function ide(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function FV(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=zt(e,r,n,i),l=zt(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function ade(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,p=e.outerRadius,m=e.angle,y=zt(l,c,d,m),x=zt(l,c,p,m);n=y.x,i=y.y,a=x.x,o=x.y}else return FV(e);return[{x:n,y:i},{x:a,y:o}]}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function UD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(r),!0).forEach(function(n){ode(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ode(t,e,r){return e=sde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sde(t){var e=lde(t,"string");return oh(e)=="symbol"?e:e+""}function lde(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ude(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,w=aM;if(y==="ScatterChart")S=o,w=Loe;else if(y==="BarChart")S=ide(m,o,c,p),w=CA;else if(m==="radial"){var b=FV(o),E=b.cx,T=b.cy,N=b.radius,C=b.startAngle,k=b.endAngle;S={cx:E,cy:T,startAngle:C,endAngle:k,innerRadius:N,outerRadius:N},w=z6}else S={points:ade(m,o,c)},w=aM;var O=gm(gm(gm(gm({stroke:"#ccc",pointerEvents:"none"},c),S),Ge(x,!1)),{},{payload:l,payloadIndex:d,className:et("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,O):D.createElement(w,O)}var cde=["item"],dde=["children","className","width","height","style","compact","title","desc"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function BD(t,e){return pde(t)||hde(t,e)||BV(t,e)||fde()}function fde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function pde(t){if(Array.isArray(t))return t}function zD(t,e){if(t==null)return{};var r=mde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zV(n.key),n)}}function vde(t,e,r){return e&&yde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bde(t,e,r){return e=ey(e),xde(t,UV()?Reflect.construct(e,r||[],ey(t).constructor):e.apply(t,r))}function xde(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wde(t)}function wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(t)}function _de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_E(t,e)}function Tc(t){return Tde(t)||Ede(t)||BV(t)||Sde()}function Sde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BV(t,e){if(t){if(typeof t=="string")return SE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(t,e)}}function Ede(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tde(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(r),!0).forEach(function(n){Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ue(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=Ade(t,"string");return Ec(e)=="symbol"?e:e+""}function Ade(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pde={xAxis:["bottom","top"],yAxis:["left","right"]},jde={width:"100%",height:"100%"},qV={x:0,y:0};function ym(t){return t}var kde=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ide=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return le(le(le({},i),zt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return le(le(le({},i),zt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return qV},mv=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Tc(l),Tc(d)):l},[]);return o.length>0?o:e&&e.length&&_e(i)&&_e(a)?e.slice(i,a+1):[]};function WV(t){return t==="number"?[0,"auto"]:void 0}var EE=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=mv(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var p,m=(p=d.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?l:m;y=aS(x,o.dataKey,i)}else y=m&&m[n]||l[n];return y?[].concat(Tc(c),[NA(d,y)]):c},[])},WD=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=kde(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,p=one(o,l,d,c);if(p>=0&&d){var m=d[p]&&d[p].value,y=EE(e,r,p,m),x=Ide(n,l,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},Nde=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=I6(p,a);return n.reduce(function(S,w){var b,E=w.type.defaultProps!==void 0?le(le({},w.type.defaultProps),w.props):w.props,T=E.type,N=E.dataKey,C=E.allowDataOverflow,k=E.allowDuplicatedCategory,O=E.scale,P=E.ticks,I=E.includeHidden,M=E[o];if(S[M])return S;var U=mv(e.data,{graphicalItems:i.filter(function(X){var de,se=o in X.props?X.props[o]:(de=X.type.defaultProps)===null||de===void 0?void 0:de[o];return se===M}),dataStartIndex:c,dataEndIndex:d}),$=U.length,V,L,W;nde(E.domain,C,T)&&(V=VS(E.domain,null,C),x&&(T==="number"||O!=="auto")&&(W=sf(U,N,"category")));var Y=WV(T);if(!V||V.length===0){var te,re=(te=E.domain)!==null&&te!==void 0?te:Y;if(N){if(V=sf(U,N,T),T==="category"&&x){var Q=ZK(V);k&&Q?(L=V,V=Bg(0,$)):k||(V=WR(re,V,w).reduce(function(X,de){return X.indexOf(de)>=0?X:[].concat(Tc(X),[de])},[]))}else if(T==="category")k?V=V.filter(function(X){return X!==""&&!pt(X)}):V=WR(re,V,w).reduce(function(X,de){return X.indexOf(de)>=0||de===""||pt(de)?X:[].concat(Tc(X),[de])},[]);else if(T==="number"){var ae=dne(U,i.filter(function(X){var de,se,xe=o in X.props?X.props[o]:(de=X.type.defaultProps)===null||de===void 0?void 0:de[o],Re="hide"in X.props?X.props.hide:(se=X.type.defaultProps)===null||se===void 0?void 0:se.hide;return xe===M&&(I||!Re)}),N,a,p);ae&&(V=ae)}x&&(T==="number"||O!=="auto")&&(W=sf(U,N,"category"))}else x?V=Bg(0,$):l&&l[M]&&l[M].hasStack&&T==="number"?V=y==="expand"?[0,1]:$6(l[M].stackGroups,c,d):V=k6(U,i.filter(function(X){var de=o in X.props?X.props[o]:X.type.defaultProps[o],se="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return de===M&&(I||!se)}),T,p,!0);if(T==="number")V=wE(m,V,M,a,P),re&&(V=VS(re,V,C));else if(T==="category"&&re){var ne=re,q=V.every(function(X){return ne.indexOf(X)>=0});q&&(V=ne)}}return le(le({},S),{},Ue({},M,le(le({},E),{},{axisType:a,domain:V,categoricalDomain:W,duplicateDomain:L,originalDomain:(b=E.domain)!==null&&b!==void 0?b:Y,isCategorical:x,layout:p})))},{})},Cde=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,y=mv(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),x=y.length,S=I6(p,a),w=-1;return n.reduce(function(b,E){var T=E.type.defaultProps!==void 0?le(le({},E.type.defaultProps),E.props):E.props,N=T[o],C=WV("number");if(!b[N]){w++;var k;return S?k=Bg(0,x):l&&l[N]&&l[N].hasStack?(k=$6(l[N].stackGroups,c,d),k=wE(m,k,N,a)):(k=VS(C,k6(y,n.filter(function(O){var P,I,M=o in O.props?O.props[o]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[o],U="hide"in O.props?O.props.hide:(I=O.type.defaultProps)===null||I===void 0?void 0:I.hide;return M===N&&!U}),"number",p),i.defaultProps.allowDataOverflow),k=wE(m,k,N,a)),le(le({},b),{},Ue({},N,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:si(Pde,"".concat(a,".").concat(w%2),null),domain:k,originalDomain:C,isCategorical:S,layout:p})))}return b},{})},Ode=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),y=li(p,a),x={};return y&&y.length?x=Nde(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=Cde(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},Rde=function(e){var r=Wo(e),n=za(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:iA(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jg(r,n)}},HD=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ln(r,gc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Mde=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ga(r&&r.type);return n&&n.indexOf("Bar")>=0})},GD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dde=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,p=n.height,m=n.children,y=n.margin||{},x=Ln(m,gc),S=Ln(m,zu),w=Object.keys(c).reduce(function(k,O){var P=c[O],I=P.orientation;return!P.mirror&&!P.hide?le(le({},k),{},Ue({},I,k[I]+P.width)):k},{left:y.left||0,right:y.right||0}),b=Object.keys(o).reduce(function(k,O){var P=o[O],I=P.orientation;return!P.mirror&&!P.hide?le(le({},k),{},Ue({},I,si(k,"".concat(I))+P.height)):k},{top:y.top||0,bottom:y.bottom||0}),E=le(le({},b),w),T=E.bottom;x&&(E.bottom+=x.props.height||gc.defaultProps.height),S&&r&&(E=une(E,i,n,r));var N=d-E.left-E.right,C=p-E.top-E.bottom;return le(le({brushBottom:T},E),{},{width:Math.max(N,0),height:Math.max(C,0)})},Lde=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},HV=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(E,T){var N=T.graphicalItems,C=T.stackGroups,k=T.offset,O=T.updateId,P=T.dataStartIndex,I=T.dataEndIndex,M=E.barSize,U=E.layout,$=E.barGap,V=E.barCategoryGap,L=E.maxBarSize,W=GD(U),Y=W.numericAxisName,te=W.cateAxisName,re=Mde(N),Q=[];return N.forEach(function(ae,ne){var q=mv(E.data,{graphicalItems:[ae],dataStartIndex:P,dataEndIndex:I}),X=ae.type.defaultProps!==void 0?le(le({},ae.type.defaultProps),ae.props):ae.props,de=X.dataKey,se=X.maxBarSize,xe=X["".concat(Y,"Id")],Re=X["".concat(te,"Id")],ue={},Se=c.reduce(function($t,me){var Xe=T["".concat(me.axisType,"Map")],Ct=X["".concat(me.axisType,"Id")];Xe&&Xe[Ct]||me.axisType==="zAxis"||_l();var Kt=Xe[Ct];return le(le({},$t),{},Ue(Ue({},me.axisType,Kt),"".concat(me.axisType,"Ticks"),za(Kt)))},ue),fe=Se[te],Ee=Se["".concat(te,"Ticks")],Le=C&&C[xe]&&C[xe].hasStack&&yne(ae,C[xe].stackGroups),pe=Ga(ae.type).indexOf("Bar")>=0,nt=jg(fe,Ee),We=[],gt=re&&sne({barSize:M,stackGroups:C,totalSize:Lde(Se,te)});if(pe){var dt,_t,ir=pt(se)?L:se,hr=(dt=(_t=jg(fe,Ee,!0))!==null&&_t!==void 0?_t:ir)!==null&&dt!==void 0?dt:0;We=lne({barGap:$,barCategoryGap:V,bandSize:hr!==nt?hr:nt,sizeList:gt[Re],maxBarSize:ir}),hr!==nt&&(We=We.map(function($t){return le(le({},$t),{},{position:le(le({},$t.position),{},{offset:$t.position.offset-hr/2})})}))}var pr=ae&&ae.type&&ae.type.getComposedData;pr&&Q.push({props:le(le({},pr(le(le({},Se),{},{displayedData:q,props:E,dataKey:de,item:ae,bandSize:nt,barPosition:We,offset:k,stackedData:Le,layout:U,dataStartIndex:P,dataEndIndex:I}))),{},Ue(Ue(Ue({key:ae.key||"item-".concat(ne)},Y,Se[Y]),te,Se[te]),"animationId",O)),childIndex:dX(ae,E.children),item:ae})}),Q},x=function(E,T){var N=E.props,C=E.dataStartIndex,k=E.dataEndIndex,O=E.updateId;if(!sC({props:N}))return null;var P=N.children,I=N.layout,M=N.stackOffset,U=N.data,$=N.reverseStackOrder,V=GD(I),L=V.numericAxisName,W=V.cateAxisName,Y=li(P,n),te=gne(U,Y,"".concat(L,"Id"),"".concat(W,"Id"),M,$),re=c.reduce(function(X,de){var se="".concat(de.axisType,"Map");return le(le({},X),{},Ue({},se,Ode(N,le(le({},de),{},{graphicalItems:Y,stackGroups:de.axisType===L&&te,dataStartIndex:C,dataEndIndex:k}))))},{}),Q=Dde(le(le({},re),{},{props:N,graphicalItems:Y}),T==null?void 0:T.legendBBox);Object.keys(re).forEach(function(X){re[X]=p(N,re[X],Q,X.replace("Map",""),r)});var ae=re["".concat(W,"Map")],ne=Rde(ae),q=y(N,le(le({},re),{},{dataStartIndex:C,dataEndIndex:k,updateId:O,graphicalItems:Y,stackGroups:te,offset:Q}));return le(le({formattedGraphicalItems:q,graphicalItems:Y,offset:Q,stackGroups:te},ne),re)},S=(function(b){function E(T){var N,C,k;return gde(this,E),k=bde(this,E,[T]),Ue(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(k,"accessibilityManager",new rde),Ue(k,"handleLegendBBoxUpdate",function(O){if(O){var P=k.state,I=P.dataStartIndex,M=P.dataEndIndex,U=P.updateId;k.setState(le({legendBBox:O},x({props:k.props,dataStartIndex:I,dataEndIndex:M,updateId:U},le(le({},k.state),{},{legendBBox:O}))))}}),Ue(k,"handleReceiveSyncEvent",function(O,P,I){if(k.props.syncId===O){if(I===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(P)}}),Ue(k,"handleBrushChange",function(O){var P=O.startIndex,I=O.endIndex;if(P!==k.state.dataStartIndex||I!==k.state.dataEndIndex){var M=k.state.updateId;k.setState(function(){return le({dataStartIndex:P,dataEndIndex:I},x({props:k.props,dataStartIndex:P,dataEndIndex:I,updateId:M},k.state))}),k.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Ue(k,"handleMouseEnter",function(O){var P=k.getMouseInfo(O);if(P){var I=le(le({},P),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var M=k.props.onMouseEnter;Qe(M)&&M(I,O)}}),Ue(k,"triggeredAfterMouseMove",function(O){var P=k.getMouseInfo(O),I=P?le(le({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var M=k.props.onMouseMove;Qe(M)&&M(I,O)}),Ue(k,"handleItemMouseEnter",function(O){k.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Ue(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Ue(k,"handleMouseMove",function(O){O.persist(),k.throttleTriggeredAfterMouseMove(O)}),Ue(k,"handleMouseLeave",function(O){k.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};k.setState(P),k.triggerSyncEvent(P);var I=k.props.onMouseLeave;Qe(I)&&I(P,O)}),Ue(k,"handleOuterEvent",function(O){var P=cX(O),I=si(k.props,"".concat(P));if(P&&Qe(I)){var M,U;/.*touch.*/i.test(P)?U=k.getMouseInfo(O.changedTouches[0]):U=k.getMouseInfo(O),I((M=U)!==null&&M!==void 0?M:{},O)}}),Ue(k,"handleClick",function(O){var P=k.getMouseInfo(O);if(P){var I=le(le({},P),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var M=k.props.onClick;Qe(M)&&M(I,O)}}),Ue(k,"handleMouseDown",function(O){var P=k.props.onMouseDown;if(Qe(P)){var I=k.getMouseInfo(O);P(I,O)}}),Ue(k,"handleMouseUp",function(O){var P=k.props.onMouseUp;if(Qe(P)){var I=k.getMouseInfo(O);P(I,O)}}),Ue(k,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Ue(k,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.handleMouseDown(O.changedTouches[0])}),Ue(k,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&k.handleMouseUp(O.changedTouches[0])}),Ue(k,"handleDoubleClick",function(O){var P=k.props.onDoubleClick;if(Qe(P)){var I=k.getMouseInfo(O);P(I,O)}}),Ue(k,"handleContextMenu",function(O){var P=k.props.onContextMenu;if(Qe(P)){var I=k.getMouseInfo(O);P(I,O)}}),Ue(k,"triggerSyncEvent",function(O){k.props.syncId!==void 0&&c1.emit(d1,k.props.syncId,O,k.eventEmitterSymbol)}),Ue(k,"applySyncEvent",function(O){var P=k.props,I=P.layout,M=P.syncMethod,U=k.state.updateId,$=O.dataStartIndex,V=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)k.setState(le({dataStartIndex:$,dataEndIndex:V},x({props:k.props,dataStartIndex:$,dataEndIndex:V,updateId:U},k.state)));else if(O.activeTooltipIndex!==void 0){var L=O.chartX,W=O.chartY,Y=O.activeTooltipIndex,te=k.state,re=te.offset,Q=te.tooltipTicks;if(!re)return;if(typeof M=="function")Y=M(Q,O);else if(M==="value"){Y=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===O.activeLabel){Y=ae;break}}var ne=le(le({},re),{},{x:re.left,y:re.top}),q=Math.min(L,ne.x+ne.width),X=Math.min(W,ne.y+ne.height),de=Q[Y]&&Q[Y].value,se=EE(k.state,k.props.data,Y),xe=Q[Y]?{x:I==="horizontal"?Q[Y].coordinate:q,y:I==="horizontal"?X:Q[Y].coordinate}:qV;k.setState(le(le({},O),{},{activeLabel:de,activeCoordinate:xe,activePayload:se,activeTooltipIndex:Y}))}else k.setState(O)}),Ue(k,"renderCursor",function(O){var P,I=k.state,M=I.isTooltipActive,U=I.activeCoordinate,$=I.activePayload,V=I.offset,L=I.activeTooltipIndex,W=I.tooltipAxisBandSize,Y=k.getTooltipEventType(),te=(P=O.props.active)!==null&&P!==void 0?P:M,re=k.props.layout,Q=O.key||"_recharts-cursor";return G.createElement(ude,{key:Q,activeCoordinate:U,activePayload:$,activeTooltipIndex:L,chartName:r,element:O,isActive:te,layout:re,offset:V,tooltipAxisBandSize:W,tooltipEventType:Y})}),Ue(k,"renderPolarAxis",function(O,P,I){var M=si(O,"type.axisType"),U=si(k.state,"".concat(M,"Map")),$=O.type.defaultProps,V=$!==void 0?le(le({},$),O.props):O.props,L=U&&U[V["".concat(M,"Id")]];return D.cloneElement(O,le(le({},L),{},{className:et(M,L.className),key:O.key||"".concat(P,"-").concat(I),ticks:za(L,!0)}))}),Ue(k,"renderPolarGrid",function(O){var P=O.props,I=P.radialLines,M=P.polarAngles,U=P.polarRadius,$=k.state,V=$.radiusAxisMap,L=$.angleAxisMap,W=Wo(V),Y=Wo(L),te=Y.cx,re=Y.cy,Q=Y.innerRadius,ae=Y.outerRadius;return D.cloneElement(O,{polarAngles:Array.isArray(M)?M:za(Y,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(U)?U:za(W,!0).map(function(ne){return ne.coordinate}),cx:te,cy:re,innerRadius:Q,outerRadius:ae,key:O.key||"polar-grid",radialLines:I})}),Ue(k,"renderLegend",function(){var O=k.state.formattedGraphicalItems,P=k.props,I=P.children,M=P.width,U=P.height,$=k.props.margin||{},V=M-($.left||0)-($.right||0),L=P6({children:I,formattedGraphicalItems:O,legendWidth:V,legendContent:d});if(!L)return null;var W=L.item,Y=zD(L,cde);return D.cloneElement(W,le(le({},Y),{},{chartWidth:M,chartHeight:U,margin:$,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Ue(k,"renderTooltip",function(){var O,P=k.props,I=P.children,M=P.accessibilityLayer,U=Ln(I,ea);if(!U)return null;var $=k.state,V=$.isTooltipActive,L=$.activeCoordinate,W=$.activePayload,Y=$.activeLabel,te=$.offset,re=(O=U.props.active)!==null&&O!==void 0?O:V;return D.cloneElement(U,{viewBox:le(le({},te),{},{x:te.left,y:te.top}),active:re,label:Y,payload:re?W:[],coordinate:L,accessibilityLayer:M})}),Ue(k,"renderBrush",function(O){var P=k.props,I=P.margin,M=P.data,U=k.state,$=U.offset,V=U.dataStartIndex,L=U.dataEndIndex,W=U.updateId;return D.cloneElement(O,{key:O.key||"_recharts-brush",onChange:fm(k.handleBrushChange,O.props.onChange),data:M,x:_e(O.props.x)?O.props.x:$.left,y:_e(O.props.y)?O.props.y:$.top+$.height+$.brushBottom-(I.bottom||0),width:_e(O.props.width)?O.props.width:$.width,startIndex:V,endIndex:L,updateId:"brush-".concat(W)})}),Ue(k,"renderReferenceElement",function(O,P,I){if(!O)return null;var M=k,U=M.clipPathId,$=k.state,V=$.xAxisMap,L=$.yAxisMap,W=$.offset,Y=O.type.defaultProps||{},te=O.props,re=te.xAxisId,Q=re===void 0?Y.xAxisId:re,ae=te.yAxisId,ne=ae===void 0?Y.yAxisId:ae;return D.cloneElement(O,{key:O.key||"".concat(P,"-").concat(I),xAxis:V[Q],yAxis:L[ne],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:U})}),Ue(k,"renderActivePoints",function(O){var P=O.item,I=O.activePoint,M=O.basePoint,U=O.childIndex,$=O.isRange,V=[],L=P.props.key,W=P.item.type.defaultProps!==void 0?le(le({},P.item.type.defaultProps),P.item.props):P.item.props,Y=W.activeDot,te=W.dataKey,re=le(le({index:U,dataKey:te,cx:I.x,cy:I.y,r:4,fill:IA(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ge(Y,!1)),rg(Y));return V.push(E.renderActiveDot(Y,re,"".concat(L,"-activePoint-").concat(U))),M?V.push(E.renderActiveDot(Y,le(le({},re),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat(U))):$&&V.push(null),V}),Ue(k,"renderGraphicChild",function(O,P,I){var M=k.filterFormatItem(O,P,I);if(!M)return null;var U=k.getTooltipEventType(),$=k.state,V=$.isTooltipActive,L=$.tooltipAxis,W=$.activeTooltipIndex,Y=$.activeLabel,te=k.props.children,re=Ln(te,ea),Q=M.props,ae=Q.points,ne=Q.isRange,q=Q.baseLine,X=M.item.type.defaultProps!==void 0?le(le({},M.item.type.defaultProps),M.item.props):M.item.props,de=X.activeDot,se=X.hide,xe=X.activeBar,Re=X.activeShape,ue=!!(!se&&V&&re&&(de||xe||Re)),Se={};U!=="axis"&&re&&re.props.trigger==="click"?Se={onClick:fm(k.handleItemMouseEnter,O.props.onClick)}:U!=="axis"&&(Se={onMouseLeave:fm(k.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:fm(k.handleItemMouseEnter,O.props.onMouseEnter)});var fe=D.cloneElement(O,le(le({},M.props),Se));function Ee(me){return typeof L.dataKey=="function"?L.dataKey(me.payload):null}if(ue)if(W>=0){var Le,pe;if(L.dataKey&&!L.allowDuplicatedCategory){var nt=typeof L.dataKey=="function"?Ee:"payload.".concat(L.dataKey.toString());Le=aS(ae,nt,Y),pe=ne&&q&&aS(q,nt,Y)}else Le=ae==null?void 0:ae[W],pe=ne&&q&&q[W];if(Re||xe){var We=O.props.activeIndex!==void 0?O.props.activeIndex:W;return[D.cloneElement(O,le(le(le({},M.props),Se),{},{activeIndex:We})),null,null]}if(!pt(Le))return[fe].concat(Tc(k.renderActivePoints({item:M,activePoint:Le,basePoint:pe,childIndex:W,isRange:ne})))}else{var gt,dt=(gt=k.getItemByXY(k.state.activeCoordinate))!==null&&gt!==void 0?gt:{graphicalItem:fe},_t=dt.graphicalItem,ir=_t.item,hr=ir===void 0?O:ir,pr=_t.childIndex,$t=le(le(le({},M.props),Se),{},{activeIndex:pr});return[D.cloneElement(hr,$t),null,null]}return ne?[fe,null,null]:[fe,null]}),Ue(k,"renderCustomized",function(O,P,I){return D.cloneElement(O,le(le({key:"recharts-customized-".concat(I)},k.props),k.state))}),Ue(k,"renderMap",{CartesianGrid:{handler:ym,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:ym},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:ym},YAxis:{handler:ym},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((N=T.id)!==null&&N!==void 0?N:Ry("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=P$(k.triggeredAfterMouseMove,(C=T.throttleDelay)!==null&&C!==void 0?C:1e3/60),k.state={},k}return _de(E,b),vde(E,[{key:"componentDidMount",value:function(){var N,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,C=N.children,k=N.data,O=N.height,P=N.layout,I=Ln(C,ea);if(I){var M=I.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,$=EE(this.state,k,M,U),V=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+O)/2,W=P==="horizontal",Y=W?{x:V,y:L}:{y:V,x:L},te=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});te&&(Y=le(le({},Y),te.props.points[M].tooltipPosition),$=te.props.points[M].tooltipPayload);var re={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:U,activePayload:$,activeCoordinate:Y};this.setState(re),this.renderCursor(I),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var k,O;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(N){sS([Ln(N.children,ea)],[Ln(this.props.children,ea)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Ln(this.props.children,ea);if(N&&typeof N.props.shared=="boolean"){var C=N.props.shared?"axis":"item";return l.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var C=this.container,k=C.getBoundingClientRect(),O=JJ(k),P={chartX:Math.round(N.pageX-O.left),chartY:Math.round(N.pageY-O.top)},I=k.width/C.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,I);if(!M)return null;var U=this.state,$=U.xAxisMap,V=U.yAxisMap,L=this.getTooltipEventType(),W=WD(this.state,this.props.data,this.props.layout,M);if(L!=="axis"&&$&&V){var Y=Wo($).scale,te=Wo(V).scale,re=Y&&Y.invert?Y.invert(P.chartX):null,Q=te&&te.invert?te.invert(P.chartY):null;return le(le({},P),{},{xValue:re,yValue:Q},W)}return W?le(le({},P),W):null}},{key:"inRange",value:function(N,C){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=N/k,I=C/k;if(O==="horizontal"||O==="vertical"){var M=this.state.offset,U=P>=M.left&&P<=M.left+M.width&&I>=M.top&&I<=M.top+M.height;return U?{x:P,y:I}:null}var $=this.state,V=$.angleAxisMap,L=$.radiusAxisMap;if(V&&L){var W=Wo(V);return KR({x:P,y:I},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,C=this.getTooltipEventType(),k=Ln(N,ea),O={};k&&C==="axis"&&(k.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=rg(this.props,this.handleOuterEvent);return le(le({},P),O)}},{key:"addListener",value:function(){c1.on(d1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){c1.removeListener(d1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,C,k){for(var O=this.state.formattedGraphicalItems,P=0,I=O.length;P<I;P++){var M=O[P];if(M.item===N||M.props.key===N.key||C===Ga(M.item.type)&&k===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,C=this.state.offset,k=C.left,O=C.top,P=C.height,I=C.width;return G.createElement("defs",null,G.createElement("clipPath",{id:N},G.createElement("rect",{x:k,y:O,height:P,width:I})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(C,k){var O=BD(k,2),P=O[0],I=O[1];return le(le({},C),{},Ue({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(C,k){var O=BD(k,2),P=O[0],I=O[1];return le(le({},C),{},Ue({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(N){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(N){var C=this.state,k=C.formattedGraphicalItems,O=C.activeItem;if(k&&k.length)for(var P=0,I=k.length;P<I;P++){var M=k[P],U=M.props,$=M.item,V=$.type.defaultProps!==void 0?le(le({},$.type.defaultProps),$.props):$.props,L=Ga($.type);if(L==="Bar"){var W=(U.data||[]).find(function(Q){return yoe(N,Q)});if(W)return{graphicalItem:M,payload:W}}else if(L==="RadialBar"){var Y=(U.data||[]).find(function(Q){return KR(N,Q)});if(Y)return{graphicalItem:M,payload:Y}}else if(av(M,O)||ov(M,O)||Zf(M,O)){var te=Fse({graphicalItem:M,activeTooltipItem:O,itemData:V.data}),re=V.activeIndex===void 0?te:V.activeIndex;return{graphicalItem:le(le({},M),{},{childIndex:re}),payload:Zf(M,O)?V.data[te]:M.props.data[te]}}}return null}},{key:"render",value:function(){var N=this;if(!sC(this))return null;var C=this.props,k=C.children,O=C.className,P=C.width,I=C.height,M=C.style,U=C.compact,$=C.title,V=C.desc,L=zD(C,dde),W=Ge(L,!1);if(U)return G.createElement(AD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(uS,Mu({},W,{width:P,height:I,title:$,desc:V}),this.renderClipPath(),uC(k,this.renderMap)));if(this.props.accessibilityLayer){var Y,te;W.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,W.role=(te=this.props.role)!==null&&te!==void 0?te:"application",W.onKeyDown=function(Q){N.accessibilityManager.keyboardEvent(Q)},W.onFocus=function(){N.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return G.createElement(AD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Mu({className:et("recharts-wrapper",O),style:le({position:"relative",cursor:"default",width:P,height:I},M)},re,{ref:function(ae){N.container=ae}}),G.createElement(uS,Mu({},W,{width:P,height:I,title:$,desc:V,style:jde}),this.renderClipPath(),uC(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(D.Component);Ue(S,"displayName",r),Ue(S,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ue(S,"getDerivedStateFromProps",function(b,E){var T=b.dataKey,N=b.data,C=b.children,k=b.width,O=b.height,P=b.layout,I=b.stackOffset,M=b.margin,U=E.dataStartIndex,$=E.dataEndIndex;if(E.updateId===void 0){var V=HD(b);return le(le(le({},V),{},{updateId:0},x(le(le({props:b},V),{},{updateId:0}),E)),{},{prevDataKey:T,prevData:N,prevWidth:k,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:M,prevChildren:C})}if(T!==E.prevDataKey||N!==E.prevData||k!==E.prevWidth||O!==E.prevHeight||P!==E.prevLayout||I!==E.prevStackOffset||!Bu(M,E.prevMargin)){var L=HD(b),W={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},Y=le(le({},WD(E,N,P)),{},{updateId:E.updateId+1}),te=le(le(le({},L),W),Y);return le(le(le({},te),x(le({props:b},te),E)),{},{prevDataKey:T,prevData:N,prevWidth:k,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:M,prevChildren:C})}if(!sS(C,E.prevChildren)){var re,Q,ae,ne,q=Ln(C,gc),X=q&&(re=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&re!==void 0?re:U,de=q&&(ae=(ne=q.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ae!==void 0?ae:$,se=X!==U||de!==$,xe=!pt(N),Re=xe&&!se?E.updateId:E.updateId+1;return le(le({updateId:Re},x(le(le({props:b},E),{},{updateId:Re,dataStartIndex:X,dataEndIndex:de}),E)),{},{prevChildren:C,dataStartIndex:X,dataEndIndex:de})}return null}),Ue(S,"renderActiveDot",function(b,E,T){var N;return D.isValidElement(b)?N=D.cloneElement(b,E):Qe(b)?N=b(E):N=G.createElement(OA,E),G.createElement(Et,{className:"recharts-active-dot",key:T},N)});var w=D.forwardRef(function(E,T){return G.createElement(S,Mu({},E,{ref:T}))});return w.displayName=S.displayName,w},$de=HV({chartName:"BarChart",GraphicalChild:Ml,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hv},{axisType:"yAxis",AxisComp:pv}],formatAxisMap:Yle}),Vde=HV({chartName:"RadialBarChart",GraphicalChild:Rh,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:Oh},{axisType:"radiusAxis",AxisComp:nv}],formatAxisMap:jne,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const TE=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function sh(){return new Date().toISOString().split("T")[0]}function Fde(t){const e=t.length,r=t.filter(i=>i.status==="present").length,n=e===0?0:Math.round(r/e*100);return{total:e,present:r,percent:n}}function Ude(t){return t>=75?"safe":"risk"}function Bde(t,e){if(t===0)return 0;let r=0,n=t,i=e;for(;Math.round(i/n*100)<75;)n++,i++,r++;return r}function KD(t){const e=Fde(t),r=Ude(e.percent);return{...e,zone:r,classesNeededFor75:r==="risk"?Bde(e.total,e.present):0}}const GV={async mark(t,{subjectId:e,status:r,date:n}){const i=n??sh(),a=`${e}_${i}`;await Di(at(t,"attendance",a),{subjectId:e,date:i,status:r,locked:!0,createdAt:new Date().toISOString()})}};function KV(){const{user:t}=Bn(),[e,r]=D.useState(sh()),[n,i]=D.useState(TE[new Date().getDay()]),[a,o]=D.useState([]),[l,c]=D.useState(!0),[d,p]=D.useState(null),[m,y]=D.useState(null);D.useEffect(()=>{if(!t)return;const w=sh(),b=TE[new Date().getDay()];let E=[],T=[],N=()=>{};function C(O){const P={};if(O.docs.forEach(U=>{P[U.data().subjectId]=U.data().status}),T.length===0)return E.map(U=>({subject:U,markedStatus:P[U.id]??null,alreadyMarked:!!P[U.id],timetableName:null,timetableId:null,uniqueKey:U.id}));const I=[],M=new Set;return T.forEach(U=>{(U.slots??[]).filter(V=>V.day===b).sort((V,L)=>(V.startTime??"").localeCompare(L.startTime??"")).forEach(V=>{const L=E.find(Y=>Y.id===V.subjectId);if(!L)return;const W=`${U.id}_${L.id}`;M.has(W)||(M.add(W),I.push({subject:L,markedStatus:P[L.id]??null,alreadyMarked:!!P[L.id],timetableName:U.name,timetableId:U.id,uniqueKey:W,slot:V}))})}),I}return(async()=>{try{const[O,P]=await Promise.all([ds(Sr(nr(t.id,"subjects"),Ut("archived","==",!1))),ds(Sr(nr(t.id,"timetables"),Ut("active","==",!0)))]);E=O.docs.map(I=>({id:I.id,...I.data()})),T=P.docs.map(I=>({id:I.id,...I.data()})).filter(I=>!I.archived&&(!I.startDate||I.startDate<=w)),N=Or(Sr(nr(t.id,"attendance"),Ut("date","==",w)),I=>{o(C(I)),r(w),i(b),c(!1)},I=>{p(I.message),c(!1)})}catch(O){p(O.message),c(!1)}})(),()=>N()},[t]);const x=D.useCallback(async(w,b,E)=>{if(t){y(w);try{await GV.mark(t.id,{subjectId:w,status:b,date:E})}catch(T){p(T.message)}finally{y(null)}}},[t]),S=D.useCallback(()=>{},[]);return{date:e,day:n,today:a,loading:l,error:d,marking:m,mark:x,refresh:S}}function XV(){const{user:t}=Bn(),[e,r]=D.useState(null),[n,i]=D.useState([]),[a,o]=D.useState(!0),[l,c]=D.useState(null);D.useEffect(()=>{if(!t)return;let p=[],m=()=>{};return(async()=>{try{p=(await ds(Sr(nr(t.id,"subjects"),Ut("archived","==",!1)))).docs.map(S=>({id:S.id,...S.data()})),m=Or(nr(t.id,"attendance"),S=>{const w=S.docs.map(E=>({id:E.id,...E.data()})),b=p.map(E=>{const T=w.filter(N=>N.subjectId===E.id);return{subject:E,...KD(T)}});r(KD(w)),i(b),o(!1)},S=>{c(S.message),o(!1)})}catch(x){c(x.message),o(!1)}})(),()=>m()},[t]);const d=D.useCallback(()=>{},[]);return{overall:e,subjects:n,loading:a,error:l,refresh:d}}function zde({subjectId:t,from:e,to:r}={}){const{user:n}=Bn(),[i,a]=D.useState([]),[o,l]=D.useState(!0);return D.useEffect(()=>{if(n)return Or(nr(n.id,"attendance"),c=>{let d=c.docs.map(p=>({id:p.id,...p.data()}));t&&(d=d.filter(p=>p.subjectId===t)),e&&(d=d.filter(p=>p.date>=e)),r&&(d=d.filter(p=>p.date<=r)),d.sort((p,m)=>m.date.localeCompare(p.date)),a(d),l(!1)})},[n,t,e,r]),{records:i,loading:o}}const La={async create(t,{title:e,description:r="",dueDate:n=null,priority:i="medium"}){return(await Un(nr(t,"tasks"),{title:e,description:r,dueDate:n,priority:i,completed:!1,archived:!1,subtasks:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id},async update(t,e,r){await rt(at(t,"tasks",e),{...r,updatedAt:new Date().toISOString()})},async archive(t,e){await rt(at(t,"tasks",e),{archived:!0,updatedAt:new Date().toISOString()})},async addSubtask(t,e,r,n){const i=Date.now().toString(36)+Math.random().toString(36).slice(2,5),a=[...r||[],{id:i,title:n,completed:!1}];await rt(at(t,"tasks",e),{subtasks:a,updatedAt:new Date().toISOString()})},async toggleSubtask(t,e,r,n){const i=(r||[]).map(a=>a.id===n?{...a,completed:!a.completed}:a);await rt(at(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})},async deleteSubtask(t,e,r,n){const i=(r||[]).filter(a=>a.id!==n);await rt(at(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})}};function gv({archived:t=!1}={}){const{user:e}=Bn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,l]=D.useState(null);D.useEffect(()=>{if(!e)return;const w=Sr(nr(e.id,"tasks"),Ut("archived","==",t));return Or(w,E=>{const T=E.docs.map(N=>({id:N.id,...N.data()})).sort((N,C)=>C.createdAt.localeCompare(N.createdAt));n(T),a(!1)},E=>{l(E.message),a(!1)})},[e,t]);const c=D.useCallback(async w=>{if(e)try{await La.create(e.id,w)}catch(b){l(b.message)}},[e]),d=D.useCallback(async(w,b)=>{if(e)try{await La.update(e.id,w,b)}catch(E){l(E.message)}},[e]),p=D.useCallback((w,b)=>d(w,{completed:!b}),[d]),m=D.useCallback(async w=>{if(e)try{await La.archive(e.id,w)}catch(b){l(b.message)}},[e]),y=D.useCallback(async(w,b)=>{if(!e)return;const E=r.find(T=>T.id===w);try{await La.addSubtask(e.id,w,(E==null?void 0:E.subtasks)??[],b)}catch(T){l(T.message)}},[e,r]),x=D.useCallback(async(w,b)=>{if(!e)return;const E=r.find(T=>T.id===w);try{await La.toggleSubtask(e.id,w,(E==null?void 0:E.subtasks)??[],b)}catch(T){l(T.message)}},[e,r]),S=D.useCallback(async(w,b)=>{if(!e)return;const E=r.find(T=>T.id===w);try{await La.deleteSubtask(e.id,w,(E==null?void 0:E.subtasks)??[],b)}catch(T){l(T.message)}},[e,r]);return{tasks:r,loading:i,error:o,create:c,update:d,toggle:p,archive:m,addSubtask:y,toggleSubtask:x,deleteSubtask:S}}const h1={async addHabit(t,e){await Un(nr(t,"habits"),{name:e,active:!0,createdAt:new Date().toISOString()})},async archiveHabit(t,e){await rt(at(t,"habits",e),{active:!1})},async toggleToday(t,e,r){const n=sh(),i=`${e}_${n}`;await Di(at(t,"habitLogs",i),{habitId:e,date:n,done:!r,updatedAt:new Date().toISOString()})}};function YV(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState({}),[a,o]=D.useState(!0);D.useEffect(()=>{if(!t)return;const p=Sr(nr(t.id,"habits"),Ut("active","==",!0));return Or(p,m=>{r(m.docs.map(y=>({id:y.id,...y.data()})).sort((y,x)=>y.createdAt.localeCompare(x.createdAt))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const p=sh(),m=Sr(nr(t.id,"habitLogs"),Ut("date","==",p));return Or(m,y=>{const x={};y.docs.forEach(S=>{x[S.data().habitId]=S.data().done}),i(x)})},[t]);const l=D.useCallback(async p=>{!t||!p.trim()||await h1.addHabit(t.id,p.trim())},[t]),c=D.useCallback(async p=>{t&&await h1.archiveHabit(t.id,p)},[t]),d=D.useCallback(async p=>{if(!t)return;const m=n[p]??!1;await h1.toggleToday(t.id,p,m)},[t,n]);return{habits:e,todayLogs:n,loading:a,addHabit:l,archiveHabit:c,toggleToday:d}}function Mh(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>{if(!t)return;const x=Sr(nr(t.id,"timetables"),Ut("archived","==",!1));return Or(x,w=>{const b=w.docs.map(E=>({id:E.id,...E.data()})).sort((E,T)=>E.createdAt.localeCompare(T.createdAt));r(b),i(!1)},w=>{o(w.message),i(!1)})},[t]);const l=D.useCallback(async({name:x,startDate:S})=>{if(t)try{await Un(nr(t.id,"timetables"),{name:x,startDate:S||null,active:!1,archived:!1,slots:[],createdAt:new Date().toISOString()})}catch(w){o(w.message)}},[t]),c=D.useCallback(async x=>{if(t)try{const S=e.find(b=>b.id===x);if(!S)return;const w=Z1(ht);if(S.active)w.update(at(t.id,"timetables",x),{active:!1});else{const b=e.filter(E=>E.active);if(b.length>=2){const E=[...b].sort((T,N)=>(T.activatedAt??T.createdAt).localeCompare(N.activatedAt??N.createdAt))[0];w.update(at(t.id,"timetables",E.id),{active:!1})}w.update(at(t.id,"timetables",x),{active:!0,activatedAt:new Date().toISOString()})}await w.commit()}catch(S){o(S.message)}},[t,e]),d=D.useCallback(async x=>{if(t)try{await rt(at(t.id,"timetables",x),{archived:!0,active:!1})}catch(S){o(S.message)}},[t]),p=D.useCallback(async(x,S)=>{if(t)try{const w=e.find(E=>E.id===x);if(!w)return;const b={id:crypto.randomUUID(),...S};await rt(at(t.id,"timetables",x),{slots:[...w.slots??[],b]})}catch(w){o(w.message)}},[t,e]),m=D.useCallback(async(x,S)=>{if(t)try{const w=e.find(b=>b.id===x);if(!w)return;await rt(at(t.id,"timetables",x),{slots:(w.slots??[]).filter(b=>b.id!==S)})}catch(w){o(w.message)}},[t,e]),y=D.useCallback(async({name:x,slots:S=[]})=>{if(t)try{await Un(nr(t.id,"timetables"),{name:x,startDate:null,active:!1,archived:!1,slots:S.map(w=>({...w,id:crypto.randomUUID()})),createdAt:new Date().toISOString()})}catch(w){o(w.message)}},[t]);return{timetables:e,loading:n,error:a,create:l,activate:c,archive:d,addSlot:p,deleteSlot:m,importTimetable:y}}const p1=()=>An(ht,"quotes"),Du={async getAll(){return(await ds(p1())).docs.map(e=>({id:e.id,...e.data()}))},async getActive(){return(await ds(Sr(p1(),Ut("active","==",!0)))).docs.map(e=>({id:e.id,...e.data()}))},async add({text:t,author:e=""}){return Un(p1(),{text:t,author:e.trim(),active:!0,createdAt:new Date().toISOString()})},async update(t,e){await rt(tn(ht,"quotes",t),e)},async remove(t){await r3(tn(ht,"quotes",t))}};function XD(t){if(!t.length)return null;const e=Math.floor(Date.now()/(1e3*60*60));return t[e%t.length]}const YD=[{id:"seed-1",text:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier"},{id:"seed-2",text:"The secret of getting ahead is getting started.",author:"Mark Twain"},{id:"seed-3",text:"It always seems impossible until it's done.",author:"Nelson Mandela"},{id:"seed-4",text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{id:"seed-5",text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{id:"seed-6",text:"Education is the passport to the future.",author:"Malcolm X"},{id:"seed-7",text:"The more that you read, the more things you will know.",author:"Dr. Seuss"},{id:"seed-8",text:"You don't have to be great to start, but you have to start to be great.",author:"Zig Ziglar"},{id:"seed-9",text:"Push yourself, because no one else is going to do it for you.",author:""},{id:"seed-10",text:"Great things never come from comfort zones.",author:""},{id:"seed-11",text:"Dream it. Wish it. Do it.",author:""},{id:"seed-12",text:"Success doesn't just find you. You have to go out and get it.",author:""}];function qde(){const[t,e]=D.useState(null);return D.useEffect(()=>{let r=!1;async function n(){try{const l=await Du.getActive();if(r)return;const c=l.length?l:YD;e(XD(c))}catch{r||e(XD(YD))}}n();const a=36e5-Date.now()%36e5,o=setTimeout(()=>n(),a);return()=>{r=!0,clearTimeout(o)}},[]),t}function Wde(){const[t,e]=D.useState([]),[r,n]=D.useState(!0);async function i(){n(!0);try{e(await Du.getAll())}catch{e([])}n(!1)}return D.useEffect(()=>{i()},[]),{quotes:t,loading:r,refresh:i}}class Dh{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const Hde=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},zr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Hde()},BA=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Gde=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=BA(t);zr.publicKey=r.publicKey,zr.blockHeadless=r.blockHeadless,zr.storageProvider=r.storageProvider,zr.blockList=r.blockList,zr.limitRate=r.limitRate,zr.origin=r.origin||e},QV=async(t,e,r={})=>{const n=await fetch(zr.origin+t,{method:"POST",headers:r,body:e}),i=await n.text(),a=new Dh(n.status,i);if(n.ok)return a;throw a},JV=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Kde=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},ZV=t=>t.webdriver||!t.languages||t.languages.length===0,eF=()=>new Dh(451,"Unavailable For Headless Browser"),Xde=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Yde=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Qde=(t,e)=>t instanceof FormData?t.get(e):t[e],tF=(t,e)=>{if(Yde(t))return!1;Xde(t.list,t.watchVariable);const r=Qde(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},rF=()=>new Dh(403,"Forbidden"),Jde=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Zde=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},nF=async(t,e,r)=>{if(!e.throttle||!r)return!1;Jde(e.throttle,e.id);const n=e.id||t;return await Zde(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},iF=()=>new Dh(429,"Too Many Requests"),efe=async(t,e,r,n)=>{const i=BA(n),a=i.publicKey||zr.publicKey,o=i.blockHeadless||zr.blockHeadless,l=i.storageProvider||zr.storageProvider,c={...zr.blockList,...i.blockList},d={...zr.limitRate,...i.limitRate};return o&&ZV(navigator)?Promise.reject(eF()):(JV(a,t,e),Kde(r),r&&tF(c,r)?Promise.reject(rF()):await nF(location.pathname,d,l)?Promise.reject(iF()):QV("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},tfe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},rfe=t=>typeof t=="string"?document.querySelector(t):t,nfe=async(t,e,r,n)=>{const i=BA(n),a=i.publicKey||zr.publicKey,o=i.blockHeadless||zr.blockHeadless,l=zr.storageProvider||i.storageProvider,c={...zr.blockList,...i.blockList},d={...zr.limitRate,...i.limitRate};if(o&&ZV(navigator))return Promise.reject(eF());const p=rfe(r);JV(a,t,e),tfe(p);const m=new FormData(p);return tF(c,m)?Promise.reject(rF()):await nF(location.pathname,d,l)?Promise.reject(iF()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",a),QV("/api/v1.0/email/send-form",m))},QD={init:Gde,send:efe,sendForm:nfe,EmailJSResponseStatus:Dh},JD="service_hjvrjoa",ZD="ED2eDc6-CLeSavBsg",ife="template_attendance_risk_id",afe="template_task_overdue_id",e4="/SARASVA/logo.png",ofe=window.location.origin+"/SARASVA/#",sfe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let m1=[],g1=[];function lfe(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}const Cm={async requestPermission(){return"Notification"in window?Notification.requestPermission():"denied"},get permission(){return"Notification"in window?Notification.permission:"denied"},push(t,e,{tag:r,path:n}={}){if("Notification"in window&&Notification.permission==="granted")try{const i=new Notification(t,{body:e,icon:e4,badge:e4,tag:r});n&&(i.onclick=()=>{window.focus(),window.location.href=ofe+n})}catch{}},schedulePeriodNotifications(t,e){if(m1.forEach(clearTimeout),m1=[],Notification.permission!=="granted")return;const r=new Date,n=sfe[r.getDay()];t.filter(i=>i.day===n).forEach(i=>{if(!i.startTime)return;const[a,o]=i.startTime.split(":").map(Number),l=new Date(r);l.setHours(a,Math.max(0,o-5),0,0);const c=l-r;if(c<=0)return;const d=(e==null?void 0:e(i.subjectId))||i.subjectName||"Class",p=setTimeout(()=>{this.push(` ${d} in 5 minutes`,`Starting at ${i.startTime}${i.room?"  "+i.room:""}  mark attendance after class!`,{tag:`period-${i.id??i.subjectId}`,path:"/attendance"})},c);m1.push(p)})},scheduleTaskReminders(t){if(g1.forEach(clearTimeout),g1=[],Notification.permission!=="granted")return;const e=lfe(),r=t.filter(a=>!a.completed&&!a.archived&&a.dueDate===e);if(!r.length)return;const n=new Date,i=new Date(n);i.setHours(22,0,0,0),[2,4,6].forEach(a=>{const o=new Date(n.getTime()+a*3600*1e3);if(o>i)return;const l=setTimeout(()=>{this.push(` ${r.length} task${r.length!==1?"s":""} due today`,r.slice(0,3).map(c=>c.title).join("  "),{tag:"tasks-due-today",path:"/tasks"})},o-n);g1.push(l)})},async sendAttendanceAlert(t,e,r){const n=r.map(i=>` ${i.subject.name}: ${i.percent}% (need ${i.classesNeededFor75} more classes)`).join(`
`);try{await QD.send(JD,ife,{to_email:t,to_name:e,subject_list:n,reply_to:t},ZD)}catch{}},async sendTaskAlert(t,e,r){const n=r.map(i=>` ${i.title}${i.dueDate?` (due ${new Date(i.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})`:""}`).join(`
`);try{await QD.send(JD,afe,{to_email:t,to_name:e,task_list:n,reply_to:t},ZD)}catch{}},checkAndAlert(t,e,r){if(!t)return;const n=`sarasva_alerted_${t.id}_${new Date().toDateString()}`;if(sessionStorage.getItem(n))return;sessionStorage.setItem(n,"1");const i=e.filter(o=>o.zone==="risk"),a=r.filter(o=>!o.completed&&o.dueDate&&new Date(o.dueDate)<new Date);i.length>0&&(this.push("Attendance Risk ",`${i.length} subject${i.length!==1?"s":""} below 75%  check your dashboard.`,{tag:"att-risk",path:"/attendance"}),t.notificationsEmail&&t.email&&this.sendAttendanceAlert(t.email,t.name,i)),a.length>0&&(this.push("Overdue Tasks",`${a.length} task${a.length!==1?"s":""} past due date.`,{tag:"tasks-overdue",path:"/tasks"}),t.notificationsEmail&&t.email&&this.sendTaskAlert(t.email,t.name,a))}};function aF({zone:t}){const e=t==="safe";return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold",e?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-700"),children:[e?f.jsx(CT,{size:11}):f.jsx(NT,{size:11}),e?"SAFE":"RISK"]})}function vm({icon:t,label:e,value:r,sub:n,iconBg:i="bg-primary/10",iconColor:a="text-primary",to:o}){const l=f.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-border bg-card p-4 card-shadow hover:shadow-md transition-shadow",children:[f.jsx("div",{className:ke("mt-0.5 rounded-xl p-2.5",i,a),children:f.jsx(t,{size:17})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold leading-none tracking-tight",children:r}),f.jsx("p",{className:"mt-0.5 text-xs font-medium text-muted-foreground",children:e}),n&&f.jsx("div",{className:"mt-1",children:typeof n=="string"?f.jsx("p",{className:"text-xs text-muted-foreground",children:n}):n})]})]});return o?f.jsx(Vn,{to:o,children:l}):l}function ufe({active:t,payload:e}){if(!t||!(e!=null&&e.length))return null;const r=e[0].payload;return f.jsxs("div",{className:"rounded-xl border border-border bg-card px-3 py-2 shadow-lg text-xs",children:[f.jsx("p",{className:"font-semibold mb-1",children:r.name}),f.jsxs("p",{children:[r.percent,"% attendance"]}),f.jsxs("p",{className:"text-muted-foreground",children:[r.present," present / ",r.total," total"]}),r.zone==="risk"&&r.classesNeededFor75>0&&f.jsxs("p",{className:"mt-1 font-medium text-rose-600",children:["Need ",r.classesNeededFor75," more to reach 75%"]})]})}function cfe({percent:t,zone:e}){const r=[{value:t,fill:e==="safe"?"#10b981":"#f43f5e"}];return f.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[f.jsxs(Vde,{width:156,height:156,cx:78,cy:78,innerRadius:52,outerRadius:70,startAngle:225,endAngle:-45,data:r,barSize:14,children:[f.jsx(Oh,{type:"number",domain:[0,100],angleAxisId:0,tick:!1}),f.jsx(Rh,{dataKey:"value",cornerRadius:8,background:{fill:"hsl(var(--muted))"},angleAxisId:0})]}),f.jsxs("div",{className:"absolute flex flex-col items-center",children:[f.jsxs("span",{className:"text-2xl font-bold leading-none",children:[t,"%"]}),f.jsx(aF,{zone:e})]})]})}function dfe({subjects:t}){const e=t.filter(r=>r.zone==="risk").sort((r,n)=>n.classesNeededFor75-r.classesNeededFor75);return e.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-1 py-6 text-center text-sm text-muted-foreground",children:[f.jsx(CT,{size:28,className:"text-emerald-500 opacity-80"}),f.jsx("p",{children:"All subjects above 75%!"})]}):f.jsx("div",{className:"space-y-2",children:e.map(r=>f.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-semibold text-rose-900",children:r.subject.name}),f.jsxs("span",{className:"text-xs font-bold text-rose-700",children:[r.percent,"%"]})]}),f.jsx("div",{className:"my-1.5 h-1.5 w-full overflow-hidden rounded-full bg-rose-200",children:f.jsx("div",{className:"h-full rounded-full bg-rose-500",style:{width:`${r.percent}%`}})}),f.jsxs("p",{className:"text-xs text-rose-700",children:["Attend ",f.jsx("strong",{children:r.classesNeededFor75})," consecutive class",r.classesNeededFor75!==1?"es":""," to reach 75%"]})]},r.subject.id))})}function ffe({exams:t}){const e=new Date;e.setHours(0,0,0,0);const r=t.filter(o=>!o.archived&&o.examDate).map(o=>{const l=new Date(o.examDate+"T00:00:00"),c=Math.ceil((l-e)/864e5);return{...o,daysLeft:c}}).filter(o=>o.daysLeft>=0).sort((o,l)=>o.daysLeft-l.daysLeft);if(r.length===0)return null;const n=r[0],i=n.daysLeft<=3,a=n.daysLeft<=7;return f.jsx(Vn,{to:"/exams",children:f.jsx("div",{className:ke("rounded-2xl border p-4 card-shadow transition-shadow hover:shadow-md",i?"border-rose-300 bg-gradient-to-r from-rose-50 to-orange-50":a?"border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50":"border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50"),children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:ke("flex flex-col items-center justify-center rounded-2xl px-4 py-2 min-w-[72px] text-center",i?"bg-rose-100":a?"bg-amber-100":"bg-blue-100"),children:[f.jsx("span",{className:ke("text-3xl font-extrabold leading-none",i?"text-rose-700":a?"text-amber-700":"text-blue-700"),children:n.daysLeft}),f.jsxs("span",{className:ke("text-[10px] font-semibold uppercase tracking-wide mt-0.5",i?"text-rose-600":a?"text-amber-600":"text-blue-600"),children:["day",n.daysLeft!==1?"s":""]})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(cG,{size:14,className:ke(i?"text-rose-600":a?"text-amber-600":"text-blue-600")}),f.jsx("p",{className:ke("text-xs font-semibold uppercase tracking-wide",i?"text-rose-600":a?"text-amber-700":"text-blue-600"),children:i?"Exam very soon!":a?"Exam coming up":"Upcoming exam"})]}),f.jsx("p",{className:"mt-0.5 text-base font-bold truncate",children:n.name}),f.jsx("p",{className:ke("text-xs",i?"text-rose-600":a?"text-amber-600":"text-muted-foreground"),children:new Date(n.examDate+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})}),n.subjects.length>0&&f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[n.subjects.length," subject",n.subjects.length!==1?"s":"","  tap to prep"]})]}),r.length>1&&f.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-0.5",children:[f.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",r.length-1]}),f.jsx("span",{className:"text-[10px] text-muted-foreground",children:"more"})]}),f.jsx(bl,{size:16,className:"shrink-0 text-muted-foreground"})]})})})}const hfe=[{key:"present",label:"P",activeBg:"bg-emerald-500",activeRing:"ring-emerald-400"},{key:"absent",label:"A",activeBg:"bg-rose-500",activeRing:"ring-rose-400"},{key:"cancelled",label:"C",activeBg:"bg-amber-400",activeRing:"ring-amber-300"}];function pfe({today:t=[],day:e,mark:r,marking:n}){const i=t.filter(o=>!o.alreadyMarked);if(t.length===0)return f.jsxs("p",{className:"py-4 text-center text-sm text-muted-foreground",children:["No classes scheduled today (",e,")."]});const a=i.length===0;return f.jsxs("div",{className:"space-y-2",children:[a?f.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg bg-emerald-50 px-2.5 py-1.5",children:[f.jsx(c3,{size:13,className:"text-emerald-600 shrink-0"}),f.jsx("p",{className:"text-xs font-semibold text-emerald-700",children:"All classes marked for today!"})]}):f.jsxs("p",{className:"rounded-lg bg-amber-50 px-2.5 py-1.5 text-xs font-semibold text-amber-700",children:[i.length," class",i.length!==1?"es":""," not yet marked"]}),t.map(({subject:o,markedStatus:l,uniqueKey:c,timetableName:d})=>f.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-background px-3 py-2.5",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"text-sm font-medium truncate",children:o.name}),d&&f.jsx("span",{className:"ml-1.5 text-[10px] text-primary/60 font-medium",children:d})]}),f.jsx("div",{className:"flex items-center gap-1.5 shrink-0",children:hfe.map(({key:p,label:m,activeBg:y,activeRing:x})=>{const S=l===p,w=n===o.id;return f.jsx("button",{disabled:w,onClick:()=>r(o.id,p),title:p.charAt(0).toUpperCase()+p.slice(1),className:ke("h-7 w-7 rounded-full text-[11px] font-bold transition-all duration-150 select-none",S?`${y} text-white ring-2 ring-offset-1 ${x} scale-110`:"bg-muted text-muted-foreground hover:bg-muted/80",w&&"opacity-50 cursor-not-allowed"),children:w&&n===o.id?"":m},p)})})]},c??o.id))]})}function mfe({tasks:t,toggle:e,toggleSubtask:r}){const n=new Date,i=t.filter(y=>!y.completed&&y.dueDate&&new Date(y.dueDate)<n),a=t.filter(y=>!y.completed&&y.priority==="high"&&!i.find(x=>x.id===y.id)),o=[...i,...a].slice(0,4),l=t.filter(y=>!y.completed),c=l.length===0,[d,p]=D.useState(new Set);function m(y){p(x=>{const S=new Set(x);return S.has(y)?S.delete(y):S.add(y),S})}return f.jsxs("div",{className:ke("rounded-2xl border p-5 card-shadow",c?"border-emerald-200 bg-emerald-50":i.length>0?"border-rose-200 bg-gradient-to-br from-rose-50 to-orange-50":"border-amber-200 bg-gradient-to-br from-amber-50 to-yellow-50"),children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("div",{className:ke("rounded-xl p-2",c?"bg-emerald-100":i.length>0?"bg-rose-100":"bg-amber-100"),children:c?f.jsx(tS,{size:18,className:"text-emerald-600"}):i.length>0?f.jsx(ZH,{size:18,className:"text-rose-600"}):f.jsx(nS,{size:18,className:"text-amber-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-foreground",children:c?"All tasks complete!":"Tasks"}),!c&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length>0&&`${i.length} overdue  `,l.length," pending"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(Vn,{to:"/tasks",className:"flex items-center gap-1 rounded-lg bg-white/70 border border-border px-3 py-1.5 text-xs font-medium text-foreground hover:bg-white transition-colors",children:[f.jsx(fr,{size:11})," Add"]}),f.jsxs(Vn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["All ",f.jsx(tg,{size:11})]})]})]}),c?f.jsx("p",{className:"text-sm text-emerald-700 font-medium text-center py-1",children:"You're all caught up! Great work."}):o.length>0?f.jsxs("div",{className:"space-y-1.5",children:[o.map(y=>{const x=y.dueDate&&new Date(y.dueDate)<n,S=y.subtasks??[],w=d.has(y.id),b=S.filter(E=>E.completed).length;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-white/60 px-3 py-2.5 hover:bg-white/90 transition-colors",children:[f.jsx("button",{onClick:()=>e(y.id,y.completed),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:f.jsx(rS,{size:17})}),f.jsx("button",{className:"flex-1 text-left text-sm font-medium truncate focus:outline-none",onClick:()=>S.length>0&&m(y.id),children:y.title}),S.length>0&&f.jsxs("span",{className:"shrink-0 text-[10px] text-muted-foreground font-medium",children:[b,"/",S.length]}),S.length>0&&f.jsx(bl,{size:13,className:ke("shrink-0 text-muted-foreground transition-transform duration-200",w&&"rotate-90")}),f.jsx("span",{className:ke("shrink-0 rounded-full px-2 py-0.5 text-xs font-semibold",x?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"),children:x?"overdue":"high"})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:w?`${S.length*44+8}px`:"0px"},children:f.jsx("div",{className:"ml-10 mt-1 space-y-0.5 pb-1",children:S.map(E=>f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/50 px-3 py-1.5",children:[f.jsx("button",{onClick:()=>r(y.id,E.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:E.completed?f.jsx(tS,{size:14,className:"text-primary"}):f.jsx(rS,{size:14})}),f.jsx("span",{className:ke("text-xs",E.completed&&"line-through text-muted-foreground"),children:E.title})]},E.id))})})]},y.id)}),l.length>o.length&&f.jsxs(Vn,{to:"/tasks",className:"block text-center text-xs text-muted-foreground hover:text-primary pt-1",children:["+",l.length-o.length," more tasks"]})]}):f.jsxs("p",{className:"text-sm text-muted-foreground px-1",children:[l.length," pending task",l.length!==1?"s":"","  no urgent ones right now."," ",f.jsx(Vn,{to:"/tasks",className:"text-primary underline",children:"View all"})]})]})}function gfe(){const{habits:t,todayLogs:e,toggleToday:r}=YV();if(t.length===0)return null;const n=t.filter(a=>e[a.id]).length,i=n===t.length;return f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[f.jsx(Ef,{size:14,className:"text-violet-500"}),"Daily Habits"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[n,"/",t.length," completed today"]})]}),f.jsxs(Vn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Manage ",f.jsx(tg,{size:11})]})]}),i&&f.jsxs("div",{className:"mb-2 flex items-center gap-1.5 rounded-lg bg-violet-50 px-2.5 py-1.5",children:[f.jsx(c3,{size:13,className:"text-violet-600 shrink-0"}),f.jsx("p",{className:"text-xs font-semibold text-violet-700",children:"All habits done for today!"})]}),f.jsx("div",{className:"space-y-1.5",children:t.map(a=>{const o=!!e[a.id];return f.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border bg-background px-3 py-2.5",children:[f.jsx("button",{onClick:()=>r(a.id),className:ke("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all duration-150",o?"bg-violet-500 border-violet-500 text-white scale-105":"border-muted-foreground/40 hover:border-violet-400"),children:o&&f.jsx(Cr,{size:12})}),f.jsx("span",{className:ke("flex-1 text-sm truncate",o&&"line-through text-muted-foreground"),children:a.name}),o&&f.jsx("span",{className:"shrink-0 text-[10px] font-semibold text-violet-500",children:"Done "})]},a.id)})})]})}function yfe({quote:t}){return t?f.jsx("div",{className:"rounded-2xl border border-primary/20 bg-gradient-to-r from-primary/5 to-violet-500/5 p-4 card-shadow",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx(v3,{size:18,className:"text-primary/40 shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium leading-relaxed text-foreground italic",children:t.text}),t.author&&f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[" ",t.author]})]})]})}):null}function vfe({count:t,onAccept:e,onDismiss:r}){return f.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 flex items-start gap-3",children:[f.jsx(Fi,{size:18,className:"text-amber-600 shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"text-sm font-semibold text-amber-800",children:[t," completed task",t!==1?"s":""," older than 7 days"]}),f.jsx("p",{className:"text-xs text-amber-700 mt-0.5",children:"Would you like to delete them to keep your task list clean?"}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("button",{onClick:e,className:"rounded-lg bg-amber-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-amber-700 transition-colors",children:"Delete old tasks"}),f.jsx("button",{onClick:r,className:"rounded-lg border border-amber-300 px-3 py-1.5 text-xs font-medium text-amber-700 hover:bg-amber-100 transition-colors",children:"Keep them"})]})]})]})}function bfe(){var L;const{user:t}=Vi(),{overall:e,subjects:r=[]}=XV(),{today:n=[],date:i,day:a,mark:o,marking:l}=KV(),{tasks:c=[],toggle:d,toggleSubtask:p}=gv({archived:!1}),{exams:m=[]}=LT(),{timetables:y=[]}=Mh(),{subjects:x=[]}=ys(),S=qde(),w=c.filter(W=>!W.completed).length,b=r.filter(W=>W.zone==="risk").length,E=m.filter(W=>!W.archived).length,T=n.filter(W=>!W.alreadyMarked).length,[N,C]=D.useState([]),[k,O]=D.useState(!1);D.useEffect(()=>{if(!c.length)return;const W=Date.now()-10080*60*1e3,Y=c.filter(te=>{if(!te.completed)return!1;const re=te.completedAt??te.updatedAt??te.createdAt??"";return re&&new Date(re).getTime()<W});if(Y.length>0){C(Y.map(re=>re.id));const te="sarasva_cleanup_prompted";sessionStorage.getItem(te)||(sessionStorage.setItem(te,"1"),O(!0))}},[c]);async function P(){O(!1);for(const W of N)try{await La.archive(t.id,W)}catch{}C([])}D.useEffect(()=>{!t||r.length===0||Cm.checkAndAlert(t,r,c)},[t,r,c]),D.useEffect(()=>{const Y=y.filter(re=>re.active).flatMap(re=>re.slots??[]),te=Object.fromEntries(x.map(re=>[re.id,re.name]));Cm.schedulePeriodNotifications(Y,re=>te[re])},[y,x]),D.useEffect(()=>{Cm.scheduleTaskReminders(c)},[c]);const I=D.useMemo(()=>r.map(W=>({name:W.subject.name.length>10?W.subject.name.slice(0,10)+"":W.subject.name,fullName:W.subject.name,percent:W.percent,present:W.present,total:W.total,zone:W.zone,classesNeededFor75:W.classesNeededFor75})),[r]),M=(e==null?void 0:e.percent)??0,U=(e==null?void 0:e.zone)??"risk",$=new Date().getHours(),V=$<12?"Good morning":$<17?"Good afternoon":"Good evening";return f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[V,", ",f.jsx("span",{className:"font-medium text-foreground",children:(L=t==null?void 0:t.name)==null?void 0:L.split(" ")[0]})]})]}),f.jsx(yfe,{quote:S}),f.jsx(ffe,{exams:m}),k&&N.length>0&&f.jsx(vfe,{count:N.length,onAccept:P,onDismiss:()=>O(!1)}),f.jsx(mfe,{tasks:c,toggle:d,toggleSubtask:p}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[f.jsx(_f,{size:14,className:"text-primary"}),"Today's Attendance"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a,", ",i]})]}),f.jsxs(Vn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Full view ",f.jsx(tg,{size:11})]})]}),f.jsx(pfe,{today:n,day:a,mark:o,marking:l})]}),f.jsx(gfe,{}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:grid-cols-4",children:[f.jsx(vm,{icon:_f,label:"Overall Attendance",value:`${M}%`,sub:f.jsx(aF,{zone:U}),iconBg:"bg-blue-50",iconColor:"text-blue-600",to:"/attendance"}),f.jsx(vm,{icon:uG,label:"Subjects at Risk",value:b,sub:b>0?"Need attention":"All safe",iconBg:b>0?"bg-rose-50":"bg-emerald-50",iconColor:b>0?"text-rose-600":"text-emerald-600",to:"/attendance"}),f.jsx(vm,{icon:m3,label:"Pending Tasks",value:w,sub:w>0?`${c.filter(W=>!W.completed&&W.dueDate&&new Date(W.dueDate)<new Date).length} overdue`:"All clear",iconBg:"bg-violet-50",iconColor:"text-violet-600",to:"/tasks"}),f.jsx(vm,{icon:fs,label:"Active Exams",value:E,sub:`${T} class${T!==1?"es":""} unmarked today`,iconBg:"bg-amber-50",iconColor:"text-amber-600",to:"/exams"})]}),f.jsxs("div",{className:"grid gap-4 lg:grid-cols-5",children:[f.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsx("h3",{className:"mb-3 text-sm font-semibold",children:"Overall Attendance"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(cfe,{percent:M,zone:U}),f.jsx("div",{className:"space-y-1.5 text-sm",children:[["Present",(e==null?void 0:e.present)??0],["Total",(e==null?void 0:e.total)??0],["Absent",((e==null?void 0:e.total)??0)-((e==null?void 0:e.present)??0)]].map(([W,Y])=>f.jsxs("div",{className:"flex justify-between gap-6",children:[f.jsx("span",{className:"text-muted-foreground",children:W}),f.jsx("span",{className:"font-semibold",children:Y})]},W))})]})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Below 75% Alert"}),f.jsxs(Vn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Details ",f.jsx(tg,{size:11})]})]}),f.jsx(dfe,{subjects:r})]})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow lg:col-span-3",children:[f.jsx("h3",{className:"mb-4 text-sm font-semibold",children:"Subject-wise Attendance"}),I.length===0?f.jsx("div",{className:"flex h-48 items-center justify-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking classes."}):f.jsx(WJ,{width:"100%",height:220,children:f.jsxs($de,{data:I,margin:{top:4,right:8,left:-20,bottom:0},barSize:28,children:[f.jsx(CV,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),f.jsx(hv,{dataKey:"name",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),f.jsx(pv,{domain:[0,100],tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),f.jsx(lv,{y:75,stroke:"#f59e0b",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:"75%",position:"insideTopRight",fontSize:10,fill:"#f59e0b"}}),f.jsx(ea,{content:f.jsx(ufe,{}),cursor:{fill:"hsl(var(--accent))"}}),f.jsx(Ml,{dataKey:"percent",radius:[6,6,0,0],children:I.map((W,Y)=>f.jsx(By,{fill:W.zone==="safe"?"#10b981":"#f43f5e",fillOpacity:.82},Y))})]})}),f.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-emerald-500"}),"  75% Safe"]}),f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-rose-500"})," < 75% Risk"]}),f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"inline-block h-0.5 w-5 bg-amber-400",style:{borderTop:"1px dashed #f59e0b"}})," 75% line"]})]})]})]})]})}function t4({zone:t}){const e=t==="safe";return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-semibold",e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e?f.jsx(CT,{size:12}):f.jsx(NT,{size:12}),e?"SAFE":"RISK"]})}function r4({percent:t}){const e=t>=75;return f.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:f.jsx("div",{className:ke("h-full rounded-full transition-all",e?"bg-green-500":"bg-red-400"),style:{width:`${Math.min(t,100)}%`}})})}function oF({status:t}){if(!t)return null;const e={present:"bg-green-100 text-green-800",absent:"bg-red-100 text-red-800",cancelled:"bg-yellow-100 text-yellow-800",extra:"bg-blue-100 text-blue-800"};return f.jsx("span",{className:ke("rounded-full px-3 py-1 text-xs font-semibold",e[t]??"bg-muted text-muted-foreground"),children:t.toUpperCase()})}function sF({subjectId:t,marking:e,onMark:r,disabled:n}){return f.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{key:"present",label:"Present",cls:"bg-green-600 hover:bg-green-700 text-white"},{key:"absent",label:"Absent",cls:"bg-red-500 hover:bg-red-600 text-white"},{key:"cancelled",label:"Cancelled",cls:"border border-border text-muted-foreground hover:bg-accent"}].map(({key:i,label:a,cls:o})=>f.jsx("button",{disabled:e===t||n,onClick:()=>r(t,i),className:ke("rounded-md px-3 py-1.5 text-xs font-semibold transition-all duration-150 active:scale-95 disabled:opacity-50",o),children:a},i))})}function xfe({date:t,day:e,today:r,marking:n,onMark:i}){if(r.length===0)return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:["No classes scheduled for today (",e,").",f.jsx("br",{}),f.jsx("span",{className:"text-xs",children:"Add a timetable or set one as active to see scheduled subjects."})]});const a=D.useMemo(()=>{const o=new Map;return r.forEach(l=>{const c=l.timetableId??"__none__";o.has(c)||o.set(c,{name:l.timetableName,items:[]}),o.get(c).items.push(l)}),[...o.values()]},[r]);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("div",{className:"border-b border-border px-4 py-3",children:[f.jsx("h3",{className:"font-semibold",children:"Today's Classes"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[e,", ",t]})]}),f.jsx("div",{children:a.map((o,l)=>f.jsxs("div",{className:ke(l>0&&"border-t border-border"),children:[o.name&&f.jsx("div",{className:"px-4 pt-3 pb-1",children:f.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-primary/70 bg-primary/5 rounded-full px-2 py-0.5",children:o.name})}),f.jsx("div",{className:"divide-y divide-border",children:o.items.map(({subject:c,markedStatus:d,alreadyMarked:p,uniqueKey:m,slot:y})=>f.jsxs("div",{className:"flex flex-col gap-2 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium",children:c.name}),(y==null?void 0:y.startTime)&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[y.startTime,"",y.endTime]})]}),p?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(oF,{status:d}),f.jsx("button",{onClick:()=>i(c.id,d==="present"?"absent":"present"),className:"text-[10px] text-muted-foreground hover:text-foreground underline",children:"change"})]}):f.jsx(sF,{subjectId:c.id,marking:n,onMark:i})]},m))})]},l))})]})}function n4(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`}function wfe(t){if(!t||t.length===0)return null;const e={present:0,absent:0,cancelled:0};t.forEach(n=>{e[n.status]!==void 0&&e[n.status]++});const r=Math.max(e.present,e.absent,e.cancelled);return r===0?null:e.present===r?"present":e.absent===r?"absent":"cancelled"}const i4={present:"bg-green-400",absent:"bg-red-400",cancelled:"bg-yellow-400"},_fe={present:"bg-green-50 border-green-200",absent:"bg-red-50 border-red-200",cancelled:"bg-yellow-50 border-yellow-200"};function Sfe({allRecords:t,timetables:e,subjects:r,onRetroMark:n}){const i=new Date,[a,o]=D.useState(i.getFullYear()),[l,c]=D.useState(i.getMonth()),[d,p]=D.useState(null),m=D.useMemo(()=>{const E={};return t.forEach(T=>{E[T.date]||(E[T.date]=[]),E[T.date].push(T)}),E},[t]),y=D.useMemo(()=>{const E=new Date(a,l,1),T=new Date(a,l+1,0),N=(E.getDay()+6)%7,C=[];for(let k=0;k<N;k++)C.push(null);for(let k=1;k<=T.getDate();k++)C.push(new Date(a,l,k));for(;C.length%7!==0;)C.push(null);return C},[a,l]);function x(){l===0?(o(E=>E-1),c(11)):c(E=>E-1),p(null)}function S(){l===11?(o(E=>E+1),c(0)):c(E=>E+1),p(null)}const w=new Date(a,l,1).toLocaleDateString("en-IN",{month:"long",year:"numeric"}),b=n4(i);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Monthly Calendar"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:x,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(d3,{size:15})}),f.jsx("span",{className:"text-sm font-medium min-w-[130px] text-center",children:w}),f.jsx("button",{onClick:S,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(bl,{size:15})})]})]}),f.jsx("div",{className:"grid grid-cols-7 border-b border-border",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(E=>f.jsx("div",{className:"py-2 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:E},E))}),f.jsx("div",{className:"grid grid-cols-7",children:y.map((E,T)=>{if(!E)return f.jsx("div",{className:"aspect-square"},T);const N=n4(E),C=m[N],k=wfe(C),O=N===b,P=N===d,I=N>b;return f.jsxs("button",{disabled:I,onClick:()=>p(P?null:N),className:ke("aspect-square flex flex-col items-center justify-center gap-0.5 text-xs transition-all duration-150 border border-transparent",I?"opacity-30 cursor-default":"cursor-pointer hover:bg-accent active:scale-95",P&&"ring-2 ring-primary ring-inset",O&&!P&&"font-bold text-primary",k&&!P&&_fe[k]),children:[f.jsx("span",{className:ke("text-xs",O&&"underline underline-offset-2"),children:E.getDate()}),k&&f.jsx("span",{className:ke("h-1.5 w-1.5 rounded-full",i4[k])})]},N)})}),f.jsx("div",{className:"flex items-center gap-3 px-4 py-2 border-t border-border text-xs text-muted-foreground",children:[["present","green","Present"],["absent","red","Absent"],["cancelled","yellow","Cancelled"]].map(([E,T,N])=>f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:ke("h-2 w-2 rounded-full",i4[E])})," ",N]},E))}),d&&f.jsx(Efe,{date:d,timetables:e,subjects:r,existingRecords:m[d]??[],onMark:n,onClose:()=>p(null)})]})}function Efe({date:t,timetables:e,subjects:r,existingRecords:n,onMark:i,onClose:a}){const[o,l]=D.useState(null),[c,d]=D.useState(null),p=new Date(t+"T12:00:00"),m=TE[p.getDay()],y=p.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),x=e.filter(T=>T.active&&!T.archived&&(!T.startDate||T.startDate<=t)),S=x.find(T=>T.id===o)??x[0]??null,w=D.useMemo(()=>S?(S.slots??[]).filter(N=>N.day===m).sort((N,C)=>(N.startTime??"").localeCompare(C.startTime??"")).map(N=>{const C=r.find(k=>k.id===N.subjectId);return C?{subject:C,slot:N}:null}).filter(Boolean):r.map(N=>({subject:N,slot:null})),[S,m,r]),b=D.useMemo(()=>{const T={};return n.forEach(N=>{T[N.subjectId]=N.status}),T},[n]);async function E(T,N){d(T);try{await i(T,N,t)}finally{d(null)}}return f.jsxs("div",{className:"border-t border-border bg-muted/30 p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold",children:y}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Mark attendance for this date"})]}),f.jsx("button",{onClick:a,className:"rounded p-1 hover:bg-accent transition-colors",children:f.jsx(ln,{size:15})})]}),x.length>1&&f.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[f.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"Timetable:"}),x.map(T=>{var N;return f.jsx("button",{onClick:()=>l(T.id),className:ke("rounded-full px-2.5 py-1 text-xs font-medium transition-colors",(o??((N=x[0])==null?void 0:N.id))===T.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"),children:T.name},T.id)})]}),w.length===0?f.jsxs("p",{className:"text-sm text-muted-foreground text-center py-3",children:["No classes scheduled for ",m," in this timetable."]}):f.jsx("div",{className:"space-y-2",children:w.map(({subject:T,slot:N})=>{const C=b[T.id];return f.jsxs("div",{className:"flex flex-col gap-1.5 rounded-lg border border-border bg-background px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium",children:T.name}),(N==null?void 0:N.startTime)&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[N.startTime,"",N.endTime]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[C&&f.jsx(oF,{status:C}),f.jsx(sF,{subjectId:T.id,marking:c,onMark:E})]})]},T.id)})})]})}function Tfe({overall:t,subjects:e}){return e.length===0?f.jsx("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking your classes above."}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(hG,{size:16,className:"text-muted-foreground"}),f.jsx("span",{className:"text-sm font-semibold",children:"Overall Attendance"})]}),f.jsx(t4,{zone:t.zone})]}),f.jsx(r4,{percent:t.percent}),f.jsxs("p",{className:"mt-1.5 text-xs text-muted-foreground",children:[t.present," present / ",t.total," total  ",t.percent,"%"]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:[f.jsx("div",{className:"px-4 py-2.5",children:f.jsx("h3",{className:"text-sm font-semibold",children:"Subject-wise Intelligence"})}),e.map(({subject:r,percent:n,present:i,total:a,zone:o,classesNeededFor75:l})=>f.jsxs("div",{className:"px-4 py-3 space-y-1.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium",children:r.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-semibold",children:[n,"%"]}),f.jsx(t4,{zone:o})]})]}),f.jsx(r4,{percent:n}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[f.jsxs("span",{children:[i," present / ",a," total"]}),o==="risk"&&l>0&&f.jsxs("span",{className:"font-medium text-red-600",children:["Need ",l," consecutive present class",l!==1?"es":""," to reach 75%"]}),o==="safe"&&f.jsx("span",{className:"font-medium text-green-600",children:"On track"})]})]},r.id))]})]})}function Afe(){const{user:t}=Bn(),{date:e,day:r,today:n,error:i,marking:a,mark:o}=KV(),{overall:l,subjects:c,refresh:d}=XV(),{records:p}=zde(),{timetables:m}=Mh(),{subjects:y}=ys({archived:!1});function x(w,b){o(w,b),setTimeout(d,50)}async function S(w,b,E){t&&(await GV.mark(t.id,{subjectId:w,status:b,date:E}),setTimeout(d,50))}return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(_f,{size:24,className:"text-primary"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Attendance"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark today's classes and track your progress."})]})]}),i&&f.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:i}),f.jsx(xfe,{date:e,day:r,today:n??[],marking:a,onMark:x}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Monthly View"}),f.jsx(Sfe,{allRecords:p,timetables:m,subjects:y,onRetroMark:S})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Attendance Intelligence"}),f.jsx(Tfe,{overall:l??{percent:0,present:0,total:0,zone:"risk"},subjects:c??[]})]})]})}const zA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function Pfe({timetableId:t,subjects:e,onAdd:r}){const[n,i]=D.useState({day:"Monday",subjectId:"",startTime:"09:00",endTime:"10:00"}),[a,o]=D.useState("");function l(d,p){i(m=>({...m,[d]:p}))}function c(d){if(d.preventDefault(),!n.subjectId){o("Select a subject.");return}if(n.startTime>=n.endTime){o("End time must be after start time.");return}r(t,n),i(p=>({...p,subjectId:""})),o("")}return f.jsxs("form",{onSubmit:c,className:"space-y-2 rounded-lg bg-muted/50 p-3",children:[f.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Add slot"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[f.jsx("select",{value:n.day,onChange:d=>l("day",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:zA.map(d=>f.jsx("option",{children:d},d))}),f.jsxs("select",{value:n.subjectId,onChange:d=>l("subjectId",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[f.jsx("option",{value:"",children:" Subject "}),e.map(d=>f.jsx("option",{value:d.id,children:d.name},d.id))]}),f.jsx("input",{type:"time",value:n.startTime,onChange:d=>l("startTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"time",value:n.endTime,onChange:d=>l("endTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),a&&f.jsx("p",{className:"text-xs text-destructive",children:a}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[f.jsx(fr,{size:13})," Add slot"]})]})}function jfe({slot:t,subjects:e,onDelete:r}){const n=e.find(i=>i.id===t.subjectId);return f.jsxs("div",{className:"flex items-center justify-between border-b border-border px-1 py-2 last:border-0",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("span",{className:"w-24 font-medium text-muted-foreground",children:t.day}),f.jsx("span",{className:"font-medium",children:(n==null?void 0:n.name)??"Unknown"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.startTime,"  ",t.endTime]})]}),f.jsx("button",{onClick:()=>r(t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Remove slot",children:f.jsx(Fi,{size:14})})]})}function kfe({slots:t,subjects:e}){if(t.length===0)return f.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots yet. Add some below."});const r=zA.filter(i=>t.some(a=>a.day===i)),n=[...new Set(t.map(i=>`${i.startTime??""}${i.endTime??""}`))].sort();return f.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-border bg-muted/50",children:[f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-muted-foreground w-24",children:"Time"}),r.map(i=>f.jsx("th",{className:"px-3 py-2 text-center font-semibold text-muted-foreground",children:i.slice(0,3)},i))]})}),f.jsx("tbody",{children:n.map(i=>{const[a,o]=i.split("");return f.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30",children:[f.jsxs("td",{className:"px-3 py-2 text-muted-foreground font-mono whitespace-nowrap",children:[a,f.jsx("br",{}),f.jsx("span",{className:"text-[10px]",children:o})]}),r.map(l=>{const c=t.find(p=>p.day===l&&`${p.startTime??""}${p.endTime??""}`===i),d=c?e.find(p=>p.id===c.subjectId):null;return f.jsx("td",{className:"px-3 py-2 text-center",children:d?f.jsx("span",{className:"inline-block rounded-md bg-primary/10 px-1.5 py-0.5 text-[11px] font-medium text-primary",children:d.name}):f.jsx("span",{className:"text-muted-foreground/30",children:""})},l)})]},i)})})]})})}function Ife({tt:t,subjects:e,onActivate:r,onArchive:n,onAddSlot:i,onDeleteSlot:a}){const[o,l]=D.useState(!1),[c,d]=D.useState("list");return f.jsxs("div",{className:ke("overflow-hidden rounded-xl border bg-card transition-all",t.active?"border-primary shadow-sm":"border-border"),children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-semibold",children:t.name}),t.active&&f.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary",children:"Active"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.slots.length," slot",t.slots.length!==1?"s":""]}),t.startDate&&f.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(u3,{size:11}),"From ",new Date(t.startDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>r(t.id),className:ke("flex items-center gap-1 rounded-md px-2.5 py-1.5 text-xs font-medium transition-colors",t.active?"text-amber-600 hover:bg-amber-50":"text-primary hover:bg-primary/10"),children:t.active?f.jsxs(f.Fragment,{children:[f.jsx(vG,{size:13})," Deactivate"]}):f.jsxs(f.Fragment,{children:[f.jsx(bG,{size:13})," Activate"]})}),f.jsx("button",{onClick:()=>n(t.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive",children:f.jsx(Fi,{size:15})}),f.jsx("button",{onClick:()=>l(p=>!p),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",children:o?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})})]})]}),o&&f.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[t.slots.length>0&&f.jsxs("div",{className:"flex gap-1 self-start overflow-hidden rounded-lg border border-border text-xs",children:[f.jsxs("button",{onClick:()=>d("list"),className:ke("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[f.jsx(g3,{size:12})," List"]}),f.jsxs("button",{onClick:()=>d("table"),className:ke("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="table"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[f.jsx(eG,{size:12})," Table"]})]}),t.slots.length===0?f.jsx("p",{className:"text-sm text-muted-foreground",children:"No slots yet."}):c==="table"?f.jsx(kfe,{slots:t.slots,subjects:e}):zA.map(p=>{const m=t.slots.filter(y=>y.day===p).sort((y,x)=>(y.startTime??"").localeCompare(x.startTime??""));return m.length>0?f.jsxs("div",{children:[f.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:p}),m.map(y=>f.jsx(jfe,{slot:y,subjects:e,onDelete:x=>a(t.id,x)},y.id))]},p):null}),f.jsx(Pfe,{timetableId:t.id,subjects:e,onAdd:i})]})]})}function Nfe(){const{timetables:t,create:e,activate:r,archive:n,addSlot:i,deleteSlot:a}=Mh(),{subjects:o}=ys({archived:!1}),[l,c]=D.useState(""),[d,p]=D.useState("");function m(w){w.preventDefault();const b=l.trim();b&&(e({name:b,startDate:d||null}),c(""),p(""))}function y(w){confirm("Archive this timetable?")&&n(w)}const x=t.filter(w=>!w.archived),S=x.filter(w=>w.active).length;return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Timetable"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Create timetables and add class slots. Up to 2 timetables can be active at once."})]}),S>=2&&f.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-2 text-sm text-amber-800",children:"2 timetables are active. Activating another will deactivate the oldest one."}),o.length===0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",f.jsx("strong",{children:"Subjects"})," page before creating slots."]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsx("p",{className:"mb-3 text-sm font-semibold",children:"New Timetable"}),f.jsxs("form",{onSubmit:m,className:"space-y-2",children:[f.jsx("input",{value:l,onChange:w=>c(w.target.value),placeholder:'e.g. "Sem 4 Regular"',className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[f.jsx(u3,{size:11})," Start date (optional)"]}),f.jsx("input",{type:"date",value:d,onChange:w=>p(w.target.value),className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 self-end",children:[f.jsx(fr,{size:15})," Create"]})]}),f.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Start date prevents the timetable from applying to dates before it was activated."})]})]}),x.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[f.jsx(Eh,{size:36,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No timetables yet."})]}):f.jsx("div",{className:"space-y-3",children:x.map(w=>f.jsx(Ife,{tt:w,subjects:o,onActivate:r,onArchive:y,onAddSlot:i,onDeleteSlot:a},w.id))})]})}function Cfe({subject:t,onAdd:e,onUpdate:r,onDelete:n}){const[i,a]=D.useState(""),[o,l]=D.useState(null),[c,d]=D.useState(""),[p,m]=D.useState(!1),y=t.chapters??[];function x(b){b.preventDefault();const E=i.trim();E&&(e(t.id,E),a(""),m(!1))}function S(b){l(b.id),d(b.name)}function w(){const b=c.trim();b&&r(t.id,o,b),l(null)}return f.jsxs("div",{className:"border-t border-border bg-muted/30 px-4 pb-3 pt-2 space-y-2",children:[y.length===0?f.jsx("p",{className:"text-xs text-muted-foreground py-1",children:"No chapters added yet."}):f.jsx("div",{className:"space-y-1",children:y.map((b,E)=>o===b.id?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-muted-foreground w-5 text-right",children:[E+1,"."]}),f.jsx("input",{autoFocus:!0,value:c,onChange:T=>d(T.target.value),onKeyDown:T=>{T.key==="Enter"&&w(),T.key==="Escape"&&l(null)},className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{onClick:w,className:"rounded p-1 text-green-600 hover:bg-green-50",children:f.jsx(Cr,{size:14})}),f.jsx("button",{onClick:()=>l(null),className:"rounded p-1 text-muted-foreground hover:bg-accent",children:f.jsx(ln,{size:14})})]},b.id):f.jsxs("div",{className:"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-accent/40 transition-colors group",children:[f.jsxs("span",{className:"text-xs text-muted-foreground w-5 text-right",children:[E+1,"."]}),f.jsx("span",{className:"flex-1 text-sm",children:b.name}),f.jsx("button",{onClick:()=>S(b),className:"rounded p-1 text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-accent hover:text-foreground transition-all",children:f.jsx(Th,{size:12})}),f.jsx("button",{onClick:()=>n(t.id,b.id),className:"rounded p-1 text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",children:f.jsx(Fi,{size:12})})]},b.id))}),p?f.jsxs("form",{onSubmit:x,className:"flex items-center gap-2",children:[f.jsx("input",{autoFocus:!0,value:i,onChange:b=>a(b.target.value),placeholder:"Chapter name",className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",className:"rounded-md bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground hover:opacity-90",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>m(!1),className:"rounded-md border border-border px-2 py-1 text-xs text-muted-foreground hover:bg-accent",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-2.5 py-1 text-xs text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(fr,{size:12})," Add chapter"]})]})}function Ofe(){const{subjects:t,create:e,update:r,archive:n,addChapter:i,updateChapter:a,deleteChapter:o}=ys({archived:!1}),[l,c]=D.useState(""),[d,p]=D.useState(null),[m,y]=D.useState(""),[x,S]=D.useState(new Set),[w,b]=D.useState("");function E(P){P.preventDefault();const I=l.trim();if(I){if(t.find(M=>M.name.toLowerCase()===I.toLowerCase())){b("A subject with this name already exists.");return}e(I),c(""),b("")}}function T(P){p(P.id),y(P.name)}function N(P){const I=m.trim();if(!I){C();return}r(P,{name:I}),p(null)}function C(){p(null),y("")}function k(P){confirm("Archive this subject? It won't appear in attendance or timetable.")&&n(P)}function O(P){S(I=>{const M=new Set(I);return M.has(P)?M.delete(P):M.add(P),M})}return f.jsxs("div",{className:"mx-auto max-w-xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Subjects"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subjects and their chapters. Chapters are used in exam prep."})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[f.jsx("input",{value:l,onChange:P=>{c(P.target.value),b("")},placeholder:"Subject name (e.g. Mathematics)",className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(fr,{size:15})," Add"]})]}),w&&f.jsx("p",{className:"mt-2 text-xs text-destructive",children:w})]}),f.jsx("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:t.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-muted-foreground",children:[f.jsx(JH,{size:32,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No subjects yet. Add one above."})]}):t.map(P=>{const I=P.chapters??[],M=x.has(P.id),U=d===P.id;return f.jsxs("div",{className:"transition-colors",children:[U?f.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[f.jsx("input",{autoFocus:!0,value:m,onChange:$=>y($.target.value),onKeyDown:$=>{$.key==="Enter"&&N(P.id),$.key==="Escape"&&C()},className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background"}),f.jsx("button",{onClick:()=>N(P.id),className:"rounded-md p-1.5 text-green-600 hover:bg-green-50",title:"Save",children:f.jsx(Cr,{size:16})}),f.jsx("button",{onClick:C,className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",title:"Cancel",children:f.jsx(ln,{size:16})})]}):f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 hover:bg-accent/40 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("span",{className:"text-sm font-medium truncate",children:P.name}),I.length>0&&f.jsxs("span",{className:"flex items-center gap-0.5 rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:[f.jsx(g3,{size:9})," ",I.length]})]}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:()=>O(P.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:M?"Collapse chapters":"Manage chapters",children:M?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})}),f.jsx("button",{onClick:()=>T(P),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:"Rename",children:f.jsx(Th,{size:15})}),f.jsx("button",{onClick:()=>k(P.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive",children:f.jsx(Fi,{size:15})})]})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:M?`${(I.length+2)*44+80}px`:"0px"},children:M&&f.jsx(Cfe,{subject:P,onAdd:i,onUpdate:a,onDelete:o})})]},P.id)})}),t.length>0&&f.jsxs("p",{className:"text-right text-xs text-muted-foreground",children:[t.length," subject",t.length!==1?"s":""]})]})}function lF({score:t}){const e=t>60?"high":t>30?"medium":"low";return f.jsxs("span",{className:ke("rounded-full px-2 py-0.5 text-xs font-semibold",e==="high"&&"bg-red-100 text-red-800",e==="medium"&&"bg-amber-100 text-amber-800",e==="low"&&"bg-green-100 text-green-800"),children:["P",t]})}function y1({value:t,color:e="bg-primary"}){return f.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:f.jsx("div",{className:ke("h-full rounded-full transition-all duration-500",e),style:{width:`${t}%`}})})}function Rfe({chapter:t,examId:e,subjectId:r,onUpdate:n,onDelete:i}){const[a,o]=D.useState(!1),[l,c]=D.useState({name:t.name,theoryProgress:t.theoryProgress,practiceProgress:t.practiceProgress,weightage:t.weightage});function d(){n(e,r,t.id,{...l,theoryProgress:Number(l.theoryProgress),practiceProgress:Number(l.practiceProgress),weightage:Number(l.weightage)}),o(!1)}if(a)return f.jsxs("div",{className:"space-y-2 rounded-lg bg-muted/50 p-3 transition-all",children:[f.jsx("input",{autoFocus:!0,value:l.name,onChange:m=>c(y=>({...y,name:m.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",placeholder:"Chapter name"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"theoryProgress",label:"Theory %"},{key:"practiceProgress",label:"Practice %"},{key:"weightage",label:"Weightage"}].map(({key:m,label:y})=>f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:y}),f.jsx("input",{type:"number",min:0,max:m==="weightage"?10:100,value:l[m],onChange:x=>c(S=>({...S,[m]:x.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]},m))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:d,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(Cr,{size:12})," Save"]}),f.jsxs("button",{onClick:()=>o(!1),className:"flex items-center gap-1 rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent transition-colors",children:[f.jsx(ln,{size:12})," Cancel"]})]})]});const p=t.overallProgress>=100;return f.jsxs("div",{className:ke("space-y-1.5 rounded-lg border bg-background p-3 transition-colors",p?"border-green-200 bg-green-50/50":"border-border"),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[p&&f.jsx(Cr,{size:13,className:"text-green-600 shrink-0"}),f.jsx("span",{className:ke("text-sm font-medium",p&&"text-green-800"),children:t.name}),f.jsx(lF,{score:t.priorityScore})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>o(!0),className:"rounded p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:f.jsx(Th,{size:13})}),f.jsx("button",{onClick:()=>i(e,r,t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(Fi,{size:13})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Theory"}),f.jsxs("span",{children:[t.theoryProgress,"%"]})]}),f.jsx(y1,{value:t.theoryProgress,color:"bg-blue-400"})]}),f.jsxs("div",{className:"space-y-0.5",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Practice"}),f.jsxs("span",{children:[t.practiceProgress,"%"]})]}),f.jsx(y1,{value:t.practiceProgress,color:"bg-violet-400"})]})]}),f.jsxs("div",{className:"space-y-0.5",children:[f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[f.jsx("span",{children:"Overall"}),f.jsxs("span",{className:ke("font-semibold",p?"text-green-700":"text-foreground"),children:[t.overallProgress,"%"]})]}),f.jsx(y1,{value:t.overallProgress,color:t.overallProgress>=100?"bg-green-500":t.overallProgress>=75?"bg-green-400":"bg-amber-400"})]})]})}function Mfe({examId:t,subjectId:e,onAdd:r}){const[n,i]=D.useState(!1),[a,o]=D.useState({name:"",theoryProgress:0,practiceProgress:0,weightage:1}),[l,c]=D.useState("");function d(p){if(p.preventDefault(),!a.name.trim()){c("Chapter name is required.");return}r(t,e,{name:a.name.trim(),theoryProgress:Number(a.theoryProgress),practiceProgress:Number(a.practiceProgress),weightage:Number(a.weightage)}),o({name:"",theoryProgress:0,practiceProgress:0,weightage:1}),c(""),i(!1)}return n?f.jsxs("form",{onSubmit:d,className:"space-y-2 rounded-lg border border-border bg-muted/30 p-3",children:[f.jsx("input",{autoFocus:!0,value:a.name,onChange:p=>o(m=>({...m,name:p.target.value})),placeholder:"Chapter name",className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"theoryProgress",label:"Theory %",max:100},{key:"practiceProgress",label:"Practice %",max:100},{key:"weightage",label:"Weight",max:10}].map(({key:p,label:m,max:y})=>f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:m}),f.jsx("input",{type:"number",min:0,max:y,value:a[p],onChange:x=>o(S=>({...S,[p]:x.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]},p))}),l&&f.jsx("p",{className:"text-xs text-destructive",children:l}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(fr,{size:12})," Add"]}),f.jsx("button",{type:"button",onClick:()=>i(!1),className:"rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent transition-colors",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-3 py-1.5 text-xs text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(fr,{size:13})," Add chapter"]})}function Dfe({subjectName:t,onConfirm:e,onClose:r}){const[n,i]=D.useState(7),a=[3,7,14,21,30];return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:f.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-border bg-card p-6 shadow-xl space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"rounded-xl bg-violet-100 p-2",children:f.jsx(Ef,{size:18,className:"text-violet-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Schedule a Review"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[t,"  all chapters done!"]})]})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"When would you like a reminder to revise this subject?"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(o=>f.jsxs("button",{onClick:()=>i(o),className:ke("rounded-full px-3 py-1.5 text-xs font-medium transition-all",n===o?"bg-violet-600 text-white":"bg-muted text-muted-foreground hover:bg-accent"),children:[o," days"]},o))}),f.jsxs("div",{className:"flex gap-2 pt-1",children:[f.jsxs("button",{onClick:()=>e(n),className:"flex-1 flex items-center justify-center gap-1.5 rounded-lg bg-violet-600 py-2 text-sm font-medium text-white hover:bg-violet-700 transition-colors",children:[f.jsx(eS,{size:14})," Remind me in ",n," days"]}),f.jsx("button",{onClick:r,className:"rounded-lg border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-accent transition-colors",children:"Skip"})]})]})})}function Lfe({examSubject:t,allSubjects:e,examId:r,isFirst:n,isLast:i,onRemoveSubject:a,onAddChapter:o,onUpdateChapter:l,onDeleteChapter:c,onMoveSubject:d,onSetDueDate:p,onAddRepeatReminder:m}){const y=e.find(I=>I.id===t.subjectId),x=(y==null?void 0:y.name)??"Unknown",[S,w]=D.useState(!1),[b,E]=D.useState(!1),[T,N]=D.useState(t.dueDate??""),C=t.chapters.length>0&&t.chapters.every(I=>I.overallProgress>=100),k=t.chapters.length===0?0:Math.round(t.chapters.reduce((I,M)=>I+M.overallProgress,0)/t.chapters.length);function O(I){m(x,I),w(!1)}function P(){p(r,t.subjectId,T),E(!1)}return f.jsxs(f.Fragment,{children:[S&&f.jsx(Dfe,{subjectName:x,onConfirm:O,onClose:()=>w(!1)}),f.jsxs("div",{className:"space-y-2 rounded-xl border border-border bg-card/50 p-4 transition-all duration-200",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-0.5 shrink-0",children:[f.jsx("button",{onClick:()=>d(r,t.subjectId,"up"),disabled:n,className:"rounded p-0.5 text-muted-foreground hover:bg-accent hover:text-foreground disabled:opacity-20 transition-colors",title:"Move up",children:f.jsx(XH,{size:13})}),f.jsx("button",{onClick:()=>d(r,t.subjectId,"down"),disabled:i,className:"rounded p-0.5 text-muted-foreground hover:bg-accent hover:text-foreground disabled:opacity-20 transition-colors",title:"Move down",children:f.jsx(KH,{size:13})})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("h4",{className:"text-sm font-semibold",children:x}),C&&f.jsx("span",{className:"rounded-full bg-green-100 px-2 py-0.5 text-[10px] font-semibold text-green-700",children:"Complete "}),t.dueDate&&!C&&f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-semibold text-amber-800",children:[f.jsx(Ha,{size:9}),"Due ",new Date(t.dueDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]}),t.chapters.length>0&&f.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[f.jsx("div",{className:"h-1 flex-1 overflow-hidden rounded-full bg-muted",children:f.jsx("div",{className:ke("h-full rounded-full transition-all duration-500",k>=100?"bg-green-500":k>=60?"bg-amber-400":"bg-primary"),style:{width:`${k}%`}})}),f.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:[k,"%"]})]})]}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("button",{onClick:()=>E(I=>!I),className:"rounded p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:"Set study deadline",children:f.jsx(Ha,{size:13})}),C&&f.jsx("button",{onClick:()=>w(!0),className:"rounded p-1 text-violet-500 hover:bg-violet-50 transition-colors",title:"Schedule revision reminder",children:f.jsx(Ef,{size:13})}),f.jsx("button",{onClick:()=>a(r,t.subjectId),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Remove subject from exam",children:f.jsx(ln,{size:14})})]})]}),b&&f.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-2",children:[f.jsx(Ha,{size:13,className:"text-muted-foreground shrink-0"}),f.jsx("input",{type:"date",value:T,onChange:I=>N(I.target.value),className:"flex-1 bg-transparent text-sm outline-none"}),f.jsx("button",{onClick:P,className:"rounded-md bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:"Set"}),f.jsx("button",{onClick:()=>{N(""),p(r,t.subjectId,""),E(!1)},className:"text-xs text-destructive hover:underline",children:"Clear"})]}),f.jsxs("div",{className:"space-y-2",children:[t.chapters.length===0?f.jsx("p",{className:"text-xs text-muted-foreground",children:"No chapters yet."}):t.chapters.map(I=>f.jsx(Rfe,{chapter:I,examId:r,subjectId:t.subjectId,onUpdate:l,onDelete:c},I.id)),f.jsx(Mfe,{examId:r,subjectId:t.subjectId,onAdd:o})]}),C&&f.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-violet-200 bg-violet-50 px-3 py-2",children:[f.jsx(Ef,{size:13,className:"text-violet-600 shrink-0"}),f.jsx("p",{className:"flex-1 text-xs text-violet-800 font-medium",children:"All chapters complete! Schedule a revision?"}),f.jsx("button",{onClick:()=>w(!0),className:"rounded-md bg-violet-600 px-2.5 py-1 text-xs font-medium text-white hover:bg-violet-700 transition-colors",children:"Remind me"})]})]})]})}function $fe({exam:t,allSubjects:e,onArchive:r,onAddSubject:n,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:l,onMoveSubject:c,onSetDueDate:d,onUpdate:p,onAddRepeatReminder:m}){var V;const[y,x]=D.useState(!1),[S,w]=D.useState(""),[b,E]=D.useState(!1),[T,N]=D.useState(t.name),[C,k]=D.useState(t.examDate??""),O=t.subjects.map(L=>L.subjectId),P=e.filter(L=>!O.includes(L.id)),I=t.examDate?Math.ceil((new Date(t.examDate+"T12:00:00")-new Date)/864e5):null;function M(){if(!S)return;const L=e.find(W=>W.id===S);n(t.id,S,(L==null?void 0:L.chapters)??[]),w("")}function U(){T.trim()&&p(t.id,{name:T.trim(),examDate:C||null}),E(!1)}const $=t.subjects.flatMap(L=>L.chapters.filter(W=>W.priorityScore>40).map(W=>{var Y;return{subject:((Y=e.find(te=>te.id===L.subjectId))==null?void 0:Y.name)??"Unknown",chapter:W.name,score:W.priorityScore}})).sort((L,W)=>W.score-L.score);return f.jsxs("div",{className:ke("overflow-hidden rounded-xl border bg-card transition-shadow",I!==null&&I<=3?"border-rose-300":I!==null&&I<=7?"border-amber-200":"border-border"),children:[b?f.jsxs("div",{className:"space-y-2 border-b border-border px-4 py-3",children:[f.jsx("input",{autoFocus:!0,value:T,onChange:L=>N(L.target.value),placeholder:"Exam name",className:"w-full rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Exam Date:"}),f.jsx("input",{type:"date",value:C,onChange:L=>k(L.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:U,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(Cr,{size:12})," Save"]}),f.jsx("button",{onClick:()=>E(!1),className:"rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent transition-colors",children:"Cancel"})]})]}):f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-semibold",children:t.name}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.subjects.length," subject",t.subjects.length!==1?"s":""]}),t.examDate&&f.jsxs("span",{className:ke("flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",I!==null&&I<=3?"bg-rose-100 text-rose-700":I!==null&&I<=7?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"),children:[f.jsx(Ha,{size:9}),new Date(t.examDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"}),I!==null&&I>=0&&`  ${I}d`,I!==null&&I<0&&"  past"]})]})}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>{N(t.name),k(t.examDate??""),E(!0)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",title:"Edit exam",children:f.jsx(Th,{size:14})}),f.jsx("button",{onClick:()=>{confirm("Archive this exam?")&&r(t.id)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive exam",children:f.jsx(Fi,{size:15})}),f.jsx("button",{onClick:()=>x(L=>!L),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent transition-colors",children:y?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})})]})]}),f.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:y?"9999px":"0px"},children:f.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[$.length>0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[f.jsxs("div",{className:"mb-2 flex items-center gap-1.5 text-xs font-semibold text-amber-800",children:[f.jsx(pG,{size:13})," Needs Attention"]}),f.jsx("ul",{className:"space-y-1",children:$.slice(0,5).map((L,W)=>f.jsxs("li",{className:"flex items-center justify-between text-xs text-amber-900",children:[f.jsxs("span",{children:[L.subject,"  ",L.chapter]}),f.jsx(lF,{score:L.score})]},W))})]}),P.length>0&&f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:S,onChange:L=>w(L.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[f.jsx("option",{value:"",children:" Add a subject "}),P.map(L=>f.jsxs("option",{value:L.id,children:[L.name,(L.chapters??[]).length>0?` (${L.chapters.length} chapters)`:""]},L.id))]}),f.jsxs("button",{onClick:M,disabled:!S,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 disabled:opacity-40 transition-opacity",children:[f.jsx(fr,{size:13})," Add"]})]}),P.length>0&&S&&(((V=e.find(L=>L.id===S))==null?void 0:V.chapters)??[]).length>0&&f.jsx("p",{className:"text-xs text-primary -mt-2",children:"Chapters from this subject will be auto-imported."}),t.subjects.length===0?f.jsx("p",{className:"text-sm text-muted-foreground",children:"No subjects added yet."}):t.subjects.map((L,W)=>f.jsx(Lfe,{examSubject:L,allSubjects:e,examId:t.id,isFirst:W===0,isLast:W===t.subjects.length-1,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:l,onMoveSubject:c,onSetDueDate:d,onAddRepeatReminder:m},L.subjectId))]})})]})}function Vfe(){const{exams:t,create:e,archive:r,update:n,addSubject:i,removeSubject:a,moveSubject:o,setSubjectDueDate:l,addChapter:c,updateChapter:d,deleteChapter:p}=LT(),{subjects:m}=ys({archived:!1}),{create:y}=gv({archived:!1}),[x,S]=D.useState(""),[w,b]=D.useState(""),[E,T]=D.useState(!1);function N(O){O.preventDefault();const P=x.trim();P&&(e({name:P,examDate:w||null}),S(""),b(""),T(!1))}async function C(O,P){const I=new Date;I.setDate(I.getDate()+P);const M=I.toISOString().split("T")[0];try{await y({title:`Revise: ${O}`,description:`Spaced repetition review  ${P} days after completing ${O}`,dueDate:M,priority:"medium"})}catch{}}const k=t.filter(O=>!O.archived);return f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Exam Preparation"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Track theory and practice progress per chapter. Arrange subjects in study order."})]}),m.length===0&&f.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",f.jsx("strong",{children:"Subjects"})," page."]}),E?f.jsx("div",{className:"rounded-xl border border-border bg-card p-4",children:f.jsxs("form",{onSubmit:N,className:"space-y-3",children:[f.jsx("input",{autoFocus:!0,value:x,onChange:O=>S(O.target.value),placeholder:'Exam name (e.g. "Mid Sem 1")',className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("label",{className:"text-xs text-muted-foreground whitespace-nowrap flex items-center gap-1",children:[f.jsx(Ha,{size:12})," Exam Date (optional):"]}),f.jsx("input",{type:"date",value:w,onChange:O=>b(O.target.value),className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(fr,{size:15})," Create"]}),f.jsx("button",{type:"button",onClick:()=>T(!1),className:"rounded-md border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-accent transition-colors",children:"Cancel"})]})]})}):f.jsxs("button",{onClick:()=>T(!0),className:"flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-border py-3 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:[f.jsx(fr,{size:15})," Create New Exam"]}),k.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[f.jsx(fs,{size:36,className:"opacity-30"}),f.jsx("p",{className:"text-sm",children:"No exams yet. Create one above."})]}):f.jsx("div",{className:"space-y-3",children:k.map(O=>f.jsx($fe,{exam:O,allSubjects:m,onArchive:r,onUpdate:(P,I)=>n(P,I),onAddSubject:i,onRemoveSubject:a,onAddChapter:c,onUpdateChapter:d,onDeleteChapter:p,onMoveSubject:o,onSetDueDate:l,onAddRepeatReminder:C},O.id))})]})}const uF=["low","medium","high"];function Ffe({priority:t}){return f.jsx("span",{className:ke("rounded-full px-2 py-0.5 text-xs font-semibold capitalize",t==="high"&&"bg-rose-100 text-rose-700",t==="medium"&&"bg-amber-100 text-amber-700",t==="low"&&"bg-emerald-100 text-emerald-700"),children:t})}function Ufe({task:t,onAdd:e,onToggle:r,onDelete:n}){const[i,a]=D.useState(""),o=D.useRef(null),l=t.subtasks||[],c=l.filter(m=>m.completed).length,d=l.length;function p(m){var x;m.preventDefault();const y=i.trim();y&&(e(t.id,y),a(""),(x=o.current)==null||x.focus())}return f.jsxs("div",{className:"mt-2 ml-8 space-y-1 border-l-2 border-border pl-3 pb-1",children:[l.map(m=>f.jsxs("div",{className:"group flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-muted/60 transition-colors",children:[f.jsx("button",{onClick:()=>r(t.id,m.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:m.completed?f.jsx(tS,{size:15,className:"text-primary"}):f.jsx(rS,{size:15})}),f.jsx("span",{className:ke("flex-1 text-xs leading-snug",m.completed&&"line-through text-muted-foreground"),children:m.title}),f.jsx("button",{onClick:()=>n(t.id,m.id),className:"shrink-0 opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-destructive transition-all",children:f.jsx(ln,{size:12})})]},m.id)),f.jsxs("form",{onSubmit:p,className:"flex items-center gap-2 pt-0.5",children:[f.jsx(fr,{size:13,className:"shrink-0 text-muted-foreground ml-0.5"}),f.jsx("input",{ref:o,value:i,onChange:m=>a(m.target.value),placeholder:"Add a subtask",className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground py-1",onKeyDown:m=>{m.key==="Escape"&&a("")}}),i.trim()&&f.jsx("button",{type:"submit",className:"shrink-0 rounded-md bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary hover:bg-primary/20 transition-colors",children:"Add"})]}),d>0&&f.jsxs("p",{className:"text-[10px] text-muted-foreground pl-1",children:[c,"/",d," completed"]})]})}function a4({task:t,onToggle:e,onArchive:r,onAddSubtask:n,onToggleSubtask:i,onDeleteSubtask:a}){const[o,l]=D.useState(!1),c=t.dueDate&&!t.completed&&new Date(t.dueDate)<new Date,d=t.subtasks||[],p=d.filter(m=>m.completed).length;return f.jsxs("div",{className:ke("transition-colors",t.completed&&"opacity-55"),children:[f.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-muted/40 transition-colors",children:[f.jsx("button",{onClick:()=>e(t.id,t.completed),className:"mt-0.5 shrink-0 text-muted-foreground hover:text-primary transition-colors",title:t.completed?"Mark incomplete":"Mark complete",children:t.completed?f.jsx(OT,{size:17,className:"text-primary"}):f.jsx(lG,{size:17})}),f.jsxs("div",{className:"min-w-0 flex-1 cursor-pointer",onClick:()=>l(m=>!m),children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("p",{className:ke("text-sm font-medium leading-snug",t.completed&&"line-through text-muted-foreground"),children:t.title}),d.length>0&&f.jsxs("span",{className:"rounded-full bg-muted px-1.5 py-0.5 text-[10px] text-muted-foreground font-medium",children:[p,"/",d.length]}),f.jsx(bl,{size:13,className:ke("ml-auto text-muted-foreground transition-transform duration-200",o&&"rotate-90")})]}),t.description&&f.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground truncate",children:t.description}),f.jsxs("div",{className:"mt-1 flex items-center gap-2 flex-wrap",children:[f.jsx(Ffe,{priority:t.priority}),t.dueDate&&f.jsxs("span",{className:ke("text-xs",c?"font-medium text-rose-600":"text-muted-foreground"),children:[c?"Overdue  ":"Due  ",new Date(t.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})]}),f.jsx("button",{onClick:()=>r(t.id),className:"mt-0.5 shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive task",children:f.jsx(Fi,{size:13})})]}),o&&f.jsx("div",{className:"px-4 pb-2",children:f.jsx(Ufe,{task:t,onAdd:n,onToggle:i,onDelete:a})})]})}function Bfe({onCreate:t}){const[e,r]=D.useState(!1),[n,i]=D.useState({title:"",description:"",dueDate:"",priority:"medium"}),[a,o]=D.useState("");function l(d,p){i(m=>({...m,[d]:p}))}function c(d){if(d.preventDefault(),!n.title.trim()){o("Title is required.");return}t({title:n.title.trim(),description:n.description.trim(),dueDate:n.dueDate||null,priority:n.priority}),i({title:"",description:"",dueDate:"",priority:"medium"}),o(""),r(!1)}return f.jsx("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:e?f.jsxs("form",{onSubmit:c,className:"space-y-3",children:[f.jsx("input",{autoFocus:!0,value:n.title,onChange:d=>l("title",d.target.value),placeholder:"Task title",className:"w-full rounded-xl border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),f.jsx("input",{value:n.description,onChange:d=>l("description",d.target.value),placeholder:"Description (optional)",className:"w-full rounded-xl border border-input bg-background px-3 py-1.5 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Due date"}),f.jsx("input",{type:"date",value:n.dueDate,onChange:d=>l("dueDate",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition"})]}),f.jsxs("div",{className:"flex-1 space-y-0.5",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Priority"}),f.jsx("select",{value:n.priority,onChange:d=>l("priority",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",children:uF.map(d=>f.jsx("option",{value:d,className:"capitalize",children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),a&&f.jsx("p",{className:"text-xs text-destructive",children:a}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-xl bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[f.jsx(fr,{size:14})," Add task"]}),f.jsx("button",{type:"button",onClick:()=>{r(!1),o("")},className:"rounded-xl border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>r(!0),className:"flex w-full items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[f.jsx("div",{className:"rounded-lg bg-primary/10 p-1.5",children:f.jsx(fr,{size:14,className:"text-primary"})}),"Add a new task"]})})}function zfe(){const{habits:t,todayLogs:e,addHabit:r,archiveHabit:n,toggleToday:i}=YV(),[a,o]=D.useState(""),[l,c]=D.useState(!1),[d,p]=D.useState(!0);function m(x){x.preventDefault();const S=a.trim();S&&(r(S),o(""),c(!1))}const y=t.filter(x=>e[x.id]).length;return f.jsxs("div",{className:"rounded-2xl border border-border bg-card card-shadow overflow-hidden",children:[f.jsxs("button",{onClick:()=>p(x=>!x),className:"flex w-full items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"rounded-lg bg-violet-100 p-1.5",children:f.jsx(Ef,{size:14,className:"text-violet-600"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-sm font-semibold",children:"Daily Habits"}),t.length>0&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[y,"/",t.length," done today"]})]})]}),d?f.jsx(Il,{size:15,className:"text-muted-foreground"}):f.jsx(kl,{size:15,className:"text-muted-foreground"})]}),d&&f.jsxs("div",{className:"border-t border-border",children:[t.length===0?f.jsx("p",{className:"px-4 py-4 text-sm text-muted-foreground text-center",children:"No daily habits yet. Add one to start tracking!"}):f.jsx("div",{className:"divide-y divide-border",children:t.map(x=>{const S=!!e[x.id];return f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-muted/30 transition-colors",children:[f.jsx("button",{onClick:()=>i(x.id),className:ke("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all",S?"bg-violet-500 border-violet-500 text-white":"border-muted-foreground/40 hover:border-violet-400"),children:S&&f.jsx(Cr,{size:12})}),f.jsx("span",{className:ke("flex-1 text-sm",S&&"line-through text-muted-foreground"),children:x.name}),f.jsx("button",{onClick:()=>n(x.id),className:"shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Remove habit",children:f.jsx(Fi,{size:13})})]},x.id)})}),f.jsx("div",{className:"border-t border-border p-3",children:l?f.jsxs("form",{onSubmit:m,className:"flex items-center gap-2",children:[f.jsx("input",{autoFocus:!0,value:a,onChange:x=>o(x.target.value),placeholder:"Habit name, e.g. Morning exercise",className:"flex-1 rounded-lg border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",onKeyDown:x=>{x.key==="Escape"&&(c(!1),o(""))}}),f.jsx("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground disabled:opacity-50",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{c(!1),o("")},className:"rounded-lg border border-border px-2.5 py-1.5 text-xs text-muted-foreground hover:bg-muted",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1.5 text-xs text-primary font-medium hover:opacity-80 transition-opacity",children:[f.jsx(fr,{size:13})," Add daily habit"]})})]})]})}function qfe(){const{tasks:t,create:e,toggle:r,archive:n,addSubtask:i,toggleSubtask:a,deleteSubtask:o}=gv({archived:!1}),[l,c]=D.useState("all"),[d,p]=D.useState(!1),m=t.filter(b=>!b.completed),y=t.filter(b=>b.completed);function x(b){return l==="all"?b:b.filter(E=>E.priority===l)}const S=x(m),w=x(y);return f.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[f.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tasks"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.length," pending  ",y.length," done"]})]}),f.jsx("div",{className:"flex self-start overflow-hidden rounded-xl border border-border text-xs font-medium bg-card",children:["all",...uF].map(b=>f.jsx("button",{onClick:()=>c(b),className:ke("px-3 py-1.5 capitalize transition-colors",l===b?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:b},b))})]}),f.jsx(Bfe,{onCreate:e}),S.length===0&&l==="all"?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-10 text-muted-foreground",children:[f.jsx(m3,{size:36,className:"opacity-25"}),f.jsx("p",{className:"text-sm",children:"No pending tasks. Add one above."})]}):f.jsx("div",{className:"overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:S.length===0?f.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No ",l," priority tasks pending."]}):S.map(b=>f.jsx(a4,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))}),f.jsx(zfe,{}),y.length>0&&f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>p(b=>!b),className:"flex w-full items-center justify-between rounded-xl px-2 py-2.5 text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:[f.jsxs("span",{children:["Completed (",w.length,")"]}),d?f.jsx(Il,{size:15}):f.jsx(kl,{size:15})]}),d&&f.jsx("div",{className:"mt-1 overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:w.length===0?f.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No completed ",l," priority tasks."]}):w.map(b=>f.jsx(a4,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))})]})]})}const Wfe=[{key:"focusModeEnabled",label:"Focus Mode",desc:"Hide distracting elements during study sessions"},{key:"strictFocusEnabled",label:"Strict Focus",desc:"Lock navigation while focus mode is active"},{key:"motivationEnabled",label:"Motivation Quotes",desc:"Show inspirational quotes on the dashboard"},{key:"analyticsEnabled",label:"Analytics",desc:"Track detailed study and attendance patterns"},{key:"safeModeEnabled",label:"Safe Mode",desc:"Show confirmation dialogs before destructive actions"}];function o4({on:t,disabled:e,onChange:r}){return f.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:r,disabled:e,className:ke("relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t?"bg-primary":"bg-input"),children:f.jsx("span",{className:ke("pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-lg transform transition duration-200 ease-in-out",t?"translate-x-4":"translate-x-0")})})}function bm({title:t,icon:e,children:r,defaultOpen:n=!1}){const[i,a]=D.useState(n);return f.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[f.jsxs("button",{onClick:()=>a(o=>!o),className:"flex w-full items-center justify-between px-5 py-4",children:[f.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[e&&f.jsx(e,{size:14}),t]}),i?f.jsx(Il,{size:16,className:"text-muted-foreground"}):f.jsx(kl,{size:16,className:"text-muted-foreground"})]}),i&&f.jsx("div",{className:"border-t border-border px-5 pb-5 pt-4 space-y-4",children:r})]})}function Hfe(){var ho;const{user:t,refreshUser:e}=Vi(),n=(((ho=Vr.currentUser)==null?void 0:ho.providerData.map(Oe=>Oe.providerId))??[]).includes("password"),[i,a]=D.useState((t==null?void 0:t.avatarColor)??"#6366f1"),[o,l]=D.useState((t==null?void 0:t.avatarEmoji)??null),[c,d]=D.useState(!1),[p,m]=D.useState(!1);async function y(){d(!0);try{await wn.updateAvatar({avatarColor:i,avatarEmoji:o??null}),await e(),m(!0),setTimeout(()=>m(!1),2e3)}finally{d(!1)}}const[x,S]=D.useState(!1),[w,b]=D.useState({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??"",institute:(t==null?void 0:t.institute)??""}),[E,T]=D.useState(!1),[N,C]=D.useState(!1),[k,O]=D.useState("");function P(){b({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??"",institute:(t==null?void 0:t.institute)??""}),S(!0)}async function I(Oe){if(Oe.preventDefault(),!!w.name.trim()){T(!0),O(""),C(!1);try{await wn.updateProfile({name:w.name.trim(),course:w.course.trim(),semester:w.semester.trim(),institute:w.institute.trim()}),await e(),C(!0),S(!1),setTimeout(()=>C(!1),2500)}catch(ze){O(ze.message||"Failed to save.")}finally{T(!1)}}}const[M,U]=D.useState({currentPw:"",newEmail:""}),[$,V]=D.useState(!1),[L,W]=D.useState(!1),[Y,te]=D.useState("");async function re(Oe){Oe.preventDefault(),V(!0),te(""),W(!1);try{await wn.changeEmail(M.currentPw,M.newEmail.trim()),await e(),W(!0),U({currentPw:"",newEmail:""}),setTimeout(()=>W(!1),3e3)}catch(ze){te(ze.code==="auth/wrong-password"?"Incorrect current password.":ze.message)}finally{V(!1)}}const[Q,ae]=D.useState({currentPw:"",newPw:"",confirmPw:""}),[ne,q]=D.useState(!1),[X,de]=D.useState(!1),[se,xe]=D.useState("");async function Re(Oe){if(Oe.preventDefault(),Q.newPw!==Q.confirmPw){xe("Passwords do not match.");return}if(Q.newPw.length<6){xe("Min 6 characters.");return}q(!0),xe(""),de(!1);try{await wn.changePassword(Q.currentPw,Q.newPw),de(!0),ae({currentPw:"",newPw:"",confirmPw:""}),setTimeout(()=>de(!1),3e3)}catch(ze){xe(ze.code==="auth/wrong-password"?"Incorrect current password.":ze.message)}finally{q(!1)}}const[ue,Se]=D.useState({password:"",confirm:""}),[fe,Ee]=D.useState(!1),[Le,pe]=D.useState(!1),[nt,We]=D.useState("");async function gt(Oe){if(Oe.preventDefault(),ue.password!==ue.confirm){We("Passwords do not match.");return}if(ue.password.length<6){We("Min 6 characters.");return}Ee(!0),We(""),pe(!1);try{await wn.addPassword(ue.password),pe(!0),Se({password:"",confirm:""})}catch(ze){We(ze.message||"Failed to set password.")}finally{Ee(!1)}}const[dt,_t]=D.useState((t==null?void 0:t.settings)??{focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0}),[ir,hr]=D.useState(!1),[pr,$t]=D.useState(!1),[me,Xe]=D.useState("");async function Ct(Oe){const ze={...dt,[Oe]:!dt[Oe]};_t(ze),hr(!0),Xe(""),$t(!1);try{await wn.updateSettings(ze),await e(),$t(!0),setTimeout(()=>$t(!1),2e3)}catch(jn){_t(dt),Xe(jn.message||"Failed to save.")}finally{hr(!1)}}const[Kt,Zt]=D.useState(()=>typeof Notification<"u"?Notification.permission:"denied"),[Xt,zn]=D.useState((t==null?void 0:t.notificationsEmail)??!1),[_s,fi]=D.useState(!1),[va,hi]=D.useState(!1);async function Ss(){const Oe=!Xt;zn(Oe),fi(!0),hi(!1);try{await wn.updateNotificationPrefs({notificationsEmail:Oe}),await e(),hi(!0),setTimeout(()=>hi(!1),2e3)}catch{zn(!Oe)}finally{fi(!1)}}return f.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Profile & Settings"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your identity, security, and preferences."})]}),f.jsxs(bm,{title:"Profile Picture",icon:iG,defaultOpen:!0,children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(DT,{user:{name:t==null?void 0:t.name,avatarColor:i,avatarEmoji:o},size:"xl"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Style  pick an emoji or use initials"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:ZG.map((Oe,ze)=>f.jsx("button",{onClick:()=>l(Oe),className:ke("h-10 w-10 rounded-full flex items-center justify-center text-lg transition-all border-2",o===Oe?"border-primary scale-110 shadow-md":"border-transparent bg-muted hover:scale-105"),style:Oe===null?{background:i}:{},title:Oe===null?"Initials":Oe,children:Oe===null?f.jsx("span",{className:"text-white text-[11px] font-bold leading-none",children:((t==null?void 0:t.name)??"?").split(" ").filter(Boolean).slice(0,2).map(jn=>jn[0]).join("").toUpperCase()}):Oe},ze))})]}),!o&&f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Color"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:JG.map(({hex:Oe,label:ze})=>f.jsx("button",{onClick:()=>a(Oe),title:ze,className:ke("h-8 w-8 rounded-full transition-all border-2",i===Oe?"border-foreground scale-110":"border-transparent hover:scale-105"),style:{background:Oe}},Oe))})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:y,disabled:c,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:c?"Saving":"Save"}),p&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(Cr,{size:14})," Saved"]})]})]}),f.jsxs(bm,{title:"Account & Security",icon:tG,children:[f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted/50 px-3 py-2.5 text-sm",children:[f.jsx(rG,{size:14,className:"text-muted-foreground shrink-0"}),f.jsx("span",{className:"text-muted-foreground",children:"Email:"}),f.jsx("span",{className:"font-medium",children:(t==null?void 0:t.email)??""})]}),n&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(YH,{size:11})," Change Email"]}),L&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(Cr,{size:14})," Email updated."]}),Y&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:Y}),f.jsxs("form",{onSubmit:re,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"Current password",required:!0,value:M.currentPw,onChange:Oe=>U(ze=>({...ze,currentPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"email",placeholder:"New email address",required:!0,value:M.newEmail,onChange:Oe=>U(ze=>({...ze,newEmail:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:$,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:$?"Updating":"Update Email"})]}),f.jsx("div",{className:"border-t border-border"})]}),n?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(XI,{size:11})," Change Password"]}),X&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(Cr,{size:14})," Password updated."]}),se&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:se}),f.jsxs("form",{onSubmit:Re,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"Current password",required:!0,value:Q.currentPw,onChange:Oe=>ae(ze=>({...ze,currentPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"New password (min 6 chars)",required:!0,value:Q.newPw,onChange:Oe=>ae(ze=>({...ze,newPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"Confirm new password",required:!0,value:Q.confirmPw,onChange:Oe=>ae(ze=>({...ze,confirmPw:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:ne,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:ne?"Updating":"Update Password"})]})]}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-xs font-semibold text-amber-600 uppercase tracking-wide flex items-center gap-1.5",children:[f.jsx(XI,{size:11})," Set a Password"]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Your account uses Google sign-in only. Set a password to also log in with email."}),Le&&f.jsxs("div",{className:"rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 flex items-center gap-1.5",children:[f.jsx(Cr,{size:14})," Password set."]}),nt&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:nt}),f.jsxs("form",{onSubmit:gt,className:"space-y-2",children:[f.jsx("input",{type:"password",placeholder:"New password",required:!0,value:ue.password,onChange:Oe=>Se(ze=>({...ze,password:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("input",{type:"password",placeholder:"Confirm password",required:!0,value:ue.confirm,onChange:Oe=>Se(ze=>({...ze,confirm:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"}),f.jsx("button",{type:"submit",disabled:fe,className:"rounded-md bg-amber-500 px-4 py-2 text-sm font-semibold text-white hover:opacity-90 disabled:opacity-50 transition-opacity",children:fe?"Setting":"Set Password"})]})]})]}),f.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[f.jsx(sx,{size:14})," Personal Info"]}),x?f.jsx("button",{onClick:()=>{S(!1),O("")},className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent transition-colors",children:f.jsx(ln,{size:15})}):f.jsxs("button",{onClick:P,className:"flex items-center gap-1.5 rounded-md border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:[f.jsx(Th,{size:12})," Edit"]})]}),k&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:k}),x?f.jsxs("form",{onSubmit:I,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(sx,{size:13,className:"text-muted-foreground"})," Full name"]}),f.jsx("input",{autoFocus:!0,required:!0,value:w.name,onChange:Oe=>b(ze=>({...ze,name:Oe.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(fs,{size:13,className:"text-muted-foreground"})," Course"]}),f.jsx("input",{value:w.course,onChange:Oe=>b(ze=>({...ze,course:Oe.target.value})),placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(KI,{size:13,className:"text-muted-foreground"})," Semester"]}),f.jsx("input",{value:w.semester,onChange:Oe=>b(ze=>({...ze,semester:Oe.target.value})),placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium",children:[f.jsx(GI,{size:13,className:"text-muted-foreground"})," Institute"]}),f.jsx("input",{value:w.institute,onChange:Oe=>b(ze=>({...ze,institute:Oe.target.value})),placeholder:"e.g. NIT Calicut",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{type:"submit",disabled:E,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground hover:opacity-90 disabled:opacity-50 transition-opacity",children:E?"Saving":"Save changes"}),f.jsx("button",{type:"button",onClick:()=>{S(!1),O("")},className:"text-sm text-muted-foreground hover:text-foreground",children:"Cancel"})]})]}):f.jsxs("div",{className:"space-y-3",children:[[{icon:sx,label:"Name",value:t==null?void 0:t.name},{icon:fs,label:"Course",value:t==null?void 0:t.course},{icon:KI,label:"Semester",value:t==null?void 0:t.semester},{icon:GI,label:"Institute",value:t==null?void 0:t.institute}].map(({icon:Oe,label:ze,value:jn})=>f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx(Oe,{size:14,className:"text-muted-foreground shrink-0"}),f.jsx("span",{className:"text-muted-foreground w-20 shrink-0",children:ze}),f.jsx("span",{className:"font-medium truncate",children:jn||f.jsx("span",{className:"text-muted-foreground/60 italic text-xs",children:"Not set"})})]},ze)),N&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(Cr,{size:14})," Saved successfully"]})]})]}),f.jsxs(bm,{title:"App Settings",icon:sG,children:[me&&f.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:me}),pr&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(Cr,{size:14})," Settings saved"]}),f.jsx("div",{className:"divide-y divide-border -mx-5 px-5",children:Wfe.map(({key:Oe,label:ze,desc:jn})=>f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:ze}),f.jsx("p",{className:"text-xs text-muted-foreground",children:jn})]}),f.jsx(o4,{on:dt[Oe],disabled:ir,onChange:()=>Ct(Oe)})]},Oe))})]}),f.jsxs(bm,{title:"Notifications",icon:eS,children:[va&&f.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[f.jsx(Cr,{size:14})," Saved"]}),f.jsxs("div",{className:"divide-y divide-border -mx-5 px-5",children:[f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:"Browser Notifications"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:Kt==="granted"?"Enabled  class reminders, task due-day alerts, attendance risk.":Kt==="denied"?"Blocked. Allow in browser/Android system settings.":"Get notified 5 min before each class, task reminders every 2 hrs on due day, and attendance risk alerts."})]}),Kt==="granted"?f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-semibold text-emerald-700",children:[f.jsx(eS,{size:11})," On"]}):Kt==="denied"?f.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-muted px-2.5 py-1 text-xs font-semibold text-muted-foreground",children:[f.jsx(QH,{size:11})," Blocked"]}):f.jsx("button",{onClick:async()=>Zt(await Cm.requestPermission()),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-semibold text-primary-foreground hover:opacity-90",children:"Enable"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-sm font-medium",children:"Email Alerts"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Send alerts to ",f.jsx("span",{className:"font-medium",children:t==null?void 0:t.email}),". Requires EmailJS config."]})]}),f.jsx(o4,{on:Xt,disabled:_s,onChange:Ss})]})]})]})]})}const v1={high:"bg-rose-500",medium:"bg-amber-400",low:"bg-emerald-500"},Gfe={high:"text-rose-600",medium:"text-amber-600",low:"text-emerald-600"},Kfe={high:"bg-rose-50 dark:bg-rose-950/30",medium:"bg-amber-50 dark:bg-amber-950/30",low:"bg-emerald-50 dark:bg-emerald-950/30"},Xfe=["January","February","March","April","May","June","July","August","September","October","November","December"],Yfe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function s4(t){return String(t).padStart(2,"0")}function l4(t,e,r){return`${t}-${s4(e+1)}-${s4(r)}`}function Qfe(){const t=new Date,e=l4(t.getFullYear(),t.getMonth(),t.getDate()),[r,n]=D.useState(t.getFullYear()),[i,a]=D.useState(t.getMonth()),[o,l]=D.useState(e),{tasks:c}=gv({archived:!1}),d=ma(),p=D.useMemo(()=>{var T;const E={};for(const N of c)N.dueDate&&(E[T=N.dueDate]??(E[T]=[])).push(N);return E},[c]),{days:m,firstDow:y}=D.useMemo(()=>{const E=new Date(r,i,1),T=new Date(r,i+1,0).getDate(),N=E.getDay();return{days:Array.from({length:T},(k,O)=>({d:O+1,dateStr:l4(r,i,O+1)})),firstDow:N}},[r,i]);function x(){i===0?(n(E=>E-1),a(11)):a(E=>E-1),l(null)}function S(){i===11?(n(E=>E+1),a(0)):a(E=>E+1),l(null)}const w=o?p[o]??[]:[];function b(E){return E?new Date(E+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"}):""}return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Task Calendar"}),f.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-card px-4 py-3",children:[f.jsx("button",{onClick:x,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(d3,{size:18})}),f.jsxs("span",{className:"text-sm font-semibold",children:[Xfe[i]," ",r]}),f.jsx("button",{onClick:S,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(bl,{size:18})})]}),f.jsx("div",{className:"grid grid-cols-7",children:Yfe.map(E=>f.jsx("div",{className:"py-1 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:E},E))}),f.jsxs("div",{className:"grid grid-cols-7 gap-px overflow-hidden rounded-xl border border-border bg-border",children:[Array.from({length:y}).map((E,T)=>f.jsx("div",{className:"bg-background/60 aspect-square"},`e${T}`)),m.map(({d:E,dateStr:T})=>{const N=p[T]??[],C=T===e,k=T===o,O=[...new Set(N.map(P=>P.priority))].slice(0,3);return f.jsxs("button",{onClick:()=>l(k?null:T),className:`flex min-h-[52px] flex-col items-center bg-background pb-1.5 pt-1 transition-colors hover:bg-accent ${k?"ring-2 ring-inset ring-primary bg-primary/5":""}`,children:[f.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-medium ${C?"bg-primary text-primary-foreground":k?"font-bold":""}`,children:E}),O.length>0&&f.jsx("div",{className:"mt-0.5 flex flex-wrap justify-center gap-0.5",children:O.map(P=>f.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${v1[P]??"bg-muted"}`},P))})]},T)})]}),f.jsx("div",{className:"flex justify-center gap-5",children:Object.entries(v1).map(([E,T])=>f.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[f.jsx("span",{className:`h-2 w-2 rounded-full ${T}`}),E.charAt(0).toUpperCase()+E.slice(1)]},E))}),o&&f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold",children:b(o)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.length," task",w.length!==1?"s":""]})]}),f.jsxs("button",{onClick:()=>d("/tasks"),className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium hover:bg-accent transition-colors",children:[f.jsx(fr,{size:12}),"Add Task"]})]}),w.length===0?f.jsx("p",{className:"py-6 text-center text-xs text-muted-foreground",children:"No tasks due on this day."}):f.jsx("div",{className:"flex flex-col gap-2",children:w.map(E=>f.jsxs("div",{className:`flex items-start gap-2.5 rounded-lg p-2.5 ${Kfe[E.priority]??""} ${E.completed?"opacity-50":""}`,children:[f.jsx("span",{className:`mt-1 h-2 w-2 shrink-0 rounded-full ${v1[E.priority]??"bg-muted"}`}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:`text-sm font-medium leading-snug ${E.completed?"line-through text-muted-foreground":""}`,children:E.title}),E.description&&f.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:E.description}),f.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide ${Gfe[E.priority]??""}`,children:E.priority})]}),E.completed&&f.jsx("span",{className:"shrink-0 text-[10px] text-muted-foreground",children:"Done"})]},E.id))})]})]})}function Jfe(t){return tn(ht,"publicProfiles",t)}function u4(){return An(ht,"friendRequests")}function c4(t){return tn(ht,"friendRequests",t)}const Vd={async upsertPublicProfile(t,{name:e,course:r,institute:n}){const i=e??"";await Di(Jfe(t),{name:i,nameLower:i.toLowerCase(),course:r??"",institute:n??"",uid:t},{merge:!0})},async searchUsers(t){const e=t.toLowerCase();return(await ds(An(ht,"publicProfiles"))).docs.map(n=>n.data()).filter(n=>(n.name??"").toLowerCase().includes(e))},async sendRequest(t,e,r,n,i,a){const o=Sr(u4(),Ut("fromUid","==",t),Ut("toUid","==",i),Ut("status","==","pending"));if(!(await ds(o)).empty)throw new Error("Friend request already sent.");if((await ii(at(t,"friends",i))).exists())throw new Error("Already friends.");await Un(u4(),{fromUid:t,fromName:e,fromCourse:r??"",fromInstitute:n??"",toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()})},async acceptRequest(t,e,r,n,i,a,o){await Di(at(a,"friends",e),{uid:e,name:r,course:n??"",institute:i??"",addedAt:new Date().toISOString()}),await rt(c4(t),{status:"accepted"})},async rejectRequest(t){await rt(c4(t),{status:"rejected"})},async removeFriend(t,e){await r3(at(t,"friends",e))}};function qA(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState([]),[l,c]=D.useState(!0),[d,p]=D.useState(null);D.useEffect(()=>{if(t)return Or(nr(t.id,"friends"),b=>{r(b.docs.map(E=>({id:E.id,...E.data()}))),c(!1)},b=>{p(b.message),c(!1)})},[t]),D.useEffect(()=>{if(!t)return;const b=Sr(An(ht,"friendRequests"),Ut("toUid","==",t.id),Ut("status","==","pending"));return Or(b,E=>{i(E.docs.map(T=>({id:T.id,...T.data()})))})},[t]),D.useEffect(()=>{if(!t)return;const b=Sr(An(ht,"friendRequests"),Ut("fromUid","==",t.id),Ut("status","==","pending"));return Or(b,E=>{o(E.docs.map(T=>({id:T.id,...T.data()})))})},[t]),D.useEffect(()=>{if(!t)return;const b=Sr(An(ht,"friendRequests"),Ut("fromUid","==",t.id),Ut("status","==","accepted"));return Or(b,async E=>{for(const T of E.docs){const N=T.data();(await ii(at(t.id,"friends",N.toUid))).exists()||await Di(at(t.id,"friends",N.toUid),{uid:N.toUid,name:N.toName,course:"",institute:"",addedAt:new Date().toISOString()})}})},[t]);const m=D.useCallback(async b=>{if(!b.trim()||!t)return{results:[],error:null};try{return{results:(await Vd.searchUsers(b.trim())).filter(T=>T.uid!==t.id),error:null}}catch(E){return{results:[],error:E.message}}},[t]),y=D.useCallback(async b=>{if(t)try{await Vd.sendRequest(t.id,t.name,t.course??"",t.institute??"",b.uid,b.name)}catch(E){throw p(E.message),E}},[t]),x=D.useCallback(async b=>{if(t)try{await Vd.acceptRequest(b.id,b.fromUid,b.fromName,b.fromCourse??"",b.fromInstitute??"",t.id,t.name)}catch(E){p(E.message)}},[t]),S=D.useCallback(async b=>{if(t)try{await Vd.rejectRequest(b)}catch(E){p(E.message)}},[t]),w=D.useCallback(async b=>{if(t)try{await Vd.removeFriend(t.id,b)}catch(E){p(E.message)}},[t]);return{friends:e,incomingRequests:n,outgoingRequests:a,loading:l,error:d,searchUsers:m,sendRequest:y,acceptRequest:x,rejectRequest:S,removeFriend:w}}const Fo=t=>tn(ht,"studyGroups",t),Zfe=t=>An(ht,"studyGroups",t,"posts"),d4=()=>An(ht,"groupInvites"),f4=t=>tn(ht,"groupInvites",t),$a={async createGroup(t,e,r){const n=await Un(An(ht,"studyGroups"),{name:r,createdBy:t,memberUids:[t],members:[{uid:t,name:e,joinedAt:new Date().toISOString()}],createdAt:new Date().toISOString()});return await Di(at(t,"groups",n.id),{groupId:n.id,name:r,joinedAt:new Date().toISOString()}),n.id},async inviteToGroup(t,e,r,n,i,a){var c,d;if((d=(c=(await ii(Fo(t))).data())==null?void 0:c.memberUids)!=null&&d.includes(i))throw new Error("Already a member of this group.");if((await ds(Sr(d4(),Ut("groupId","==",t),Ut("toUid","==",i)))).docs.some(p=>p.data().status==="pending"))throw new Error("Invite already sent.");await Un(d4(),{groupId:t,groupName:e,fromUid:r,fromName:n,toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()}),await rt(Fo(t),{pendingInviteUids:Hd(i)})},async acceptGroupInvite(t,e,r,n){var o;const a=((o=(await ii(Fo(e))).data())==null?void 0:o.name)??"";await rt(Fo(e),{memberUids:Hd(r),members:Hd({uid:r,name:n,joinedAt:new Date().toISOString()}),pendingInviteUids:Gd(r)}),await Di(at(r,"groups",e),{groupId:e,name:a,joinedAt:new Date().toISOString()}),await rt(f4(t),{status:"accepted"})},async rejectGroupInvite(t){await rt(f4(t),{status:"rejected"})},async deleteGroup(t,e){const n=(await ii(Fo(t))).data();if(!n)throw new Error("Group not found.");if(n.createdBy!==e)throw new Error("Only the group creator can delete this group.");const i=Z1(ht);(n.memberUids??[]).forEach(a=>{i.delete(at(a,"groups",t))}),i.delete(Fo(t)),await i.commit()},async leaveGroup(t,e){const n=(await ii(Fo(t))).data();if(!n)throw new Error("Group not found.");const i=(n.members??[]).filter(o=>o.uid!==e),a=Z1(ht);a.update(Fo(t),{memberUids:Gd(e),members:i,pendingInviteUids:Gd(e)}),a.delete(at(e,"groups",t)),await a.commit()},async createPost(t,{authorUid:e,authorName:r,type:n,title:i,description:a,date:o,payload:l}){await Un(Zfe(t),{authorUid:e,authorName:r,type:n,title:i,description:a??"",date:o??null,payload:l??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r){await rt(tn(ht,"studyGroups",t,"posts",e),{savedBy:Hd(r)})},async unsavePost(t,e,r){await rt(tn(ht,"studyGroups",t,"posts",e),{savedBy:Gd(r)})}};function cF(){const{user:t}=Bn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState(!0);D.useEffect(()=>{if(t)return Or(nr(t.id,"groups"),x=>{r(x.docs.map(S=>({id:S.id,...S.data()})).sort((S,w)=>(w.joinedAt??"").localeCompare(S.joinedAt??""))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const x=Sr(An(ht,"groupInvites"),Ut("toUid","==",t.id),Ut("status","==","pending"));return Or(x,S=>{i(S.docs.map(w=>({id:w.id,...w.data()})))})},[t]);const l=D.useCallback(async x=>{if(!(!t||!x.trim()))return $a.createGroup(t.id,t.name,x.trim())},[t]),c=D.useCallback(async(x,S,w)=>{if(t)return $a.inviteToGroup(x,S,t.id,t.name,w.uid,w.name)},[t]),d=D.useCallback(async x=>{if(t)return $a.acceptGroupInvite(x.id,x.groupId,t.id,t.name)},[t]),p=D.useCallback(async x=>$a.rejectGroupInvite(x),[]),m=D.useCallback(async x=>{if(t)return $a.deleteGroup(x,t.id)},[t]),y=D.useCallback(async x=>{if(t)return $a.leaveGroup(x,t.id)},[t]);return{myGroups:e,groupInvites:n,loading:a,createGroup:l,inviteToGroup:c,acceptInvite:d,rejectInvite:p,deleteGroup:m,leaveGroup:y}}function ehe(t){const{user:e}=Bn(),[r,n]=D.useState(null),[i,a]=D.useState([]),[o,l]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const p=Or(tn(ht,"studyGroups",t),y=>{y.exists()&&n({id:y.id,...y.data()}),l(!1)}),m=Or(Sr(An(ht,"studyGroups",t,"posts"),e3("createdAt","desc")),y=>{a(y.docs.map(x=>({id:x.id,...x.data()})))});return()=>{p(),m()}},[e,t]);const c=D.useCallback(async p=>{if(!(!e||!t))return $a.createPost(t,{...p,authorUid:e.id,authorName:e.name})},[e,t]),d=D.useCallback(async(p,m)=>{if(!(!e||!t))return m?$a.unsavePost(t,p,e.id):$a.savePost(t,p,e.id)},[e,t]);return{group:r,posts:i,loading:o,createPost:c,toggleSave:d}}function the(t){return t?t.trim().split(/\s+/).map(e=>e[0]).join("").toUpperCase().slice(0,6):""}function b1({course:t,institute:e}){const r=[t,the(e)].filter(Boolean);return r.length?f.jsx("p",{className:"truncate text-xs text-muted-foreground",children:r.join("  ")}):null}function xm({name:t,size:e="md"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="sm"?"h-9 w-9 text-xs":"h-11 w-11 text-sm";return f.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function rhe(){const t=ma(),{friends:e,incomingRequests:r,outgoingRequests:n,loading:i,searchUsers:a,sendRequest:o,acceptRequest:l,rejectRequest:c}=qA(),{myGroups:d,groupInvites:p,createGroup:m,acceptInvite:y,rejectInvite:x}=cF(),[S,w]=D.useState(""),[b,E]=D.useState([]),[T,N]=D.useState(!1),[C,k]=D.useState(null),[O,P]=D.useState({}),I=D.useRef(null),[M,U]=D.useState("friends"),[$,V]=D.useState(!1),[L,W]=D.useState(""),[Y,te]=D.useState("");async function re(se){if(w(se),k(null),clearTimeout(I.current),!se.trim()){E([]);return}I.current=setTimeout(async()=>{N(!0);const{results:xe,error:Re}=await a(se);E(xe),k(Re),N(!1)},400)}async function Q(se){try{await o(se),P(xe=>({...xe,[se.uid]:!0}))}catch{}}async function ae(se){if(se.preventDefault(),!!L.trim()){te("");try{const xe=await m(L);W(""),V(!1),xe&&t(`/ptp/group/${xe}`)}catch(xe){te(xe.message)}}}const ne=S.length>0,q=r.length+p.length;function X(se){return O[se]||n.some(xe=>xe.toUid===se)}function de(se){return e.some(xe=>xe.uid===se)}return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold",children:"Study Peers"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Connect, form study groups, and share resources"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(oG,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),f.jsx("input",{value:S,onChange:se=>re(se.target.value),placeholder:"Search peers by name",className:"w-full rounded-xl border border-border bg-card py-2.5 pl-9 pr-9 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),S&&f.jsx("button",{onClick:()=>{w(""),E([]),k(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:f.jsx(ln,{size:14})})]}),ne&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsx("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Search Results"}),T?f.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"Searching"}):C?f.jsxs("div",{className:"px-4 py-6 text-center",children:[f.jsx("p",{className:"text-sm font-medium text-destructive",children:"Search failed"}),f.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Firestore rules may not be published yet. Go to Firebase Console  Firestore  Rules and publish the rules from ",f.jsx("code",{className:"font-mono",children:"firestore.rules"}),"."]})]}):b.length===0?f.jsxs("div",{className:"px-4 py-6 text-center space-y-1",children:[f.jsxs("p",{className:"text-sm text-muted-foreground",children:['No users found for "',S,'".']}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"The person must open the Sarasva app at least once to appear in search."})]}):f.jsx("div",{className:"divide-y divide-border",children:b.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(xm,{name:se.name}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.name}),f.jsx(b1,{course:se.course,institute:se.institute})]}),de(se.uid)?f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600",children:[f.jsx(mG,{size:14})," Friends"]}):X(se.uid)?f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(nS,{size:13})," Sent"]}):f.jsxs("button",{onClick:()=>Q(se),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground",children:[f.jsx(x3,{size:12})," Add"]})]},se.uid))})]}),f.jsx("div",{className:"flex gap-1 rounded-xl bg-muted p-1",children:[{key:"friends",label:`Friends (${e.length})`},{key:"requests",label:"Requests",badge:q},{key:"groups",label:`Groups (${d.length})`}].map(({key:se,label:xe,badge:Re})=>f.jsxs("button",{onClick:()=>U(se),className:ke("relative flex-1 rounded-lg py-1.5 text-xs font-medium transition-colors",M===se?"bg-card shadow-sm":"text-muted-foreground"),children:[xe,Re>0&&f.jsx("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[9px] font-bold text-white",children:Re})]},se))}),M==="friends"&&f.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:i?f.jsx("p",{className:"py-10 text-center text-sm text-muted-foreground",children:"Loading"}):e.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 py-14",children:[f.jsx(w3,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study peers yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Search above to find classmates"})]}):f.jsx("div",{className:"divide-y divide-border",children:e.map(se=>f.jsxs("button",{onClick:()=>t(`/ptp/friend/${se.uid}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[f.jsx(xm,{name:se.name}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.name}),f.jsx(b1,{course:se.course,institute:se.institute}),f.jsx("p",{className:"text-[10px] text-primary/60 mt-0.5",children:"Tap to view & share"})]}),f.jsx(bl,{size:15,className:"shrink-0 text-muted-foreground"})]},se.id))})}),M==="requests"&&f.jsxs("div",{className:"space-y-3",children:[r.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Friend Requests (",r.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:r.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(xm,{name:se.fromName}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.fromName}),f.jsx(b1,{course:se.fromCourse,institute:se.fromInstitute})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>l(se),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:f.jsx(Cr,{size:14})}),f.jsx("button",{onClick:()=>c(se.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(ln,{size:14})})]})]},se.id))})]}),p.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Group Invites (",p.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:p.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx("div",{className:"flex h-11 w-11 shrink-0 items-center justify-center rounded-full bg-primary/10",children:f.jsx(nf,{size:18,className:"text-primary"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-semibold",children:se.groupName}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Invited by ",se.fromName]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>y(se),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:f.jsx(Cr,{size:14})}),f.jsx("button",{onClick:()=>x(se.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(ln,{size:14})})]})]},se.id))})]}),n.length>0&&f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Sent (",n.length,")"]}),f.jsx("div",{className:"divide-y divide-border",children:n.map(se=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[f.jsx(xm,{name:se.toName}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-medium",children:se.toName}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Request pending"})]}),f.jsx(nS,{size:14,className:"shrink-0 text-muted-foreground"})]},se.id))})]}),r.length===0&&n.length===0&&p.length===0&&f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(yG,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No pending requests"})]})]}),M==="groups"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>{V(se=>!se),te("")},className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",$?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[$?f.jsx(ln,{size:15}):f.jsx(fr,{size:15}),$?"Cancel":"Create Study Group"]}),$&&f.jsxs("form",{onSubmit:ae,className:"flex flex-col gap-2 rounded-xl border border-border bg-card p-4",children:[f.jsx("input",{autoFocus:!0,value:L,onChange:se=>W(se.target.value),placeholder:"Group name e.g. BCA Batch 26",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),Y&&f.jsx("p",{className:"text-xs text-destructive",children:Y}),f.jsx("button",{type:"submit",disabled:!L.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:"Create & Open"})]}),d.length===0&&!$?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(nf,{size:38,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study groups yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a group or accept an invitation"})]}):f.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card divide-y divide-border",children:d.map(se=>f.jsxs("button",{onClick:()=>t(`/ptp/group/${se.groupId}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[f.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:f.jsx(nf,{size:17,className:"text-primary"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"truncate text-sm font-semibold",children:se.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to open"})]}),f.jsx(bl,{size:15,className:"shrink-0 text-muted-foreground"})]},se.id))})]})]})}const AE=[{value:"note",label:"Note",icon:RT,bg:"bg-emerald-100 dark:bg-emerald-950/40",text:"text-emerald-700 dark:text-emerald-400"},{value:"task",label:"Task",icon:IT,bg:"bg-blue-100 dark:bg-blue-950/40",text:"text-blue-700 dark:text-blue-400"},{value:"assignment",label:"Assignment",icon:h3,bg:"bg-purple-100 dark:bg-purple-950/40",text:"text-purple-700 dark:text-purple-400"},{value:"exam_date",label:"Exam Date",icon:Ha,bg:"bg-rose-100 dark:bg-rose-950/40",text:"text-rose-700 dark:text-rose-400"},{value:"exam_pattern",label:"Exam Pattern",icon:fs,bg:"bg-amber-100 dark:bg-amber-950/40",text:"text-amber-700 dark:text-amber-400"},{value:"subject",label:"Subject",icon:Sf,bg:"bg-teal-100 dark:bg-teal-950/40",text:"text-teal-700 dark:text-teal-400"},{value:"timetable",label:"Timetable",icon:Eh,bg:"bg-violet-100 dark:bg-violet-950/40",text:"text-violet-700 dark:text-violet-400"}];function nhe(t){return AE.find(e=>e.value===t)??AE[0]}function x1({name:t,size:e="sm"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="xs"?"h-7 w-7 text-[10px]":"h-9 w-9 text-xs";return f.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function ihe({type:t}){const e=nhe(t),r=e.icon;return f.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold ${e.bg} ${e.text}`,children:[f.jsx(r,{size:10}),e.label]})}function ahe(){var hr,pr,$t;const{groupId:t}=w4(),e=ma(),{user:r}=Vi(),{group:n,posts:i,loading:a,createPost:o,toggleSave:l}=ehe(t),{inviteToGroup:c,deleteGroup:d,leaveGroup:p}=cF(),{friends:m}=qA(),{subjects:y,importSubject:x}=ys(),{timetables:S,importTimetable:w}=Mh(),[b,E]=D.useState(!1),[T,N]=D.useState("note"),[C,k]=D.useState(""),[O,P]=D.useState(""),[I,M]=D.useState(""),[U,$]=D.useState(null),[V,L]=D.useState(""),[W,Y]=D.useState(!1),[te,re]=D.useState(!1),[Q,ae]=D.useState(!1),[ne,q]=D.useState({}),[X,de]=D.useState(""),[se,xe]=D.useState({}),Re=(n==null?void 0:n.createdBy)===(r==null?void 0:r.id),ue=m.filter(me=>{var Xe;return!((Xe=n==null?void 0:n.memberUids)!=null&&Xe.includes(me.uid))});function Se(me){N(me),$(null),(me==="subject"||me==="timetable")&&(k(""),P(""))}function fe(me){const Xe=y.find(Kt=>Kt.id===me.target.value);if(!Xe){k(""),P(""),$(null);return}const Ct=Xe.chapters??[];k(Xe.name),P(Ct.length?Ct.map(Kt=>Kt.name).join(", "):"No chapters yet"),$({name:Xe.name,chapters:Ct})}function Ee(me){const Xe=S.find(Ct=>Ct.id===me.target.value);if(!Xe){k(""),P(""),$(null);return}k(Xe.name),P(`${(Xe.slots??[]).length} time slot(s)`),$({name:Xe.name,slots:Xe.slots??[]})}async function Le(me){if(me.preventDefault(),!!C.trim()&&!((T==="subject"||T==="timetable")&&!U)){L(""),Y(!0);try{await o({type:T,title:C.trim(),description:O.trim(),date:I||null,payload:U}),k(""),P(""),M(""),$(null),E(!1)}catch(Xe){L(Xe.message)}Y(!1)}}async function pe(me){var Ct;const Xe=se[me.id]??((Ct=me.savedBy)==null?void 0:Ct.includes(r==null?void 0:r.id));if(xe(Kt=>({...Kt,[me.id]:!Xe})),await l(me.id,Xe),!Xe)try{me.type==="subject"&&me.payload?await x(me.payload):me.type==="timetable"&&me.payload?await w(me.payload):await La.create(r.id,{title:me.title,description:`[${(n==null?void 0:n.name)??"Group"}] ${me.description}`.trim(),dueDate:me.date??"",priority:me.type==="exam_date"?"high":"medium"})}catch{}}async function nt(me){if(n){de("");try{await c(t,n.name,me),q(Xe=>({...Xe,[me.uid]:!0}))}catch(Xe){de(Xe.message)}}}async function We(){if(confirm(`Delete "${n.name}"? This cannot be undone and will remove the group for all members.`))try{await d(t),e("/ptp")}catch(me){alert(me.message)}}async function gt(){if(confirm(`Leave "${n.name}"?`))try{await p(t),e("/ptp")}catch(me){alert(me.message)}}if(a)return f.jsx("div",{className:"flex h-40 items-center justify-center",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})});if(!n)return f.jsxs("div",{className:"flex flex-col items-center gap-2 py-20",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Group not found."}),f.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const dt=["task","assignment","exam_date"].includes(T),_t=T==="subject",ir=T==="timetable";return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(o3,{size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-lg font-bold truncate",children:n.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[((hr=n.memberUids)==null?void 0:hr.length)??0," member",((pr=n.memberUids)==null?void 0:pr.length)!==1?"s":""]})]}),Re?f.jsxs("button",{onClick:We,className:"flex items-center gap-1 rounded-lg border border-destructive/30 px-2.5 py-1.5 text-xs font-medium text-destructive hover:bg-destructive/10 transition-colors",title:"Delete group",children:[f.jsx(Fi,{size:13})," Delete"]}):f.jsxs("button",{onClick:gt,className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium text-muted-foreground hover:bg-muted transition-colors",title:"Leave group",children:[f.jsx(y3,{size:13})," Leave"]})]}),f.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[f.jsxs("button",{onClick:()=>re(me=>!me),className:"flex w-full items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[f.jsx(w3,{size:14,className:"text-primary"}),"Members (",(($t=n.members)==null?void 0:$t.length)??0,")"]}),te?f.jsx(Il,{size:14,className:"text-muted-foreground"}):f.jsx(kl,{size:14,className:"text-muted-foreground"})]}),te&&f.jsxs("div",{className:"border-t border-border",children:[f.jsx("div",{className:"divide-y divide-border",children:(n.members??[]).map(me=>f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5",children:[f.jsx(x1,{name:me.name,size:"xs"}),f.jsx("p",{className:"flex-1 text-sm",children:me.name}),me.uid===n.createdBy&&f.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:"Admin"})]},me.uid))}),f.jsxs("div",{className:"border-t border-border p-3 space-y-2",children:[f.jsxs("button",{onClick:()=>{ae(me=>!me),de("")},className:"flex items-center gap-1.5 text-xs font-medium text-primary",children:[f.jsx(x3,{size:13}),Q?"Close":"Invite a Friend"]}),Q&&f.jsxs("div",{className:"space-y-1.5",children:[X&&f.jsx("p",{className:"text-xs text-destructive",children:X}),ue.length===0?f.jsx("p",{className:"py-2 text-center text-xs text-muted-foreground",children:"All your friends are already in this group."}):ue.map(me=>f.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted px-3 py-2",children:[f.jsx(x1,{name:me.name,size:"xs"}),f.jsx("span",{className:"flex-1 text-sm",children:me.name}),ne[me.uid]?f.jsx("span",{className:"text-xs text-muted-foreground",children:"Sent"}):f.jsx("button",{onClick:()=>nt(me),className:"rounded-lg bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground",children:"Invite"})]},me.uid))]})]})]})]}),f.jsxs("button",{onClick:()=>E(me=>!me),className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",b?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[b?f.jsx(ln,{size:15}):f.jsx(fr,{size:15}),b?"Cancel":"Share with Group"]}),b&&f.jsxs("form",{onSubmit:Le,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[f.jsx("div",{className:"flex flex-wrap gap-1.5",children:AE.map(me=>{const Xe=T===me.value;return f.jsx("button",{type:"button",onClick:()=>Se(me.value),className:ke("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",Xe?`${me.bg} ${me.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:me.label},me.value)})}),_t&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a subject to share"}),f.jsxs("select",{onChange:fe,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select subject"}),y.map(me=>f.jsxs("option",{value:me.id,children:[me.name,(me.chapters??[]).length>0?` (${me.chapters.length} chapters)`:""]},me.id))]})]}),ir&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a timetable to share"}),f.jsxs("select",{onChange:Ee,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select timetable"}),S.map(me=>f.jsxs("option",{value:me.id,children:[me.name,(me.slots??[]).length>0?` (${me.slots.length} slots)`:""]},me.id))]})]}),(_t||ir)&&C&&f.jsxs("div",{className:"rounded-lg border border-border bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:C}),O&&f.jsxs("span",{className:"ml-1",children:[" ",O]})]}),!_t&&!ir&&f.jsxs(f.Fragment,{children:[f.jsx("input",{autoFocus:!0,value:C,onChange:me=>k(me.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("textarea",{value:O,onChange:me=>P(me.target.value),placeholder:"Details, topics to cover, notes",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),dt&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),f.jsx("input",{type:"date",value:I,onChange:me=>M(me.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),V&&f.jsx("p",{className:"text-xs text-destructive",children:V}),f.jsx("button",{type:"submit",disabled:W||!C.trim()||(_t||ir)&&!U,className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:W?"Sharing":"Share"})]}),i.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(RT,{size:34,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Be the first to share a task, subject, or note"})]}):f.jsx("div",{className:"space-y-3",children:i.map(me=>{var Kt;const Xe=se[me.id]??((Kt=me.savedBy)==null?void 0:Kt.includes(r==null?void 0:r.id)),Ct=me.type==="subject"||me.type==="timetable";return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[f.jsx(ihe,{type:me.type}),f.jsx("p",{className:"text-sm font-semibold leading-snug",children:me.title})]}),f.jsx("button",{onClick:()=>pe(me),className:ke("shrink-0 rounded-lg p-1.5 transition-colors",Xe?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:Xe?Ct?"Already imported":"Saved to my tasks":Ct?"Import to my app":"Save to my tasks",children:Xe?f.jsx(s3,{size:16}):Ct?f.jsx(f3,{size:16}):f.jsx(l3,{size:16})})]}),me.description&&f.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:me.description}),f.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(x1,{name:me.authorName,size:"xs"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:me.authorName})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[me.date&&f.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(me.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),Xe&&f.jsx("span",{className:"text-[10px] font-semibold text-primary",children:Ct?"Imported ":"Saved "})]})]})]},me.id)})})]})}function df(t,e){return[t,e].sort().join("_")}function ohe(t,e){return An(ht,"directChats",df(t,e),"posts")}const w1={async createPost(t,e,{authorUid:r,authorName:n,type:i,title:a,description:o,date:l,payload:c}){const d=df(t,e);await Di(tn(ht,"directChats",d),{memberUids:[t,e].sort(),updatedAt:new Date().toISOString()},{merge:!0}),await Un(ohe(t,e),{authorUid:r,authorName:n,type:i,title:a,description:o??"",date:l??null,payload:c??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r,n){const i=df(t,e);await rt(tn(ht,"directChats",i,"posts",r),{savedBy:Hd(n)})},async unsavePost(t,e,r,n){const i=df(t,e);await rt(tn(ht,"directChats",i,"posts",r),{savedBy:Gd(n)})}};function she(t){const{user:e}=Bn(),[r,n]=D.useState([]),[i,a]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const c=df(e.id,t);return Or(Sr(An(ht,"directChats",c,"posts"),e3("createdAt","desc")),p=>{n(p.docs.map(m=>({id:m.id,...m.data()}))),a(!1)},()=>a(!1))},[e,t]);const o=D.useCallback(async c=>{if(!(!e||!t))return w1.createPost(e.id,t,{...c,authorUid:e.id,authorName:e.name})},[e,t]),l=D.useCallback(async(c,d)=>{if(!(!e||!t))return d?w1.unsavePost(e.id,t,c,e.id):w1.savePost(e.id,t,c,e.id)},[e,t]);return{posts:r,loading:i,createPost:o,toggleSave:l}}const PE=[{value:"note",label:"Note",icon:RT,bg:"bg-emerald-100",text:"text-emerald-700"},{value:"task",label:"Task",icon:IT,bg:"bg-blue-100",text:"text-blue-700"},{value:"assignment",label:"Assignment",icon:h3,bg:"bg-purple-100",text:"text-purple-700"},{value:"exam_date",label:"Exam Date",icon:Ha,bg:"bg-rose-100",text:"text-rose-700"},{value:"exam_pattern",label:"Exam Pattern",icon:fs,bg:"bg-amber-100",text:"text-amber-700"},{value:"subject",label:"Subject",icon:Sf,bg:"bg-teal-100",text:"text-teal-700"},{value:"timetable",label:"Timetable",icon:Eh,bg:"bg-violet-100",text:"text-violet-700"}];function lhe(t){return PE.find(e=>e.value===t)??PE[0]}function h4({name:t,size:e="lg"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="lg"?"h-16 w-16 text-xl":e==="md"?"h-10 w-10 text-sm":"h-8 w-8 text-xs";return f.jsx("div",{className:ke("shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary",n),children:r})}function uhe({type:t}){const e=lhe(t),r=e.icon;return f.jsxs("span",{className:ke("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",e.bg,e.text),children:[f.jsx(r,{size:10}),e.label]})}function che(){const{friendUid:t}=w4(),e=ma(),{user:r}=Vi(),{friends:n,removeFriend:i}=qA(),{posts:a,loading:o,createPost:l,toggleSave:c}=she(t),{subjects:d,importSubject:p}=ys(),{timetables:m,importTimetable:y}=Mh(),x=D.useMemo(()=>n.find(ue=>ue.uid===t),[n,t]),[S,w]=D.useState(!1),[b,E]=D.useState(!1),[T,N]=D.useState("note"),[C,k]=D.useState(""),[O,P]=D.useState(""),[I,M]=D.useState(""),[U,$]=D.useState(null),[V,L]=D.useState(""),[W,Y]=D.useState(!1),[te,re]=D.useState({});async function Q(){if(!S){w(!0);return}await i(t),e("/ptp")}function ae(ue){N(ue),$(null),(ue==="subject"||ue==="timetable")&&(k(""),P(""))}function ne(ue){const Se=d.find(Ee=>Ee.id===ue.target.value);if(!Se){k(""),P(""),$(null);return}const fe=Se.chapters??[];k(Se.name),P(fe.length?fe.map(Ee=>Ee.name).join(", "):"No chapters yet"),$({name:Se.name,chapters:fe})}function q(ue){const Se=m.find(fe=>fe.id===ue.target.value);if(!Se){k(""),P(""),$(null);return}k(Se.name),P(`${(Se.slots??[]).length} time slot(s)`),$({name:Se.name,slots:Se.slots??[]})}async function X(ue){if(ue.preventDefault(),!!C.trim()&&!((T==="subject"||T==="timetable")&&!U)){L(""),Y(!0);try{await l({type:T,title:C.trim(),description:O.trim(),date:I||null,payload:U}),k(""),P(""),M(""),$(null),E(!1)}catch(Se){L(Se.message)}Y(!1)}}async function de(ue){var fe;const Se=te[ue.id]??((fe=ue.savedBy)==null?void 0:fe.includes(r==null?void 0:r.id));if(re(Ee=>({...Ee,[ue.id]:!Se})),await c(ue.id,Se),!Se)try{ue.type==="subject"&&ue.payload?await p(ue.payload):ue.type==="timetable"&&ue.payload?await y(ue.payload):await La.create(r.id,{title:ue.title,description:`[From ${(x==null?void 0:x.name)??"Friend"}] ${ue.description}`.trim(),dueDate:ue.date??"",priority:ue.type==="exam_date"?"high":"medium"})}catch{}}if(!o&&!x)return f.jsxs("div",{className:"mx-auto max-w-md space-y-4 py-20 text-center",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Friend not found or you're no longer connected."}),f.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const se=["task","assignment","exam_date"].includes(T),xe=T==="subject",Re=T==="timetable";return f.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:f.jsx(o3,{size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-lg font-bold truncate",children:(x==null?void 0:x.name)??""}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Study peer"})]})]}),x&&f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 flex items-center gap-4",children:[f.jsx(h4,{name:x.name,size:"lg"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-base font-semibold",children:x.name}),x.course&&f.jsx("p",{className:"text-sm text-muted-foreground",children:x.course}),x.institute&&f.jsx("p",{className:"text-xs text-muted-foreground",children:x.institute})]}),S?f.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[f.jsx("button",{onClick:Q,className:"rounded-lg bg-destructive px-2.5 py-1.5 text-xs font-medium text-destructive-foreground",children:"Confirm"}),f.jsx("button",{onClick:()=>w(!1),className:"rounded-lg border border-border px-2 py-1.5 text-xs text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]}):f.jsx("button",{onClick:Q,title:"Remove friend",className:"rounded-lg border border-destructive/30 p-1.5 text-destructive hover:bg-destructive/10 transition-colors shrink-0",children:f.jsx(gG,{size:15})})]}),f.jsxs("button",{onClick:()=>{E(ue=>!ue),w(!1)},className:ke("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",b?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[b?f.jsx(ln,{size:15}):f.jsx(YI,{size:15}),b?"Cancel":"Share with Friend"]}),b&&f.jsxs("form",{onSubmit:X,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[f.jsx("div",{className:"flex flex-wrap gap-1.5",children:PE.map(ue=>{const Se=T===ue.value;return f.jsx("button",{type:"button",onClick:()=>ae(ue.value),className:ke("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",Se?`${ue.bg} ${ue.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:ue.label},ue.value)})}),xe&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a subject to share"}),f.jsxs("select",{onChange:ne,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select subject"}),d.map(ue=>f.jsxs("option",{value:ue.id,children:[ue.name,(ue.chapters??[]).length>0?` (${ue.chapters.length} chapters)`:""]},ue.id))]})]}),Re&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Pick a timetable to share"}),f.jsxs("select",{onChange:q,defaultValue:"",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"",disabled:!0,children:"Select timetable"}),m.map(ue=>f.jsxs("option",{value:ue.id,children:[ue.name,(ue.slots??[]).length>0?` (${ue.slots.length} slots)`:""]},ue.id))]})]}),(xe||Re)&&C&&f.jsxs("div",{className:"rounded-lg border border-border bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:C}),O&&f.jsxs("span",{className:"ml-1",children:[" ",O]})]}),!xe&&!Re&&f.jsxs(f.Fragment,{children:[f.jsx("input",{autoFocus:!0,value:C,onChange:ue=>k(ue.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("textarea",{value:O,onChange:ue=>P(ue.target.value),placeholder:"Details, notes, tips",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),se&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),f.jsx("input",{type:"date",value:I,onChange:ue=>M(ue.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),V&&f.jsx("p",{className:"text-xs text-destructive",children:V}),f.jsx("button",{type:"submit",disabled:W||!C.trim()||(xe||Re)&&!U,className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:W?"Sharing":"Share"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Shared between you two"}),o?f.jsx("div",{className:"flex h-24 items-center justify-center",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})}):a.length===0?f.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[f.jsx(YI,{size:34,className:"text-muted-foreground/30"}),f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a task, exam tip, subject, or note"})]}):f.jsx("div",{className:"space-y-3",children:a.map(ue=>{var Le;const Se=te[ue.id]??((Le=ue.savedBy)==null?void 0:Le.includes(r==null?void 0:r.id)),fe=ue.authorUid===(r==null?void 0:r.id),Ee=ue.type==="subject"||ue.type==="timetable";return f.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[f.jsx(uhe,{type:ue.type}),f.jsx("p",{className:"text-sm font-semibold leading-snug",children:ue.title})]}),!fe&&f.jsx("button",{onClick:()=>de(ue),className:ke("shrink-0 rounded-lg p-1.5 transition-colors",Se?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:Se?Ee?"Already imported":"Saved to my tasks":Ee?"Import to my app":"Save to my tasks",children:Se?f.jsx(s3,{size:16}):Ee?f.jsx(f3,{size:16}):f.jsx(l3,{size:16})})]}),ue.description&&f.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:ue.description}),f.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(h4,{name:ue.authorName,size:"sm"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:fe?"You":ue.authorName})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[ue.date&&f.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(ue.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),Se&&!fe&&f.jsx("span",{className:"text-[10px] font-semibold text-primary",children:Ee?"Imported ":"Saved "})]})]})]},ue.id)})})]})]})}function dhe({children:t}){const{user:e}=Vi();return(e==null?void 0:e.role)!=="admin"?f.jsxs("div",{className:"flex flex-col items-center gap-4 py-20 text-center",children:[f.jsx(NT,{size:48,className:"text-destructive/40"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-bold",children:"Access Denied"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This area is restricted to admin users."}),f.jsxs("p",{className:"mt-3 text-xs text-muted-foreground max-w-xs mx-auto",children:["To become admin: open Firebase Console  Firestore "," ",f.jsx("code",{className:"font-mono bg-muted px-1 rounded",children:"users/{uid}/profile/data"})," ","and add field ",f.jsx("code",{className:"font-mono bg-muted px-1 rounded",children:'role = "admin"'})]})]})]}):t}function fhe({quote:t,onDelete:e,onToggle:r,onSave:n}){const[i,a]=D.useState(!1),[o,l]=D.useState(t.text),[c,d]=D.useState(t.author??""),[p,m]=D.useState(!1);async function y(){o.trim()&&(m(!0),await n(t.id,{text:o.trim(),author:c.trim()}),m(!1),a(!1))}return f.jsx("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2",children:i?f.jsxs(f.Fragment,{children:[f.jsx("textarea",{value:o,onChange:x=>l(x.target.value),rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("input",{value:c,onChange:x=>d(x.target.value),placeholder:"Author (optional)",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:y,disabled:p||!o.trim(),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground disabled:opacity-50",children:[f.jsx(Cr,{size:12}),p?"Saving":"Save"]}),f.jsxs("button",{onClick:()=>{a(!1),l(t.text),d(t.author??"")},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:bg-muted",children:[f.jsx(ln,{size:12}),"Cancel"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-sm italic text-foreground",children:['"',t.text,'"']}),t.author&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",t.author]}),f.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[f.jsx("button",{onClick:()=>a(!0),className:"rounded-lg border border-border p-1.5 text-muted-foreground hover:bg-accent transition-colors",title:"Edit",children:f.jsx(aG,{size:13})}),f.jsx("button",{onClick:()=>r(t.id,t.active),className:ke("rounded-lg border p-1.5 transition-colors",t.active?"border-emerald-300 text-emerald-600 hover:bg-emerald-50":"border-border text-muted-foreground hover:bg-muted"),title:t.active?"Deactivate":"Activate",children:t.active?f.jsx(fG,{size:13}):f.jsx(dG,{size:13})}),f.jsx("button",{onClick:()=>e(t.id),className:"rounded-lg border border-destructive/30 p-1.5 text-destructive hover:bg-destructive/10 transition-colors",title:"Delete",children:f.jsx(Fi,{size:13})}),f.jsx("span",{className:ke("ml-auto rounded-full px-2 py-0.5 text-[10px] font-semibold",t.active?"bg-emerald-100 text-emerald-700":"bg-muted text-muted-foreground"),children:t.active?"Active":"Inactive"})]})]})})}function hhe({onAdd:t}){const[e,r]=D.useState(""),[n,i]=D.useState(""),[a,o]=D.useState(!1),[l,c]=D.useState(!1);async function d(p){if(p.preventDefault(),!!e.trim()){o(!0);try{await t({text:e.trim(),author:n.trim()}),r(""),i(""),c(!1)}catch{}o(!1)}}return l?f.jsxs("form",{onSubmit:d,className:"rounded-xl border border-primary/30 bg-card p-4 space-y-3",children:[f.jsx("textarea",{autoFocus:!0,value:e,onChange:p=>r(p.target.value),placeholder:"Motivational quote text",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsx("input",{value:n,onChange:p=>i(p.target.value),placeholder:"Author (optional)",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",disabled:a||!e.trim(),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:[f.jsx(Cr,{size:13}),a?"Saving":"Add Quote"]}),f.jsx("button",{type:"button",onClick:()=>{c(!1),r(""),i("")},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-2 text-sm font-medium text-muted-foreground hover:bg-muted",children:"Cancel"})]})]}):f.jsxs("button",{onClick:()=>c(!0),className:"flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-primary/40 py-3 text-sm font-medium text-primary hover:bg-primary/5 transition-colors",children:[f.jsx(fr,{size:15})," Add Quote"]})}function phe(){const{quotes:t,loading:e,refresh:r}=Wde();async function n(c){await Du.add(c),r()}async function i(c){confirm("Delete this quote?")&&(await Du.remove(c),r())}async function a(c,d){await Du.update(c,{active:!d}),r()}async function o(c,d){await Du.update(c,d),r()}const l=t.filter(c=>c.active).length;return f.jsx(dhe,{children:f.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[f.jsx(b3,{size:22,className:"text-primary"})," Admin Panel"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Control motivational quotes and app content."})]}),f.jsxs("div",{className:"rounded-2xl border border-border bg-card p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[f.jsx(v3,{size:16,className:"text-primary"}),"Motivational Quotes"]}),f.jsxs("div",{className:"text-xs text-muted-foreground",children:[l," active  ",t.length," total"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground -mt-2",children:"Active quotes rotate hourly on the dashboard for all users. Add as many as you like."}),e?f.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"Loading"}):f.jsxs("div",{className:"space-y-3",children:[f.jsx(hhe,{onAdd:n}),t.length===0&&f.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No quotes yet. Add some above!"}),t.map(c=>f.jsx(fhe,{quote:c,onDelete:i,onToggle:a,onSave:o},c.id))]})]}),f.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-4 space-y-2",children:[f.jsx("p",{className:"text-sm font-semibold text-amber-800",children:" Admin Setup Reminder"}),f.jsxs("ul",{className:"text-xs text-amber-700 space-y-1 list-disc list-inside",children:[f.jsxs("li",{children:["Firestore security rules: add ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:"quotes"})," collection rules to allow authenticated reads and admin writes."]}),f.jsxs("li",{children:["To add another admin: set ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:'role = "admin"'})," in their profile doc."]}),f.jsxs("li",{children:["Quotes are stored in ",f.jsx("code",{className:"font-mono bg-amber-100 px-0.5 rounded",children:"quotes/{id}"}),"  top-level Firestore collection."]})]})]})]})})}function mhe(){const{loading:t}=Vi();return t?f.jsx("div",{className:"flex h-screen items-center justify-center",children:f.jsx("span",{className:"text-muted-foreground text-sm",children:"Loading..."})}):f.jsxs(mB,{children:[f.jsx(br,{path:"/login",element:f.jsx(uK,{})}),f.jsx(br,{path:"/register",element:f.jsx(cK,{})}),f.jsx(br,{element:f.jsx(lK,{}),children:f.jsxs(br,{element:f.jsx(sK,{}),children:[f.jsx(br,{index:!0,element:f.jsx(E1,{to:"/dashboard",replace:!0})}),f.jsx(br,{path:"/dashboard",element:f.jsx(bfe,{})}),f.jsx(br,{path:"/attendance",element:f.jsx(Afe,{})}),f.jsx(br,{path:"/timetable",element:f.jsx(Nfe,{})}),f.jsx(br,{path:"/subjects",element:f.jsx(Ofe,{})}),f.jsx(br,{path:"/exams",element:f.jsx(Vfe,{})}),f.jsx(br,{path:"/tasks",element:f.jsx(qfe,{})}),f.jsx(br,{path:"/profile",element:f.jsx(Hfe,{})}),f.jsx(br,{path:"/calendar",element:f.jsx(Qfe,{})}),f.jsx(br,{path:"/ptp",element:f.jsx(rhe,{})}),f.jsx(br,{path:"/ptp/group/:groupId",element:f.jsx(ahe,{})}),f.jsx(br,{path:"/ptp/friend/:friendUid",element:f.jsx(che,{})}),f.jsx(br,{path:"/admin",element:f.jsx(phe,{})})]})}),f.jsx(br,{path:"*",element:f.jsx(E1,{to:"/dashboard",replace:!0})})]})}SU.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(SB,{children:f.jsx(qH,{children:f.jsx(mhe,{})})})}));
