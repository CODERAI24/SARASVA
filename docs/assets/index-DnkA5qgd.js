function EF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ab={exports:{}},xf={},Pb={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI;function TF(){if(AI)return Ye;AI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function b(q,K,fe){this.props=q,this.context=K,this.refs=w,this.updater=fe||x}b.prototype.isReactComponent={},b.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=b.prototype;function P(q,K,fe){this.props=q,this.context=K,this.refs=w,this.updater=fe||x}var O=P.prototype=new E;O.constructor=P,S(O,b.prototype),O.isPureReactComponent=!0;var M=Array.isArray,k=Object.prototype.hasOwnProperty,R={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(q,K,fe){var Se,ue={},te=null,be=null;if(K!=null)for(Se in K.ref!==void 0&&(be=K.ref),K.key!==void 0&&(te=""+K.key),K)k.call(K,Se)&&!I.hasOwnProperty(Se)&&(ue[Se]=K[Se]);var Ne=arguments.length-2;if(Ne===1)ue.children=fe;else if(1<Ne){for(var ge=Array(Ne),ke=0;ke<Ne;ke++)ge[ke]=arguments[ke+2];ue.children=ge}if(q&&q.defaultProps)for(Se in Ne=q.defaultProps,Ne)ue[Se]===void 0&&(ue[Se]=Ne[Se]);return{$$typeof:t,type:q,key:te,ref:be,props:ue,_owner:R.current}}function j(q,K){return{$$typeof:t,type:q.type,key:K,ref:q.ref,props:q.props,_owner:q._owner}}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(fe){return K[fe]})}var L=/\/+/g;function $(q,K){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):K.toString(36)}function Y(q,K,fe,Se,ue){var te=typeof q;(te==="undefined"||te==="boolean")&&(q=null);var be=!1;if(q===null)be=!0;else switch(te){case"string":case"number":be=!0;break;case"object":switch(q.$$typeof){case t:case e:be=!0}}if(be)return be=q,ue=ue(be),q=Se===""?"."+$(be,0):Se,M(ue)?(fe="",q!=null&&(fe=q.replace(L,"$&/")+"/"),Y(ue,K,fe,"",function(ke){return ke})):ue!=null&&(U(ue)&&(ue=j(ue,fe+(!ue.key||be&&be.key===ue.key?"":(""+ue.key).replace(L,"$&/")+"/")+q)),K.push(ue)),1;if(be=0,Se=Se===""?".":Se+":",M(q))for(var Ne=0;Ne<q.length;Ne++){te=q[Ne];var ge=Se+$(te,Ne);be+=Y(te,K,fe,ge,ue)}else if(ge=y(q),typeof ge=="function")for(q=ge.call(q),Ne=0;!(te=q.next()).done;)te=te.value,ge=Se+$(te,Ne++),be+=Y(te,K,fe,ge,ue);else if(te==="object")throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return be}function Z(q,K,fe){if(q==null)return q;var Se=[],ue=0;return Y(q,Se,"","",function(te){return K.call(fe,te,ue++)}),Se}function ie(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(fe){(q._status===0||q._status===-1)&&(q._status=1,q._result=fe)},function(fe){(q._status===0||q._status===-1)&&(q._status=2,q._result=fe)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var ae={current:null},X={transition:null},oe={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:X,ReactCurrentOwner:R};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:Z,forEach:function(q,K,fe){Z(q,function(){K.apply(this,arguments)},fe)},count:function(q){var K=0;return Z(q,function(){K++}),K},toArray:function(q){return Z(q,function(K){return K})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ye.Component=b,Ye.Fragment=r,Ye.Profiler=i,Ye.PureComponent=P,Ye.StrictMode=n,Ye.Suspense=c,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ye.act=ne,Ye.cloneElement=function(q,K,fe){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Se=S({},q.props),ue=q.key,te=q.ref,be=q._owner;if(K!=null){if(K.ref!==void 0&&(te=K.ref,be=R.current),K.key!==void 0&&(ue=""+K.key),q.type&&q.type.defaultProps)var Ne=q.type.defaultProps;for(ge in K)k.call(K,ge)&&!I.hasOwnProperty(ge)&&(Se[ge]=K[ge]===void 0&&Ne!==void 0?Ne[ge]:K[ge])}var ge=arguments.length-2;if(ge===1)Se.children=fe;else if(1<ge){Ne=Array(ge);for(var ke=0;ke<ge;ke++)Ne[ke]=arguments[ke+2];Se.children=Ne}return{$$typeof:t,type:q.type,key:ue,ref:te,props:Se,_owner:be}},Ye.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Ye.createElement=C,Ye.createFactory=function(q){var K=C.bind(null,q);return K.type=q,K},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(q){return{$$typeof:u,render:q}},Ye.isValidElement=U,Ye.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:ie}},Ye.memo=function(q,K){return{$$typeof:f,type:q,compare:K===void 0?null:K}},Ye.startTransition=function(q){var K=X.transition;X.transition={};try{q()}finally{X.transition=K}},Ye.unstable_act=ne,Ye.useCallback=function(q,K){return ae.current.useCallback(q,K)},Ye.useContext=function(q){return ae.current.useContext(q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(q){return ae.current.useDeferredValue(q)},Ye.useEffect=function(q,K){return ae.current.useEffect(q,K)},Ye.useId=function(){return ae.current.useId()},Ye.useImperativeHandle=function(q,K,fe){return ae.current.useImperativeHandle(q,K,fe)},Ye.useInsertionEffect=function(q,K){return ae.current.useInsertionEffect(q,K)},Ye.useLayoutEffect=function(q,K){return ae.current.useLayoutEffect(q,K)},Ye.useMemo=function(q,K){return ae.current.useMemo(q,K)},Ye.useReducer=function(q,K,fe){return ae.current.useReducer(q,K,fe)},Ye.useRef=function(q){return ae.current.useRef(q)},Ye.useState=function(q){return ae.current.useState(q)},Ye.useSyncExternalStore=function(q,K,fe){return ae.current.useSyncExternalStore(q,K,fe)},Ye.useTransition=function(){return ae.current.useTransition()},Ye.version="18.3.1",Ye}var PI;function nE(){return PI||(PI=1,Pb.exports=TF()),Pb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II;function AF(){if(II)return xf;II=1;var t=nE(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var h,p={},y=null,x=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)n.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:x,props:p,_owner:i.current}}return xf.Fragment=r,xf.jsx=a,xf.jsxs=a,xf}var OI;function PF(){return OI||(OI=1,Ab.exports=AF()),Ab.exports}var v=PF(),F=nE();const H=ft(F),IF=EF({__proto__:null,default:H},[F]);var Mp={},Ib={exports:{}},an={},Ob={exports:{}},kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function OF(){return kI||(kI=1,(function(t){function e(X,oe){var ne=X.length;X.push(oe);e:for(;0<ne;){var q=ne-1>>>1,K=X[q];if(0<i(K,oe))X[q]=oe,X[ne]=K,ne=q;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var oe=X[0],ne=X.pop();if(ne!==oe){X[0]=ne;e:for(var q=0,K=X.length,fe=K>>>1;q<fe;){var Se=2*(q+1)-1,ue=X[Se],te=Se+1,be=X[te];if(0>i(ue,ne))te<K&&0>i(be,ue)?(X[q]=be,X[te]=ne,q=te):(X[q]=ue,X[Se]=ne,q=Se);else if(te<K&&0>i(be,ne))X[q]=be,X[te]=ne,q=te;else break e}}return oe}function i(X,oe){var ne=X.sortIndex-oe.sortIndex;return ne!==0?ne:X.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],h=1,p=null,y=3,x=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(X){for(var oe=r(f);oe!==null;){if(oe.callback===null)n(f);else if(oe.startTime<=X)n(f),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=r(f)}}function M(X){if(w=!1,O(X),!S)if(r(c)!==null)S=!0,ie(k);else{var oe=r(f);oe!==null&&ae(M,oe.startTime-X)}}function k(X,oe){S=!1,w&&(w=!1,E(C),C=-1),x=!0;var ne=y;try{for(O(oe),p=r(c);p!==null&&(!(p.expirationTime>oe)||X&&!V());){var q=p.callback;if(typeof q=="function"){p.callback=null,y=p.priorityLevel;var K=q(p.expirationTime<=oe);oe=t.unstable_now(),typeof K=="function"?p.callback=K:p===r(c)&&n(c),O(oe)}else n(c);p=r(c)}if(p!==null)var fe=!0;else{var Se=r(f);Se!==null&&ae(M,Se.startTime-oe),fe=!1}return fe}finally{p=null,y=ne,x=!1}}var R=!1,I=null,C=-1,j=5,U=-1;function V(){return!(t.unstable_now()-U<j)}function L(){if(I!==null){var X=t.unstable_now();U=X;var oe=!0;try{oe=I(!0,X)}finally{oe?$():(R=!1,I=null)}}else R=!1}var $;if(typeof P=="function")$=function(){P(L)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=L,$=function(){Z.postMessage(null)}}else $=function(){b(L,0)};function ie(X){I=X,R||(R=!0,$())}function ae(X,oe){C=b(function(){X(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,ie(k))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ne=y;y=oe;try{return X()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=y;y=X;try{return oe()}finally{y=ne}},t.unstable_scheduleCallback=function(X,oe,ne){var q=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?q+ne:q):ne=q,X){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ne+K,X={id:h++,callback:oe,priorityLevel:X,startTime:ne,expirationTime:K,sortIndex:-1},ne>q?(X.sortIndex=ne,e(f,X),r(c)===null&&X===r(f)&&(w?(E(C),C=-1):w=!0,ae(M,ne-q))):(X.sortIndex=K,e(c,X),S||x||(S=!0,ie(k))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var oe=y;return function(){var ne=y;y=oe;try{return X.apply(this,arguments)}finally{y=ne}}}})(kb)),kb}var CI;function kF(){return CI||(CI=1,Ob.exports=OF()),Ob.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI;function CF(){if(NI)return an;NI=1;var t=nE(),e=kF();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(i[s]=l,s=0;s<l.length;s++)n.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function x(s,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,d,g){if(l===null||typeof l>"u"||x(s,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(s,l,d,g,_,A,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=s,this.type=l,this.sanitizeURL=A,this.removeEmptyString=D}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];b[l]=new w(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(E,P);b[l]=new w(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(E,P);b[l]=new w(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(E,P);b[l]=new w(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,l,d,g){var _=b.hasOwnProperty(l)?b[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,_,g)&&(d=null),g||_===null?y(l)&&(d===null?s.removeAttribute(l):s.setAttribute(l,""+d)):_.mustUseProperty?s[_.propertyName]=d===null?_.type===3?!1:"":d:(l=_.attributeName,g=_.attributeNamespace,d===null?s.removeAttribute(l):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?s.setAttributeNS(g,l,d):s.setAttribute(l,d))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),X=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,q;function K(s){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+s}var fe=!1;function Se(s,l){if(!s||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(re){var g=re}Reflect.construct(s,[],l)}else{try{l.call()}catch(re){g=re}s.call(l.prototype)}else{try{throw Error()}catch(re){g=re}s()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var _=re.stack.split(`
`),A=g.stack.split(`
`),D=_.length-1,z=A.length-1;1<=D&&0<=z&&_[D]!==A[z];)z--;for(;1<=D&&0<=z;D--,z--)if(_[D]!==A[z]){if(D!==1||z!==1)do if(D--,z--,0>z||_[D]!==A[z]){var W=`
`+_[D].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=D&&0<=z);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?K(s):""}function ue(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function te(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case R:return"Portal";case j:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case Y:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case U:return(s._context.displayName||"Context")+".Provider";case L:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Z:return l=s.displayName||null,l!==null?l:te(s.type)||"Memo";case ie:l=s._payload,s=s._init;try{return te(s(l))}catch{}}return null}function be(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ne(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ge(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ke(s){var l=ge(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,A=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(D){g=""+D,A.call(this,D)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ve(s){s._valueTracker||(s._valueTracker=ke(s))}function he(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=ge(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function at(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function He(s,l){var d=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function yt(s,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Ne(l.value!=null?l.value:d),s._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function St(s,l){l=l.checked,l!=null&&O(s,"checked",l,!1)}function Gt(s,l){St(s,l);var d=Ne(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?pn(s,l.type,d):l.hasOwnProperty("defaultValue")&&pn(s,l.type,Ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function hn(s,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,d||l===s.value||(s.value=l),s.defaultValue=l}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function pn(s,l,d){(l!=="number"||at(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Qr=Array.isArray;function br(s,l,d,g){if(s=s.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=l.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Ne(d),l=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function mn(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Si(s,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(Qr(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}s._wrapperState={initialValue:Ne(d)}}function to(s,l){var d=Ne(l.value),g=Ne(l.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),l.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),g!=null&&(s.defaultValue=""+g)}function ea(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function tr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?tr(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ro,Oc=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,_){MSApp.execUnsafeLocalFunction(function(){return s(l,d,g,_)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ro.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function ta(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(s){ls.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),ss[l]=ss[s]})});function kc(s,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||ss.hasOwnProperty(s)&&ss[s]?(""+l).trim():l+"px"}function Cc(s,l){s=s.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=kc(d,l[d],g);d==="float"&&(d="cssFloat"),g?s.setProperty(d,_):s[d]=_}}var Nc=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jc(s,l){if(l){if(Nc[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Rc(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function xl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _l=null,On=null,Ei=null;function wl(s){if(s=of(s)){if(typeof _l!="function")throw Error(r(280));var l=s.stateNode;l&&(l=Xh(l),_l(s.stateNode,s.type,l))}}function Ti(s){On?Ei?Ei.push(s):Ei=[s]:On=s}function Mc(){if(On){var s=On,l=Ei;if(Ei=On=null,wl(s),l)for(s=0;s<l.length;s++)wl(l[s])}}function cs(s,l){return s(l)}function Dc(){}var no=!1;function Lc(s,l,d){if(no)return s(l,d);no=!0;try{return cs(s,l,d)}finally{no=!1,(On!==null||Ei!==null)&&(Dc(),Mc())}}function zt(s,l){var d=s.stateNode;if(d===null)return null;var g=Xh(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Sl=!1;if(u)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Sl=!1}function fs(s,l,d,g,_,A,D,z,W){var re=Array.prototype.slice.call(arguments,3);try{l.apply(d,re)}catch(me){this.onError(me)}}var ds=!1,El=null,Yn=!1,$c=null,ev={onError:function(s){ds=!0,El=s}};function Tl(s,l,d,g,_,A,D,z,W){ds=!1,El=null,fs.apply(ev,arguments)}function xh(s,l,d,g,_,A,D,z,W){if(Tl.apply(this,arguments),ds){if(ds){var re=El;ds=!1,El=null}else throw Error(r(198));Yn||(Yn=!0,$c=re)}}function Qn(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function hs(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Jn(s){if(Qn(s)!==s)throw Error(r(188))}function _h(s){var l=s.alternate;if(!l){if(l=Qn(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,g=l;;){var _=d.return;if(_===null)break;var A=_.alternate;if(A===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===A.child){for(A=_.child;A;){if(A===d)return Jn(_),s;if(A===g)return Jn(_),l;A=A.sibling}throw Error(r(188))}if(d.return!==g.return)d=_,g=A;else{for(var D=!1,z=_.child;z;){if(z===d){D=!0,d=_,g=A;break}if(z===g){D=!0,g=_,d=A;break}z=z.sibling}if(!D){for(z=A.child;z;){if(z===d){D=!0,d=A,g=_;break}if(z===g){D=!0,g=A,d=_;break}z=z.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function Vc(s){return s=_h(s),s!==null?Al(s):null}function Al(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Al(s);if(l!==null)return l;s=s.sibling}return null}var Pl=e.unstable_scheduleCallback,Fc=e.unstable_cancelCallback,wh=e.unstable_shouldYield,tv=e.unstable_requestPaint,vt=e.unstable_now,Sh=e.unstable_getCurrentPriorityLevel,ps=e.unstable_ImmediatePriority,ra=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,Uc=e.unstable_LowPriority,Eh=e.unstable_IdlePriority,ms=null,gn=null;function Th(s){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ms,s,void 0,(s.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:Ph,Bc=Math.log,Ah=Math.LN2;function Ph(s){return s>>>=0,s===0?32:31-(Bc(s)/Ah|0)|0}var Il=64,Ol=4194304;function na(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function gs(s,l){var d=s.pendingLanes;if(d===0)return 0;var g=0,_=s.suspendedLanes,A=s.pingedLanes,D=d&268435455;if(D!==0){var z=D&~_;z!==0?g=na(z):(A&=D,A!==0&&(g=na(A)))}else D=d&~_,D!==0?g=na(D):A!==0&&(g=na(A));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,A=l&-l,_>=A||_===16&&(A&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)d=31-Br(l),_=1<<d,g|=s[d],l&=~_;return g}function rv(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,A=s.pendingLanes;0<A;){var D=31-Br(A),z=1<<D,W=_[D];W===-1?((z&d)===0||(z&g)!==0)&&(_[D]=rv(z,l)):W<=l&&(s.expiredLanes|=z),A&=~z}}function yn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ys(){var s=Il;return Il<<=1,(Il&4194240)===0&&(Il=64),s}function ia(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function oa(s,l,d){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Br(l),s[l]=d}function pt(s,l){var d=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<d;){var _=31-Br(d),A=1<<_;l[_]=0,g[_]=-1,s[_]=-1,d&=~A}}function aa(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-Br(d),_=1<<g;_&l|s[g]&l&&(s[g]|=l),d&=~_}}var Ze=0;function sa(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ih,kl,Oh,kh,Ch,zc=!1,Ai=[],xr=null,Zn=null,ei=null,la=new Map,Cn=new Map,Pi=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nh(s,l){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":la.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(l.pointerId)}}function Jr(s,l,d,g,_,A){return s===null||s.nativeEvent!==A?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:A,targetContainers:[_]},l!==null&&(l=of(l),l!==null&&kl(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function iv(s,l,d,g,_){switch(l){case"focusin":return xr=Jr(xr,s,l,d,g,_),!0;case"dragenter":return Zn=Jr(Zn,s,l,d,g,_),!0;case"mouseover":return ei=Jr(ei,s,l,d,g,_),!0;case"pointerover":var A=_.pointerId;return la.set(A,Jr(la.get(A)||null,s,l,d,g,_)),!0;case"gotpointercapture":return A=_.pointerId,Cn.set(A,Jr(Cn.get(A)||null,s,l,d,g,_)),!0}return!1}function jh(s){var l=ws(s.target);if(l!==null){var d=Qn(l);if(d!==null){if(l=d.tag,l===13){if(l=hs(d),l!==null){s.blockedOn=l,Ch(s.priority,function(){Oh(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function oo(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=Cl(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);us=g,d.target.dispatchEvent(g),us=null}else return l=of(d),l!==null&&kl(l),s.blockedOn=d,!1;l.shift()}return!0}function vs(s,l,d){oo(s)&&d.delete(l)}function Rh(){zc=!1,xr!==null&&oo(xr)&&(xr=null),Zn!==null&&oo(Zn)&&(Zn=null),ei!==null&&oo(ei)&&(ei=null),la.forEach(vs),Cn.forEach(vs)}function ti(s,l){s.blockedOn===l&&(s.blockedOn=null,zc||(zc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rh)))}function ri(s){function l(_){return ti(_,s)}if(0<Ai.length){ti(Ai[0],s);for(var d=1;d<Ai.length;d++){var g=Ai[d];g.blockedOn===s&&(g.blockedOn=null)}}for(xr!==null&&ti(xr,s),Zn!==null&&ti(Zn,s),ei!==null&&ti(ei,s),la.forEach(l),Cn.forEach(l),d=0;d<Pi.length;d++)g=Pi[d],g.blockedOn===s&&(g.blockedOn=null);for(;0<Pi.length&&(d=Pi[0],d.blockedOn===null);)jh(d),d.blockedOn===null&&Pi.shift()}var ao=M.ReactCurrentBatchConfig,ua=!0;function kt(s,l,d,g){var _=Ze,A=ao.transition;ao.transition=null;try{Ze=1,qc(s,l,d,g)}finally{Ze=_,ao.transition=A}}function ov(s,l,d,g){var _=Ze,A=ao.transition;ao.transition=null;try{Ze=4,qc(s,l,d,g)}finally{Ze=_,ao.transition=A}}function qc(s,l,d,g){if(ua){var _=Cl(s,l,d,g);if(_===null)gv(s,l,g,bs,d),Nh(s,g);else if(iv(_,s,l,d,g))g.stopPropagation();else if(Nh(s,g),l&4&&-1<nv.indexOf(s)){for(;_!==null;){var A=of(_);if(A!==null&&Ih(A),A=Cl(s,l,d,g),A===null&&gv(s,l,g,bs,d),A===_)break;_=A}_!==null&&g.stopPropagation()}else gv(s,l,g,null,d)}}var bs=null;function Cl(s,l,d,g){if(bs=null,s=xl(g),s=ws(s),s!==null)if(l=Qn(s),l===null)s=null;else if(d=l.tag,d===13){if(s=hs(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return bs=s,null}function Wc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sh()){case ps:return 1;case ra:return 4;case kn:case Uc:return 16;case Eh:return 536870912;default:return 16}default:return 16}}var vn=null,Nl=null,Zr=null;function Hc(){if(Zr)return Zr;var s,l=Nl,d=l.length,g,_="value"in vn?vn.value:vn.textContent,A=_.length;for(s=0;s<d&&l[s]===_[s];s++);var D=d-s;for(g=1;g<=D&&l[d-g]===_[A-g];g++);return Zr=_.slice(s,1<g?1-g:void 0)}function jl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function Gc(){return!1}function _r(s){function l(d,g,_,A,D){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(d=s[z],this[z]=d?d(A):A[z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ii:Gc,this.isPropagationStopped=Gc,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),l}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=_r(ni),Oi=ne({},ni,{view:0,detail:0}),av=_r(Oi),Ml,so,ca,xs=ne({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ca&&(ca&&s.type==="mousemove"?(Ml=s.screenX-ca.screenX,so=s.screenY-ca.screenY):so=Ml=0,ca=s),Ml)},movementY:function(s){return"movementY"in s?s.movementY:so}}),Dl=_r(xs),Kc=ne({},xs,{dataTransfer:0}),Mh=_r(Kc),Ll=ne({},Oi,{relatedTarget:0}),$l=_r(Ll),Dh=ne({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=_r(Dh),Lh=ne({},ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$h=_r(Lh),Vh=ne({},ni,{data:0}),Xc=_r(Vh),Vl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uh(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Fh[s])?!!l[s]:!1}function ki(){return Uh}var m=ne({},Oi,{key:function(s){if(s.key){var l=Vl[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=jl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(s){return s.type==="keypress"?jl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?jl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T=_r(m),N=ne({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=_r(N),Q=ne({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),se=_r(Q),xe=ne({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=_r(xe),nr=ne({},xs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),et=_r(nr),fr=[9,13,27,32],Kt=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var bn=u&&"TextEvent"in window&&!Nn,_s=u&&(!Kt||Nn&&8<Nn&&11>=Nn),Fl=" ",xA=!1;function _A(s,l){switch(s){case"keyup":return fr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ul=!1;function _6(s,l){switch(s){case"compositionend":return wA(l);case"keypress":return l.which!==32?null:(xA=!0,Fl);case"textInput":return s=l.data,s===Fl&&xA?null:s;default:return null}}function w6(s,l){if(Ul)return s==="compositionend"||!Kt&&_A(s,l)?(s=Hc(),Zr=Nl=vn=null,Ul=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _s&&l.locale!=="ko"?null:l.data;default:return null}}var S6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SA(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!S6[s.type]:l==="textarea"}function EA(s,l,d,g){Ti(g),l=Hh(l,"onChange"),0<l.length&&(d=new Rl("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var Yc=null,Qc=null;function E6(s){BA(s,0)}function Bh(s){var l=Hl(s);if(he(l))return s}function T6(s,l){if(s==="change")return l}var TA=!1;if(u){var sv;if(u){var lv="oninput"in document;if(!lv){var AA=document.createElement("div");AA.setAttribute("oninput","return;"),lv=typeof AA.oninput=="function"}sv=lv}else sv=!1;TA=sv&&(!document.documentMode||9<document.documentMode)}function PA(){Yc&&(Yc.detachEvent("onpropertychange",IA),Qc=Yc=null)}function IA(s){if(s.propertyName==="value"&&Bh(Qc)){var l=[];EA(l,Qc,s,xl(s)),Lc(E6,l)}}function A6(s,l,d){s==="focusin"?(PA(),Yc=l,Qc=d,Yc.attachEvent("onpropertychange",IA)):s==="focusout"&&PA()}function P6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bh(Qc)}function I6(s,l){if(s==="click")return Bh(l)}function O6(s,l){if(s==="input"||s==="change")return Bh(l)}function k6(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ii=typeof Object.is=="function"?Object.is:k6;function Jc(s,l){if(ii(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!c.call(l,_)||!ii(s[_],l[_]))return!1}return!0}function OA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kA(s,l){var d=OA(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=OA(d)}}function CA(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?CA(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function NA(){for(var s=window,l=at();l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=at(s.document)}return l}function uv(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function C6(s){var l=NA(),d=s.focusedElem,g=s.selectionRange;if(l!==d&&d&&d.ownerDocument&&CA(d.ownerDocument.documentElement,d)){if(g!==null&&uv(d)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(s,d.value.length);else if(s=(l=d.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var _=d.textContent.length,A=Math.min(g.start,_);g=g.end===void 0?A:Math.min(g.end,_),!s.extend&&A>g&&(_=g,g=A,A=_),_=kA(d,A);var D=kA(d,g);_&&D&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==D.node||s.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),s.removeAllRanges(),A>g?(s.addRange(l),s.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),s.addRange(l)))}}for(l=[],s=d;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)s=l[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var N6=u&&"documentMode"in document&&11>=document.documentMode,Bl=null,cv=null,Zc=null,fv=!1;function jA(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;fv||Bl==null||Bl!==at(g)||(g=Bl,"selectionStart"in g&&uv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Zc&&Jc(Zc,g)||(Zc=g,g=Hh(cv,"onSelect"),0<g.length&&(l=new Rl("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=Bl)))}function zh(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var zl={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},dv={},RA={};u&&(RA=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function qh(s){if(dv[s])return dv[s];if(!zl[s])return s;var l=zl[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in RA)return dv[s]=l[d];return s}var MA=qh("animationend"),DA=qh("animationiteration"),LA=qh("animationstart"),$A=qh("transitionend"),VA=new Map,FA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(s,l){VA.set(s,l),o(l,[s])}for(var hv=0;hv<FA.length;hv++){var pv=FA[hv],j6=pv.toLowerCase(),R6=pv[0].toUpperCase()+pv.slice(1);fa(j6,"on"+R6)}fa(MA,"onAnimationEnd"),fa(DA,"onAnimationIteration"),fa(LA,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa($A,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M6=new Set("cancel close invalid load scroll toggle".split(" ").concat(ef));function UA(s,l,d){var g=s.type||"unknown-event";s.currentTarget=d,xh(g,l,void 0,s),s.currentTarget=null}function BA(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],_=g.event;g=g.listeners;e:{var A=void 0;if(l)for(var D=g.length-1;0<=D;D--){var z=g[D],W=z.instance,re=z.currentTarget;if(z=z.listener,W!==A&&_.isPropagationStopped())break e;UA(_,z,re),A=W}else for(D=0;D<g.length;D++){if(z=g[D],W=z.instance,re=z.currentTarget,z=z.listener,W!==A&&_.isPropagationStopped())break e;UA(_,z,re),A=W}}}if(Yn)throw s=$c,Yn=!1,$c=null,s}function Et(s,l){var d=l[wv];d===void 0&&(d=l[wv]=new Set);var g=s+"__bubble";d.has(g)||(zA(l,s,2,!1),d.add(g))}function mv(s,l,d){var g=0;l&&(g|=4),zA(d,s,g,l)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function tf(s){if(!s[Wh]){s[Wh]=!0,n.forEach(function(d){d!=="selectionchange"&&(M6.has(d)||mv(d,!1,s),mv(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Wh]||(l[Wh]=!0,mv("selectionchange",!1,l))}}function zA(s,l,d,g){switch(Wc(l)){case 1:var _=kt;break;case 4:_=ov;break;default:_=qc}d=_.bind(null,l,d,s),_=void 0,!Sl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(l,d,{capture:!0,passive:_}):s.addEventListener(l,d,!0):_!==void 0?s.addEventListener(l,d,{passive:_}):s.addEventListener(l,d,!1)}function gv(s,l,d,g,_){var A=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var z=g.stateNode.containerInfo;if(z===_||z.nodeType===8&&z.parentNode===_)break;if(D===4)for(D=g.return;D!==null;){var W=D.tag;if((W===3||W===4)&&(W=D.stateNode.containerInfo,W===_||W.nodeType===8&&W.parentNode===_))return;D=D.return}for(;z!==null;){if(D=ws(z),D===null)return;if(W=D.tag,W===5||W===6){g=A=D;continue e}z=z.parentNode}}g=g.return}Lc(function(){var re=A,me=xl(d),ye=[];e:{var pe=VA.get(s);if(pe!==void 0){var Ee=Rl,Ie=s;switch(s){case"keypress":if(jl(d)===0)break e;case"keydown":case"keyup":Ee=T;break;case"focusin":Ie="focus",Ee=$l;break;case"focusout":Ie="blur",Ee=$l;break;case"beforeblur":case"afterblur":Ee=$l;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=se;break;case MA:case DA:case LA:Ee=lo;break;case $A:Ee=ct;break;case"scroll":Ee=av;break;case"wheel":Ee=et;break;case"copy":case"cut":case"paste":Ee=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=B}var Oe=(l&4)!==0,qt=!Oe&&s==="scroll",J=Oe?pe!==null?pe+"Capture":null:pe;Oe=[];for(var G=re,ee;G!==null;){ee=G;var ve=ee.stateNode;if(ee.tag===5&&ve!==null&&(ee=ve,J!==null&&(ve=zt(G,J),ve!=null&&Oe.push(rf(G,ve,ee)))),qt)break;G=G.return}0<Oe.length&&(pe=new Ee(pe,Ie,null,d,me),ye.push({event:pe,listeners:Oe}))}}if((l&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",pe&&d!==us&&(Ie=d.relatedTarget||d.fromElement)&&(ws(Ie)||Ie[uo]))break e;if((Ee||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ee?(Ie=d.relatedTarget||d.toElement,Ee=re,Ie=Ie?ws(Ie):null,Ie!==null&&(qt=Qn(Ie),Ie!==qt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ee=null,Ie=re),Ee!==Ie)){if(Oe=Dl,ve="onMouseLeave",J="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=B,ve="onPointerLeave",J="onPointerEnter",G="pointer"),qt=Ee==null?pe:Hl(Ee),ee=Ie==null?pe:Hl(Ie),pe=new Oe(ve,G+"leave",Ee,d,me),pe.target=qt,pe.relatedTarget=ee,ve=null,ws(me)===re&&(Oe=new Oe(J,G+"enter",Ie,d,me),Oe.target=ee,Oe.relatedTarget=qt,ve=Oe),qt=ve,Ee&&Ie)t:{for(Oe=Ee,J=Ie,G=0,ee=Oe;ee;ee=ql(ee))G++;for(ee=0,ve=J;ve;ve=ql(ve))ee++;for(;0<G-ee;)Oe=ql(Oe),G--;for(;0<ee-G;)J=ql(J),ee--;for(;G--;){if(Oe===J||J!==null&&Oe===J.alternate)break t;Oe=ql(Oe),J=ql(J)}Oe=null}else Oe=null;Ee!==null&&qA(ye,pe,Ee,Oe,!1),Ie!==null&&qt!==null&&qA(ye,qt,Ie,Oe,!0)}}e:{if(pe=re?Hl(re):window,Ee=pe.nodeName&&pe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&pe.type==="file")var Ce=T6;else if(SA(pe))if(TA)Ce=O6;else{Ce=P6;var Re=A6}else(Ee=pe.nodeName)&&Ee.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Ce=I6);if(Ce&&(Ce=Ce(s,re))){EA(ye,Ce,d,me);break e}Re&&Re(s,pe,re),s==="focusout"&&(Re=pe._wrapperState)&&Re.controlled&&pe.type==="number"&&pn(pe,"number",pe.value)}switch(Re=re?Hl(re):window,s){case"focusin":(SA(Re)||Re.contentEditable==="true")&&(Bl=Re,cv=re,Zc=null);break;case"focusout":Zc=cv=Bl=null;break;case"mousedown":fv=!0;break;case"contextmenu":case"mouseup":case"dragend":fv=!1,jA(ye,d,me);break;case"selectionchange":if(N6)break;case"keydown":case"keyup":jA(ye,d,me)}var Me;if(Kt)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ul?_A(s,d)&&(Ue="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ue="onCompositionStart");Ue&&(_s&&d.locale!=="ko"&&(Ul||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ul&&(Me=Hc()):(vn=me,Nl="value"in vn?vn.value:vn.textContent,Ul=!0)),Re=Hh(re,Ue),0<Re.length&&(Ue=new Xc(Ue,s,null,d,me),ye.push({event:Ue,listeners:Re}),Me?Ue.data=Me:(Me=wA(d),Me!==null&&(Ue.data=Me)))),(Me=bn?_6(s,d):w6(s,d))&&(re=Hh(re,"onBeforeInput"),0<re.length&&(me=new Xc("onBeforeInput","beforeinput",null,d,me),ye.push({event:me,listeners:re}),me.data=Me))}BA(ye,l)})}function rf(s,l,d){return{instance:s,listener:l,currentTarget:d}}function Hh(s,l){for(var d=l+"Capture",g=[];s!==null;){var _=s,A=_.stateNode;_.tag===5&&A!==null&&(_=A,A=zt(s,d),A!=null&&g.unshift(rf(s,A,_)),A=zt(s,l),A!=null&&g.push(rf(s,A,_))),s=s.return}return g}function ql(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function qA(s,l,d,g,_){for(var A=l._reactName,D=[];d!==null&&d!==g;){var z=d,W=z.alternate,re=z.stateNode;if(W!==null&&W===g)break;z.tag===5&&re!==null&&(z=re,_?(W=zt(d,A),W!=null&&D.unshift(rf(d,W,z))):_||(W=zt(d,A),W!=null&&D.push(rf(d,W,z)))),d=d.return}D.length!==0&&s.push({event:l,listeners:D})}var D6=/\r\n?/g,L6=/\u0000|\uFFFD/g;function WA(s){return(typeof s=="string"?s:""+s).replace(D6,`
`).replace(L6,"")}function Gh(s,l,d){if(l=WA(l),WA(s)!==l&&d)throw Error(r(425))}function Kh(){}var yv=null,vv=null;function bv(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var xv=typeof setTimeout=="function"?setTimeout:void 0,$6=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,V6=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(s){return HA.resolve(null).then(s).catch(F6)}:xv;function F6(s){setTimeout(function(){throw s})}function _v(s,l){var d=l,g=0;do{var _=d.nextSibling;if(s.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){s.removeChild(_),ri(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);ri(l)}function da(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function GA(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}var Wl=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Wl,nf="__reactProps$"+Wl,uo="__reactContainer$"+Wl,wv="__reactEvents$"+Wl,U6="__reactListeners$"+Wl,B6="__reactHandles$"+Wl;function ws(s){var l=s[Ci];if(l)return l;for(var d=s.parentNode;d;){if(l=d[uo]||d[Ci]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=GA(s);s!==null;){if(d=s[Ci])return d;s=GA(s)}return l}s=d,d=s.parentNode}return null}function of(s){return s=s[Ci]||s[uo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Hl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Xh(s){return s[nf]||null}var Sv=[],Gl=-1;function ha(s){return{current:s}}function Tt(s){0>Gl||(s.current=Sv[Gl],Sv[Gl]=null,Gl--)}function bt(s,l){Gl++,Sv[Gl]=s.current,s.current=l}var pa={},Cr=ha(pa),en=ha(!1),Ss=pa;function Kl(s,l){var d=s.type.contextTypes;if(!d)return pa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},A;for(A in d)_[A]=l[A];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=_),_}function tn(s){return s=s.childContextTypes,s!=null}function Yh(){Tt(en),Tt(Cr)}function KA(s,l,d){if(Cr.current!==pa)throw Error(r(168));bt(Cr,l),bt(en,d)}function XA(s,l,d){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(r(108,be(s)||"Unknown",_));return ne({},d,g)}function Qh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pa,Ss=Cr.current,bt(Cr,s),bt(en,en.current),!0}function YA(s,l,d){var g=s.stateNode;if(!g)throw Error(r(169));d?(s=XA(s,l,Ss),g.__reactInternalMemoizedMergedChildContext=s,Tt(en),Tt(Cr),bt(Cr,s)):Tt(en),bt(en,d)}var co=null,Jh=!1,Ev=!1;function QA(s){co===null?co=[s]:co.push(s)}function z6(s){Jh=!0,QA(s)}function ma(){if(!Ev&&co!==null){Ev=!0;var s=0,l=Ze;try{var d=co;for(Ze=1;s<d.length;s++){var g=d[s];do g=g(!0);while(g!==null)}co=null,Jh=!1}catch(_){throw co!==null&&(co=co.slice(s+1)),Pl(ps,ma),_}finally{Ze=l,Ev=!1}}return null}var Xl=[],Yl=0,Zh=null,ep=0,jn=[],Rn=0,Es=null,fo=1,ho="";function Ts(s,l){Xl[Yl++]=ep,Xl[Yl++]=Zh,Zh=s,ep=l}function JA(s,l,d){jn[Rn++]=fo,jn[Rn++]=ho,jn[Rn++]=Es,Es=s;var g=fo;s=ho;var _=32-Br(g)-1;g&=~(1<<_),d+=1;var A=32-Br(l)+_;if(30<A){var D=_-_%5;A=(g&(1<<D)-1).toString(32),g>>=D,_-=D,fo=1<<32-Br(l)+_|d<<_|g,ho=A+s}else fo=1<<A|d<<_|g,ho=s}function Tv(s){s.return!==null&&(Ts(s,1),JA(s,1,0))}function Av(s){for(;s===Zh;)Zh=Xl[--Yl],Xl[Yl]=null,ep=Xl[--Yl],Xl[Yl]=null;for(;s===Es;)Es=jn[--Rn],jn[Rn]=null,ho=jn[--Rn],jn[Rn]=null,fo=jn[--Rn],jn[Rn]=null}var xn=null,_n=null,Ct=!1,oi=null;function ZA(s,l){var d=$n(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=s,l=s.deletions,l===null?(s.deletions=[d],s.flags|=16):l.push(d)}function eP(s,l){switch(s.tag){case 5:var d=s.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,xn=s,_n=da(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,xn=s,_n=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Es!==null?{id:fo,overflow:ho}:null,s.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=$n(18,null,null,0),d.stateNode=l,d.return=s,s.child=d,xn=s,_n=null,!0):!1;default:return!1}}function Pv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Iv(s){if(Ct){var l=_n;if(l){var d=l;if(!eP(s,l)){if(Pv(s))throw Error(r(418));l=da(d.nextSibling);var g=xn;l&&eP(s,l)?ZA(g,d):(s.flags=s.flags&-4097|2,Ct=!1,xn=s)}}else{if(Pv(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ct=!1,xn=s}}}function tP(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xn=s}function tp(s){if(s!==xn)return!1;if(!Ct)return tP(s),Ct=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!bv(s.type,s.memoizedProps)),l&&(l=_n)){if(Pv(s))throw rP(),Error(r(418));for(;l;)ZA(s,l),l=da(l.nextSibling)}if(tP(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(l===0){_n=da(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}s=s.nextSibling}_n=null}}else _n=xn?da(s.stateNode.nextSibling):null;return!0}function rP(){for(var s=_n;s;)s=da(s.nextSibling)}function Ql(){_n=xn=null,Ct=!1}function Ov(s){oi===null?oi=[s]:oi.push(s)}var q6=M.ReactCurrentBatchConfig;function af(s,l,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,s));var _=g,A=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(D){var z=_.refs;D===null?delete z[A]:z[A]=D},l._stringRef=A,l)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function rp(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function nP(s){var l=s._init;return l(s._payload)}function iP(s){function l(J,G){if(s){var ee=J.deletions;ee===null?(J.deletions=[G],J.flags|=16):ee.push(G)}}function d(J,G){if(!s)return null;for(;G!==null;)l(J,G),G=G.sibling;return null}function g(J,G){for(J=new Map;G!==null;)G.key!==null?J.set(G.key,G):J.set(G.index,G),G=G.sibling;return J}function _(J,G){return J=Sa(J,G),J.index=0,J.sibling=null,J}function A(J,G,ee){return J.index=ee,s?(ee=J.alternate,ee!==null?(ee=ee.index,ee<G?(J.flags|=2,G):ee):(J.flags|=2,G)):(J.flags|=1048576,G)}function D(J){return s&&J.alternate===null&&(J.flags|=2),J}function z(J,G,ee,ve){return G===null||G.tag!==6?(G=xb(ee,J.mode,ve),G.return=J,G):(G=_(G,ee),G.return=J,G)}function W(J,G,ee,ve){var Ce=ee.type;return Ce===I?me(J,G,ee.props.children,ve,ee.key):G!==null&&(G.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ie&&nP(Ce)===G.type)?(ve=_(G,ee.props),ve.ref=af(J,G,ee),ve.return=J,ve):(ve=Ap(ee.type,ee.key,ee.props,null,J.mode,ve),ve.ref=af(J,G,ee),ve.return=J,ve)}function re(J,G,ee,ve){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=_b(ee,J.mode,ve),G.return=J,G):(G=_(G,ee.children||[]),G.return=J,G)}function me(J,G,ee,ve,Ce){return G===null||G.tag!==7?(G=js(ee,J.mode,ve,Ce),G.return=J,G):(G=_(G,ee),G.return=J,G)}function ye(J,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number")return G=xb(""+G,J.mode,ee),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case k:return ee=Ap(G.type,G.key,G.props,null,J.mode,ee),ee.ref=af(J,null,G),ee.return=J,ee;case R:return G=_b(G,J.mode,ee),G.return=J,G;case ie:var ve=G._init;return ye(J,ve(G._payload),ee)}if(Qr(G)||oe(G))return G=js(G,J.mode,ee,null),G.return=J,G;rp(J,G)}return null}function pe(J,G,ee,ve){var Ce=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ce!==null?null:z(J,G,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return ee.key===Ce?W(J,G,ee,ve):null;case R:return ee.key===Ce?re(J,G,ee,ve):null;case ie:return Ce=ee._init,pe(J,G,Ce(ee._payload),ve)}if(Qr(ee)||oe(ee))return Ce!==null?null:me(J,G,ee,ve,null);rp(J,ee)}return null}function Ee(J,G,ee,ve,Ce){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return J=J.get(ee)||null,z(G,J,""+ve,Ce);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:return J=J.get(ve.key===null?ee:ve.key)||null,W(G,J,ve,Ce);case R:return J=J.get(ve.key===null?ee:ve.key)||null,re(G,J,ve,Ce);case ie:var Re=ve._init;return Ee(J,G,ee,Re(ve._payload),Ce)}if(Qr(ve)||oe(ve))return J=J.get(ee)||null,me(G,J,ve,Ce,null);rp(G,ve)}return null}function Ie(J,G,ee,ve){for(var Ce=null,Re=null,Me=G,Ue=G=0,pr=null;Me!==null&&Ue<ee.length;Ue++){Me.index>Ue?(pr=Me,Me=null):pr=Me.sibling;var nt=pe(J,Me,ee[Ue],ve);if(nt===null){Me===null&&(Me=pr);break}s&&Me&&nt.alternate===null&&l(J,Me),G=A(nt,G,Ue),Re===null?Ce=nt:Re.sibling=nt,Re=nt,Me=pr}if(Ue===ee.length)return d(J,Me),Ct&&Ts(J,Ue),Ce;if(Me===null){for(;Ue<ee.length;Ue++)Me=ye(J,ee[Ue],ve),Me!==null&&(G=A(Me,G,Ue),Re===null?Ce=Me:Re.sibling=Me,Re=Me);return Ct&&Ts(J,Ue),Ce}for(Me=g(J,Me);Ue<ee.length;Ue++)pr=Ee(Me,J,Ue,ee[Ue],ve),pr!==null&&(s&&pr.alternate!==null&&Me.delete(pr.key===null?Ue:pr.key),G=A(pr,G,Ue),Re===null?Ce=pr:Re.sibling=pr,Re=pr);return s&&Me.forEach(function(Ea){return l(J,Ea)}),Ct&&Ts(J,Ue),Ce}function Oe(J,G,ee,ve){var Ce=oe(ee);if(typeof Ce!="function")throw Error(r(150));if(ee=Ce.call(ee),ee==null)throw Error(r(151));for(var Re=Ce=null,Me=G,Ue=G=0,pr=null,nt=ee.next();Me!==null&&!nt.done;Ue++,nt=ee.next()){Me.index>Ue?(pr=Me,Me=null):pr=Me.sibling;var Ea=pe(J,Me,nt.value,ve);if(Ea===null){Me===null&&(Me=pr);break}s&&Me&&Ea.alternate===null&&l(J,Me),G=A(Ea,G,Ue),Re===null?Ce=Ea:Re.sibling=Ea,Re=Ea,Me=pr}if(nt.done)return d(J,Me),Ct&&Ts(J,Ue),Ce;if(Me===null){for(;!nt.done;Ue++,nt=ee.next())nt=ye(J,nt.value,ve),nt!==null&&(G=A(nt,G,Ue),Re===null?Ce=nt:Re.sibling=nt,Re=nt);return Ct&&Ts(J,Ue),Ce}for(Me=g(J,Me);!nt.done;Ue++,nt=ee.next())nt=Ee(Me,J,Ue,nt.value,ve),nt!==null&&(s&&nt.alternate!==null&&Me.delete(nt.key===null?Ue:nt.key),G=A(nt,G,Ue),Re===null?Ce=nt:Re.sibling=nt,Re=nt);return s&&Me.forEach(function(SF){return l(J,SF)}),Ct&&Ts(J,Ue),Ce}function qt(J,G,ee,ve){if(typeof ee=="object"&&ee!==null&&ee.type===I&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:e:{for(var Ce=ee.key,Re=G;Re!==null;){if(Re.key===Ce){if(Ce=ee.type,Ce===I){if(Re.tag===7){d(J,Re.sibling),G=_(Re,ee.props.children),G.return=J,J=G;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ie&&nP(Ce)===Re.type){d(J,Re.sibling),G=_(Re,ee.props),G.ref=af(J,Re,ee),G.return=J,J=G;break e}d(J,Re);break}else l(J,Re);Re=Re.sibling}ee.type===I?(G=js(ee.props.children,J.mode,ve,ee.key),G.return=J,J=G):(ve=Ap(ee.type,ee.key,ee.props,null,J.mode,ve),ve.ref=af(J,G,ee),ve.return=J,J=ve)}return D(J);case R:e:{for(Re=ee.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){d(J,G.sibling),G=_(G,ee.children||[]),G.return=J,J=G;break e}else{d(J,G);break}else l(J,G);G=G.sibling}G=_b(ee,J.mode,ve),G.return=J,J=G}return D(J);case ie:return Re=ee._init,qt(J,G,Re(ee._payload),ve)}if(Qr(ee))return Ie(J,G,ee,ve);if(oe(ee))return Oe(J,G,ee,ve);rp(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,G!==null&&G.tag===6?(d(J,G.sibling),G=_(G,ee),G.return=J,J=G):(d(J,G),G=xb(ee,J.mode,ve),G.return=J,J=G),D(J)):d(J,G)}return qt}var Jl=iP(!0),oP=iP(!1),np=ha(null),ip=null,Zl=null,kv=null;function Cv(){kv=Zl=ip=null}function Nv(s){var l=np.current;Tt(np),s._currentValue=l}function jv(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function eu(s,l){ip=s,kv=Zl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(rn=!0),s.firstContext=null)}function Mn(s){var l=s._currentValue;if(kv!==s)if(s={context:s,memoizedValue:l,next:null},Zl===null){if(ip===null)throw Error(r(308));Zl=s,ip.dependencies={lanes:0,firstContext:s}}else Zl=Zl.next=s;return l}var As=null;function Rv(s){As===null?As=[s]:As.push(s)}function aP(s,l,d,g){var _=l.interleaved;return _===null?(d.next=d,Rv(l)):(d.next=_.next,_.next=d),l.interleaved=d,po(s,g)}function po(s,l){s.lanes|=l;var d=s.alternate;for(d!==null&&(d.lanes|=l),d=s,s=s.return;s!==null;)s.childLanes|=l,d=s.alternate,d!==null&&(d.childLanes|=l),d=s,s=s.return;return d.tag===3?d.stateNode:null}var ga=!1;function Mv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sP(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mo(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function ya(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(rt&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,po(s,d)}return _=g.interleaved,_===null?(l.next=l,Rv(g)):(l.next=_.next,_.next=l),g.interleaved=l,po(s,d)}function op(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,aa(s,d)}}function lP(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};A===null?_=A=D:A=A.next=D,d=d.next}while(d!==null);A===null?_=A=l:A=A.next=l}else _=A=l;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:A,shared:g.shared,effects:g.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}function ap(s,l,d,g){var _=s.updateQueue;ga=!1;var A=_.firstBaseUpdate,D=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var W=z,re=W.next;W.next=null,D===null?A=re:D.next=re,D=W;var me=s.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==D&&(z===null?me.firstBaseUpdate=re:z.next=re,me.lastBaseUpdate=W))}if(A!==null){var ye=_.baseState;D=0,me=re=W=null,z=A;do{var pe=z.lane,Ee=z.eventTime;if((g&pe)===pe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ie=s,Oe=z;switch(pe=l,Ee=d,Oe.tag){case 1:if(Ie=Oe.payload,typeof Ie=="function"){ye=Ie.call(Ee,ye,pe);break e}ye=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Oe.payload,pe=typeof Ie=="function"?Ie.call(Ee,ye,pe):Ie,pe==null)break e;ye=ne({},ye,pe);break e;case 2:ga=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,pe=_.effects,pe===null?_.effects=[z]:pe.push(z))}else Ee={eventTime:Ee,lane:pe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(re=me=Ee,W=ye):me=me.next=Ee,D|=pe;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;pe=z,z=pe.next,pe.next=null,_.lastBaseUpdate=pe,_.shared.pending=null}}while(!0);if(me===null&&(W=ye),_.baseState=W,_.firstBaseUpdate=re,_.lastBaseUpdate=me,l=_.shared.interleaved,l!==null){_=l;do D|=_.lane,_=_.next;while(_!==l)}else A===null&&(_.shared.lanes=0);Os|=D,s.lanes=D,s.memoizedState=ye}}function uP(s,l,d){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var sf={},Ni=ha(sf),lf=ha(sf),uf=ha(sf);function Ps(s){if(s===sf)throw Error(r(174));return s}function Dv(s,l){switch(bt(uf,l),bt(lf,s),bt(Ni,sf),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:rr(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=rr(l,s)}Tt(Ni),bt(Ni,l)}function tu(){Tt(Ni),Tt(lf),Tt(uf)}function cP(s){Ps(uf.current);var l=Ps(Ni.current),d=rr(l,s.type);l!==d&&(bt(lf,s),bt(Ni,d))}function Lv(s){lf.current===s&&(Tt(Ni),Tt(lf))}var Mt=ha(0);function sp(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var $v=[];function Vv(){for(var s=0;s<$v.length;s++)$v[s]._workInProgressVersionPrimary=null;$v.length=0}var lp=M.ReactCurrentDispatcher,Fv=M.ReactCurrentBatchConfig,Is=0,Dt=null,ir=null,dr=null,up=!1,cf=!1,ff=0,W6=0;function Nr(){throw Error(r(321))}function Uv(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!ii(s[d],l[d]))return!1;return!0}function Bv(s,l,d,g,_,A){if(Is=A,Dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,lp.current=s===null||s.memoizedState===null?X6:Y6,s=d(g,_),cf){A=0;do{if(cf=!1,ff=0,25<=A)throw Error(r(301));A+=1,dr=ir=null,l.updateQueue=null,lp.current=Q6,s=d(g,_)}while(cf)}if(lp.current=dp,l=ir!==null&&ir.next!==null,Is=0,dr=ir=Dt=null,up=!1,l)throw Error(r(300));return s}function zv(){var s=ff!==0;return ff=0,s}function ji(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Dt.memoizedState=dr=s:dr=dr.next=s,dr}function Dn(){if(ir===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=ir.next;var l=dr===null?Dt.memoizedState:dr.next;if(l!==null)dr=l,ir=s;else{if(s===null)throw Error(r(310));ir=s,s={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},dr===null?Dt.memoizedState=dr=s:dr=dr.next=s}return dr}function df(s,l){return typeof l=="function"?l(s):l}function qv(s){var l=Dn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=ir,_=g.baseQueue,A=d.pending;if(A!==null){if(_!==null){var D=_.next;_.next=A.next,A.next=D}g.baseQueue=_=A,d.pending=null}if(_!==null){A=_.next,g=g.baseState;var z=D=null,W=null,re=A;do{var me=re.lane;if((Is&me)===me)W!==null&&(W=W.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:s(g,re.action);else{var ye={lane:me,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};W===null?(z=W=ye,D=g):W=W.next=ye,Dt.lanes|=me,Os|=me}re=re.next}while(re!==null&&re!==A);W===null?D=g:W.next=z,ii(g,l.memoizedState)||(rn=!0),l.memoizedState=g,l.baseState=D,l.baseQueue=W,d.lastRenderedState=g}if(s=d.interleaved,s!==null){_=s;do A=_.lane,Dt.lanes|=A,Os|=A,_=_.next;while(_!==s)}else _===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Wv(s){var l=Dn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=d.dispatch,_=d.pending,A=l.memoizedState;if(_!==null){d.pending=null;var D=_=_.next;do A=s(A,D.action),D=D.next;while(D!==_);ii(A,l.memoizedState)||(rn=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,g]}function fP(){}function dP(s,l){var d=Dt,g=Dn(),_=l(),A=!ii(g.memoizedState,_);if(A&&(g.memoizedState=_,rn=!0),g=g.queue,Hv(mP.bind(null,d,g,s),[s]),g.getSnapshot!==l||A||dr!==null&&dr.memoizedState.tag&1){if(d.flags|=2048,hf(9,pP.bind(null,d,g,_,l),void 0,null),hr===null)throw Error(r(349));(Is&30)!==0||hP(d,l,_)}return _}function hP(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=Dt.updateQueue,l===null?(l={lastEffect:null,stores:null},Dt.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function pP(s,l,d,g){l.value=d,l.getSnapshot=g,gP(l)&&yP(s)}function mP(s,l,d){return d(function(){gP(l)&&yP(s)})}function gP(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!ii(s,d)}catch{return!0}}function yP(s){var l=po(s,1);l!==null&&ui(l,s,1,-1)}function vP(s){var l=ji();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:s},l.queue=s,s=s.dispatch=K6.bind(null,Dt,s),[l.memoizedState,s]}function hf(s,l,d,g){return s={tag:s,create:l,destroy:d,deps:g,next:null},l=Dt.updateQueue,l===null?(l={lastEffect:null,stores:null},Dt.updateQueue=l,l.lastEffect=s.next=s):(d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s)),s}function bP(){return Dn().memoizedState}function cp(s,l,d,g){var _=ji();Dt.flags|=s,_.memoizedState=hf(1|l,d,void 0,g===void 0?null:g)}function fp(s,l,d,g){var _=Dn();g=g===void 0?null:g;var A=void 0;if(ir!==null){var D=ir.memoizedState;if(A=D.destroy,g!==null&&Uv(g,D.deps)){_.memoizedState=hf(l,d,A,g);return}}Dt.flags|=s,_.memoizedState=hf(1|l,d,A,g)}function xP(s,l){return cp(8390656,8,s,l)}function Hv(s,l){return fp(2048,8,s,l)}function _P(s,l){return fp(4,2,s,l)}function wP(s,l){return fp(4,4,s,l)}function SP(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function EP(s,l,d){return d=d!=null?d.concat([s]):null,fp(4,4,SP.bind(null,l,s),d)}function Gv(){}function TP(s,l){var d=Dn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Uv(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function AP(s,l){var d=Dn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Uv(l,g[1])?g[0]:(s=s(),d.memoizedState=[s,l],s)}function PP(s,l,d){return(Is&21)===0?(s.baseState&&(s.baseState=!1,rn=!0),s.memoizedState=d):(ii(d,l)||(d=ys(),Dt.lanes|=d,Os|=d,s.baseState=!0),l)}function H6(s,l){var d=Ze;Ze=d!==0&&4>d?d:4,s(!0);var g=Fv.transition;Fv.transition={};try{s(!1),l()}finally{Ze=d,Fv.transition=g}}function IP(){return Dn().memoizedState}function G6(s,l,d){var g=_a(s);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},OP(s))kP(l,d);else if(d=aP(s,l,d,g),d!==null){var _=Wr();ui(d,s,g,_),CP(d,l,g)}}function K6(s,l,d){var g=_a(s),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(OP(s))kP(l,_);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var D=l.lastRenderedState,z=A(D,d);if(_.hasEagerState=!0,_.eagerState=z,ii(z,D)){var W=l.interleaved;W===null?(_.next=_,Rv(l)):(_.next=W.next,W.next=_),l.interleaved=_;return}}catch{}finally{}d=aP(s,l,_,g),d!==null&&(_=Wr(),ui(d,s,g,_),CP(d,l,g))}}function OP(s){var l=s.alternate;return s===Dt||l!==null&&l===Dt}function kP(s,l){cf=up=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function CP(s,l,d){if((d&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,aa(s,d)}}var dp={readContext:Mn,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},X6={readContext:Mn,useCallback:function(s,l){return ji().memoizedState=[s,l===void 0?null:l],s},useContext:Mn,useEffect:xP,useImperativeHandle:function(s,l,d){return d=d!=null?d.concat([s]):null,cp(4194308,4,SP.bind(null,l,s),d)},useLayoutEffect:function(s,l){return cp(4194308,4,s,l)},useInsertionEffect:function(s,l){return cp(4,2,s,l)},useMemo:function(s,l){var d=ji();return l=l===void 0?null:l,s=s(),d.memoizedState=[s,l],s},useReducer:function(s,l,d){var g=ji();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=G6.bind(null,Dt,s),[g.memoizedState,s]},useRef:function(s){var l=ji();return s={current:s},l.memoizedState=s},useState:vP,useDebugValue:Gv,useDeferredValue:function(s){return ji().memoizedState=s},useTransition:function(){var s=vP(!1),l=s[0];return s=H6.bind(null,s[1]),ji().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,d){var g=Dt,_=ji();if(Ct){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),hr===null)throw Error(r(349));(Is&30)!==0||hP(g,l,d)}_.memoizedState=d;var A={value:d,getSnapshot:l};return _.queue=A,xP(mP.bind(null,g,A,s),[s]),g.flags|=2048,hf(9,pP.bind(null,g,A,d,l),void 0,null),d},useId:function(){var s=ji(),l=hr.identifierPrefix;if(Ct){var d=ho,g=fo;d=(g&~(1<<32-Br(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=ff++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=W6++,l=":"+l+"r"+d.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},Y6={readContext:Mn,useCallback:TP,useContext:Mn,useEffect:Hv,useImperativeHandle:EP,useInsertionEffect:_P,useLayoutEffect:wP,useMemo:AP,useReducer:qv,useRef:bP,useState:function(){return qv(df)},useDebugValue:Gv,useDeferredValue:function(s){var l=Dn();return PP(l,ir.memoizedState,s)},useTransition:function(){var s=qv(df)[0],l=Dn().memoizedState;return[s,l]},useMutableSource:fP,useSyncExternalStore:dP,useId:IP,unstable_isNewReconciler:!1},Q6={readContext:Mn,useCallback:TP,useContext:Mn,useEffect:Hv,useImperativeHandle:EP,useInsertionEffect:_P,useLayoutEffect:wP,useMemo:AP,useReducer:Wv,useRef:bP,useState:function(){return Wv(df)},useDebugValue:Gv,useDeferredValue:function(s){var l=Dn();return ir===null?l.memoizedState=s:PP(l,ir.memoizedState,s)},useTransition:function(){var s=Wv(df)[0],l=Dn().memoizedState;return[s,l]},useMutableSource:fP,useSyncExternalStore:dP,useId:IP,unstable_isNewReconciler:!1};function ai(s,l){if(s&&s.defaultProps){l=ne({},l),s=s.defaultProps;for(var d in s)l[d]===void 0&&(l[d]=s[d]);return l}return l}function Kv(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:ne({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var hp={isMounted:function(s){return(s=s._reactInternals)?Qn(s)===s:!1},enqueueSetState:function(s,l,d){s=s._reactInternals;var g=Wr(),_=_a(s),A=mo(g,_);A.payload=l,d!=null&&(A.callback=d),l=ya(s,A,_),l!==null&&(ui(l,s,_,g),op(l,s,_))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=Wr(),_=_a(s),A=mo(g,_);A.tag=1,A.payload=l,d!=null&&(A.callback=d),l=ya(s,A,_),l!==null&&(ui(l,s,_,g),op(l,s,_))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Wr(),g=_a(s),_=mo(d,g);_.tag=2,l!=null&&(_.callback=l),l=ya(s,_,g),l!==null&&(ui(l,s,g,d),op(l,s,g))}};function NP(s,l,d,g,_,A,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,D):l.prototype&&l.prototype.isPureReactComponent?!Jc(d,g)||!Jc(_,A):!0}function jP(s,l,d){var g=!1,_=pa,A=l.contextType;return typeof A=="object"&&A!==null?A=Mn(A):(_=tn(l)?Ss:Cr.current,g=l.contextTypes,A=(g=g!=null)?Kl(s,_):pa),l=new l(d,A),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=hp,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=A),l}function RP(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&hp.enqueueReplaceState(l,l.state,null)}function Xv(s,l,d,g){var _=s.stateNode;_.props=d,_.state=s.memoizedState,_.refs={},Mv(s);var A=l.contextType;typeof A=="object"&&A!==null?_.context=Mn(A):(A=tn(l)?Ss:Cr.current,_.context=Kl(s,A)),_.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Kv(s,l,A,d),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&hp.enqueueReplaceState(_,_.state,null),ap(s,d,_,g),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function ru(s,l){try{var d="",g=l;do d+=ue(g),g=g.return;while(g);var _=d}catch(A){_=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:l,stack:_,digest:null}}function Yv(s,l,d){return{value:s,source:null,stack:d??null,digest:l??null}}function Qv(s,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var J6=typeof WeakMap=="function"?WeakMap:Map;function MP(s,l,d){d=mo(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){xp||(xp=!0,db=g),Qv(s,l)},d}function DP(s,l,d){d=mo(-1,d),d.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;d.payload=function(){return g(_)},d.callback=function(){Qv(s,l)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(d.callback=function(){Qv(s,l),typeof g!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),d}function LP(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new J6;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(d)||(_.add(d),s=dF.bind(null,s,l,d),l.then(s,s))}function $P(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function VP(s,l,d,g,_){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=mo(-1,1),l.tag=2,ya(d,l,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var Z6=M.ReactCurrentOwner,rn=!1;function qr(s,l,d,g){l.child=s===null?oP(l,null,d,g):Jl(l,s.child,d,g)}function FP(s,l,d,g,_){d=d.render;var A=l.ref;return eu(l,_),g=Bv(s,l,d,g,A,_),d=zv(),s!==null&&!rn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~_,go(s,l,_)):(Ct&&d&&Tv(l),l.flags|=1,qr(s,l,g,_),l.child)}function UP(s,l,d,g,_){if(s===null){var A=d.type;return typeof A=="function"&&!bb(A)&&A.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=A,BP(s,l,A,g,_)):(s=Ap(d.type,null,g,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(A=s.child,(s.lanes&_)===0){var D=A.memoizedProps;if(d=d.compare,d=d!==null?d:Jc,d(D,g)&&s.ref===l.ref)return go(s,l,_)}return l.flags|=1,s=Sa(A,g),s.ref=l.ref,s.return=l,l.child=s}function BP(s,l,d,g,_){if(s!==null){var A=s.memoizedProps;if(Jc(A,g)&&s.ref===l.ref)if(rn=!1,l.pendingProps=g=A,(s.lanes&_)!==0)(s.flags&131072)!==0&&(rn=!0);else return l.lanes=s.lanes,go(s,l,_)}return Jv(s,l,d,g,_)}function zP(s,l,d){var g=l.pendingProps,_=g.children,A=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(iu,wn),wn|=d;else{if((d&1073741824)===0)return s=A!==null?A.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,bt(iu,wn),wn|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:d,bt(iu,wn),wn|=g}else A!==null?(g=A.baseLanes|d,l.memoizedState=null):g=d,bt(iu,wn),wn|=g;return qr(s,l,_,d),l.child}function qP(s,l){var d=l.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Jv(s,l,d,g,_){var A=tn(d)?Ss:Cr.current;return A=Kl(l,A),eu(l,_),d=Bv(s,l,d,g,A,_),g=zv(),s!==null&&!rn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~_,go(s,l,_)):(Ct&&g&&Tv(l),l.flags|=1,qr(s,l,d,_),l.child)}function WP(s,l,d,g,_){if(tn(d)){var A=!0;Qh(l)}else A=!1;if(eu(l,_),l.stateNode===null)mp(s,l),jP(l,d,g),Xv(l,d,g,_),g=!0;else if(s===null){var D=l.stateNode,z=l.memoizedProps;D.props=z;var W=D.context,re=d.contextType;typeof re=="object"&&re!==null?re=Mn(re):(re=tn(d)?Ss:Cr.current,re=Kl(l,re));var me=d.getDerivedStateFromProps,ye=typeof me=="function"||typeof D.getSnapshotBeforeUpdate=="function";ye||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==g||W!==re)&&RP(l,D,g,re),ga=!1;var pe=l.memoizedState;D.state=pe,ap(l,g,D,_),W=l.memoizedState,z!==g||pe!==W||en.current||ga?(typeof me=="function"&&(Kv(l,d,me,g),W=l.memoizedState),(z=ga||NP(l,d,z,g,pe,W,re))?(ye||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=W),D.props=g,D.state=W,D.context=re,g=z):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{D=l.stateNode,sP(s,l),z=l.memoizedProps,re=l.type===l.elementType?z:ai(l.type,z),D.props=re,ye=l.pendingProps,pe=D.context,W=d.contextType,typeof W=="object"&&W!==null?W=Mn(W):(W=tn(d)?Ss:Cr.current,W=Kl(l,W));var Ee=d.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==ye||pe!==W)&&RP(l,D,g,W),ga=!1,pe=l.memoizedState,D.state=pe,ap(l,g,D,_);var Ie=l.memoizedState;z!==ye||pe!==Ie||en.current||ga?(typeof Ee=="function"&&(Kv(l,d,Ee,g),Ie=l.memoizedState),(re=ga||NP(l,d,re,g,pe,Ie,W)||!1)?(me||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Ie,W),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Ie,W)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ie),D.props=g,D.state=Ie,D.context=W,g=re):(typeof D.componentDidUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=1024),g=!1)}return Zv(s,l,d,g,A,_)}function Zv(s,l,d,g,_,A){qP(s,l);var D=(l.flags&128)!==0;if(!g&&!D)return _&&YA(l,d,!1),go(s,l,A);g=l.stateNode,Z6.current=l;var z=D&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&D?(l.child=Jl(l,s.child,null,A),l.child=Jl(l,null,z,A)):qr(s,l,z,A),l.memoizedState=g.state,_&&YA(l,d,!0),l.child}function HP(s){var l=s.stateNode;l.pendingContext?KA(s,l.pendingContext,l.pendingContext!==l.context):l.context&&KA(s,l.context,!1),Dv(s,l.containerInfo)}function GP(s,l,d,g,_){return Ql(),Ov(_),l.flags|=256,qr(s,l,d,g),l.child}var eb={dehydrated:null,treeContext:null,retryLane:0};function tb(s){return{baseLanes:s,cachePool:null,transitions:null}}function KP(s,l,d){var g=l.pendingProps,_=Mt.current,A=!1,D=(l.flags&128)!==0,z;if((z=D)||(z=s!==null&&s.memoizedState===null?!1:(_&2)!==0),z?(A=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),bt(Mt,_&1),s===null)return Iv(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=g.children,s=g.fallback,A?(g=l.mode,A=l.child,D={mode:"hidden",children:D},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=D):A=Pp(D,g,0,null),s=js(s,g,d,null),A.return=l,s.return=l,A.sibling=s,l.child=A,l.child.memoizedState=tb(d),l.memoizedState=eb,s):rb(l,D));if(_=s.memoizedState,_!==null&&(z=_.dehydrated,z!==null))return eF(s,l,D,g,z,_,d);if(A){A=g.fallback,D=l.mode,_=s.child,z=_.sibling;var W={mode:"hidden",children:g.children};return(D&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=W,l.deletions=null):(g=Sa(_,W),g.subtreeFlags=_.subtreeFlags&14680064),z!==null?A=Sa(z,A):(A=js(A,D,d,null),A.flags|=2),A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,D=s.child.memoizedState,D=D===null?tb(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},A.memoizedState=D,A.childLanes=s.childLanes&~d,l.memoizedState=eb,g}return A=s.child,s=A.sibling,g=Sa(A,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,s!==null&&(d=l.deletions,d===null?(l.deletions=[s],l.flags|=16):d.push(s)),l.child=g,l.memoizedState=null,g}function rb(s,l){return l=Pp({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function pp(s,l,d,g){return g!==null&&Ov(g),Jl(l,s.child,null,d),s=rb(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function eF(s,l,d,g,_,A,D){if(d)return l.flags&256?(l.flags&=-257,g=Yv(Error(r(422))),pp(s,l,D,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(A=g.fallback,_=l.mode,g=Pp({mode:"visible",children:g.children},_,0,null),A=js(A,_,D,null),A.flags|=2,g.return=l,A.return=l,g.sibling=A,l.child=g,(l.mode&1)!==0&&Jl(l,s.child,null,D),l.child.memoizedState=tb(D),l.memoizedState=eb,A);if((l.mode&1)===0)return pp(s,l,D,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var z=g.dgst;return g=z,A=Error(r(419)),g=Yv(A,g,void 0),pp(s,l,D,g)}if(z=(D&s.childLanes)!==0,rn||z){if(g=hr,g!==null){switch(D&-D){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|D))!==0?0:_,_!==0&&_!==A.retryLane&&(A.retryLane=_,po(s,_),ui(g,s,_,-1))}return vb(),g=Yv(Error(r(421))),pp(s,l,D,g)}return _.data==="$?"?(l.flags|=128,l.child=s.child,l=hF.bind(null,s),_._reactRetry=l,null):(s=A.treeContext,_n=da(_.nextSibling),xn=l,Ct=!0,oi=null,s!==null&&(jn[Rn++]=fo,jn[Rn++]=ho,jn[Rn++]=Es,fo=s.id,ho=s.overflow,Es=l),l=rb(l,g.children),l.flags|=4096,l)}function XP(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),jv(s.return,l,d)}function nb(s,l,d,g,_){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=d,A.tailMode=_)}function YP(s,l,d){var g=l.pendingProps,_=g.revealOrder,A=g.tail;if(qr(s,l,g.children,d),g=Mt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&XP(s,d,l);else if(s.tag===19)XP(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(bt(Mt,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(d=l.child,_=null;d!==null;)s=d.alternate,s!==null&&sp(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),nb(l,!1,_,d,A);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&sp(s)===null){l.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}nb(l,!0,d,null,A);break;case"together":nb(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function mp(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function go(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),Os|=l.lanes,(d&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=Sa(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Sa(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function tF(s,l,d){switch(l.tag){case 3:HP(l),Ql();break;case 5:cP(l);break;case 1:tn(l.type)&&Qh(l);break;case 4:Dv(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;bt(np,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(bt(Mt,Mt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?KP(s,l,d):(bt(Mt,Mt.current&1),s=go(s,l,d),s!==null?s.sibling:null);bt(Mt,Mt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(s.flags&128)!==0){if(g)return YP(s,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),bt(Mt,Mt.current),g)break;return null;case 22:case 23:return l.lanes=0,zP(s,l,d)}return go(s,l,d)}var QP,ib,JP,ZP;QP=function(s,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ib=function(){},JP=function(s,l,d,g){var _=s.memoizedProps;if(_!==g){s=l.stateNode,Ps(Ni.current);var A=null;switch(d){case"input":_=He(s,_),g=He(s,g),A=[];break;case"select":_=ne({},_,{value:void 0}),g=ne({},g,{value:void 0}),A=[];break;case"textarea":_=mn(s,_),g=mn(s,g),A=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Kh)}jc(d,g);var D;d=null;for(re in _)if(!g.hasOwnProperty(re)&&_.hasOwnProperty(re)&&_[re]!=null)if(re==="style"){var z=_[re];for(D in z)z.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?A||(A=[]):(A=A||[]).push(re,null));for(re in g){var W=g[re];if(z=_!=null?_[re]:void 0,g.hasOwnProperty(re)&&W!==z&&(W!=null||z!=null))if(re==="style")if(z){for(D in z)!z.hasOwnProperty(D)||W&&W.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in W)W.hasOwnProperty(D)&&z[D]!==W[D]&&(d||(d={}),d[D]=W[D])}else d||(A||(A=[]),A.push(re,d)),d=W;else re==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(A=A||[]).push(re,W)):re==="children"?typeof W!="string"&&typeof W!="number"||(A=A||[]).push(re,""+W):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(W!=null&&re==="onScroll"&&Et("scroll",s),A||z===W||(A=[])):(A=A||[]).push(re,W))}d&&(A=A||[]).push("style",d);var re=A;(l.updateQueue=re)&&(l.flags|=4)}},ZP=function(s,l,d,g){d!==g&&(l.flags|=4)};function pf(s,l){if(!Ct)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function jr(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function rF(s,l,d){var g=l.pendingProps;switch(Av(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(l),null;case 1:return tn(l.type)&&Yh(),jr(l),null;case 3:return g=l.stateNode,tu(),Tt(en),Tt(Cr),Vv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(tp(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,oi!==null&&(mb(oi),oi=null))),ib(s,l),jr(l),null;case 5:Lv(l);var _=Ps(uf.current);if(d=l.type,s!==null&&l.stateNode!=null)JP(s,l,d,g,_),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return jr(l),null}if(s=Ps(Ni.current),tp(l)){g=l.stateNode,d=l.type;var A=l.memoizedProps;switch(g[Ci]=l,g[nf]=A,s=(l.mode&1)!==0,d){case"dialog":Et("cancel",g),Et("close",g);break;case"iframe":case"object":case"embed":Et("load",g);break;case"video":case"audio":for(_=0;_<ef.length;_++)Et(ef[_],g);break;case"source":Et("error",g);break;case"img":case"image":case"link":Et("error",g),Et("load",g);break;case"details":Et("toggle",g);break;case"input":yt(g,A),Et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},Et("invalid",g);break;case"textarea":Si(g,A),Et("invalid",g)}jc(d,A),_=null;for(var D in A)if(A.hasOwnProperty(D)){var z=A[D];D==="children"?typeof z=="string"?g.textContent!==z&&(A.suppressHydrationWarning!==!0&&Gh(g.textContent,z,s),_=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(A.suppressHydrationWarning!==!0&&Gh(g.textContent,z,s),_=["children",""+z]):i.hasOwnProperty(D)&&z!=null&&D==="onScroll"&&Et("scroll",g)}switch(d){case"input":Ve(g),hn(g,A,!0);break;case"textarea":Ve(g),ea(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=Kh)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{D=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=tr(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=D.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=D.createElement(d,{is:g.is}):(s=D.createElement(d),d==="select"&&(D=s,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):s=D.createElementNS(s,d),s[Ci]=l,s[nf]=g,QP(s,l,!1,!1),l.stateNode=s;e:{switch(D=Rc(d,g),d){case"dialog":Et("cancel",s),Et("close",s),_=g;break;case"iframe":case"object":case"embed":Et("load",s),_=g;break;case"video":case"audio":for(_=0;_<ef.length;_++)Et(ef[_],s);_=g;break;case"source":Et("error",s),_=g;break;case"img":case"image":case"link":Et("error",s),Et("load",s),_=g;break;case"details":Et("toggle",s),_=g;break;case"input":yt(s,g),_=He(s,g),Et("invalid",s);break;case"option":_=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},_=ne({},g,{value:void 0}),Et("invalid",s);break;case"textarea":Si(s,g),_=mn(s,g),Et("invalid",s);break;default:_=g}jc(d,_),z=_;for(A in z)if(z.hasOwnProperty(A)){var W=z[A];A==="style"?Cc(s,W):A==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Oc(s,W)):A==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&ta(s,W):typeof W=="number"&&ta(s,""+W):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?W!=null&&A==="onScroll"&&Et("scroll",s):W!=null&&O(s,A,W,D))}switch(d){case"input":Ve(s),hn(s,g,!1);break;case"textarea":Ve(s),ea(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Ne(g.value));break;case"select":s.multiple=!!g.multiple,A=g.value,A!=null?br(s,!!g.multiple,A,!1):g.defaultValue!=null&&br(s,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=Kh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return jr(l),null;case 6:if(s&&l.stateNode!=null)ZP(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=Ps(uf.current),Ps(Ni.current),tp(l)){if(g=l.stateNode,d=l.memoizedProps,g[Ci]=l,(A=g.nodeValue!==d)&&(s=xn,s!==null))switch(s.tag){case 3:Gh(g.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Gh(g.nodeValue,d,(s.mode&1)!==0)}A&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Ci]=l,l.stateNode=g}return jr(l),null;case 13:if(Tt(Mt),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ct&&_n!==null&&(l.mode&1)!==0&&(l.flags&128)===0)rP(),Ql(),l.flags|=98560,A=!1;else if(A=tp(l),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Ci]=l}else Ql(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jr(l),A=!1}else oi!==null&&(mb(oi),oi=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Mt.current&1)!==0?or===0&&(or=3):vb())),l.updateQueue!==null&&(l.flags|=4),jr(l),null);case 4:return tu(),ib(s,l),s===null&&tf(l.stateNode.containerInfo),jr(l),null;case 10:return Nv(l.type._context),jr(l),null;case 17:return tn(l.type)&&Yh(),jr(l),null;case 19:if(Tt(Mt),A=l.memoizedState,A===null)return jr(l),null;if(g=(l.flags&128)!==0,D=A.rendering,D===null)if(g)pf(A,!1);else{if(or!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(D=sp(s),D!==null){for(l.flags|=128,pf(A,!1),g=D.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)A=d,s=g,A.flags&=14680066,D=A.alternate,D===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=D.childLanes,A.lanes=D.lanes,A.child=D.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=D.memoizedProps,A.memoizedState=D.memoizedState,A.updateQueue=D.updateQueue,A.type=D.type,s=D.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return bt(Mt,Mt.current&1|2),l.child}s=s.sibling}A.tail!==null&&vt()>ou&&(l.flags|=128,g=!0,pf(A,!1),l.lanes=4194304)}else{if(!g)if(s=sp(D),s!==null){if(l.flags|=128,g=!0,d=s.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),pf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!D.alternate&&!Ct)return jr(l),null}else 2*vt()-A.renderingStartTime>ou&&d!==1073741824&&(l.flags|=128,g=!0,pf(A,!1),l.lanes=4194304);A.isBackwards?(D.sibling=l.child,l.child=D):(d=A.last,d!==null?d.sibling=D:l.child=D,A.last=D)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=vt(),l.sibling=null,d=Mt.current,bt(Mt,g?d&1|2:d&1),l):(jr(l),null);case 22:case 23:return yb(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(wn&1073741824)!==0&&(jr(l),l.subtreeFlags&6&&(l.flags|=8192)):jr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function nF(s,l){switch(Av(l),l.tag){case 1:return tn(l.type)&&Yh(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return tu(),Tt(en),Tt(Cr),Vv(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Lv(l),null;case 13:if(Tt(Mt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ql()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Tt(Mt),null;case 4:return tu(),null;case 10:return Nv(l.type._context),null;case 22:case 23:return yb(),null;case 24:return null;default:return null}}var gp=!1,Rr=!1,iF=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function nu(s,l){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Vt(s,l,g)}else d.current=null}function ob(s,l,d){try{d()}catch(g){Vt(s,l,g)}}var eI=!1;function oF(s,l){if(yv=ua,s=NA(),uv(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var D=0,z=-1,W=-1,re=0,me=0,ye=s,pe=null;t:for(;;){for(var Ee;ye!==d||_!==0&&ye.nodeType!==3||(z=D+_),ye!==A||g!==0&&ye.nodeType!==3||(W=D+g),ye.nodeType===3&&(D+=ye.nodeValue.length),(Ee=ye.firstChild)!==null;)pe=ye,ye=Ee;for(;;){if(ye===s)break t;if(pe===d&&++re===_&&(z=D),pe===A&&++me===g&&(W=D),(Ee=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=Ee}d=z===-1||W===-1?null:{start:z,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(vv={focusedElem:s,selectionRange:d},ua=!1,Ae=l;Ae!==null;)if(l=Ae,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Ae=s;else for(;Ae!==null;){l=Ae;try{var Ie=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Oe=Ie.memoizedProps,qt=Ie.memoizedState,J=l.stateNode,G=J.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:ai(l.type,Oe),qt);J.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ee=l.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){Vt(l,l.return,ve)}if(s=l.sibling,s!==null){s.return=l.return,Ae=s;break}Ae=l.return}return Ie=eI,eI=!1,Ie}function mf(s,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&s)===s){var A=_.destroy;_.destroy=void 0,A!==void 0&&ob(l,d,A)}_=_.next}while(_!==g)}}function yp(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&s)===s){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function ab(s){var l=s.ref;if(l!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof l=="function"?l(s):l.current=s}}function tI(s){var l=s.alternate;l!==null&&(s.alternate=null,tI(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Ci],delete l[nf],delete l[wv],delete l[U6],delete l[B6])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function rI(s){return s.tag===5||s.tag===3||s.tag===4}function nI(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sb(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(s,l):d.insertBefore(s,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(s,d)):(l=d,l.appendChild(s)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Kh));else if(g!==4&&(s=s.child,s!==null))for(sb(s,l,d),s=s.sibling;s!==null;)sb(s,l,d),s=s.sibling}function lb(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(lb(s,l,d),s=s.sibling;s!==null;)lb(s,l,d),s=s.sibling}var wr=null,si=!1;function va(s,l,d){for(d=d.child;d!==null;)iI(s,l,d),d=d.sibling}function iI(s,l,d){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ms,d)}catch{}switch(d.tag){case 5:Rr||nu(d,l);case 6:var g=wr,_=si;wr=null,va(s,l,d),wr=g,si=_,wr!==null&&(si?(s=wr,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):wr.removeChild(d.stateNode));break;case 18:wr!==null&&(si?(s=wr,d=d.stateNode,s.nodeType===8?_v(s.parentNode,d):s.nodeType===1&&_v(s,d),ri(s)):_v(wr,d.stateNode));break;case 4:g=wr,_=si,wr=d.stateNode.containerInfo,si=!0,va(s,l,d),wr=g,si=_;break;case 0:case 11:case 14:case 15:if(!Rr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var A=_,D=A.destroy;A=A.tag,D!==void 0&&((A&2)!==0||(A&4)!==0)&&ob(d,l,D),_=_.next}while(_!==g)}va(s,l,d);break;case 1:if(!Rr&&(nu(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(z){Vt(d,l,z)}va(s,l,d);break;case 21:va(s,l,d);break;case 22:d.mode&1?(Rr=(g=Rr)||d.memoizedState!==null,va(s,l,d),Rr=g):va(s,l,d);break;default:va(s,l,d)}}function oI(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new iF),l.forEach(function(g){var _=pF.bind(null,s,g);d.has(g)||(d.add(g),g.then(_,_))})}}function li(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var A=s,D=l,z=D;e:for(;z!==null;){switch(z.tag){case 5:wr=z.stateNode,si=!1;break e;case 3:wr=z.stateNode.containerInfo,si=!0;break e;case 4:wr=z.stateNode.containerInfo,si=!0;break e}z=z.return}if(wr===null)throw Error(r(160));iI(A,D,_),wr=null,si=!1;var W=_.alternate;W!==null&&(W.return=null),_.return=null}catch(re){Vt(_,l,re)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)aI(l,s),l=l.sibling}function aI(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(li(l,s),Ri(s),g&4){try{mf(3,s,s.return),yp(3,s)}catch(Oe){Vt(s,s.return,Oe)}try{mf(5,s,s.return)}catch(Oe){Vt(s,s.return,Oe)}}break;case 1:li(l,s),Ri(s),g&512&&d!==null&&nu(d,d.return);break;case 5:if(li(l,s),Ri(s),g&512&&d!==null&&nu(d,d.return),s.flags&32){var _=s.stateNode;try{ta(_,"")}catch(Oe){Vt(s,s.return,Oe)}}if(g&4&&(_=s.stateNode,_!=null)){var A=s.memoizedProps,D=d!==null?d.memoizedProps:A,z=s.type,W=s.updateQueue;if(s.updateQueue=null,W!==null)try{z==="input"&&A.type==="radio"&&A.name!=null&&St(_,A),Rc(z,D);var re=Rc(z,A);for(D=0;D<W.length;D+=2){var me=W[D],ye=W[D+1];me==="style"?Cc(_,ye):me==="dangerouslySetInnerHTML"?Oc(_,ye):me==="children"?ta(_,ye):O(_,me,ye,re)}switch(z){case"input":Gt(_,A);break;case"textarea":to(_,A);break;case"select":var pe=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!A.multiple;var Ee=A.value;Ee!=null?br(_,!!A.multiple,Ee,!1):pe!==!!A.multiple&&(A.defaultValue!=null?br(_,!!A.multiple,A.defaultValue,!0):br(_,!!A.multiple,A.multiple?[]:"",!1))}_[nf]=A}catch(Oe){Vt(s,s.return,Oe)}}break;case 6:if(li(l,s),Ri(s),g&4){if(s.stateNode===null)throw Error(r(162));_=s.stateNode,A=s.memoizedProps;try{_.nodeValue=A}catch(Oe){Vt(s,s.return,Oe)}}break;case 3:if(li(l,s),Ri(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ri(l.containerInfo)}catch(Oe){Vt(s,s.return,Oe)}break;case 4:li(l,s),Ri(s);break;case 13:li(l,s),Ri(s),_=s.child,_.flags&8192&&(A=_.memoizedState!==null,_.stateNode.isHidden=A,!A||_.alternate!==null&&_.alternate.memoizedState!==null||(fb=vt())),g&4&&oI(s);break;case 22:if(me=d!==null&&d.memoizedState!==null,s.mode&1?(Rr=(re=Rr)||me,li(l,s),Rr=re):li(l,s),Ri(s),g&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!me&&(s.mode&1)!==0)for(Ae=s,me=s.child;me!==null;){for(ye=Ae=me;Ae!==null;){switch(pe=Ae,Ee=pe.child,pe.tag){case 0:case 11:case 14:case 15:mf(4,pe,pe.return);break;case 1:nu(pe,pe.return);var Ie=pe.stateNode;if(typeof Ie.componentWillUnmount=="function"){g=pe,d=pe.return;try{l=g,Ie.props=l.memoizedProps,Ie.state=l.memoizedState,Ie.componentWillUnmount()}catch(Oe){Vt(g,d,Oe)}}break;case 5:nu(pe,pe.return);break;case 22:if(pe.memoizedState!==null){uI(ye);continue}}Ee!==null?(Ee.return=pe,Ae=Ee):uI(ye)}me=me.sibling}e:for(me=null,ye=s;;){if(ye.tag===5){if(me===null){me=ye;try{_=ye.stateNode,re?(A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(z=ye.stateNode,W=ye.memoizedProps.style,D=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=kc("display",D))}catch(Oe){Vt(s,s.return,Oe)}}}else if(ye.tag===6){if(me===null)try{ye.stateNode.nodeValue=re?"":ye.memoizedProps}catch(Oe){Vt(s,s.return,Oe)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===s)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===s)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===s)break e;me===ye&&(me=null),ye=ye.return}me===ye&&(me=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:li(l,s),Ri(s),g&4&&oI(s);break;case 21:break;default:li(l,s),Ri(s)}}function Ri(s){var l=s.flags;if(l&2){try{e:{for(var d=s.return;d!==null;){if(rI(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(ta(_,""),g.flags&=-33);var A=nI(s);lb(s,A,_);break;case 3:case 4:var D=g.stateNode.containerInfo,z=nI(s);sb(s,z,D);break;default:throw Error(r(161))}}catch(W){Vt(s,s.return,W)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function aF(s,l,d){Ae=s,sI(s)}function sI(s,l,d){for(var g=(s.mode&1)!==0;Ae!==null;){var _=Ae,A=_.child;if(_.tag===22&&g){var D=_.memoizedState!==null||gp;if(!D){var z=_.alternate,W=z!==null&&z.memoizedState!==null||Rr;z=gp;var re=Rr;if(gp=D,(Rr=W)&&!re)for(Ae=_;Ae!==null;)D=Ae,W=D.child,D.tag===22&&D.memoizedState!==null?cI(_):W!==null?(W.return=D,Ae=W):cI(_);for(;A!==null;)Ae=A,sI(A),A=A.sibling;Ae=_,gp=z,Rr=re}lI(s)}else(_.subtreeFlags&8772)!==0&&A!==null?(A.return=_,Ae=A):lI(s)}}function lI(s){for(;Ae!==null;){var l=Ae;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Rr||yp(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Rr)if(d===null)g.componentDidMount();else{var _=l.elementType===l.type?d.memoizedProps:ai(l.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&uP(l,A,g);break;case 3:var D=l.updateQueue;if(D!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}uP(l,D,d)}break;case 5:var z=l.stateNode;if(d===null&&l.flags&4){d=z;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var re=l.alternate;if(re!==null){var me=re.memoizedState;if(me!==null){var ye=me.dehydrated;ye!==null&&ri(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rr||l.flags&512&&ab(l)}catch(pe){Vt(l,l.return,pe)}}if(l===s){Ae=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ae=d;break}Ae=l.return}}function uI(s){for(;Ae!==null;){var l=Ae;if(l===s){Ae=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ae=d;break}Ae=l.return}}function cI(s){for(;Ae!==null;){var l=Ae;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{yp(4,l)}catch(W){Vt(l,d,W)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(W){Vt(l,_,W)}}var A=l.return;try{ab(l)}catch(W){Vt(l,A,W)}break;case 5:var D=l.return;try{ab(l)}catch(W){Vt(l,D,W)}}}catch(W){Vt(l,l.return,W)}if(l===s){Ae=null;break}var z=l.sibling;if(z!==null){z.return=l.return,Ae=z;break}Ae=l.return}}var sF=Math.ceil,vp=M.ReactCurrentDispatcher,ub=M.ReactCurrentOwner,Ln=M.ReactCurrentBatchConfig,rt=0,hr=null,Xt=null,Sr=0,wn=0,iu=ha(0),or=0,gf=null,Os=0,bp=0,cb=0,yf=null,nn=null,fb=0,ou=1/0,yo=null,xp=!1,db=null,ba=null,_p=!1,xa=null,wp=0,vf=0,hb=null,Sp=-1,Ep=0;function Wr(){return(rt&6)!==0?vt():Sp!==-1?Sp:Sp=vt()}function _a(s){return(s.mode&1)===0?1:(rt&2)!==0&&Sr!==0?Sr&-Sr:q6.transition!==null?(Ep===0&&(Ep=ys()),Ep):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:Wc(s.type)),s)}function ui(s,l,d,g){if(50<vf)throw vf=0,hb=null,Error(r(185));oa(s,d,g),((rt&2)===0||s!==hr)&&(s===hr&&((rt&2)===0&&(bp|=d),or===4&&wa(s,Sr)),on(s,g),d===1&&rt===0&&(l.mode&1)===0&&(ou=vt()+500,Jh&&ma()))}function on(s,l){var d=s.callbackNode;io(s,l);var g=gs(s,s===hr?Sr:0);if(g===0)d!==null&&Fc(d),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(d!=null&&Fc(d),l===1)s.tag===0?z6(dI.bind(null,s)):QA(dI.bind(null,s)),V6(function(){(rt&6)===0&&ma()}),d=null;else{switch(sa(g)){case 1:d=ps;break;case 4:d=ra;break;case 16:d=kn;break;case 536870912:d=Eh;break;default:d=kn}d=xI(d,fI.bind(null,s))}s.callbackPriority=l,s.callbackNode=d}}function fI(s,l){if(Sp=-1,Ep=0,(rt&6)!==0)throw Error(r(327));var d=s.callbackNode;if(au()&&s.callbackNode!==d)return null;var g=gs(s,s===hr?Sr:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=Tp(s,g);else{l=g;var _=rt;rt|=2;var A=pI();(hr!==s||Sr!==l)&&(yo=null,ou=vt()+500,Cs(s,l));do try{cF();break}catch(z){hI(s,z)}while(!0);Cv(),vp.current=A,rt=_,Xt!==null?l=0:(hr=null,Sr=0,l=or)}if(l!==0){if(l===2&&(_=yn(s),_!==0&&(g=_,l=pb(s,_))),l===1)throw d=gf,Cs(s,0),wa(s,g),on(s,vt()),d;if(l===6)wa(s,g);else{if(_=s.current.alternate,(g&30)===0&&!lF(_)&&(l=Tp(s,g),l===2&&(A=yn(s),A!==0&&(g=A,l=pb(s,A))),l===1))throw d=gf,Cs(s,0),wa(s,g),on(s,vt()),d;switch(s.finishedWork=_,s.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ns(s,nn,yo);break;case 3:if(wa(s,g),(g&130023424)===g&&(l=fb+500-vt(),10<l)){if(gs(s,0)!==0)break;if(_=s.suspendedLanes,(_&g)!==g){Wr(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=xv(Ns.bind(null,s,nn,yo),l);break}Ns(s,nn,yo);break;case 4:if(wa(s,g),(g&4194240)===g)break;for(l=s.eventTimes,_=-1;0<g;){var D=31-Br(g);A=1<<D,D=l[D],D>_&&(_=D),g&=~A}if(g=_,g=vt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*sF(g/1960))-g,10<g){s.timeoutHandle=xv(Ns.bind(null,s,nn,yo),g);break}Ns(s,nn,yo);break;case 5:Ns(s,nn,yo);break;default:throw Error(r(329))}}}return on(s,vt()),s.callbackNode===d?fI.bind(null,s):null}function pb(s,l){var d=yf;return s.current.memoizedState.isDehydrated&&(Cs(s,l).flags|=256),s=Tp(s,l),s!==2&&(l=nn,nn=d,l!==null&&mb(l)),s}function mb(s){nn===null?nn=s:nn.push.apply(nn,s)}function lF(s){for(var l=s;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],A=_.getSnapshot;_=_.value;try{if(!ii(A(),_))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wa(s,l){for(l&=~cb,l&=~bp,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var d=31-Br(l),g=1<<d;s[d]=-1,l&=~g}}function dI(s){if((rt&6)!==0)throw Error(r(327));au();var l=gs(s,0);if((l&1)===0)return on(s,vt()),null;var d=Tp(s,l);if(s.tag!==0&&d===2){var g=yn(s);g!==0&&(l=g,d=pb(s,g))}if(d===1)throw d=gf,Cs(s,0),wa(s,l),on(s,vt()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Ns(s,nn,yo),on(s,vt()),null}function gb(s,l){var d=rt;rt|=1;try{return s(l)}finally{rt=d,rt===0&&(ou=vt()+500,Jh&&ma())}}function ks(s){xa!==null&&xa.tag===0&&(rt&6)===0&&au();var l=rt;rt|=1;var d=Ln.transition,g=Ze;try{if(Ln.transition=null,Ze=1,s)return s()}finally{Ze=g,Ln.transition=d,rt=l,(rt&6)===0&&ma()}}function yb(){wn=iu.current,Tt(iu)}function Cs(s,l){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,$6(d)),Xt!==null)for(d=Xt.return;d!==null;){var g=d;switch(Av(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Yh();break;case 3:tu(),Tt(en),Tt(Cr),Vv();break;case 5:Lv(g);break;case 4:tu();break;case 13:Tt(Mt);break;case 19:Tt(Mt);break;case 10:Nv(g.type._context);break;case 22:case 23:yb()}d=d.return}if(hr=s,Xt=s=Sa(s.current,null),Sr=wn=l,or=0,gf=null,cb=bp=Os=0,nn=yf=null,As!==null){for(l=0;l<As.length;l++)if(d=As[l],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,A=d.pending;if(A!==null){var D=A.next;A.next=_,g.next=D}d.pending=g}As=null}return s}function hI(s,l){do{var d=Xt;try{if(Cv(),lp.current=dp,up){for(var g=Dt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}up=!1}if(Is=0,dr=ir=Dt=null,cf=!1,ff=0,ub.current=null,d===null||d.return===null){or=1,gf=l,Xt=null;break}e:{var A=s,D=d.return,z=d,W=l;if(l=Sr,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=W,me=z,ye=me.tag;if((me.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=$P(D);if(Ee!==null){Ee.flags&=-257,VP(Ee,D,z,A,l),Ee.mode&1&&LP(A,re,l),l=Ee,W=re;var Ie=l.updateQueue;if(Ie===null){var Oe=new Set;Oe.add(W),l.updateQueue=Oe}else Ie.add(W);break e}else{if((l&1)===0){LP(A,re,l),vb();break e}W=Error(r(426))}}else if(Ct&&z.mode&1){var qt=$P(D);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),VP(qt,D,z,A,l),Ov(ru(W,z));break e}}A=W=ru(W,z),or!==4&&(or=2),yf===null?yf=[A]:yf.push(A),A=D;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var J=MP(A,W,l);lP(A,J);break e;case 1:z=W;var G=A.type,ee=A.stateNode;if((A.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(ba===null||!ba.has(ee)))){A.flags|=65536,l&=-l,A.lanes|=l;var ve=DP(A,z,l);lP(A,ve);break e}}A=A.return}while(A!==null)}gI(d)}catch(Ce){l=Ce,Xt===d&&d!==null&&(Xt=d=d.return);continue}break}while(!0)}function pI(){var s=vp.current;return vp.current=dp,s===null?dp:s}function vb(){(or===0||or===3||or===2)&&(or=4),hr===null||(Os&268435455)===0&&(bp&268435455)===0||wa(hr,Sr)}function Tp(s,l){var d=rt;rt|=2;var g=pI();(hr!==s||Sr!==l)&&(yo=null,Cs(s,l));do try{uF();break}catch(_){hI(s,_)}while(!0);if(Cv(),rt=d,vp.current=g,Xt!==null)throw Error(r(261));return hr=null,Sr=0,or}function uF(){for(;Xt!==null;)mI(Xt)}function cF(){for(;Xt!==null&&!wh();)mI(Xt)}function mI(s){var l=bI(s.alternate,s,wn);s.memoizedProps=s.pendingProps,l===null?gI(s):Xt=l,ub.current=null}function gI(s){var l=s;do{var d=l.alternate;if(s=l.return,(l.flags&32768)===0){if(d=rF(d,l,wn),d!==null){Xt=d;return}}else{if(d=nF(d,l),d!==null){d.flags&=32767,Xt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{or=6,Xt=null;return}}if(l=l.sibling,l!==null){Xt=l;return}Xt=l=s}while(l!==null);or===0&&(or=5)}function Ns(s,l,d){var g=Ze,_=Ln.transition;try{Ln.transition=null,Ze=1,fF(s,l,d,g)}finally{Ln.transition=_,Ze=g}return null}function fF(s,l,d,g){do au();while(xa!==null);if((rt&6)!==0)throw Error(r(327));d=s.finishedWork;var _=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var A=d.lanes|d.childLanes;if(pt(s,A),s===hr&&(Xt=hr=null,Sr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||_p||(_p=!0,xI(kn,function(){return au(),null})),A=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||A){A=Ln.transition,Ln.transition=null;var D=Ze;Ze=1;var z=rt;rt|=4,ub.current=null,oF(s,d),aI(d,s),C6(vv),ua=!!yv,vv=yv=null,s.current=d,aF(d),tv(),rt=z,Ze=D,Ln.transition=A}else s.current=d;if(_p&&(_p=!1,xa=s,wp=_),A=s.pendingLanes,A===0&&(ba=null),Th(d.stateNode),on(s,vt()),l!==null)for(g=s.onRecoverableError,d=0;d<l.length;d++)_=l[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(xp)throw xp=!1,s=db,db=null,s;return(wp&1)!==0&&s.tag!==0&&au(),A=s.pendingLanes,(A&1)!==0?s===hb?vf++:(vf=0,hb=s):vf=0,ma(),null}function au(){if(xa!==null){var s=sa(wp),l=Ln.transition,d=Ze;try{if(Ln.transition=null,Ze=16>s?16:s,xa===null)var g=!1;else{if(s=xa,xa=null,wp=0,(rt&6)!==0)throw Error(r(331));var _=rt;for(rt|=4,Ae=s.current;Ae!==null;){var A=Ae,D=A.child;if((Ae.flags&16)!==0){var z=A.deletions;if(z!==null){for(var W=0;W<z.length;W++){var re=z[W];for(Ae=re;Ae!==null;){var me=Ae;switch(me.tag){case 0:case 11:case 15:mf(8,me,A)}var ye=me.child;if(ye!==null)ye.return=me,Ae=ye;else for(;Ae!==null;){me=Ae;var pe=me.sibling,Ee=me.return;if(tI(me),me===re){Ae=null;break}if(pe!==null){pe.return=Ee,Ae=pe;break}Ae=Ee}}}var Ie=A.alternate;if(Ie!==null){var Oe=Ie.child;if(Oe!==null){Ie.child=null;do{var qt=Oe.sibling;Oe.sibling=null,Oe=qt}while(Oe!==null)}}Ae=A}}if((A.subtreeFlags&2064)!==0&&D!==null)D.return=A,Ae=D;else e:for(;Ae!==null;){if(A=Ae,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:mf(9,A,A.return)}var J=A.sibling;if(J!==null){J.return=A.return,Ae=J;break e}Ae=A.return}}var G=s.current;for(Ae=G;Ae!==null;){D=Ae;var ee=D.child;if((D.subtreeFlags&2064)!==0&&ee!==null)ee.return=D,Ae=ee;else e:for(D=G;Ae!==null;){if(z=Ae,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:yp(9,z)}}catch(Ce){Vt(z,z.return,Ce)}if(z===D){Ae=null;break e}var ve=z.sibling;if(ve!==null){ve.return=z.return,Ae=ve;break e}Ae=z.return}}if(rt=_,ma(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ms,s)}catch{}g=!0}return g}finally{Ze=d,Ln.transition=l}}return!1}function yI(s,l,d){l=ru(d,l),l=MP(s,l,1),s=ya(s,l,1),l=Wr(),s!==null&&(oa(s,1,l),on(s,l))}function Vt(s,l,d){if(s.tag===3)yI(s,s,d);else for(;l!==null;){if(l.tag===3){yI(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))){s=ru(d,s),s=DP(l,s,1),l=ya(l,s,1),s=Wr(),l!==null&&(oa(l,1,s),on(l,s));break}}l=l.return}}function dF(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),l=Wr(),s.pingedLanes|=s.suspendedLanes&d,hr===s&&(Sr&d)===d&&(or===4||or===3&&(Sr&130023424)===Sr&&500>vt()-fb?Cs(s,0):cb|=d),on(s,l)}function vI(s,l){l===0&&((s.mode&1)===0?l=1:(l=Ol,Ol<<=1,(Ol&130023424)===0&&(Ol=4194304)));var d=Wr();s=po(s,l),s!==null&&(oa(s,l,d),on(s,d))}function hF(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),vI(s,d)}function pF(s,l){var d=0;switch(s.tag){case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),vI(s,d)}var bI;bI=function(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps||en.current)rn=!0;else{if((s.lanes&d)===0&&(l.flags&128)===0)return rn=!1,tF(s,l,d);rn=(s.flags&131072)!==0}else rn=!1,Ct&&(l.flags&1048576)!==0&&JA(l,ep,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;mp(s,l),s=l.pendingProps;var _=Kl(l,Cr.current);eu(l,d),_=Bv(null,l,g,s,_,d);var A=zv();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,tn(g)?(A=!0,Qh(l)):A=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Mv(l),_.updater=hp,l.stateNode=_,_._reactInternals=l,Xv(l,g,s,d),l=Zv(null,l,g,!0,A,d)):(l.tag=0,Ct&&A&&Tv(l),qr(null,l,_,d),l=l.child),l;case 16:g=l.elementType;e:{switch(mp(s,l),s=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=gF(g),s=ai(g,s),_){case 0:l=Jv(null,l,g,s,d);break e;case 1:l=WP(null,l,g,s,d);break e;case 11:l=FP(null,l,g,s,d);break e;case 14:l=UP(null,l,g,ai(g.type,s),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ai(g,_),Jv(s,l,g,_,d);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ai(g,_),WP(s,l,g,_,d);case 3:e:{if(HP(l),s===null)throw Error(r(387));g=l.pendingProps,A=l.memoizedState,_=A.element,sP(s,l),ap(l,g,null,d);var D=l.memoizedState;if(g=D.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){_=ru(Error(r(423)),l),l=GP(s,l,g,d,_);break e}else if(g!==_){_=ru(Error(r(424)),l),l=GP(s,l,g,d,_);break e}else for(_n=da(l.stateNode.containerInfo.firstChild),xn=l,Ct=!0,oi=null,d=oP(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ql(),g===_){l=go(s,l,d);break e}qr(s,l,g,d)}l=l.child}return l;case 5:return cP(l),s===null&&Iv(l),g=l.type,_=l.pendingProps,A=s!==null?s.memoizedProps:null,D=_.children,bv(g,_)?D=null:A!==null&&bv(g,A)&&(l.flags|=32),qP(s,l),qr(s,l,D,d),l.child;case 6:return s===null&&Iv(l),null;case 13:return KP(s,l,d);case 4:return Dv(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Jl(l,null,g,d):qr(s,l,g,d),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ai(g,_),FP(s,l,g,_,d);case 7:return qr(s,l,l.pendingProps,d),l.child;case 8:return qr(s,l,l.pendingProps.children,d),l.child;case 12:return qr(s,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,A=l.memoizedProps,D=_.value,bt(np,g._currentValue),g._currentValue=D,A!==null)if(ii(A.value,D)){if(A.children===_.children&&!en.current){l=go(s,l,d);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var z=A.dependencies;if(z!==null){D=A.child;for(var W=z.firstContext;W!==null;){if(W.context===g){if(A.tag===1){W=mo(-1,d&-d),W.tag=2;var re=A.updateQueue;if(re!==null){re=re.shared;var me=re.pending;me===null?W.next=W:(W.next=me.next,me.next=W),re.pending=W}}A.lanes|=d,W=A.alternate,W!==null&&(W.lanes|=d),jv(A.return,d,l),z.lanes|=d;break}W=W.next}}else if(A.tag===10)D=A.type===l.type?null:A.child;else if(A.tag===18){if(D=A.return,D===null)throw Error(r(341));D.lanes|=d,z=D.alternate,z!==null&&(z.lanes|=d),jv(D,d,l),D=A.sibling}else D=A.child;if(D!==null)D.return=A;else for(D=A;D!==null;){if(D===l){D=null;break}if(A=D.sibling,A!==null){A.return=D.return,D=A;break}D=D.return}A=D}qr(s,l,_.children,d),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,eu(l,d),_=Mn(_),g=g(_),l.flags|=1,qr(s,l,g,d),l.child;case 14:return g=l.type,_=ai(g,l.pendingProps),_=ai(g.type,_),UP(s,l,g,_,d);case 15:return BP(s,l,l.type,l.pendingProps,d);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ai(g,_),mp(s,l),l.tag=1,tn(g)?(s=!0,Qh(l)):s=!1,eu(l,d),jP(l,g,_),Xv(l,g,_,d),Zv(null,l,g,!0,s,d);case 19:return YP(s,l,d);case 22:return zP(s,l,d)}throw Error(r(156,l.tag))};function xI(s,l){return Pl(s,l)}function mF(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,l,d,g){return new mF(s,l,d,g)}function bb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gF(s){if(typeof s=="function")return bb(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===Z)return 14}return 2}function Sa(s,l){var d=s.alternate;return d===null?(d=$n(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Ap(s,l,d,g,_,A){var D=2;if(g=s,typeof s=="function")bb(s)&&(D=1);else if(typeof s=="string")D=5;else e:switch(s){case I:return js(d.children,_,A,l);case C:D=8,_|=8;break;case j:return s=$n(12,d,l,_|2),s.elementType=j,s.lanes=A,s;case $:return s=$n(13,d,l,_),s.elementType=$,s.lanes=A,s;case Y:return s=$n(19,d,l,_),s.elementType=Y,s.lanes=A,s;case ae:return Pp(d,_,A,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:D=10;break e;case V:D=9;break e;case L:D=11;break e;case Z:D=14;break e;case ie:D=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=$n(D,d,l,_),l.elementType=s,l.type=g,l.lanes=A,l}function js(s,l,d,g){return s=$n(7,s,g,l),s.lanes=d,s}function Pp(s,l,d,g){return s=$n(22,s,g,l),s.elementType=ae,s.lanes=d,s.stateNode={isHidden:!1},s}function xb(s,l,d){return s=$n(6,s,null,l),s.lanes=d,s}function _b(s,l,d){return l=$n(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function yF(s,l,d,g,_){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function wb(s,l,d,g,_,A,D,z,W){return s=new yF(s,l,d,z,W),l===1?(l=1,A===!0&&(l|=8)):l=0,A=$n(3,null,null,l),s.current=A,A.stateNode=s,A.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mv(A),s}function vF(s,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:s,containerInfo:l,implementation:d}}function _I(s){if(!s)return pa;s=s._reactInternals;e:{if(Qn(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(tn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(tn(d))return XA(s,d,l)}return l}function wI(s,l,d,g,_,A,D,z,W){return s=wb(d,g,!0,s,_,A,D,z,W),s.context=_I(null),d=s.current,g=Wr(),_=_a(d),A=mo(g,_),A.callback=l??null,ya(d,A,_),s.current.lanes=_,oa(s,_,g),on(s,g),s}function Ip(s,l,d,g){var _=l.current,A=Wr(),D=_a(_);return d=_I(d),l.context===null?l.context=d:l.pendingContext=d,l=mo(A,D),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=ya(_,l,D),s!==null&&(ui(s,_,D,A),op(s,_,D)),D}function Op(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function SI(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function Sb(s,l){SI(s,l),(s=s.alternate)&&SI(s,l)}function bF(){return null}var EI=typeof reportError=="function"?reportError:function(s){console.error(s)};function Eb(s){this._internalRoot=s}kp.prototype.render=Eb.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));Ip(s,l,null,null)},kp.prototype.unmount=Eb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;ks(function(){Ip(null,s,null,null)}),l[uo]=null}};function kp(s){this._internalRoot=s}kp.prototype.unstable_scheduleHydration=function(s){if(s){var l=kh();s={blockedOn:null,target:s,priority:l};for(var d=0;d<Pi.length&&l!==0&&l<Pi[d].priority;d++);Pi.splice(d,0,s),d===0&&jh(s)}};function Tb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function TI(){}function xF(s,l,d,g,_){if(_){if(typeof g=="function"){var A=g;g=function(){var re=Op(D);A.call(re)}}var D=wI(l,g,s,0,null,!1,!1,"",TI);return s._reactRootContainer=D,s[uo]=D.current,tf(s.nodeType===8?s.parentNode:s),ks(),D}for(;_=s.lastChild;)s.removeChild(_);if(typeof g=="function"){var z=g;g=function(){var re=Op(W);z.call(re)}}var W=wb(s,0,!1,null,null,!1,!1,"",TI);return s._reactRootContainer=W,s[uo]=W.current,tf(s.nodeType===8?s.parentNode:s),ks(function(){Ip(l,W,d,g)}),W}function Np(s,l,d,g,_){var A=d._reactRootContainer;if(A){var D=A;if(typeof _=="function"){var z=_;_=function(){var W=Op(D);z.call(W)}}Ip(l,D,s,_)}else D=xF(d,l,s,_,g);return Op(D)}Ih=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var d=na(l.pendingLanes);d!==0&&(aa(l,d|1),on(l,vt()),(rt&6)===0&&(ou=vt()+500,ma()))}break;case 13:ks(function(){var g=po(s,1);if(g!==null){var _=Wr();ui(g,s,1,_)}}),Sb(s,1)}},kl=function(s){if(s.tag===13){var l=po(s,134217728);if(l!==null){var d=Wr();ui(l,s,134217728,d)}Sb(s,134217728)}},Oh=function(s){if(s.tag===13){var l=_a(s),d=po(s,l);if(d!==null){var g=Wr();ui(d,s,l,g)}Sb(s,l)}},kh=function(){return Ze},Ch=function(s,l){var d=Ze;try{return Ze=s,l()}finally{Ze=d}},_l=function(s,l,d){switch(l){case"input":if(Gt(s,d),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var _=Xh(g);if(!_)throw Error(r(90));he(g),Gt(g,_)}}}break;case"textarea":to(s,d);break;case"select":l=d.value,l!=null&&br(s,!!d.multiple,l,!1)}},cs=gb,Dc=ks;var _F={usingClientEntryPoint:!1,Events:[of,Hl,Xh,Ti,Mc,gb]},bf={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wF={bundleType:bf.bundleType,version:bf.version,rendererPackageName:bf.rendererPackageName,rendererConfig:bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Vc(s),s===null?null:s.stateNode},findFiberByHostInstance:bf.findFiberByHostInstance||bF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{ms=jp.inject(wF),gn=jp}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_F,an.createPortal=function(s,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tb(l))throw Error(r(200));return vF(s,l,null,d)},an.createRoot=function(s,l){if(!Tb(s))throw Error(r(299));var d=!1,g="",_=EI;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=wb(s,1,!1,null,null,d,!1,g,_),s[uo]=l.current,tf(s.nodeType===8?s.parentNode:s),new Eb(l)},an.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Vc(l),s=s===null?null:s.stateNode,s},an.flushSync=function(s){return ks(s)},an.hydrate=function(s,l,d){if(!Cp(l))throw Error(r(200));return Np(null,s,l,!0,d)},an.hydrateRoot=function(s,l,d){if(!Tb(s))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,_=!1,A="",D=EI;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),l=wI(l,null,s,1,d??null,_,!1,A,D),s[uo]=l.current,tf(s),g)for(s=0;s<g.length;s++)d=g[s],_=d._getVersion,_=_(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,_]:l.mutableSourceEagerHydrationData.push(d,_);return new kp(l)},an.render=function(s,l,d){if(!Cp(l))throw Error(r(200));return Np(null,s,l,!1,d)},an.unmountComponentAtNode=function(s){if(!Cp(s))throw Error(r(40));return s._reactRootContainer?(ks(function(){Np(null,null,s,!1,function(){s._reactRootContainer=null,s[uo]=null})}),!0):!1},an.unstable_batchedUpdates=gb,an.unstable_renderSubtreeIntoContainer=function(s,l,d,g){if(!Cp(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Np(s,l,d,!1,g)},an.version="18.3.1-next-f1338f8080-20240426",an}var jI;function MD(){if(jI)return Ib.exports;jI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ib.exports=CF(),Ib.exports}var RI;function NF(){if(RI)return Mp;RI=1;var t=MD();return Mp.createRoot=t.createRoot,Mp.hydrateRoot=t.hydrateRoot,Mp}var jF=NF();MD();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rd.apply(this,arguments)}var ja;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ja||(ja={}));const MI="popstate";function RF(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:u="",hash:c=""}=ul(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),e1("",{pathname:a,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:hm(o))}function n(i,o){Mg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return DF(e,r,n,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MF(){return Math.random().toString(36).substr(2,8)}function DI(t,e){return{usr:t.state,key:t.key,idx:e}}function e1(t,e,r,n){return r===void 0&&(r=null),rd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:r,key:e&&e.key||n||MF()})}function hm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ul(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function DF(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,u=ja.Pop,c=null,f=h();f==null&&(f=0,a.replaceState(rd({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function p(){u=ja.Pop;let b=h(),E=b==null?null:b-f;f=b,c&&c({action:u,location:w.location,delta:E})}function y(b,E){u=ja.Push;let P=e1(w.location,b,E);r&&r(P,b),f=h()+1;let O=DI(P,f),M=w.createHref(P);try{a.pushState(O,"",M)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(M)}o&&c&&c({action:u,location:w.location,delta:1})}function x(b,E){u=ja.Replace;let P=e1(w.location,b,E);r&&r(P,b),f=h();let O=DI(P,f),M=w.createHref(P);a.replaceState(O,"",M),o&&c&&c({action:u,location:w.location,delta:0})}function S(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof b=="string"?b:hm(b);return P=P.replace(/ $/,"%20"),Lt(E,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,E)}let w={get action(){return u},get location(){return t(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(MI,p),c=b,()=>{i.removeEventListener(MI,p),c=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let E=S(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:x,go(b){return a.go(b)}};return w}var LI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(LI||(LI={}));function LF(t,e,r){return r===void 0&&(r="/"),$F(t,e,r)}function $F(t,e,r,n){let i=typeof e=="string"?ul(e):e,o=Iu(i.pathname||"/",r);if(o==null)return null;let a=DD(t);VF(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=YF(o);u=KF(a[c],f)}return u}function DD(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Lt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let f=$a([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(Lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),DD(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:HF(f,o.index),routesMeta:h})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of LD(o.path))i(o,a,c)}),e}function LD(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=LD(n.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function VF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:GF(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const FF=/^:[\w-]+$/,UF=3,BF=2,zF=1,qF=10,WF=-2,$I=t=>t==="*";function HF(t,e){let r=t.split("/"),n=r.length;return r.some($I)&&(n+=WF),e&&(n+=BF),r.filter(i=>!$I(i)).reduce((i,o)=>i+(FF.test(o)?UF:o===""?zF:qF),n)}function GF(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function KF(t,e,r){let{routesMeta:n}=t,i={},o="/",a=[];for(let u=0;u<n.length;++u){let c=n[u],f=u===n.length-1,h=o==="/"?e:e.slice(o.length)||"/",p=t1({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),y=c.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:$a([o,p.pathname]),pathnameBase:tU($a([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=$a([o,p.pathnameBase]))}return a}function t1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=XF(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((f,h,p)=>{let{paramName:y,isOptional:x}=h;if(y==="*"){let w=u[p]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=u[p];return x&&!S?f[y]=void 0:f[y]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function XF(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Mg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function YF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Iu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const QF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JF=t=>QF.test(t);function ZF(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ul(t):t,o;if(r)if(JF(r))o=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Mg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?o=VI(r.substring(1),"/"):o=VI(r,e)}else o=e;return{pathname:o,search:rU(n),hash:nU(i)}}function VI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Cb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function iE(t,e){let r=eU(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ul(t):(i=rd({},t),Lt(!i.pathname||!i.pathname.includes("?"),Cb("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Cb("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Cb("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let c=ZF(i,u),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const $a=t=>t.join("/").replace(/\/\/+/g,"/"),tU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $D=["post","put","patch","delete"];new Set($D);const oU=["get",...$D];new Set(oU);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nd.apply(this,arguments)}const Dg=F.createContext(null),VD=F.createContext(null),zo=F.createContext(null),Lg=F.createContext(null),Qi=F.createContext({outlet:null,matches:[],isDataRoute:!1}),FD=F.createContext(null);function aU(t,e){let{relative:r}=e===void 0?{}:e;cc()||Lt(!1);let{basename:n,navigator:i}=F.useContext(zo),{hash:o,pathname:a,search:u}=$g(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:$a([n,a])),i.createHref({pathname:c,search:u,hash:o})}function cc(){return F.useContext(Lg)!=null}function cl(){return cc()||Lt(!1),F.useContext(Lg).location}function UD(t){F.useContext(zo).static||F.useLayoutEffect(t)}function qo(){let{isDataRoute:t}=F.useContext(Qi);return t?wU():sU()}function sU(){cc()||Lt(!1);let t=F.useContext(Dg),{basename:e,future:r,navigator:n}=F.useContext(zo),{matches:i}=F.useContext(Qi),{pathname:o}=cl(),a=JSON.stringify(iE(i,r.v7_relativeSplatPath)),u=F.useRef(!1);return UD(()=>{u.current=!0}),F.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){n.go(f);return}let p=oE(f,JSON.parse(a),o,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:$a([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,o,t])}const lU=F.createContext(null);function uU(t){let e=F.useContext(Qi).outlet;return e&&F.createElement(lU.Provider,{value:t},e)}function cU(){let{matches:t}=F.useContext(Qi),e=t[t.length-1];return e?e.params:{}}function $g(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=F.useContext(zo),{matches:i}=F.useContext(Qi),{pathname:o}=cl(),a=JSON.stringify(iE(i,n.v7_relativeSplatPath));return F.useMemo(()=>oE(t,JSON.parse(a),o,r==="path"),[t,a,o,r])}function fU(t,e){return dU(t,e)}function dU(t,e,r,n){cc()||Lt(!1);let{navigator:i}=F.useContext(zo),{matches:o}=F.useContext(Qi),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=cl(),h;if(e){var p;let b=typeof e=="string"?ul(e):e;c==="/"||(p=b.pathname)!=null&&p.startsWith(c)||Lt(!1),h=b}else h=f;let y=h.pathname||"/",x=y;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=LF(t,{pathname:x}),w=yU(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:$a([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:$a([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return e&&w?F.createElement(Lg.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ja.Pop}},w):w}function hU(){let t=_U(),e=iU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:i},r):null,null)}const pU=F.createElement(hU,null);class mU extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?F.createElement(Qi.Provider,{value:this.props.routeContext},F.createElement(FD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gU(t){let{routeContext:e,match:r,children:n}=t,i=F.useContext(Dg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(Qi.Provider,{value:e},n)}function yU(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let h=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||Lt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:y,errors:x}=r,S=p.route.loader&&y[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,y)=>{let x,S=!1,w=null,b=null;r&&(x=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||pU,c&&(f<0&&y===0?(SU("route-fallback"),S=!0,b=null):f===y&&(S=!0,b=p.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,y+1)),P=()=>{let O;return x?O=w:S?O=b:p.route.Component?O=F.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,F.createElement(gU,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:O})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?F.createElement(mU,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):P()},null)}var BD=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(BD||{}),zD=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(zD||{});function vU(t){let e=F.useContext(Dg);return e||Lt(!1),e}function bU(t){let e=F.useContext(VD);return e||Lt(!1),e}function xU(t){let e=F.useContext(Qi);return e||Lt(!1),e}function qD(t){let e=xU(),r=e.matches[e.matches.length-1];return r.route.id||Lt(!1),r.route.id}function _U(){var t;let e=F.useContext(FD),r=bU(),n=qD();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function wU(){let{router:t}=vU(BD.UseNavigateStable),e=qD(zD.UseNavigateStable),r=F.useRef(!1);return UD(()=>{r.current=!0}),F.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nd({fromRouteId:e},o)))},[t,e])}const FI={};function SU(t,e,r){FI[t]||(FI[t]=!0)}function EU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function r1(t){let{to:e,replace:r,state:n,relative:i}=t;cc()||Lt(!1);let{future:o,static:a}=F.useContext(zo),{matches:u}=F.useContext(Qi),{pathname:c}=cl(),f=qo(),h=oE(e,iE(u,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return F.useEffect(()=>f(JSON.parse(p),{replace:r,state:n,relative:i}),[f,p,i,r,n]),null}function WD(t){return uU(t.context)}function Er(t){Lt(!1)}function TU(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ja.Pop,navigator:o,static:a=!1,future:u}=t;cc()&&Lt(!1);let c=e.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:c,navigator:o,static:a,future:nd({v7_relativeSplatPath:!1},u)}),[c,u,o,a]);typeof n=="string"&&(n=ul(n));let{pathname:h="/",search:p="",hash:y="",state:x=null,key:S="default"}=n,w=F.useMemo(()=>{let b=Iu(h,c);return b==null?null:{location:{pathname:b,search:p,hash:y,state:x,key:S},navigationType:i}},[c,h,p,y,x,S,i]);return w==null?null:F.createElement(zo.Provider,{value:f},F.createElement(Lg.Provider,{children:r,value:w}))}function AU(t){let{children:e,location:r}=t;return fU(n1(e),r)}new Promise(()=>{});function n1(t,e){e===void 0&&(e=[]);let r=[];return F.Children.forEach(t,(n,i)=>{if(!F.isValidElement(n))return;let o=[...e,i];if(n.type===F.Fragment){r.push.apply(r,n1(n.props.children,o));return}n.type!==Er&&Lt(!1),!n.props.index||!n.props.children||Lt(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=n1(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pm.apply(this,arguments)}function HD(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function PU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IU(t,e){return t.button===0&&(!e||e==="_self")&&!PU(t)}const OU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],CU="6";try{window.__reactRouterVersion=CU}catch{}const NU=F.createContext({isTransitioning:!1}),jU="startTransition",UI=IF[jU];function RU(t){let{basename:e,children:r,future:n,window:i}=t,o=F.useRef();o.current==null&&(o.current=RF({window:i,v5Compat:!0}));let a=o.current,[u,c]=F.useState({action:a.action,location:a.location}),{v7_startTransition:f}=n||{},h=F.useCallback(p=>{f&&UI?UI(()=>c(p)):c(p)},[c,f]);return F.useLayoutEffect(()=>a.listen(h),[a,h]),F.useEffect(()=>EU(n),[n]),F.createElement(TU,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:a,future:n})}const MU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mi=F.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:o,replace:a,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p}=e,y=HD(e,OU),{basename:x}=F.useContext(zo),S,w=!1;if(typeof f=="string"&&DU.test(f)&&(S=f,MU))try{let O=new URL(window.location.href),M=f.startsWith("//")?new URL(O.protocol+f):new URL(f),k=Iu(M.pathname,x);M.origin===O.origin&&k!=null?f=k+M.search+M.hash:w=!0}catch{}let b=aU(f,{relative:i}),E=$U(f,{replace:a,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p});function P(O){n&&n(O),O.defaultPrevented||E(O)}return F.createElement("a",pm({},y,{href:S||b,onClick:w||o?n:P,ref:r,target:c}))}),i1=F.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:u,to:c,viewTransition:f,children:h}=e,p=HD(e,kU),y=$g(c,{relative:p.relative}),x=cl(),S=F.useContext(VD),{navigator:w,basename:b}=F.useContext(zo),E=S!=null&&VU(y)&&f===!0,P=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,O=x.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(O=O.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&b&&(M=Iu(M,b)||M);const k=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let R=O===P||!a&&O.startsWith(P)&&O.charAt(k)==="/",I=M!=null&&(M===P||!a&&M.startsWith(P)&&M.charAt(P.length)==="/"),C={isActive:R,isPending:I,isTransitioning:E},j=R?n:void 0,U;typeof o=="function"?U=o(C):U=[o,R?"active":null,I?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return F.createElement(mi,pm({},p,{"aria-current":j,className:U,ref:r,style:V,to:c,viewTransition:f}),typeof h=="function"?h(C):h)});var o1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(o1||(o1={}));var BI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BI||(BI={}));function LU(t){let e=F.useContext(Dg);return e||Lt(!1),e}function $U(t,e){let{target:r,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}=e===void 0?{}:e,c=qo(),f=cl(),h=$g(t,{relative:a});return F.useCallback(p=>{if(IU(p,r)){p.preventDefault();let y=n!==void 0?n:hm(f)===hm(h);c(t,{replace:y,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,c,h,n,i,r,t,o,a,u])}function VU(t,e){e===void 0&&(e={});let r=F.useContext(NU);r==null&&Lt(!1);let{basename:n}=LU(o1.useViewTransitionState),i=$g(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=Iu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Iu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return t1(i.pathname,a)!=null||t1(i.pathname,o)!=null}const FU=()=>{};var zI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},UU=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],a=t[r++],u=t[r++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},KD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4;let y=(u&15)<<2|f>>6,x=f&63;c||(x=64,a||(y=64)),n.push(r[h],r[p],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new BU;const y=o<<2|u>>4;if(n.push(y),f!==64){const x=u<<4&240|f>>2;if(n.push(x),p!==64){const S=f<<6&192|p;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zU=function(t){const e=GD(t);return KD.encodeByteArray(e,!0)},mm=function(t){return zU(t).replace(/\./g,"")},XD=function(t){try{return KD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=()=>qU().__FIREBASE_DEFAULTS__,HU=()=>{if(typeof process>"u"||typeof zI>"u")return;const t=zI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XD(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return FU()||WU()||HU()||GU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YD=t=>{var e,r;return(r=(e=Vg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},KU=t=>{const e=YD(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},QD=()=>{var t;return(t=Vg())===null||t===void 0?void 0:t.config},JD=t=>{var e;return(e=Vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mm(JSON.stringify(r)),mm(JSON.stringify(a)),""].join(".")}const zf={};function QU(){const t={prod:[],emulator:[]};for(const e of Object.keys(zf))zf[e]?t.emulator.push(e):t.prod.push(e);return t}function JU(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let qI=!1;function eL(t,e){if(typeof window>"u"||typeof document>"u"||!fc(window.location.host)||zf[t]===e||zf[t]||qI)return;zf[t]=e;function r(y){return`__firebase__banner__${y}`}const n="__firebase__banner",o=QU().prod.length>0;function a(){const y=document.getElementById(n);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{qI=!0,a()},y}function h(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=JU(n),x=r("text"),S=document.getElementById(x)||document.createElement("span"),w=r("learnmore"),b=document.getElementById(w)||document.createElement("a"),E=r("preprendIcon"),P=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const O=y.element;u(O),h(b,w);const M=f();c(P,E),O.append(P,S,b,M),document.body.appendChild(O)}o?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function eB(){var t;const e=(t=Vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iB(){const t=Fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oB(){return!eB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aB(){try{return typeof indexedDB=="object"}catch{return!1}}function sB(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="FirebaseError";class Wo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=lB,Object.setPrototypeOf(this,Wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kd.prototype.create)}}class Kd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?uB(o,n):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Wo(i,u,n)}}function uB(t,e){return t.replace(cB,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const cB=/\{\$([^}]+)}/g;function fB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],a=e[i];if(WI(o)&&WI(a)){if(!Ro(o,a))return!1}else if(o!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function WI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Rf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Mf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function dB(t,e){const r=new hB(t,e);return r.subscribe.bind(r)}class hB{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");pB(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Nb),i.error===void 0&&(i.error=Nb),i.complete===void 0&&(i.complete=Nb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pB(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Nb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class el{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new XU;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yB(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gB(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gB(t){return t===Ls?void 0:t}function yB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mB(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const bB={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},xB=Qe.INFO,_B={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},wB=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=_B[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aE{constructor(e){this.name=e,this._logLevel=xB,this._logHandler=wB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const SB=(t,e)=>e.some(r=>t instanceof r);let HI,GI;function EB(){return HI||(HI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TB(){return GI||(GI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tL=new WeakMap,a1=new WeakMap,rL=new WeakMap,jb=new WeakMap,sE=new WeakMap;function AB(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(Va(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&tL.set(r,t)}).catch(()=>{}),sE.set(e,t),e}function PB(t){if(a1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});a1.set(t,e)}let s1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return a1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rL.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Va(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IB(t){s1=t(s1)}function OB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Rb(this),e,...r);return rL.set(n,e.sort?e.sort():[e]),Va(n)}:TB().includes(t)?function(...e){return t.apply(Rb(this),e),Va(tL.get(this))}:function(...e){return Va(t.apply(Rb(this),e))}}function kB(t){return typeof t=="function"?OB(t):(t instanceof IDBTransaction&&PB(t),SB(t,EB())?new Proxy(t,s1):t)}function Va(t){if(t instanceof IDBRequest)return AB(t);if(jb.has(t))return jb.get(t);const e=kB(t);return e!==t&&(jb.set(t,e),sE.set(e,t)),e}const Rb=t=>sE.get(t);function CB(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=Va(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Va(a.result),c.oldVersion,c.newVersion,Va(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const NB=["get","getKey","getAll","getAllKeys","count"],jB=["put","add","delete","clear"],Mb=new Map;function KI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mb.get(e))return Mb.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=jB.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||NB.includes(r)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return Mb.set(e,o),o}IB(t=>({...t,get:(e,r,n)=>KI(e,r)||t.get(e,r,n),has:(e,r)=>!!KI(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(MB(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function MB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const l1="@firebase/app",XI="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new aE("@firebase/app"),DB="@firebase/app-compat",LB="@firebase/analytics-compat",$B="@firebase/analytics",VB="@firebase/app-check-compat",FB="@firebase/app-check",UB="@firebase/auth",BB="@firebase/auth-compat",zB="@firebase/database",qB="@firebase/data-connect",WB="@firebase/database-compat",HB="@firebase/functions",GB="@firebase/functions-compat",KB="@firebase/installations",XB="@firebase/installations-compat",YB="@firebase/messaging",QB="@firebase/messaging-compat",JB="@firebase/performance",ZB="@firebase/performance-compat",ez="@firebase/remote-config",tz="@firebase/remote-config-compat",rz="@firebase/storage",nz="@firebase/storage-compat",iz="@firebase/firestore",oz="@firebase/ai",az="@firebase/firestore-compat",sz="firebase",lz="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="[DEFAULT]",uz={[l1]:"fire-core",[DB]:"fire-core-compat",[$B]:"fire-analytics",[LB]:"fire-analytics-compat",[FB]:"fire-app-check",[VB]:"fire-app-check-compat",[UB]:"fire-auth",[BB]:"fire-auth-compat",[zB]:"fire-rtdb",[qB]:"fire-data-connect",[WB]:"fire-rtdb-compat",[HB]:"fire-fn",[GB]:"fire-fn-compat",[KB]:"fire-iid",[XB]:"fire-iid-compat",[YB]:"fire-fcm",[QB]:"fire-fcm-compat",[JB]:"fire-perf",[ZB]:"fire-perf-compat",[ez]:"fire-rc",[tz]:"fire-rc-compat",[rz]:"fire-gcs",[nz]:"fire-gcs-compat",[iz]:"fire-fst",[az]:"fire-fst-compat",[oz]:"fire-vertex","fire-js":"fire-js",[sz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,cz=new Map,c1=new Map;function YI(t,e){try{t.container.addComponent(e)}catch(r){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ou(t){const e=t.name;if(c1.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;c1.set(e,t);for(const r of gm.values())YI(r,t);for(const r of cz.values())YI(r,t);return!0}function lE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new Kd("app","Firebase",fz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=lz;function nL(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:u1,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Fa.create("bad-app-name",{appName:String(i)});if(r||(r=QD()),!r)throw Fa.create("no-options");const o=gm.get(i);if(o){if(Ro(r,o.options)&&Ro(n,o.config))return o;throw Fa.create("duplicate-app",{appName:i})}const a=new vB(i);for(const c of c1.values())a.addComponent(c);const u=new dz(r,n,a);return gm.set(i,u),u}function iL(t=u1){const e=gm.get(t);if(!e&&t===u1&&QD())return nL();if(!e)throw Fa.create("no-app",{appName:t});return e}function Ua(t,e,r){var n;let i=(n=uz[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mo.warn(u.join(" "));return}Ou(new el(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="firebase-heartbeat-database",pz=1,id="firebase-heartbeat-store";let Db=null;function oL(){return Db||(Db=CB(hz,pz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(id)}catch(r){console.warn(r)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),Db}async function mz(t){try{const r=(await oL()).transaction(id),n=await r.objectStore(id).get(aL(t));return await r.done,n}catch(e){if(e instanceof Wo)Mo.warn(e.message);else{const r=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mo.warn(r.message)}}}async function QI(t,e){try{const n=(await oL()).transaction(id,"readwrite");await n.objectStore(id).put(e,aL(t)),await n.done}catch(r){if(r instanceof Wo)Mo.warn(r.message);else{const n=Fa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Mo.warn(n.message)}}}function aL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=1024,yz=30;class vz{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new xz(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=JI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yz){const a=_z(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Mo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=JI(),{heartbeatsToSend:n,unsentEntries:i}=bz(this._heartbeatsCache.heartbeats),o=mm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return Mo.warn(r),""}}}function JI(){return new Date().toISOString().substring(0,10)}function bz(t,e=gz){const r=[];let n=t.slice();for(const i of t){const o=r.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),ZI(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ZI(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class xz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aB()?sB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mz(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return QI(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return QI(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZI(t){return mm(JSON.stringify({version:2,heartbeats:t})).length}function _z(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){Ou(new el("platform-logger",e=>new RB(e),"PRIVATE")),Ou(new el("heartbeat",e=>new vz(e),"PRIVATE")),Ua(l1,XI,t),Ua(l1,XI,"esm2017"),Ua("fire-js","")}wz("");function uE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function sL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sz=sL,lL=new Kd("auth","Firebase",sL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new aE("@firebase/auth");function Ez(t,...e){ym.logLevel<=Qe.WARN&&ym.warn(`Auth (${dc}): ${t}`,...e)}function nm(t,...e){ym.logLevel<=Qe.ERROR&&ym.error(`Auth (${dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,...e){throw fE(t,...e)}function vi(t,...e){return fE(t,...e)}function cE(t,e,r){const n=Object.assign(Object.assign({},Sz()),{[e]:r});return new Kd("auth","Firebase",n).create(e,{appName:t.name})}function Io(t){return cE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uL(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Hn(t,"argument-error"),cE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return lL.create(t,...e)}function $e(t,e,...r){if(!t)throw fE(e,...r)}function So(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nm(e),new Error(e)}function Do(t,e){t||So(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tz(){return eO()==="http:"||eO()==="https:"}function eO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tz()||rB()||"connection"in navigator)?navigator.onLine:!0}function Pz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Do(r>e,"Short delay should be less than long delay!"),this.isMobile=ZU()||nB()}get(){return Az()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){Do(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;So("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;So("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;So("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kz=new Yd(3e4,6e4);function Ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ji(t,e,r,n,i={}){return fL(t,i,async()=>{let o={},a={};n&&(e==="GET"?a=n:o={body:JSON.stringify(n)});const u=Xd(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return tB()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&fc(t.emulatorConfig.host)&&(f.credentials="include"),cL.fetch()(await dL(t,t.config.apiHost,r,u),f)})}async function fL(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Iz),e);try{const i=new Nz(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Dp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Dp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Dp(t,"user-disabled",a);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw cE(t,h,f);Hn(t,h)}}catch(i){if(i instanceof Wo)throw i;Hn(t,"network-request-failed",{message:String(i)})}}async function Qd(t,e,r,n,i={}){const o=await Ji(t,e,r,n,i);return"mfaPendingCredential"in o&&Hn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function dL(t,e,r,n){const i=`${e}${r}?${n}`,o=t,a=o.config.emulator?dE(t.config,i):`${t.config.apiScheme}://${i}`;return Oz.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function Cz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(vi(this.auth,"network-request-failed")),kz.get())})}}function Dp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=vi(t,e,n);return i.customData._tokenResponse=r,i}function tO(t){return t!==void 0&&t.enterprise!==void 0}class jz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Cz(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rz(t,e){return Ji(t,"GET","/v2/recaptchaConfig",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function vm(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dz(t,e=!1){const r=Rt(t),n=await r.getIdToken(e),i=hE(n);$e(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:qf(Lb(i.auth_time)),issuedAtTime:qf(Lb(i.iat)),expirationTime:qf(Lb(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lb(t){return Number(t)*1e3}function hE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return nm("JWT malformed, contained fewer than 3 sections"),null;try{const i=XD(r);return i?JSON.parse(i):(nm("Failed to decode base64 JWT payload"),null)}catch(i){return nm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rO(t){const e=hE(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Wo&&Lz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Lz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){var e;const r=t.auth,n=await t.getIdToken(),i=await ku(t,vm(r,{idToken:n}));$e(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hL(o.providerUserInfo):[],u=Fz(t.providerData,a),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),h=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new d1(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Vz(t){const e=Rt(t);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fz(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function hL(t){return t.map(e=>{var{providerId:r}=e,n=uE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e){const r=await fL(t,{},async()=>{const n=Xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await dL(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:n};return t.emulatorConfig&&fc(t.emulatorConfig.host)&&(c.credentials="include"),cL.fetch()(a,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Bz(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const r=rO(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await Uz(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,a=new bu;return n&&($e(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&($e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&($e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return So("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=uE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new d1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await ku(this,this.stsTokenManager.getToken(this.auth,e));return $e(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Dz(this,e)}reload(){return Vz(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await od(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Io(this.auth));const e=await this.getIdToken();return await ku(this,Mz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,a,u,c,f,h;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,S=(a=r.photoURL)!==null&&a!==void 0?a:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,E=(f=r.createdAt)!==null&&f!==void 0?f:void 0,P=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:O,emailVerified:M,isAnonymous:k,providerData:R,stsTokenManager:I}=r;$e(O&&I,e,"internal-error");const C=bu.fromJSON(this.name,I);$e(typeof O=="string",e,"internal-error"),Ta(p,e.name),Ta(y,e.name),$e(typeof M=="boolean",e,"internal-error"),$e(typeof k=="boolean",e,"internal-error"),Ta(x,e.name),Ta(S,e.name),Ta(w,e.name),Ta(b,e.name),Ta(E,e.name),Ta(P,e.name);const j=new gi({uid:O,auth:e,email:y,emailVerified:M,displayName:p,isAnonymous:k,photoURL:S,phoneNumber:x,tenantId:w,stsTokenManager:C,createdAt:E,lastLoginAt:P});return R&&Array.isArray(R)&&(j.providerData=R.map(U=>Object.assign({},U))),b&&(j._redirectEventId=b),j}static async _fromIdTokenResponse(e,r,n=!1){const i=new bu;i.updateFromServerResponse(r);const o=new gi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await od(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];$e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?hL(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new bu;u.updateFromIdToken(n);const c=new gi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new d1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Map;function Eo(t){Do(t instanceof Function,"Expected a class definition");let e=nO.get(t);return e?(Do(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}pL.type="NONE";const iO=pL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e,r){return`firebase:${t}:${e}:${r}`}class xu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=im(this.userKey,i.apiKey,o),this.fullPersistenceKey=im("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await vm(this.auth,{idToken:e}).catch(()=>{});return r?gi._fromGetAccountInfoResponse(this.auth,r,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new xu(Eo(iO),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Eo(iO);const a=im(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(a);if(h){let p;if(typeof h=="string"){const y=await vm(e,{idToken:h}).catch(()=>{});if(!y)break;p=await gi._fromGetAccountInfoResponse(e,y,h)}else p=gi._fromJSON(e,h);f!==o&&(u=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new xu(o,e,n):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new xu(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xL(e))return"Blackberry";if(_L(e))return"Webos";if(gL(e))return"Safari";if((e.includes("chrome/")||yL(e))&&!e.includes("edge/"))return"Chrome";if(bL(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function mL(t=Fr()){return/firefox\//i.test(t)}function gL(t=Fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yL(t=Fr()){return/crios\//i.test(t)}function vL(t=Fr()){return/iemobile/i.test(t)}function bL(t=Fr()){return/android/i.test(t)}function xL(t=Fr()){return/blackberry/i.test(t)}function _L(t=Fr()){return/webos/i.test(t)}function pE(t=Fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zz(t=Fr()){var e;return pE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qz(){return iB()&&document.documentMode===10}function wL(t=Fr()){return pE(t)||bL(t)||_L(t)||xL(t)||/windows phone/i.test(t)||vL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t,e=[]){let r;switch(t){case"Browser":r=oO(Fr());break;case"Worker":r=`${oO(Fr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${dc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",Ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=6;class Kz{constructor(e){var r,n,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:Gz,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aO(this),this.idTokenSubscription=new aO(this),this.beforeStateQueue=new Wz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Eo(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await vm(this,{idToken:e}),n=await gi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Io(this));const r=e?Rt(e):null;return r&&$e(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hz(this),r=new Kz(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Bz(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Eo(e)||this._popupRedirectResolver;$e(r,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Eo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{a=!0,c()}}else{const c=e.addObserver(r);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Ez(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Go(t){return Rt(t)}class aO{constructor(e){this.auth=e,this.observer=null,this.addObserver=dB(r=>this.observer=r)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yz(t){Fg=t}function EL(t){return Fg.loadJS(t)}function Qz(){return Fg.recaptchaEnterpriseScript}function Jz(){return Fg.gapiScript}function Zz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class e9{constructor(){this.enterprise=new t9}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class t9{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const r9="recaptcha-enterprise",TL="NO_RECAPTCHA";class n9{constructor(e){this.type=r9,this.auth=Go(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{Rz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new jz(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;tO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(TL)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e9().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{n(this.auth).then(u=>{if(!r&&tO(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Qz();c.length!==0&&(c+=u),EL(c).then(()=>{i(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function sO(t,e,r,n=!1,i=!1){const o=new n9(t);let a;if(i)a=TL;else try{a=await o.verify(r)}catch{a=await o.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function bm(t,e,r,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await sO(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await sO(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e){const r=lE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Ro(o,e??{}))return i;Hn(i,"already-initialized")}return r.initialize({options:e})}function o9(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Eo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function a9(t,e,r){const n=Go(t);$e(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=AL(e),{host:a,port:u}=s9(e),c=u===null?"":`:${u}`,f={url:`${o}//${a}${c}/`},h=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){$e(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),$e(Ro(f,n.config.emulator)&&Ro(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,fc(a)?(ZD(`${o}//${a}${c}`),eL("Auth",!0)):l9()}function AL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s9(t){const e=AL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:lO(n.substr(o.length+1))}}else{const[o,a]=n.split(":");return{host:o,port:lO(a)}}}function lO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l9(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return So("not implemented")}_getIdTokenResponse(e){return So("not implemented")}_linkToIdToken(e,r){return So("not implemented")}_getReauthenticationResolver(e){return So("not implemented")}}async function u9(t,e){return Ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e){return Qd(t,"POST","/v1/accounts:signInWithPassword",Ho(t,e))}async function f9(t,e){return Ji(t,"POST","/v1/accounts:sendOobCode",Ho(t,e))}async function d9(t,e){return f9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,e))}async function p9(t,e){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends mE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ad(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ad(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,r,"signInWithPassword",c9);case"emailLink":return h9(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signUpPassword",u9);case"emailLink":return p9(e,{idToken:r,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e){return Qd(t,"POST","/v1/accounts:signInWithIdp",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="http://localhost";class tl extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Hn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=uE(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new tl(n,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return _u(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,_u(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,_u(e,r)}buildRequest(){const e={requestUri:m9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Xd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y9(t){const e=Rf(Mf(t)).link,r=e?Rf(Mf(e)).deep_link_id:null,n=Rf(Mf(t)).deep_link_id;return(n?Rf(Mf(n)).link:null)||n||r||e||t}class gE{constructor(e){var r,n,i,o,a,u;const c=Rf(Mf(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,p=g9((i=c.mode)!==null&&i!==void 0?i:null);$e(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=y9(e);try{return new gE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,r){return ad._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=gE.parseLink(r);return $e(n,"argument-error"),ad._fromEmailAndCode(e,n.code,n.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends Ug{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Jd{constructor(){super("facebook.com")}static credential(e){return tl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return tl._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Li.credential(r,n)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Jd{constructor(){super("github.com")}static credential(e){return tl._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.GITHUB_SIGN_IN_METHOD="github.com";ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Jd{constructor(){super("twitter.com")}static credential(e,r){return tl._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ca.credential(r,n)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e){return Qd(t,"POST","/v1/accounts:signUp",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await gi._fromIdTokenResponse(e,n,i),a=uO(n);return new rl({user:o,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=uO(n);return new rl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function uO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Wo{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,xm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new xm(e,r,n,i)}}function PL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xm._fromErrorAndOperation(t,o,e,n):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function IL(t,e,r=!1){const n=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return rl._forOperation(t,"link",n)}async function x9(t,e,r){await od(e);const n=b9(e.providerData);$e(n.has(r)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t,e,r=!1){const{auth:n}=t;if(Tn(n.app))return Promise.reject(Io(n));const i="reauthenticate";try{const o=await ku(t,PL(n,i,e,t),r);$e(o.idToken,n,"internal-error");const a=hE(o.idToken);$e(a,n,"internal-error");const{sub:u}=a;return $e(t.uid===u,n,"user-mismatch"),rl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Hn(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e,r=!1){if(Tn(t.app))return Promise.reject(Io(t));const n="signIn",i=await PL(t,n,e),o=await rl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function w9(t,e){return OL(Go(t),e)}async function S9(t,e){const r=Rt(t);return await x9(!1,r,e.providerId),IL(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t){const e=Go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E9(t,e,r){const n=Go(t);await bm(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",d9)}async function T9(t,e,r){if(Tn(t.app))return Promise.reject(Io(t));const n=Go(t),a=await bm(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&kL(t),c}),u=await rl._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(u.user),u}function A9(t,e,r){return Tn(t.app)?Promise.reject(Io(t)):w9(Rt(t),fl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&kL(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t,e){return Ji(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Rt(t),o={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await ku(n,P9(n.auth,o));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const u=n.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function I9(t,e,r,n){return Rt(t).onIdTokenChanged(e,r,n)}function O9(t,e,r){return Rt(t).beforeAuthStateChanged(e,r)}function k9(t,e,r,n){return Rt(t).onAuthStateChanged(e,r,n)}function C9(t){return Rt(t).signOut()}const _m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=1e3,j9=10;class NL extends CL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},o=this.storage.getItem(n);qz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j9):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},N9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}NL.type="LOCAL";const R9=NL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL extends CL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}jL.type="SESSION";const RL=jL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Bg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(a).map(async f=>f(r.origin,o)),c=await M9(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const f=yE("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function L9(t){Fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function $9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F9(){return ML()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebaseLocalStorageDb",U9=1,wm="firebaseLocalStorage",LL="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function zg(t,e){return t.transaction([wm],e?"readwrite":"readonly").objectStore(wm)}function B9(){const t=indexedDB.deleteDatabase(DL);return new Zd(t).toPromise()}function h1(){const t=indexedDB.open(DL,U9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(wm,{keyPath:LL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(wm)?e(n):(n.close(),await B9(),e(await h1()))})})}async function fO(t,e,r){const n=zg(t,!0).put({[LL]:e,value:r});return new Zd(n).toPromise()}async function z9(t,e){const r=zg(t,!1).get(e),n=await new Zd(r).toPromise();return n===void 0?null:n.value}function dO(t,e){const r=zg(t,!0).delete(e);return new Zd(r).toPromise()}const q9=800,W9=3;class $L{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>W9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ML()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bg._getInstance(F9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await $9(),!this.activeServiceWorker)return;this.sender=new D9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h1();return await fO(e,_m,"1"),await dO(e,_m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>fO(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>z9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>dO(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=zg(i,!1).getAll();return new Zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$L.type="LOCAL";const H9=$L;new Yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e){return e?Eo(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends mE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _u(e,this._buildIdpRequest())}_linkToIdToken(e,r){return _u(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return _u(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function G9(t){return OL(t.auth,new bE(t),t.bypassAuthState)}function K9(t){const{auth:e,user:r}=t;return $e(r,e,"internal-error"),_9(r,new bE(t),t.bypassAuthState)}async function X9(t){const{auth:e,user:r}=t;return $e(r,e,"internal-error"),IL(r,new bE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return X9;case"reauthViaPopup":case"reauthViaRedirect":return K9;default:Hn(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Yd(2e3,1e4);async function Q9(t,e,r){if(Tn(t.app))return Promise.reject(vi(t,"operation-not-supported-in-this-environment"));const n=Go(t);uL(t,e,Ug);const i=vE(n,r);return new Ra(n,"signInViaPopup",e,i).executeNotNull()}async function J9(t,e,r){const n=Rt(t);uL(n.auth,e,Ug);const i=vE(n.auth,r);return new Ra(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class Ra extends VL{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Do(this.filter.length===1,"Popup operations only handle one event");const e=yE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y9.get())};e()}}Ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="pendingRedirect",om=new Map;class eq extends VL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=om.get(this.auth._key());if(!e){try{const n=await tq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}om.set(this.auth._key(),e)}return this.bypassAuthState||om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tq(t,e){const r=iq(e),n=nq(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function rq(t,e){om.set(t._key(),e)}function nq(t){return Eo(t._redirectPersistence)}function iq(t){return im(Z9,t.config.apiKey,t.name)}async function oq(t,e,r=!1){if(Tn(t.app))return Promise.reject(Io(t));const n=Go(t),i=vE(n,e),a=await new eq(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=600*1e3;class sq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lq(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!FL(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(vi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aq&&this.cachedEventUids.clear(),this.cachedEventUids.has(hO(e))}saveEventToCache(e){this.cachedEventUids.add(hO(e)),this.lastProcessedEventTime=Date.now()}}function hO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uq(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fq=/^https?/;async function dq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uq(t);for(const r of e)try{if(hq(r))return}catch{}Hn(t,"unauthorized-domain")}function hq(t){const e=f1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!fq.test(r))return!1;if(cq.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=new Yd(3e4,6e4);function pO(){const t=Fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function mq(t){return new Promise((e,r)=>{var n,i,o;function a(){pO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pO(),r(vi(t,"network-request-failed"))},timeout:pq.get()})}if(!((i=(n=Fi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fi().gapi)===null||o===void 0)&&o.load)a();else{const u=Zz("iframefcb");return Fi()[u]=()=>{gapi.load?a():r(vi(t,"network-request-failed"))},EL(`${Jz()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw am=null,e})}let am=null;function gq(t){return am=am||mq(t),am}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=new Yd(5e3,15e3),vq="__/auth/iframe",bq="emulator/auth/iframe",xq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_q=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wq(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?dE(e,bq):`https://${t.config.authDomain}/${vq}`,n={apiKey:e.apiKey,appName:t.name,v:dc},i=_q.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Xd(n).slice(1)}`}async function Sq(t){const e=await gq(t),r=Fi().gapi;return $e(r,t,"internal-error"),e.open({where:document.body,url:wq(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xq,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const a=vi(t,"network-request-failed"),u=Fi().setTimeout(()=>{o(a)},yq.get());function c(){Fi().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tq=500,Aq=600,Pq="_blank",Iq="http://localhost";class mO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oq(t,e,r,n=Tq,i=Aq){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},Eq),{width:n.toString(),height:i.toString(),top:o,left:a}),f=Fr().toLowerCase();r&&(u=yL(f)?Pq:r),mL(f)&&(e=e||Iq,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(zz(f)&&u!=="_self")return kq(e||"",u),new mO(null);const p=window.open(e||"",u,h);$e(p,t,"popup-blocked");try{p.focus()}catch{}return new mO(p)}function kq(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq="__/auth/handler",Nq="emulator/auth/handler",jq=encodeURIComponent("fac");async function gO(t,e,r,n,i,o){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:dc,eventId:i};if(e instanceof Ug){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",fB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof Jd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${jq}=${encodeURIComponent(c)}`:"";return`${Rq(t)}?${Xd(u).slice(1)}${f}`}function Rq({config:t}){return t.emulator?dE(t,Nq):`https://${t.authDomain}/${Cq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="webStorageSupport";class Mq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RL,this._completeRedirectFn=oq,this._overrideRedirectResult=rq}async _openPopup(e,r,n,i){var o;Do((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await gO(e,r,n,f1(),i);return Oq(e,a,yE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await gO(e,r,n,f1(),i);return L9(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(Do(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Sq(e),n=new sq(e);return r.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send($b,{type:$b},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[$b];a!==void 0&&r(!!a),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dq(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return wL()||gL()||pE()}}const Dq=Mq;var yO="@firebase/auth",vO="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vq(t){Ou(new el("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=n.options;$e(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SL(t)},f=new Xz(n,i,o,c);return o9(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ou(new el("auth-internal",e=>{const r=Go(e.getProvider("auth").getImmediate());return(n=>new Lq(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ua(yO,vO,$q(t)),Ua(yO,vO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=300,Uq=JD("authIdTokenMaxAge")||Fq;let bO=null;const Bq=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Uq)return;const i=r==null?void 0:r.token;bO!==i&&(bO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zq(t=iL()){const e=lE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=i9(t,{popupRedirectResolver:Dq,persistence:[H9,R9,RL]}),n=JD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const a=Bq(o.toString());O9(r,a,()=>a(r.currentUser)),I9(r,u=>a(u))}}const i=YD("auth");return i&&a9(r,`http://${i}`),r}function qq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Yz({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=vi("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",qq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vq("Browser");var Wq="firebase",Hq="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(Wq,Hq,"app");var xO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ba,UL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function j(){}j.prototype=C.prototype,I.D=C.prototype,I.prototype=new j,I.prototype.constructor=I,I.C=function(U,V,L){for(var $=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)$[Y-2]=arguments[Y];return C.prototype[V].apply(U,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,C,j){j||(j=0);var U=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)U[V]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(V=0;16>V;++V)U[V]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=I.g[0],j=I.g[1],V=I.g[2];var L=I.g[3],$=C+(L^j&(V^L))+U[0]+3614090360&4294967295;C=j+($<<7&4294967295|$>>>25),$=L+(V^C&(j^V))+U[1]+3905402710&4294967295,L=C+($<<12&4294967295|$>>>20),$=V+(j^L&(C^j))+U[2]+606105819&4294967295,V=L+($<<17&4294967295|$>>>15),$=j+(C^V&(L^C))+U[3]+3250441966&4294967295,j=V+($<<22&4294967295|$>>>10),$=C+(L^j&(V^L))+U[4]+4118548399&4294967295,C=j+($<<7&4294967295|$>>>25),$=L+(V^C&(j^V))+U[5]+1200080426&4294967295,L=C+($<<12&4294967295|$>>>20),$=V+(j^L&(C^j))+U[6]+2821735955&4294967295,V=L+($<<17&4294967295|$>>>15),$=j+(C^V&(L^C))+U[7]+4249261313&4294967295,j=V+($<<22&4294967295|$>>>10),$=C+(L^j&(V^L))+U[8]+1770035416&4294967295,C=j+($<<7&4294967295|$>>>25),$=L+(V^C&(j^V))+U[9]+2336552879&4294967295,L=C+($<<12&4294967295|$>>>20),$=V+(j^L&(C^j))+U[10]+4294925233&4294967295,V=L+($<<17&4294967295|$>>>15),$=j+(C^V&(L^C))+U[11]+2304563134&4294967295,j=V+($<<22&4294967295|$>>>10),$=C+(L^j&(V^L))+U[12]+1804603682&4294967295,C=j+($<<7&4294967295|$>>>25),$=L+(V^C&(j^V))+U[13]+4254626195&4294967295,L=C+($<<12&4294967295|$>>>20),$=V+(j^L&(C^j))+U[14]+2792965006&4294967295,V=L+($<<17&4294967295|$>>>15),$=j+(C^V&(L^C))+U[15]+1236535329&4294967295,j=V+($<<22&4294967295|$>>>10),$=C+(V^L&(j^V))+U[1]+4129170786&4294967295,C=j+($<<5&4294967295|$>>>27),$=L+(j^V&(C^j))+U[6]+3225465664&4294967295,L=C+($<<9&4294967295|$>>>23),$=V+(C^j&(L^C))+U[11]+643717713&4294967295,V=L+($<<14&4294967295|$>>>18),$=j+(L^C&(V^L))+U[0]+3921069994&4294967295,j=V+($<<20&4294967295|$>>>12),$=C+(V^L&(j^V))+U[5]+3593408605&4294967295,C=j+($<<5&4294967295|$>>>27),$=L+(j^V&(C^j))+U[10]+38016083&4294967295,L=C+($<<9&4294967295|$>>>23),$=V+(C^j&(L^C))+U[15]+3634488961&4294967295,V=L+($<<14&4294967295|$>>>18),$=j+(L^C&(V^L))+U[4]+3889429448&4294967295,j=V+($<<20&4294967295|$>>>12),$=C+(V^L&(j^V))+U[9]+568446438&4294967295,C=j+($<<5&4294967295|$>>>27),$=L+(j^V&(C^j))+U[14]+3275163606&4294967295,L=C+($<<9&4294967295|$>>>23),$=V+(C^j&(L^C))+U[3]+4107603335&4294967295,V=L+($<<14&4294967295|$>>>18),$=j+(L^C&(V^L))+U[8]+1163531501&4294967295,j=V+($<<20&4294967295|$>>>12),$=C+(V^L&(j^V))+U[13]+2850285829&4294967295,C=j+($<<5&4294967295|$>>>27),$=L+(j^V&(C^j))+U[2]+4243563512&4294967295,L=C+($<<9&4294967295|$>>>23),$=V+(C^j&(L^C))+U[7]+1735328473&4294967295,V=L+($<<14&4294967295|$>>>18),$=j+(L^C&(V^L))+U[12]+2368359562&4294967295,j=V+($<<20&4294967295|$>>>12),$=C+(j^V^L)+U[5]+4294588738&4294967295,C=j+($<<4&4294967295|$>>>28),$=L+(C^j^V)+U[8]+2272392833&4294967295,L=C+($<<11&4294967295|$>>>21),$=V+(L^C^j)+U[11]+1839030562&4294967295,V=L+($<<16&4294967295|$>>>16),$=j+(V^L^C)+U[14]+4259657740&4294967295,j=V+($<<23&4294967295|$>>>9),$=C+(j^V^L)+U[1]+2763975236&4294967295,C=j+($<<4&4294967295|$>>>28),$=L+(C^j^V)+U[4]+1272893353&4294967295,L=C+($<<11&4294967295|$>>>21),$=V+(L^C^j)+U[7]+4139469664&4294967295,V=L+($<<16&4294967295|$>>>16),$=j+(V^L^C)+U[10]+3200236656&4294967295,j=V+($<<23&4294967295|$>>>9),$=C+(j^V^L)+U[13]+681279174&4294967295,C=j+($<<4&4294967295|$>>>28),$=L+(C^j^V)+U[0]+3936430074&4294967295,L=C+($<<11&4294967295|$>>>21),$=V+(L^C^j)+U[3]+3572445317&4294967295,V=L+($<<16&4294967295|$>>>16),$=j+(V^L^C)+U[6]+76029189&4294967295,j=V+($<<23&4294967295|$>>>9),$=C+(j^V^L)+U[9]+3654602809&4294967295,C=j+($<<4&4294967295|$>>>28),$=L+(C^j^V)+U[12]+3873151461&4294967295,L=C+($<<11&4294967295|$>>>21),$=V+(L^C^j)+U[15]+530742520&4294967295,V=L+($<<16&4294967295|$>>>16),$=j+(V^L^C)+U[2]+3299628645&4294967295,j=V+($<<23&4294967295|$>>>9),$=C+(V^(j|~L))+U[0]+4096336452&4294967295,C=j+($<<6&4294967295|$>>>26),$=L+(j^(C|~V))+U[7]+1126891415&4294967295,L=C+($<<10&4294967295|$>>>22),$=V+(C^(L|~j))+U[14]+2878612391&4294967295,V=L+($<<15&4294967295|$>>>17),$=j+(L^(V|~C))+U[5]+4237533241&4294967295,j=V+($<<21&4294967295|$>>>11),$=C+(V^(j|~L))+U[12]+1700485571&4294967295,C=j+($<<6&4294967295|$>>>26),$=L+(j^(C|~V))+U[3]+2399980690&4294967295,L=C+($<<10&4294967295|$>>>22),$=V+(C^(L|~j))+U[10]+4293915773&4294967295,V=L+($<<15&4294967295|$>>>17),$=j+(L^(V|~C))+U[1]+2240044497&4294967295,j=V+($<<21&4294967295|$>>>11),$=C+(V^(j|~L))+U[8]+1873313359&4294967295,C=j+($<<6&4294967295|$>>>26),$=L+(j^(C|~V))+U[15]+4264355552&4294967295,L=C+($<<10&4294967295|$>>>22),$=V+(C^(L|~j))+U[6]+2734768916&4294967295,V=L+($<<15&4294967295|$>>>17),$=j+(L^(V|~C))+U[13]+1309151649&4294967295,j=V+($<<21&4294967295|$>>>11),$=C+(V^(j|~L))+U[4]+4149444226&4294967295,C=j+($<<6&4294967295|$>>>26),$=L+(j^(C|~V))+U[11]+3174756917&4294967295,L=C+($<<10&4294967295|$>>>22),$=V+(C^(L|~j))+U[2]+718787259&4294967295,V=L+($<<15&4294967295|$>>>17),$=j+(L^(V|~C))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(V+($<<21&4294967295|$>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+L&4294967295}n.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var j=C-this.blockSize,U=this.B,V=this.h,L=0;L<C;){if(V==0)for(;L<=j;)i(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<C;)if(U[V++]=I.charCodeAt(L++),V==this.blockSize){i(this,U),V=0;break}}else for(;L<C;)if(U[V++]=I[L++],V==this.blockSize){i(this,U),V=0;break}}this.h=V,this.o+=C},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var j=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=j&255,j/=256;for(this.u(I),I=Array(16),C=j=0;4>C;++C)for(var U=0;32>U;U+=8)I[j++]=this.g[C]>>>U&255;return I};function o(I,C){var j=u;return Object.prototype.hasOwnProperty.call(j,I)?j[I]:j[I]=C(I)}function a(I,C){this.h=C;for(var j=[],U=!0,V=I.length-1;0<=V;V--){var L=I[V]|0;U&&L==C||(j[V]=L,U=!1)}this.g=j}var u={};function c(I){return-128<=I&&128>I?o(I,function(C){return new a([C|0],0>C?-1:0)}):new a([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return b(f(-I));for(var C=[],j=1,U=0;I>=j;U++)C[U]=I/j|0,j*=4294967296;return new a(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return b(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=f(Math.pow(C,8)),U=p,V=0;V<I.length;V+=8){var L=Math.min(8,I.length-V),$=parseInt(I.substring(V,V+L),C);8>L?(L=f(Math.pow(C,L)),U=U.j(L).add(f($))):(U=U.j(j),U=U.add(f($)))}return U}var p=c(0),y=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(w(this))return-b(this).m();for(var I=0,C=1,j=0;j<this.g.length;j++){var U=this.i(j);I+=(0<=U?U:4294967296+U)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(w(this))return"-"+b(this).toString(I);for(var C=f(Math.pow(I,6)),j=this,U="";;){var V=M(j,C).g;j=E(j,V.j(C));var L=((0<j.g.length?j.g[0]:j.h)>>>0).toString(I);if(j=V,S(j))return L+U;for(;6>L.length;)L="0"+L;U=L+U}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=E(this,I),w(I)?-1:S(I)?0:1};function b(I){for(var C=I.g.length,j=[],U=0;U<C;U++)j[U]=~I.g[U];return new a(j,~I.h).add(y)}t.abs=function(){return w(this)?b(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],U=0,V=0;V<=C;V++){var L=U+(this.i(V)&65535)+(I.i(V)&65535),$=(L>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);U=$>>>16,L&=65535,$&=65535,j[V]=$<<16|L}return new a(j,j[j.length-1]&-2147483648?-1:0)};function E(I,C){return I.add(b(C))}t.j=function(I){if(S(this)||S(I))return p;if(w(this))return w(I)?b(this).j(b(I)):b(b(this).j(I));if(w(I))return b(this.j(b(I)));if(0>this.l(x)&&0>I.l(x))return f(this.m()*I.m());for(var C=this.g.length+I.g.length,j=[],U=0;U<2*C;U++)j[U]=0;for(U=0;U<this.g.length;U++)for(var V=0;V<I.g.length;V++){var L=this.i(U)>>>16,$=this.i(U)&65535,Y=I.i(V)>>>16,Z=I.i(V)&65535;j[2*U+2*V]+=$*Z,P(j,2*U+2*V),j[2*U+2*V+1]+=L*Z,P(j,2*U+2*V+1),j[2*U+2*V+1]+=$*Y,P(j,2*U+2*V+1),j[2*U+2*V+2]+=L*Y,P(j,2*U+2*V+2)}for(U=0;U<C;U++)j[U]=j[2*U+1]<<16|j[2*U];for(U=C;U<2*C;U++)j[U]=0;return new a(j,0)};function P(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function O(I,C){this.g=I,this.h=C}function M(I,C){if(S(C))throw Error("division by zero");if(S(I))return new O(p,p);if(w(I))return C=M(b(I),C),new O(b(C.g),b(C.h));if(w(C))return C=M(I,b(C)),new O(b(C.g),C.h);if(30<I.g.length){if(w(I)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var j=y,U=C;0>=U.l(I);)j=k(j),U=k(U);var V=R(j,1),L=R(U,1);for(U=R(U,2),j=R(j,2);!S(U);){var $=L.add(U);0>=$.l(I)&&(V=V.add(j),L=$),U=R(U,1),j=R(j,1)}return C=E(I,V.j(C)),new O(V,C)}for(V=p;0<=I.l(C);){for(j=Math.max(1,Math.floor(I.m()/C.m())),U=Math.ceil(Math.log(j)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),L=f(j),$=L.j(C);w($)||0<$.l(I);)j-=U,L=f(j),$=L.j(C);S(L)&&(L=y),V=V.add(L),I=E(I,$)}return new O(V,I)}t.A=function(I){return M(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],U=0;U<C;U++)j[U]=this.i(U)&I.i(U);return new a(j,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],U=0;U<C;U++)j[U]=this.i(U)|I.i(U);return new a(j,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],U=0;U<C;U++)j[U]=this.i(U)^I.i(U);return new a(j,this.h^I.h)};function k(I){for(var C=I.g.length+1,j=[],U=0;U<C;U++)j[U]=I.i(U)<<1|I.i(U-1)>>>31;return new a(j,I.h)}function R(I,C){var j=C>>5;C%=32;for(var U=I.g.length-j,V=[],L=0;L<U;L++)V[L]=0<C?I.i(L+j)>>>C|I.i(L+j+1)<<32-C:I.i(L+j);return new a(V,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,UL=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Ba=a}).apply(typeof xO<"u"?xO:typeof self<"u"?self:typeof window<"u"?window:{});var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BL,Df,zL,sm,p1,qL,WL,HL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,N){return m==Array.prototype||m==Object.prototype||(m[T]=N.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lp=="object"&&Lp];for(var T=0;T<m.length;++T){var N=m[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=r(this);function i(m,T){if(T)e:{var N=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var Q=m[B];if(!(Q in N))break e;N=N[Q]}m=m[m.length-1],B=N[m],T=T(B),T!=B&&T!=null&&e(N,m,{configurable:!0,writable:!0,value:T})}}function o(m,T){m instanceof String&&(m+="");var N=0,B=!1,Q={next:function(){if(!B&&N<m.length){var se=N++;return{value:T(se,m[se]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(m){return m||function(){return o(this,function(T,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function f(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function h(m,T,N){return m.call.apply(m.bind,arguments)}function p(m,T,N){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,B),m.apply(T,Q)}}return function(){return m.apply(T,arguments)}}function y(m,T,N){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function x(m,T){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function S(m,T){function N(){}N.prototype=T.prototype,m.aa=T.prototype,m.prototype=new N,m.prototype.constructor=m,m.Qb=function(B,Q,se){for(var xe=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)xe[ct-2]=arguments[ct];return T.prototype[Q].apply(B,xe)}}function w(m){const T=m.length;if(0<T){const N=Array(T);for(let B=0;B<T;B++)N[B]=m[B];return N}return[]}function b(m,T){for(let N=1;N<arguments.length;N++){const B=arguments[N];if(c(B)){const Q=m.length||0,se=B.length||0;m.length=Q+se;for(let xe=0;xe<se;xe++)m[Q+xe]=B[xe]}else m.push(B)}}class E{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function P(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var k=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function R(m,T,N){for(const B in m)T.call(N,m[B],B,m)}function I(m,T){for(const N in m)T.call(void 0,m[N],N,m)}function C(m){const T={};for(const N in m)T[N]=m[N];return T}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,T){let N,B;for(let Q=1;Q<arguments.length;Q++){B=arguments[Q];for(N in B)m[N]=B[N];for(let se=0;se<j.length;se++)N=j[se],Object.prototype.hasOwnProperty.call(B,N)&&(m[N]=B[N])}}function V(m){var T=1;m=m.split(":");const N=[];for(;0<T&&m.length;)N.push(m.shift()),T--;return m.length&&N.push(m.join(":")),N}function L(m){u.setTimeout(()=>{throw m},0)}function $(){var m=oe;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class Y{constructor(){this.h=this.g=null}add(T,N){const B=Z.get();B.set(T,N),this.h?this.h.next=B:this.g=B,this.h=B}}var Z=new E(()=>new ie,m=>m.reset());class ie{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,X=!1,oe=new Y,ne=()=>{const m=u.Promise.resolve(void 0);ae=()=>{m.then(q)}};var q=()=>{for(var m;m=$();){try{m.h.call(m.g)}catch(N){L(N)}var T=Z;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}X=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};u.addEventListener("test",N,T),u.removeEventListener("test",N,T)}catch{}return m})();function ue(m,T){if(fe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var N=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(k){e:{try{M(T.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(T=null)}}else N=="mouseover"?T=m.fromElement:N=="mouseout"&&(T=m.toElement);this.relatedTarget=T,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:te[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}S(ue,fe);var te={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function ge(m,T,N,B,Q){this.listener=m,this.proxy=null,this.src=T,this.type=N,this.capture=!!B,this.ha=Q,this.key=++Ne,this.da=this.fa=!1}function ke(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ve(m){this.src=m,this.g={},this.h=0}Ve.prototype.add=function(m,T,N,B,Q){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var xe=at(m,T,B,Q);return-1<xe?(T=m[xe],N||(T.fa=!1)):(T=new ge(T,this.src,se,!!B,Q),T.fa=N,m.push(T)),T};function he(m,T){var N=T.type;if(N in m.g){var B=m.g[N],Q=Array.prototype.indexOf.call(B,T,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(B,Q,1),se&&(ke(T),m.g[N].length==0&&(delete m.g[N],m.h--))}}function at(m,T,N,B){for(var Q=0;Q<m.length;++Q){var se=m[Q];if(!se.da&&se.listener==T&&se.capture==!!N&&se.ha==B)return Q}return-1}var He="closure_lm_"+(1e6*Math.random()|0),yt={};function St(m,T,N,B,Q){if(Array.isArray(T)){for(var se=0;se<T.length;se++)St(m,T[se],N,B,Q);return null}return N=ea(N),m&&m[be]?m.K(T,N,f(B)?!!B.capture:!1,Q):Gt(m,T,N,!1,B,Q)}function Gt(m,T,N,B,Q,se){if(!T)throw Error("Invalid event type");var xe=f(Q)?!!Q.capture:!!Q,ct=Si(m);if(ct||(m[He]=ct=new Ve(m)),N=ct.add(T,N,B,xe,se),N.proxy)return N;if(B=hn(),N.proxy=B,B.src=m,B.listener=N,m.addEventListener)Se||(Q=xe),Q===void 0&&(Q=!1),m.addEventListener(T.toString(),B,Q);else if(m.attachEvent)m.attachEvent(br(T.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function hn(){function m(N){return T.call(m.src,m.listener,N)}const T=mn;return m}function pn(m,T,N,B,Q){if(Array.isArray(T))for(var se=0;se<T.length;se++)pn(m,T[se],N,B,Q);else B=f(B)?!!B.capture:!!B,N=ea(N),m&&m[be]?(m=m.i,T=String(T).toString(),T in m.g&&(se=m.g[T],N=at(se,N,B,Q),-1<N&&(ke(se[N]),Array.prototype.splice.call(se,N,1),se.length==0&&(delete m.g[T],m.h--)))):m&&(m=Si(m))&&(T=m.g[T.toString()],m=-1,T&&(m=at(T,N,B,Q)),(N=-1<m?T[m]:null)&&Qr(N))}function Qr(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[be])he(T.i,m);else{var N=m.type,B=m.proxy;T.removeEventListener?T.removeEventListener(N,B,m.capture):T.detachEvent?T.detachEvent(br(N),B):T.addListener&&T.removeListener&&T.removeListener(B),(N=Si(T))?(he(N,m),N.h==0&&(N.src=null,T[He]=null)):ke(m)}}}function br(m){return m in yt?yt[m]:yt[m]="on"+m}function mn(m,T){if(m.da)m=!0;else{T=new ue(T,this);var N=m.listener,B=m.ha||m.src;m.fa&&Qr(m),m=N.call(B,T)}return m}function Si(m){return m=m[He],m instanceof Ve?m:null}var to="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(m){return typeof m=="function"?m:(m[to]||(m[to]=function(T){return m.handleEvent(T)}),m[to])}function tr(){K.call(this),this.i=new Ve(this),this.M=this,this.F=null}S(tr,K),tr.prototype[be]=!0,tr.prototype.removeEventListener=function(m,T,N,B){pn(this,m,T,N,B)};function rr(m,T){var N,B=m.F;if(B)for(N=[];B;B=B.F)N.push(B);if(m=m.M,B=T.type||T,typeof T=="string")T=new fe(T,m);else if(T instanceof fe)T.target=T.target||m;else{var Q=T;T=new fe(B,m),U(T,Q)}if(Q=!0,N)for(var se=N.length-1;0<=se;se--){var xe=T.g=N[se];Q=ro(xe,B,!0,T)&&Q}if(xe=T.g=m,Q=ro(xe,B,!0,T)&&Q,Q=ro(xe,B,!1,T)&&Q,N)for(se=0;se<N.length;se++)xe=T.g=N[se],Q=ro(xe,B,!1,T)&&Q}tr.prototype.N=function(){if(tr.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var N=m.g[T],B=0;B<N.length;B++)ke(N[B]);delete m.g[T],m.h--}}this.F=null},tr.prototype.K=function(m,T,N,B){return this.i.add(String(m),T,!1,N,B)},tr.prototype.L=function(m,T,N,B){return this.i.add(String(m),T,!0,N,B)};function ro(m,T,N,B){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var Q=!0,se=0;se<T.length;++se){var xe=T[se];if(xe&&!xe.da&&xe.capture==N){var ct=xe.listener,nr=xe.ha||xe.src;xe.fa&&he(m.i,xe),Q=ct.call(nr,B)!==!1&&Q}}return Q&&!B.defaultPrevented}function Oc(m,T,N){if(typeof m=="function")N&&(m=y(m,N));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(m,T||0)}function ta(m){m.g=Oc(()=>{m.g=null,m.i&&(m.i=!1,ta(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class ss extends K{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ta(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(m){K.call(this),this.h=m,this.g={}}S(ls,K);var kc=[];function Cc(m){R(m.g,function(T,N){this.g.hasOwnProperty(N)&&Qr(T)},m),m.g={}}ls.prototype.N=function(){ls.aa.N.call(this),Cc(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nc=u.JSON.stringify,jc=u.JSON.parse,Rc=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function us(){}us.prototype.h=null;function xl(m){return m.h||(m.h=m.i())}function _l(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){fe.call(this,"d")}S(Ei,fe);function wl(){fe.call(this,"c")}S(wl,fe);var Ti={},Mc=null;function cs(){return Mc=Mc||new tr}Ti.La="serverreachability";function Dc(m){fe.call(this,Ti.La,m)}S(Dc,fe);function no(m){const T=cs();rr(T,new Dc(T))}Ti.STAT_EVENT="statevent";function Lc(m,T){fe.call(this,Ti.STAT_EVENT,m),this.stat=T}S(Lc,fe);function zt(m){const T=cs();rr(T,new Lc(T,m))}Ti.Ma="timingevent";function Sl(m,T){fe.call(this,Ti.Ma,m),this.size=T}S(Sl,fe);function Xn(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},T)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function ds(m,T,N,B,Q,se){m.info(function(){if(m.g)if(se)for(var xe="",ct=se.split("&"),nr=0;nr<ct.length;nr++){var et=ct[nr].split("=");if(1<et.length){var fr=et[0];et=et[1];var Kt=fr.split("_");xe=2<=Kt.length&&Kt[1]=="type"?xe+(fr+"="+et+"&"):xe+(fr+"=redacted&")}}else xe=null;else xe=se;return"XMLHTTP REQ ("+B+") [attempt "+Q+"]: "+T+`
`+N+`
`+xe})}function El(m,T,N,B,Q,se,xe){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Q+"]: "+T+`
`+N+`
`+se+" "+xe})}function Yn(m,T,N,B){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+ev(m,N)+(B?" "+B:"")})}function $c(m,T){m.info(function(){return"TIMEOUT: "+T})}fs.prototype.info=function(){};function ev(m,T){if(!m.g)return T;if(!T)return null;try{var N=JSON.parse(T);if(N){for(m=0;m<N.length;m++)if(Array.isArray(N[m])){var B=N[m];if(!(2>B.length)){var Q=B[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var xe=1;xe<Q.length;xe++)Q[xe]=""}}}}return Nc(N)}catch{return T}}var Tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function hs(){}S(hs,us),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},Qn=new hs;function Jn(m,T,N,B){this.j=m,this.i=T,this.l=N,this.R=B||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _h}function _h(){this.i=null,this.g="",this.h=!1}var Vc={},Al={};function Pl(m,T,N){m.L=1,m.v=aa(yn(T)),m.m=N,m.P=!0,Fc(m,null)}function Fc(m,T){m.F=Date.now(),vt(m),m.A=yn(m.v);var N=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),la(N.i,"t",B),m.C=0,N=m.j.J,m.h=new _h,m.g=Vh(m.j,N?T:null,!m.m),0<m.O&&(m.M=new ss(y(m.Y,m,m.g),m.O)),T=m.U,N=m.g,B=m.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(kc[0]=Q.toString()),Q=kc);for(var se=0;se<Q.length;se++){var xe=St(N,Q[se],B||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),no(),ds(m.i,m.u,m.A,m.l,m.R,m.m)}Jn.prototype.ca=function(m){m=m.target;const T=this.M;T&&Zr(m)==3?T.j():this.Y(m)},Jn.prototype.Y=function(m){try{if(m==this.g)e:{const Kt=Zr(this.g);var T=this.g.Ba();const Nn=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Hc(this.g)))){this.J||Kt!=4||T==7||(T==8||0>=Nn?no(3):no(2)),ps(this);var N=this.g.Z();this.X=N;t:if(wh(this)){var B=Hc(this.g);m="";var Q=B.length,se=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),ra(this);var xe="";break t}this.h.i=new u.TextDecoder}for(T=0;T<Q;T++)this.h.h=!0,m+=this.h.i.decode(B[T],{stream:!(se&&T==Q-1)});B.length=0,this.h.g+=m,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=N==200,El(this.i,this.u,this.A,this.l,this.R,Kt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,nr=this.g;if((ct=nr.g?nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(ct)){var et=ct;break t}}et=null}if(N=et)Yn(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uc(this,N);else{this.o=!1,this.s=3,zt(12),kn(this),ra(this);break e}}if(this.P){N=!0;let bn;for(;!this.J&&this.C<xe.length;)if(bn=tv(this,xe),bn==Al){Kt==4&&(this.s=4,zt(14),N=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Vc){this.s=4,zt(15),Yn(this.i,this.l,xe,"[Invalid Chunk]"),N=!1;break}else Yn(this.i,this.l,bn,null),Uc(this,bn);if(wh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||xe.length!=0||this.h.h||(this.s=1,zt(16),N=!1),this.o=this.o&&N,!N)Yn(this.i,this.l,xe,"[Invalid Chunked Response]"),kn(this),ra(this);else if(0<xe.length&&!this.W){this.W=!0;var fr=this.j;fr.g==this&&fr.ba&&!fr.M&&(fr.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),Kc(fr),fr.M=!0,zt(11))}}else Yn(this.i,this.l,xe,null),Uc(this,xe);Kt==4&&kn(this),this.o&&!this.J&&(Kt==4?$l(this.j,this):(this.o=!1,vt(this)))}else jl(this.g),N==400&&0<xe.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),kn(this),ra(this)}}}catch{}finally{}};function wh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function tv(m,T){var N=m.C,B=T.indexOf(`
`,N);return B==-1?Al:(N=Number(T.substring(N,B)),isNaN(N)?Vc:(B+=1,B+N>T.length?Al:(T=T.slice(B,B+N),m.C=B+N,T)))}Jn.prototype.cancel=function(){this.J=!0,kn(this)};function vt(m){m.S=Date.now()+m.I,Sh(m,m.I)}function Sh(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Xn(y(m.ba,m),T)}function ps(m){m.B&&(u.clearTimeout(m.B),m.B=null)}Jn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?($c(this.i,this.A),this.L!=2&&(no(),zt(17)),kn(this),this.s=2,ra(this)):Sh(this,this.S-m)};function ra(m){m.j.G==0||m.J||$l(m.j,m)}function kn(m){ps(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,Cc(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Uc(m,T){try{var N=m.j;if(N.G!=0&&(N.g==m||Br(N.h,m))){if(!m.K&&Br(N.h,m)&&N.G==3){try{var B=N.Da.g.parse(T)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Q=B;if(Q[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<m.F)Ll(N),ni(N);else break e;Dl(N),zt(18)}}else N.za=Q[1],0<N.za-N.T&&37500>Q[2]&&N.F&&N.v==0&&!N.C&&(N.C=Xn(y(N.Za,N),6e3));if(1>=Th(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else lo(N,11)}else if((m.K||N.g==m)&&Ll(N),!P(T))for(Q=N.Da.g.parse(T),T=0;T<Q.length;T++){let et=Q[T];if(N.T=et[0],et=et[1],N.G==2)if(et[0]=="c"){N.K=et[1],N.ia=et[2];const fr=et[3];fr!=null&&(N.la=fr,N.j.info("VER="+N.la));const Kt=et[4];Kt!=null&&(N.Aa=Kt,N.j.info("SVER="+N.Aa));const Nn=et[5];Nn!=null&&typeof Nn=="number"&&0<Nn&&(B=1.5*Nn,N.L=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const bn=m.g;if(bn){const _s=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var se=B.h;se.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Bc(se,se.h),se.h=null))}if(B.D){const Fl=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(B.ya=Fl,pt(B.I,B.D,Fl))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-m.F,N.j.info("Handshake RTT: "+N.R+"ms")),B=N;var xe=m;if(B.qa=$h(B,B.J?B.ia:null,B.W),xe.K){Ah(B.h,xe);var ct=xe,nr=B.L;nr&&(ct.I=nr),ct.B&&(ps(ct),vt(ct)),B.g=xe}else xs(B);0<N.i.length&&Oi(N)}else et[0]!="stop"&&et[0]!="close"||lo(N,7);else N.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?lo(N,7):_r(N):et[0]!="noop"&&N.l&&N.l.ta(et),N.v=0)}}no(4)}catch{}}var Eh=class{constructor(m,T){this.g=m,this.map=T}};function ms(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Th(m){return m.h?1:m.g?m.g.size:0}function Br(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Bc(m,T){m.g?m.g.add(T):m.h=T}function Ah(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}ms.prototype.cancel=function(){if(this.i=Ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ph(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const N of m.g.values())T=T.concat(N.D);return T}return w(m.i)}function Il(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var T=[],N=m.length,B=0;B<N;B++)T.push(m[B]);return T}T=[],N=0;for(B in m)T[N++]=m[B];return T}function Ol(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var T=[];m=m.length;for(var N=0;N<m;N++)T.push(N);return T}T=[],N=0;for(const B in m)T[N++]=B;return T}}}function na(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var N=Ol(m),B=Il(m),Q=B.length,se=0;se<Q;se++)T.call(void 0,B[se],N&&N[se],m)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rv(m,T){if(m){m=m.split("&");for(var N=0;N<m.length;N++){var B=m[N].indexOf("="),Q=null;if(0<=B){var se=m[N].substring(0,B);Q=m[N].substring(B+1)}else se=m[N];T(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function io(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof io){this.h=m.h,ys(this,m.j),this.o=m.o,this.g=m.g,ia(this,m.s),this.l=m.l;var T=m.i,N=new Ai;N.i=T.i,T.g&&(N.g=new Map(T.g),N.h=T.h),oa(this,N),this.m=m.m}else m&&(T=String(m).match(gs))?(this.h=!1,ys(this,T[1]||"",!0),this.o=Ze(T[2]||""),this.g=Ze(T[3]||"",!0),ia(this,T[4]),this.l=Ze(T[5]||"",!0),oa(this,T[6]||"",!0),this.m=Ze(T[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}io.prototype.toString=function(){var m=[],T=this.j;T&&m.push(sa(T,kl,!0),":");var N=this.g;return(N||T=="file")&&(m.push("//"),(T=this.o)&&m.push(sa(T,kl,!0),"@"),m.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&m.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(sa(N,N.charAt(0)=="/"?kh:Oh,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",sa(N,zc)),m.join("")};function yn(m){return new io(m)}function ys(m,T,N){m.j=N?Ze(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ia(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function oa(m,T,N){T instanceof Ai?(m.i=T,Pi(m.i,m.h)):(N||(T=sa(T,Ch)),m.i=new Ai(T,m.h))}function pt(m,T,N){m.i.set(T,N)}function aa(m){return pt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ze(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function sa(m,T,N){return typeof m=="string"?(m=encodeURI(m).replace(T,Ih),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ih(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var kl=/[#\/\?@]/g,Oh=/[#\?:]/g,kh=/[#\?]/g,Ch=/[#\?@]/g,zc=/#/g;function Ai(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function xr(m){m.g||(m.g=new Map,m.h=0,m.i&&rv(m.i,function(T,N){m.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=Ai.prototype,t.add=function(m,T){xr(this),this.i=null,m=Cn(this,m);var N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(T),this.h+=1,this};function Zn(m,T){xr(m),T=Cn(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ei(m,T){return xr(m),T=Cn(m,T),m.g.has(T)}t.forEach=function(m,T){xr(this),this.g.forEach(function(N,B){N.forEach(function(Q){m.call(T,Q,B,this)},this)},this)},t.na=function(){xr(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),N=[];for(let B=0;B<T.length;B++){const Q=m[B];for(let se=0;se<Q.length;se++)N.push(T[B])}return N},t.V=function(m){xr(this);let T=[];if(typeof m=="string")ei(this,m)&&(T=T.concat(this.g.get(Cn(this,m))));else{m=Array.from(this.g.values());for(let N=0;N<m.length;N++)T=T.concat(m[N])}return T},t.set=function(m,T){return xr(this),this.i=null,m=Cn(this,m),ei(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function la(m,T,N){Zn(m,T),0<N.length&&(m.i=null,m.g.set(Cn(m,T),w(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var N=0;N<T.length;N++){var B=T[N];const se=encodeURIComponent(String(B)),xe=this.V(B);for(B=0;B<xe.length;B++){var Q=se;xe[B]!==""&&(Q+="="+encodeURIComponent(String(xe[B]))),m.push(Q)}}return this.i=m.join("&")};function Cn(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Pi(m,T){T&&!m.j&&(xr(m),m.i=null,m.g.forEach(function(N,B){var Q=B.toLowerCase();B!=Q&&(Zn(this,B),la(this,Q,N))},m)),m.j=T}function nv(m,T){const N=new fs;if(u.Image){const B=new Image;B.onload=x(Jr,N,"TestLoadImage: loaded",!0,T,B),B.onerror=x(Jr,N,"TestLoadImage: error",!1,T,B),B.onabort=x(Jr,N,"TestLoadImage: abort",!1,T,B),B.ontimeout=x(Jr,N,"TestLoadImage: timeout",!1,T,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else T(!1)}function Nh(m,T){const N=new fs,B=new AbortController,Q=setTimeout(()=>{B.abort(),Jr(N,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:B.signal}).then(se=>{clearTimeout(Q),se.ok?Jr(N,"TestPingServer: ok",!0,T):Jr(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),Jr(N,"TestPingServer: error",!1,T)})}function Jr(m,T,N,B,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),B(N)}catch{}}function iv(){this.g=new Rc}function jh(m,T,N){const B=N||"";try{na(m,function(Q,se){let xe=Q;f(Q)&&(xe=Nc(Q)),T.push(B+se+"="+encodeURIComponent(xe))})}catch(Q){throw T.push(B+"type="+encodeURIComponent("_badmap")),Q}}function oo(m){this.l=m.Ub||null,this.j=m.eb||!1}S(oo,us),oo.prototype.g=function(){return new vs(this.l,this.j)},oo.prototype.i=(function(m){return function(){return m}})({});function vs(m,T){tr.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(vs,tr),t=vs.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,ri(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?ti(this):ri(this),this.readyState==3&&Rh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ti(this))},t.Qa=function(m){this.g&&(this.response=m,ti(this))},t.ga=function(){this.g&&ti(this)};function ti(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ri(m)}t.setRequestHeader=function(m,T){this.u.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=T.next();return m.join(`\r
`)};function ri(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ao(m){let T="";return R(m,function(N,B){T+=B,T+=":",T+=N,T+=`\r
`}),T}function ua(m,T,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=ao(N),typeof m=="string"?N!=null&&encodeURIComponent(String(N)):pt(m,T,N))}function kt(m){tr.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(kt,tr);var ov=/^https?$/i,qc=["POST","PUT"];t=kt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,T,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?xl(this.o):xl(Qn),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(se){bs(this,se);return}if(m=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Q in B)N.set(Q,B[Q]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const se of B.keys())N.set(se,B.get(se));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(se=>se.toLowerCase()=="content-type"),Q=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(qc,T,void 0))||B||Q||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,xe]of N)this.g.setRequestHeader(se,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nl(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){bs(this,se)}};function bs(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,Cl(m),vn(m)}function Cl(m){m.A||(m.A=!0,rr(m,"complete"),rr(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,rr(this,"complete"),rr(this,"abort"),vn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wc(this):this.bb())},t.bb=function(){Wc(this)};function Wc(m){if(m.h&&typeof a<"u"&&(!m.v[1]||Zr(m)!=4||m.Z()!=2)){if(m.u&&Zr(m)==4)Oc(m.Ea,0,m);else if(rr(m,"readystatechange"),Zr(m)==4){m.h=!1;try{const xe=m.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var B;if(B=xe===0){var Q=String(m.D).match(gs)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),B=!ov.test(Q?Q.toLowerCase():"")}N=B}if(N)rr(m,"complete"),rr(m,"success");else{m.m=6;try{var se=2<Zr(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",Cl(m)}}finally{vn(m)}}}}function vn(m,T){if(m.g){Nl(m);const N=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||rr(m,"ready");try{N.onreadystatechange=B}catch{}}}function Nl(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Zr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),jc(T)}};function Hc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function jl(m){const T={};m=(m.g&&2<=Zr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(P(m[B]))continue;var N=V(m[B]);const Q=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const se=T[Q]||[];T[Q]=se,se.push(N)}I(T,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(m,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||T}function Gc(m){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,m),this.cb=Ii("retryDelaySeedMs",1e4,m),this.Wa=Ii("forwardChannelMaxRetries",2,m),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(m&&m.concurrentRequestLimit),this.Da=new iv,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gc.prototype,t.la=8,t.G=1,t.connect=function(m,T,N,B){zt(0),this.W=m,this.H=T||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.I=$h(this,null,this.W),Oi(this)};function _r(m){if(Rl(m),m.G==3){var T=m.U++,N=yn(m.I);if(pt(N,"SID",m.K),pt(N,"RID",T),pt(N,"TYPE","terminate"),so(m,N),T=new Jn(m,m.j,T),T.L=2,T.v=aa(yn(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!N&&u.Image&&(new Image().src=T.v,N=!0),N||(T.g=Vh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),vt(T)}Lh(m)}function ni(m){m.g&&(Kc(m),m.g.cancel(),m.g=null)}function Rl(m){ni(m),m.u&&(u.clearTimeout(m.u),m.u=null),Ll(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Oi(m){if(!gn(m.h)&&!m.s){m.s=!0;var T=m.Ga;ae||ne(),X||(ae(),X=!0),oe.add(T,m),m.B=0}}function av(m,T){return Th(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Xn(y(m.Ga,m,T),Dh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Q=new Jn(this,this.j,m);let se=this.o;if(this.S&&(se?(se=C(se),U(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(T+=B,4096<T){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=ca(this,Q,T),N=yn(this.I),pt(N,"RID",m),pt(N,"CVER",22),this.D&&pt(N,"X-HTTP-Session-Id",this.D),so(this,N),se&&(this.O?T="headers="+encodeURIComponent(String(ao(se)))+"&"+T:this.m&&ua(N,this.m,se)),Bc(this.h,Q),this.Ua&&pt(N,"TYPE","init"),this.P?(pt(N,"$req",T),pt(N,"SID","null"),Q.T=!0,Pl(Q,N,null)):Pl(Q,N,T),this.G=2}}else this.G==3&&(m?Ml(this,m):this.i.length==0||gn(this.h)||Ml(this))};function Ml(m,T){var N;T?N=T.l:N=m.U++;const B=yn(m.I);pt(B,"SID",m.K),pt(B,"RID",N),pt(B,"AID",m.T),so(m,B),m.m&&m.o&&ua(B,m.m,m.o),N=new Jn(m,m.j,N,m.B+1),m.m===null&&(N.H=m.o),T&&(m.i=T.D.concat(m.i)),T=ca(m,N,1e3),N.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Bc(m.h,N),Pl(N,B,T)}function so(m,T){m.H&&R(m.H,function(N,B){pt(T,B,N)}),m.l&&na({},function(N,B){pt(T,B,N)})}function ca(m,T,N){N=Math.min(m.i.length,N);var B=m.l?y(m.l.Na,m.l,m):null;e:{var Q=m.i;let se=-1;for(;;){const xe=["count="+N];se==-1?0<N?(se=Q[0].g,xe.push("ofs="+se)):se=0:xe.push("ofs="+se);let ct=!0;for(let nr=0;nr<N;nr++){let et=Q[nr].g;const fr=Q[nr].map;if(et-=se,0>et)se=Math.max(0,Q[nr].g-100),ct=!1;else try{jh(fr,xe,"req"+et+"_")}catch{B&&B(fr)}}if(ct){B=xe.join("&");break e}}}return m=m.i.splice(0,N),T.D=m,B}function xs(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;ae||ne(),X||(ae(),X=!0),oe.add(T,m),m.v=0}}function Dl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Xn(y(m.Fa,m),Dh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Xn(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),ni(this),Mh(this))};function Kc(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Mh(m){m.g=new Jn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=yn(m.qa);pt(T,"RID","rpc"),pt(T,"SID",m.K),pt(T,"AID",m.T),pt(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&pt(T,"TO",m.ja),pt(T,"TYPE","xmlhttp"),so(m,T),m.m&&m.o&&ua(T,m.m,m.o),m.L&&(m.g.I=m.L);var N=m.g;m=m.ia,N.L=1,N.v=aa(yn(T)),N.m=null,N.P=!0,Fc(N,m)}t.Za=function(){this.C!=null&&(this.C=null,ni(this),Dl(this),zt(19))};function Ll(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function $l(m,T){var N=null;if(m.g==T){Ll(m),Kc(m),m.g=null;var B=2}else if(Br(m.h,T))N=T.D,Ah(m.h,T),B=1;else return;if(m.G!=0){if(T.o)if(B==1){N=T.m?T.m.length:0,T=Date.now()-T.F;var Q=m.B;B=cs(),rr(B,new Sl(B,N)),Oi(m)}else xs(m);else if(Q=T.s,Q==3||Q==0&&0<T.X||!(B==1&&av(m,T)||B==2&&Dl(m)))switch(N&&0<N.length&&(T=m.h,T.i=T.i.concat(N)),Q){case 1:lo(m,5);break;case 4:lo(m,10);break;case 3:lo(m,6);break;default:lo(m,2)}}}function Dh(m,T){let N=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(N*=2),N*T}function lo(m,T){if(m.j.info("Error code "+T),T==2){var N=y(m.fb,m),B=m.Xa;const Q=!B;B=new io(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ys(B,"https"),aa(B),Q?nv(B.toString(),N):Nh(B.toString(),N)}else zt(2);m.G=0,m.l&&m.l.sa(T),Lh(m),Rl(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Lh(m){if(m.G=0,m.ka=[],m.l){const T=Ph(m.h);(T.length!=0||m.i.length!=0)&&(b(m.ka,T),b(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function $h(m,T,N){var B=N instanceof io?yn(N):new io(N);if(B.g!="")T&&(B.g=T+"."+B.g),ia(B,B.s);else{var Q=u.location;B=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new io(null);B&&ys(se,B),T&&(se.g=T),Q&&ia(se,Q),N&&(se.l=N),B=se}return N=m.D,T=m.ya,N&&T&&pt(B,N,T),pt(B,"VER",m.la),so(m,B),B}function Vh(m,T,N){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new kt(new oo({eb:N})):new kt(m.pa),T.Ha(m.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}t=Xc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vl(){}Vl.prototype.g=function(m,T){return new zr(m,T)};function zr(m,T){tr.call(this),this.g=new Gc(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!P(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!P(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new ki(this)}S(zr,tr),zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zr.prototype.close=function(){_r(this.g)},zr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.u&&(N={},N.__data__=Nc(m),m=N);T.i.push(new Eh(T.Ya++,m)),T.G==3&&Oi(T)},zr.prototype.N=function(){this.g.l=null,delete this.j,_r(this.g),delete this.g,zr.aa.N.call(this)};function Fh(m){Ei.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const N in T){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}S(Fh,Ei);function Uh(){wl.call(this),this.status=1}S(Uh,wl);function ki(m){this.g=m}S(ki,Xc),ki.prototype.ua=function(){rr(this.g,"a")},ki.prototype.ta=function(m){rr(this.g,new Fh(m))},ki.prototype.sa=function(m){rr(this.g,new Uh)},ki.prototype.ra=function(){rr(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,zr.prototype.send=zr.prototype.o,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,HL=function(){return new Vl},WL=function(){return cs()},qL=Ti,p1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tl.NO_ERROR=0,Tl.TIMEOUT=8,Tl.HTTP_ERROR=6,sm=Tl,xh.COMPLETE="complete",zL=xh,_l.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",tr.prototype.listen=tr.prototype.K,Df=_l,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,BL=kt}).apply(typeof Lp<"u"?Lp:typeof self<"u"?self:typeof window<"u"?window:{});const _O="@firebase/firestore",wO="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new aE("@firebase/firestore");function fu(){return nl.logLevel}function Te(t,...e){if(nl.logLevel<=Qe.DEBUG){const r=e.map(xE);nl.debug(`Firestore (${hc}): ${t}`,...r)}}function Lo(t,...e){if(nl.logLevel<=Qe.ERROR){const r=e.map(xE);nl.error(`Firestore (${hc}): ${t}`,...r)}}function Ga(t,...e){if(nl.logLevel<=Qe.WARN){const r=e.map(xE);nl.warn(`Firestore (${hc}): ${t}`,...r)}}function xE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,GL(t,n,r)}function GL(t,e,r){let n=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Lo(n),new Error(n)}function ut(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||GL(e,i,n)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Wo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Lr.UNAUTHENTICATED)))}shutdown(){}}class Kq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Xq{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ut(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let o=new Oo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oo,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oo)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ut(typeof n.accessToken=="string",31837,{l:n}),new KL(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Lr(e)}}class Yq{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qq{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Yq(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Lr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jq{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ut(this.o===void 0,3512);const n=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ut(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new SO(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Zq(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Ke(t,e){return t<e?-1:t>e?1:0}function m1(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Ke(n,i);{const o=XL(),a=e8(o.encode(EO(t,r)),o.encode(EO(e,r)));return a!==0?a:Ke(n,i)}}r+=n>65535?2:1}return Ke(t.length,e.length)}function EO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function e8(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ke(t[r],e[r]);return Ke(t.length,e.length)}function Cu(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="__name__";class Mi{constructor(e,r,n){r===void 0?r=0:r>e.length&&Fe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Fe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=Mi.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Ke(e.length,r.length)}static compareSegments(e,r){const n=Mi.isNumericId(e),i=Mi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Mi.extractNumericId(e).compare(Mi.extractNumericId(r)):m1(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ba.fromString(e.substring(4,e.length-2))}}class _t extends Mi{construct(e,r,n){return new _t(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new we(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new _t(r)}static emptyPath(){return new _t([])}}const t8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends Mi{construct(e,r,n){return new Or(e,r,n)}static isValidIdentifier(e){return t8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TO}static keyField(){return new Or([TO])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new we(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new we(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(n+=u,i++):(o(),i++)}if(o(),a)throw new we(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(r)}static emptyPath(){return new Or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(_t.fromString(e))}static fromName(e){return new je(_t.fromString(e).popFirst(5))}static empty(){return new je(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return _t.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t,e,r){if(!r)throw new we(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r8(t,e,r,n){if(e===!0&&n===!0)throw new we(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function AO(t){if(!je.isDocumentKey(t))throw new we(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PO(t){if(je.isDocumentKey(t))throw new we(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qg(t);throw new we(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const r={typeString:t};return e&&(r.value=e),r}function eh(t,e){if(!QL(t))throw new we(ce.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new we(ce.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=-62135596800,OO=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*OO);return new It(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<IO)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OO}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eh(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Zt("string",It._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new It(0,0))}static max(){return new ze(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=-1;function n8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(n===1e9?new It(r+1,0):new It(r,n));return new Ka(i,je.empty(),e)}function i8(t){return new Ka(t.readTime,t.key,sd)}class Ka{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ka(ze.min(),je.empty(),sd)}static max(){return new Ka(ze.max(),je.empty(),sd)}}function o8(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=je.comparator(t.documentKey,e.documentKey),r!==0?r:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==a8)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new de(((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof de?r:de.resolve(r)}catch(r){return de.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):de.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):de.reject(r)}static resolve(e){return new de(((r,n)=>{r(e)}))}static reject(e){return new de(((r,n)=>{n(e)}))}static waitFor(e){return new de(((r,n)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&r()}),(c=>n(c)))})),a=!0,o===i&&r()}))}static or(e){let r=de.resolve(!1);for(const n of e)r=r.next((i=>i?de.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,o)=>{n.push(r.call(this,i,o))})),this.waitFor(n)}static mapArray(e,r){return new de(((n,i)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;r(e[f]).next((h=>{a[f]=h,++u,u===o&&n(a)}),(h=>i(h)))}}))}static doWhile(e,r){return new de(((n,i)=>{const o=()=>{e()===!0?r().next((()=>{o()}),i):n()};o()}))}}function l8(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function mc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this._e(n),this.ae=n=>r.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Wg.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=-1;function Hg(t){return t==null}function Sm(t){return t===0&&1/t==-1/0}function u8(t){return typeof t=="number"&&Number.isInteger(t)&&!Sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="";function c8(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=kO(e)),e=f8(t.get(r),e);return kO(e)}function f8(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case JL:r+="";break;default:r+=o}}return r}function kO(t){return t+JL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ts(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ZL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,r){this.comparator=e,this.root=r||Ar.EMPTY}insert(e,r){return new $t(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Ar.RED,this.left=i??Ar.EMPTY,this.right=o??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new Ar(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Ar.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new Ar(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new NO(this.data.getIterator())}getIteratorFrom(e){return new NO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new ur(this.comparator);return r.data=e,r}}class NO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new Pn([])}unionWith(e){let r=new ur(Or.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Pn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Cu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e4("Invalid base64 string: "+o):o}})(e);return new kr(r)}static fromUint8Array(e){const r=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new kr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const d8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const r=d8.exec(t);if(ut(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?kr.fromBase64String(t):kr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="server_timestamp",r4="__type__",n4="__previous_value__",i4="__local_write_time__";function SE(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[r4])===null||r===void 0?void 0:r.stringValue)===t4}function Gg(t){const e=t.mapValue.fields[n4];return SE(e)?Gg(e):e}function ld(t){const e=Xa(t.mapValue.fields[i4].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,r,n,i,o,a,u,c,f,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const Em="(default)";class ud{constructor(e,r){this.projectId=e,this.database=r||Em}static empty(){return new ud("","")}get isDefaultDatabase(){return this.database===Em}isEqual(e){return e instanceof ud&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="__type__",p8="__max__",Vp={mapValue:{}},a4="__vector__",Tm="value";function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SE(t)?4:g8(t)?9007199254740991:m8(t)?10:11:Fe(28295,{value:t})}function Gi(t,e){if(t===e)return!0;const r=Qa(t);if(r!==Qa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Xa(i.timestampValue),u=Xa(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Ya(i.bytesValue).isEqual(Ya(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Wt(i.geoPointValue.latitude)===Wt(o.geoPointValue.latitude)&&Wt(i.geoPointValue.longitude)===Wt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Wt(i.integerValue)===Wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Wt(i.doubleValue),u=Wt(o.doubleValue);return a===u?Sm(a)===Sm(u):isNaN(a)&&isNaN(u)}return!1})(t,e);case 9:return Cu(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(CO(a)!==CO(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Gi(a[c],u[c])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function cd(t,e){return(t.values||[]).find((r=>Gi(r,e)))!==void 0}function Nu(t,e){if(t===e)return 0;const r=Qa(t),n=Qa(e);if(r!==n)return Ke(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=Wt(o.integerValue||o.doubleValue),c=Wt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return jO(t.timestampValue,e.timestampValue);case 4:return jO(ld(t),ld(e));case 5:return m1(t.stringValue,e.stringValue);case 6:return(function(o,a){const u=Ya(o),c=Ya(a);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=Ke(u[f],c[f]);if(h!==0)return h}return Ke(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=Ke(Wt(o.latitude),Wt(a.latitude));return u!==0?u:Ke(Wt(o.longitude),Wt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return RO(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var u,c,f,h;const p=o.fields||{},y=a.fields||{},x=(u=p[Tm])===null||u===void 0?void 0:u.arrayValue,S=(c=y[Tm])===null||c===void 0?void 0:c.arrayValue,w=Ke(((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:RO(x,S)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===Vp.mapValue&&a===Vp.mapValue)return 0;if(o===Vp.mapValue)return 1;if(a===Vp.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=m1(c[p],h[p]);if(y!==0)return y;const x=Nu(u[c[p]],f[h[p]]);if(x!==0)return x}return Ke(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{le:r})}}function jO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const r=Xa(t),n=Xa(e),i=Ke(r.seconds,n.seconds);return i!==0?i:Ke(r.nanos,n.nanos)}function RO(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=Nu(r[i],n[i]);if(o)return o}return Ke(r.length,n.length)}function ju(t){return g1(t)}function g1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Xa(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Ya(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return je.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=g1(o);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of n)o?o=!1:i+=",",i+=`${a}:${g1(r.fields[a])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function lm(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gg(t);return e?16+lm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ya(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+lm(o)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return ts(n.fields,((o,a)=>{i+=o.length+lm(a)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function MO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function y1(t){return!!t&&"integerValue"in t}function EE(t){return!!t&&"arrayValue"in t}function DO(t){return!!t&&"nullValue"in t}function LO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function um(t){return!!t&&"mapValue"in t}function m8(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[o4])===null||r===void 0?void 0:r.stringValue)===a4}function Wf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Wf(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function g8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===p8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!um(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wf(r)}setAll(e){let r=Or.emptyPath(),n={},i=[];e.forEach(((a,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}a?n[u.lastSegment()]=Wf(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());um(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ts(r,((i,o)=>e[i]=o));for(const i of n)delete e[i]}clone(){return new un(Wf(this.value))}}function s4(t){const e=[];return ts(t.fields,((r,n)=>{const i=new Or([r]);if(um(n)){const o=s4(n.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,r,n,i,o,a,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new $r(e,0,ze.min(),ze.min(),ze.min(),un.empty(),0)}static newFoundDocument(e,r,n,i){return new $r(e,1,r,ze.min(),n,i,0)}static newNoDocument(e,r){return new $r(e,2,r,ze.min(),ze.min(),un.empty(),0)}static newUnknownDocument(e,r){return new $r(e,3,r,ze.min(),ze.min(),un.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,r){this.position=e,this.inclusive=r}}function $O(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?n=je.comparator(je.fromName(a.referenceValue),r.key):n=Nu(a,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function VO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Gi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,r="asc"){this.field=e,this.dir=r}}function y8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{}class Jt extends l4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new b8(e,r,n):r==="array-contains"?new w8(e,n):r==="in"?new S8(e,n):r==="not-in"?new E8(e,n):r==="array-contains-any"?new T8(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new x8(e,n):new _8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Nu(r,this.value)):r!==null&&Qa(this.value)===Qa(r)&&this.matchesComparison(Nu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends l4{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new bi(e,r)}matches(e){return u4(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function u4(t){return t.op==="and"}function c4(t){return v8(t)&&u4(t)}function v8(t){for(const e of t.filters)if(e instanceof bi)return!1;return!0}function v1(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+ju(t.value);if(c4(t))return t.filters.map((e=>v1(e))).join(",");{const e=t.filters.map((r=>v1(r))).join(",");return`${t.op}(${e})`}}function f4(t,e){return t instanceof Jt?(function(n,i){return i instanceof Jt&&n.op===i.op&&n.field.isEqual(i.field)&&Gi(n.value,i.value)})(t,e):t instanceof bi?(function(n,i){return i instanceof bi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,a,u)=>o&&f4(a,i.filters[u])),!0):!1})(t,e):void Fe(19439)}function d4(t){return t instanceof Jt?(function(r){return`${r.field.canonicalString()} ${r.op} ${ju(r.value)}`})(t):t instanceof bi?(function(r){return r.op.toString()+" {"+r.getFilters().map(d4).join(" ,")+"}"})(t):"Filter"}class b8 extends Jt{constructor(e,r,n){super(e,r,n),this.key=je.fromName(n.referenceValue)}matches(e){const r=je.comparator(e.key,this.key);return this.matchesComparison(r)}}class x8 extends Jt{constructor(e,r){super(e,"in",r),this.keys=h4("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class _8 extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=h4("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function h4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>je.fromName(n.referenceValue)))}class w8 extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return EE(r)&&cd(r.arrayValue,this.value)}}class S8 extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&cd(this.value.arrayValue,r)}}class E8 extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!cd(this.value.arrayValue,r)}}class T8 extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!EE(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>cd(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,r=null,n=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Pe=null}}function FO(t,e=null,r=[],n=[],i=null,o=null,a=null){return new A8(t,e,r,n,i,o,a)}function TE(t){const e=qe(t);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>v1(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Hg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>ju(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>ju(n))).join(",")),e.Pe=r}return e.Pe}function AE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!y8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!f4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VO(t.startAt,e.startAt)&&VO(t.endAt,e.endAt)}function b1(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,r=null,n=[],i=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function P8(t,e,r,n,i,o,a,u){return new gc(t,e,r,n,i,o,a,u)}function Kg(t){return new gc(t)}function UO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p4(t){return t.collectionGroup!==null}function Hf(t){const e=qe(t);if(e.Te===null){e.Te=[];const r=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new ur(Or.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{r.has(o.canonicalString())||o.isKeyField()||e.Te.push(new fd(o,n))})),r.has(Or.keyField().canonicalString())||e.Te.push(new fd(Or.keyField(),n))}return e.Te}function Ui(t){const e=qe(t);return e.Ie||(e.Ie=I8(e,Hf(t))),e.Ie}function I8(t,e){if(t.limitType==="F")return FO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new fd(i.field,o)}));const r=t.endAt?new Am(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Am(t.startAt.position,t.startAt.inclusive):null;return FO(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function x1(t,e){const r=t.filters.concat([e]);return new gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Pm(t,e,r){return new gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Xg(t,e){return AE(Ui(t),Ui(e))&&t.limitType===e.limitType}function m4(t){return`${TE(Ui(t))}|lt:${t.limitType}`}function du(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>d4(i))).join(", ")}]`),Hg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>ju(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>ju(i))).join(",")),`Target(${n})`})(Ui(t))}; limitType=${t.limitType})`}function Yg(t,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):je.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(t,e)&&(function(n,i){for(const o of Hf(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,u,c){const f=$O(a,u,c);return a.inclusive?f<=0:f<0})(n.startAt,Hf(n),i)||n.endAt&&!(function(a,u,c){const f=$O(a,u,c);return a.inclusive?f>=0:f>0})(n.endAt,Hf(n),i))})(t,e)}function O8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g4(t){return(e,r)=>{let n=!1;for(const i of Hf(t)){const o=k8(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function k8(t,e,r){const n=t.field.isKeyField()?je.comparator(e.key,r.key):(function(o,a,u){const c=a.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Nu(c,f):Fe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,((r,n)=>{for(const[i,o]of n)e(i,o)}))}isEmpty(){return ZL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=new $t(je.comparator);function $o(){return C8}const y4=new $t(je.comparator);function Lf(...t){let e=y4;for(const r of t)e=e.insert(r.key,r);return e}function v4(t){let e=y4;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function zs(){return Gf()}function b4(){return Gf()}function Gf(){return new dl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const N8=new $t(je.comparator),j8=new ur(je.comparator);function Je(...t){let e=j8;for(const r of t)e=e.add(r);return e}const R8=new ur(Ke);function M8(){return R8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function x4(t){return{integerValue:""+t}}function D8(t,e){return u8(e)?x4(e):PE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this._=void 0}}function L8(t,e,r){return t instanceof Im?(function(i,o){const a={fields:{[r4]:{stringValue:t4},[i4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&SE(o)&&(o=Gg(o)),o&&(a.fields[n4]=o),{mapValue:a}})(r,e):t instanceof Ru?w4(t,e):t instanceof Mu?S4(t,e):(function(i,o){const a=_4(i,o),u=BO(a)+BO(i.Ee);return y1(a)&&y1(i.Ee)?x4(u):PE(i.serializer,u)})(t,e)}function $8(t,e,r){return t instanceof Ru?w4(t,e):t instanceof Mu?S4(t,e):r}function _4(t,e){return t instanceof Om?(function(n){return y1(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class Im extends Qg{}class Ru extends Qg{constructor(e){super(),this.elements=e}}function w4(t,e){const r=E4(e);for(const n of t.elements)r.some((i=>Gi(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Mu extends Qg{constructor(e){super(),this.elements=e}}function S4(t,e){let r=E4(e);for(const n of t.elements)r=r.filter((i=>!Gi(i,n)));return{arrayValue:{values:r}}}class Om extends Qg{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function BO(t){return Wt(t.integerValue||t.doubleValue)}function E4(t){return EE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,r){this.field=e,this.transform=r}}function V8(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Ru&&i instanceof Ru||n instanceof Mu&&i instanceof Mu?Cu(n.elements,i.elements,Gi):n instanceof Om&&i instanceof Om?Gi(n.Ee,i.Ee):n instanceof Im&&i instanceof Im})(t.transform,e.transform)}class F8{constructor(e,r){this.version=e,this.transformResults=r}}class Kr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jg{}function A4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zg(t.key,Kr.none()):new th(t.key,t.data,Kr.none());{const r=t.data,n=un.empty();let i=new ur(Or.comparator);for(let o of e.fields)if(!i.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?n.delete(o):n.set(o,a),i=i.add(o)}return new rs(t.key,n,new Pn(i.toArray()),Kr.none())}}function U8(t,e,r){t instanceof th?(function(i,o,a){const u=i.value.clone(),c=qO(i.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,r):t instanceof rs?(function(i,o,a){if(!cm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=qO(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(P4(i)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,r):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function Kf(t,e,r,n){return t instanceof th?(function(o,a,u,c){if(!cm(o.precondition,a))return u;const f=o.value.clone(),h=WO(o.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof rs?(function(o,a,u,c){if(!cm(o.precondition,a))return u;const f=WO(o.fieldTransforms,c,a),h=a.data;return h.setAll(P4(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(o,a,u){return cm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(t,e,r)}function B8(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=_4(n.transform,i||null);o!=null&&(r===null&&(r=un.empty()),r.set(n.field,o))}return r||null}function zO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Cu(n,i,((o,a)=>V8(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends Jg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rs extends Jg{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function P4(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function qO(t,e,r){const n=new Map;ut(t.length===r.length,32656,{Ae:r.length,Re:t.length});for(let i=0;i<r.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);n.set(o.field,$8(a,u,r[i]))}return n}function WO(t,e,r){const n=new Map;for(const i of t){const o=i.transform,a=r.data.field(i.field);n.set(i.field,L8(o,a,e))}return n}class Zg extends Jg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z8 extends Jg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&U8(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Kf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Kf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=b4();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=r.has(i.key)?null:u;const c=A4(a,u);c!==null&&n.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(ze.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Cu(this.mutations,e.mutations,((r,n)=>zO(r,n)))&&Cu(this.baseMutations,e.baseMutations,((r,n)=>zO(r,n)))}}class IE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ut(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=(function(){return N8})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new IE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,tt;function G8(t){switch(t){case ce.OK:return Fe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function I4(t){if(t===void 0)return Lo("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Yt.OK:return ce.OK;case Yt.CANCELLED:return ce.CANCELLED;case Yt.UNKNOWN:return ce.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ce.INTERNAL;case Yt.UNAVAILABLE:return ce.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ce.NOT_FOUND;case Yt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Yt.ABORTED:return ce.ABORTED;case Yt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Yt.DATA_LOSS:return ce.DATA_LOSS;default:return Fe(39323,{code:t})}}(tt=Yt||(Yt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=new Ba([4294967295,4294967295],0);function HO(t){const e=XL().encode(t),r=new UL;return r.update(e),new Uint8Array(r.digest())}function GO(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ba([r,n],0),new Ba([i,o],0)]}class OE{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new $f(`Invalid padding: ${r}`);if(n<0)throw new $f(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new $f(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new $f(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=Ba.fromNumber(this.fe)}pe(e,r,n){let i=e.add(r.multiply(Ba.fromNumber(n)));return i.compare(K8)===1&&(i=new Ba([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=HO(e),[n,i]=GO(r);for(let o=0;o<this.hashCount;o++){const a=this.pe(n,i,o);if(!this.ye(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new OE(o,i,r);return n.forEach((u=>a.insert(u))),a}insert(e){if(this.fe===0)return;const r=HO(e),[n,i]=GO(r);for(let o=0;o<this.hashCount;o++){const a=this.pe(n,i,o);this.we(a)}}we(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,rh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ey(ze.min(),i,new $t(Ke),$o(),Je())}}class rh{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new rh(n,r,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.be=i}}class O4{constructor(e,r){this.targetId=e,this.De=r}}class k4{constructor(e,r,n=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class KO{constructor(){this.ve=0,this.Ce=XO(),this.Fe=kr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Je(),r=Je(),n=Je();return this.Ce.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Fe(38017,{changeType:o})}})),new rh(this.Fe,this.Me,e,r,n)}ke(){this.xe=!1,this.Ce=XO()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class X8{constructor(e){this.We=e,this.Ge=new Map,this.ze=$o(),this.je=Fp(),this.Je=Fp(),this.He=new $t(Ke)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const n=this.tt(r);switch(e.state){case 0:this.nt(r)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),n.Be(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((n,i)=>{this.nt(i)&&r(i)}))}it(e){const r=e.targetId,n=e.De.count,i=this.st(r);if(i){const o=i.target;if(b1(o))if(n===0){const a=new je(o.path);this.Xe(r,a,$r.newNoDocument(a,ze.min()))}else ut(n===1,20013,{expectedCount:n});else{const a=this.ot(r);if(a!==n){const u=this._t(e),c=u?this.ut(u,e,a):1;if(c!==0){this.rt(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,f)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let a,u;try{a=Ya(n).toUint8Array()}catch(c){if(c instanceof e4)return Ga("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new OE(a,i,o)}catch(c){return Ga(c instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.fe===0?null:u}ut(e,r,n){return r.De.count===n-this.ht(e,r.targetId)?0:2}ht(e,r){const n=this.We.getRemoteKeysForTarget(r);let i=0;return n.forEach((o=>{const a=this.We.lt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Xe(r,o,null),i++)})),i}Pt(e){const r=new Map;this.Ge.forEach(((o,a)=>{const u=this.st(a);if(u){if(o.current&&b1(u.target)){const c=new je(u.target.path);this.Tt(c).has(a)||this.It(a,c)||this.Xe(a,c,$r.newNoDocument(c,e))}o.Ne&&(r.set(a,o.Le()),o.ke())}}));let n=Je();this.Je.forEach(((o,a)=>{let u=!0;a.forEachWhile((c=>{const f=this.st(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(o))})),this.ze.forEach(((o,a)=>a.setReadTime(e)));const i=new ey(e,r,this.He,this.ze,n);return this.ze=$o(),this.je=Fp(),this.Je=Fp(),this.He=new $t(Ke),i}Ze(e,r){if(!this.nt(e))return;const n=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,n),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,r)?i.qe(r,1):i.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),n&&(this.ze=this.ze.insert(r,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new KO,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new ur(Ke),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new ur(Ke),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||Te("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new KO),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function Fp(){return new $t(je.comparator)}function XO(){return new $t(je.comparator)}const Y8={asc:"ASCENDING",desc:"DESCENDING"},Q8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J8={and:"AND",or:"OR"};class Z8{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function _1(t,e){return t.useProto3Json||Hg(e)?e:{value:e}}function km(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e7(t,e){return km(t,e.toTimestamp())}function Bi(t){return ut(!!t,49232),ze.fromTimestamp((function(r){const n=Xa(r);return new It(n.seconds,n.nanos)})(t))}function kE(t,e){return w1(t,e).canonicalString()}function w1(t,e){const r=(function(i){return new _t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function N4(t){const e=_t.fromString(t);return ut(L4(e),10190,{key:e.toString()}),e}function S1(t,e){return kE(t.databaseId,e.path)}function Vb(t,e){const r=N4(e);if(r.get(1)!==t.databaseId.projectId)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new je(R4(r))}function j4(t,e){return kE(t.databaseId,e)}function t7(t){const e=N4(t);return e.length===4?_t.emptyPath():R4(e)}function E1(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R4(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YO(t,e,r){return{name:S1(t,e),fields:r.value.mapValue.fields}}function r7(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(ut(h===void 0||typeof h=="string",58123),kr.fromBase64String(h||"")):(ut(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),kr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(f){const h=f.code===void 0?ce.UNKNOWN:I4(f.code);return new we(h,f.message||"")})(a);r=new k4(n,i,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Vb(t,n.document.name),o=Bi(n.document.updateTime),a=n.document.createTime?Bi(n.document.createTime):ze.min(),u=new un({mapValue:{fields:n.document.fields}}),c=$r.newFoundDocument(i,o,a,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new fm(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Vb(t,n.document),o=n.readTime?Bi(n.readTime):ze.min(),a=$r.newNoDocument(i,o),u=n.removedTargetIds||[];r=new fm([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Vb(t,n.document),o=n.removedTargetIds||[];r=new fm([],o,i,null)}else{if(!("filter"in e))return Fe(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,a=new H8(i,o),u=n.targetId;r=new O4(u,a)}}return r}function n7(t,e){let r;if(e instanceof th)r={update:YO(t,e.key,e.value)};else if(e instanceof Zg)r={delete:S1(t,e.key)};else if(e instanceof rs)r={update:YO(t,e.key,e.data),updateMask:d7(e.fieldMask)};else{if(!(e instanceof z8))return Fe(16599,{Rt:e.type});r={verify:S1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(o,a){const u=a.transform;if(u instanceof Im)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ru)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Mu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Om)return{fieldPath:a.field.canonicalString(),increment:u.Ee};throw Fe(20930,{transform:a.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:e7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)})(t,e.precondition)),r}function i7(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((r=>(function(i,o){let a=i.updateTime?Bi(i.updateTime):Bi(o);return a.isEqual(ze.min())&&(a=Bi(o)),new F8(a,i.transformResults||[])})(r,e)))):[]}function o7(t,e){return{documents:[j4(t,e.path)]}}function a7(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=j4(t,i);const o=(function(f){if(f.length!==0)return D4(bi.create(f,"and"))})(e.filters);o&&(r.structuredQuery.where=o);const a=(function(f){if(f.length!==0)return f.map((h=>(function(y){return{field:hu(y.field),direction:u7(y.dir)}})(h)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const u=_1(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{Vt:r,parent:i}}function s7(t){let e=t7(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ut(n===1,65062);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];r.where&&(o=(function(p){const y=M4(p);return y instanceof bi&&c4(y)?y.getFilters():[y]})(r.where));let a=[];r.orderBy&&(a=(function(p){return p.map((y=>(function(S){return new fd(pu(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,Hg(y)?null:y})(r.limit));let c=null;r.startAt&&(c=(function(p){const y=!!p.before,x=p.values||[];return new Am(x,y)})(r.startAt));let f=null;return r.endAt&&(f=(function(p){const y=!p.before,x=p.values||[];return new Am(x,y)})(r.endAt)),P8(e,i,a,o,u,"F",c,f)}function l7(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function M4(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=pu(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=pu(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pu(r.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=pu(r.unaryFilter.field);return Jt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Jt.create(pu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return bi.create(r.compositeFilter.filters.map((n=>M4(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(r.compositeFilter.op))})(t):Fe(30097,{filter:t})}function u7(t){return Y8[t]}function c7(t){return Q8[t]}function f7(t){return J8[t]}function hu(t){return{fieldPath:t.canonicalString()}}function pu(t){return Or.fromServerFormat(t.fieldPath)}function D4(t){return t instanceof Jt?(function(r){if(r.op==="=="){if(LO(r.value))return{unaryFilter:{field:hu(r.field),op:"IS_NAN"}};if(DO(r.value))return{unaryFilter:{field:hu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(LO(r.value))return{unaryFilter:{field:hu(r.field),op:"IS_NOT_NAN"}};if(DO(r.value))return{unaryFilter:{field:hu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(r.field),op:c7(r.op),value:r.value}}})(t):t instanceof bi?(function(r){const n=r.getFilters().map((i=>D4(i)));return n.length===1?n[0]:{compositeFilter:{op:f7(r.op),filters:n}}})(t):Fe(54877,{filter:t})}function d7(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function L4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,r,n,i,o=ze.min(),a=ze.min(),u=kr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.gt=e}}function p7(t){const e=s7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(){this.Dn=new g7}addToCollectionParentIndex(e,r){return this.Dn.add(r),de.resolve()}getCollectionParents(e,r){return de.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return de.resolve()}deleteFieldIndex(e,r){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,r){return de.resolve()}getDocumentsMatchingTarget(e,r){return de.resolve(null)}getIndexType(e,r){return de.resolve(0)}getFieldIndexes(e,r){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,r){return de.resolve(Ka.min())}getMinOffsetFromCollectionGroup(e,r){return de.resolve(Ka.min())}updateCollectionGroup(e,r,n){return de.resolve()}updateIndexEntries(e,r){return de.resolve()}}class g7{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ur(_t.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ur(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$4=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln($4,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Du(0)}static ur(){return new Du(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="LruGarbageCollector",y7=1048576;function ZO([t,e],[r,n]){const i=Ke(t,r);return i===0?Ke(e,n):i}class v7{constructor(e){this.Tr=e,this.buffer=new ur(ZO),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();ZO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class b7{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Te(JO,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){mc(r)?Te(JO,"Ignoring IndexedDB error during garbage collection: ",r):await pc(r)}await this.Rr(3e5)}))}}class x7{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return de.resolve(Wg.ue);const n=new v7(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(QO)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QO):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let n,i,o,a,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,u=Date.now(),this.removeTargets(e,n,r)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),fu()<=Qe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function _7(t,e){return new x7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.changes=new dl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$r.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?de.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Kf(n.mutation,i,Pn.empty(),It.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Je()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Je()){const i=zs();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((o=>{let a=Lf();return o.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=zs();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Je())))}populateOverlays(e,r,n){const i=[];return n.forEach((o=>{r.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{r.set(a,u)}))}))}computeViews(e,r,n,i){let o=$o();const a=Gf(),u=(function(){return Gf()})();return r.forEach(((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof rs)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),Kf(h.mutation,f,h.mutation.getFieldMask(),It.now())):a.set(f.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>a.set(f,h))),r.forEach(((f,h)=>{var p;return u.set(f,new S7(h,(p=a.get(f))!==null&&p!==void 0?p:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Gf();let i=new $t(((a,u)=>a-u)),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const u of a)u.keys().forEach((c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Pn.empty();h=u.applyToLocalView(f,h),n.set(c,h);const p=(i.get(u.batchId)||Je()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=b4();h.forEach((y=>{if(!o.has(y)){const x=A4(r.get(y),n.get(y));x!==null&&p.set(y,x),o=o.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return de.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return je.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):p4(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):de.resolve(zs());let u=sd,c=o;return a.next((f=>de.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(h)?de.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,Je()))).next((h=>({batchId:u,changes:v4(h)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new je(r)).next((n=>{let i=Lf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let a=Lf();return this.indexManager.getCollectionParents(e,o).next((u=>de.forEach(u,(c=>{const f=(function(p,y){return new gc(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((h=>{h.forEach(((p,y)=>{a=a.insert(p,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i)))).next((a=>{o.forEach(((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,$r.newInvalidDocument(h)))}));let u=Lf();return a.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&Kf(h.mutation,f,Pn.empty(),It.now()),Yg(r,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return de.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Bi(i.createTime)}})(r)),de.resolve()}getNamedQuery(e,r){return de.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(i){return{name:i.name,query:p7(i.bundledQuery),readTime:Bi(i.readTime)}})(r)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.overlays=new $t(je.comparator),this.kr=new Map}getOverlay(e,r){return de.resolve(this.overlays.get(r))}getOverlays(e,r){const n=zs();return de.forEach(r,(i=>this.getOverlay(e,i).next((o=>{o!==null&&n.set(i,o)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,o)=>{this.wt(e,r,o)})),de.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(n)),de.resolve()}getOverlaysForCollection(e,r,n){const i=zs(),o=r.length+1,a=new je(r.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>n&&i.set(c.getKey(),c)}return de.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new $t(((f,h)=>f-h));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=o.get(f.largestBatchId);h===null&&(h=zs(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=zs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return de.resolve(u)}wt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new W8(r,n));let o=this.kr.get(r);o===void 0&&(o=Je(),this.kr.set(r,o)),this.kr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.qr=new ur(gr.Qr),this.$r=new ur(gr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const n=new gr(e,r);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new gr(e,r))}Gr(e,r){e.forEach((n=>this.removeReference(n,r)))}zr(e){const r=new je(new _t([])),n=new gr(r,e),i=new gr(r,e+1),o=[];return this.$r.forEachInRange([n,i],(a=>{this.Wr(a),o.push(a.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new je(new _t([])),n=new gr(r,e),i=new gr(r,e+1);let o=Je();return this.$r.forEachInRange([n,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const r=new gr(e,0),n=this.qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class gr{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return je.comparator(e.key,r.key)||Ke(e.Hr,r.Hr)}static Ur(e,r){return Ke(e.Hr,r.Hr)||je.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new ur(gr.Qr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new q8(o,r,n,i);this.mutationQueue.push(a);for(const u of i)this.Yr=this.Yr.add(new gr(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return de.resolve(a)}lookupMutationBatch(e,r){return de.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?wE:this.er-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new gr(r,0),i=new gr(r,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([n,i],(a=>{const u=this.Zr(a.Hr);o.push(u)})),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ur(Ke);return r.forEach((i=>{const o=new gr(i,0),a=new gr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,a],(u=>{n=n.add(u.Hr)}))})),de.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;je.isDocumentKey(o)||(o=o.child(""));const a=new gr(new je(o),0);let u=new ur(Ke);return this.Yr.forEachWhile((c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),a),de.resolve(this.ei(u))}ei(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ut(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return de.forEach(r.mutations,(i=>{const o=new gr(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,r){const n=new gr(r,0),i=this.Yr.firstAfterOrEqual(n);return de.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.ni=e,this.docs=(function(){return new $t(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,a=this.ni(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return de.resolve(n?n.document.mutableCopy():$r.newInvalidDocument(r))}getEntries(e,r){let n=$o();return r.forEach((i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():$r.newInvalidDocument(i))})),de.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=$o();const a=r.path,u=new je(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||o8(i8(h),n)<=0||(i.has(h.key)||Yg(r,h))&&(o=o.insert(h.key,h.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,r,n,i){Fe(9500)}ri(e,r){return de.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new k7(this)}getSize(e){return de.resolve(this.size)}}class k7 extends w7{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),de.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.persistence=e,this.ii=new dl((r=>TE(r)),AE),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new CE,this.targetCount=0,this._i=Du.ar()}forEachTarget(e,r){return this.ii.forEach(((n,i)=>r(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.si&&(this.si=r),de.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Du(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,de.resolve()}updateTargetData(e,r){return this.hr(r),de.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.ii.forEach(((a,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.ii.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),de.waitFor(o).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,r){const n=this.ii.get(r)||null;return de.resolve(n)}addMatchingKeys(e,r,n){return this.oi.Kr(r,n),de.resolve()}removeMatchingKeys(e,r,n){this.oi.Gr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),de.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),de.resolve()}getMatchingKeysForTargetId(e,r){const n=this.oi.Jr(r);return de.resolve(n)}containsKey(e,r){return de.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,r){this.ai={},this.overlays={},this.ui=new Wg(0),this.ci=!1,this.ci=!0,this.li=new P7,this.referenceDelegate=e(this),this.hi=new C7(this),this.indexManager=new m7,this.remoteDocumentCache=(function(i){return new O7(i)})((n=>this.referenceDelegate.Pi(n))),this.serializer=new h7(r),this.Ti=new T7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new A7,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ai[e.toKey()];return n||(n=new I7(r,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,n){Te("MemoryPersistence","Starting transaction:",e);const i=new N7(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,r){return de.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,r))))}}class N7 extends s8{constructor(e){super(),this.currentSequenceNumber=e}}class NE{constructor(e){this.persistence=e,this.Ai=new CE,this.Ri=null}static Vi(e){return new NE(e)}get mi(){if(this.Ri)return this.Ri;throw Fe(60996)}addReference(e,r,n){return this.Ai.addReference(n,r),this.mi.delete(n.toString()),de.resolve()}removeReference(e,r,n){return this.Ai.removeReference(n,r),this.mi.add(n.toString()),de.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),de.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((i=>this.mi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((o=>this.mi.add(o.toString())))})).next((()=>n.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.mi,(n=>{const i=je.fromPath(n);return this.fi(e,i).next((o=>{o||r.removeEntry(i,ze.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((n=>{n?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return de.or([()=>de.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Cm{constructor(e,r){this.persistence=e,this.gi=new dl((n=>c8(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=_7(this,r)}static Vi(e,r){return new Cm(e,r)}Ii(){}di(e){return de.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}yr(e){let r=0;return this.gr(e,(n=>{r++})).next((()=>r))}gr(e,r){return de.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((o=>o?de.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,(a=>this.Sr(e,a,r).next((u=>{u||(n++,o.removeEntry(a,ze.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),de.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),de.resolve()}removeReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),de.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=lm(e.data.value)),r}Sr(e,r,n){return de.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.gi.get(r);return de.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Is=n,this.ds=i}static Es(e,r){let n=Je(),i=Je();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new jE(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return oB()?8:l8(Fr())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ps(e,r).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ys(e,r,i,n).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new j7;return this.ws(e,r,a).next((u=>{if(o.result=u,this.Rs)return this.Ss(e,r,a,u.size)}))})).next((()=>o.result))}Ss(e,r,n,i){return n.documentReadCount<this.Vs?(fu()<=Qe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",du(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(fu()<=Qe.DEBUG&&Te("QueryEngine","Query:",du(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(fu()<=Qe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",du(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(r))):de.resolve())}ps(e,r){if(UO(r))return de.resolve(null);let n=Ui(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=Pm(r,null,"F"),n=Ui(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const a=Je(...o);return this.gs.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,n).next((c=>{const f=this.bs(r,u);return this.Ds(r,f,a,c.readTime)?this.ps(e,Pm(r,null,"F")):this.vs(e,f,r,c)}))))})))))}ys(e,r,n,i){return UO(r)||i.isEqual(ze.min())?de.resolve(null):this.gs.getDocuments(e,n).next((o=>{const a=this.bs(r,o);return this.Ds(r,a,n,i)?de.resolve(null):(fu()<=Qe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),du(r)),this.vs(e,a,r,n8(i,sd)).next((u=>u)))}))}bs(e,r){let n=new ur(g4(e));return r.forEach(((i,o)=>{Yg(e,o)&&(n=n.add(o))})),n}Ds(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,r,n){return fu()<=Qe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",du(r)),this.gs.getDocumentsMatchingQuery(e,r,Ka.min(),n)}vs(e,r,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((o=>(r.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LocalStore",M7=3e8;class D7{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.Fs=new $t(Ke),this.Ms=new dl((o=>TE(o)),AE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E7(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function L7(t,e,r,n){return new D7(t,e,r,n)}async function F4(t,e){const r=qe(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((o=>(i=o,r.Ns(e),r.mutationQueue.getAllMutationBatches(n)))).next((o=>{const a=[],u=[];let c=Je();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next((f=>({Bs:f,removedBatchIds:a,addedBatchIds:u})))}))}))}function $7(t,e){const r=qe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),o=r.Os.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,y=p.keys();let x=de.resolve();return y.forEach((S=>{x=x.next((()=>h.getEntry(c,S))).next((w=>{const b=f.docVersions.get(S);ut(b!==null,48541),w.version.compareTo(b)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,o).next((()=>o.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let c=Je();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function U4(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function V7(t,e){const r=qe(t),n=e.snapshotVersion;let i=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=r.Os.newChangeBuffer({trackRemovals:!0});i=r.Fs;const u=[];e.targetChanges.forEach(((h,p)=>{const y=i.get(p);if(!y)return;u.push(r.hi.removeMatchingKeys(o,h.removedDocuments,p).next((()=>r.hi.addMatchingKeys(o,h.addedDocuments,p))));let x=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(kr.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,n)),i=i.insert(p,x),(function(w,b,E){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=M7?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(y,x,h)&&u.push(r.hi.updateTargetData(o,x))}));let c=$o(),f=Je();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(F7(o,a,e.documentUpdates).next((h=>{c=h.Ls,f=h.ks}))),!n.isEqual(ze.min())){const h=r.hi.getLastRemoteSnapshotVersion(o).next((p=>r.hi.setTargetsMetadata(o,o.currentSequenceNumber,n)));u.push(h)}return de.waitFor(u).next((()=>a.apply(o))).next((()=>r.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(r.Fs=i,o)))}function F7(t,e,r){let n=Je(),i=Je();return r.forEach((o=>n=n.add(o))),e.getEntries(t,n).next((o=>{let a=$o();return r.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(ze.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Te(RE,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Ls:a,ks:i}}))}function U7(t,e){const r=qe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=wE),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function B7(t,e){const r=qe(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.hi.getTargetData(n,e).next((o=>o?(i=o,de.resolve(i)):r.hi.allocateTargetId(n).next((a=>(i=new Ma(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.hi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(n.targetId,n),r.Ms.set(e,n.targetId)),n}))}async function T1(t,e,r){const n=qe(t),i=n.Fs.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!mc(a))throw a;Te(RE,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function ek(t,e,r){const n=qe(t);let i=ze.min(),o=Je();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,h){const p=qe(c),y=p.Ms.get(h);return y!==void 0?de.resolve(p.Fs.get(y)):p.hi.getTargetData(f,h)})(n,a,Ui(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(a,u.targetId).next((c=>{o=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(a,e,r?i:ze.min(),r?o:Je()))).next((u=>(z7(n,O8(e),u),{documents:u,qs:o})))))}function z7(t,e,r){let n=t.xs.get(e)||ze.min();r.forEach(((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),t.xs.set(e,n)}class tk{constructor(){this.activeTargetIds=M8()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q7{constructor(){this.Fo=new tk,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,n){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tk,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="ConnectivityMonitor";class nk{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Te(rk,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Te(rk,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up=null;function A1(){return Up===null?Up=(function(){return 268435456+Math.round(2147483648*Math.random())})():Up++,"0x"+Up.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="RestConnection",H7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G7{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===Em?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,o){const a=A1(),u=this.Go(e,r.toUriEncodedString());Te(Fb,`Sending RPC '${e}' ${a}:`,u,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);const{host:f}=new URL(u),h=fc(f);return this.jo(e,u,c,n,h).then((p=>(Te(Fb,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw Ga(Fb,`RPC '${e}' ${a} failed with error: `,p,"url: ",u,"request:",n),p}))}Jo(e,r,n,i,o,a){return this.Wo(e,r,n,i,o)}zo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,o)=>e[o]=i)),n&&n.headers.forEach(((i,o)=>e[o]=i))}Go(e,r){const n=H7[e];return`${this.$o}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class X7 extends G7{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,n,i,o){const a=A1();return new Promise(((u,c)=>{const f=new BL;f.setWithCredentials(!0),f.listenOnce(zL.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case sm.NO_ERROR:const p=f.getResponseJson();Te(Mr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),u(p);break;case sm.TIMEOUT:Te(Mr,`RPC '${e}' ${a} timed out`),c(new we(ce.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const y=f.getStatus();if(Te(Mr,`RPC '${e}' ${a} failed with status:`,y,"response text:",f.getResponseText()),y>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const w=(function(E){const P=E.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN})(S.status);c(new we(w,S.message))}else c(new we(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new we(ce.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{c_:e,streamId:a,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{Te(Mr,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Te(Mr,`RPC '${e}' ${a} sending request:`,i),f.send(r,"POST",h,n,15)}))}P_(e,r,n){const i=A1(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=HL(),u=WL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=o.join("");Te(Mr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=a.createWebChannel(h,c);this.T_(p);let y=!1,x=!1;const S=new K7({Ho:b=>{x?Te(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(Te(Mr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Te(Mr,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Yo:()=>p.close()}),w=(b,E,P)=>{b.listen(E,(O=>{try{P(O)}catch(M){setTimeout((()=>{throw M}),0)}}))};return w(p,Df.EventType.OPEN,(()=>{x||(Te(Mr,`RPC '${e}' stream ${i} transport opened.`),S.s_())})),w(p,Df.EventType.CLOSE,(()=>{x||(x=!0,Te(Mr,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))})),w(p,Df.EventType.ERROR,(b=>{x||(x=!0,Ga(Mr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.__(new we(ce.UNAVAILABLE,"The operation could not be completed")))})),w(p,Df.EventType.MESSAGE,(b=>{var E;if(!x){const P=b.data[0];ut(!!P,16349);const O=P,M=(O==null?void 0:O.error)||((E=O[0])===null||E===void 0?void 0:E.error);if(M){Te(Mr,`RPC '${e}' stream ${i} received error:`,M);const k=M.status;let R=(function(j){const U=Yt[j];if(U!==void 0)return I4(U)})(k),I=M.message;R===void 0&&(R=ce.INTERNAL,I="Unknown error status: "+k+" with message "+M.message),x=!0,S.__(new we(R,I)),p.close()}else Te(Mr,`RPC '${e}' stream ${i} received:`,P),S.a_(P)}})),w(u,qL.STAT_EVENT,(b=>{b.stat===p1.PROXY?Te(Mr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===p1.NOPROXY&&Te(Mr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.o_()}),0),S}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function Ub(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new Z8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,r,n=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=r,this.d_=n,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-n);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="PersistentStream";class z4{constructor(e,r,n,i,o,a,u,c){this.Fi=e,this.w_=n,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new B4(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Lo(r.toString()),Lo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.b_===r&&this.W_(n,i)}),(n=>{e((()=>{const i=new we(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)}))}))}W_(e,r){const n=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{n((()=>this.G_(i)))})),this.stream.onMessage((i=>{n((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Te(ik,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(Te(ik,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y7 extends z4{constructor(e,r,n,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=r7(this.serializer,e),n=(function(o){if(!("targetChange"in o))return ze.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ze.min():a.readTime?Bi(a.readTime):ze.min()})(e);return this.listener.J_(r,n)}H_(e){const r={};r.database=E1(this.serializer),r.addTarget=(function(o,a){let u;const c=a.target;if(u=b1(c)?{documents:o7(o,c)}:{query:a7(o,c).Vt},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=C4(o,a.resumeToken);const f=_1(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(ze.min())>0){u.readTime=km(o,a.snapshotVersion.toTimestamp());const f=_1(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const n=l7(this.serializer,e);n&&(r.labels=n),this.k_(r)}Y_(e){const r={};r.database=E1(this.serializer),r.removeTarget=e,this.k_(r)}}class Q7 extends z4{constructor(e,r,n,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=i7(e.writeResults,e.commitTime),n=Bi(e.commitTime);return this.listener.ta(n,r)}na(){const e={};e.database=E1(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>n7(this.serializer,n)))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{}class Z7 extends J7{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Wo(e,w1(r,n),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ce.UNKNOWN,o.toString())}))}Jo(e,r,n,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Jo(e,w1(r,n),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ce.UNKNOWN,a.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class eW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Lo(r),this._a=!1):Te("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class tW{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((a=>{n.enqueueAndForget((async()=>{hl(this)&&(Te(il,"Restarting streams for network reachability change."),await(async function(c){const f=qe(c);f.Ia.add(4),await nh(f),f.Aa.set("Unknown"),f.Ia.delete(4),await ry(f)})(this))}))})),this.Aa=new eW(n,i)}}async function ry(t){if(hl(t))for(const e of t.da)await e(!0)}async function nh(t){for(const e of t.da)await e(!1)}function q4(t,e){const r=qe(t);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),$E(r)?LE(r):yc(r).x_()&&DE(r,e))}function ME(t,e){const r=qe(t),n=yc(r);r.Ta.delete(e),n.x_()&&W4(r,e),r.Ta.size===0&&(n.x_()?n.B_():hl(r)&&r.Aa.set("Unknown"))}function DE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}yc(t).H_(e)}function W4(t,e){t.Ra.$e(e),yc(t).Y_(e)}function LE(t){t.Ra=new X8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.Aa.aa()}function $E(t){return hl(t)&&!yc(t).M_()&&t.Ta.size>0}function hl(t){return qe(t).Ia.size===0}function H4(t){t.Ra=void 0}async function rW(t){t.Aa.set("Online")}async function nW(t){t.Ta.forEach(((e,r)=>{DE(t,e)}))}async function iW(t,e){H4(t),$E(t)?(t.Aa.la(e),LE(t)):t.Aa.set("Unknown")}async function oW(t,e,r){if(t.Aa.set("Online"),e instanceof k4&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ta.delete(u),i.Ra.removeTarget(u))})(t,e)}catch(n){Te(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Nm(t,n)}else if(e instanceof fm?t.Ra.Ye(e):e instanceof O4?t.Ra.it(e):t.Ra.et(e),!r.isEqual(ze.min()))try{const n=await U4(t.localStore);r.compareTo(n)>=0&&await(function(o,a){const u=o.Ra.Pt(a);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ta.get(f);h&&o.Ta.set(f,h.withResumeToken(c.resumeToken,a))}})),u.targetMismatches.forEach(((c,f)=>{const h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(kr.EMPTY_BYTE_STRING,h.snapshotVersion)),W4(o,c);const p=new Ma(h.target,c,f,h.sequenceNumber);DE(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){Te(il,"Failed to raise snapshot:",n),await Nm(t,n)}}async function Nm(t,e,r){if(!mc(e))throw e;t.Ia.add(1),await nh(t),t.Aa.set("Offline"),r||(r=()=>U4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(il,"Retrying IndexedDB access"),await r(),t.Ia.delete(1),await ry(t)}))}function G4(t,e){return e().catch((r=>Nm(t,r,e)))}async function ny(t){const e=qe(t),r=Ja(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:wE;for(;aW(e);)try{const i=await U7(e.localStore,n);if(i===null){e.Pa.length===0&&r.B_();break}n=i.batchId,sW(e,i)}catch(i){await Nm(e,i)}K4(e)&&X4(e)}function aW(t){return hl(t)&&t.Pa.length<10}function sW(t,e){t.Pa.push(e);const r=Ja(t);r.x_()&&r.Z_&&r.X_(e.mutations)}function K4(t){return hl(t)&&!Ja(t).M_()&&t.Pa.length>0}function X4(t){Ja(t).start()}async function lW(t){Ja(t).na()}async function uW(t){const e=Ja(t);for(const r of t.Pa)e.X_(r.mutations)}async function cW(t,e,r){const n=t.Pa.shift(),i=IE.from(n,e,r);await G4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ny(t)}async function fW(t,e){e&&Ja(t).Z_&&await(async function(n,i){if((function(a){return G8(a)&&a!==ce.ABORTED})(i.code)){const o=n.Pa.shift();Ja(n).N_(),await G4(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await ny(n)}})(t,e),K4(t)&&X4(t)}async function ok(t,e){const r=qe(t);r.asyncQueue.verifyOperationInProgress(),Te(il,"RemoteStore received new credentials");const n=hl(r);r.Ia.add(3),await nh(r),n&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await ry(r)}async function dW(t,e){const r=qe(t);e?(r.Ia.delete(2),await ry(r)):e||(r.Ia.add(2),await nh(r),r.Aa.set("Unknown"))}function yc(t){return t.Va||(t.Va=(function(r,n,i){const o=qe(r);return o.ia(),new Y7(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:rW.bind(null,t),e_:nW.bind(null,t),n_:iW.bind(null,t),J_:oW.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),$E(t)?LE(t):t.Aa.set("Unknown")):(await t.Va.stop(),H4(t))}))),t.Va}function Ja(t){return t.ma||(t.ma=(function(r,n,i){const o=qe(r);return o.ia(),new Q7(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:lW.bind(null,t),n_:fW.bind(null,t),ea:uW.bind(null,t),ta:cW.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await ny(t)):(await t.ma.stop(),t.Pa.length>0&&(Te(il,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const a=Date.now()+n,u=new VE(e,r,a,i,o);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function FE(t,e){if(Lo("AsyncQueue",`${e}: ${t}`),mc(t))return new we(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{static emptySet(e){return new wu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||je.comparator(r.key,n.key):(r,n)=>je.comparator(r.key,n.key),this.keyedMap=Lf(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof wu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new wu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.fa=new $t(je.comparator)}track(e){const r=e.doc.key,n=this.fa.get(r);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(r,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(r):e.type===1&&n.type===2?this.fa=this.fa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):Fe(63341,{At:e,ga:n}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Lu{constructor(e,r,n,i,o,a,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,o){const a=[];return r.forEach((u=>{a.push({type:0,doc:u})})),new Lu(e,r,wu.emptySet(r),a,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class pW{constructor(){this.queries=sk(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,n){const i=qe(r),o=i.queries;i.queries=sk(),o.forEach(((a,u)=>{for(const c of u.wa)c.onError(n)}))})(this,new we(ce.ABORTED,"Firestore shutting down"))}}function sk(){return new dl((t=>m4(t)),Xg)}async function UE(t,e){const r=qe(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.Sa()&&e.ba()&&(n=2):(o=new hW,n=e.ba()?0:1);try{switch(n){case 0:o.ya=await r.onListen(i,!0);break;case 1:o.ya=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const u=FE(a,`Initialization of query '${du(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,o),o.wa.push(e),e.va(r.onlineState),o.ya&&e.Ca(o.ya)&&zE(r)}async function BE(t,e){const r=qe(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const a=o.wa.indexOf(e);a>=0&&(o.wa.splice(a,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function mW(t,e){const r=qe(t);let n=!1;for(const i of e){const o=i.query,a=r.queries.get(o);if(a){for(const u of a.wa)u.Ca(i)&&(n=!0);a.ya=i}}n&&zE(r)}function gW(t,e,r){const n=qe(t),i=n.queries.get(e);if(i)for(const o of i.wa)o.onError(r);n.queries.delete(e)}function zE(t){t.Da.forEach((e=>{e.next()}))}var P1,lk;(lk=P1||(P1={})).Fa="default",lk.Cache="cache";class qE{constructor(e,r,n){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Lu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const n=r!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==P1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.key=e}}class Q4{constructor(e){this.key=e}}class yW{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Je(),this.mutatedKeys=Je(),this.Xa=g4(e),this.eu=new wu(this.Xa)}get tu(){return this.Ha}nu(e,r){const n=r?r.ru:new ak,i=r?r.eu:this.eu;let o=r?r.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const y=i.get(h),x=Yg(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?S!==w&&(n.track({type:3,doc:x}),b=!0):this.iu(y,x)||(n.track({type:2,doc:x}),b=!0,(c&&this.Xa(x,c)>0||f&&this.Xa(x,f)<0)&&(u=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(c||f)&&(u=!0)),b&&(x?(a=a.add(x),o=w?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),n.track({type:1,doc:h})}return{eu:a,ru:n,Ds:u,mutatedKeys:o}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort(((h,p)=>(function(x,S){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{At:b})}};return w(x)-w(S)})(h.type,p.type)||this.Xa(h.doc,p.doc))),this.su(n),i=i!=null&&i;const u=r&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,f=c!==this.Ya;return this.Ya=c,a.length!==0||f?{snapshot:new Lu(this.query,e.eu,o,a,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ak,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Je(),this.eu.forEach((n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))}));const r=[];return e.forEach((n=>{this.Za.has(n)||r.push(new Q4(n))})),this.Za.forEach((n=>{e.has(n)||r.push(new Y4(n))})),r}uu(e){this.Ha=e.qs,this.Za=Je();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Lu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const WE="SyncEngine";class vW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class bW{constructor(e){this.key=e,this.lu=!1}}class xW{constructor(e,r,n,i,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new dl((u=>m4(u)),Xg),this.Tu=new Map,this.Iu=new Set,this.du=new $t(je.comparator),this.Eu=new Map,this.Au=new CE,this.Ru={},this.Vu=new Map,this.mu=Du.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _W(t,e,r=!0){const n=n3(t);let i;const o=n.Pu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await J4(n,e,r,!0),i}async function wW(t,e){const r=n3(t);await J4(r,e,!0,!1)}async function J4(t,e,r,n){const i=await B7(t.localStore,Ui(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,r);let u;return n&&(u=await SW(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&q4(t.remoteStore,i),u}async function SW(t,e,r,n,i){t.gu=(p,y,x)=>(async function(w,b,E,P){let O=b.view.nu(E);O.Ds&&(O=await ek(w.localStore,b.query,!1).then((({documents:I})=>b.view.nu(I,O))));const M=P&&P.targetChanges.get(b.targetId),k=P&&P.targetMismatches.get(b.targetId)!=null,R=b.view.applyChanges(O,w.isPrimaryClient,M,k);return ck(w,b.targetId,R._u),R.snapshot})(t,p,y,x);const o=await ek(t.localStore,e,!0),a=new yW(e,o.qs),u=a.nu(o.documents),c=rh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);ck(t,r,f._u);const h=new vW(e,r,a);return t.Pu.set(e,h),t.Tu.has(r)?t.Tu.get(r).push(e):t.Tu.set(r,[e]),f.snapshot}async function EW(t,e,r){const n=qe(t),i=n.Pu.get(e),o=n.Tu.get(i.targetId);if(o.length>1)return n.Tu.set(i.targetId,o.filter((a=>!Xg(a,e)))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await T1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&ME(n.remoteStore,i.targetId),I1(n,i.targetId)})).catch(pc)):(I1(n,i.targetId),await T1(n.localStore,i.targetId,!0))}async function TW(t,e){const r=qe(t),n=r.Pu.get(e),i=r.Tu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),ME(r.remoteStore,n.targetId))}async function AW(t,e,r){const n=jW(t);try{const i=await(function(a,u){const c=qe(a),f=It.now(),h=u.reduce(((x,S)=>x.add(S.key)),Je());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=$o(),w=Je();return c.Os.getEntries(x,h).next((b=>{S=b,S.forEach(((E,P)=>{P.isValidDocument()||(w=w.add(E))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((b=>{p=b;const E=[];for(const P of u){const O=B8(P,p.get(P.key).overlayedDocument);O!=null&&E.push(new rs(P.key,O,s4(O.value.mapValue),Kr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,f,E,u)})).next((b=>{y=b;const E=b.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(x,b.batchId,E)}))})).then((()=>({batchId:y.batchId,changes:v4(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,u,c){let f=a.Ru[a.currentUser.toKey()];f||(f=new $t(Ke)),f=f.insert(u,c),a.Ru[a.currentUser.toKey()]=f})(n,i.batchId,r),await ih(n,i.changes),await ny(n.remoteStore)}catch(i){const o=FE(i,"Failed to persist write");r.reject(o)}}async function Z4(t,e){const r=qe(t);try{const n=await V7(r.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=r.Eu.get(o);a&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?ut(a.lu,14607):i.removedDocuments.size>0&&(ut(a.lu,42227),a.lu=!1))})),await ih(r,n,e)}catch(n){await pc(n)}}function uk(t,e,r){const n=qe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Pu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const c=qe(a);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const y of p.wa)y.va(u)&&(f=!0)})),f&&zE(c)})(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function PW(t,e,r){const n=qe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),o=i&&i.key;if(o){let a=new $t(je.comparator);a=a.insert(o,$r.newNoDocument(o,ze.min()));const u=Je().add(o),c=new ey(ze.min(),new Map,new $t(Ke),a,u);await Z4(n,c),n.du=n.du.remove(o),n.Eu.delete(e),HE(n)}else await T1(n.localStore,e,!1).then((()=>I1(n,e,r))).catch(pc)}async function IW(t,e){const r=qe(t),n=e.batch.batchId;try{const i=await $7(r.localStore,e);t3(r,n,null),e3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ih(r,i)}catch(i){await pc(i)}}async function OW(t,e,r){const n=qe(t);try{const i=await(function(a,u){const c=qe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(ut(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(n.localStore,e);t3(n,e,r),e3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ih(n,i)}catch(i){await pc(i)}}function e3(t,e){(t.Vu.get(e)||[]).forEach((r=>{r.resolve()})),t.Vu.delete(e)}function t3(t,e,r){const n=qe(t);let i=n.Ru[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function I1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Tu.get(e))t.Pu.delete(n),r&&t.hu.pu(n,r);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((n=>{t.Au.containsKey(n)||r3(t,n)}))}function r3(t,e){t.Iu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(ME(t.remoteStore,r),t.du=t.du.remove(e),t.Eu.delete(r),HE(t))}function ck(t,e,r){for(const n of r)n instanceof Y4?(t.Au.addReference(n.key,e),kW(t,n)):n instanceof Q4?(Te(WE,"Document no longer in limbo: "+n.key),t.Au.removeReference(n.key,e),t.Au.containsKey(n.key)||r3(t,n.key)):Fe(19791,{yu:n})}function kW(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Iu.has(n)||(Te(WE,"New document in limbo: "+r),t.Iu.add(n),HE(t))}function HE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const r=new je(_t.fromString(e)),n=t.mu.next();t.Eu.set(n,new bW(r)),t.du=t.du.insert(r,n),q4(t.remoteStore,new Ma(Ui(Kg(r.path)),n,"TargetPurposeLimboResolution",Wg.ue))}}async function ih(t,e,r){const n=qe(t),i=[],o=[],a=[];n.Pu.isEmpty()||(n.Pu.forEach(((u,c)=>{a.push(n.gu(c,e,r).then((f=>{var h;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=jE.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(a),n.hu.J_(i),await(async function(c,f){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>de.forEach(f,(y=>de.forEach(y.Is,(x=>h.persistence.referenceDelegate.addReference(p,y.targetId,x))).next((()=>de.forEach(y.ds,(x=>h.persistence.referenceDelegate.removeReference(p,y.targetId,x)))))))))}catch(p){if(!mc(p))throw p;Te(RE,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const x=h.Fs.get(y),S=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(y,w)}}})(n.localStore,o))}async function CW(t,e){const r=qe(t);if(!r.currentUser.isEqual(e)){Te(WE,"User change. New user:",e.toKey());const n=await F4(r.localStore,e);r.currentUser=e,(function(o,a){o.Vu.forEach((u=>{u.forEach((c=>{c.reject(new we(ce.CANCELLED,a))}))})),o.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ih(r,n.Bs)}}function NW(t,e){const r=qe(t),n=r.Eu.get(e);if(n&&n.lu)return Je().add(n.key);{let i=Je();const o=r.Tu.get(e);if(!o)return i;for(const a of o){const u=r.Pu.get(a);i=i.unionWith(u.view.tu)}return i}}function n3(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PW.bind(null,e),e.hu.J_=mW.bind(null,e.eventManager),e.hu.pu=gW.bind(null,e.eventManager),e}function jW(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OW.bind(null,e),e}class jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return L7(this.persistence,new R7,e.initialUser,this.serializer)}Du(e){return new V4(NE.Vi,this.serializer)}bu(e){return new q7}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jm.provider={build:()=>new jm};class RW extends jm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){ut(this.persistence.referenceDelegate instanceof Cm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new b7(n,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new V4((n=>Cm.Vi(n,r)),this.serializer)}}class O1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>uk(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=CW.bind(null,this.syncEngine),await dW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pW})()}createDatastore(e){const r=ty(e.databaseInfo.databaseId),n=(function(o){return new X7(o)})(e.databaseInfo);return(function(o,a,u,c){return new Z7(o,a,u,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,o,a,u){return new tW(n,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>uk(this.syncEngine,r,0)),(function(){return nk.C()?new nk:new W7})())}createSyncEngine(e,r){return(function(i,o,a,u,c,f,h){const p=new xW(i,o,a,u,c,f);return h&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const o=qe(i);Te(il,"RemoteStore shutting down."),o.Ia.add(5),await nh(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}O1.provider={build:()=>new O1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Lo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="FirestoreClient";class MW{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=_E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async a=>{Te(Za,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Te(Za,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=FE(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Bb(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Za,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await F4(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>{Ga("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{Te("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{Ga("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function fk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await DW(t);Te(Za,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>ok(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>ok(e.remoteStore,i))),t._onlineComponents=e}async function DW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Za,"Using user provided OfflineComponentProvider");try{await Bb(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Ga("Error using user provided cache. Falling back to memory cache: "+r),await Bb(t,new jm)}}else Te(Za,"Using default OfflineComponentProvider"),await Bb(t,new RW(void 0));return t._offlineComponents}async function i3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Za,"Using user provided OnlineComponentProvider"),await fk(t,t._uninitializedComponentsProvider._online)):(Te(Za,"Using default OnlineComponentProvider"),await fk(t,new O1))),t._onlineComponents}function LW(t){return i3(t).then((e=>e.syncEngine))}async function Rm(t){const e=await i3(t),r=e.eventManager;return r.onListen=_W.bind(null,e.syncEngine),r.onUnlisten=EW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=wW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=TW.bind(null,e.syncEngine),r}function $W(t,e,r={}){const n=new Oo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,f){const h=new GE({next:y=>{h.Ou(),a.enqueueAndForget((()=>BE(o,p)));const x=y.docs.has(u);!x&&y.fromCache?f.reject(new we(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&c&&c.source==="server"?f.reject(new we(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new qE(Kg(u.path),h,{includeMetadataChanges:!0,ka:!0});return UE(o,p)})(await Rm(t),t.asyncQueue,e,r,n))),n.promise}function VW(t,e,r={}){const n=new Oo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,f){const h=new GE({next:y=>{h.Ou(),a.enqueueAndForget((()=>BE(o,p))),y.fromCache&&c.source==="server"?f.reject(new we(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new qE(u,h,{includeMetadataChanges:!0,ka:!0});return UE(o,p)})(await Rm(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="firestore.googleapis.com",hk=!0;class pk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a3,this.ssl=hk}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:hk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y7)throw new we(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iy{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Gq;switch(n.type){case"firstParty":return new Qq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=dk.get(r);n&&(Te("ComponentProvider","Removing Datastore"),dk.delete(r),n.terminate())})(this),Promise.resolve()}}function FW(t,e,r,n={}){var i;t=Gr(t,iy);const o=fc(e),a=t._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;o&&(ZD(`https://${c}`),eL("Firestore",!0)),a.host!==a3&&a.host!==c&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:c,ssl:o,emulatorOptions:n});if(!Ro(f,u)&&(t._setSettings(f),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Lr.MOCK_USER;else{h=YU(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new we(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Lr(y)}t._authCredentials=new Kq(new KL(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class Bt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(eh(r,Bt._jsonSchema))return new Bt(e,n||null,new je(_t.fromString(r.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Zt("string",Bt._jsonSchemaVersion),referencePath:Zt("string")};class za extends Ko{constructor(e,r,n){super(e,r,Kg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new je(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function Ki(t,e,...r){if(t=Rt(t),YL("collection","path",e),t instanceof iy){const n=_t.fromString(e,...r);return PO(n),new za(t,null,n)}{if(!(t instanceof Bt||t instanceof za))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(_t.fromString(e,...r));return PO(n),new za(t.firestore,null,n)}}function xi(t,e,...r){if(t=Rt(t),arguments.length===1&&(e=_E.newId()),YL("doc","path",e),t instanceof iy){const n=_t.fromString(e,...r);return AO(n),new Bt(t,null,new je(n))}{if(!(t instanceof Bt||t instanceof za))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(_t.fromString(e,...r));return AO(n),new Bt(t.firestore,t instanceof za?t.converter:null,new je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="AsyncQueue";class gk{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new B4(this,"async_queue_retry"),this.oc=()=>{const n=Ub();n&&Te(mk,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const r=Ub();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=Ub();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Oo;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!mc(e))throw e;Te(mk,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((n=>{throw this.tc=n,this.nc=!1,Lo("INTERNAL UNHANDLED ERROR: ",yk(n)),n})).then((n=>(this.nc=!1,n))))));return this._c=r,r}enqueueAfterDelay(e,r,n){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const i=VE.createAndSchedule(this,e,r,n,(o=>this.lc(o)));return this.ec.push(i),i}ac(){this.tc&&Fe(47125,{hc:yk(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function yk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Xi extends iy{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new gk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gk(e),this._firestoreClient=void 0,await e}}}function UW(t,e){const r=typeof t=="object"?t:iL(),n=typeof t=="string"?t:Em,i=lE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=KU("firestore");o&&FW(i,...o)}return i}function oh(t){if(t._terminated)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BW(t),t._firestoreClient}function BW(t){var e,r,n;const i=t._freezeSettings(),o=(function(u,c,f,h){return new h8(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,o3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new MW(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(kr.fromBase64String(e))}catch(r){throw new we(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Bn(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eh(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Zt("string",Bn._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new we(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new we(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new we(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(eh(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Zt("string",zi._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eh(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new qi(e.vectorValues);throw new we(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Zt("string",qi._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=/^__.*__$/;class qW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,r,this.fieldTransforms):new th(e,this.data,r,this.fieldTransforms)}}class s3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new rs(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function l3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ec:t})}}class oy{constructor(e,r,n,i,o,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(l3(this.Ec)&&zW.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class WW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ty(e)}Dc(e,r,n,i=!1){return new oy({Ec:e,methodName:r,bc:n,path:Or.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(t){const e=t._freezeSettings(),r=ty(t._databaseId);return new WW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function KE(t,e,r,n,i,o={}){const a=t.Dc(o.merge||o.mergeFields?2:0,e,r,i);QE("Data must be an object, but it was:",a,n);const u=d3(n,a);let c,f;if(o.merge)c=new Pn(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const y=k1(e,p,r);if(!a.contains(y))throw new we(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);p3(h,y)||h.push(y)}c=new Pn(h),f=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=a.fieldTransforms;return new qW(new un(u),c,f)}class ay extends sh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ay}}function u3(t,e,r){return new oy({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class XE extends sh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=u3(this,e,!0),n=this.vc.map((o=>pl(o,r))),i=new Ru(n);return new T4(e.path,i)}isEqual(e){return e instanceof XE&&Ro(this.vc,e.vc)}}class YE extends sh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=u3(this,e,!0),n=this.vc.map((o=>pl(o,r))),i=new Mu(n);return new T4(e.path,i)}isEqual(e){return e instanceof YE&&Ro(this.vc,e.vc)}}function c3(t,e,r,n){const i=t.Dc(1,e,r);QE("Data must be an object, but it was:",i,n);const o=[],a=un.empty();ts(n,((c,f)=>{const h=JE(e,c,r);f=Rt(f);const p=i.gc(h);if(f instanceof ay)o.push(h);else{const y=pl(f,p);y!=null&&(o.push(h),a.set(h,y))}}));const u=new Pn(o);return new s3(a,u,i.fieldTransforms)}function f3(t,e,r,n,i,o){const a=t.Dc(1,e,r),u=[k1(e,n,r)],c=[i];if(o.length%2!=0)throw new we(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(k1(e,o[y])),c.push(o[y+1]);const f=[],h=un.empty();for(let y=u.length-1;y>=0;--y)if(!p3(f,u[y])){const x=u[y];let S=c[y];S=Rt(S);const w=a.gc(x);if(S instanceof ay)f.push(x);else{const b=pl(S,w);b!=null&&(f.push(x),h.set(x,b))}}const p=new Pn(f);return new s3(h,p,a.fieldTransforms)}function HW(t,e,r,n=!1){return pl(r,t.Dc(n?4:3,e))}function pl(t,e){if(h3(t=Rt(t)))return QE("Unsupported field value:",e,t),d3(t,e);if(t instanceof sh)return(function(n,i){if(!l3(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(n,i){const o=[];let a=0;for(const u of n){let c=pl(u,i.yc(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}})(t,e)}return(function(n,i){if((n=Rt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return D8(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=It.fromDate(n);return{timestampValue:km(i.serializer,o)}}if(n instanceof It){const o=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:km(i.serializer,o)}}if(n instanceof zi)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bn)return{bytesValue:C4(i.serializer,n._byteString)};if(n instanceof Bt){const o=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kE(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof qi)return(function(a,u){return{mapValue:{fields:{[o4]:{stringValue:a4},[Tm]:{arrayValue:{values:a.toArray().map((f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return PE(u.serializer,f)}))}}}}}})(n,i);throw i.wc(`Unsupported field value: ${qg(n)}`)})(t,e)}function d3(t,e){const r={};return ZL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,((n,i)=>{const o=pl(i,e.Vc(n));o!=null&&(r[n]=o)})),{mapValue:{fields:r}}}function h3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof zi||t instanceof Bn||t instanceof Bt||t instanceof sh||t instanceof qi)}function QE(t,e,r){if(!h3(r)||!QL(r)){const n=qg(r);throw n==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+n)}}function k1(t,e,r){if((e=Rt(e))instanceof ah)return e._internalPath;if(typeof e=="string")return JE(t,e);throw Mm("Field path arguments must be of type string or ",t,!1,void 0,r)}const GW=new RegExp("[~\\*/\\[\\]]");function JE(t,e,r){if(e.search(GW)>=0)throw Mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ah(...e.split("."))._internalPath}catch{throw Mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Mm(t,e,r,n,i){const o=n&&!n.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${n}`),a&&(c+=` in document ${i}`),c+=")"),new we(ce.INVALID_ARGUMENT,u+t+c)}function p3(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class KW extends m3{data(){return super.data()}}function sy(t,e){return typeof e=="string"?JE(t,e):e instanceof ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZE{}class eT extends ZE{}function Xr(t,e,...r){let n=[];e instanceof ZE&&n.push(e),n=n.concat(r),(function(o){const a=o.filter((c=>c instanceof tT)).length,u=o.filter((c=>c instanceof ly)).length;if(a>1||a>0&&u>0)throw new we(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class ly extends eT{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new ly(e,r,n)}_apply(e){const r=this._parse(e);return y3(e._query,r),new Ko(e.firestore,e.converter,x1(e._query,r))}_parse(e){const r=lh(e.firestore);return(function(o,a,u,c,f,h,p){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new we(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xk(p,h);const S=[];for(const w of p)S.push(bk(c,o,w));y={arrayValue:{values:S}}}else y=bk(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xk(p,h),y=HW(u,a,p,h==="in"||h==="not-in");return Jt.create(f,h,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ut(t,e,r){const n=e,i=sy("where",t);return ly._create(i,n,r)}class tT extends ZE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new tT(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:bi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const c of u)y3(a,c),a=x1(a,c)})(e._query,r),new Ko(e.firestore,e.converter,x1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rT extends eT{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new rT(e,r)}_apply(e){const r=(function(i,o,a){if(i.startAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fd(o,a)})(e._query,this._field,this._direction);return new Ko(e.firestore,e.converter,(function(i,o){const a=i.explicitOrderBy.concat([o]);return new gc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function XW(t,e="asc"){const r=e,n=sy("orderBy",t);return rT._create(n,r)}class nT extends eT{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new nT(e,r,n)}_apply(e){return new Ko(e.firestore,e.converter,Pm(e._query,this._limit,this._limitType))}}function YW(t){return nT._create("limit",t,"F")}function bk(t,e,r){if(typeof(r=Rt(r))=="string"){if(r==="")throw new we(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p4(e)&&r.indexOf("/")!==-1)throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(_t.fromString(r));if(!je.isDocumentKey(n))throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return MO(t,new je(n))}if(r instanceof Bt)return MO(t,r._key);throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(r)}.`)}function xk(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y3(t,e){const r=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class QW{convertValue(e,r="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ts(e,((i,o)=>{n[i]=this.convertValue(o,r)})),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Tm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((a=>Wt(a.doubleValue)));return new qi(o)}convertGeoPoint(e){return new zi(Wt(e.latitude),Wt(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Gg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const r=Xa(e);return new It(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=_t.fromString(e);ut(L4(n),9688,{name:e});const i=new ud(n.get(1),n.get(3)),o=new je(n.popFirst(5));return i.isEqual(r)||Lo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Vf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends m3{constructor(e,r,n,i,o,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Xs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Zt("string",Xs._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class dm extends Xs{data(e={}){return super.data(e)}}class Ys{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Vf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new dm(this._firestore,this._userDataWriter,n.key,n,new Vf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new we(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const c=new dm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new dm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),h=a.indexOf(u.doc.key)),{type:JW(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_E.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(r.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){t=Gr(t,Bt);const e=Gr(t.firestore,Xi);return $W(oh(e),t._key).then((r=>v3(e,t,r)))}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:Zt("string",Ys._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class oT extends QW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,r)}}function $u(t){t=Gr(t,Ko);const e=Gr(t.firestore,Xi),r=oh(e),n=new oT(e);return g3(t._query),VW(r,t._query).then((i=>new Ys(e,n,t,i)))}function ko(t,e,r){t=Gr(t,Bt);const n=Gr(t.firestore,Xi),i=iT(t.converter,e,r);return uh(n,[KE(lh(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Kr.none())])}function wt(t,e,r,...n){t=Gr(t,Bt);const i=Gr(t.firestore,Xi),o=lh(i);let a;return a=typeof(e=Rt(e))=="string"||e instanceof ah?f3(o,"updateDoc",t._key,e,r,n):c3(o,"updateDoc",t._key,e),uh(i,[a.toMutation(t._key,Kr.exists(!0))])}function _k(t){return uh(Gr(t.firestore,Xi),[new Zg(t._key,Kr.none())])}function qa(t,e){const r=Gr(t.firestore,Xi),n=xi(t),i=iT(t.converter,e);return uh(r,[KE(lh(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Kr.exists(!1))]).then((()=>n))}function In(t,...e){var r,n,i;t=Rt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||vk(e[a])||(o=e[a++]);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(vk(e[a])){const p=e[a];e[a]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[a+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,h;if(t instanceof Bt)f=Gr(t.firestore,Xi),h=Kg(t._key.path),c={next:p=>{e[a]&&e[a](v3(f,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Gr(t,Ko);f=Gr(p.firestore,Xi),h=p._query;const y=new oT(f);c={next:x=>{e[a]&&e[a](new Ys(f,y,p,x))},error:e[a+1],complete:e[a+2]},g3(t._query)}return(function(y,x,S,w){const b=new GE(w),E=new qE(x,b,S);return y.asyncQueue.enqueueAndForget((async()=>UE(await Rm(y),E))),()=>{b.Ou(),y.asyncQueue.enqueueAndForget((async()=>BE(await Rm(y),E)))}})(oh(f),h,u,c)}function uh(t,e){return(function(n,i){const o=new Oo;return n.asyncQueue.enqueueAndForget((async()=>AW(await LW(n),i,o))),o.promise})(oh(t),e)}function v3(t,e,r){const n=r.docs.get(e._key),i=new oT(t);return new Xs(t,i,e._key,n,new Vf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=lh(e)}set(e,r,n){this._verifyNotCommitted();const i=zb(e,this._firestore),o=iT(i.converter,r,n),a=KE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Kr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const o=zb(e,this._firestore);let a;return a=typeof(r=Rt(r))=="string"||r instanceof ah?f3(this._dataReader,"WriteBatch.update",o._key,r,n,i):c3(this._dataReader,"WriteBatch.update",o._key,r),this._mutations.push(a.toMutation(o._key,Kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=zb(e,this._firestore);return this._mutations=this._mutations.concat(new Zg(r._key,Kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zb(t,e){if((t=Rt(t)).firestore!==e)throw new we(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function qb(...t){return new XE("arrayUnion",t)}function eH(...t){return new YE("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){return oh(t=Gr(t,Xi)),new ZW(t,(e=>uh(t,e)))}(function(e,r=!0){(function(i){hc=i})(dc),Ou(new el("firestore",((n,{instanceIdentifier:i,options:o})=>{const a=n.getProvider("app").getImmediate(),u=new Xi(new Xq(n.getProvider("auth-internal")),new Jq(a,n.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ud(f.options.projectId,h)})(a,i),a);return o=Object.assign({useFetchStreams:r},o),u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Ua(_O,wO,e),Ua(_O,wO,"esm2017")})();const rH={apiKey:"AIzaSyCe85WvMIdGqpB4fQ-5l4c46fikr-EwO5s",authDomain:"sarasva-e25dd.firebaseapp.com",projectId:"sarasva-e25dd",storageBucket:"sarasva-e25dd.firebasestorage.app",messagingSenderId:"1033167676784",appId:"1:1033167676784:web:9134c434cc4716434ddbb5"},b3=nL(rH),sn=zq(b3),Ht=UW(b3);function Yr(t,e){return Ki(Ht,"users",t,e)}function Ot(t,e,r){return xi(Ht,"users",t,e,r)}async function _f(t,{name:e,course:r}){const n=e??"";await ko(xi(Ht,"publicProfiles",t),{name:n,nameLower:n.toLowerCase(),course:r??"",uid:t},{merge:!0})}const $s={focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0};function ci(t){return xi(Ht,"users",t,"profile","data")}function su(t,e={}){return{id:t.uid,name:e.name??t.displayName??"",email:t.email,course:e.course??"",semester:e.semester??"",settings:e.settings??$s,notificationsEmail:e.notificationsEmail??!1}}const hi={async register({name:t,email:e,password:r,course:n="",semester:i=""}){const o=await T9(sn,e,r);await cO(o.user,{displayName:t});const a={name:t,course:n,semester:i,settings:$s};return await ko(ci(o.user.uid),a),await _f(o.user.uid,{name:t,course:n}),su(o.user,a)},async loginWithGoogle(){const t=new Li,e=await Q9(sn,t),r=await _o(ci(e.user.uid));if(!r.exists()){const i={name:e.user.displayName??"",course:"",semester:"",settings:$s};return await ko(ci(e.user.uid),i),await _f(e.user.uid,{name:i.name,course:""}),su(e.user,i)}const n=r.data();return _f(e.user.uid,{name:n.name??e.user.displayName??"",course:n.course??""}).catch(()=>{}),su(e.user,n)},async login({email:t,password:e}){try{const r=await A9(sn,t,e),n=await _o(ci(r.user.uid)),i=n.exists()?n.data():{};return _f(r.user.uid,{name:i.name??r.user.displayName??"",course:i.course??""}).catch(()=>{}),su(r.user,i)}catch(r){throw r.code==="auth/invalid-credential"||r.code==="auth/wrong-password"?Object.assign(new Error('Incorrect password. If you previously signed in with Google, use "Forgot password?" to set a password for email login.'),{code:r.code}):r}},async linkGoogle(){const t=sn.currentUser;if(!t)throw new Error("Not logged in.");const e=new Li;await J9(t,e)},async addPassword(t){const e=sn.currentUser;if(!e)throw new Error("Not logged in.");if(!e.email)throw new Error("No email on account.");const r=fl.credential(e.email,t);await S9(e,r)},async getMe(){const t=sn.currentUser;if(!t)return null;const e=await _o(ci(t.uid)),r=e.exists()?e.data():{};return su(t,r)},async logout(){await C9(sn)},async resetPassword(t){await E9(sn,t)},async updateProfile({name:t,course:e,semester:r}){const n=sn.currentUser;if(!n)throw new Error("Not logged in.");await cO(n,{displayName:t}),await wt(ci(n.uid),{name:t,course:e,semester:r}),await _f(n.uid,{name:t,course:e});const i=await _o(ci(n.uid));return su(n,i.data())},async getSettings(){const t=sn.currentUser;if(!t)return null;const e=await _o(ci(t.uid));return e.exists()?e.data().settings??$s:$s},async updateSettings(t){const e=sn.currentUser;if(!e)throw new Error("Not logged in.");const r=await _o(ci(e.uid)),i={...r.exists()?r.data().settings??$s:$s,...t};return await wt(ci(e.uid),{settings:i}),i},async updateNotificationPrefs({notificationsEmail:t}){const e=sn.currentUser;if(!e)throw new Error("Not logged in.");await wt(ci(e.uid),{notificationsEmail:t})}},aT=F.createContext(null);function Xo(){return F.useContext(aT)}function nH({children:t}){const[e,r]=F.useState(null),[n,i]=F.useState(!0);F.useEffect(()=>k9(sn,async p=>{if(p){const y=await hi.getMe();r(y)}else r(null);i(!1)}),[]);const o=F.useCallback(async(h,p)=>{const y=await hi.login({email:h,password:p});return r(y),y},[]),a=F.useCallback(async h=>{const p=await hi.register(h);return r(p),p},[]),u=F.useCallback(async()=>{const h=await hi.loginWithGoogle();return r(h),h},[]),c=F.useCallback(async()=>{await hi.logout(),r(null)},[]),f=F.useCallback(async()=>{const h=await hi.getMe();r(h??null)},[]);return v.jsx(aT.Provider,{value:{user:e,loading:n,login:o,loginWithGoogle:u,register:a,logout:c,refreshUser:f},children:t})}function Yo(){const t=F.useContext(aT);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:a,...u},c)=>F.createElement("svg",{ref:c,...oH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:x3("lucide",i),...u},[...a.map(([f,h])=>F.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=F.forwardRef(({className:n,...i},o)=>F.createElement(aH,{ref:o,iconNode:e,className:x3(`lucide-${iH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=De("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=De("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=De("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=De("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=De("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=De("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=De("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=De("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=De("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=De("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=De("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=De("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=De("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=De("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=De("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=De("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=De("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=De("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=De("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=De("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=De("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=De("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=De("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=De("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function N3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=N3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=N3(t))&&(n&&(n+=" "),n+=e);return n}const dT="-",kH=t=>{const e=NH(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const u=a.split(dT);return u[0]===""&&u.length!==1&&u.shift(),j3(u,e)||CH(a)},getConflictingClassGroupIds:(a,u)=>{const c=r[a]||[];return u&&n[a]?[...c,...n[a]]:c}}},j3=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?j3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(dT);return(a=e.validators.find(({validator:u})=>u(o)))==null?void 0:a.classGroupId},Sk=/^\[(.+)\]$/,CH=t=>{if(Sk.test(t)){const e=Sk.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},NH=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return RH(Object.entries(t.classGroups),r).forEach(([o,a])=>{R1(a,n,o,e)}),n},R1=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Ek(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(jH(i)){R1(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{R1(a,Ek(e,o),r,n)})})},Ek=(t,e)=>{let r=t;return e.split(dT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jH=t=>t.isThemeGetter,RH=(t,e)=>e?t.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,u])=>[e+a,u])):o);return[r,i]}):t,MH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},R3="!",DH=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],o=e.length,a=u=>{const c=[];let f=0,h=0,p;for(let b=0;b<u.length;b++){let E=u[b];if(f===0){if(E===i&&(n||u.slice(b,b+o)===e)){c.push(u.slice(h,b)),h=b+o;continue}if(E==="/"){p=b;continue}}E==="["?f++:E==="]"&&f--}const y=c.length===0?u:u.substring(h),x=y.startsWith(R3),S=x?y.substring(1):y,w=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:w}};return r?u=>r({className:u,parseClassName:a}):a},LH=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},$H=t=>({cache:MH(t.cacheSize),parseClassName:DH(t),...kH(t)}),VH=/\s+/,FH=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(VH);let u="";for(let c=a.length-1;c>=0;c-=1){const f=a[c],{modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}=r(f);let S=!!x,w=n(S?y.substring(0,x):y);if(!w){if(!S){u=f+(u.length>0?" "+u:u);continue}if(w=n(y),!w){u=f+(u.length>0?" "+u:u);continue}S=!1}const b=LH(h).join(":"),E=p?b+R3:b,P=E+w;if(o.includes(P))continue;o.push(P);const O=i(w,S);for(let M=0;M<O.length;++M){const k=O[M];o.push(E+k)}u=f+(u.length>0?" "+u:u)}return u};function UH(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=M3(e))&&(n&&(n+=" "),n+=r);return n}const M3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=M3(t[n]))&&(r&&(r+=" "),r+=e);return r};function BH(t,...e){let r,n,i,o=a;function a(c){const f=e.reduce((h,p)=>p(h),t());return r=$H(f),n=r.cache.get,i=r.cache.set,o=u,u(c)}function u(c){const f=n(c);if(f)return f;const h=FH(c,r);return i(c,h),h}return function(){return o(UH.apply(null,arguments))}}const At=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},D3=/^\[(?:([a-z-]+):)?(.+)\]$/i,zH=/^\d+\/\d+$/,qH=new Set(["px","full","screen"]),WH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vo=t=>Su(t)||qH.has(t)||zH.test(t),Aa=t=>xc(t,"length",nG),Su=t=>!!t&&!Number.isNaN(Number(t)),Wb=t=>xc(t,"number",Su),wf=t=>!!t&&Number.isInteger(Number(t)),YH=t=>t.endsWith("%")&&Su(t.slice(0,-1)),Ge=t=>D3.test(t),Pa=t=>WH.test(t),QH=new Set(["length","size","percentage"]),JH=t=>xc(t,QH,L3),ZH=t=>xc(t,"position",L3),eG=new Set(["image","url"]),tG=t=>xc(t,eG,oG),rG=t=>xc(t,"",iG),Sf=()=>!0,xc=(t,e,r)=>{const n=D3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},nG=t=>HH.test(t)&&!GH.test(t),L3=()=>!1,iG=t=>KH.test(t),oG=t=>XH.test(t),aG=()=>{const t=At("colors"),e=At("spacing"),r=At("blur"),n=At("brightness"),i=At("borderColor"),o=At("borderRadius"),a=At("borderSpacing"),u=At("borderWidth"),c=At("contrast"),f=At("grayscale"),h=At("hueRotate"),p=At("invert"),y=At("gap"),x=At("gradientColorStops"),S=At("gradientColorStopPositions"),w=At("inset"),b=At("margin"),E=At("opacity"),P=At("padding"),O=At("saturate"),M=At("scale"),k=At("sepia"),R=At("skew"),I=At("space"),C=At("translate"),j=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ge,e],L=()=>[Ge,e],$=()=>["",vo,Aa],Y=()=>["auto",Su,Ge],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Ge],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Su,Ge];return{cacheSize:500,separator:":",theme:{colors:[Sf],spacing:[vo,Aa],blur:["none","",Pa,Ge],brightness:q(),borderColor:[t],borderRadius:["none","","full",Pa,Ge],borderSpacing:L(),borderWidth:$(),contrast:q(),grayscale:oe(),hueRotate:q(),invert:oe(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[YH,Aa],inset:V(),margin:V(),opacity:q(),padding:L(),saturate:q(),scale:q(),sepia:oe(),skew:q(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Pa]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Ge]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wf,Ge]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",wf,Ge]}],"grid-cols":[{"grid-cols":[Sf]}],"col-start-end":[{col:["auto",{span:["full",wf,Ge]},Ge]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Sf]}],"row-start-end":[{row:["auto",{span:[wf,Ge]},Ge]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[Pa]},Pa]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pa,Aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wb]}],"font-family":[{font:[Sf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Su,Wb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vo,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vo,Aa]}],"underline-offset":[{"underline-offset":["auto",vo,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),ZH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[vo,Ge]}],"outline-w":[{outline:[vo,Aa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[vo,Aa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pa,rG]}],"shadow-color":[{shadow:[Sf]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pa,Ge]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[O]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[wf,Ge]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vo,Aa,Wb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sG=BH(aG);function mt(...t){return sG(Xe(t))}const lG=[{to:"/dashboard",label:"Dashboard",icon:T3},{to:"/attendance",label:"Attendance",icon:uy},{to:"/timetable",label:"Timetable",icon:sT},{to:"/subjects",label:"Subjects",icon:j1},{to:"/exams",label:"Exams",icon:vc},{to:"/tasks",label:"Tasks",icon:fT},{to:"/calendar",label:"Calendar",icon:lT},{to:"/ptp",label:"Study Peers",icon:Xf}];function uG(){const{user:t,logout:e}=Yo(),r=qo();function n(){e(),r("/login")}return v.jsxs("aside",{className:"hidden lg:flex w-56 flex-shrink-0 flex-col border-r border-border bg-card px-3 py-6",children:[v.jsxs("div",{className:"mb-8 px-3",children:[v.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Sarasva"}),v.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:t==null?void 0:t.name})]}),v.jsx("nav",{className:"flex flex-col gap-1",children:lG.map(({to:i,label:o,icon:a})=>v.jsxs(i1,{to:i,className:({isActive:u})=>mt("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",u?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[v.jsx(a,{size:16}),o]},i))}),v.jsxs("div",{className:"mt-auto flex flex-col gap-1",children:[v.jsxs(i1,{to:"/profile",className:({isActive:i})=>mt("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[v.jsx(w3,{size:16}),"Profile"]}),v.jsxs("button",{onClick:n,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-destructive hover:text-destructive-foreground",children:[v.jsx(yH,{size:16}),"Logout"]})]})]})}const cG=[{to:"/dashboard",label:"Home",icon:T3},{to:"/attendance",label:"Attend",icon:uy},{to:"/exams",label:"Exams",icon:vc},{to:"/tasks",label:"Tasks",icon:fT},{to:"/ptp",label:"Peers",icon:Xf}];function fG(){return v.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-16 lg:hidden border-t border-border bg-card",children:cG.map(({to:t,label:e,icon:r})=>v.jsxs(i1,{to:t,className:({isActive:n})=>mt("flex flex-1 flex-col items-center justify-center gap-0.5 text-[10px] font-medium transition-colors",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[v.jsx(r,{size:19}),v.jsx("span",{children:e})]},t))})}function dy({archived:t=!1}={}){const{user:e}=Xo(),[r,n]=F.useState([]),[i,o]=F.useState(!0),[a,u]=F.useState(null);F.useEffect(()=>{if(!e)return;const y=Xr(Yr(e.id,"subjects"),Ut("archived","==",t));return In(y,S=>{const w=S.docs.map(b=>({id:b.id,...b.data()})).sort((b,E)=>b.createdAt.localeCompare(E.createdAt));n(w),o(!1)},S=>{u(S.message),o(!1)})},[e,t]);const c=F.useCallback(async y=>{if(e)try{await qa(Yr(e.id,"subjects"),{name:y,archived:!1,createdAt:new Date().toISOString()})}catch(x){u(x.message)}},[e]),f=F.useCallback(async(y,x)=>{if(e)try{await wt(Ot(e.id,"subjects",y),x)}catch(S){u(S.message)}},[e]),h=F.useCallback(async y=>{await f(y,{archived:!0})},[f]),p=F.useCallback(()=>{},[]);return{subjects:r,loading:i,error:a,refresh:p,create:c,update:f,archive:h}}function dG(t){const e=Math.round((t.theoryProgress+t.practiceProgress)/2),r=Math.round((100-e)*t.weightage);return{...t,overallProgress:e,priorityScore:r}}function hG(t){return{...t,subjects:(t.subjects??[]).map(e=>({...e,chapters:(e.chapters??[]).map(dG)}))}}const Hb={async create(t,{name:e}){return(await qa(Yr(t,"exams"),{name:e,archived:!1,subjects:[],createdAt:new Date().toISOString()})).id},async update(t,e,r){await wt(Ot(t,"exams",e),r)},async archive(t,e){await wt(Ot(t,"exams",e),{archived:!0})}};function hT(){const{user:t}=Xo(),[e,r]=F.useState([]),[n,i]=F.useState(!0),[o,a]=F.useState(null);F.useEffect(()=>{if(!t)return;const w=Xr(Yr(t.id,"exams"),Ut("archived","==",!1));return In(w,b=>{const E=b.docs.map(P=>hG({id:P.id,...P.data()})).sort((P,O)=>P.createdAt.localeCompare(O.createdAt));r(E),i(!1)},b=>{a(b.message),i(!1)})},[t]);const u=F.useCallback(async({name:w})=>{if(t)try{await Hb.create(t.id,{name:w})}catch(b){a(b.message)}},[t]),c=F.useCallback(async(w,b)=>{if(t)try{await Hb.update(t.id,w,b)}catch(E){a(E.message)}},[t]),f=F.useCallback(async w=>{if(t)try{await Hb.archive(t.id,w)}catch(b){a(b.message)}},[t]),h=F.useCallback(async(w,b)=>{if(t)try{const E=e.find(O=>O.id===w);if(!E)return;if(E.subjects.find(O=>O.subjectId===b))throw new Error("Subject already added.");const P=[...E.subjects,{subjectId:b,chapters:[]}];await wt(Ot(t.id,"exams",w),{subjects:P})}catch(E){a(E.message)}},[t,e]),p=F.useCallback(async(w,b)=>{if(t)try{const E=e.find(O=>O.id===w);if(!E)return;const P=E.subjects.filter(O=>O.subjectId!==b);await wt(Ot(t.id,"exams",w),{subjects:P})}catch(E){a(E.message)}},[t,e]),y=F.useCallback(async(w,b,E)=>{if(t)try{const P=e.find(k=>k.id===w);if(!P)return;const O={id:crypto.randomUUID(),name:E.name,theoryProgress:E.theoryProgress??0,practiceProgress:E.practiceProgress??0,weightage:E.weightage??1},M=P.subjects.map(k=>k.subjectId===b?{...k,chapters:[...k.chapters,O]}:k);await wt(Ot(t.id,"exams",w),{subjects:M})}catch(P){a(P.message)}},[t,e]),x=F.useCallback(async(w,b,E,P)=>{if(t)try{const O=e.find(k=>k.id===w);if(!O)return;const M=O.subjects.map(k=>k.subjectId===b?{...k,chapters:k.chapters.map(R=>R.id===E?{...R,...P}:R)}:k);await wt(Ot(t.id,"exams",w),{subjects:M})}catch(O){a(O.message)}},[t,e]),S=F.useCallback(async(w,b,E)=>{if(t)try{const P=e.find(M=>M.id===w);if(!P)return;const O=P.subjects.map(M=>M.subjectId===b?{...M,chapters:M.chapters.filter(k=>k.id!==E)}:M);await wt(Ot(t.id,"exams",w),{subjects:O})}catch(P){a(P.message)}},[t,e]);return{exams:e,loading:n,error:o,create:u,update:c,archive:f,addSubject:h,removeSubject:p,addChapter:y,updateChapter:x,deleteChapter:S}}function pG({open:t,onClose:e}){const[r,n]=F.useState(!1),[i,o]=F.useState(""),[a,u]=F.useState(""),[c,f]=F.useState(!1),[h,p]=F.useState(""),{create:y}=dy({archived:!1}),{create:x}=hT(),S=qo();async function w(M){if(M.preventDefault(),!!i.trim()){u("");try{await y(i.trim()),o(""),n(!1)}catch(k){u(k.message)}}}async function b(M){M.preventDefault(),h.trim()&&(await x({name:h.trim()}),p(""),f(!1))}function E(M){S(M),e()}function P(){n(M=>!M),f(!1),u("")}function O(){f(M=>!M),n(!1)}return v.jsxs(v.Fragment,{children:[t&&v.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:e}),v.jsxs("div",{className:`fixed top-0 left-0 z-50 h-full w-72 bg-card shadow-2xl transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-4",children:[v.jsx("h2",{className:"text-base font-bold tracking-tight",children:"Quick Actions"}),v.jsx("button",{onClick:e,className:"rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground",children:v.jsx($i,{size:18})})]}),v.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto p-4 h-[calc(100%-61px)]",children:[v.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[v.jsxs("button",{onClick:P,className:"flex w-full items-center gap-3",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:v.jsx(j1,{size:15,className:"text-primary"})}),v.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add Subject"}),v.jsx(Ur,{size:15,className:`text-primary transition-transform duration-200 ${r?"rotate-45":""}`})]}),r&&v.jsxs("form",{onSubmit:w,className:"mt-3 flex flex-col gap-2",children:[v.jsx("input",{autoFocus:!0,value:i,onChange:M=>o(M.target.value),placeholder:"e.g. Mathematics",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),a&&v.jsx("p",{className:"text-xs text-destructive",children:a}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>{n(!1),o("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[v.jsxs("button",{onClick:O,className:"flex w-full items-center gap-3",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:v.jsx(E3,{size:15,className:"text-primary"})}),v.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add New Exam"}),v.jsx(Ur,{size:15,className:`text-primary transition-transform duration-200 ${c?"rotate-45":""}`})]}),c&&v.jsxs("form",{onSubmit:b,className:"mt-3 flex flex-col gap-2",children:[v.jsx("input",{autoFocus:!0,value:h,onChange:M=>p(M.target.value),placeholder:"e.g. Mid-term 2026",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),v.jsx("button",{type:"button",onClick:()=>{f(!1),p("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),v.jsx("div",{className:"my-1 border-t border-border"}),v.jsxs("button",{onClick:()=>E("/calendar"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:v.jsx(lT,{size:15,className:"text-primary"})}),v.jsx("span",{className:"text-sm font-medium",children:"Task Calendar"})]}),v.jsxs("button",{onClick:()=>E("/subjects"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:v.jsx(j1,{size:15,className:"text-primary"})}),v.jsx("span",{className:"text-sm font-medium",children:"Manage Subjects"})]}),v.jsxs("button",{onClick:()=>E("/timetable"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:v.jsx(sT,{size:15,className:"text-primary"})}),v.jsx("span",{className:"text-sm font-medium",children:"Schedule / Timetable"})]})]})]})]})}function mG(){const{user:t}=Yo(),[e,r]=F.useState(!1);return v.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[v.jsx(uG,{}),v.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[v.jsxs("header",{className:"flex lg:hidden shrink-0 items-center justify-between border-b border-border bg-card px-4 py-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:()=>r(!0),className:"-ml-1 rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Open quick actions",children:v.jsx(bH,{size:20})}),v.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Sarasva"})]}),v.jsx(mi,{to:"/profile",className:"text-muted-foreground hover:text-foreground",title:"Profile",children:v.jsx(w3,{size:22})})]}),v.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-20 lg:p-6 lg:pb-6",children:v.jsx(WD,{})})]}),v.jsx(fG,{}),v.jsx(pG,{open:e,onClose:()=>r(!1)})]})}function gG(){const{user:t}=Yo();return t?v.jsx(WD,{}):v.jsx(r1,{to:"/login",replace:!0})}function yG(){var O;const{login:t,loginWithGoogle:e,user:r}=Yo(),n=qo(),i=cl(),[o,a]=F.useState({email:"",password:""}),[u,c]=F.useState(""),[f,h]=F.useState(""),[p,y]=F.useState(!1),[x,S]=F.useState(!1);if(r)return n(((O=i.state)==null?void 0:O.from)||"/dashboard",{replace:!0}),null;function w(M){a(k=>({...k,[M.target.name]:M.target.value}))}async function b(M){var k;M.preventDefault(),c(""),h(""),y(!0);try{await t(o.email,o.password),n(((k=i.state)==null?void 0:k.from)||"/dashboard",{replace:!0})}catch(R){c(R.message||"Login failed. Please try again.")}finally{y(!1)}}async function E(){var M;c(""),h(""),S(!0);try{await e(),n(((M=i.state)==null?void 0:M.from)||"/dashboard",{replace:!0})}catch(k){k.code!=="auth/popup-closed-by-user"&&c(k.message||"Google sign-in failed. Please try again.")}finally{S(!1)}}async function P(){if(!o.email){c("Please enter your email address to reset your password.");return}c(""),h("");try{await hi.resetPassword(o.email),h("Password reset email sent. Please check your inbox.")}catch(M){c(M.message||"Failed to send reset email.")}}return v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:v.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),v.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Sign in to your account"})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[u&&v.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:u}),f&&v.jsx("div",{className:"rounded-md bg-green-500/10 px-3 py-2 text-sm text-green-600",children:f}),v.jsxs("button",{type:"button",onClick:E,disabled:x||p,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),v.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),v.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),v.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),x?"Signing in...":"Continue with Google"]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"h-px flex-1 bg-border"}),v.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),v.jsx("div",{className:"h-px flex-1 bg-border"})]}),v.jsxs("form",{onSubmit:b,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:w,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),v.jsx("button",{type:"button",onClick:P,className:"text-xs text-muted-foreground hover:text-primary hover:underline",children:"Forgot password?"})]}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o.password,onChange:w,placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),v.jsx("button",{type:"submit",disabled:p||x,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:p?"Signing in...":"Sign in"})]})]}),v.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",v.jsx(mi,{to:"/register",className:"font-medium text-primary underline underline-offset-4",children:"Sign up"})]})]})})}function vG(){const{register:t,loginWithGoogle:e}=Yo(),r=qo(),[n,i]=F.useState({name:"",email:"",password:"",course:"",semester:""}),[o,a]=F.useState(""),[u,c]=F.useState(!1),[f,h]=F.useState(!1);function p(S){i(w=>({...w,[S.target.name]:S.target.value}))}async function y(S){if(S.preventDefault(),a(""),n.password.length<8){a("Password must be at least 8 characters.");return}c(!0);try{await t(n),r("/dashboard",{replace:!0})}catch(w){a(w.message||"Registration failed. Please try again.")}finally{c(!1)}}async function x(){a(""),h(!0);try{await e(),r("/dashboard",{replace:!0})}catch(S){S.code!=="auth/popup-closed-by-user"&&a(S.message||"Google sign-in failed. Please try again.")}finally{h(!1)}}return v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:v.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),v.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create your account"})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[o&&v.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:o}),v.jsxs("button",{type:"button",onClick:x,disabled:f||u,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),v.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),v.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),v.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),f?"Signing in...":"Continue with Google"]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"h-px flex-1 bg-border"}),v.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),v.jsx("div",{className:"h-px flex-1 bg-border"})]}),v.jsxs("form",{onSubmit:y,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Full name"}),v.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:p,placeholder:"Arjun Sharma",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),v.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:p,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:p,placeholder:"Min. 8 characters",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("label",{htmlFor:"course",className:"text-sm font-medium",children:["Course ",v.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),v.jsx("input",{id:"course",name:"course",type:"text",value:n.course,onChange:p,placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("label",{htmlFor:"semester",className:"text-sm font-medium",children:["Semester ",v.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),v.jsx("input",{id:"semester",name:"semester",type:"text",value:n.semester,onChange:p,placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]})]}),v.jsx("button",{type:"submit",disabled:u||f,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:u?"Creating account...":"Create account"})]})]}),v.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",v.jsx(mi,{to:"/login",className:"font-medium text-primary underline underline-offset-4",children:"Sign in"})]})]})})}var Gb,Tk;function dn(){if(Tk)return Gb;Tk=1;var t=Array.isArray;return Gb=t,Gb}var Kb,Ak;function $3(){if(Ak)return Kb;Ak=1;var t=typeof Rp=="object"&&Rp&&Rp.Object===Object&&Rp;return Kb=t,Kb}var Xb,Pk;function Zi(){if(Pk)return Xb;Pk=1;var t=$3(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Xb=r,Xb}var Yb,Ik;function ch(){if(Ik)return Yb;Ik=1;var t=Zi(),e=t.Symbol;return Yb=e,Yb}var Qb,Ok;function bG(){if(Ok)return Qb;Ok=1;var t=ch(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(a){var u=r.call(a,i),c=a[i];try{a[i]=void 0;var f=!0}catch{}var h=n.call(a);return f&&(u?a[i]=c:delete a[i]),h}return Qb=o,Qb}var Jb,kk;function xG(){if(kk)return Jb;kk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Jb=r,Jb}var Zb,Ck;function Qo(){if(Ck)return Zb;Ck=1;var t=ch(),e=bG(),r=xG(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):r(u)}return Zb=a,Zb}var e0,Nk;function Jo(){if(Nk)return e0;Nk=1;function t(e){return e!=null&&typeof e=="object"}return e0=t,e0}var t0,jk;function _c(){if(jk)return t0;jk=1;var t=Qo(),e=Jo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return t0=n,t0}var r0,Rk;function pT(){if(Rk)return r0;Rk=1;var t=dn(),e=_c(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,a){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||a!=null&&o in Object(a)}return r0=i,r0}var n0,Mk;function ns(){if(Mk)return n0;Mk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return n0=t,n0}var i0,Dk;function mT(){if(Dk)return i0;Dk=1;var t=Qo(),e=ns(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==o}return i0=a,i0}var o0,Lk;function _G(){if(Lk)return o0;Lk=1;var t=Zi(),e=t["__core-js_shared__"];return o0=e,o0}var a0,$k;function wG(){if($k)return a0;$k=1;var t=_G(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return a0=r,a0}var s0,Vk;function V3(){if(Vk)return s0;Vk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return s0=r,s0}var l0,Fk;function SG(){if(Fk)return l0;Fk=1;var t=mT(),e=wG(),r=ns(),n=V3(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,c=a.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!r(y)||e(y))return!1;var x=t(y)?h:o;return x.test(n(y))}return l0=p,l0}var u0,Uk;function EG(){if(Uk)return u0;Uk=1;function t(e,r){return e==null?void 0:e[r]}return u0=t,u0}var c0,Bk;function ml(){if(Bk)return c0;Bk=1;var t=SG(),e=EG();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return c0=r,c0}var f0,zk;function hy(){if(zk)return f0;zk=1;var t=ml(),e=t(Object,"create");return f0=e,f0}var d0,qk;function TG(){if(qk)return d0;qk=1;var t=hy();function e(){this.__data__=t?t(null):{},this.size=0}return d0=e,d0}var h0,Wk;function AG(){if(Wk)return h0;Wk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return h0=t,h0}var p0,Hk;function PG(){if(Hk)return p0;Hk=1;var t=hy(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var a=this.__data__;if(t){var u=a[o];return u===e?void 0:u}return n.call(a,o)?a[o]:void 0}return p0=i,p0}var m0,Gk;function IG(){if(Gk)return m0;Gk=1;var t=hy(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return m0=n,m0}var g0,Kk;function OG(){if(Kk)return g0;Kk=1;var t=hy(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return g0=r,g0}var y0,Xk;function kG(){if(Xk)return y0;Xk=1;var t=TG(),e=AG(),r=PG(),n=IG(),i=OG();function o(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var f=a[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,y0=o,y0}var v0,Yk;function CG(){if(Yk)return v0;Yk=1;function t(){this.__data__=[],this.size=0}return v0=t,v0}var b0,Qk;function gT(){if(Qk)return b0;Qk=1;function t(e,r){return e===r||e!==e&&r!==r}return b0=t,b0}var x0,Jk;function py(){if(Jk)return x0;Jk=1;var t=gT();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return x0=e,x0}var _0,Zk;function NG(){if(Zk)return _0;Zk=1;var t=py(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var u=o.length-1;return a==u?o.pop():r.call(o,a,1),--this.size,!0}return _0=n,_0}var w0,eC;function jG(){if(eC)return w0;eC=1;var t=py();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return w0=e,w0}var S0,tC;function RG(){if(tC)return S0;tC=1;var t=py();function e(r){return t(this.__data__,r)>-1}return S0=e,S0}var E0,rC;function MG(){if(rC)return E0;rC=1;var t=py();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return E0=e,E0}var T0,nC;function my(){if(nC)return T0;nC=1;var t=CG(),e=NG(),r=jG(),n=RG(),i=MG();function o(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var f=a[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,T0=o,T0}var A0,iC;function yT(){if(iC)return A0;iC=1;var t=ml(),e=Zi(),r=t(e,"Map");return A0=r,A0}var P0,oC;function DG(){if(oC)return P0;oC=1;var t=kG(),e=my(),r=yT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return P0=n,P0}var I0,aC;function LG(){if(aC)return I0;aC=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return I0=t,I0}var O0,sC;function gy(){if(sC)return O0;sC=1;var t=LG();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return O0=e,O0}var k0,lC;function $G(){if(lC)return k0;lC=1;var t=gy();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return k0=e,k0}var C0,uC;function VG(){if(uC)return C0;uC=1;var t=gy();function e(r){return t(this,r).get(r)}return C0=e,C0}var N0,cC;function FG(){if(cC)return N0;cC=1;var t=gy();function e(r){return t(this,r).has(r)}return N0=e,N0}var j0,fC;function UG(){if(fC)return j0;fC=1;var t=gy();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return j0=e,j0}var R0,dC;function vT(){if(dC)return R0;dC=1;var t=DG(),e=$G(),r=VG(),n=FG(),i=UG();function o(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var f=a[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,R0=o,R0}var M0,hC;function F3(){if(hC)return M0;hC=1;var t=vT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,u=i?i.apply(this,a):a[0],c=o.cache;if(c.has(u))return c.get(u);var f=n.apply(this,a);return o.cache=c.set(u,f)||c,f};return o.cache=new(r.Cache||t),o}return r.Cache=t,M0=r,M0}var D0,pC;function BG(){if(pC)return D0;pC=1;var t=F3(),e=500;function r(n){var i=t(n,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return D0=r,D0}var L0,mC;function zG(){if(mC)return L0;mC=1;var t=BG(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,u,c,f){o.push(c?f.replace(r,"$1"):u||a)}),o});return L0=n,L0}var $0,gC;function bT(){if(gC)return $0;gC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return $0=t,$0}var V0,yC;function qG(){if(yC)return V0;yC=1;var t=ch(),e=bT(),r=dn(),n=_c(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(u){if(typeof u=="string")return u;if(r(u))return e(u,a)+"";if(n(u))return o?o.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return V0=a,V0}var F0,vC;function U3(){if(vC)return F0;vC=1;var t=qG();function e(r){return r==null?"":t(r)}return F0=e,F0}var U0,bC;function B3(){if(bC)return U0;bC=1;var t=dn(),e=pT(),r=zG(),n=U3();function i(o,a){return t(o)?o:e(o,a)?[o]:r(n(o))}return U0=i,U0}var B0,xC;function yy(){if(xC)return B0;xC=1;var t=_c();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return B0=e,B0}var z0,_C;function xT(){if(_C)return z0;_C=1;var t=B3(),e=yy();function r(n,i){i=t(i,n);for(var o=0,a=i.length;n!=null&&o<a;)n=n[e(i[o++])];return o&&o==a?n:void 0}return z0=r,z0}var q0,wC;function z3(){if(wC)return q0;wC=1;var t=xT();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return q0=e,q0}var WG=z3();const qn=ft(WG);var W0,SC;function HG(){if(SC)return W0;SC=1;function t(e){return e==null}return W0=t,W0}var GG=HG();const it=ft(GG);var H0,EC;function KG(){if(EC)return H0;EC=1;var t=Qo(),e=dn(),r=Jo(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return H0=i,H0}var XG=KG();const ol=ft(XG);var YG=mT();const We=ft(YG);var QG=ns();const wc=ft(QG);var G0={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function JG(){if(TC)return st;TC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case r:case i:case n:case f:case h:return b;default:switch(b=b&&b.$$typeof,b){case u:case a:case c:case y:case p:case o:return b;default:return E}}case e:return E}}}return st.ContextConsumer=a,st.ContextProvider=o,st.Element=t,st.ForwardRef=c,st.Fragment=r,st.Lazy=y,st.Memo=p,st.Portal=e,st.Profiler=i,st.StrictMode=n,st.Suspense=f,st.SuspenseList=h,st.isAsyncMode=function(){return!1},st.isConcurrentMode=function(){return!1},st.isContextConsumer=function(b){return w(b)===a},st.isContextProvider=function(b){return w(b)===o},st.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},st.isForwardRef=function(b){return w(b)===c},st.isFragment=function(b){return w(b)===r},st.isLazy=function(b){return w(b)===y},st.isMemo=function(b){return w(b)===p},st.isPortal=function(b){return w(b)===e},st.isProfiler=function(b){return w(b)===i},st.isStrictMode=function(b){return w(b)===n},st.isSuspense=function(b){return w(b)===f},st.isSuspenseList=function(b){return w(b)===h},st.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===h||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===p||b.$$typeof===o||b.$$typeof===a||b.$$typeof===c||b.$$typeof===S||b.getModuleId!==void 0)},st.typeOf=w,st}var AC;function ZG(){return AC||(AC=1,G0.exports=JG()),G0.exports}var eK=ZG(),K0,PC;function q3(){if(PC)return K0;PC=1;var t=Qo(),e=Jo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return K0=n,K0}var X0,IC;function tK(){if(IC)return X0;IC=1;var t=q3();function e(r){return t(r)&&r!=+r}return X0=e,X0}var rK=tK();const fh=ft(rK);var nK=q3();const iK=ft(nK);var cn=function(e){return e===0?0:e>0?1:-1},qs=function(e){return ol(e)&&e.indexOf("%")===e.length-1},_e=function(e){return iK(e)&&!fh(e)},oK=function(e){return it(e)},lr=function(e){return _e(e)||ol(e)},aK=0,vy=function(e){var r=++aK;return"".concat(e||"").concat(r)},yi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!ol(e))return n;var o;if(qs(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return fh(o)&&(o=n),i&&o>r&&(o=r),o},Na=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},sK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},wo=function(e,r){return _e(e)&&_e(r)?function(n){return e+n*(r-e)}:function(){return r}};function M1(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):qn(n,e))===r})}var lK=function(e,r){return _e(e)&&_e(r)?e-r:ol(e)&&ol(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Eu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function D1(t){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(t)}var uK=["viewBox","children"],cK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OC=["points","pathLength"],Y0={svg:uK,polygon:OC,polyline:OC},_T=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(F.isValidElement(e)&&(n=e.props),!wc(n))return null;var i={};return Object.keys(n).forEach(function(o){_T.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},fK=function(e,r,n){return function(i){return e(r,n,i),null}},es=function(e,r,n){if(!wc(e)||D1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];_T.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=fK(a,r,n))}),i},dK=["children"],hK=["children"];function kC(t,e){if(t==null)return{};var r=pK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Co=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},NC=null,Q0=null,wT=function t(e){if(e===NC&&Array.isArray(Q0))return Q0;var r=[];return F.Children.forEach(e,function(n){it(n)||(eK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Q0=r,NC=e,r};function Wn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Co(i)}):n=[Co(e)],wT(t).forEach(function(i){var o=qn(i,"type.displayName")||qn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function En(t,e){var r=Wn(t,e);return r&&r[0]}var jC=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!_e(n)||n<=0||!_e(i)||i<=0)},mK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gK=function(e){return e&&e.type&&ol(e.type)&&mK.indexOf(e.type)>=0},yK=function(e,r,n,i){var o,a=(o=Y0==null?void 0:Y0[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!We(e)&&(i&&a.includes(r)||cK.includes(r))||n&&_T.includes(r)},Be=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(F.isValidElement(e)&&(i=e.props),!wc(i))return null;var o={};return Object.keys(i).forEach(function(a){var u;yK((u=i)===null||u===void 0?void 0:u[a],a,r,n)&&(o[a]=i[a])}),o},L1=function t(e,r){if(e===r)return!0;var n=F.Children.count(e);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return RC(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!RC(o,a))return!1}return!0},RC=function(e,r){if(it(e)&&it(r))return!0;if(!it(e)&&!it(r)){var n=e.props||{},i=n.children,o=kC(n,dK),a=r.props||{},u=a.children,c=kC(a,hK);return i&&u?Eu(o,c)&&L1(i,u):!i&&!u?Eu(o,c):!1}return!1},MC=function(e,r){var n=[],i={};return wT(e).forEach(function(o,a){if(gK(o))n.push(o);else if(o){var u=Co(o.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var p=f(o,u,a);n.push(p),i[u]=!0}}}),n},vK=function(e){var r=e&&e.type;return r&&CC[r]?CC[r]:null},bK=function(e,r){return wT(r).indexOf(e)},xK=["children","width","height","viewBox","className","style","title","desc"];function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$1.apply(this,arguments)}function _K(t,e){if(t==null)return{};var r=wK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V1(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,u=t.title,c=t.desc,f=_K(t,xK),h=i||{width:r,height:n,x:0,y:0},p=Xe("recharts-surface",o);return H.createElement("svg",$1({},Be(f,!0,"svg"),{className:p,width:r,height:n,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),H.createElement("title",null,u),H.createElement("desc",null,c),e)}var SK=["children","className"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function EK(t,e){if(t==null)return{};var r=TK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ht=H.forwardRef(function(t,e){var r=t.children,n=t.className,i=EK(t,SK),o=Xe("recharts-layer",n);return H.createElement("g",F1({className:o},Be(i,!0),{ref:e}),r)}),No=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},J0,DC;function AK(){if(DC)return J0;DC=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+r];return a}return J0=t,J0}var Z0,LC;function PK(){if(LC)return Z0;LC=1;var t=AK();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return Z0=e,Z0}var ex,$C;function W3(){if($C)return ex;$C=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="\\u200d",u=RegExp("["+a+t+i+o+"]");function c(f){return u.test(f)}return ex=c,ex}var tx,VC;function IK(){if(VC)return tx;VC=1;function t(e){return e.split("")}return tx=t,tx}var rx,FC;function OK(){if(FC)return rx;FC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",w="["+o+"]?",b="(?:"+x+"(?:"+[h,p,y].join("|")+")"+w+S+")*",E=w+S+b,P="(?:"+[h+u+"?",u,p,y,a].join("|")+")",O=RegExp(c+"(?="+c+")|"+P+E,"g");function M(k){return k.match(O)||[]}return rx=M,rx}var nx,UC;function kK(){if(UC)return nx;UC=1;var t=IK(),e=W3(),r=OK();function n(i){return e(i)?r(i):t(i)}return nx=n,nx}var ix,BC;function CK(){if(BC)return ix;BC=1;var t=PK(),e=W3(),r=kK(),n=U3();function i(o){return function(a){a=n(a);var u=e(a)?r(a):void 0,c=u?u[0]:a.charAt(0),f=u?t(u,1).join(""):a.slice(1);return c[o]()+f}}return ix=i,ix}var ox,zC;function NK(){if(zC)return ox;zC=1;var t=CK(),e=t("toUpperCase");return ox=e,ox}var jK=NK();const by=ft(jK);function xt(t){return function(){return t}}const H3=Math.cos,Lm=Math.sin,wi=Math.sqrt,$m=Math.PI,xy=2*$m,U1=Math.PI,B1=2*U1,Vs=1e-6,RK=B1-Vs;function G3(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function MK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return G3;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class DK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?G3:MK(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=n-e,f=i-r,h=a-e,p=u-r,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Vs)if(!(Math.abs(p*c-f*h)>Vs)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-a,S=i-u,w=c*c+f*f,b=x*x+S*S,E=Math.sqrt(w),P=Math.sqrt(y),O=o*Math.tan((U1-Math.acos((w+y-b)/(2*E*P)))/2),M=O/P,k=O/E;Math.abs(M-1)>Vs&&this._append`L${e+M*h},${r+M*p}`,this._append`A${o},${o},0,0,${+(p*x>h*S)},${this._x1=e+k*c},${this._y1=r+k*f}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,p=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Vs||Math.abs(this._y1-h)>Vs)&&this._append`L${f},${h}`,n&&(y<0&&(y=y%B1+B1),y>RK?this._append`A${n},${n},0,1,${p},${e-u},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:y>Vs&&this._append`A${n},${n},0,${+(y>=U1)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ST(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new DK(e)}function ET(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K3(t){this._context=t}K3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _y(t){return new K3(t)}function X3(t){return t[0]}function Y3(t){return t[1]}function Q3(t,e){var r=xt(!0),n=null,i=_y,o=null,a=ST(u);t=typeof t=="function"?t:t===void 0?X3:xt(t),e=typeof e=="function"?e:e===void 0?Y3:xt(e);function u(c){var f,h=(c=ET(c)).length,p,y=!1,x;for(n==null&&(o=i(x=a())),f=0;f<=h;++f)!(f<h&&r(p=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(p,f,c),+e(p,f,c));if(x)return o=null,x+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:xt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:xt(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xt(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),u):n},u}function Bp(t,e,r){var n=null,i=xt(!0),o=null,a=_y,u=null,c=ST(f);t=typeof t=="function"?t:t===void 0?X3:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Y3:xt(+r);function f(p){var y,x,S,w=(p=ET(p)).length,b,E=!1,P,O=new Array(w),M=new Array(w);for(o==null&&(u=a(P=c())),y=0;y<=w;++y){if(!(y<w&&i(b=p[y],y,p))===E)if(E=!E)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(O[S],M[S]);u.lineEnd(),u.areaEnd()}E&&(O[y]=+t(b,y,p),M[y]=+e(b,y,p),u.point(n?+n(b,y,p):O[y],r?+r(b,y,p):M[y]))}if(P)return u=null,P+""||null}function h(){return Q3().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xt(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xt(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(u=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=u=null:u=a(o=p),f):o},f}class J3{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function LK(t){return new J3(t,!0)}function $K(t){return new J3(t,!1)}const TT={draw(t,e){const r=wi(e/$m);t.moveTo(r,0),t.arc(0,0,r,0,xy)}},VK={draw(t,e){const r=wi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Z3=wi(1/3),FK=Z3*2,UK={draw(t,e){const r=wi(e/FK),n=r*Z3;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},BK={draw(t,e){const r=wi(e),n=-r/2;t.rect(n,n,r,r)}},zK=.8908130915292852,e$=Lm($m/10)/Lm(7*$m/10),qK=Lm(xy/10)*e$,WK=-H3(xy/10)*e$,HK={draw(t,e){const r=wi(e*zK),n=qK*r,i=WK*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=xy*o/5,u=H3(a),c=Lm(a);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},ax=wi(3),GK={draw(t,e){const r=-wi(e/(ax*3));t.moveTo(0,r*2),t.lineTo(-ax*r,-r),t.lineTo(ax*r,-r),t.closePath()}},Vn=-.5,Fn=wi(3)/2,z1=1/wi(12),KK=(z1/2+1)*3,XK={draw(t,e){const r=wi(e/KK),n=r/2,i=r*z1,o=n,a=r*z1+r,u=-o,c=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(Vn*n-Fn*i,Fn*n+Vn*i),t.lineTo(Vn*o-Fn*a,Fn*o+Vn*a),t.lineTo(Vn*u-Fn*c,Fn*u+Vn*c),t.lineTo(Vn*n+Fn*i,Vn*i-Fn*n),t.lineTo(Vn*o+Fn*a,Vn*a-Fn*o),t.lineTo(Vn*u+Fn*c,Vn*c-Fn*u),t.closePath()}};function YK(t,e){let r=null,n=ST(i);t=typeof t=="function"?t:xt(t||TT),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:xt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:xt(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Vm(){}function Fm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function t$(t){this._context=t}t$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QK(t){return new t$(t)}function r$(t){this._context=t}r$.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JK(t){return new r$(t)}function n$(t){this._context=t}n$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZK(t){return new n$(t)}function i$(t){this._context=t}i$.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eX(t){return new i$(t)}function qC(t){return t<0?-1:1}function WC(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),u=(o*i+a*n)/(n+i);return(qC(o)+qC(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function HC(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function sx(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-n)/3;t._context.bezierCurveTo(n+u,i+u*e,o-u,a-u*r,o,a)}function Um(t){this._context=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sx(this,this._t0,HC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sx(this,HC(this,r=WC(this,t,e)),r);break;default:sx(this,this._t0,r=WC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function o$(t){this._context=new a$(t)}(o$.prototype=Object.create(Um.prototype)).point=function(t,e){Um.prototype.point.call(this,e,t)};function a$(t){this._context=t}a$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function tX(t){return new Um(t)}function rX(t){return new o$(t)}function s$(t){this._context=t}s$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=GC(t),i=GC(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GC(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function nX(t){return new s$(t)}function wy(t,e){this._context=t,this._t=e}wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function iX(t){return new wy(t,.5)}function oX(t){return new wy(t,0)}function aX(t){return new wy(t,1)}function Vu(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,u=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function q1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function sX(t,e){return t[e]}function lX(t){const e=[];return e.key=t,e}function uX(){var t=xt([]),e=q1,r=Vu,n=sX;function i(o){var a=Array.from(t.apply(this,arguments),lX),u,c=a.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(a[u][f]=[0,+n(p,a[u].key,f,o)]).data=p;for(u=0,h=ET(e(a));u<c;++u)a[h[u]].index=u;return r(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:xt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:xt(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?q1:typeof o=="function"?o:xt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Vu,i):r},i}function cX(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Vu(t,e)}}function fX(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,u=0;a<i;++a)u+=t[a][r][1]||0;n[r][1]+=n[r][0]=-u/2}Vu(t,e)}}function dX(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var u=0,c=0,f=0;u<a;++u){for(var h=t[e[u]],p=h[n][1]||0,y=h[n-1][1]||0,x=(p-y)/2,S=0;S<u;++S){var w=t[e[S]],b=w[n][1]||0,E=w[n-1][1]||0;x+=b-E}c+=p,f+=x*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Vu(t,e)}}function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var hX=["type","size","sizeType"];function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W1.apply(this,arguments)}function KC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(r),!0).forEach(function(n){pX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pX(t,e,r){return e=mX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mX(t){var e=gX(t,"string");return dd(e)=="symbol"?e:e+""}function gX(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yX(t,e){if(t==null)return{};var r=vX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var l$={symbolCircle:TT,symbolCross:VK,symbolDiamond:UK,symbolSquare:BK,symbolStar:HK,symbolTriangle:GK,symbolWye:XK},bX=Math.PI/180,xX=function(e){var r="symbol".concat(by(e));return l$[r]||TT},_X=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*bX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wX=function(e,r){l$["symbol".concat(by(e))]=r},AT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,u=a===void 0?"area":a,c=yX(e,hX),f=XC(XC({},c),{},{type:n,size:o,sizeType:u}),h=function(){var b=xX(n),E=YK().type(b).size(_X(o,u,n));return E()},p=f.className,y=f.cx,x=f.cy,S=Be(f,!0);return y===+y&&x===+x&&o===+o?H.createElement("path",W1({},S,{className:Xe("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(x,")"),d:h()})):null};AT.registerSymbol=wX;function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(this,arguments)}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){hd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c$(n.key),n)}}function AX(t,e,r){return e&&TX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PX(t,e,r){return e=Bm(e),IX(t,u$()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function IX(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(t)}function OX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function kX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G1(t,e)}function G1(t,e){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G1(t,e)}function hd(t,e,r){return e=c$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c$(t){var e=CX(t,"string");return Fu(e)=="symbol"?e:e+""}function CX(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Un=32,PT=(function(t){function e(){return EX(this,e),PX(this,e,arguments)}return kX(e,t),AX(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Un/2,a=Un/6,u=Un/3,c=n.inactive?i:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Un,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Un,"M").concat(2*u,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var f=SX({},n);return delete f.legendIcon,H.cloneElement(n.legendIcon,f)}return H.createElement(AT,{fill:c,cx:o,cy:o,size:Un,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Un,height:Un},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(x,S){var w=x.formatter||c,b=Xe(hd(hd({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var E=We(x.value)?null:x.value;No(!We(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=x.inactive?f:x.color;return H.createElement("li",H1({className:b,style:p,key:"legend-item-".concat(S)},es(n.props,x,S)),H.createElement(V1,{width:a,height:a,viewBox:h,style:y},n.renderIcon(x)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},w?w(E,x,S):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(F.PureComponent);hd(PT,"displayName","Legend");hd(PT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lx,QC;function NX(){if(QC)return lx;QC=1;var t=my();function e(){this.__data__=new t,this.size=0}return lx=e,lx}var ux,JC;function jX(){if(JC)return ux;JC=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return ux=t,ux}var cx,ZC;function RX(){if(ZC)return cx;ZC=1;function t(e){return this.__data__.get(e)}return cx=t,cx}var fx,eN;function MX(){if(eN)return fx;eN=1;function t(e){return this.__data__.has(e)}return fx=t,fx}var dx,tN;function DX(){if(tN)return dx;tN=1;var t=my(),e=yT(),r=vT(),n=200;function i(o,a){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([o,a]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(o,a),this.size=u.size,this}return dx=i,dx}var hx,rN;function f$(){if(rN)return hx;rN=1;var t=my(),e=NX(),r=jX(),n=RX(),i=MX(),o=DX();function a(u){var c=this.__data__=new t(u);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=o,hx=a,hx}var px,nN;function LX(){if(nN)return px;nN=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return px=e,px}var mx,iN;function $X(){if(iN)return mx;iN=1;function t(e){return this.__data__.has(e)}return mx=t,mx}var gx,oN;function d$(){if(oN)return gx;oN=1;var t=vT(),e=LX(),r=$X();function n(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,gx=n,gx}var yx,aN;function h$(){if(aN)return yx;aN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return yx=t,yx}var vx,sN;function p$(){if(sN)return vx;sN=1;function t(e,r){return e.has(r)}return vx=t,vx}var bx,lN;function m$(){if(lN)return bx;lN=1;var t=d$(),e=h$(),r=p$(),n=1,i=2;function o(a,u,c,f,h,p){var y=c&n,x=a.length,S=u.length;if(x!=S&&!(y&&S>x))return!1;var w=p.get(a),b=p.get(u);if(w&&b)return w==u&&b==a;var E=-1,P=!0,O=c&i?new t:void 0;for(p.set(a,u),p.set(u,a);++E<x;){var M=a[E],k=u[E];if(f)var R=y?f(k,M,E,u,a,p):f(M,k,E,a,u,p);if(R!==void 0){if(R)continue;P=!1;break}if(O){if(!e(u,function(I,C){if(!r(O,C)&&(M===I||h(M,I,c,f,p)))return O.push(C)})){P=!1;break}}else if(!(M===k||h(M,k,c,f,p))){P=!1;break}}return p.delete(a),p.delete(u),P}return bx=o,bx}var xx,uN;function VX(){if(uN)return xx;uN=1;var t=Zi(),e=t.Uint8Array;return xx=e,xx}var _x,cN;function FX(){if(cN)return _x;cN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return _x=t,_x}var wx,fN;function IT(){if(fN)return wx;fN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return wx=t,wx}var Sx,dN;function UX(){if(dN)return Sx;dN=1;var t=ch(),e=VX(),r=gT(),n=m$(),i=FX(),o=IT(),a=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",w="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",P="[object DataView]",O=t?t.prototype:void 0,M=O?O.valueOf:void 0;function k(R,I,C,j,U,V,L){switch(C){case P:if(R.byteLength!=I.byteLength||R.byteOffset!=I.byteOffset)return!1;R=R.buffer,I=I.buffer;case E:return!(R.byteLength!=I.byteLength||!V(new e(R),new e(I)));case c:case f:case y:return r(+R,+I);case h:return R.name==I.name&&R.message==I.message;case x:case w:return R==I+"";case p:var $=i;case S:var Y=j&a;if($||($=o),R.size!=I.size&&!Y)return!1;var Z=L.get(R);if(Z)return Z==I;j|=u,L.set(R,I);var ie=n($(R),$(I),j,U,V,L);return L.delete(R),ie;case b:if(M)return M.call(R)==M.call(I)}return!1}return Sx=k,Sx}var Ex,hN;function g$(){if(hN)return Ex;hN=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return Ex=t,Ex}var Tx,pN;function BX(){if(pN)return Tx;pN=1;var t=g$(),e=dn();function r(n,i,o){var a=i(n);return e(n)?a:t(a,o(n))}return Tx=r,Tx}var Ax,mN;function zX(){if(mN)return Ax;mN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,a=[];++n<i;){var u=e[n];r(u,n,e)&&(a[o++]=u)}return a}return Ax=t,Ax}var Px,gN;function qX(){if(gN)return Px;gN=1;function t(){return[]}return Px=t,Px}var Ix,yN;function WX(){if(yN)return Ix;yN=1;var t=zX(),e=qX(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(u){return n.call(a,u)}))}:e;return Ix=o,Ix}var Ox,vN;function HX(){if(vN)return Ox;vN=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Ox=t,Ox}var kx,bN;function GX(){if(bN)return kx;bN=1;var t=Qo(),e=Jo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return kx=n,kx}var Cx,xN;function OT(){if(xN)return Cx;xN=1;var t=GX(),e=Jo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return Cx=o,Cx}var Ff={exports:{}},Nx,_N;function KX(){if(_N)return Nx;_N=1;function t(){return!1}return Nx=t,Nx}Ff.exports;var wN;function y$(){return wN||(wN=1,(function(t,e){var r=Zi(),n=KX(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,u=a?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f})(Ff,Ff.exports)),Ff.exports}var jx,SN;function kT(){if(SN)return jx;SN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return jx=r,jx}var Rx,EN;function CT(){if(EN)return Rx;EN=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Rx=e,Rx}var Mx,TN;function XX(){if(TN)return Mx;TN=1;var t=Qo(),e=CT(),r=Jo(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",P="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",k="[object Int16Array]",R="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",U="[object Uint32Array]",V={};V[P]=V[O]=V[M]=V[k]=V[R]=V[I]=V[C]=V[j]=V[U]=!0,V[n]=V[i]=V[b]=V[o]=V[E]=V[a]=V[u]=V[c]=V[f]=V[h]=V[p]=V[y]=V[x]=V[S]=V[w]=!1;function L($){return r($)&&e($.length)&&!!V[t($)]}return Mx=L,Mx}var Dx,AN;function v$(){if(AN)return Dx;AN=1;function t(e){return function(r){return e(r)}}return Dx=t,Dx}var Uf={exports:{}};Uf.exports;var PN;function YX(){return PN||(PN=1,(function(t,e){var r=$3(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}})();t.exports=u})(Uf,Uf.exports)),Uf.exports}var Lx,IN;function b$(){if(IN)return Lx;IN=1;var t=XX(),e=v$(),r=YX(),n=r&&r.isTypedArray,i=n?e(n):t;return Lx=i,Lx}var $x,ON;function QX(){if(ON)return $x;ON=1;var t=HX(),e=OT(),r=dn(),n=y$(),i=kT(),o=b$(),a=Object.prototype,u=a.hasOwnProperty;function c(f,h){var p=r(f),y=!p&&e(f),x=!p&&!y&&n(f),S=!p&&!y&&!x&&o(f),w=p||y||x||S,b=w?t(f.length,String):[],E=b.length;for(var P in f)(h||u.call(f,P))&&!(w&&(P=="length"||x&&(P=="offset"||P=="parent")||S&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,E)))&&b.push(P);return b}return $x=c,$x}var Vx,kN;function JX(){if(kN)return Vx;kN=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Vx=e,Vx}var Fx,CN;function x$(){if(CN)return Fx;CN=1;function t(e,r){return function(n){return e(r(n))}}return Fx=t,Fx}var Ux,NN;function ZX(){if(NN)return Ux;NN=1;var t=x$(),e=t(Object.keys,Object);return Ux=e,Ux}var Bx,jN;function eY(){if(jN)return Bx;jN=1;var t=JX(),e=ZX(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&a.push(u);return a}return Bx=i,Bx}var zx,RN;function dh(){if(RN)return zx;RN=1;var t=mT(),e=CT();function r(n){return n!=null&&e(n.length)&&!t(n)}return zx=r,zx}var qx,MN;function Sy(){if(MN)return qx;MN=1;var t=QX(),e=eY(),r=dh();function n(i){return r(i)?t(i):e(i)}return qx=n,qx}var Wx,DN;function tY(){if(DN)return Wx;DN=1;var t=BX(),e=WX(),r=Sy();function n(i){return t(i,r,e)}return Wx=n,Wx}var Hx,LN;function rY(){if(LN)return Hx;LN=1;var t=tY(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,a,u,c,f,h){var p=u&e,y=t(o),x=y.length,S=t(a),w=S.length;if(x!=w&&!p)return!1;for(var b=x;b--;){var E=y[b];if(!(p?E in a:n.call(a,E)))return!1}var P=h.get(o),O=h.get(a);if(P&&O)return P==a&&O==o;var M=!0;h.set(o,a),h.set(a,o);for(var k=p;++b<x;){E=y[b];var R=o[E],I=a[E];if(c)var C=p?c(I,R,E,a,o,h):c(R,I,E,o,a,h);if(!(C===void 0?R===I||f(R,I,u,c,h):C)){M=!1;break}k||(k=E=="constructor")}if(M&&!k){var j=o.constructor,U=a.constructor;j!=U&&"constructor"in o&&"constructor"in a&&!(typeof j=="function"&&j instanceof j&&typeof U=="function"&&U instanceof U)&&(M=!1)}return h.delete(o),h.delete(a),M}return Hx=i,Hx}var Gx,$N;function nY(){if($N)return Gx;$N=1;var t=ml(),e=Zi(),r=t(e,"DataView");return Gx=r,Gx}var Kx,VN;function iY(){if(VN)return Kx;VN=1;var t=ml(),e=Zi(),r=t(e,"Promise");return Kx=r,Kx}var Xx,FN;function _$(){if(FN)return Xx;FN=1;var t=ml(),e=Zi(),r=t(e,"Set");return Xx=r,Xx}var Yx,UN;function oY(){if(UN)return Yx;UN=1;var t=ml(),e=Zi(),r=t(e,"WeakMap");return Yx=r,Yx}var Qx,BN;function aY(){if(BN)return Qx;BN=1;var t=nY(),e=yT(),r=iY(),n=_$(),i=oY(),o=Qo(),a=V3(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",x=a(t),S=a(e),w=a(r),b=a(n),E=a(i),P=o;return(t&&P(new t(new ArrayBuffer(1)))!=y||e&&P(new e)!=u||r&&P(r.resolve())!=f||n&&P(new n)!=h||i&&P(new i)!=p)&&(P=function(O){var M=o(O),k=M==c?O.constructor:void 0,R=k?a(k):"";if(R)switch(R){case x:return y;case S:return u;case w:return f;case b:return h;case E:return p}return M}),Qx=P,Qx}var Jx,zN;function sY(){if(zN)return Jx;zN=1;var t=f$(),e=m$(),r=UX(),n=rY(),i=aY(),o=dn(),a=y$(),u=b$(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(w,b,E,P,O,M){var k=o(w),R=o(b),I=k?h:i(w),C=R?h:i(b);I=I==f?p:I,C=C==f?p:C;var j=I==p,U=C==p,V=I==C;if(V&&a(w)){if(!a(b))return!1;k=!0,j=!1}if(V&&!j)return M||(M=new t),k||u(w)?e(w,b,E,P,O,M):r(w,b,I,E,P,O,M);if(!(E&c)){var L=j&&x.call(w,"__wrapped__"),$=U&&x.call(b,"__wrapped__");if(L||$){var Y=L?w.value():w,Z=$?b.value():b;return M||(M=new t),O(Y,Z,E,P,M)}}return V?(M||(M=new t),n(w,b,E,P,O,M)):!1}return Jx=S,Jx}var Zx,qN;function NT(){if(qN)return Zx;qN=1;var t=sY(),e=Jo();function r(n,i,o,a,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,a,r,u)}return Zx=r,Zx}var e_,WN;function lY(){if(WN)return e_;WN=1;var t=f$(),e=NT(),r=1,n=2;function i(o,a,u,c){var f=u.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var y=u[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<h;){y=u[f];var x=y[0],S=o[x],w=y[1];if(p&&y[2]){if(S===void 0&&!(x in o))return!1}else{var b=new t;if(c)var E=c(S,w,x,o,a,b);if(!(E===void 0?e(w,S,r|n,c,b):E))return!1}}return!0}return e_=i,e_}var t_,HN;function w$(){if(HN)return t_;HN=1;var t=ns();function e(r){return r===r&&!t(r)}return t_=e,t_}var r_,GN;function uY(){if(GN)return r_;GN=1;var t=w$(),e=Sy();function r(n){for(var i=e(n),o=i.length;o--;){var a=i[o],u=n[a];i[o]=[a,u,t(u)]}return i}return r_=r,r_}var n_,KN;function S$(){if(KN)return n_;KN=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return n_=t,n_}var i_,XN;function cY(){if(XN)return i_;XN=1;var t=lY(),e=uY(),r=S$();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return i_=n,i_}var o_,YN;function fY(){if(YN)return o_;YN=1;function t(e,r){return e!=null&&r in Object(e)}return o_=t,o_}var a_,QN;function dY(){if(QN)return a_;QN=1;var t=B3(),e=OT(),r=dn(),n=kT(),i=CT(),o=yy();function a(u,c,f){c=t(c,u);for(var h=-1,p=c.length,y=!1;++h<p;){var x=o(c[h]);if(!(y=u!=null&&f(u,x)))break;u=u[x]}return y||++h!=p?y:(p=u==null?0:u.length,!!p&&i(p)&&n(x,p)&&(r(u)||e(u)))}return a_=a,a_}var s_,JN;function hY(){if(JN)return s_;JN=1;var t=fY(),e=dY();function r(n,i){return n!=null&&e(n,i,t)}return s_=r,s_}var l_,ZN;function pY(){if(ZN)return l_;ZN=1;var t=NT(),e=z3(),r=hY(),n=pT(),i=w$(),o=S$(),a=yy(),u=1,c=2;function f(h,p){return n(h)&&i(p)?o(a(h),p):function(y){var x=e(y,h);return x===void 0&&x===p?r(y,h):t(p,x,u|c)}}return l_=f,l_}var u_,ej;function Sc(){if(ej)return u_;ej=1;function t(e){return e}return u_=t,u_}var c_,tj;function mY(){if(tj)return c_;tj=1;function t(e){return function(r){return r==null?void 0:r[e]}}return c_=t,c_}var f_,rj;function gY(){if(rj)return f_;rj=1;var t=xT();function e(r){return function(n){return t(n,r)}}return f_=e,f_}var d_,nj;function yY(){if(nj)return d_;nj=1;var t=mY(),e=gY(),r=pT(),n=yy();function i(o){return r(o)?t(n(o)):e(o)}return d_=i,d_}var h_,ij;function eo(){if(ij)return h_;ij=1;var t=cY(),e=pY(),r=Sc(),n=dn(),i=yY();function o(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return h_=o,h_}var p_,oj;function E$(){if(oj)return p_;oj=1;function t(e,r,n,i){for(var o=e.length,a=n+(i?1:-1);i?a--:++a<o;)if(r(e[a],a,e))return a;return-1}return p_=t,p_}var m_,aj;function vY(){if(aj)return m_;aj=1;function t(e){return e!==e}return m_=t,m_}var g_,sj;function bY(){if(sj)return g_;sj=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return g_=t,g_}var y_,lj;function xY(){if(lj)return y_;lj=1;var t=E$(),e=vY(),r=bY();function n(i,o,a){return o===o?r(i,o,a):t(i,e,a)}return y_=n,y_}var v_,uj;function _Y(){if(uj)return v_;uj=1;var t=xY();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return v_=e,v_}var b_,cj;function wY(){if(cj)return b_;cj=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return b_=t,b_}var x_,fj;function SY(){if(fj)return x_;fj=1;function t(){}return x_=t,x_}var __,dj;function EY(){if(dj)return __;dj=1;var t=_$(),e=SY(),r=IT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return __=i,__}var w_,hj;function TY(){if(hj)return w_;hj=1;var t=d$(),e=_Y(),r=wY(),n=p$(),i=EY(),o=IT(),a=200;function u(c,f,h){var p=-1,y=e,x=c.length,S=!0,w=[],b=w;if(h)S=!1,y=r;else if(x>=a){var E=f?null:i(c);if(E)return o(E);S=!1,y=n,b=new t}else b=f?[]:w;e:for(;++p<x;){var P=c[p],O=f?f(P):P;if(P=h||P!==0?P:0,S&&O===O){for(var M=b.length;M--;)if(b[M]===O)continue e;f&&b.push(O),w.push(P)}else y(b,O,h)||(b!==w&&b.push(O),w.push(P))}return w}return w_=u,w_}var S_,pj;function AY(){if(pj)return S_;pj=1;var t=eo(),e=TY();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return S_=r,S_}var PY=AY();const mj=ft(PY);function T$(t,e,r){return e===!0?mj(t,r):We(e)?mj(t,e):t}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}var IY=["ref"];function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){Ey(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P$(n.key),n)}}function kY(t,e,r){return e&&yj(t.prototype,e),r&&yj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CY(t,e,r){return e=zm(e),NY(t,A$()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function NY(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jY(t)}function jY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function RY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K1(t,e)}function Ey(t,e,r){return e=P$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$(t){var e=MY(t,"string");return Uu(e)=="symbol"?e:e+""}function MY(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DY(t,e){if(t==null)return{};var r=LY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Y(t){return t.value}function VY(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var r=DY(e,IY);return H.createElement(PT,r)}var vj=1,Tu=(function(t){function e(){var r;OY(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=CY(this,e,[].concat(i)),Ey(r,"lastBoundingBox",{width:-1,height:-1}),r}return RY(e,t),kY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vj||Math.abs(i.height-this.lastBoundingBox.height)>vj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var x=this.getBBoxSnapshot();p={left:((f||0)-x.width)/2}}else p=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bo(bo({},p),y)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=bo(bo({position:"absolute",width:a||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(x){n.wrapperNode=x}},VY(o,bo(bo({},this.props),{},{payload:T$(h,f,$Y)})))}}],[{key:"getWithHeight",value:function(n,i){var o=bo(bo({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&_e(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(F.PureComponent);Ey(Tu,"displayName","Legend");Ey(Tu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E_,bj;function FY(){if(bj)return E_;bj=1;var t=ch(),e=OT(),r=dn(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return E_=i,E_}var T_,xj;function I$(){if(xj)return T_;xj=1;var t=g$(),e=FY();function r(n,i,o,a,u){var c=-1,f=n.length;for(o||(o=e),u||(u=[]);++c<f;){var h=n[c];i>0&&o(h)?i>1?r(h,i-1,o,a,u):t(u,h):a||(u[u.length]=h)}return u}return T_=r,T_}var A_,_j;function UY(){if(_j)return A_;_j=1;function t(e){return function(r,n,i){for(var o=-1,a=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++o];if(n(a[f],f,a)===!1)break}return r}}return A_=t,A_}var P_,wj;function BY(){if(wj)return P_;wj=1;var t=UY(),e=t();return P_=e,P_}var I_,Sj;function O$(){if(Sj)return I_;Sj=1;var t=BY(),e=Sy();function r(n,i){return n&&t(n,i,e)}return I_=r,I_}var O_,Ej;function zY(){if(Ej)return O_;Ej=1;var t=dh();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var a=i.length,u=n?a:-1,c=Object(i);(n?u--:++u<a)&&o(c[u],u,c)!==!1;);return i}}return O_=e,O_}var k_,Tj;function jT(){if(Tj)return k_;Tj=1;var t=O$(),e=zY(),r=e(t);return k_=r,k_}var C_,Aj;function k$(){if(Aj)return C_;Aj=1;var t=jT(),e=dh();function r(n,i){var o=-1,a=e(n)?Array(n.length):[];return t(n,function(u,c,f){a[++o]=i(u,c,f)}),a}return C_=r,C_}var N_,Pj;function qY(){if(Pj)return N_;Pj=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return N_=t,N_}var j_,Ij;function WY(){if(Ij)return j_;Ij=1;var t=_c();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,a=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,p=t(n);if(!f&&!p&&!u&&r>n||u&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!a)return 1;if(!o&&!u&&!p&&r<n||p&&i&&a&&!o&&!u||f&&i&&a||!c&&a||!h)return-1}return 0}return j_=e,j_}var R_,Oj;function HY(){if(Oj)return R_;Oj=1;var t=WY();function e(r,n,i){for(var o=-1,a=r.criteria,u=n.criteria,c=a.length,f=i.length;++o<c;){var h=t(a[o],u[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return r.index-n.index}return R_=e,R_}var M_,kj;function GY(){if(kj)return M_;kj=1;var t=bT(),e=xT(),r=eo(),n=k$(),i=qY(),o=v$(),a=HY(),u=Sc(),c=dn();function f(h,p,y){p.length?p=t(p,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):p=[u];var x=-1;p=t(p,o(r));var S=n(h,function(w,b,E){var P=t(p,function(O){return O(w)});return{criteria:P,index:++x,value:w}});return i(S,function(w,b){return a(w,b,y)})}return M_=f,M_}var D_,Cj;function KY(){if(Cj)return D_;Cj=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return D_=t,D_}var L_,Nj;function XY(){if(Nj)return L_;Nj=1;var t=KY(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,u=-1,c=e(a.length-i,0),f=Array(c);++u<c;)f[u]=a[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=a[u];return h[i]=o(f),t(n,this,h)}}return L_=r,L_}var $_,jj;function YY(){if(jj)return $_;jj=1;function t(e){return function(){return e}}return $_=t,$_}var V_,Rj;function C$(){if(Rj)return V_;Rj=1;var t=ml(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return V_=e,V_}var F_,Mj;function QY(){if(Mj)return F_;Mj=1;var t=YY(),e=C$(),r=Sc(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return F_=n,F_}var U_,Dj;function JY(){if(Dj)return U_;Dj=1;var t=800,e=16,r=Date.now;function n(i){var o=0,a=0;return function(){var u=r(),c=e-(u-a);if(a=u,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return U_=n,U_}var B_,Lj;function ZY(){if(Lj)return B_;Lj=1;var t=QY(),e=JY(),r=e(t);return B_=r,B_}var z_,$j;function eQ(){if($j)return z_;$j=1;var t=Sc(),e=XY(),r=ZY();function n(i,o){return r(e(i,o,t),i+"")}return z_=n,z_}var q_,Vj;function Ty(){if(Vj)return q_;Vj=1;var t=gT(),e=dh(),r=kT(),n=ns();function i(o,a,u){if(!n(u))return!1;var c=typeof a;return(c=="number"?e(u)&&r(a,u.length):c=="string"&&a in u)?t(u[a],o):!1}return q_=i,q_}var W_,Fj;function tQ(){if(Fj)return W_;Fj=1;var t=I$(),e=GY(),r=eQ(),n=Ty(),i=r(function(o,a){if(o==null)return[];var u=a.length;return u>1&&n(o,a[0],a[1])?a=[]:u>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return W_=i,W_}var rQ=tQ();const RT=ft(rQ);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X1.apply(this,arguments)}function nQ(t,e){return sQ(t)||aQ(t,e)||oQ(t,e)||iQ()}function iQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t,e){if(t){if(typeof t=="string")return Uj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(t,e)}}function Uj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function sQ(t){if(Array.isArray(t))return t}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){lQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lQ(t,e,r){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uQ(t){var e=cQ(t,"string");return pd(e)=="symbol"?e:e+""}function cQ(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fQ(t){return Array.isArray(t)&&lr(t[0])&&lr(t[1])?t.join(" ~ "):t}var dQ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,u=a===void 0?{}:a,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,w=e.label,b=e.labelFormatter,E=e.accessibilityLayer,P=E===void 0?!1:E,O=function(){if(h&&h.length){var L={padding:0,margin:0},$=(y?RT(h,y):h).map(function(Y,Z){if(Y.type==="none")return null;var ie=H_({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),ae=Y.formatter||p||fQ,X=Y.value,oe=Y.name,ne=X,q=oe;if(ae&&ne!=null&&q!=null){var K=ae(X,oe,Y,Z,h);if(Array.isArray(K)){var fe=nQ(K,2);ne=fe[0],q=fe[1]}else ne=K}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:ie},lr(q)?H.createElement("span",{className:"recharts-tooltip-item-name"},q):null,lr(q)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},ne),H.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:L},$)}return null},M=H_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),k=H_({margin:0},f),R=!it(w),I=R?w:"",C=Xe("recharts-default-tooltip",x),j=Xe("recharts-tooltip-label",S);R&&b&&h!==void 0&&h!==null&&(I=b(w,h));var U=P?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",X1({className:C,style:M},U),H.createElement("p",{className:j,style:k},H.isValidElement(I)?I:"".concat(I)),O())};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function zp(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=pQ(t,"string");return md(e)=="symbol"?e:e+""}function pQ(t,e){if(md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ef="recharts-tooltip-wrapper",mQ={visibility:"hidden"};function gQ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Xe(Ef,zp(zp(zp(zp({},"".concat(Ef,"-right"),_e(r)&&e&&_e(e.x)&&r>=e.x),"".concat(Ef,"-left"),_e(r)&&e&&_e(e.x)&&r<e.x),"".concat(Ef,"-bottom"),_e(n)&&e&&_e(e.y)&&n>=e.y),"".concat(Ef,"-top"),_e(n)&&e&&_e(e.y)&&n<e.y))}function zj(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&_e(o[n]))return o[n];var h=r[n]-u-i,p=r[n]+i;if(e[n])return a[n]?h:p;if(a[n]){var y=h,x=c[n];return y<x?Math.max(p,c[n]):Math.max(h,c[n])}var S=p+u,w=c[n]+f;return S>w?Math.max(h,c[n]):Math.max(p,c[n])}function yQ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function vQ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,p;return a.height>0&&a.width>0&&r?(h=zj({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=zj({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=yQ({translateX:h,translateY:p,useTranslate3d:u})):f=mQ,{cssProperties:f,cssClasses:gQ({translateX:h,translateY:p,coordinate:r})}}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(r),!0).forEach(function(n){Q1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j$(n.key),n)}}function _Q(t,e,r){return e&&xQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wQ(t,e,r){return e=qm(e),SQ(t,N$()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function SQ(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y1(t,e)}function Y1(t,e){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y1(t,e)}function Q1(t,e,r){return e=j$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j$(t){var e=AQ(t,"string");return Bu(e)=="symbol"?e:e+""}function AQ(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hj=1,PQ=(function(t){function e(){var r;bQ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=wQ(this,e,[].concat(i)),Q1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Q1(r,"handleKeyDown",function(a){if(a.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return TQ(e,t),_Q(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Hj||Math.abs(n.height-this.state.lastBoundingBox.height)>Hj)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,w=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,O=vQ({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:x,position:S,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),M=O.cssClasses,k=O.cssProperties,R=Wj(Wj({transition:y&&o?"transform ".concat(u,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},P);return H.createElement("div",{tabIndex:-1,className:M,style:R,ref:function(C){n.wrapperNode=C}},f)}}])})(F.PureComponent),IQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ec={isSsr:IQ()};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function Gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(r),!0).forEach(function(n){MT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M$(n.key),n)}}function CQ(t,e,r){return e&&kQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NQ(t,e,r){return e=Wm(e),jQ(t,R$()?Reflect.construct(e,r||[],Wm(t).constructor):e.apply(t,r))}function jQ(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQ(t)}function RQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(t)}function MQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J1(t,e)}function J1(t,e){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J1(t,e)}function MT(t,e,r){return e=M$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M$(t){var e=DQ(t,"string");return zu(e)=="symbol"?e:e+""}function DQ(t,e){if(zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LQ(t){return t.dataKey}function $Q(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(dQ,e)}var Di=(function(t){function e(){return OQ(this,e),NQ(this,e,arguments)}return MQ(e,t),CQ(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,w=i.payloadUniqBy,b=i.position,E=i.reverseDirection,P=i.useTranslate3d,O=i.viewBox,M=i.wrapperStyle,k=S??[];p&&k.length&&(k=T$(S.filter(function(I){return I.value!=null&&(I.hide!==!0||n.props.includeHidden)}),w,LQ));var R=k.length>0;return H.createElement(PQ,{allowEscapeViewBox:a,animationDuration:u,animationEasing:c,isAnimationActive:y,active:o,coordinate:h,hasPayload:R,offset:x,position:b,reverseDirection:E,useTranslate3d:P,viewBox:O,wrapperStyle:M},$Q(f,Kj(Kj({},this.props),{},{payload:k})))}}])})(F.PureComponent);MT(Di,"displayName","Tooltip");MT(Di,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ec.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var G_,Xj;function VQ(){if(Xj)return G_;Xj=1;var t=Zi(),e=function(){return t.Date.now()};return G_=e,G_}var K_,Yj;function FQ(){if(Yj)return K_;Yj=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return K_=e,K_}var X_,Qj;function UQ(){if(Qj)return X_;Qj=1;var t=FQ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return X_=r,X_}var Y_,Jj;function D$(){if(Jj)return Y_;Jj=1;var t=UQ(),e=ns(),r=_c(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||a.test(f)?u(f.slice(2),p?2:8):i.test(f)?n:+f}return Y_=c,Y_}var Q_,Zj;function BQ(){if(Zj)return Q_;Zj=1;var t=ns(),e=VQ(),r=D$(),n="Expected a function",i=Math.max,o=Math.min;function a(u,c,f){var h,p,y,x,S,w,b=0,E=!1,P=!1,O=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(E=!!f.leading,P="maxWait"in f,y=P?i(r(f.maxWait)||0,c):y,O="trailing"in f?!!f.trailing:O);function M($){var Y=h,Z=p;return h=p=void 0,b=$,x=u.apply(Z,Y),x}function k($){return b=$,S=setTimeout(C,c),E?M($):x}function R($){var Y=$-w,Z=$-b,ie=c-Y;return P?o(ie,y-Z):ie}function I($){var Y=$-w,Z=$-b;return w===void 0||Y>=c||Y<0||P&&Z>=y}function C(){var $=e();if(I($))return j($);S=setTimeout(C,R($))}function j($){return S=void 0,O&&h?M($):(h=p=void 0,x)}function U(){S!==void 0&&clearTimeout(S),b=0,h=w=p=S=void 0}function V(){return S===void 0?x:j(e())}function L(){var $=e(),Y=I($);if(h=arguments,p=this,w=$,Y){if(S===void 0)return k(w);if(P)return clearTimeout(S),S=setTimeout(C,c),M(w)}return S===void 0&&(S=setTimeout(C,c)),x}return L.cancel=U,L.flush=V,L}return Q_=a,Q_}var J_,eR;function zQ(){if(eR)return J_;eR=1;var t=BQ(),e=ns(),r="Expected a function";function n(i,o,a){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(a)&&(u="leading"in a?!!a.leading:u,c="trailing"in a?!!a.trailing:c),t(i,o,{leading:u,maxWait:o,trailing:c})}return J_=n,J_}var qQ=zQ();const L$=ft(qQ);function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){WQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WQ(t,e,r){return e=HQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HQ(t){var e=GQ(t,"string");return gd(e)=="symbol"?e:e+""}function GQ(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KQ(t,e){return JQ(t)||QQ(t,e)||YQ(t,e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return rR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rR(t,e)}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function JQ(t){if(Array.isArray(t))return t}var ZQ=F.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,w=S===void 0?0:S,b=t.id,E=t.className,P=t.onResize,O=t.style,M=O===void 0?{}:O,k=F.useRef(null),R=F.useRef();R.current=P,F.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var I=F.useState({containerWidth:i.width,containerHeight:i.height}),C=KQ(I,2),j=C[0],U=C[1],V=F.useCallback(function($,Y){U(function(Z){var ie=Math.round($),ae=Math.round(Y);return Z.containerWidth===ie&&Z.containerHeight===ae?Z:{containerWidth:ie,containerHeight:ae}})},[]);F.useEffect(function(){var $=function(oe){var ne,q=oe[0].contentRect,K=q.width,fe=q.height;V(K,fe),(ne=R.current)===null||ne===void 0||ne.call(R,K,fe)};w>0&&($=L$($,w,{trailing:!0,leading:!1}));var Y=new ResizeObserver($),Z=k.current.getBoundingClientRect(),ie=Z.width,ae=Z.height;return V(ie,ae),Y.observe(k.current),function(){Y.disconnect()}},[V,w]);var L=F.useMemo(function(){var $=j.containerWidth,Y=j.containerHeight;if($<0||Y<0)return null;No(qs(a)||qs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),No(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=qs(a)?$:a,ie=qs(c)?Y:c;r&&r>0&&(Z?ie=Z/r:ie&&(Z=ie*r),y&&ie>y&&(ie=y)),No(Z>0||ie>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,ie,a,c,h,p,r);var ae=!Array.isArray(x)&&Co(x.type).endsWith("Chart");return H.Children.map(x,function(X){return H.isValidElement(X)?F.cloneElement(X,qp({width:Z,height:ie},ae?{style:qp({height:"100%",width:"100%",maxHeight:ie,maxWidth:Z},X.props.style)}:{})):X})},[r,x,c,y,p,h,j,a]);return H.createElement("div",{id:b?"".concat(b):void 0,className:Xe("recharts-responsive-container",E),style:qp(qp({},M),{},{width:a,height:c,minWidth:h,minHeight:p,maxHeight:y}),ref:k},L)}),Ay=function(e){return null};Ay.displayName="Cell";function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){eJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eJ(t,e,r){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tJ(t){var e=rJ(t,"string");return yd(e)=="symbol"?e:e+""}function rJ(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lu={widthCache:{},cacheCount:0},nJ=2e3,iJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iR="recharts_measurement_span";function oJ(t){var e=Z1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Yf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ec.isSsr)return{width:0,height:0};var n=oJ(r),i=JSON.stringify({text:e,copyStyle:n});if(lu.widthCache[i])return lu.widthCache[i];try{var o=document.getElementById(iR);o||(o=document.createElement("span"),o.setAttribute("id",iR),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Z1(Z1({},iJ),n);Object.assign(o.style,a),o.textContent="".concat(e);var u=o.getBoundingClientRect(),c={width:u.width,height:u.height};return lu.widthCache[i]=c,++lu.cacheCount>nJ&&(lu.cacheCount=0,lu.widthCache={}),c}catch{return{width:0,height:0}}},aJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Hm(t,e){return cJ(t)||uJ(t,e)||lJ(t,e)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(t,e){if(t){if(typeof t=="string")return oR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function cJ(t){if(Array.isArray(t))return t}function fJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hJ(n.key),n)}}function dJ(t,e,r){return e&&aR(t.prototype,e),r&&aR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hJ(t){var e=pJ(t,"string");return vd(e)=="symbol"?e:e+""}function pJ(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yJ=Object.keys($$),mu="NaN";function vJ(t,e){return t*$$[e]}var Wp=(function(){function t(e,r){fJ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!mJ.test(r)&&(this.num=NaN,this.unit=""),yJ.includes(r)&&(this.num=vJ(e,r),this.unit="px")}return dJ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=gJ.exec(r))!==null&&n!==void 0?n:[],o=Hm(i,3),a=o[1],u=o[2];return new t(parseFloat(a),u??"")}}])})();function V$(t){if(t.includes(mu))return mu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=sR.exec(e))!==null&&r!==void 0?r:[],i=Hm(n,4),o=i[1],a=i[2],u=i[3],c=Wp.parse(o??""),f=Wp.parse(u??""),h=a==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return mu;e=e.replace(sR,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=lR.exec(e))!==null&&p!==void 0?p:[],x=Hm(y,4),S=x[1],w=x[2],b=x[3],E=Wp.parse(S??""),P=Wp.parse(b??""),O=w==="+"?E.add(P):E.subtract(P);if(O.isNaN())return mu;e=e.replace(lR,O.toString())}return e}var uR=/\(([^()]*)\)/;function bJ(t){for(var e=t;e.includes("(");){var r=uR.exec(e),n=Hm(r,2),i=n[1];e=e.replace(uR,V$(i))}return e}function xJ(t){var e=t.replace(/\s+/g,"");return e=bJ(e),e=V$(e),e}function _J(t){try{return xJ(t)}catch{return mu}}function Z_(t){var e=_J(t.slice(5,-1));return e===mu?"":e}var wJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],SJ=["dx","dy","angle","className","breakAll"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eS.apply(this,arguments)}function cR(t,e){if(t==null)return{};var r=EJ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fR(t,e){return IJ(t)||PJ(t,e)||AJ(t,e)||TJ()}function TJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(t,e){if(t){if(typeof t=="string")return dR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dR(t,e)}}function dR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function IJ(t){if(Array.isArray(t))return t}var F$=/[ \f\n\r\t\v\u2028\u2029]+/,U$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];it(r)||(n?o=r.toString().split(""):o=r.toString().split(F$));var a=o.map(function(c){return{word:c,width:Yf(c,i).width}}),u=n?0:Yf("",i).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},OJ=function(e,r,n,i,o){var a=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=_e(a),p=u,y=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(ie,ae){var X=ae.word,oe=ae.width,ne=ie[ie.length-1];if(ne&&(i==null||o||ne.width+oe+n<Number(i)))ne.words.push(X),ne.width+=oe+n;else{var q={words:[X],width:oe};ie.push(q)}return ie},[])},x=y(r),S=function(Z){return Z.reduce(function(ie,ae){return ie.width>ae.width?ie:ae})};if(!h)return x;for(var w="",b=function(Z){var ie=p.slice(0,Z),ae=U$({breakAll:f,style:c,children:ie+w}).wordsWithComputedWidth,X=y(ae),oe=X.length>a||S(X).width>Number(i);return[oe,X]},E=0,P=p.length-1,O=0,M;E<=P&&O<=p.length-1;){var k=Math.floor((E+P)/2),R=k-1,I=b(R),C=fR(I,2),j=C[0],U=C[1],V=b(k),L=fR(V,1),$=L[0];if(!j&&!$&&(E=k+1),j&&$&&(P=k-1),!j&&$){M=U;break}O++}return M||x},hR=function(e){var r=it(e)?[]:e.toString().split(F$);return[{words:r}]},kJ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,u=e.maxLines;if((r||n)&&!Ec.isSsr){var c,f,h=U$({breakAll:a,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;c=p,f=y}else return hR(i);return OJ({breakAll:a,children:i,maxLines:u,style:o},c,f,r,n)}return hR(i)},pR="#808080",qu=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,u=a===void 0?"1em":a,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,w=S===void 0?"end":S,b=e.fill,E=b===void 0?pR:b,P=cR(e,wJ),O=F.useMemo(function(){return kJ({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:p,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,p,P.style,P.width]),M=P.dx,k=P.dy,R=P.angle,I=P.className,C=P.breakAll,j=cR(P,SJ);if(!lr(n)||!lr(o))return null;var U=n+(_e(M)?M:0),V=o+(_e(k)?k:0),L;switch(w){case"start":L=Z_("calc(".concat(f,")"));break;case"middle":L=Z_("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:L=Z_("calc(".concat(O.length-1," * -").concat(u,")"));break}var $=[];if(p){var Y=O[0].width,Z=P.width;$.push("scale(".concat((_e(Z)?Z/Y:1)/Y,")"))}return R&&$.push("rotate(".concat(R,", ").concat(U,", ").concat(V,")")),$.length&&(j.transform=$.join(" ")),H.createElement("text",eS({},Be(j,!0),{x:U,y:V,className:Xe("recharts-text",I),textAnchor:x,fill:E.includes("url")?pR:E}),O.map(function(ie,ae){var X=ie.words.join(C?"":" ");return H.createElement("tspan",{x:U,dy:ae===0?L:u,key:"".concat(X,"-").concat(ae)},X)}))};function Wa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DT(t){let e,r,n;t.length!==2?(e=Wa,r=(u,c)=>Wa(t(u),c),n=(u,c)=>t(u)-c):(e=t===Wa||t===CJ?t:NJ,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&n(u[p-1],c)>-n(u[p],c)?p-1:p}return{left:i,center:a,right:o}}function NJ(){return 0}function B$(t){return t===null?NaN:+t}function*jJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const RJ=DT(Wa),hh=RJ.right;DT(B$).center;class mR extends Map{constructor(e,r=LJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(gR(this,e))}has(e){return super.has(gR(this,e))}set(e,r){return super.set(MJ(this,e),r)}delete(e){return super.delete(DJ(this,e))}}function gR({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function MJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function DJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function LJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $J(t=Wa){if(t===Wa)return z$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function z$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const VJ=Math.sqrt(50),FJ=Math.sqrt(10),UJ=Math.sqrt(2);function Gm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=VJ?10:o>=FJ?5:o>=UJ?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?Gm(t,e,r*2):[u,c,f]}function tS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?Gm(e,t,r):Gm(t,e,r);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(n)if(a<0)for(let f=0;f<u;++f)c[f]=(o-f)/-a;else for(let f=0;f<u;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function rS(t,e,r){return e=+e,t=+t,r=+r,Gm(t,e,r)[2]}function nS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?rS(e,t,r):rS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function yR(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vR(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function q$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?z$:$J(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),x=Math.max(r,Math.floor(e-f*p/c+y)),S=Math.min(n,Math.floor(e+(c-f)*p/c+y));q$(t,e,x,S,i)}const o=t[e];let a=r,u=n;for(Tf(t,r,e),i(t[n],o)>0&&Tf(t,r,n);a<u;){for(Tf(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[r],o)===0?Tf(t,r,u):(++u,Tf(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Tf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function BJ(t,e,r){if(t=Float64Array.from(jJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return vR(t);if(e>=1)return yR(t);var n,i=(n-1)*e,o=Math.floor(i),a=yR(q$(t,o).subarray(0,o+1)),u=vR(t.subarray(o+1));return a+(u-a)*(i-o)}}function zJ(t,e,r=B$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),u=+r(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function qJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Kn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iS=Symbol("implicit");function LT(){var t=new mR,e=[],r=[],n=iS;function i(o){let a=t.get(o);if(a===void 0){if(n!==iS)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new mR;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return LT(e,r).unknown(n)},Kn.apply(i,arguments),i}function bd(){var t=LT().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var y=e().length,x=i<n,S=x?i:n,w=x?n:i;o=(w-S)/Math.max(1,y-c+f*2),u&&(o=Math.floor(o)),S+=(w-S-o*(y-c))*h,a=o*(1-c),u&&(S=Math.round(S),a=Math.round(a));var b=qJ(y).map(function(E){return S+o*E});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return bd(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Kn.apply(p(),arguments)}function W$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return W$(e())},t}function Qf(){return W$(bd.apply(null,arguments).paddingInner(1))}function $T(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function H$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ph(){}var xd=.7,Km=1/xd,Au="\\s*([+-]?\\d+)\\s*",_d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WJ=/^#([0-9a-f]{3,8})$/,HJ=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),GJ=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),KJ=new RegExp(`^rgba\\(${Au},${Au},${Au},${_d}\\)$`),XJ=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${_d}\\)$`),YJ=new RegExp(`^hsl\\(${_d},${Wi},${Wi}\\)$`),QJ=new RegExp(`^hsla\\(${_d},${Wi},${Wi},${_d}\\)$`),bR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$T(ph,wd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xR,formatHex:xR,formatHex8:JJ,formatHsl:ZJ,formatRgb:_R,toString:_R});function xR(){return this.rgb().formatHex()}function JJ(){return this.rgb().formatHex8()}function ZJ(){return G$(this).formatHsl()}function _R(){return this.rgb().formatRgb()}function wd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=WJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?wR(e):r===3?new fn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Hp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Hp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=HJ.exec(t))?new fn(e[1],e[2],e[3],1):(e=GJ.exec(t))?new fn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KJ.exec(t))?Hp(e[1],e[2],e[3],e[4]):(e=XJ.exec(t))?Hp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=YJ.exec(t))?TR(e[1],e[2]/100,e[3]/100,1):(e=QJ.exec(t))?TR(e[1],e[2]/100,e[3]/100,e[4]):bR.hasOwnProperty(t)?wR(bR[t]):t==="transparent"?new fn(NaN,NaN,NaN,0):null}function wR(t){return new fn(t>>16&255,t>>8&255,t&255,1)}function Hp(t,e,r,n){return n<=0&&(t=e=r=NaN),new fn(t,e,r,n)}function eZ(t){return t instanceof ph||(t=wd(t)),t?(t=t.rgb(),new fn(t.r,t.g,t.b,t.opacity)):new fn}function oS(t,e,r,n){return arguments.length===1?eZ(t):new fn(t,e,r,n??1)}function fn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$T(fn,oS,H$(ph,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xd:Math.pow(xd,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fn(Qs(this.r),Qs(this.g),Qs(this.b),Xm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SR,formatHex:SR,formatHex8:tZ,formatRgb:ER,toString:ER}));function SR(){return`#${Ws(this.r)}${Ws(this.g)}${Ws(this.b)}`}function tZ(){return`#${Ws(this.r)}${Ws(this.g)}${Ws(this.b)}${Ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function ER(){const t=Xm(this.opacity);return`${t===1?"rgb(":"rgba("}${Qs(this.r)}, ${Qs(this.g)}, ${Qs(this.b)}${t===1?")":`, ${t})`}`}function Xm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ws(t){return t=Qs(t),(t<16?"0":"")+t.toString(16)}function TR(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,r,n)}function G$(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof ph||(t=wd(t)),!t)return new pi;if(t instanceof pi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(r-n)/u+(r<n)*6:r===o?a=(n-e)/u+2:a=(e-r)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new pi(a,u,c,t.opacity)}function rZ(t,e,r,n){return arguments.length===1?G$(t):new pi(t,e,r,n??1)}function pi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$T(pi,rZ,H$(ph,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xd:Math.pow(xd,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new fn(ew(t>=240?t-240:t+120,i,n),ew(t,i,n),ew(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pi(AR(this.h),Gp(this.s),Gp(this.l),Xm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xm(this.opacity);return`${t===1?"hsl(":"hsla("}${AR(this.h)}, ${Gp(this.s)*100}%, ${Gp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function AR(t){return t=(t||0)%360,t<0?t+360:t}function Gp(t){return Math.max(0,Math.min(1,t||0))}function ew(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const VT=t=>()=>t;function nZ(t,e){return function(r){return t+r*e}}function iZ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function oZ(t){return(t=+t)==1?K$:function(e,r){return r-e?iZ(e,r,t):VT(isNaN(e)?r:e)}}function K$(t,e){var r=e-t;return r?nZ(t,r):VT(isNaN(t)?e:t)}const PR=(function t(e){var r=oZ(e);function n(i,o){var a=r((i=oS(i)).r,(o=oS(o)).r),u=r(i.g,o.g),c=r(i.b,o.b),f=K$(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n})(1);function aZ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function sZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lZ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Tc(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(u){for(a=0;a<n;++a)o[a]=i[a](u);return o}}function uZ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ym(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function cZ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Tc(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var aS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tw=new RegExp(aS.source,"g");function fZ(t){return function(){return t}}function dZ(t){return function(e){return t(e)+""}}function hZ(t,e){var r=aS.lastIndex=tw.lastIndex=0,n,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(n=aS.exec(t))&&(i=tw.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:Ym(n,i)})),r=tw.lastIndex;return r<e.length&&(o=e.slice(r),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?dZ(c[0].x):fZ(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function Tc(t,e){var r=typeof e,n;return e==null||r==="boolean"?VT(e):(r==="number"?Ym:r==="string"?(n=wd(e))?(e=n,PR):hZ:e instanceof wd?PR:e instanceof Date?uZ:sZ(e)?aZ:Array.isArray(e)?lZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cZ:Ym)(t,e)}function FT(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function pZ(t,e){e===void 0&&(e=t,t=Tc);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var u=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[u](a-u)}}function mZ(t){return function(){return t}}function Qm(t){return+t}var IR=[0,1];function Hr(t){return t}function sS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:mZ(isNaN(e)?NaN:.5)}function gZ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function yZ(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=sS(i,n),o=r(a,o)):(n=sS(n,i),o=r(o,a)),function(u){return o(n(u))}}function vZ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=sS(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(u){var c=hh(t,u,1,n)-1;return o[c](i[c](u))}}function mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Py(){var t=IR,e=IR,r=Tc,n,i,o,a=Hr,u,c,f;function h(){var y=Math.min(t.length,e.length);return a!==Hr&&(a=gZ(t[0],t[y-1])),u=y>2?vZ:yZ,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(c||(c=u(t.map(n),e,r)))(n(a(y)))}return p.invert=function(y){return a(i((f||(f=u(e,t.map(n),Ym)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Qm),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),r=FT,h()},p.clamp=function(y){return arguments.length?(a=y?!0:Hr,h()):a!==Hr},p.interpolate=function(y){return arguments.length?(r=y,h()):r},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,x){return n=y,i=x,h()}}function UT(){return Py()(Hr,Hr)}function bZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jm(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Wu(t){return t=Jm(Math.abs(t)),t?t[1]:NaN}function xZ(t,e){return function(r,n){for(var i=r.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),o.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function _Z(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var wZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sd(t){if(!(e=wZ.exec(t)))throw new Error("invalid format: "+t);var e;return new BT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sd.prototype=BT.prototype;function BT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}BT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SZ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Zm;function EZ(t,e){var r=Jm(t,e);if(!r)return Zm=void 0,t.toPrecision(e);var n=r[0],i=r[1],o=i-(Zm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Jm(t,Math.max(0,e+o-1))[0]}function OR(t,e){var r=Jm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const kR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OR(t*100,e),r:OR,s:EZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function CR(t){return t}var NR=Array.prototype.map,jR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TZ(t){var e=t.grouping===void 0||t.thousands===void 0?CR:xZ(NR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?CR:_Z(NR.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,y){p=Sd(p);var x=p.fill,S=p.align,w=p.sign,b=p.symbol,E=p.zero,P=p.width,O=p.comma,M=p.precision,k=p.trim,R=p.type;R==="n"?(O=!0,R="g"):kR[R]||(M===void 0&&(M=12),k=!0,R="g"),(E||x==="0"&&S==="=")&&(E=!0,x="0",S="=");var I=(y&&y.prefix!==void 0?y.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),C=(b==="$"?n:/[%p]/.test(R)?a:"")+(y&&y.suffix!==void 0?y.suffix:""),j=kR[R],U=/[defgprs%]/.test(R);M=M===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function V(L){var $=I,Y=C,Z,ie,ae;if(R==="c")Y=j(L)+Y,L="";else{L=+L;var X=L<0||1/L<0;if(L=isNaN(L)?c:j(Math.abs(L),M),k&&(L=SZ(L)),X&&+L==0&&w!=="+"&&(X=!1),$=(X?w==="("?w:u:w==="-"||w==="("?"":w)+$,Y=(R==="s"&&!isNaN(L)&&Zm!==void 0?jR[8+Zm/3]:"")+Y+(X&&w==="("?")":""),U){for(Z=-1,ie=L.length;++Z<ie;)if(ae=L.charCodeAt(Z),48>ae||ae>57){Y=(ae===46?i+L.slice(Z+1):L.slice(Z))+Y,L=L.slice(0,Z);break}}}O&&!E&&(L=e(L,1/0));var oe=$.length+L.length+Y.length,ne=oe<P?new Array(P-oe+1).join(x):"";switch(O&&E&&(L=e(ne+L,ne.length?P-Y.length:1/0),ne=""),S){case"<":L=$+L+Y+ne;break;case"=":L=$+ne+L+Y;break;case"^":L=ne.slice(0,oe=ne.length>>1)+$+L+Y+ne.slice(oe);break;default:L=ne+$+L+Y;break}return o(L)}return V.toString=function(){return p+""},V}function h(p,y){var x=Math.max(-8,Math.min(8,Math.floor(Wu(y)/3)))*3,S=Math.pow(10,-x),w=f((p=Sd(p),p.type="f",p),{suffix:jR[8+x/3]});return function(b){return w(S*b)}}return{format:f,formatPrefix:h}}var Kp,zT,X$;AZ({thousands:",",grouping:[3],currency:["$",""]});function AZ(t){return Kp=TZ(t),zT=Kp.format,X$=Kp.formatPrefix,Kp}function PZ(t){return Math.max(0,-Wu(Math.abs(t)))}function IZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wu(e)/3)))*3-Wu(Math.abs(t)))}function OZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wu(e)-Wu(t))+1}function Y$(t,e,r,n){var i=nS(t,e,r),o;switch(n=Sd(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=IZ(i,a))&&(n.precision=o),X$(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=OZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=PZ(i))&&(n.precision=o-(n.type==="%")*2);break}}return zT(n)}function is(t){var e=t.domain;return t.ticks=function(r){var n=e();return tS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Y$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],u=n[o],c,f,h=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=rS(a,u,r),f===c)return n[i]=a,n[o]=u,e(n);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function eg(){var t=UT();return t.copy=function(){return mh(t,eg())},Kn.apply(t,arguments),is(t)}function Q$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Qm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Q$(t).unknown(e)},t=arguments.length?Array.from(t,Qm):[0,1],is(r)}function J$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function RR(t){return Math.log(t)}function MR(t){return Math.exp(t)}function kZ(t){return-Math.log(-t)}function CZ(t){return-Math.exp(-t)}function NZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jZ(t){return t===10?NZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function RZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DR(t){return(e,r)=>-t(-e,r)}function qT(t){const e=t(RR,MR),r=e.domain;let n=10,i,o;function a(){return i=RZ(n),o=jZ(n),r()[0]<0?(i=DR(i),o=DR(o),t(kZ,CZ)):t(RR,MR),e}return e.base=function(u){return arguments.length?(n=+u,a()):n},e.domain=function(u){return arguments.length?(r(u),a()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),x=i(h),S,w;const b=u==null?10:+u;let E=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(S=1;S<n;++S)if(w=y<0?S/o(-y):S*o(y),!(w<f)){if(w>h)break;E.push(w)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(w=y>0?S/o(-y):S*o(y),!(w<f)){if(w>h)break;E.push(w)}E.length*2<b&&(E=tS(f,h,b))}else E=tS(y,x,Math.min(x-y,b)).map(o);return p?E.reverse():E},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sd(c)).precision==null&&(c.trim=!0),c=zT(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=f?c(h):""}},e.nice=()=>r(J$(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function Z$(){const t=qT(Py()).domain([1,10]);return t.copy=()=>mh(t,Z$()).base(t.base()),Kn.apply(t,arguments),t}function LR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $R(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WT(t){var e=1,r=t(LR(e),$R(e));return r.constant=function(n){return arguments.length?t(LR(e=+n),$R(e)):e},is(r)}function e5(){var t=WT(Py());return t.copy=function(){return mh(t,e5()).constant(t.constant())},Kn.apply(t,arguments)}function VR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function MZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function DZ(t){return t<0?-t*t:t*t}function HT(t){var e=t(Hr,Hr),r=1;function n(){return r===1?t(Hr,Hr):r===.5?t(MZ,DZ):t(VR(r),VR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},is(e)}function GT(){var t=HT(Py());return t.copy=function(){return mh(t,GT()).exponent(t.exponent())},Kn.apply(t,arguments),t}function LZ(){return GT.apply(null,arguments).exponent(.5)}function FR(t){return Math.sign(t)*t*t}function $Z(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function t5(){var t=UT(),e=[0,1],r=!1,n;function i(o){var a=$Z(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(FR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Qm)).map(FR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return t5(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Kn.apply(i,arguments),is(i)}function r5(){var t=[],e=[],r=[],n;function i(){var a=0,u=Math.max(1,e.length);for(r=new Array(u-1);++a<u;)r[a-1]=zJ(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?n:e[hh(r,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Wa),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return r5().domain(t).range(e).unknown(n)},Kn.apply(o,arguments)}function n5(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[hh(n,c,0,r)]:o}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return n5().domain([t,e]).range(i).unknown(o)},Kn.apply(is(a),arguments)}function i5(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[hh(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return i5().domain(t).range(e).unknown(r)},Kn.apply(i,arguments)}const rw=new Date,nw=new Date;function cr(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<a);return c},i.filter=o=>cr(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(rw.setTime(+o),nw.setTime(+a),t(rw),t(nw),Math.floor(r(rw,nw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const tg=cr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);tg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):tg);tg.range;const To=1e3,zn=To*60,Ao=zn*60,Vo=Ao*24,KT=Vo*7,UR=Vo*30,iw=Vo*365,Hs=cr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getUTCSeconds());Hs.range;const XT=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*To)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getMinutes());XT.range;const YT=cr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCMinutes());YT.range;const QT=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*To-t.getMinutes()*zn)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getHours());QT.range;const JT=cr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCHours());JT.range;const gh=cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/Vo,t=>t.getDate()-1);gh.range;const Iy=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>t.getUTCDate()-1);Iy.range;const o5=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>Math.floor(t/Vo));o5.range;function gl(t){return cr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zn)/KT)}const Oy=gl(0),rg=gl(1),VZ=gl(2),FZ=gl(3),Hu=gl(4),UZ=gl(5),BZ=gl(6);Oy.range;rg.range;VZ.range;FZ.range;Hu.range;UZ.range;BZ.range;function yl(t){return cr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/KT)}const ky=yl(0),ng=yl(1),zZ=yl(2),qZ=yl(3),Gu=yl(4),WZ=yl(5),HZ=yl(6);ky.range;ng.range;zZ.range;qZ.range;Gu.range;WZ.range;HZ.range;const ZT=cr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ZT.range;const eA=cr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());eA.range;const Fo=cr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Fo.range;const Uo=cr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Uo.range;function a5(t,e,r,n,i,o){const a=[[Hs,1,To],[Hs,5,5*To],[Hs,15,15*To],[Hs,30,30*To],[o,1,zn],[o,5,5*zn],[o,15,15*zn],[o,30,30*zn],[i,1,Ao],[i,3,3*Ao],[i,6,6*Ao],[i,12,12*Ao],[n,1,Vo],[n,2,2*Vo],[r,1,KT],[e,1,UR],[e,3,3*UR],[t,1,iw]];function u(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:c(f,h,p),S=x?x.range(f,+h+1):[];return y?S.reverse():S}function c(f,h,p){const y=Math.abs(h-f)/p,x=DT(([,,b])=>b).right(a,y);if(x===a.length)return t.every(nS(f/iw,h/iw,p));if(x===0)return tg.every(Math.max(nS(f,h,p),1));const[S,w]=a[y/a[x-1][2]<a[x][2]/y?x-1:x];return S.every(w)}return[u,c]}const[GZ,KZ]=a5(Uo,eA,ky,o5,JT,YT),[XZ,YZ]=a5(Fo,ZT,Oy,gh,QT,XT);function ow(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Af(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function QZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=Pf(i),h=If(i),p=Pf(o),y=If(o),x=Pf(a),S=If(a),w=Pf(u),b=If(u),E=Pf(c),P=If(c),O={a:ae,A:X,b:oe,B:ne,c:null,d:GR,e:GR,f:xee,g:kee,G:Nee,H:yee,I:vee,j:bee,L:s5,m:_ee,M:wee,p:q,q:K,Q:YR,s:QR,S:See,u:Eee,U:Tee,V:Aee,w:Pee,W:Iee,x:null,X:null,y:Oee,Y:Cee,Z:jee,"%":XR},M={a:fe,A:Se,b:ue,B:te,c:null,d:KR,e:KR,f:Lee,g:Gee,G:Xee,H:Ree,I:Mee,j:Dee,L:u5,m:$ee,M:Vee,p:be,q:Ne,Q:YR,s:QR,S:Fee,u:Uee,U:Bee,V:zee,w:qee,W:Wee,x:null,X:null,y:Hee,Y:Kee,Z:Yee,"%":XR},k={a:U,A:V,b:L,B:$,c:Y,d:WR,e:WR,f:hee,g:qR,G:zR,H:HR,I:HR,j:uee,L:dee,m:lee,M:cee,p:j,q:see,Q:mee,s:gee,S:fee,u:ree,U:nee,V:iee,w:tee,W:oee,x:Z,X:ie,y:qR,Y:zR,Z:aee,"%":pee};O.x=R(r,O),O.X=R(n,O),O.c=R(e,O),M.x=R(r,M),M.X=R(n,M),M.c=R(e,M);function R(ge,ke){return function(Ve){var he=[],at=-1,He=0,yt=ge.length,St,Gt,hn;for(Ve instanceof Date||(Ve=new Date(+Ve));++at<yt;)ge.charCodeAt(at)===37&&(he.push(ge.slice(He,at)),(Gt=BR[St=ge.charAt(++at)])!=null?St=ge.charAt(++at):Gt=St==="e"?" ":"0",(hn=ke[St])&&(St=hn(Ve,Gt)),he.push(St),He=at+1);return he.push(ge.slice(He,at)),he.join("")}}function I(ge,ke){return function(Ve){var he=Af(1900,void 0,1),at=C(he,ge,Ve+="",0),He,yt;if(at!=Ve.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ke&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(He=aw(Af(he.y,0,1)),yt=He.getUTCDay(),He=yt>4||yt===0?ng.ceil(He):ng(He),He=Iy.offset(He,(he.V-1)*7),he.y=He.getUTCFullYear(),he.m=He.getUTCMonth(),he.d=He.getUTCDate()+(he.w+6)%7):(He=ow(Af(he.y,0,1)),yt=He.getDay(),He=yt>4||yt===0?rg.ceil(He):rg(He),He=gh.offset(He,(he.V-1)*7),he.y=He.getFullYear(),he.m=He.getMonth(),he.d=He.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),yt="Z"in he?aw(Af(he.y,0,1)).getUTCDay():ow(Af(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(yt+5)%7:he.w+he.U*7-(yt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,aw(he)):ow(he)}}function C(ge,ke,Ve,he){for(var at=0,He=ke.length,yt=Ve.length,St,Gt;at<He;){if(he>=yt)return-1;if(St=ke.charCodeAt(at++),St===37){if(St=ke.charAt(at++),Gt=k[St in BR?ke.charAt(at++):St],!Gt||(he=Gt(ge,Ve,he))<0)return-1}else if(St!=Ve.charCodeAt(he++))return-1}return he}function j(ge,ke,Ve){var he=f.exec(ke.slice(Ve));return he?(ge.p=h.get(he[0].toLowerCase()),Ve+he[0].length):-1}function U(ge,ke,Ve){var he=x.exec(ke.slice(Ve));return he?(ge.w=S.get(he[0].toLowerCase()),Ve+he[0].length):-1}function V(ge,ke,Ve){var he=p.exec(ke.slice(Ve));return he?(ge.w=y.get(he[0].toLowerCase()),Ve+he[0].length):-1}function L(ge,ke,Ve){var he=E.exec(ke.slice(Ve));return he?(ge.m=P.get(he[0].toLowerCase()),Ve+he[0].length):-1}function $(ge,ke,Ve){var he=w.exec(ke.slice(Ve));return he?(ge.m=b.get(he[0].toLowerCase()),Ve+he[0].length):-1}function Y(ge,ke,Ve){return C(ge,e,ke,Ve)}function Z(ge,ke,Ve){return C(ge,r,ke,Ve)}function ie(ge,ke,Ve){return C(ge,n,ke,Ve)}function ae(ge){return a[ge.getDay()]}function X(ge){return o[ge.getDay()]}function oe(ge){return c[ge.getMonth()]}function ne(ge){return u[ge.getMonth()]}function q(ge){return i[+(ge.getHours()>=12)]}function K(ge){return 1+~~(ge.getMonth()/3)}function fe(ge){return a[ge.getUTCDay()]}function Se(ge){return o[ge.getUTCDay()]}function ue(ge){return c[ge.getUTCMonth()]}function te(ge){return u[ge.getUTCMonth()]}function be(ge){return i[+(ge.getUTCHours()>=12)]}function Ne(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var ke=R(ge+="",O);return ke.toString=function(){return ge},ke},parse:function(ge){var ke=I(ge+="",!1);return ke.toString=function(){return ge},ke},utcFormat:function(ge){var ke=R(ge+="",M);return ke.toString=function(){return ge},ke},utcParse:function(ge){var ke=I(ge+="",!0);return ke.toString=function(){return ge},ke}}}var BR={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,JZ=/^%/,ZZ=/[\\^$*+?|[\]().{}]/g;function ot(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function eee(t){return t.replace(ZZ,"\\$&")}function Pf(t){return new RegExp("^(?:"+t.map(eee).join("|")+")","i")}function If(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tee(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function ree(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nee(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iee(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function oee(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function zR(t,e,r){var n=vr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function qR(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aee(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function see(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lee(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function WR(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function uee(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function HR(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function cee(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function fee(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function dee(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hee(t,e,r){var n=vr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pee(t,e,r){var n=JZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function mee(t,e,r){var n=vr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gee(t,e,r){var n=vr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function GR(t,e){return ot(t.getDate(),e,2)}function yee(t,e){return ot(t.getHours(),e,2)}function vee(t,e){return ot(t.getHours()%12||12,e,2)}function bee(t,e){return ot(1+gh.count(Fo(t),t),e,3)}function s5(t,e){return ot(t.getMilliseconds(),e,3)}function xee(t,e){return s5(t,e)+"000"}function _ee(t,e){return ot(t.getMonth()+1,e,2)}function wee(t,e){return ot(t.getMinutes(),e,2)}function See(t,e){return ot(t.getSeconds(),e,2)}function Eee(t){var e=t.getDay();return e===0?7:e}function Tee(t,e){return ot(Oy.count(Fo(t)-1,t),e,2)}function l5(t){var e=t.getDay();return e>=4||e===0?Hu(t):Hu.ceil(t)}function Aee(t,e){return t=l5(t),ot(Hu.count(Fo(t),t)+(Fo(t).getDay()===4),e,2)}function Pee(t){return t.getDay()}function Iee(t,e){return ot(rg.count(Fo(t)-1,t),e,2)}function Oee(t,e){return ot(t.getFullYear()%100,e,2)}function kee(t,e){return t=l5(t),ot(t.getFullYear()%100,e,2)}function Cee(t,e){return ot(t.getFullYear()%1e4,e,4)}function Nee(t,e){var r=t.getDay();return t=r>=4||r===0?Hu(t):Hu.ceil(t),ot(t.getFullYear()%1e4,e,4)}function jee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function KR(t,e){return ot(t.getUTCDate(),e,2)}function Ree(t,e){return ot(t.getUTCHours(),e,2)}function Mee(t,e){return ot(t.getUTCHours()%12||12,e,2)}function Dee(t,e){return ot(1+Iy.count(Uo(t),t),e,3)}function u5(t,e){return ot(t.getUTCMilliseconds(),e,3)}function Lee(t,e){return u5(t,e)+"000"}function $ee(t,e){return ot(t.getUTCMonth()+1,e,2)}function Vee(t,e){return ot(t.getUTCMinutes(),e,2)}function Fee(t,e){return ot(t.getUTCSeconds(),e,2)}function Uee(t){var e=t.getUTCDay();return e===0?7:e}function Bee(t,e){return ot(ky.count(Uo(t)-1,t),e,2)}function c5(t){var e=t.getUTCDay();return e>=4||e===0?Gu(t):Gu.ceil(t)}function zee(t,e){return t=c5(t),ot(Gu.count(Uo(t),t)+(Uo(t).getUTCDay()===4),e,2)}function qee(t){return t.getUTCDay()}function Wee(t,e){return ot(ng.count(Uo(t)-1,t),e,2)}function Hee(t,e){return ot(t.getUTCFullYear()%100,e,2)}function Gee(t,e){return t=c5(t),ot(t.getUTCFullYear()%100,e,2)}function Kee(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function Xee(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Gu(t):Gu.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function Yee(){return"+0000"}function XR(){return"%"}function YR(t){return+t}function QR(t){return Math.floor(+t/1e3)}var uu,f5,d5;Qee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qee(t){return uu=QZ(t),f5=uu.format,uu.parse,d5=uu.utcFormat,uu.utcParse,uu}function Jee(t){return new Date(t)}function Zee(t){return t instanceof Date?+t:+new Date(+t)}function tA(t,e,r,n,i,o,a,u,c,f){var h=UT(),p=h.invert,y=h.domain,x=f(".%L"),S=f(":%S"),w=f("%I:%M"),b=f("%I %p"),E=f("%a %d"),P=f("%b %d"),O=f("%B"),M=f("%Y");function k(R){return(c(R)<R?x:u(R)<R?S:a(R)<R?w:o(R)<R?b:n(R)<R?i(R)<R?E:P:r(R)<R?O:M)(R)}return h.invert=function(R){return new Date(p(R))},h.domain=function(R){return arguments.length?y(Array.from(R,Zee)):y().map(Jee)},h.ticks=function(R){var I=y();return t(I[0],I[I.length-1],R??10)},h.tickFormat=function(R,I){return I==null?k:f(I)},h.nice=function(R){var I=y();return(!R||typeof R.range!="function")&&(R=e(I[0],I[I.length-1],R??10)),R?y(J$(I,R)):h},h.copy=function(){return mh(h,tA(t,e,r,n,i,o,a,u,c,f))},h}function ete(){return Kn.apply(tA(XZ,YZ,Fo,ZT,Oy,gh,QT,XT,Hs,f5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tte(){return Kn.apply(tA(GZ,KZ,Uo,eA,ky,Iy,JT,YT,Hs,d5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cy(){var t=0,e=1,r,n,i,o,a=Hr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(y){var x,S;return arguments.length?([x,S]=y,a=p(x,S),f):[a(0),a(1)]}}return f.range=h(Tc),f.rangeRound=h(FT),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function os(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function h5(){var t=is(Cy()(Hr));return t.copy=function(){return os(t,h5())},Zo.apply(t,arguments)}function p5(){var t=qT(Cy()).domain([1,10]);return t.copy=function(){return os(t,p5()).base(t.base())},Zo.apply(t,arguments)}function m5(){var t=WT(Cy());return t.copy=function(){return os(t,m5()).constant(t.constant())},Zo.apply(t,arguments)}function rA(){var t=HT(Cy());return t.copy=function(){return os(t,rA()).exponent(t.exponent())},Zo.apply(t,arguments)}function rte(){return rA.apply(null,arguments).exponent(.5)}function g5(){var t=[],e=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return e((hh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>BJ(t,o/n))},r.copy=function(){return g5(e).domain(t)},Zo.apply(r,arguments)}function Ny(){var t=0,e=.5,r=1,n=1,i,o,a,u,c,f=Hr,h,p=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-o)*(n*w<n*o?u:c),f(p?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,i=h(t=+t),o=h(e=+e),a=h(r=+r),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),n=o<i?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(p=!!w,x):p},x.interpolator=function(w){return arguments.length?(f=w,x):f};function S(w){return function(b){var E,P,O;return arguments.length?([E,P,O]=b,f=pZ(w,[E,P,O]),x):[f(0),f(.5),f(1)]}}return x.range=S(Tc),x.rangeRound=S(FT),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return h=w,i=w(t),o=w(e),a=w(r),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),n=o<i?-1:1,x}}function y5(){var t=is(Ny()(Hr));return t.copy=function(){return os(t,y5())},Zo.apply(t,arguments)}function v5(){var t=qT(Ny()).domain([.1,1,10]);return t.copy=function(){return os(t,v5()).base(t.base())},Zo.apply(t,arguments)}function b5(){var t=WT(Ny());return t.copy=function(){return os(t,b5()).constant(t.constant())},Zo.apply(t,arguments)}function nA(){var t=HT(Ny());return t.copy=function(){return os(t,nA()).exponent(t.exponent())},Zo.apply(t,arguments)}function nte(){return nA.apply(null,arguments).exponent(.5)}const JR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bd,scaleDiverging:y5,scaleDivergingLog:v5,scaleDivergingPow:nA,scaleDivergingSqrt:nte,scaleDivergingSymlog:b5,scaleIdentity:Q$,scaleImplicit:iS,scaleLinear:eg,scaleLog:Z$,scaleOrdinal:LT,scalePoint:Qf,scalePow:GT,scaleQuantile:r5,scaleQuantize:n5,scaleRadial:t5,scaleSequential:h5,scaleSequentialLog:p5,scaleSequentialPow:rA,scaleSequentialQuantile:g5,scaleSequentialSqrt:rte,scaleSequentialSymlog:m5,scaleSqrt:LZ,scaleSymlog:e5,scaleThreshold:i5,scaleTime:ete,scaleUtc:tte,tickFormat:Y$},Symbol.toStringTag,{value:"Module"}));var sw,ZR;function jy(){if(ZR)return sw;ZR=1;var t=_c();function e(r,n,i){for(var o=-1,a=r.length;++o<a;){var u=r[o],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return sw=e,sw}var lw,e2;function x5(){if(e2)return lw;e2=1;function t(e,r){return e>r}return lw=t,lw}var uw,t2;function ite(){if(t2)return uw;t2=1;var t=jy(),e=x5(),r=Sc();function n(i){return i&&i.length?t(i,r,e):void 0}return uw=n,uw}var ote=ite();const Ry=ft(ote);var cw,r2;function _5(){if(r2)return cw;r2=1;function t(e,r){return e<r}return cw=t,cw}var fw,n2;function ate(){if(n2)return fw;n2=1;var t=jy(),e=_5(),r=Sc();function n(i){return i&&i.length?t(i,r,e):void 0}return fw=n,fw}var ste=ate();const My=ft(ste);var dw,i2;function lte(){if(i2)return dw;i2=1;var t=bT(),e=eo(),r=k$(),n=dn();function i(o,a){var u=n(o)?t:r;return u(o,e(a,3))}return dw=i,dw}var hw,o2;function ute(){if(o2)return hw;o2=1;var t=I$(),e=lte();function r(n,i){return t(e(n,i),1)}return hw=r,hw}var cte=ute();const fte=ft(cte);var pw,a2;function dte(){if(a2)return pw;a2=1;var t=NT();function e(r,n){return t(r,n)}return pw=e,pw}var hte=dte();const Dy=ft(hte);var Ac=1e9,pte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oA,Nt=!0,Gn="[DecimalError] ",Js=Gn+"Invalid argument: ",iA=Gn+"Exponent out of range: ",Pc=Math.floor,Fs=Math.pow,mte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,An,yr=1e7,Pt=7,w5=9007199254740991,ig=Pc(w5/Pt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(t){return jo(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,r=e.constructor;return gt(jo(e,new r(t),0,1),r.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return er(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(An))throw Error(Gn+"NaN");if(r.s<1)throw Error(Gn+(r.s?"NaN":"-Infinity"));return r.eq(An)?new n(0):(Nt=!1,e=jo(Ed(r,o),Ed(t,o),o),Nt=!0,gt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T5(e,t):S5(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Gn+"NaN");return r.s?(Nt=!1,e=jo(r,t,0,1).times(t),Nt=!0,r.minus(e)):gt(new n(r),i)};Pe.naturalExponential=Pe.exp=function(){return E5(this)};Pe.naturalLogarithm=Pe.ln=function(){return Ed(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S5(e,t):T5(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Js+t);if(e=er(i)+1,n=i.d.length-1,r=n*Pt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Pe.squareRoot=Pe.sqrt=function(){var t,e,r,n,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Gn+"NaN")}for(t=er(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Vi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(o=n,n=o.plus(jo(u,o,a+2)).times(.5),Vi(o.d).slice(0,a)===(e=Vi(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(gt(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(e!="9999")break;a+=4}return Nt=!0,gt(n,r)};Pe.times=Pe.mul=function(t){var e,r,n,i,o,a,u,c,f,h=this,p=h.constructor,y=h.d,x=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,c=y.length,f=x.length,c<f&&(o=y,y=x,x=o,a=c,c=f,f=a),o=[],a=c+f,n=a;n--;)o.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=o[i]+x[n]*y[i-n-1]+e,o[i--]=u%yr|0,e=u/yr|0;o[i]=(o[i]+e)%yr|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Nt?gt(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Yi(t,0,Ac),e===void 0?e=n.rounding:Yi(e,0,8),gt(r,t+er(r)+1,e))};Pe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=al(n,!0):(Yi(t,0,Ac),e===void 0?e=i.rounding:Yi(e,0,8),n=gt(new i(n),t+1,e),r=al(n,!0,t+1)),r};Pe.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?al(i):(Yi(t,0,Ac),e===void 0?e=o.rounding:Yi(e,0,8),n=gt(new o(i),t+er(i)+1,e),r=al(n.abs(),!1,t+er(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return gt(new e(t),er(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,r,n,i,o,a,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(An);if(u=new c(u),!u.s){if(t.s<1)throw Error(Gn+"Infinity");return u}if(u.eq(An))return u;if(n=c.precision,t.eq(An))return gt(u,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=u.s,a){if((r=h<0?-h:h)<=w5){for(i=new c(An),e=Math.ceil(n/Pt+4),Nt=!1;r%2&&(i=i.times(u),l2(i.d,e)),r=Pc(r/2),r!==0;)u=u.times(u),l2(u.d,e);return Nt=!0,t.s<0?new c(An).div(i):gt(i,n)}}else if(o<0)throw Error(Gn+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Nt=!1,i=t.times(Ed(u,n+f)),Nt=!0,i=E5(i),i.s=o,i};Pe.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=er(i),n=al(i,r<=o.toExpNeg||r>=o.toExpPos)):(Yi(t,1,Ac),e===void 0?e=o.rounding:Yi(e,0,8),i=gt(new o(i),t,e),r=er(i),n=al(i,t<=r||r<=o.toExpNeg,t)),n};Pe.toSignificantDigits=Pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Yi(t,1,Ac),e===void 0?e=n.rounding:Yi(e,0,8)),gt(new n(r),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=er(t),r=t.constructor;return al(t,e<=r.toExpNeg||e>=r.toExpPos)};function S5(t,e){var r,n,i,o,a,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Nt?gt(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(n=c,o=-o,u=f.length):(n=f,i=a,u=c.length),a=Math.ceil(p/Pt),u=a>u?a+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,n=f,f=c,c=n),r=0;o;)r=(c[--o]=c[o]+f[o]+r)/yr|0,c[o]%=yr;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Nt?gt(e,p):e}function Yi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Js+t)}function Vi(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=Pt-n.length,r&&(o+=Ia(r)),o+=n;a=t[e],n=a+"",r=Pt-n.length,r&&(o+=Ia(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var jo=(function(){function t(n,i){var o,a=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+a,n[u]=o%yr|0,a=o/yr|0;return a&&n.unshift(a),n}function e(n,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*yr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var u,c,f,h,p,y,x,S,w,b,E,P,O,M,k,R,I,C,j=n.constructor,U=n.s==i.s?1:-1,V=n.d,L=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(Gn+"Division by zero");for(c=n.e-i.e,I=L.length,k=V.length,x=new j(U),S=x.d=[],f=0;L[f]==(V[f]||0);)++f;if(L[f]>(V[f]||0)&&--c,o==null?P=o=j.precision:a?P=o+(er(n)-er(i))+1:P=o,P<0)return new j(0);if(P=P/Pt+2|0,f=0,I==1)for(h=0,L=L[0],P++;(f<k||h)&&P--;f++)O=h*yr+(V[f]||0),S[f]=O/L|0,h=O%L|0;else{for(h=yr/(L[0]+1)|0,h>1&&(L=t(L,h),V=t(V,h),I=L.length,k=V.length),M=I,w=V.slice(0,I),b=w.length;b<I;)w[b++]=0;C=L.slice(),C.unshift(0),R=L[0],L[1]>=yr/2&&++R;do h=0,u=e(L,w,I,b),u<0?(E=w[0],I!=b&&(E=E*yr+(w[1]||0)),h=E/R|0,h>1?(h>=yr&&(h=yr-1),p=t(L,h),y=p.length,b=w.length,u=e(p,w,y,b),u==1&&(h--,r(p,I<y?C:L,y))):(h==0&&(u=h=1),p=L.slice()),y=p.length,y<b&&p.unshift(0),r(w,p,b),u==-1&&(b=w.length,u=e(L,w,I,b),u<1&&(h++,r(w,I<b?C:L,b))),b=w.length):u===0&&(h++,w=[0]),S[f++]=h,u&&w[0]?w[b++]=V[M]||0:(w=[V[M]],b=1);while((M++<k||w[0]!==void 0)&&P--)}return S[0]||S.shift(),x.e=c,gt(x,a?o+er(x)+1:o)}})();function E5(t,e){var r,n,i,o,a,u,c=0,f=0,h=t.constructor,p=h.precision;if(er(t)>16)throw Error(iA+er(t));if(!t.s)return new h(An);for(Nt=!1,u=p,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(n=Math.log(Fs(2,f))/Math.LN10*2+5|0,u+=n,r=i=o=new h(An),h.precision=u;;){if(i=gt(i.times(t),u),r=r.times(++c),a=o.plus(jo(i,r,u)),Vi(a.d).slice(0,u)===Vi(o.d).slice(0,u)){for(;f--;)o=gt(o.times(o),u);return h.precision=p,e==null?(Nt=!0,gt(o,p)):o}o=a}}function er(t){for(var e=t.e*Pt,r=t.d[0];r>=10;r/=10)e++;return e}function mw(t,e,r){if(e>t.LN10.sd())throw Nt=!0,r&&(t.precision=r),Error(Gn+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function Ia(t){for(var e="";t--;)e+="0";return e}function Ed(t,e){var r,n,i,o,a,u,c,f,h,p=1,y=10,x=t,S=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(Gn+(x.s?"NaN":"-Infinity"));if(x.eq(An))return new w(0);if(e==null?(Nt=!1,f=b):f=e,x.eq(10))return e==null&&(Nt=!0),mw(w,f);if(f+=y,w.precision=f,r=Vi(S),n=r.charAt(0),o=er(x),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=Vi(x.d),n=r.charAt(0),p++;o=er(x),n>1?(x=new w("0."+r),o++):x=new w(n+"."+r.slice(1))}else return c=mw(w,f+2,b).times(o+""),x=Ed(new w(n+"."+r.slice(1)),f-y).plus(c),w.precision=b,e==null?(Nt=!0,gt(x,b)):x;for(u=a=x=jo(x.minus(An),x.plus(An),f),h=gt(x.times(x),f),i=3;;){if(a=gt(a.times(h),f),c=u.plus(jo(a,new w(i),f)),Vi(c.d).slice(0,f)===Vi(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(mw(w,f+2,b).times(o+""))),u=jo(u,new w(p),f),w.precision=b,e==null?(Nt=!0,gt(u,b)):u;u=c,i+=2}}function s2(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Pc(r/Pt),t.d=[],n=(r+1)%Pt,r<0&&(n+=Pt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Pt;n<i;)t.d.push(+e.slice(n,n+=Pt));e=e.slice(n),n=Pt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Nt&&(t.e>ig||t.e<-ig))throw Error(iA+r)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,r){var n,i,o,a,u,c,f,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=Pt,i=e,f=p[h=0];else{if(h=Math.ceil((n+1)/Pt),o=p.length,h>=o)return t;for(f=o=p[h],a=1;o>=10;o/=10)a++;n%=Pt,i=n-Pt+a}if(r!==void 0&&(o=Fs(10,a-i-1),u=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/Fs(10,a-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(o=er(t),p.length=1,e=e-o-1,p[0]=Fs(10,(Pt-e%Pt)%Pt),t.e=Pc(-e/Pt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,o=1,h--):(p.length=h+1,o=Fs(10,Pt-n),p[h]=i>0?(f/Fs(10,a-i)%Fs(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==yr&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=yr)break;p[h--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(Nt&&(t.e>ig||t.e<-ig))throw Error(iA+er(t));return t}function T5(t,e){var r,n,i,o,a,u,c,f,h,p,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Nt?gt(e,x):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),a=f-n,a){for(h=a<0,h?(r=c,a=-a,u=p.length):(r=p,n=f,u=c.length),i=Math.max(Math.ceil(x/Pt),u)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}a=0}for(h&&(r=c,c=p,p=r,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=yr-1;--c[o],c[i]+=yr}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Nt?gt(e,x):e):new y(0)}function al(t,e,r){var n,i=er(t),o=Vi(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ia(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ia(-i-1)+o,r&&(n=r-a)>0&&(o+=Ia(n))):i>=a?(o+=Ia(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+Ia(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=Ia(n))),t.s<0?"-"+o:o}function l2(t,e){if(t.length>e)return t.length=e,!0}function A5(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Js+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return s2(a,o.toString())}else if(typeof o!="string")throw Error(Js+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,mte.test(o))s2(a,o);else throw Error(Js+o)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=A5,i.config=i.set=gte,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function gte(t){if(!t||typeof t!="object")throw Error(Gn+"Object expected");var e,r,n,i=["precision",1,Ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Pc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Js+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Js+r+": "+n);return this}var oA=A5(pte);An=new oA(1);const dt=oA;function yte(t){return _te(t)||xte(t)||bte(t)||vte()}function vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bte(t,e){if(t){if(typeof t=="string")return lS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(t,e)}}function xte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _te(t){if(Array.isArray(t))return lS(t)}function lS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wte=function(e){return e},P5={},I5=function(e){return e===P5},u2=function(e){return function r(){return arguments.length===0||arguments.length===1&&I5(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Ste=function t(e,r){return e===1?r:u2(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(u){return u!==P5}).length;return a>=e?r.apply(void 0,i):t(e-a,u2(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(p){return I5(p)?c.shift():p});return r.apply(void 0,yte(h).concat(c))}))})},Ly=function(e){return Ste(e.length,e)},uS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Ete=Ly(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Tte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return wte;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(u,c){return c(u)},o.apply(void 0,arguments))}},cS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},O5=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(u,c){return u===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function Ate(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function Pte(t,e,r){for(var n=new dt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var Ite=Ly(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Ote=Ly(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),kte=Ly(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const $y={rangeStep:Pte,getDigitCount:Ate,interpolateNumber:Ite,uninterpolateNumber:Ote,uninterpolateTruncation:kte};function fS(t){return jte(t)||Nte(t)||k5(t)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jte(t){if(Array.isArray(t))return dS(t)}function Td(t,e){return Dte(t)||Mte(t,e)||k5(t,e)||Rte()}function Rte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(t,e){if(t){if(typeof t=="string")return dS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dS(t,e)}}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),u;!(n=(u=a.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function Dte(t){if(Array.isArray(t))return t}function C5(t){var e=Td(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function N5(t,e,r){if(t.lte(0))return new dt(0);var n=$y.getDigitCount(t.toNumber()),i=new dt(10).pow(n),o=t.div(i),a=n!==1?.05:.1,u=new dt(Math.ceil(o.div(a).toNumber())).add(r).mul(a),c=u.mul(i);return e?c:new dt(Math.ceil(c))}function Lte(t,e,r){var n=1,i=new dt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new dt(10).pow($y.getDigitCount(t)-1),i=new dt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):r||(i=new dt(Math.floor(t)));var a=Math.floor((e-1)/2),u=Tte(Ete(function(c){return i.add(new dt(c-a).mul(n)).toNumber()}),uS);return u(0,e)}function j5(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var o=N5(new dt(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new dt(0):(a=new dt(t).add(e).div(2),a=a.sub(new dt(a).mod(o)));var u=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new dt(e).sub(a).div(o).toNumber()),f=u+c+1;return f>r?j5(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:o,tickMin:a.sub(new dt(u).mul(o)),tickMax:a.add(new dt(c).mul(o))})}function $te(t){var e=Td(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),u=C5([r,n]),c=Td(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(fS(uS(0,i-1).map(function(){return 1/0}))):[].concat(fS(uS(0,i-1).map(function(){return-1/0})),[h]);return r>n?cS(p):p}if(f===h)return Lte(f,i,o);var y=j5(f,h,a,o),x=y.step,S=y.tickMin,w=y.tickMax,b=$y.rangeStep(S,w.add(new dt(.1).mul(x)),x);return r>n?cS(b):b}function Vte(t,e){var r=Td(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=C5([n,i]),u=Td(a,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),p=N5(new dt(f).sub(c).div(h-1),o,0),y=[].concat(fS($y.rangeStep(new dt(c),new dt(f).sub(new dt(.99).mul(p)),p)),[f]);return n>i?cS(y):y}var Fte=O5($te),Ute=O5(Vte),Bte="Invariant failed";function sl(t,e){throw new Error(Bte)}var zte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},og.apply(this,arguments)}function qte(t,e){return Kte(t)||Gte(t,e)||Hte(t,e)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hte(t,e){if(t){if(typeof t=="string")return c2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c2(t,e)}}function c2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function Kte(t){if(Array.isArray(t))return t}function Xte(t,e){if(t==null)return{};var r=Yte(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D5(n.key),n)}}function Zte(t,e,r){return e&&Jte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ere(t,e,r){return e=ag(e),tre(t,R5()?Reflect.construct(e,r||[],ag(t).constructor):e.apply(t,r))}function tre(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rre(t)}function rre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R5=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ag(t)}function nre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hS(t,e)}function M5(t,e,r){return e=D5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D5(t){var e=ire(t,"string");return Ku(e)=="symbol"?e:e+""}function ire(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vy=(function(t){function e(){return Qte(this,e),ere(this,e,arguments)}return nre(e,t),Zte(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,p=n.yAxis,y=Xte(n,zte),x=Be(y,!1);this.props.direction==="x"&&h.type!=="number"&&sl();var S=c.map(function(w){var b=f(w,u),E=b.x,P=b.y,O=b.value,M=b.errorVal;if(!M)return null;var k=[],R,I;if(Array.isArray(M)){var C=qte(M,2);R=C[0],I=C[1]}else R=I=M;if(o==="vertical"){var j=h.scale,U=P+i,V=U+a,L=U-a,$=j(O-R),Y=j(O+I);k.push({x1:Y,y1:V,x2:Y,y2:L}),k.push({x1:$,y1:U,x2:Y,y2:U}),k.push({x1:$,y1:V,x2:$,y2:L})}else if(o==="horizontal"){var Z=p.scale,ie=E+i,ae=ie-a,X=ie+a,oe=Z(O-R),ne=Z(O+I);k.push({x1:ae,y1:ne,x2:X,y2:ne}),k.push({x1:ie,y1:oe,x2:ie,y2:ne}),k.push({x1:ae,y1:oe,x2:X,y2:oe})}return H.createElement(ht,og({className:"recharts-errorBar",key:"bar-".concat(k.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},x),k.map(function(q){return H.createElement("line",og({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return H.createElement(ht,{className:"recharts-errorBars"},S)}}])})(H.Component);M5(Vy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});M5(Vy,"displayName","ErrorBar");function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){ore(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ore(t,e,r){return e=are(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function are(t){var e=sre(t,"string");return Ad(e)=="symbol"?e:e+""}function sre(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L5=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=En(r,Tu);if(!a)return null;var u=Tu.defaultProps,c=u!==void 0?Rs(Rs({},u),a.props):{},f;return a.props&&a.props.payload?f=a.props&&a.props.payload:o==="children"?f=(n||[]).reduce(function(h,p){var y=p.item,x=p.props,S=x.sectors||x.data||[];return h.concat(S.map(function(w){return{type:a.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(h){var p=h.item,y=p.type.defaultProps,x=y!==void 0?Rs(Rs({},y),p.props):{},S=x.dataKey,w=x.name,b=x.legendType,E=x.hide;return{inactive:E,dataKey:S,type:c.iconType||b||"square",color:aA(p),value:w||S,payload:x}}),Rs(Rs(Rs({},c),Tu.getWithHeight(a,i)),{},{payload:f,item:a})};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function d2(t){return fre(t)||cre(t)||ure(t)||lre()}function lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(t,e){if(t){if(typeof t=="string")return pS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(t,e)}}function cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fre(t){if(Array.isArray(t))return pS(t)}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){Pu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pu(t,e,r){return e=dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dre(t){var e=hre(t,"string");return Pd(e)=="symbol"?e:e+""}function hre(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _i(t,e,r){return it(t)||it(e)?r:lr(e)?qn(t,e,r):We(e)?e(t):r}function Jf(t,e,r,n){var i=fte(t,function(u){return _i(u,e)});if(r==="number"){var o=i.filter(function(u){return _e(u)||parseFloat(u)});return o.length?[My(o),Ry(o)]:[1/0,-1/0]}var a=n?i.filter(function(u){return!it(u)}):i;return a.map(function(u){return lr(u)||u instanceof Date?u:""})}var pre=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(cn(p-h)!==cn(y-p)){var S=[];if(cn(y-p)===cn(c[1]-c[0])){x=y;var w=p+c[1]-c[0];S[0]=Math.min(w,(w+h)/2),S[1]=Math.max(w,(w+h)/2)}else{x=h;var b=y+c[1]-c[0];S[0]=Math.min(p,(b+p)/2),S[1]=Math.max(p,(b+p)/2)}var E=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>E[0]&&e<=E[1]||e>=S[0]&&e<=S[1]){a=i[f].index;break}}else{var P=Math.min(h,y),O=Math.max(h,y);if(e>(P+p)/2&&e<=(O+p)/2){a=i[f].index;break}}}else for(var M=0;M<u;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<u-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===u-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){a=n[M].index;break}return a},aA=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,a=o.stroke,u=o.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:u;break;default:c=u;break}return c},mre=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},u=Object.keys(o),c=0,f=u.length;c<f;c++)for(var h=o[u[c]].stackGroups,p=Object.keys(h),y=0,x=p.length;y<x;y++){var S=h[p[y]],w=S.items,b=S.cateAxisId,E=w.filter(function(I){return Co(I.type).indexOf("Bar")>=0});if(E&&E.length){var P=E[0].type.defaultProps,O=P!==void 0?Ft(Ft({},P),E[0].props):E[0].props,M=O.barSize,k=O[b];a[k]||(a[k]=[]);var R=it(M)?r:M;a[k].push({item:E[0],stackList:E.slice(1),barSize:it(R)?void 0:yi(R,n,0)})}}return a},gre=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,u=e.maxBarSize,c=a.length;if(c<1)return null;var f=yi(r,i,0,!0),h,p=[];if(a[0].barSize===+a[0].barSize){var y=!1,x=i/c,S=a.reduce(function(M,k){return M+k.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&x>0&&(y=!0,x*=.9,S=c*x);var w=(i-S)/2>>0,b={offset:w-f,size:0};h=a.reduce(function(M,k){var R={item:k.item,position:{offset:b.offset+b.size+f,size:y?x:k.barSize}},I=[].concat(d2(M),[R]);return b=I[I.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(C){I.push({item:C,position:b})}),I},p)}else{var E=yi(n,i,0,!0);i-2*E-(c-1)*f<=0&&(f=0);var P=(i-2*E-(c-1)*f)/c;P>1&&(P>>=0);var O=u===+u?Math.min(P,u):P;h=a.reduce(function(M,k,R){var I=[].concat(d2(M),[{item:k.item,position:{offset:E+(P+f)*R+(P-O)/2,size:O}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(C){I.push({item:C,position:I[I.length-1].position})}),I},p)}return h},yre=function(e,r,n,i){var o=n.children,a=n.width,u=n.margin,c=a-(u.left||0)-(u.right||0),f=L5({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,y=h.height,x=f.align,S=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&S==="middle")&&x!=="center"&&_e(e[x]))return Ft(Ft({},e),{},Pu({},x,e[x]+(p||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&S!=="middle"&&_e(e[S]))return Ft(Ft({},e),{},Pu({},S,e[S]+(y||0)))}return e},vre=function(e,r,n){return it(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},$5=function(e,r,n,i,o){var a=r.props.children,u=Wn(a,Vy).filter(function(f){return vre(i,o,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=_i(h,n);if(it(p))return f;var y=Array.isArray(p)?[My(p),Ry(p)]:[p,p],x=c.reduce(function(S,w){var b=_i(h,w,0),E=y[0]-Math.abs(Array.isArray(b)?b[0]:b),P=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,S[0]),Math.max(P,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},bre=function(e,r,n,i,o){var a=r.map(function(u){return $5(e,u,n,o,i)}).filter(function(u){return!it(u)});return a&&a.length?a.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},V5=function(e,r,n,i,o){var a=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&$5(e,c,f,i)||Jf(e,f,n,o)});if(n==="number")return a.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return a.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},F5=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},U5=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var o,a,u=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(a=!0),c.coordinate});return o||u.push(r),a||u.push(n),u},Po=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?cn(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return h.filter(function(p){return!fh(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:o?o[p]:p,index:y,offset:f}})},gw=new WeakMap,Xp=function(e,r){if(typeof r!="function")return e;gw.has(e)||gw.set(e,new WeakMap);var n=gw.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},B5=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,u=e.axisType;if(i==="auto")return a==="radial"&&u==="radiusAxis"?{scale:bd(),realScaleType:"band"}:a==="radial"&&u==="angleAxis"?{scale:eg(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Qf(),realScaleType:"point"}:o==="category"?{scale:bd(),realScaleType:"band"}:{scale:eg(),realScaleType:"linear"};if(ol(i)){var c="scale".concat(by(i));return{scale:(JR[c]||Qf)(),realScaleType:JR[c]?c:"point"}}return We(i)?{scale:i}:{scale:Qf(),realScaleType:"point"}},p2=1e-4,z5=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-p2,a=Math.max(i[0],i[1])+p2,u=e(r[0]),c=e(r[n-1]);(u<o||u>a||c<o||c>a)&&e.domain([r[0],r[n-1]])}},q5=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},W5=function(e,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!_e(e[0])||e[0]<n)&&(o[0]=n),(!_e(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},xre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,u=0;u<r;++u){var c=fh(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=o,e[u][n][1]=o+c,o=e[u][n][1]):(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1])}},_re=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var u=fh(e[a][n][1])?e[a][n][0]:e[a][n][1];u>=0?(e[a][n][0]=o,e[a][n][1]=o+u,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},wre={sign:xre,expand:cX,none:Vu,silhouette:fX,wiggle:dX,positive:_re},Sre=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),o=wre[n],a=uX().keys(i).value(function(u,c){return+_i(u,c,0)}).order(q1).offset(o);return a(e)},Ere=function(e,r,n,i,o,a){if(!e)return null;var u=a?r.reverse():r,c={},f=u.reduce(function(p,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Ft(Ft({},y.type.defaultProps),y.props):y.props,w=S.stackId,b=S.hide;if(b)return p;var E=S[n],P=p[E]||{hasStack:!1,stackGroups:{}};if(lr(w)){var O=P.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(y),P.hasStack=!0,P.stackGroups[w]=O}else P.stackGroups[vy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Ft(Ft({},p),{},Pu({},E,P))},c),h={};return Object.keys(f).reduce(function(p,y){var x=f[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var E=x.stackGroups[b];return Ft(Ft({},w),{},Pu({},b,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:Sre(e,E.items,o)}))},S)}return Ft(Ft({},p),{},Pu({},y,x))},h)},H5=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=Fte(f,o,u);return e.domain([My(h),Ry(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),y=Ute(p,o,u);return{niceTicks:y}}return null},sg=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=_i(a,r.dataKey,r.domain[u]);return it(c)?null:r.scale(c)-o/2+i},G5=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},Tre=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(lr(o)){var a=r[o];if(a){var u=a.items.indexOf(e);return u>=0?a.stackedData[u]:null}}return null},Are=function(e){return e.reduce(function(r,n){return[My(n.concat([r[0]]).filter(_e)),Ry(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},K5=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],u=a.stackedData,c=u.reduce(function(f,h){var p=Are(h.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},m2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mS=function(e,r,n){if(We(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(_e(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(m2.test(e[0])){var o=+m2.exec(e[0])[1];i[0]=r[0]-o}else We(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(_e(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(g2.test(e[1])){var a=+g2.exec(e[1])[1];i[1]=r[1]+a}else We(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},lg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=RT(r,function(p){return p.coordinate}),a=1/0,u=1,c=o.length;u<c;u++){var f=o[u],h=o[u-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},y2=function(e,r,n){return!e||!e.length||Dy(e,qn(n,"type.defaultProps.domain"))?r:e},sA=function(e,r){var n=e.type.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Ft(Ft({},Be(e,!1)),{},{dataKey:i,unit:a,formatter:u,name:o||i,color:aA(e),value:_i(r,i),type:c,payload:r,chartType:f,hide:h})};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){X5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X5(t,e,r){return e=Pre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pre(t){var e=Ire(t,"string");return Id(e)=="symbol"?e:e+""}function Ire(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ore(t,e){return jre(t)||Nre(t,e)||Cre(t,e)||kre()}function kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return b2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b2(t,e)}}function b2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function jre(t){if(Array.isArray(t))return t}var ug=Math.PI/180,Rre=function(e){return e*180/Math.PI},jt=function(e,r,n,i){return{x:e+Math.cos(-ug*i)*n,y:r+Math.sin(-ug*i)*n}},Mre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Dre=function(e,r,n,i,o){var a=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=yi(e.cx,a,a/2),p=yi(e.cy,u,u/2),y=Mre(a,u,n),x=yi(e.innerRadius,y,0),S=yi(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(b,E){var P=r[E],O=P.domain,M=P.reversed,k;if(it(P.range))i==="angleAxis"?k=[c,f]:i==="radiusAxis"&&(k=[x,S]),M&&(k=[k[1],k[0]]);else{k=P.range;var R=k,I=Ore(R,2);c=I[0],f=I[1]}var C=B5(P,o),j=C.realScaleType,U=C.scale;U.domain(O).range(k),z5(U);var V=H5(U,xo(xo({},P),{},{realScaleType:j})),L=xo(xo(xo({},P),V),{},{range:k,radius:S,realScaleType:j,scale:U,cx:h,cy:p,innerRadius:x,outerRadius:S,startAngle:c,endAngle:f});return xo(xo({},b),{},X5({},E,L))},{})},Lre=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},$re=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,u=Lre({x:n,y:i},{x:o,y:a});if(u<=0)return{radius:u};var c=(n-o)/u,f=Math.acos(c);return i>a&&(f=2*Math.PI-f),{radius:u,angle:Rre(f),angleInRadian:f}},Vre=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},Fre=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),u=Math.min(o,a);return e+u*360},x2=function(e,r){var n=e.x,i=e.y,o=$re({x:n,y:i},r),a=o.radius,u=o.angle,c=r.innerRadius,f=r.outerRadius;if(a<c||a>f)return!1;if(a===0)return!0;var h=Vre(r),p=h.startAngle,y=h.endAngle,x=u,S;if(p<=y){for(;x>y;)x-=360;for(;x<p;)x+=360;S=x>=p&&x<=y}else{for(;x>p;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=p}return S?xo(xo({},r),{},{radius:a,angle:Fre(x,r)}):null},Y5=function(e){return!F.isValidElement(e)&&!We(e)&&typeof e!="boolean"?e.className:""};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}var Ure=["offset"];function Bre(t){return Hre(t)||Wre(t)||qre(t)||zre()}function zre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qre(t,e){if(t){if(typeof t=="string")return gS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gS(t,e)}}function Wre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hre(t){if(Array.isArray(t))return gS(t)}function gS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gre(t,e){if(t==null)return{};var r=Kre(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(r),!0).forEach(function(n){Xre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xre(t,e,r){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yre(t){var e=Qre(t,"string");return Od(e)=="symbol"?e:e+""}function Qre(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kd.apply(this,arguments)}var Jre=function(e){var r=e.value,n=e.formatter,i=it(e.children)?r:e.children;return We(n)?n(i):i},Zre=function(e,r){var n=cn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},ene=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,u=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,y=c.outerRadius,x=c.startAngle,S=c.endAngle,w=c.clockWise,b=(p+y)/2,E=Zre(x,S),P=E>=0?1:-1,O,M;i==="insideStart"?(O=x+P*a,M=w):i==="insideEnd"?(O=S-P*a,M=!w):i==="end"&&(O=S+P*a,M=w),M=E<=0?M:!M;var k=jt(f,h,b,O),R=jt(f,h,b,O+(M?1:-1)*359),I="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(M?0:1,`,
    `).concat(R.x,",").concat(R.y),C=it(e.id)?vy("recharts-radial-line-"):e.id;return H.createElement("text",kd({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:C,d:I})),H.createElement("textPath",{xlinkHref:"#".concat(C)},r))},tne=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,u=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,y=(h+p)/2;if(i==="outside"){var x=jt(a,u,f+n,y),S=x.x,w=x.y;return{x:S,y:w,textAnchor:S>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(c+f)/2,E=jt(a,u,b,y),P=E.x,O=E.y;return{x:P,y:O,textAnchor:"middle",verticalAnchor:"middle"}},rne=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,u=a.x,c=a.y,f=a.width,h=a.height,p=h>=0?1:-1,y=p*i,x=p>0?"end":"start",S=p>0?"start":"end",w=f>=0?1:-1,b=w*i,E=w>0?"end":"start",P=w>0?"start":"end";if(o==="top"){var O={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:x};return sr(sr({},O),n?{height:Math.max(c-n.y,0),width:f}:{})}if(o==="bottom"){var M={x:u+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return sr(sr({},M),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(o==="left"){var k={x:u-b,y:c+h/2,textAnchor:E,verticalAnchor:"middle"};return sr(sr({},k),n?{width:Math.max(k.x-n.x,0),height:h}:{})}if(o==="right"){var R={x:u+f+b,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return sr(sr({},R),n?{width:Math.max(n.x+n.width-R.x,0),height:h}:{})}var I=n?{width:f,height:h}:{};return o==="insideLeft"?sr({x:u+b,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},I):o==="insideRight"?sr({x:u+f-b,y:c+h/2,textAnchor:E,verticalAnchor:"middle"},I):o==="insideTop"?sr({x:u+f/2,y:c+y,textAnchor:"middle",verticalAnchor:S},I):o==="insideBottom"?sr({x:u+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:x},I):o==="insideTopLeft"?sr({x:u+b,y:c+y,textAnchor:P,verticalAnchor:S},I):o==="insideTopRight"?sr({x:u+f-b,y:c+y,textAnchor:E,verticalAnchor:S},I):o==="insideBottomLeft"?sr({x:u+b,y:c+h-y,textAnchor:P,verticalAnchor:x},I):o==="insideBottomRight"?sr({x:u+f-b,y:c+h-y,textAnchor:E,verticalAnchor:x},I):wc(o)&&(_e(o.x)||qs(o.x))&&(_e(o.y)||qs(o.y))?sr({x:u+yi(o.x,f),y:c+yi(o.y,h),textAnchor:"end",verticalAnchor:"end"},I):sr({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},nne=function(e){return"cx"in e&&_e(e.cx)};function Pr(t){var e=t.offset,r=e===void 0?5:e,n=Gre(t,Ure),i=sr({offset:r},n),o=i.viewBox,a=i.position,u=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,y=i.textBreakAll;if(!o||it(u)&&it(c)&&!F.isValidElement(f)&&!We(f))return null;if(F.isValidElement(f))return F.cloneElement(f,i);var x;if(We(f)){if(x=F.createElement(f,i),F.isValidElement(x))return x}else x=Jre(i);var S=nne(o),w=Be(i,!0);if(S&&(a==="insideStart"||a==="insideEnd"||a==="end"))return ene(i,x,w);var b=S?tne(i):rne(i);return H.createElement(qu,kd({className:Xe("recharts-label",p)},w,b,{breakAll:y}),x)}Pr.displayName="Label";var Q5=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,x=e.top,S=e.left,w=e.width,b=e.height,E=e.clockWise,P=e.labelViewBox;if(P)return P;if(_e(w)&&_e(b)){if(_e(p)&&_e(y))return{x:p,y,width:w,height:b};if(_e(x)&&_e(S))return{x,y:S,width:w,height:b}}return _e(p)&&_e(y)?{x:p,y,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:E}:e.viewBox?e.viewBox:{}},ine=function(e,r){return e?e===!0?H.createElement(Pr,{key:"label-implicit",viewBox:r}):lr(e)?H.createElement(Pr,{key:"label-implicit",viewBox:r,value:e}):F.isValidElement(e)?e.type===Pr?F.cloneElement(e,{key:"label-implicit",viewBox:r}):H.createElement(Pr,{key:"label-implicit",content:e,viewBox:r}):We(e)?H.createElement(Pr,{key:"label-implicit",content:e,viewBox:r}):wc(e)?H.createElement(Pr,kd({viewBox:r},e,{key:"label-implicit"})):null:null},one=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=Q5(e),a=Wn(i,Pr).map(function(c,f){return F.cloneElement(c,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return a;var u=ine(e.label,r||o);return[u].concat(Bre(a))};Pr.parseViewBox=Q5;Pr.renderCallByParent=one;var yw,w2;function ane(){if(w2)return yw;w2=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return yw=t,yw}var sne=ane();const lne=ft(sne);function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var une=["valueAccessor"],cne=["data","dataKey","clockWise","id","textBreakAll"];function fne(t){return mne(t)||pne(t)||hne(t)||dne()}function dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return yS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yS(t,e)}}function pne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mne(t){if(Array.isArray(t))return yS(t)}function yS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cg.apply(this,arguments)}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){gne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gne(t,e,r){return e=yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yne(t){var e=vne(t,"string");return Cd(e)=="symbol"?e:e+""}function vne(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T2(t,e){if(t==null)return{};var r=bne(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xne=function(e){return Array.isArray(e.value)?lne(e.value):e.value};function Ha(t){var e=t.valueAccessor,r=e===void 0?xne:e,n=T2(t,une),i=n.data,o=n.dataKey,a=n.clockWise,u=n.id,c=n.textBreakAll,f=T2(n,cne);return!i||!i.length?null:H.createElement(ht,{className:"recharts-label-list"},i.map(function(h,p){var y=it(o)?r(h,p):_i(h&&h.payload,o),x=it(u)?{}:{id:"".concat(u,"-").concat(p)};return H.createElement(Pr,cg({},Be(h,!0),f,x,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:Pr.parseViewBox(it(a)?h:E2(E2({},h),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}Ha.displayName="LabelList";function _ne(t,e){return t?t===!0?H.createElement(Ha,{key:"labelList-implicit",data:e}):H.isValidElement(t)||We(t)?H.createElement(Ha,{key:"labelList-implicit",data:e,content:t}):wc(t)?H.createElement(Ha,cg({data:e},t,{key:"labelList-implicit"})):null:null}function wne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Wn(n,Ha).map(function(a,u){return F.cloneElement(a,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var o=_ne(t.label,e);return[o].concat(fne(i))}Ha.renderCallByParent=wne;function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vS.apply(this,arguments)}function A2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(r),!0).forEach(function(n){Sne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sne(t,e,r){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ene(t){var e=Tne(t,"string");return Nd(e)=="symbol"?e:e+""}function Tne(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ane=function(e,r){var n=cn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Yp=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/ug,y=f?o:o+a*p,x=jt(r,n,h,y),S=jt(r,n,i,y),w=f?o-a*p:o,b=jt(r,n,h*Math.cos(p*ug),w);return{center:x,circleTangency:S,lineTangency:b,theta:p}},J5=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,u=e.endAngle,c=Ane(a,u),f=a+c,h=jt(r,n,o,a),p=jt(r,n,o,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var x=jt(r,n,i,a),S=jt(r,n,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},Pne=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=cn(h-f),y=Yp({cx:r,cy:n,radius:o,angle:f,sign:p,cornerRadius:a,cornerIsExternal:c}),x=y.circleTangency,S=y.lineTangency,w=y.theta,b=Yp({cx:r,cy:n,radius:o,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:c}),E=b.circleTangency,P=b.lineTangency,O=b.theta,M=c?Math.abs(f-h):Math.abs(f-h)-w-O;if(M<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):J5({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var k="M ".concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(M>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
  `);if(i>0){var R=Yp({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),I=R.circleTangency,C=R.lineTangency,j=R.theta,U=Yp({cx:r,cy:n,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),V=U.circleTangency,L=U.lineTangency,$=U.theta,Y=c?Math.abs(f-h):Math.abs(f-h)-j-$;if(Y<0&&a===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},Ine={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Z5=function(e){var r=P2(P2({},Ine),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,y=r.className;if(a<o||h===p)return null;var x=Xe("recharts-sector",y),S=a-o,w=yi(u,S,0,!0),b;return w>0&&Math.abs(h-p)<360?b=Pne({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(w,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):b=J5({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:h,endAngle:p}),H.createElement("path",vS({},Be(r,!0),{className:x,d:b,role:"img"}))};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bS.apply(this,arguments)}function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(n){One(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function One(t,e,r){return e=kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kne(t){var e=Cne(t,"string");return jd(e)=="symbol"?e:e+""}function Cne(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k2={curveBasisClosed:JK,curveBasisOpen:ZK,curveBasis:QK,curveBumpX:LK,curveBumpY:$K,curveLinearClosed:eX,curveLinear:_y,curveMonotoneX:tX,curveMonotoneY:rX,curveNatural:nX,curveStep:iX,curveStepAfter:aX,curveStepBefore:oX},Qp=function(e){return e.x===+e.x&&e.y===+e.y},Of=function(e){return e.x},kf=function(e){return e.y},Nne=function(e,r){if(We(e))return e;var n="curve".concat(by(e));return(n==="curveMonotone"||n==="curveBump")&&r?k2["".concat(n).concat(r==="vertical"?"Y":"X")]:k2[n]||_y},jne=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=Nne(n,u),p=f?o.filter(function(w){return Qp(w)}):o,y;if(Array.isArray(a)){var x=f?a.filter(function(w){return Qp(w)}):a,S=p.map(function(w,b){return O2(O2({},w),{},{base:x[b]})});return u==="vertical"?y=Bp().y(kf).x1(Of).x0(function(w){return w.base.x}):y=Bp().x(Of).y1(kf).y0(function(w){return w.base.y}),y.defined(Qp).curve(h),y(S)}return u==="vertical"&&_e(a)?y=Bp().y(kf).x1(Of).x0(a):_e(a)?y=Bp().x(Of).y1(kf).y0(a):y=Q3().x(Of).y(kf),y.defined(Qp).curve(h),y(p)},C2=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?jne(e):i;return F.createElement("path",bS({},Be(e,!1),Dm(e),{className:Xe("recharts-curve",r),d:a,ref:o}))},vw={exports:{}},bw,N2;function Rne(){if(N2)return bw;N2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bw=t,bw}var xw,j2;function Mne(){if(j2)return xw;j2=1;var t=Rne();function e(){}function r(){}return r.resetWarningCache=e,xw=function(){function n(a,u,c,f,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},xw}var R2;function Dne(){return R2||(R2=1,vw.exports=Mne()()),vw.exports}var Lne=Dne();const lt=ft(Lne),{getOwnPropertyNames:$ne,getOwnPropertySymbols:Vne}=Object,{hasOwnProperty:Fne}=Object.prototype;function _w(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Jp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,a=o.get(r),u=o.get(n);if(a&&u)return a===n&&u===r;o.set(r,n),o.set(n,r);const c=t(r,n,i);return o.delete(r),o.delete(n),c}}function Une(t){return t!=null?t[Symbol.toStringTag]:void 0}function M2(t){return $ne(t).concat(Vne(t))}const Bne=Object.hasOwn||((t,e)=>Fne.call(t,e));function vl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const zne="__v",qne="__o",Wne="_owner",{getOwnPropertyDescriptor:D2,keys:L2}=Object;function Hne(t,e){return t.byteLength===e.byteLength&&fg(new Uint8Array(t),new Uint8Array(e))}function Gne(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Kne(t,e){return t.byteLength===e.byteLength&&fg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Xne(t,e){return vl(t.getTime(),e.getTime())}function Yne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Qne(t,e){return t===e}function $2(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let a,u,c=0;for(;(a=o.next())&&!a.done;){const f=e.entries();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(i[p]){p++;continue}const y=a.value,x=u.value;if(r.equals(y[0],x[0],c,p,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const Jne=vl;function Zne(t,e,r){const n=L2(t);let i=n.length;if(L2(e).length!==i)return!1;for(;i-- >0;)if(!eV(t,e,r,n[i]))return!1;return!0}function Cf(t,e,r){const n=M2(t);let i=n.length;if(M2(e).length!==i)return!1;let o,a,u;for(;i-- >0;)if(o=n[i],!eV(t,e,r,o)||(a=D2(t,o),u=D2(e,o),(a||u)&&(!a||!u||a.configurable!==u.configurable||a.enumerable!==u.enumerable||a.writable!==u.writable)))return!1;return!0}function eie(t,e){return vl(t.valueOf(),e.valueOf())}function tie(t,e){return t.source===e.source&&t.flags===e.flags}function V2(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let a,u;for(;(a=o.next())&&!a.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(a.value,u.value,a.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function fg(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function rie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function eV(t,e,r,n){return(n===Wne||n===qne||n===zne)&&(t.$$typeof||e.$$typeof)?!0:Bne(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const nie="[object ArrayBuffer]",iie="[object Arguments]",oie="[object Boolean]",aie="[object DataView]",sie="[object Date]",lie="[object Error]",uie="[object Map]",cie="[object Number]",fie="[object Object]",die="[object RegExp]",hie="[object Set]",pie="[object String]",mie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},gie="[object URL]",yie=Object.prototype.toString;function vie({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:y,areUrlsEqual:x,unknownTagComparators:S}){return function(b,E,P){if(b===E)return!0;if(b==null||E==null)return!1;const O=typeof b;if(O!==typeof E)return!1;if(O!=="object")return O==="number"?u(b,E,P):O==="function"?o(b,E,P):!1;const M=b.constructor;if(M!==E.constructor)return!1;if(M===Object)return c(b,E,P);if(Array.isArray(b))return e(b,E,P);if(M===Date)return n(b,E,P);if(M===RegExp)return h(b,E,P);if(M===Map)return a(b,E,P);if(M===Set)return p(b,E,P);const k=yie.call(b);if(k===sie)return n(b,E,P);if(k===die)return h(b,E,P);if(k===uie)return a(b,E,P);if(k===hie)return p(b,E,P);if(k===fie)return typeof b.then!="function"&&typeof E.then!="function"&&c(b,E,P);if(k===gie)return x(b,E,P);if(k===lie)return i(b,E,P);if(k===iie)return c(b,E,P);if(mie[k])return y(b,E,P);if(k===nie)return t(b,E,P);if(k===aie)return r(b,E,P);if(k===oie||k===cie||k===pie)return f(b,E,P);if(S){let R=S[k];if(!R){const I=Une(b);I&&(R=S[I])}if(R)return R(b,E,P)}return!1}}function bie({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Hne,areArraysEqual:r?Cf:Gne,areDataViewsEqual:Kne,areDatesEqual:Xne,areErrorsEqual:Yne,areFunctionsEqual:Qne,areMapsEqual:r?_w($2,Cf):$2,areNumbersEqual:Jne,areObjectsEqual:r?Cf:Zne,arePrimitiveWrappersEqual:eie,areRegExpsEqual:tie,areSetsEqual:r?_w(V2,Cf):V2,areTypedArraysEqual:r?_w(fg,Cf):fg,areUrlsEqual:rie,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Jp(n.areArraysEqual),o=Jp(n.areMapsEqual),a=Jp(n.areObjectsEqual),u=Jp(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:u})}return n}function xie(t){return function(e,r,n,i,o,a,u){return t(e,r,u)}}function _ie({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=r();return e(u,c,{cache:f,equals:n,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,c){return e(u,c,o)}}const wie=as();as({strict:!0});as({circular:!0});as({circular:!0,strict:!0});as({createInternalComparator:()=>vl});as({strict:!0,createInternalComparator:()=>vl});as({circular:!0,createInternalComparator:()=>vl});as({circular:!0,createInternalComparator:()=>vl,strict:!0});function as(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=bie(t),a=vie(o),u=r?r(a):xie(a);return _ie({circular:e,comparator:a,createState:n,equals:u,strict:i})}function Sie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function F2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):Sie(i)};requestAnimationFrame(n)}function xS(t){"@babel/helpers - typeof";return xS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(t)}function Eie(t){return Iie(t)||Pie(t)||Aie(t)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(t,e){if(t){if(typeof t=="string")return U2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U2(t,e)}}function U2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iie(t){if(Array.isArray(t))return t}function Oie(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,u=Eie(a),c=u[0],f=u.slice(1);if(typeof c=="number"){F2(i.bind(null,f),c);return}i(c),F2(i.bind(null,f));return}xS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){tV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tV(t,e,r){return e=kie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kie(t){var e=Cie(t,"string");return Rd(e)==="symbol"?e:String(e)}function Cie(t,e){if(Rd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nie=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},jie=function(e){return e},Rie=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Zf=function(e,r){return Object.keys(r).reduce(function(n,i){return z2(z2({},n),{},tV({},i,e(i,r[i])))},{})},q2=function(e,r,n){return e.map(function(i){return"".concat(Rie(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Mie(t,e){return $ie(t)||Lie(t,e)||rV(t,e)||Die()}function Die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function $ie(t){if(Array.isArray(t))return t}function Vie(t){return Bie(t)||Uie(t)||rV(t)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rV(t,e){if(t){if(typeof t=="string")return _S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _S(t,e)}}function Uie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bie(t){if(Array.isArray(t))return _S(t)}function _S(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dg=1e-4,nV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},iV=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},W2=function(e,r){return function(n){var i=nV(e,r);return iV(i,n)}},zie=function(e,r){return function(n){var i=nV(e,r),o=[].concat(Vie(i.map(function(a,u){return a*u}).slice(1)),[0]);return iV(o,n)}},H2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,u=1;break;case"ease":i=.25,o=.1,a=.25,u=1;break;case"ease-in":i=.42,o=0,a=1,u=1;break;case"ease-out":i=.42,o=0,a=.58,u=1;break;case"ease-in-out":i=0,o=0,a=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=Mie(f,4);i=h[0],o=h[1],a=h[2],u=h[3]}}}var p=W2(i,a),y=W2(o,u),x=zie(i,a),S=function(E){return E>1?1:E<0?0:E},w=function(E){for(var P=E>1?1:E,O=P,M=0;M<8;++M){var k=p(O)-P,R=x(O);if(Math.abs(k-P)<dg||R<dg)return y(O);O=S(O-k/R)}return y(O)};return w.isStepper=!1,w},qie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,u=a===void 0?17:a,c=function(h,p,y){var x=-(h-p)*n,S=y*o,w=y+(x-S)*u/1e3,b=y*u/1e3+h;return Math.abs(b-p)<dg&&Math.abs(w)<dg?[p,0]:[b,w]};return c.isStepper=!0,c.dt=u,c},Wie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H2(i);case"spring":return qie();default:if(i.split("(")[0]==="cubic-bezier")return H2(i)}return typeof i=="function"?i:null};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function G2(t){return Kie(t)||Gie(t)||oV(t)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kie(t){if(Array.isArray(t))return SS(t)}function K2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(r),!0).forEach(function(n){wS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wS(t,e,r){return e=Xie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xie(t){var e=Yie(t,"string");return Md(e)==="symbol"?e:String(e)}function Yie(t,e){if(Md(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qie(t,e){return eoe(t)||Zie(t,e)||oV(t,e)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oV(t,e){if(t){if(typeof t=="string")return SS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SS(t,e)}}function SS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function eoe(t){if(Array.isArray(t))return t}var hg=function(e,r,n){return e+(r-e)*n},ES=function(e){var r=e.from,n=e.to;return r!==n},toe=function t(e,r,n){var i=Zf(function(o,a){if(ES(a)){var u=e(a.from,a.to,a.velocity),c=Qie(u,2),f=c[0],h=c[1];return Tr(Tr({},a),{},{from:f,velocity:h})}return a},r);return n<1?Zf(function(o,a){return ES(a)?Tr(Tr({},a),{},{velocity:hg(a.velocity,i[o].velocity,n),from:hg(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const roe=(function(t,e,r,n,i){var o=Nie(t,e),a=o.reduce(function(b,E){return Tr(Tr({},b),{},wS({},E,[t[E],e[E]]))},{}),u=o.reduce(function(b,E){return Tr(Tr({},b),{},wS({},E,{from:t[E],velocity:0,to:e[E]}))},{}),c=-1,f,h,p=function(){return null},y=function(){return Zf(function(E,P){return P.from},u)},x=function(){return!Object.values(u).filter(ES).length},S=function(E){f||(f=E);var P=E-f,O=P/r.dt;u=toe(r,u,O),i(Tr(Tr(Tr({},t),e),y())),f=E,x()||(c=requestAnimationFrame(p))},w=function(E){h||(h=E);var P=(E-h)/n,O=Zf(function(k,R){return hg.apply(void 0,G2(R).concat([r(P)]))},a);if(i(Tr(Tr(Tr({},t),e),O)),P<1)c=requestAnimationFrame(p);else{var M=Zf(function(k,R){return hg.apply(void 0,G2(R).concat([r(1)]))},a);i(Tr(Tr(Tr({},t),e),M))}};return p=r.isStepper?S:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}var noe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ioe(t,e){if(t==null)return{};var r=ooe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ooe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ww(t){return uoe(t)||loe(t)||soe(t)||aoe()}function aoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return TS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(t,e)}}function loe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uoe(t){if(Array.isArray(t))return TS(t)}function TS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){Bf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bf(t,e,r){return e=aV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function foe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aV(n.key),n)}}function doe(t,e,r){return e&&foe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aV(t){var e=hoe(t,"string");return Xu(e)==="symbol"?e:String(e)}function hoe(t,e){if(Xu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AS(t,e)}function moe(t){var e=goe();return function(){var n=pg(t),i;if(e){var o=pg(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return PS(this,i)}}function PS(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IS(t)}function IS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function goe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(t)}var Bo=(function(t){poe(r,t);var e=moe(r);function r(n,i){var o;coe(this,r),o=e.call(this,n,i);var a=o.props,u=a.isActive,c=a.attributeName,f=a.from,h=a.to,p=a.steps,y=a.children,x=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(IS(o)),o.changeStyle=o.changeStyle.bind(IS(o)),!u||x<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:h}),PS(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof y=="function")return o.state={style:f},PS(o);o.state={style:c?Bf({},c,f):f}}else o.state={style:{}};return o}return doe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,u=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,y=this.state.style;if(u){if(!a){var x={style:c?Bf({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(x);return}if(!(wie(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=S||f?p:i.to;if(this.state&&y){var b={style:c?Bf({},c,w):w};(c&&y[c]!==w||!c&&y!==w)&&this.setState(b)}this.runAnimation(fi(fi({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,x=roe(a,u,Wie(f),c,this.changeStyle),S=function(){o.stopJSAnimation=x()};this.manager.start([y,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,u=i.begin,c=i.onAnimationStart,f=a[0],h=f.style,p=f.duration,y=p===void 0?0:p,x=function(w,b,E){if(E===0)return w;var P=b.duration,O=b.easing,M=O===void 0?"ease":O,k=b.style,R=b.properties,I=b.onAnimationEnd,C=E>0?a[E-1]:b,j=R||Object.keys(k);if(typeof M=="function"||M==="spring")return[].concat(ww(w),[o.runJSAnimation.bind(o,{from:C.style,to:k,duration:P,easing:M}),P]);var U=q2(j,P,M),V=fi(fi(fi({},C.style),k),{},{transition:U});return[].concat(ww(w),[V,P,I]).filter(jie)};return this.manager.start([c].concat(ww(a.reduce(x,[h,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Oie());var o=i.begin,a=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var w=u?Bf({},u,c):c,b=q2(Object.keys(w),a,f);S.start([h,o,fi(fi({},w),{},{transition:b}),a,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=ioe(i,noe),f=F.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!u||f===0||a<=0)return o;var p=function(x){var S=x.props,w=S.style,b=w===void 0?{}:w,E=S.className,P=F.cloneElement(x,fi(fi({},c),{},{style:fi(fi({},b),h),className:E}));return P};return f===1?p(F.Children.only(o)):H.createElement("div",null,F.Children.map(o,function(y){return p(y)}))}}]),r})(F.PureComponent);Bo.displayName="Animate";Bo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bo.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mg.apply(this,arguments)}function yoe(t,e){return _oe(t)||xoe(t,e)||boe(t,e)||voe()}function voe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,e){if(t){if(typeof t=="string")return Y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y2(t,e)}}function Y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function _oe(t){if(Array.isArray(t))return t}function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){woe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function woe(t,e,r){return e=Soe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Soe(t){var e=Eoe(t,"string");return Dd(e)=="symbol"?e:e+""}function Eoe(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z2=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(a>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,x=4;y<x;y++)p[y]=o[y]>a?a:o[y];h="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(r)),h+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*p[1])),h+="L ".concat(e+n,",").concat(r+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),h+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*p[3])),h+="Z"}else if(a>0&&o===+o&&o>0){var S=Math.min(a,o);h="M ".concat(e,",").concat(r+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*S,`
            L `).concat(e+n,",").concat(r+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*S," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},Toe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(o,o+u),h=Math.max(o,o+u),p=Math.min(a,a+c),y=Math.max(a,a+c);return n>=f&&n<=h&&i>=p&&i<=y}return!1},Aoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lA=function(e){var r=J2(J2({},Aoe),e),n=F.useRef(),i=F.useState(-1),o=yoe(i,2),a=o[0],u=o[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&u(M)}catch{}},[]);var c=r.x,f=r.y,h=r.width,p=r.height,y=r.radius,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,E=r.isAnimationActive,P=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var O=Xe("recharts-rectangle",x);return P?H.createElement(Bo,{canBegin:a>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:w,animationEasing:S,isActive:P},function(M){var k=M.width,R=M.height,I=M.x,C=M.y;return H.createElement(Bo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:E,easing:S},H.createElement("path",mg({},Be(r,!0),{className:O,d:Z2(I,C,k,R,y),ref:n})))}):H.createElement("path",mg({},Be(r,!0),{className:O,d:Z2(c,f,h,p,y)}))},Poe=["points","className","baseLinePoints","connectNulls"];function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(this,arguments)}function Ioe(t,e){if(t==null)return{};var r=Ooe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ooe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eM(t){return joe(t)||Noe(t)||Coe(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(t,e){if(t){if(typeof t=="string")return OS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OS(t,e)}}function Noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(t){if(Array.isArray(t))return OS(t)}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tM=function(e){return e&&e.x===+e.x&&e.y===+e.y},Roe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){tM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ed=function(e,r){var n=Roe(e);r&&(n=[n.reduce(function(o,a){return[].concat(eM(o),eM(a))},[])]);var i=n.map(function(o){return o.reduce(function(a,u,c){return"".concat(a).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Moe=function(e,r,n){var i=ed(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ed(r.reverse(),n).slice(1))},Doe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Ioe(e,Poe);if(!r||!r.length)return null;var u=Xe("recharts-polygon",n);if(i&&i.length){var c=a.stroke&&a.stroke!=="none",f=Moe(r,i,o);return H.createElement("g",{className:u},H.createElement("path",gu({},Be(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:f})),c?H.createElement("path",gu({},Be(a,!0),{fill:"none",d:ed(r,o)})):null,c?H.createElement("path",gu({},Be(a,!0),{fill:"none",d:ed(i,o)})):null)}var h=ed(r,o);return H.createElement("path",gu({},Be(a,!0),{fill:h.slice(-1)==="Z"?a.fill:"none",className:u,d:h}))};function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kS.apply(this,arguments)}var uA=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=Xe("recharts-dot",o);return r===+r&&n===+n&&i===+i?F.createElement("circle",kS({},Be(e,!1),Dm(e),{className:a,cx:r,cy:n,r:i})):null};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}var Loe=["x","y","top","left","width","height","className"];function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CS.apply(this,arguments)}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){Voe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Voe(t,e,r){return e=Foe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Foe(t){var e=Uoe(t,"string");return Ld(e)=="symbol"?e:e+""}function Uoe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Boe(t,e){if(t==null)return{};var r=zoe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qoe=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Woe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,u=a===void 0?0:a,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,y=e.height,x=y===void 0?0:y,S=e.className,w=Boe(e,Loe),b=$oe({x:n,y:o,top:u,left:f,width:p,height:x},w);return!_e(n)||!_e(o)||!_e(p)||!_e(x)||!_e(u)||!_e(f)?null:H.createElement("path",CS({},Be(b,!0),{className:Xe("recharts-cross",S),d:qoe(n,o,p,x,u,f)}))},Sw,nM;function Hoe(){if(nM)return Sw;nM=1;var t=jy(),e=x5(),r=eo();function n(i,o){return i&&i.length?t(i,r(o,2),e):void 0}return Sw=n,Sw}var Goe=Hoe();const Koe=ft(Goe);var Ew,iM;function Xoe(){if(iM)return Ew;iM=1;var t=jy(),e=eo(),r=_5();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return Ew=n,Ew}var Yoe=Xoe();const Qoe=ft(Yoe);var Joe=["cx","cy","angle","ticks","axisLine"],Zoe=["ticks","tick","angle","tickFormatter","stroke"];function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},td.apply(this,arguments)}function oM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(r),!0).forEach(function(n){Fy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aM(t,e){if(t==null)return{};var r=eae(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lV(n.key),n)}}function rae(t,e,r){return e&&sM(t.prototype,e),r&&sM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nae(t,e,r){return e=gg(e),iae(t,sV()?Reflect.construct(e,r||[],gg(t).constructor):e.apply(t,r))}function iae(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oae(t)}function oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(t)}function aae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NS(t,e)}function Fy(t,e,r){return e=lV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lV(t){var e=sae(t,"string");return Yu(e)=="symbol"?e:e+""}function sae(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uy=(function(t){function e(){return tae(this,e),nae(this,e,arguments)}return aae(e,t),rae(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,a=o.angle,u=o.cx,c=o.cy;return jt(u,c,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,u=n.ticks,c=Koe(u,function(h){return h.coordinate||0}),f=Qoe(u,function(h){return h.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,u=n.ticks,c=n.axisLine,f=aM(n,Joe),h=u.reduce(function(S,w){return[Math.min(S[0],w.coordinate),Math.max(S[1],w.coordinate)]},[1/0,-1/0]),p=jt(i,o,h[0],a),y=jt(i,o,h[1],a),x=Ms(Ms(Ms({},Be(f,!1)),{},{fill:"none"},Be(c,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return H.createElement("line",td({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=aM(i,Zoe),p=this.getTickTextAnchor(),y=Be(h,!1),x=Be(a,!1),S=o.map(function(w,b){var E=n.getTickValueCoord(w),P=Ms(Ms(Ms(Ms({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(E.x,", ").concat(E.y,")")},y),{},{stroke:"none",fill:f},x),{},{index:b},E),{},{payload:w});return H.createElement(ht,td({className:Xe("recharts-polar-radius-axis-tick",Y5(a)),key:"tick-".concat(w.coordinate)},es(n.props,w,b)),e.renderTickItem(a,P,c?c(w.value,b):w.value))});return H.createElement(ht,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,a=n.tick;return!i||!i.length?null:H.createElement(ht,{className:Xe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Pr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return H.isValidElement(n)?a=H.cloneElement(n,i):We(n)?a=n(i):a=H.createElement(qu,td({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])})(F.PureComponent);Fy(Uy,"displayName","PolarRadiusAxis");Fy(Uy,"axisType","radiusAxis");Fy(Uy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bs.apply(this,arguments)}function lM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(r),!0).forEach(function(n){By(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cV(n.key),n)}}function uae(t,e,r){return e&&uM(t.prototype,e),r&&uM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cae(t,e,r){return e=yg(e),fae(t,uV()?Reflect.construct(e,r||[],yg(t).constructor):e.apply(t,r))}function fae(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dae(t)}function dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(t)}function hae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jS(t,e)}function By(t,e,r){return e=cV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cV(t){var e=pae(t,"string");return Qu(e)=="symbol"?e:e+""}function pae(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mae=Math.PI/180,cM=1e-5,yh=(function(t){function e(){return lae(this,e),cae(this,e,arguments)}return hae(e,t),uae(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,a=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,p=jt(o,a,u,n.coordinate),y=jt(o,a,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*mae),a;return o>cM?a=i==="outer"?"start":"end":o<-cM?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.radius,u=n.axisLine,c=n.axisLineType,f=Ds(Ds({},Be(this.props,!1)),{},{fill:"none"},Be(u,!1));if(c==="circle")return H.createElement(uA,Bs({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:a}));var h=this.props.ticks,p=h.map(function(y){return jt(i,o,a,y.coordinate)});return H.createElement(Doe,Bs({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Be(this.props,!1),p=Be(a,!1),y=Ds(Ds({},h),{},{fill:"none"},Be(u,!1)),x=o.map(function(S,w){var b=n.getTickLineCoord(S),E=n.getTickTextAnchor(S),P=Ds(Ds(Ds({textAnchor:E},h),{},{stroke:"none",fill:f},p),{},{index:w,payload:S,x:b.x2,y:b.y2});return H.createElement(ht,Bs({className:Xe("recharts-polar-angle-axis-tick",Y5(a)),key:"tick-".concat(S.coordinate)},es(n.props,S,w)),u&&H.createElement("line",Bs({className:"recharts-polar-angle-axis-tick-line"},y,b)),a&&e.renderTickItem(a,P,c?c(S.value,w):S.value))});return H.createElement(ht,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,a=n.axisLine;return o<=0||!i||!i.length?null:H.createElement(ht,{className:Xe("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var a;return H.isValidElement(n)?a=H.cloneElement(n,i):We(n)?a=n(i):a=H.createElement(qu,Bs({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])})(F.PureComponent);By(yh,"displayName","PolarAngleAxis");By(yh,"axisType","angleAxis");By(yh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Tw,fM;function gae(){if(fM)return Tw;fM=1;var t=x$(),e=t(Object.getPrototypeOf,Object);return Tw=e,Tw}var Aw,dM;function yae(){if(dM)return Aw;dM=1;var t=Qo(),e=gae(),r=Jo(),n="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,u=o.hasOwnProperty,c=a.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var p=e(h);if(p===null)return!0;var y=u.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&a.call(y)==c}return Aw=f,Aw}var vae=yae();const bae=ft(vae);var Pw,hM;function xae(){if(hM)return Pw;hM=1;var t=Qo(),e=Jo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Pw=n,Pw}var _ae=xae();const wae=ft(_ae);function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(this,arguments)}function Sae(t,e){return Pae(t)||Aae(t,e)||Tae(t,e)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tae(t,e){if(t){if(typeof t=="string")return pM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(t,e)}}function pM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function Pae(t){if(Array.isArray(t))return t}function mM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(r),!0).forEach(function(n){Iae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iae(t,e,r){return e=Oae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oae(t){var e=kae(t,"string");return $d(e)=="symbol"?e:e+""}function kae(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yM=function(e,r,n,i,o){var a=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-a/2,",").concat(r+o),u+="L ".concat(e+n-a/2-i,",").concat(r+o),u+="L ".concat(e,",").concat(r," Z"),u},Cae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nae=function(e){var r=gM(gM({},Cae),e),n=F.useRef(),i=F.useState(-1),o=Sae(i,2),a=o[0],u=o[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,p=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,w=r.animationDuration,b=r.animationBegin,E=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var P=Xe("recharts-trapezoid",x);return E?H.createElement(Bo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:y,x:c,y:f},duration:w,animationEasing:S,isActive:E},function(O){var M=O.upperWidth,k=O.lowerWidth,R=O.height,I=O.x,C=O.y;return H.createElement(Bo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:S},H.createElement("path",vg({},Be(r,!0),{className:P,d:yM(I,C,M,k,R),ref:n})))}):H.createElement("g",null,H.createElement("path",vg({},Be(r,!0),{className:P,d:yM(c,f,h,p,y)})))},jae=["option","shapeType","propTransformer","activeClassName","isActive"];function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function Rae(t,e){if(t==null)return{};var r=Mae(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(r),!0).forEach(function(n){Dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dae(t,e,r){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lae(t){var e=$ae(t,"string");return Vd(e)=="symbol"?e:e+""}function $ae(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vae(t,e){return bg(bg({},e),t)}function Fae(t,e){return t==="symbols"}function bM(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return H.createElement(lA,r);case"trapezoid":return H.createElement(Nae,r);case"sector":return H.createElement(Z5,r);case"symbols":if(Fae(e))return H.createElement(AT,r);break;default:return null}}function Uae(t){return F.isValidElement(t)?t.props:t}function fV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Vae:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,u=t.isActive,c=Rae(t,jae),f;if(F.isValidElement(e))f=F.cloneElement(e,bg(bg({},c),Uae(e)));else if(We(e))f=e(c);else if(bae(e)&&!wae(e)){var h=i(e,c);f=H.createElement(bM,{shapeType:r,elementProps:h})}else{var p=c;f=H.createElement(bM,{shapeType:r,elementProps:p})}return u?H.createElement(ht,{className:a},f):f}function zy(t,e){return e!=null&&"trapezoids"in t.props}function qy(t,e){return e!=null&&"sectors"in t.props}function Fd(t,e){return e!=null&&"points"in t.props}function Bae(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function zae(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function qae(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Wae(t,e){var r;return zy(t,e)?r=Bae:qy(t,e)?r=zae:Fd(t,e)&&(r=qae),r}function Hae(t,e){var r;return zy(t,e)?r="trapezoids":qy(t,e)?r="sectors":Fd(t,e)&&(r="points"),r}function Gae(t,e){if(zy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fd(t,e)?e.payload:{}}function Kae(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Hae(r,e),o=Gae(r,e),a=n.filter(function(c,f){var h=Dy(o,c),p=r.props[i].filter(function(S){var w=Wae(r,e);return w(S,e)}),y=r.props[i].indexOf(p[p.length-1]),x=f===y;return h&&x}),u=n.indexOf(a[a.length-1]);return u}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RS.apply(this,arguments)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){Xae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xae(t,e,r){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yae(t){var e=Qae(t,"string");return Ud(e)=="symbol"?e:e+""}function Qae(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _M(t){return typeof t=="string"?parseInt(t,10):t}function Jae(t,e){var r="".concat(e.cx||t.cx),n=Number(r),i="".concat(e.cy||t.cy),o=Number(i);return Iw(Iw(Iw({},e),t),{},{cx:n,cy:o})}function wM(t){return H.createElement(fV,RS({shapeType:"sector",propTransformer:Jae},t))}var Zae=["shape","activeShape","activeIndex","cornerRadius"],ese=["value","background"];function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function SM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(r),!0).forEach(function(n){Zs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EM(t,e){if(t==null)return{};var r=tse(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hV(n.key),n)}}function nse(t,e,r){return e&&TM(t.prototype,e),r&&TM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ise(t,e,r){return e=_g(e),ose(t,dV()?Reflect.construct(e,r||[],_g(t).constructor):e.apply(t,r))}function ose(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ase(t)}function ase(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(t)}function sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MS(t,e)}function MS(t,e){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MS(t,e)}function Zs(t,e,r){return e=hV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hV(t){var e=lse(t,"string");return Ju(e)=="symbol"?e:e+""}function lse(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vh=(function(t){function e(){var r;rse(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ise(this,e,[].concat(i)),Zs(r,"state",{isAnimationFinished:!1}),Zs(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(a)&&a()}),Zs(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(a)&&a()}),r}return sse(e,t),nse(e,[{key:"getDeltaAngle",value:function(){var n=this.props,i=n.startAngle,o=n.endAngle,a=cn(o-i),u=Math.min(Math.abs(o-i),360);return a*u}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,a=o.shape,u=o.activeShape,c=o.activeIndex,f=o.cornerRadius,h=EM(o,Zae),p=Be(h,!1);return n.map(function(y,x){var S=x===c,w=mr(mr(mr(mr({},p),{},{cornerRadius:_M(f)},y),es(i.props,y,x)),{},{className:"recharts-radial-bar-sector ".concat(y.className),forceCornerRadius:h.forceCornerRadius,cornerIsExternal:h.cornerIsExternal,isActive:S,option:S?u:a});return H.createElement(wM,xg({},w,{key:"sector-".concat(x)}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return H.createElement(Bo,{begin:u,duration:c,isActive:a,easing:f,from:{t:0},to:{t:1},key:"radialBar-".concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,S=o.map(function(w,b){var E=p&&p[b];if(E){var P=wo(E.startAngle,w.startAngle),O=wo(E.endAngle,w.endAngle);return mr(mr({},w),{},{startAngle:P(x),endAngle:O(x)})}var M=w.endAngle,k=w.startAngle,R=wo(k,M);return mr(mr({},w),{},{endAngle:R(x)})});return H.createElement(ht,null,n.renderSectorsStatically(S))})}},{key:"renderSectors",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Dy(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"renderBackground",value:function(n){var i=this,o=this.props.cornerRadius,a=Be(this.props.background,!1);return n.map(function(u,c){u.value;var f=u.background,h=EM(u,ese);if(!f)return null;var p=mr(mr(mr(mr(mr({cornerRadius:_M(o)},h),{},{fill:"#eee"},f),a),es(i.props,u,c)),{},{index:c,className:Xe("recharts-radial-bar-background-sector",a==null?void 0:a.className),option:f,isActive:!1});return H.createElement(wM,xg({},p,{key:"sector-".concat(c)}))})}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,u=n.background,c=n.isAnimationActive;if(i||!o||!o.length)return null;var f=this.state.isAnimationFinished,h=Xe("recharts-area",a);return H.createElement(ht,{className:h},u&&H.createElement(ht,{className:"recharts-radial-bar-background"},this.renderBackground(o)),H.createElement(ht,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!c||f)&&Ha.renderCallByParent(mr({},this.props),o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(F.PureComponent);Zs(vh,"displayName","RadialBar");Zs(vh,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!Ec.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});Zs(vh,"getComposedData",function(t){var e=t.item,r=t.props,n=t.radiusAxis,i=t.radiusAxisTicks,o=t.angleAxis,a=t.angleAxisTicks,u=t.displayedData,c=t.dataKey,f=t.stackedData,h=t.barPosition,p=t.bandSize,y=t.dataStartIndex,x=q5(h,e);if(!x)return null;var S=o.cx,w=o.cy,b=r.layout,E=e.props,P=E.children,O=E.minPointSize,M=b==="radial"?o:n,k=f?M.scale.domain():null,R=G5({numericAxis:M}),I=Wn(P,Ay),C=u.map(function(j,U){var V,L,$,Y,Z,ie;if(f?V=W5(f[y+U],k):(V=_i(j,c),Array.isArray(V)||(V=[R,V])),b==="radial"){L=sg({axis:n,ticks:i,bandSize:p,offset:x.offset,entry:j,index:U}),Z=o.scale(V[1]),Y=o.scale(V[0]),$=L+x.size;var ae=Z-Y;if(Math.abs(O)>0&&Math.abs(ae)<Math.abs(O)){var X=cn(ae||O)*(Math.abs(O)-Math.abs(ae));Z+=X}ie={background:{cx:S,cy:w,innerRadius:L,outerRadius:$,startAngle:r.startAngle,endAngle:r.endAngle}}}else{L=n.scale(V[0]),$=n.scale(V[1]),Y=sg({axis:o,ticks:a,bandSize:p,offset:x.offset,entry:j,index:U}),Z=Y+x.size;var oe=$-L;if(Math.abs(O)>0&&Math.abs(oe)<Math.abs(O)){var ne=cn(oe||O)*(Math.abs(O)-Math.abs(oe));$+=ne}}return mr(mr(mr(mr({},j),ie),{},{payload:j,value:f?V:V[1],cx:S,cy:w,innerRadius:L,outerRadius:$,startAngle:Y,endAngle:Z},I&&I[U]&&I[U].props),{},{tooltipPayload:[sA(e,j)],tooltipPosition:jt(S,w,(L+$)/2,(Y+Z)/2)})});return{data:C,layout:b}});var Ow,AM;function use(){if(AM)return Ow;AM=1;var t=Math.ceil,e=Math.max;function r(n,i,o,a){for(var u=-1,c=e(t((i-n)/(o||1)),0),f=Array(c);c--;)f[a?c:++u]=n,n+=o;return f}return Ow=r,Ow}var kw,PM;function pV(){if(PM)return kw;PM=1;var t=D$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return kw=n,kw}var Cw,IM;function cse(){if(IM)return Cw;IM=1;var t=use(),e=Ty(),r=pV();function n(i){return function(o,a,u){return u&&typeof u!="number"&&e(o,a,u)&&(a=u=void 0),o=r(o),a===void 0?(a=o,o=0):a=r(a),u=u===void 0?o<a?1:-1:r(u),t(o,a,u,i)}}return Cw=n,Cw}var Nw,OM;function fse(){if(OM)return Nw;OM=1;var t=cse(),e=t();return Nw=e,Nw}var dse=fse();const wg=ft(dse);function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function kM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(r),!0).forEach(function(n){mV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mV(t,e,r){return e=hse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hse(t){var e=pse(t,"string");return Bd(e)=="symbol"?e:e+""}function pse(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mse=["Webkit","Moz","O","ms"],gse=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=mse.reduce(function(o,a){return CM(CM({},o),{},mV({},a+n,r))},{});return i[e]=r,i};function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sg.apply(this,arguments)}function NM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(r),!0).forEach(function(n){Sn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yV(n.key),n)}}function vse(t,e,r){return e&&jM(t.prototype,e),r&&jM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bse(t,e,r){return e=Eg(e),xse(t,gV()?Reflect.construct(e,r||[],Eg(t).constructor):e.apply(t,r))}function xse(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _se(t)}function _se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(t)}function wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DS(t,e)}function Sn(t,e,r){return e=yV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yV(t){var e=Sse(t,"string");return Zu(e)=="symbol"?e:e+""}function Sse(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ese=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=Qf().domain(wg(0,c)).range([o,o+a-u]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},RM=function(e){return e.changedTouches&&!!e.changedTouches.length},ec=(function(t){function e(r){var n;return yse(this,e),n=bse(this,e,[r]),Sn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Sn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Sn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,u=i.startIndex;a==null||a({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),Sn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Sn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Sn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Sn(n,"handleSlideDragStart",function(i){var o=RM(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wse(e,t),vse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,p=Math.min(i,o),y=Math.max(i,o),x=e.getIndexInRange(a,p),S=e.getIndexInRange(a,y);return{startIndex:x-x%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,u=i.dataKey,c=_i(o[n],u,n);return We(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.startIndex,x=c.endIndex,S=c.onChange,w=n.pageX-o;w>0?w=Math.min(w,f+h-p-u,f+h-p-a):w<0&&(w=Math.max(w,f-a,f-u));var b=this.getIndex({startX:a+w,endX:u+w});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:a+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=RM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[a],h=this.props,p=h.x,y=h.width,x=h.travellerWidth,S=h.onChange,w=h.gap,b=h.data,E={startX:this.state.startX,endX:this.state.endX},P=n.pageX-o;P>0?P=Math.min(P,p+y-x-f):P<0&&(P=Math.max(P,p-f)),E[a]=f+P;var O=this.getIndex(E),M=O.startIndex,k=O.endIndex,R=function(){var C=b.length-1;return a==="startX"&&(u>c?M%w===0:k%w===0)||u<c&&k===C||a==="endX"&&(u>c?k%w===0:M%w===0)||u>c&&k===C};this.setState(Sn(Sn({},a,f+P),"brushMoveStartX",n.pageX),function(){S&&R()&&S(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,u=a.scaleValues,c=a.startX,f=a.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var y=p+n;if(!(y===-1||y>=u.length)){var x=u[y];i==="startX"&&x>=f||i==="endX"&&x<=c||this.setState(Sn({},i,x),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,u=n.height,c=n.fill,f=n.stroke;return H.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:a,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,p=F.Children.only(f);return p?H.cloneElement(p,{x:i,y:o,width:a,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,u=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,y=c.traveller,x=c.ariaLabel,S=c.data,w=c.startIndex,b=c.endIndex,E=Math.max(n,this.props.x),P=jw(jw({},Be(this.props,!1)),{},{x:E,y:f,width:h,height:p}),O=x||"Min value: ".concat((o=S[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=S[b])===null||a===void 0?void 0:a.name);return H.createElement(ht,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),u.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,P))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,u=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:a,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,p=h.startX,y=h.endX,x=5,S={pointerEvents:"none",fill:f};return H.createElement(ht,{className:"recharts-brush-texts"},H.createElement(qu,Sg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-x,y:a+u/2},S),this.getTextOfTick(i)),H.createElement(qu,Sg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+x,y:a+u/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,u=n.x,c=n.y,f=n.width,h=n.height,p=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,w=y.isTextActive,b=y.isSlideMoving,E=y.isTravellerMoving,P=y.isTravellerFocused;if(!i||!i.length||!_e(u)||!_e(c)||!_e(f)||!_e(h)||f<=0||h<=0)return null;var O=Xe("recharts-brush",o),M=H.Children.count(a)===1,k=gse("userSelect","none");return H.createElement(ht,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(w||b||E||P||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,u=n.height,c=n.stroke,f=Math.floor(o+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:a,height:u,fill:c,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+a-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+a-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return H.isValidElement(n)?o=H.cloneElement(n,i):We(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,p=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return jw({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:a},o&&o.length?Ese({data:o,width:a,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+a-c]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,u=o-1;u-a>1;){var c=Math.floor((a+u)/2);n[c]>i?u=c:a=c}return i>=n[u]?u:a}}])})(F.PureComponent);Sn(ec,"displayName","Brush");Sn(ec,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rw,MM;function Tse(){if(MM)return Rw;MM=1;var t=jT();function e(r,n){var i;return t(r,function(o,a,u){return i=n(o,a,u),!i}),!!i}return Rw=e,Rw}var Mw,DM;function Ase(){if(DM)return Mw;DM=1;var t=h$(),e=eo(),r=Tse(),n=dn(),i=Ty();function o(a,u,c){var f=n(a)?t:r;return c&&i(a,u,c)&&(u=void 0),f(a,e(u,3))}return Mw=o,Mw}var Pse=Ase();const Ise=ft(Pse);var Hi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Dw,LM;function Ose(){if(LM)return Dw;LM=1;var t=C$();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Dw=e,Dw}var Lw,$M;function kse(){if($M)return Lw;$M=1;var t=Ose(),e=O$(),r=eo();function n(i,o){var a={};return o=r(o,3),e(i,function(u,c,f){t(a,c,o(u,c,f))}),a}return Lw=n,Lw}var Cse=kse();const Nse=ft(Cse);var $w,VM;function jse(){if(VM)return $w;VM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return $w=t,$w}var Vw,FM;function Rse(){if(FM)return Vw;FM=1;var t=jT();function e(r,n){var i=!0;return t(r,function(o,a,u){return i=!!n(o,a,u),i}),i}return Vw=e,Vw}var Fw,UM;function Mse(){if(UM)return Fw;UM=1;var t=jse(),e=Rse(),r=eo(),n=dn(),i=Ty();function o(a,u,c){var f=n(a)?t:e;return c&&i(a,u,c)&&(u=void 0),f(a,r(u,3))}return Fw=o,Fw}var Dse=Mse();const vV=ft(Dse);var Lse=["x","y"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LS.apply(this,arguments)}function BM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(r),!0).forEach(function(n){$se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $se(t,e,r){return e=Vse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vse(t){var e=Fse(t,"string");return zd(e)=="symbol"?e:e+""}function Fse(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Use(t,e){if(t==null)return{};var r=Bse(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zse(t,e){var r=t.x,n=t.y,i=Use(t,Lse),o="".concat(r),a=parseInt(o,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Nf(Nf(Nf(Nf(Nf({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function zM(t){return H.createElement(fV,LS({shapeType:"rectangle",propTransformer:zse,activeClassName:"recharts-active-bar"},t))}var qse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=_e(n)||oK(n);return o?e(n,i):(o||sl(),r)}},Wse=["value","background"],bV;function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Hse(t,e){if(t==null)return{};var r=Gse(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function qM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(r),!0).forEach(function(n){La(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_V(n.key),n)}}function Xse(t,e,r){return e&&WM(t.prototype,e),r&&WM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yse(t,e,r){return e=Ag(e),Qse(t,xV()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function Qse(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jse(t)}function Jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function Zse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$S(t,e)}function $S(t,e){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$S(t,e)}function La(t,e,r){return e=_V(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _V(t){var e=ele(t,"string");return tc(e)=="symbol"?e:e+""}function ele(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bl=(function(t){function e(){var r;Kse(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Yse(this,e,[].concat(i)),La(r,"state",{isAnimationFinished:!1}),La(r,"id",vy("recharts-bar-")),La(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),La(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return Zse(e,t),Xse(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,u=o.dataKey,c=o.activeIndex,f=o.activeBar,h=Be(this.props,!1);return n&&n.map(function(p,y){var x=y===c,S=x?f:a,w=Qt(Qt(Qt({},h),p),{},{isActive:x,option:S,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(ht,Tg({className:"recharts-bar-rectangle"},es(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),H.createElement(zM,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state.prevData;return H.createElement(Bo,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,w=o.map(function(b,E){var P=y&&y[E];if(P){var O=wo(P.x,b.x),M=wo(P.y,b.y),k=wo(P.width,b.width),R=wo(P.height,b.height);return Qt(Qt({},b),{},{x:O(S),y:M(S),width:k(S),height:R(S)})}if(a==="horizontal"){var I=wo(0,b.height),C=I(S);return Qt(Qt({},b),{},{y:b.y+b.height-C,height:C})}var j=wo(0,b.width),U=j(S);return Qt(Qt({},b),{},{width:U})});return H.createElement(ht,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Dy(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,u=i.activeIndex,c=Be(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,y=Hse(f,Wse);if(!p)return null;var x=Qt(Qt(Qt(Qt(Qt({},y),{},{fill:"#eee"},p),c),es(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return H.createElement(zM,Tg({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,u=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=Wn(h,Vy);if(!p)return null;var y=f==="vertical"?a[0].height/2:a[0].width/2,x=function(b,E){var P=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:P,errorVal:_i(b,E)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(ht,S,p.map(function(w){return H.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:a,xAxis:u,yAxis:c,layout:f,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,p=n.width,y=n.height,x=n.isAnimationActive,S=n.background,w=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,E=Xe("recharts-bar",a),P=u&&u.allowDataOverflow,O=c&&c.allowDataOverflow,M=P||O,k=it(w)?this.id:w;return H.createElement(ht,{className:E},P||O?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(k)},H.createElement("rect",{x:P?f:f-p/2,y:O?h:h-y/2,width:P?p:p*2,height:O?y:y*2}))):null,H.createElement(ht,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(k,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,k),(!x||b)&&Ha.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(F.PureComponent);bV=bl;La(bl,"displayName","Bar");La(bl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ec.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});La(bl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,x=q5(n,r);if(!x)return null;var S=e.layout,w=r.type.defaultProps,b=w!==void 0?Qt(Qt({},w),r.props):r.props,E=b.dataKey,P=b.children,O=b.minPointSize,M=S==="horizontal"?a:o,k=f?M.scale.domain():null,R=G5({numericAxis:M}),I=Wn(P,Ay),C=p.map(function(j,U){var V,L,$,Y,Z,ie;f?V=W5(f[h+U],k):(V=_i(j,E),Array.isArray(V)||(V=[R,V]));var ae=qse(O,bV.defaultProps.minPointSize)(V[1],U);if(S==="horizontal"){var X,oe=[a.scale(V[0]),a.scale(V[1])],ne=oe[0],q=oe[1];L=sg({axis:o,ticks:u,bandSize:i,offset:x.offset,entry:j,index:U}),$=(X=q??ne)!==null&&X!==void 0?X:void 0,Y=x.size;var K=ne-q;if(Z=Number.isNaN(K)?0:K,ie={x:L,y:a.y,width:Y,height:a.height},Math.abs(ae)>0&&Math.abs(Z)<Math.abs(ae)){var fe=cn(Z||ae)*(Math.abs(ae)-Math.abs(Z));$-=fe,Z+=fe}}else{var Se=[o.scale(V[0]),o.scale(V[1])],ue=Se[0],te=Se[1];if(L=ue,$=sg({axis:a,ticks:c,bandSize:i,offset:x.offset,entry:j,index:U}),Y=te-ue,Z=x.size,ie={x:o.x,y:$,width:o.width,height:Z},Math.abs(ae)>0&&Math.abs(Y)<Math.abs(ae)){var be=cn(Y||ae)*(Math.abs(ae)-Math.abs(Y));Y+=be}}return Qt(Qt(Qt({},j),{},{x:L,y:$,width:Y,height:Z,value:f?V:V[1],payload:j,background:ie},I&&I[U]&&I[U].props),{},{tooltipPayload:[sA(r,j)],tooltipPosition:{x:L+Y/2,y:$+Z/2}})});return Qt({data:C,layout:S},y)});function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wV(n.key),n)}}function rle(t,e,r){return e&&HM(t.prototype,e),r&&HM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(r),!0).forEach(function(n){Wy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wy(t,e,r){return e=wV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wV(t){var e=nle(t,"string");return qd(e)=="symbol"?e:e+""}function nle(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ile=function(e,r,n,i,o){var a=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!En(f,bl);return h.reduce(function(x,S){var w=r[S],b=w.orientation,E=w.domain,P=w.padding,O=P===void 0?{}:P,M=w.mirror,k=w.reversed,R="".concat(b).concat(M?"Mirror":""),I,C,j,U,V;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var L=E[1]-E[0],$=1/0,Y=w.categoricalDomain.sort(lK);if(Y.forEach(function(Se,ue){ue>0&&($=Math.min((Se||0)-(Y[ue-1]||0),$))}),Number.isFinite($)){var Z=$/L,ie=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(I=Z*ie/2),w.padding==="no-gap"){var ae=yi(e.barCategoryGap,Z*ie),X=Z*ie/2;I=X-ae-(X-ae)/ie*ae}}}i==="xAxis"?C=[n.left+(O.left||0)+(I||0),n.left+n.width-(O.right||0)-(I||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(I||0),n.top+n.height-(O.bottom||0)-(I||0)]:C=w.range,k&&(C=[C[1],C[0]]);var oe=B5(w,o,y),ne=oe.scale,q=oe.realScaleType;ne.domain(E).range(C),z5(ne);var K=H5(ne,di(di({},w),{},{realScaleType:q}));i==="xAxis"?(V=b==="top"&&!M||b==="bottom"&&M,j=n.left,U=p[R]-V*w.height):i==="yAxis"&&(V=b==="left"&&!M||b==="right"&&M,j=p[R]-V*w.width,U=n.top);var fe=di(di(di({},w),K),{},{realScaleType:q,x:j,y:U,scale:ne,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return fe.bandSize=lg(fe,K),!w.hide&&i==="xAxis"?p[R]+=(V?-1:1)*fe.height:w.hide||(p[R]+=(V?-1:1)*fe.width),di(di({},x),{},Wy({},S,fe))},{})},SV=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},ole=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return SV({x:r,y:n},{x:i,y:o})},EV=(function(){function t(e){tle(this,t),this.scale=e}return rle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Wy(EV,"EPS",1e-4);var cA=function(e){var r=Object.keys(e).reduce(function(n,i){return di(di({},n),{},Wy({},i,EV.create(e[i])))},{});return di(di({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,u=o.position;return Nse(i,function(c,f){return r[f].apply(c,{bandAware:a,position:u})})},isInRange:function(i){return vV(i,function(o,a){return r[a].isInRange(o)})}})};function ale(t){return(t%180+180)%180}var sle=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ale(i),a=o*Math.PI/180,u=Math.atan(n/r),c=a>u&&a<Math.PI-u?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},Uw,KM;function lle(){if(KM)return Uw;KM=1;var t=eo(),e=dh(),r=Sy();function n(i){return function(o,a,u){var c=Object(o);if(!e(o)){var f=t(a,3);o=r(o),a=function(p){return f(c[p],p,c)}}var h=i(o,a,u);return h>-1?c[f?o[h]:h]:void 0}}return Uw=n,Uw}var Bw,XM;function ule(){if(XM)return Bw;XM=1;var t=pV();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Bw=e,Bw}var zw,YM;function cle(){if(YM)return zw;YM=1;var t=E$(),e=eo(),r=ule(),n=Math.max;function i(o,a,u){var c=o==null?0:o.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(o,e(a,3),f)}return zw=i,zw}var qw,QM;function fle(){if(QM)return qw;QM=1;var t=lle(),e=cle(),r=t(e);return qw=r,qw}var dle=fle();const hle=ft(dle);var ple=F3();const mle=ft(ple);var gle=mle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),fA=F.createContext(void 0),dA=F.createContext(void 0),TV=F.createContext(void 0),AV=F.createContext({}),PV=F.createContext(void 0),IV=F.createContext(0),OV=F.createContext(0),JM=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,u=e.children,c=e.width,f=e.height,h=gle(o);return H.createElement(fA.Provider,{value:n},H.createElement(dA.Provider,{value:i},H.createElement(AV.Provider,{value:o},H.createElement(TV.Provider,{value:h},H.createElement(PV.Provider,{value:a},H.createElement(IV.Provider,{value:f},H.createElement(OV.Provider,{value:c},u)))))))},yle=function(){return F.useContext(PV)},kV=function(e){var r=F.useContext(fA);r==null&&sl();var n=r[e];return n==null&&sl(),n},vle=function(){var e=F.useContext(fA);return Na(e)},ble=function(){var e=F.useContext(dA),r=hle(e,function(n){return vV(n.domain,Number.isFinite)});return r||Na(e)},CV=function(e){var r=F.useContext(dA);r==null&&sl();var n=r[e];return n==null&&sl(),n},xle=function(){var e=F.useContext(TV);return e},_le=function(){return F.useContext(AV)},hA=function(){return F.useContext(OV)},pA=function(){return F.useContext(IV)};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jV(n.key),n)}}function Ele(t,e,r){return e&&Sle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tle(t,e,r){return e=Pg(e),Ale(t,NV()?Reflect.construct(e,r||[],Pg(t).constructor):e.apply(t,r))}function Ale(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ple(t)}function Ple(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NV=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}function Ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VS(t,e)}function ZM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(r),!0).forEach(function(n){mA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mA(t,e,r){return e=jV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jV(t){var e=Ole(t,"string");return rc(e)=="symbol"?e:e+""}function Ole(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kle(t,e){return Rle(t)||jle(t,e)||Nle(t,e)||Cle()}function Cle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(t,e){if(t){if(typeof t=="string")return tD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tD(t,e)}}function tD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function Rle(t){if(Array.isArray(t))return t}function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FS.apply(this,arguments)}var Mle=function(e,r){var n;return H.isValidElement(e)?n=H.cloneElement(e,r):We(e)?n=e(r):n=H.createElement("line",FS({},r,{className:"recharts-reference-line-line"})),n},Dle=function(e,r,n,i,o,a,u,c,f){var h=o.x,p=o.y,y=o.width,x=o.height;if(n){var S=f.y,w=e.y.apply(S,{position:a});if(Hi(f,"discard")&&!e.y.isInRange(w))return null;var b=[{x:h+y,y:w},{x:h,y:w}];return c==="left"?b.reverse():b}if(r){var E=f.x,P=e.x.apply(E,{position:a});if(Hi(f,"discard")&&!e.x.isInRange(P))return null;var O=[{x:P,y:p+x},{x:P,y:p}];return u==="top"?O.reverse():O}if(i){var M=f.segment,k=M.map(function(R){return e.apply(R,{position:a})});return Hi(f,"discard")&&Ise(k,function(R){return!e.isInRange(R)})?null:k}return null};function Lle(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,u=t.className,c=t.alwaysShow,f=yle(),h=kV(i),p=CV(o),y=xle();if(!f||!y)return null;No(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=cA({x:h.scale,y:p.scale}),S=lr(e),w=lr(r),b=n&&n.length===2,E=Dle(x,S,w,b,y,t.position,h.orientation,p.orientation,t);if(!E)return null;var P=kle(E,2),O=P[0],M=O.x,k=O.y,R=P[1],I=R.x,C=R.y,j=Hi(t,"hidden")?"url(#".concat(f,")"):void 0,U=eD(eD({clipPath:j},Be(t,!0)),{},{x1:M,y1:k,x2:I,y2:C});return H.createElement(ht,{className:Xe("recharts-reference-line",u)},Mle(a,U),Pr.renderCallByParent(t,ole({x1:M,y1:k,x2:I,y2:C})))}var Hy=(function(t){function e(){return wle(this,e),Tle(this,e,arguments)}return Ile(e,t),Ele(e,[{key:"render",value:function(){return H.createElement(Lle,this.props)}}])})(H.Component);mA(Hy,"displayName","ReferenceLine");mA(Hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},US.apply(this,arguments)}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function rD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(r),!0).forEach(function(n){Gy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MV(n.key),n)}}function Fle(t,e,r){return e&&Vle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,r){return e=Ig(e),Ble(t,RV()?Reflect.construct(e,r||[],Ig(t).constructor):e.apply(t,r))}function Ble(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zle(t)}function zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(t)}function qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BS(t,e)}function BS(t,e){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BS(t,e)}function Gy(t,e,r){return e=MV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MV(t){var e=Wle(t,"string");return nc(e)=="symbol"?e:e+""}function Wle(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hle=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=cA({x:i.scale,y:o.scale}),u=a.apply({x:r,y:n},{bandAware:!0});return Hi(e,"discard")&&!a.isInRange(u)?null:u},Ky=(function(t){function e(){return $le(this,e),Ule(this,e,arguments)}return qle(e,t),Fle(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,u=n.alwaysShow,c=n.clipPathId,f=lr(i),h=lr(o);if(No(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Hle(this.props);if(!p)return null;var y=p.x,x=p.y,S=this.props,w=S.shape,b=S.className,E=Hi(this.props,"hidden")?"url(#".concat(c,")"):void 0,P=nD(nD({clipPath:E},Be(this.props,!0)),{},{cx:y,cy:x});return H.createElement(ht,{className:Xe("recharts-reference-dot",b)},e.renderDot(w,P),Pr.renderCallByParent(this.props,{x:y-a,y:x-a,width:2*a,height:2*a}))}}])})(H.Component);Gy(Ky,"displayName","ReferenceDot");Gy(Ky,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gy(Ky,"renderDot",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):We(t)?r=t(e):r=H.createElement(uA,US({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zS.apply(this,arguments)}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function iD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(r),!0).forEach(function(n){Xy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LV(n.key),n)}}function Xle(t,e,r){return e&&Kle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yle(t,e,r){return e=Og(e),Qle(t,DV()?Reflect.construct(e,r||[],Og(t).constructor):e.apply(t,r))}function Qle(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jle(t)}function Jle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(t)}function Zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qS(t,e)}function Xy(t,e,r){return e=LV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LV(t){var e=eue(t,"string");return ic(e)=="symbol"?e:e+""}function eue(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tue=function(e,r,n,i,o){var a=o.x1,u=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var y=cA({x:h.scale,y:p.scale}),x={x:e?y.x.apply(a,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Hi(o,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:SV(x,S)},Yy=(function(t){function e(){return Gle(this,e),Yle(this,e,arguments)}return Zle(e,t),Xle(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;No(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=lr(i),y=lr(o),x=lr(a),S=lr(u),w=this.props.shape;if(!p&&!y&&!x&&!S&&!w)return null;var b=tue(p,y,x,S,this.props);if(!b&&!w)return null;var E=Hi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return H.createElement(ht,{className:Xe("recharts-reference-area",c)},e.renderRect(w,oD(oD({clipPath:E},Be(this.props,!0)),b)),Pr.renderCallByParent(this.props,b))}}])})(H.Component);Xy(Yy,"displayName","ReferenceArea");Xy(Yy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xy(Yy,"renderRect",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):We(t)?r=t(e):r=H.createElement(lA,zS({},e,{className:"recharts-reference-area-rect"})),r});function $V(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function rue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return sle(n,r)}function nue(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,u=t.height;return e===1?{start:n?i:o,end:n?i+a:o+u}:{start:n?i+a:o+u,end:n?i:o}}function kg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function iue(t,e){return $V(t,e+1)}function oue(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,u=e.end,c=0,f=1,h=a,p=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:$V(n,f)};var w=c,b,E=function(){return b===void 0&&(b=r(S,w)),b},P=S.coordinate,O=c===0||kg(t,P,E,h,u);O||(c=0,h=a,f+=1),O&&(h=P+t*(E()/2+i),c+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function aD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(r),!0).forEach(function(n){aue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aue(t,e,r){return e=sue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sue(t){var e=lue(t,"string");return Wd(e)=="symbol"?e:e+""}function lue(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uue(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,u=e.start,c=e.end,f=function(y){var x=o[y],S,w=function(){return S===void 0&&(S=r(x,y)),S};if(y===a-1){var b=t*(x.coordinate+t*w()/2-c);o[y]=x=Dr(Dr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else o[y]=x=Dr(Dr({},x),{},{tickCoord:x.coordinate});var E=kg(t,x.tickCoord,w,u,c);E&&(c=x.tickCoord-t*(w()/2+i),o[y]=Dr(Dr({},x),{},{isShow:!0}))},h=a-1;h>=0;h--)f(h);return o}function cue(t,e,r,n,i,o){var a=(n||[]).slice(),u=a.length,c=e.start,f=e.end;if(o){var h=n[u-1],p=r(h,u-1),y=t*(h.coordinate+t*p/2-f);a[u-1]=h=Dr(Dr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var x=kg(t,h.tickCoord,function(){return p},c,f);x&&(f=h.tickCoord-t*(p/2+i),a[u-1]=Dr(Dr({},h),{},{isShow:!0}))}for(var S=o?u-1:u,w=function(P){var O=a[P],M,k=function(){return M===void 0&&(M=r(O,P)),M};if(P===0){var R=t*(O.coordinate-t*k()/2-c);a[P]=O=Dr(Dr({},O),{},{tickCoord:R<0?O.coordinate-R*t:O.coordinate})}else a[P]=O=Dr(Dr({},O),{},{tickCoord:O.coordinate});var I=kg(t,O.tickCoord,k,c,f);I&&(c=O.tickCoord+t*(k()/2+i),a[P]=Dr(Dr({},O),{},{isShow:!0}))},b=0;b<S;b++)w(b);return a}function gA(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(_e(c)||Ec.isSsr)return iue(i,typeof c=="number"&&_e(c)?c:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",S=h&&x==="width"?Yf(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(O,M){var k=We(f)?f(O.value,M):O.value;return x==="width"?rue(Yf(k,{fontSize:e,letterSpacing:r}),S,p):Yf(k,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?cn(i[1].coordinate-i[0].coordinate):1,E=nue(o,b,x);return c==="equidistantPreserveStart"?oue(b,E,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=cue(b,E,w,i,a,c==="preserveStartEnd"):y=uue(b,E,w,i,a),y.filter(function(P){return P.isShow}))}var fue=["viewBox"],due=["viewBox"],hue=["ticks"];function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yu.apply(this,arguments)}function sD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(r),!0).forEach(function(n){yA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ww(t,e){if(t==null)return{};var r=pue(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FV(n.key),n)}}function gue(t,e,r){return e&&lD(t.prototype,e),r&&lD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yue(t,e,r){return e=Cg(e),vue(t,VV()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function vue(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bue(t)}function bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WS(t,e)}function yA(t,e,r){return e=FV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FV(t){var e=_ue(t,"string");return oc(e)=="symbol"?e:e+""}function _ue(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ic=(function(t){function e(r){var n;return mue(this,e),n=yue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return xue(e,t),gue(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=Ww(n,fue),u=this.props,c=u.viewBox,f=Ww(u,due);return!Eu(o,c)||!Eu(a,f)||!Eu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,y=i.tickMargin,x,S,w,b,E,P,O=p?-1:1,M=n.tickSize||h,k=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=S=n.coordinate,b=a+ +!p*c,w=b-O*M,P=w-O*y,E=k;break;case"left":w=b=n.coordinate,S=o+ +!p*u,x=S-O*M,E=x-O*y,P=k;break;case"right":w=b=n.coordinate,S=o+ +p*u,x=S+O*M,E=x+O*y,P=k;break;default:x=S=n.coordinate,b=a+ +p*c,w=b+O*M,P=w+O*y,E=k;break}return{line:{x1:x,y1:w,x2:S,y2:b},tick:{x:E,y:P}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,p=ar(ar(ar({},Be(this.props,!1)),Be(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=ar(ar({},p),{},{x1:i,y1:o+y*u,x2:i+a,y2:o+y*u})}else{var x=+(c==="left"&&!f||c==="right"&&f);p=ar(ar({},p),{},{x1:i+x*a,y1:o,x2:i+x*a,y2:o+u})}return H.createElement("line",yu({},p,{className:Xe("recharts-cartesian-axis-line",qn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,p=u.tickFormatter,y=u.unit,x=gA(ar(ar({},this.props),{},{ticks:n}),i,o),S=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Be(this.props,!1),E=Be(h,!1),P=ar(ar({},b),{},{fill:"none"},Be(c,!1)),O=x.map(function(M,k){var R=a.getTickLineCoord(M),I=R.line,C=R.tick,j=ar(ar(ar(ar({textAnchor:S,verticalAnchor:w},b),{},{stroke:"none",fill:f},E),C),{},{index:k,payload:M,visibleTicksCount:x.length,tickFormatter:p});return H.createElement(ht,yu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},es(a.props,M,k)),c&&H.createElement("line",yu({},P,I,{className:Xe("recharts-cartesian-axis-tick-line",qn(c,"className"))})),h&&e.renderTickItem(h,j,"".concat(We(p)?p(M.value,k):M.value).concat(y||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,y=p.ticks,x=Ww(p,hue),S=y;return We(c)&&(S=y&&y.length>0?c(this.props):c(x)),a<=0||u<=0||!S||!S.length?null:H.createElement(ht,{className:Xe("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Pr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a,u=Xe(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(n)?a=H.cloneElement(n,ar(ar({},i),{},{className:u})):We(n)?a=n(ar(ar({},i),{},{className:u})):a=H.createElement(qu,yu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(F.Component);yA(Ic,"displayName","CartesianAxis");yA(Ic,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wue=["x1","y1","x2","y2","key"],Sue=["offset"];function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function uD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(r),!0).forEach(function(n){Eue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eue(t,e,r){return e=Tue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tue(t){var e=Aue(t,"string");return ll(e)=="symbol"?e:e+""}function Aue(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gs.apply(this,arguments)}function cD(t,e){if(t==null)return{};var r=Pue(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Iue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,u=e.height,c=e.ry;return H.createElement("rect",{x:i,y:o,ry:c,width:a,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function UV(t,e){var r;if(H.isValidElement(t))r=H.cloneElement(t,e);else if(We(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,u=e.key,c=cD(e,wue),f=Be(c,!1);f.offset;var h=cD(f,Sue);r=H.createElement("line",Gs({},h,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:u}))}return r}function Oue(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(u,c){var f=Vr(Vr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return UV(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function kue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(u,c){var f=Vr(Vr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return UV(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Cue(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==h[0]&&h.unshift(0);var p=h.map(function(y,x){var S=!h[x+1],w=S?i+a-y:h[x+1]-y;if(w<=0)return null;var b=x%e.length;return H.createElement("rect",{key:"react-".concat(x),y,x:n,height:w,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Nue(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(y){return Math.round(y+o-o)}).sort(function(y,x){return y-x});o!==h[0]&&h.unshift(0);var p=h.map(function(y,x){var S=!h[x+1],w=S?o+u-y:h[x+1]-y;if(w<=0)return null;var b=x%n.length;return H.createElement("rect",{key:"react-".concat(x),x:y,y:a,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var jue=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return U5(gA(Vr(Vr(Vr({},Ic.defaultProps),n),{},{ticks:Po(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},Rue=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return U5(gA(Vr(Vr(Vr({},Ic.defaultProps),n),{},{ticks:Po(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},cu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function BV(t){var e,r,n,i,o,a,u=hA(),c=pA(),f=_le(),h=Vr(Vr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:cu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:cu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:cu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:cu.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:cu.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:cu.verticalFill,x:_e(t.x)?t.x:f.left,y:_e(t.y)?t.y:f.top,width:_e(t.width)?t.width:f.width,height:_e(t.height)?t.height:f.height}),p=h.x,y=h.y,x=h.width,S=h.height,w=h.syncWithTicks,b=h.horizontalValues,E=h.verticalValues,P=vle(),O=ble();if(!_e(x)||x<=0||!_e(S)||S<=0||!_e(p)||p!==+p||!_e(y)||y!==+y)return null;var M=h.verticalCoordinatesGenerator||jue,k=h.horizontalCoordinatesGenerator||Rue,R=h.horizontalPoints,I=h.verticalPoints;if((!R||!R.length)&&We(k)){var C=b&&b.length,j=k({yAxis:O?Vr(Vr({},O),{},{ticks:C?b:O.ticks}):void 0,width:u,height:c,offset:f},C?!0:w);No(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ll(j),"]")),Array.isArray(j)&&(R=j)}if((!I||!I.length)&&We(M)){var U=E&&E.length,V=M({xAxis:P?Vr(Vr({},P),{},{ticks:U?E:P.ticks}):void 0,width:u,height:c,offset:f},U?!0:w);No(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ll(V),"]")),Array.isArray(V)&&(I=V)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(Iue,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),H.createElement(Oue,Gs({},h,{offset:f,horizontalPoints:R,xAxis:P,yAxis:O})),H.createElement(kue,Gs({},h,{offset:f,verticalPoints:I,xAxis:P,yAxis:O})),H.createElement(Cue,Gs({},h,{horizontalPoints:R})),H.createElement(Nue,Gs({},h,{verticalPoints:I})))}BV.displayName="CartesianGrid";function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function Mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Due(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WV(n.key),n)}}function Lue(t,e,r){return e&&Due(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ue(t,e,r){return e=Ng(e),Vue(t,zV()?Reflect.construct(e,r||[],Ng(t).constructor):e.apply(t,r))}function Vue(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fue(t)}function Fue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zV=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(t)}function Uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HS(t,e)}function qV(t,e,r){return e=WV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WV(t){var e=Bue(t,"string");return ac(e)=="symbol"?e:e+""}function Bue(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GS.apply(this,arguments)}function zue(t){var e=t.xAxisId,r=hA(),n=pA(),i=kV(e);return i==null?null:F.createElement(Ic,GS({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Po(a,!0)}}))}var Qy=(function(t){function e(){return Mue(this,e),$ue(this,e,arguments)}return Uue(e,t),Lue(e,[{key:"render",value:function(){return F.createElement(zue,this.props)}}])})(F.Component);qV(Qy,"displayName","XAxis");qV(Qy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KV(n.key),n)}}function Hue(t,e,r){return e&&Wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gue(t,e,r){return e=jg(e),Kue(t,HV()?Reflect.construct(e,r||[],jg(t).constructor):e.apply(t,r))}function Kue(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xue(t)}function Xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}function Yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KS(t,e)}function GV(t,e,r){return e=KV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KV(t){var e=Que(t,"string");return sc(e)=="symbol"?e:e+""}function Que(t,e){if(sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XS.apply(this,arguments)}var Jue=function(e){var r=e.yAxisId,n=hA(),i=pA(),o=CV(r);return o==null?null:F.createElement(Ic,XS({},o,{className:Xe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Po(u,!0)}}))},Jy=(function(t){function e(){return que(this,e),Gue(this,e,arguments)}return Yue(e,t),Hue(e,[{key:"render",value:function(){return F.createElement(Jue,this.props)}}])})(F.Component);GV(Jy,"displayName","YAxis");GV(Jy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fD(t){return rce(t)||tce(t)||ece(t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ece(t,e){if(t){if(typeof t=="string")return YS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YS(t,e)}}function tce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rce(t){if(Array.isArray(t))return YS(t)}function YS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var QS=function(e,r,n,i,o){var a=Wn(e,Hy),u=Wn(e,Ky),c=[].concat(fD(a),fD(u)),f=Wn(e,Yy),h="".concat(i,"Id"),p=i[0],y=r;if(c.length&&(y=c.reduce(function(w,b){if(b.props[h]===n&&Hi(b.props,"extendDomain")&&_e(b.props[p])){var E=b.props[p];return[Math.min(w[0],E),Math.max(w[1],E)]}return w},y)),f.length){var x="".concat(p,"1"),S="".concat(p,"2");y=f.reduce(function(w,b){if(b.props[h]===n&&Hi(b.props,"extendDomain")&&_e(b.props[x])&&_e(b.props[S])){var E=b.props[x],P=b.props[S];return[Math.min(w[0],E,P),Math.max(w[1],E,P)]}return w},y)}return o&&o.length&&(y=o.reduce(function(w,b){return _e(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},y)),y},Hw={exports:{}},dD;function nce(){return dD||(dD=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||c,y),S=r?r+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,x=p.length,S=new Array(x);y<x;y++)S[y]=p[y].fn;return S},u.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,y,x,S){var w=r?r+f:f;if(!this._events[w])return!1;var b=this._events[w],E=arguments.length,P,O;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,p),!0;case 4:return b.fn.call(b.context,h,p,y),!0;case 5:return b.fn.call(b.context,h,p,y,x),!0;case 6:return b.fn.call(b.context,h,p,y,x,S),!0}for(O=1,P=new Array(E-1);O<E;O++)P[O-1]=arguments[O];b.fn.apply(b.context,P)}else{var M=b.length,k;for(O=0;O<M;O++)switch(b[O].once&&this.removeListener(f,b[O].fn,void 0,!0),E){case 1:b[O].fn.call(b[O].context);break;case 2:b[O].fn.call(b[O].context,h);break;case 3:b[O].fn.call(b[O].context,h,p);break;case 4:b[O].fn.call(b[O].context,h,p,y);break;default:if(!P)for(k=1,P=new Array(E-1);k<E;k++)P[k-1]=arguments[k];b[O].fn.apply(b[O].context,P)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,y){var x=r?r+f:f;if(!this._events[x])return this;if(!h)return a(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!y||S.once)&&(!p||S.context===p)&&a(this,x);else{for(var w=0,b=[],E=S.length;w<E;w++)(S[w].fn!==h||y&&!S[w].once||p&&S[w].context!==p)&&b.push(S[w]);b.length?this._events[x]=b.length===1?b[0]:b:a(this,x)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Hw)),Hw.exports}var ice=nce();const oce=ft(ice);var Gw=new oce,Kw="recharts.syncMouseEvents";function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XV(n.key),n)}}function lce(t,e,r){return e&&sce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xw(t,e,r){return e=XV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XV(t){var e=uce(t,"string");return Hd(e)=="symbol"?e:e+""}function uce(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cce=(function(){function t(){ace(this,t),Xw(this,"activeIndex",0),Xw(this,"coordinateList",[]),Xw(this,"layout","horizontal")}return lce(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,u=a===void 0?null:a,c=r.layout,f=c===void 0?null:c,h=r.offset,p=h===void 0?null:h,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+c+f,y=a+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])})();function fce(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&_e(n)&&_e(i))return!0}return!1}function dce(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function YV(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=jt(e,r,n,i),u=jt(e,r,n,o);return{points:[a,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function hce(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,y=jt(u,c,f,p),x=jt(u,c,h,p);n=y.x,i=y.y,o=x.x,a=x.y}else return YV(e);return[{x:n,y:i},{x:o,y:a}]}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function hD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(r),!0).forEach(function(n){pce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pce(t,e,r){return e=mce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mce(t){var e=gce(t,"string");return Gd(e)=="symbol"?e:e+""}function gce(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yce(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!o||!a||y!=="ScatterChart"&&i!=="axis")return null;var S,w=C2;if(y==="ScatterChart")S=a,w=Woe;else if(y==="BarChart")S=dce(p,a,c,h),w=lA;else if(p==="radial"){var b=YV(a),E=b.cx,P=b.cy,O=b.radius,M=b.startAngle,k=b.endAngle;S={cx:E,cy:P,startAngle:M,endAngle:k,innerRadius:O,outerRadius:O},w=Z5}else S={points:hce(p,a,c)},w=C2;var R=Zp(Zp(Zp(Zp({stroke:"#ccc",pointerEvents:"none"},c),S),Be(x,!1)),{},{payload:u,payloadIndex:f,className:Xe("recharts-tooltip-cursor",x.className)});return F.isValidElement(x)?F.cloneElement(x,R):F.createElement(w,R)}var vce=["item"],bce=["children","className","width","height","style","compact","title","desc"];function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vu.apply(this,arguments)}function pD(t,e){return wce(t)||_ce(t,e)||JV(t,e)||xce()}function xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function wce(t){if(Array.isArray(t))return t}function mD(t,e){if(t==null)return{};var r=Sce(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZV(n.key),n)}}function Ace(t,e,r){return e&&Tce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pce(t,e,r){return e=Rg(e),Ice(t,QV()?Reflect.construct(e,r||[],Rg(t).constructor):e.apply(t,r))}function Ice(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oce(t)}function Oce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}function kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JS(t,e)}function JS(t,e){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JS(t,e)}function uc(t){return jce(t)||Nce(t)||JV(t)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JV(t,e){if(t){if(typeof t=="string")return ZS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(t,e)}}function Nce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jce(t){if(Array.isArray(t))return ZS(t)}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){Le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Le(t,e,r){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZV(t){var e=Rce(t,"string");return lc(e)=="symbol"?e:e+""}function Rce(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mce={xAxis:["bottom","top"],yAxis:["left","right"]},Dce={width:"100%",height:"100%"},e6={x:0,y:0};function em(t){return t}var Lce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$ce=function(e,r,n,i){var o=r.find(function(h){return h&&h.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,u=i.radius;return le(le(le({},i),jt(i.cx,i.cy,u,a)),{},{angle:a,radius:u})}var c=o.coordinate,f=i.angle;return le(le(le({},i),jt(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return e6},Zy=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(uc(u),uc(f)):u},[]);return a.length>0?a:e&&e.length&&_e(i)&&_e(o)?e.slice(i,o+1):[]};function t6(t){return t==="number"?[0,"auto"]:void 0}var eE=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,u=Zy(r,e);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(a.dataKey&&!a.allowDuplicatedCategory){var x=p===void 0?u:p;y=M1(x,a.dataKey,i)}else y=p&&p[n]||u[n];return y?[].concat(uc(c),[sA(f,y)]):c},[])},yD=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=Lce(o,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=pre(a,u,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,y=eE(e,r,h,p),x=$ce(n,u,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:x}}return null},Vce=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,x=F5(h,o);return n.reduce(function(S,w){var b,E=w.type.defaultProps!==void 0?le(le({},w.type.defaultProps),w.props):w.props,P=E.type,O=E.dataKey,M=E.allowDataOverflow,k=E.allowDuplicatedCategory,R=E.scale,I=E.ticks,C=E.includeHidden,j=E[a];if(S[j])return S;var U=Zy(e.data,{graphicalItems:i.filter(function(K){var fe,Se=a in K.props?K.props[a]:(fe=K.type.defaultProps)===null||fe===void 0?void 0:fe[a];return Se===j}),dataStartIndex:c,dataEndIndex:f}),V=U.length,L,$,Y;fce(E.domain,M,P)&&(L=mS(E.domain,null,M),x&&(P==="number"||R!=="auto")&&(Y=Jf(U,O,"category")));var Z=t6(P);if(!L||L.length===0){var ie,ae=(ie=E.domain)!==null&&ie!==void 0?ie:Z;if(O){if(L=Jf(U,O,P),P==="category"&&x){var X=sK(L);k&&X?($=L,L=wg(0,V)):k||(L=y2(ae,L,w).reduce(function(K,fe){return K.indexOf(fe)>=0?K:[].concat(uc(K),[fe])},[]))}else if(P==="category")k?L=L.filter(function(K){return K!==""&&!it(K)}):L=y2(ae,L,w).reduce(function(K,fe){return K.indexOf(fe)>=0||fe===""||it(fe)?K:[].concat(uc(K),[fe])},[]);else if(P==="number"){var oe=bre(U,i.filter(function(K){var fe,Se,ue=a in K.props?K.props[a]:(fe=K.type.defaultProps)===null||fe===void 0?void 0:fe[a],te="hide"in K.props?K.props.hide:(Se=K.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return ue===j&&(C||!te)}),O,o,h);oe&&(L=oe)}x&&(P==="number"||R!=="auto")&&(Y=Jf(U,O,"category"))}else x?L=wg(0,V):u&&u[j]&&u[j].hasStack&&P==="number"?L=y==="expand"?[0,1]:K5(u[j].stackGroups,c,f):L=V5(U,i.filter(function(K){var fe=a in K.props?K.props[a]:K.type.defaultProps[a],Se="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return fe===j&&(C||!Se)}),P,h,!0);if(P==="number")L=QS(p,L,j,o,I),ae&&(L=mS(ae,L,M));else if(P==="category"&&ae){var ne=ae,q=L.every(function(K){return ne.indexOf(K)>=0});q&&(L=ne)}}return le(le({},S),{},Le({},j,le(le({},E),{},{axisType:o,domain:L,categoricalDomain:Y,duplicateDomain:$,originalDomain:(b=E.domain)!==null&&b!==void 0?b:Z,isCategorical:x,layout:h})))},{})},Fce=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,y=Zy(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),x=y.length,S=F5(h,o),w=-1;return n.reduce(function(b,E){var P=E.type.defaultProps!==void 0?le(le({},E.type.defaultProps),E.props):E.props,O=P[a],M=t6("number");if(!b[O]){w++;var k;return S?k=wg(0,x):u&&u[O]&&u[O].hasStack?(k=K5(u[O].stackGroups,c,f),k=QS(p,k,O,o)):(k=mS(M,V5(y,n.filter(function(R){var I,C,j=a in R.props?R.props[a]:(I=R.type.defaultProps)===null||I===void 0?void 0:I[a],U="hide"in R.props?R.props.hide:(C=R.type.defaultProps)===null||C===void 0?void 0:C.hide;return j===O&&!U}),"number",h),i.defaultProps.allowDataOverflow),k=QS(p,k,O,o)),le(le({},b),{},Le({},O,le(le({axisType:o},i.defaultProps),{},{hide:!0,orientation:qn(Mce,"".concat(o,".").concat(w%2),null),domain:k,originalDomain:M,isCategorical:S,layout:h})))}return b},{})},Uce=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,p="".concat(i,"Id"),y=Wn(h,o),x={};return y&&y.length?x=Vce(e,{axes:y,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):a&&a.length&&(x=Fce(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),x},Bce=function(e){var r=Na(e),n=Po(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:RT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:lg(r,n)}},vD=function(e){var r=e.children,n=e.defaultShowTooltip,i=En(r,ec),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},zce=function(e){return!e||!e.length?!1:e.some(function(r){var n=Co(r&&r.type);return n&&n.indexOf("Bar")>=0})},bD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qce=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,p=n.children,y=n.margin||{},x=En(p,ec),S=En(p,Tu),w=Object.keys(c).reduce(function(k,R){var I=c[R],C=I.orientation;return!I.mirror&&!I.hide?le(le({},k),{},Le({},C,k[C]+I.width)):k},{left:y.left||0,right:y.right||0}),b=Object.keys(a).reduce(function(k,R){var I=a[R],C=I.orientation;return!I.mirror&&!I.hide?le(le({},k),{},Le({},C,qn(k,"".concat(C))+I.height)):k},{top:y.top||0,bottom:y.bottom||0}),E=le(le({},b),w),P=E.bottom;x&&(E.bottom+=x.props.height||ec.defaultProps.height),S&&r&&(E=yre(E,i,n,r));var O=f-E.left-E.right,M=h-E.top-E.bottom;return le(le({brushBottom:P},E),{},{width:Math.max(O,0),height:Math.max(M,0)})},Wce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},r6=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,u=a===void 0?["axis"]:a,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,y=function(E,P){var O=P.graphicalItems,M=P.stackGroups,k=P.offset,R=P.updateId,I=P.dataStartIndex,C=P.dataEndIndex,j=E.barSize,U=E.layout,V=E.barGap,L=E.barCategoryGap,$=E.maxBarSize,Y=bD(U),Z=Y.numericAxisName,ie=Y.cateAxisName,ae=zce(O),X=[];return O.forEach(function(oe,ne){var q=Zy(E.data,{graphicalItems:[oe],dataStartIndex:I,dataEndIndex:C}),K=oe.type.defaultProps!==void 0?le(le({},oe.type.defaultProps),oe.props):oe.props,fe=K.dataKey,Se=K.maxBarSize,ue=K["".concat(Z,"Id")],te=K["".concat(ie,"Id")],be={},Ne=c.reduce(function(br,mn){var Si=P["".concat(mn.axisType,"Map")],to=K["".concat(mn.axisType,"Id")];Si&&Si[to]||mn.axisType==="zAxis"||sl();var ea=Si[to];return le(le({},br),{},Le(Le({},mn.axisType,ea),"".concat(mn.axisType,"Ticks"),Po(ea)))},be),ge=Ne[ie],ke=Ne["".concat(ie,"Ticks")],Ve=M&&M[ue]&&M[ue].hasStack&&Tre(oe,M[ue].stackGroups),he=Co(oe.type).indexOf("Bar")>=0,at=lg(ge,ke),He=[],yt=ae&&mre({barSize:j,stackGroups:M,totalSize:Wce(Ne,ie)});if(he){var St,Gt,hn=it(Se)?$:Se,pn=(St=(Gt=lg(ge,ke,!0))!==null&&Gt!==void 0?Gt:hn)!==null&&St!==void 0?St:0;He=gre({barGap:V,barCategoryGap:L,bandSize:pn!==at?pn:at,sizeList:yt[te],maxBarSize:hn}),pn!==at&&(He=He.map(function(br){return le(le({},br),{},{position:le(le({},br.position),{},{offset:br.position.offset-pn/2})})}))}var Qr=oe&&oe.type&&oe.type.getComposedData;Qr&&X.push({props:le(le({},Qr(le(le({},Ne),{},{displayedData:q,props:E,dataKey:fe,item:oe,bandSize:at,barPosition:He,offset:k,stackedData:Ve,layout:U,dataStartIndex:I,dataEndIndex:C}))),{},Le(Le(Le({key:oe.key||"item-".concat(ne)},Z,Ne[Z]),ie,Ne[ie]),"animationId",R)),childIndex:bK(oe,E.children),item:oe})}),X},x=function(E,P){var O=E.props,M=E.dataStartIndex,k=E.dataEndIndex,R=E.updateId;if(!jC({props:O}))return null;var I=O.children,C=O.layout,j=O.stackOffset,U=O.data,V=O.reverseStackOrder,L=bD(C),$=L.numericAxisName,Y=L.cateAxisName,Z=Wn(I,n),ie=Ere(U,Z,"".concat($,"Id"),"".concat(Y,"Id"),j,V),ae=c.reduce(function(K,fe){var Se="".concat(fe.axisType,"Map");return le(le({},K),{},Le({},Se,Uce(O,le(le({},fe),{},{graphicalItems:Z,stackGroups:fe.axisType===$&&ie,dataStartIndex:M,dataEndIndex:k}))))},{}),X=qce(le(le({},ae),{},{props:O,graphicalItems:Z}),P==null?void 0:P.legendBBox);Object.keys(ae).forEach(function(K){ae[K]=h(O,ae[K],X,K.replace("Map",""),r)});var oe=ae["".concat(Y,"Map")],ne=Bce(oe),q=y(O,le(le({},ae),{},{dataStartIndex:M,dataEndIndex:k,updateId:R,graphicalItems:Z,stackGroups:ie,offset:X}));return le(le({formattedGraphicalItems:q,graphicalItems:Z,offset:X,stackGroups:ie},ne),ae)},S=(function(b){function E(P){var O,M,k;return Ece(this,E),k=Pce(this,E,[P]),Le(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(k,"accessibilityManager",new cce),Le(k,"handleLegendBBoxUpdate",function(R){if(R){var I=k.state,C=I.dataStartIndex,j=I.dataEndIndex,U=I.updateId;k.setState(le({legendBBox:R},x({props:k.props,dataStartIndex:C,dataEndIndex:j,updateId:U},le(le({},k.state),{},{legendBBox:R}))))}}),Le(k,"handleReceiveSyncEvent",function(R,I,C){if(k.props.syncId===R){if(C===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(I)}}),Le(k,"handleBrushChange",function(R){var I=R.startIndex,C=R.endIndex;if(I!==k.state.dataStartIndex||C!==k.state.dataEndIndex){var j=k.state.updateId;k.setState(function(){return le({dataStartIndex:I,dataEndIndex:C},x({props:k.props,dataStartIndex:I,dataEndIndex:C,updateId:j},k.state))}),k.triggerSyncEvent({dataStartIndex:I,dataEndIndex:C})}}),Le(k,"handleMouseEnter",function(R){var I=k.getMouseInfo(R);if(I){var C=le(le({},I),{},{isTooltipActive:!0});k.setState(C),k.triggerSyncEvent(C);var j=k.props.onMouseEnter;We(j)&&j(C,R)}}),Le(k,"triggeredAfterMouseMove",function(R){var I=k.getMouseInfo(R),C=I?le(le({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(C),k.triggerSyncEvent(C);var j=k.props.onMouseMove;We(j)&&j(C,R)}),Le(k,"handleItemMouseEnter",function(R){k.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),Le(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Le(k,"handleMouseMove",function(R){R.persist(),k.throttleTriggeredAfterMouseMove(R)}),Le(k,"handleMouseLeave",function(R){k.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var C=k.props.onMouseLeave;We(C)&&C(I,R)}),Le(k,"handleOuterEvent",function(R){var I=vK(R),C=qn(k.props,"".concat(I));if(I&&We(C)){var j,U;/.*touch.*/i.test(I)?U=k.getMouseInfo(R.changedTouches[0]):U=k.getMouseInfo(R),C((j=U)!==null&&j!==void 0?j:{},R)}}),Le(k,"handleClick",function(R){var I=k.getMouseInfo(R);if(I){var C=le(le({},I),{},{isTooltipActive:!0});k.setState(C),k.triggerSyncEvent(C);var j=k.props.onClick;We(j)&&j(C,R)}}),Le(k,"handleMouseDown",function(R){var I=k.props.onMouseDown;if(We(I)){var C=k.getMouseInfo(R);I(C,R)}}),Le(k,"handleMouseUp",function(R){var I=k.props.onMouseUp;if(We(I)){var C=k.getMouseInfo(R);I(C,R)}}),Le(k,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),Le(k,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&k.handleMouseDown(R.changedTouches[0])}),Le(k,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&k.handleMouseUp(R.changedTouches[0])}),Le(k,"handleDoubleClick",function(R){var I=k.props.onDoubleClick;if(We(I)){var C=k.getMouseInfo(R);I(C,R)}}),Le(k,"handleContextMenu",function(R){var I=k.props.onContextMenu;if(We(I)){var C=k.getMouseInfo(R);I(C,R)}}),Le(k,"triggerSyncEvent",function(R){k.props.syncId!==void 0&&Gw.emit(Kw,k.props.syncId,R,k.eventEmitterSymbol)}),Le(k,"applySyncEvent",function(R){var I=k.props,C=I.layout,j=I.syncMethod,U=k.state.updateId,V=R.dataStartIndex,L=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)k.setState(le({dataStartIndex:V,dataEndIndex:L},x({props:k.props,dataStartIndex:V,dataEndIndex:L,updateId:U},k.state)));else if(R.activeTooltipIndex!==void 0){var $=R.chartX,Y=R.chartY,Z=R.activeTooltipIndex,ie=k.state,ae=ie.offset,X=ie.tooltipTicks;if(!ae)return;if(typeof j=="function")Z=j(X,R);else if(j==="value"){Z=-1;for(var oe=0;oe<X.length;oe++)if(X[oe].value===R.activeLabel){Z=oe;break}}var ne=le(le({},ae),{},{x:ae.left,y:ae.top}),q=Math.min($,ne.x+ne.width),K=Math.min(Y,ne.y+ne.height),fe=X[Z]&&X[Z].value,Se=eE(k.state,k.props.data,Z),ue=X[Z]?{x:C==="horizontal"?X[Z].coordinate:q,y:C==="horizontal"?K:X[Z].coordinate}:e6;k.setState(le(le({},R),{},{activeLabel:fe,activeCoordinate:ue,activePayload:Se,activeTooltipIndex:Z}))}else k.setState(R)}),Le(k,"renderCursor",function(R){var I,C=k.state,j=C.isTooltipActive,U=C.activeCoordinate,V=C.activePayload,L=C.offset,$=C.activeTooltipIndex,Y=C.tooltipAxisBandSize,Z=k.getTooltipEventType(),ie=(I=R.props.active)!==null&&I!==void 0?I:j,ae=k.props.layout,X=R.key||"_recharts-cursor";return H.createElement(yce,{key:X,activeCoordinate:U,activePayload:V,activeTooltipIndex:$,chartName:r,element:R,isActive:ie,layout:ae,offset:L,tooltipAxisBandSize:Y,tooltipEventType:Z})}),Le(k,"renderPolarAxis",function(R,I,C){var j=qn(R,"type.axisType"),U=qn(k.state,"".concat(j,"Map")),V=R.type.defaultProps,L=V!==void 0?le(le({},V),R.props):R.props,$=U&&U[L["".concat(j,"Id")]];return F.cloneElement(R,le(le({},$),{},{className:Xe(j,$.className),key:R.key||"".concat(I,"-").concat(C),ticks:Po($,!0)}))}),Le(k,"renderPolarGrid",function(R){var I=R.props,C=I.radialLines,j=I.polarAngles,U=I.polarRadius,V=k.state,L=V.radiusAxisMap,$=V.angleAxisMap,Y=Na(L),Z=Na($),ie=Z.cx,ae=Z.cy,X=Z.innerRadius,oe=Z.outerRadius;return F.cloneElement(R,{polarAngles:Array.isArray(j)?j:Po(Z,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(U)?U:Po(Y,!0).map(function(ne){return ne.coordinate}),cx:ie,cy:ae,innerRadius:X,outerRadius:oe,key:R.key||"polar-grid",radialLines:C})}),Le(k,"renderLegend",function(){var R=k.state.formattedGraphicalItems,I=k.props,C=I.children,j=I.width,U=I.height,V=k.props.margin||{},L=j-(V.left||0)-(V.right||0),$=L5({children:C,formattedGraphicalItems:R,legendWidth:L,legendContent:f});if(!$)return null;var Y=$.item,Z=mD($,vce);return F.cloneElement(Y,le(le({},Z),{},{chartWidth:j,chartHeight:U,margin:V,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Le(k,"renderTooltip",function(){var R,I=k.props,C=I.children,j=I.accessibilityLayer,U=En(C,Di);if(!U)return null;var V=k.state,L=V.isTooltipActive,$=V.activeCoordinate,Y=V.activePayload,Z=V.activeLabel,ie=V.offset,ae=(R=U.props.active)!==null&&R!==void 0?R:L;return F.cloneElement(U,{viewBox:le(le({},ie),{},{x:ie.left,y:ie.top}),active:ae,label:Z,payload:ae?Y:[],coordinate:$,accessibilityLayer:j})}),Le(k,"renderBrush",function(R){var I=k.props,C=I.margin,j=I.data,U=k.state,V=U.offset,L=U.dataStartIndex,$=U.dataEndIndex,Y=U.updateId;return F.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Xp(k.handleBrushChange,R.props.onChange),data:j,x:_e(R.props.x)?R.props.x:V.left,y:_e(R.props.y)?R.props.y:V.top+V.height+V.brushBottom-(C.bottom||0),width:_e(R.props.width)?R.props.width:V.width,startIndex:L,endIndex:$,updateId:"brush-".concat(Y)})}),Le(k,"renderReferenceElement",function(R,I,C){if(!R)return null;var j=k,U=j.clipPathId,V=k.state,L=V.xAxisMap,$=V.yAxisMap,Y=V.offset,Z=R.type.defaultProps||{},ie=R.props,ae=ie.xAxisId,X=ae===void 0?Z.xAxisId:ae,oe=ie.yAxisId,ne=oe===void 0?Z.yAxisId:oe;return F.cloneElement(R,{key:R.key||"".concat(I,"-").concat(C),xAxis:L[X],yAxis:$[ne],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:U})}),Le(k,"renderActivePoints",function(R){var I=R.item,C=R.activePoint,j=R.basePoint,U=R.childIndex,V=R.isRange,L=[],$=I.props.key,Y=I.item.type.defaultProps!==void 0?le(le({},I.item.type.defaultProps),I.item.props):I.item.props,Z=Y.activeDot,ie=Y.dataKey,ae=le(le({index:U,dataKey:ie,cx:C.x,cy:C.y,r:4,fill:aA(I.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Be(Z,!1)),Dm(Z));return L.push(E.renderActiveDot(Z,ae,"".concat($,"-activePoint-").concat(U))),j?L.push(E.renderActiveDot(Z,le(le({},ae),{},{cx:j.x,cy:j.y}),"".concat($,"-basePoint-").concat(U))):V&&L.push(null),L}),Le(k,"renderGraphicChild",function(R,I,C){var j=k.filterFormatItem(R,I,C);if(!j)return null;var U=k.getTooltipEventType(),V=k.state,L=V.isTooltipActive,$=V.tooltipAxis,Y=V.activeTooltipIndex,Z=V.activeLabel,ie=k.props.children,ae=En(ie,Di),X=j.props,oe=X.points,ne=X.isRange,q=X.baseLine,K=j.item.type.defaultProps!==void 0?le(le({},j.item.type.defaultProps),j.item.props):j.item.props,fe=K.activeDot,Se=K.hide,ue=K.activeBar,te=K.activeShape,be=!!(!Se&&L&&ae&&(fe||ue||te)),Ne={};U!=="axis"&&ae&&ae.props.trigger==="click"?Ne={onClick:Xp(k.handleItemMouseEnter,R.props.onClick)}:U!=="axis"&&(Ne={onMouseLeave:Xp(k.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:Xp(k.handleItemMouseEnter,R.props.onMouseEnter)});var ge=F.cloneElement(R,le(le({},j.props),Ne));function ke(mn){return typeof $.dataKey=="function"?$.dataKey(mn.payload):null}if(be)if(Y>=0){var Ve,he;if($.dataKey&&!$.allowDuplicatedCategory){var at=typeof $.dataKey=="function"?ke:"payload.".concat($.dataKey.toString());Ve=M1(oe,at,Z),he=ne&&q&&M1(q,at,Z)}else Ve=oe==null?void 0:oe[Y],he=ne&&q&&q[Y];if(te||ue){var He=R.props.activeIndex!==void 0?R.props.activeIndex:Y;return[F.cloneElement(R,le(le(le({},j.props),Ne),{},{activeIndex:He})),null,null]}if(!it(Ve))return[ge].concat(uc(k.renderActivePoints({item:j,activePoint:Ve,basePoint:he,childIndex:Y,isRange:ne})))}else{var yt,St=(yt=k.getItemByXY(k.state.activeCoordinate))!==null&&yt!==void 0?yt:{graphicalItem:ge},Gt=St.graphicalItem,hn=Gt.item,pn=hn===void 0?R:hn,Qr=Gt.childIndex,br=le(le(le({},j.props),Ne),{},{activeIndex:Qr});return[F.cloneElement(pn,br),null,null]}return ne?[ge,null,null]:[ge,null]}),Le(k,"renderCustomized",function(R,I,C){return F.cloneElement(R,le(le({key:"recharts-customized-".concat(C)},k.props),k.state))}),Le(k,"renderMap",{CartesianGrid:{handler:em,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:em},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:em},YAxis:{handler:em},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((O=P.id)!==null&&O!==void 0?O:vy("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=L$(k.triggeredAfterMouseMove,(M=P.throttleDelay)!==null&&M!==void 0?M:1e3/60),k.state={},k}return kce(E,b),Ace(E,[{key:"componentDidMount",value:function(){var O,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,M=O.children,k=O.data,R=O.height,I=O.layout,C=En(M,Di);if(C){var j=C.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,V=eE(this.state,k,j,U),L=this.state.tooltipTicks[j].coordinate,$=(this.state.offset.top+R)/2,Y=I==="horizontal",Z=Y?{x:L,y:$}:{y:L,x:$},ie=this.state.formattedGraphicalItems.find(function(X){var oe=X.item;return oe.type.name==="Scatter"});ie&&(Z=le(le({},Z),ie.props.points[j].tooltipPosition),V=ie.props.points[j].tooltipPayload);var ae={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:U,activePayload:V,activeCoordinate:Z};this.setState(ae),this.renderCursor(C),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var k,R;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(O){L1([En(O.children,Di)],[En(this.props.children,Di)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=En(this.props.children,Di);if(O&&typeof O.props.shared=="boolean"){var M=O.props.shared?"axis":"item";return u.indexOf(M)>=0?M:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var M=this.container,k=M.getBoundingClientRect(),R=aJ(k),I={chartX:Math.round(O.pageX-R.left),chartY:Math.round(O.pageY-R.top)},C=k.width/M.offsetWidth||1,j=this.inRange(I.chartX,I.chartY,C);if(!j)return null;var U=this.state,V=U.xAxisMap,L=U.yAxisMap,$=this.getTooltipEventType(),Y=yD(this.state,this.props.data,this.props.layout,j);if($!=="axis"&&V&&L){var Z=Na(V).scale,ie=Na(L).scale,ae=Z&&Z.invert?Z.invert(I.chartX):null,X=ie&&ie.invert?ie.invert(I.chartY):null;return le(le({},I),{},{xValue:ae,yValue:X},Y)}return Y?le(le({},I),Y):null}},{key:"inRange",value:function(O,M){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,I=O/k,C=M/k;if(R==="horizontal"||R==="vertical"){var j=this.state.offset,U=I>=j.left&&I<=j.left+j.width&&C>=j.top&&C<=j.top+j.height;return U?{x:I,y:C}:null}var V=this.state,L=V.angleAxisMap,$=V.radiusAxisMap;if(L&&$){var Y=Na(L);return x2({x:I,y:C},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,M=this.getTooltipEventType(),k=En(O,Di),R={};k&&M==="axis"&&(k.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Dm(this.props,this.handleOuterEvent);return le(le({},I),R)}},{key:"addListener",value:function(){Gw.on(Kw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gw.removeListener(Kw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,M,k){for(var R=this.state.formattedGraphicalItems,I=0,C=R.length;I<C;I++){var j=R[I];if(j.item===O||j.props.key===O.key||M===Co(j.item.type)&&k===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,M=this.state.offset,k=M.left,R=M.top,I=M.height,C=M.width;return H.createElement("defs",null,H.createElement("clipPath",{id:O},H.createElement("rect",{x:k,y:R,height:I,width:C})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(M,k){var R=pD(k,2),I=R[0],C=R[1];return le(le({},M),{},Le({},I,C.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(M,k){var R=pD(k,2),I=R[0],C=R[1];return le(le({},M),{},Le({},I,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(O){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(O){var M=this.state,k=M.formattedGraphicalItems,R=M.activeItem;if(k&&k.length)for(var I=0,C=k.length;I<C;I++){var j=k[I],U=j.props,V=j.item,L=V.type.defaultProps!==void 0?le(le({},V.type.defaultProps),V.props):V.props,$=Co(V.type);if($==="Bar"){var Y=(U.data||[]).find(function(X){return Toe(O,X)});if(Y)return{graphicalItem:j,payload:Y}}else if($==="RadialBar"){var Z=(U.data||[]).find(function(X){return x2(O,X)});if(Z)return{graphicalItem:j,payload:Z}}else if(zy(j,R)||qy(j,R)||Fd(j,R)){var ie=Kae({graphicalItem:j,activeTooltipItem:R,itemData:L.data}),ae=L.activeIndex===void 0?ie:L.activeIndex;return{graphicalItem:le(le({},j),{},{childIndex:ae}),payload:Fd(j,R)?L.data[ie]:j.props.data[ie]}}}return null}},{key:"render",value:function(){var O=this;if(!jC(this))return null;var M=this.props,k=M.children,R=M.className,I=M.width,C=M.height,j=M.style,U=M.compact,V=M.title,L=M.desc,$=mD(M,bce),Y=Be($,!1);if(U)return H.createElement(JM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(V1,vu({},Y,{width:I,height:C,title:V,desc:L}),this.renderClipPath(),MC(k,this.renderMap)));if(this.props.accessibilityLayer){var Z,ie;Y.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,Y.role=(ie=this.props.role)!==null&&ie!==void 0?ie:"application",Y.onKeyDown=function(X){O.accessibilityManager.keyboardEvent(X)},Y.onFocus=function(){O.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return H.createElement(JM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",vu({className:Xe("recharts-wrapper",R),style:le({position:"relative",cursor:"default",width:I,height:C},j)},ae,{ref:function(oe){O.container=oe}}),H.createElement(V1,vu({},Y,{width:I,height:C,title:V,desc:L,style:Dce}),this.renderClipPath(),MC(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(F.Component);Le(S,"displayName",r),Le(S,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Le(S,"getDerivedStateFromProps",function(b,E){var P=b.dataKey,O=b.data,M=b.children,k=b.width,R=b.height,I=b.layout,C=b.stackOffset,j=b.margin,U=E.dataStartIndex,V=E.dataEndIndex;if(E.updateId===void 0){var L=vD(b);return le(le(le({},L),{},{updateId:0},x(le(le({props:b},L),{},{updateId:0}),E)),{},{prevDataKey:P,prevData:O,prevWidth:k,prevHeight:R,prevLayout:I,prevStackOffset:C,prevMargin:j,prevChildren:M})}if(P!==E.prevDataKey||O!==E.prevData||k!==E.prevWidth||R!==E.prevHeight||I!==E.prevLayout||C!==E.prevStackOffset||!Eu(j,E.prevMargin)){var $=vD(b),Y={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},Z=le(le({},yD(E,O,I)),{},{updateId:E.updateId+1}),ie=le(le(le({},$),Y),Z);return le(le(le({},ie),x(le({props:b},ie),E)),{},{prevDataKey:P,prevData:O,prevWidth:k,prevHeight:R,prevLayout:I,prevStackOffset:C,prevMargin:j,prevChildren:M})}if(!L1(M,E.prevChildren)){var ae,X,oe,ne,q=En(M,ec),K=q&&(ae=(X=q.props)===null||X===void 0?void 0:X.startIndex)!==null&&ae!==void 0?ae:U,fe=q&&(oe=(ne=q.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&oe!==void 0?oe:V,Se=K!==U||fe!==V,ue=!it(O),te=ue&&!Se?E.updateId:E.updateId+1;return le(le({updateId:te},x(le(le({props:b},E),{},{updateId:te,dataStartIndex:K,dataEndIndex:fe}),E)),{},{prevChildren:M,dataStartIndex:K,dataEndIndex:fe})}return null}),Le(S,"renderActiveDot",function(b,E,P){var O;return F.isValidElement(b)?O=F.cloneElement(b,E):We(b)?O=b(E):O=H.createElement(uA,E),H.createElement(ht,{className:"recharts-active-dot",key:P},O)});var w=F.forwardRef(function(E,P){return H.createElement(S,vu({},E,{ref:P}))});return w.displayName=S.displayName,w},Hce=r6({chartName:"BarChart",GraphicalChild:bl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qy},{axisType:"yAxis",AxisComp:Jy}],formatAxisMap:ile}),Gce=r6({chartName:"RadialBarChart",GraphicalChild:vh,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:yh},{axisType:"radiusAxis",AxisComp:Uy}],formatAxisMap:Dre,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const xD=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function tE(){return new Date().toISOString().split("T")[0]}function Kce(t){const e=t.length,r=t.filter(i=>i.status==="present").length,n=e===0?0:Math.round(r/e*100);return{total:e,present:r,percent:n}}function Xce(t){return t>=75?"safe":"risk"}function Yce(t,e){if(t===0)return 0;let r=0,n=t,i=e;for(;Math.round(i/n*100)<75;)n++,i++,r++;return r}function _D(t){const e=Kce(t),r=Xce(e.percent);return{...e,zone:r,classesNeededFor75:r==="risk"?Yce(e.total,e.present):0}}const Qce={async mark(t,{subjectId:e,status:r,date:n}){const i=n??tE(),o=`${e}_${i}`;await ko(Ot(t,"attendance",o),{subjectId:e,date:i,status:r,locked:!0,createdAt:new Date().toISOString()})}};function n6(){const{user:t}=Xo(),[e,r]=F.useState(tE()),[n,i]=F.useState(xD[new Date().getDay()]),[o,a]=F.useState([]),[u,c]=F.useState(!0),[f,h]=F.useState(null),[p,y]=F.useState(null);F.useEffect(()=>{if(!t)return;const w=tE(),b=xD[new Date().getDay()];let E=[],P=null,O=()=>{};function M(R){const I={};R.docs.forEach(j=>{I[j.data().subjectId]=j.data().status});const C=P?P.slots.filter(j=>j.day===b).map(j=>j.subjectId):E.map(j=>j.id);return E.filter(j=>C.includes(j.id)).map(j=>({subject:j,markedStatus:I[j.id]??null,alreadyMarked:!!I[j.id]}))}return(async()=>{try{const[R,I]=await Promise.all([$u(Xr(Yr(t.id,"subjects"),Ut("archived","==",!1))),$u(Xr(Yr(t.id,"timetables"),Ut("active","==",!0)))]);E=R.docs.map(j=>({id:j.id,...j.data()}));const C=I.docs.find(j=>!j.data().archived);P=C?{id:C.id,...C.data()}:null,O=In(Xr(Yr(t.id,"attendance"),Ut("date","==",w)),j=>{a(M(j)),r(w),i(b),c(!1)},j=>{h(j.message),c(!1)})}catch(R){h(R.message),c(!1)}})(),()=>O()},[t]);const x=F.useCallback(async(w,b)=>{if(t){y(w);try{await Qce.mark(t.id,{subjectId:w,status:b})}catch(E){h(E.message)}finally{y(null)}}},[t]),S=F.useCallback(()=>{},[]);return{date:e,day:n,today:o,loading:u,error:f,marking:p,mark:x,refresh:S}}function i6(){const{user:t}=Xo(),[e,r]=F.useState(null),[n,i]=F.useState([]),[o,a]=F.useState(!0),[u,c]=F.useState(null);F.useEffect(()=>{if(!t)return;let h=[],p=()=>{};return(async()=>{try{h=(await $u(Xr(Yr(t.id,"subjects"),Ut("archived","==",!1)))).docs.map(S=>({id:S.id,...S.data()})),p=In(Yr(t.id,"attendance"),S=>{const w=S.docs.map(E=>({id:E.id,...E.data()})),b=h.map(E=>{const P=w.filter(O=>O.subjectId===E.id);return{subject:E,..._D(P)}});r(_D(w)),i(b),a(!1)},S=>{c(S.message),a(!1)})}catch(x){c(x.message),a(!1)}})(),()=>p()},[t]);const f=F.useCallback(()=>{},[]);return{overall:e,subjects:n,loading:o,error:u,refresh:f}}const Us={async create(t,{title:e,description:r="",dueDate:n=null,priority:i="medium"}){return(await qa(Yr(t,"tasks"),{title:e,description:r,dueDate:n,priority:i,completed:!1,archived:!1,subtasks:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id},async update(t,e,r){await wt(Ot(t,"tasks",e),{...r,updatedAt:new Date().toISOString()})},async archive(t,e){await wt(Ot(t,"tasks",e),{archived:!0,updatedAt:new Date().toISOString()})},async addSubtask(t,e,r,n){const i=Date.now().toString(36)+Math.random().toString(36).slice(2,5),o=[...r||[],{id:i,title:n,completed:!1}];await wt(Ot(t,"tasks",e),{subtasks:o,updatedAt:new Date().toISOString()})},async toggleSubtask(t,e,r,n){const i=(r||[]).map(o=>o.id===n?{...o,completed:!o.completed}:o);await wt(Ot(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})},async deleteSubtask(t,e,r,n){const i=(r||[]).filter(o=>o.id!==n);await wt(Ot(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})}};function vA({archived:t=!1}={}){const{user:e}=Xo(),[r,n]=F.useState([]),[i,o]=F.useState(!0),[a,u]=F.useState(null);F.useEffect(()=>{if(!e)return;const w=Xr(Yr(e.id,"tasks"),Ut("archived","==",t));return In(w,E=>{const P=E.docs.map(O=>({id:O.id,...O.data()})).sort((O,M)=>M.createdAt.localeCompare(O.createdAt));n(P),o(!1)},E=>{u(E.message),o(!1)})},[e,t]);const c=F.useCallback(async w=>{if(e)try{await Us.create(e.id,w)}catch(b){u(b.message)}},[e]),f=F.useCallback(async(w,b)=>{if(e)try{await Us.update(e.id,w,b)}catch(E){u(E.message)}},[e]),h=F.useCallback((w,b)=>f(w,{completed:!b}),[f]),p=F.useCallback(async w=>{if(e)try{await Us.archive(e.id,w)}catch(b){u(b.message)}},[e]),y=F.useCallback(async(w,b)=>{if(!e)return;const E=r.find(P=>P.id===w);try{await Us.addSubtask(e.id,w,(E==null?void 0:E.subtasks)??[],b)}catch(P){u(P.message)}},[e,r]),x=F.useCallback(async(w,b)=>{if(!e)return;const E=r.find(P=>P.id===w);try{await Us.toggleSubtask(e.id,w,(E==null?void 0:E.subtasks)??[],b)}catch(P){u(P.message)}},[e,r]),S=F.useCallback(async(w,b)=>{if(!e)return;const E=r.find(P=>P.id===w);try{await Us.deleteSubtask(e.id,w,(E==null?void 0:E.subtasks)??[],b)}catch(P){u(P.message)}},[e,r]);return{tasks:r,loading:i,error:a,create:c,update:f,toggle:h,archive:p,addSubtask:y,toggleSubtask:x,deleteSubtask:S}}class bh{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const Jce=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Ir={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Jce()},bA=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Zce=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=bA(t);Ir.publicKey=r.publicKey,Ir.blockHeadless=r.blockHeadless,Ir.storageProvider=r.storageProvider,Ir.blockList=r.blockList,Ir.limitRate=r.limitRate,Ir.origin=r.origin||e},o6=async(t,e,r={})=>{const n=await fetch(Ir.origin+t,{method:"POST",headers:r,body:e}),i=await n.text(),o=new bh(n.status,i);if(n.ok)return o;throw o},a6=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},efe=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},s6=t=>t.webdriver||!t.languages||t.languages.length===0,l6=()=>new bh(451,"Unavailable For Headless Browser"),tfe=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},rfe=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},nfe=(t,e)=>t instanceof FormData?t.get(e):t[e],u6=(t,e)=>{if(rfe(t))return!1;tfe(t.list,t.watchVariable);const r=nfe(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},c6=()=>new bh(403,"Forbidden"),ife=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},ofe=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},f6=async(t,e,r)=>{if(!e.throttle||!r)return!1;ife(e.throttle,e.id);const n=e.id||t;return await ofe(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},d6=()=>new bh(429,"Too Many Requests"),afe=async(t,e,r,n)=>{const i=bA(n),o=i.publicKey||Ir.publicKey,a=i.blockHeadless||Ir.blockHeadless,u=i.storageProvider||Ir.storageProvider,c={...Ir.blockList,...i.blockList},f={...Ir.limitRate,...i.limitRate};return a&&s6(navigator)?Promise.reject(l6()):(a6(o,t,e),efe(r),r&&u6(c,r)?Promise.reject(c6()):await f6(location.pathname,f,u)?Promise.reject(d6()):o6("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},sfe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},lfe=t=>typeof t=="string"?document.querySelector(t):t,ufe=async(t,e,r,n)=>{const i=bA(n),o=i.publicKey||Ir.publicKey,a=i.blockHeadless||Ir.blockHeadless,u=Ir.storageProvider||i.storageProvider,c={...Ir.blockList,...i.blockList},f={...Ir.limitRate,...i.limitRate};if(a&&s6(navigator))return Promise.reject(l6());const h=lfe(r);a6(o,t,e),sfe(h);const p=new FormData(h);return u6(c,p)?Promise.reject(c6()):await f6(location.pathname,f,u)?Promise.reject(d6()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",o),o6("/api/v1.0/email/send-form",p))},wD={init:Zce,send:afe,sendForm:ufe,EmailJSResponseStatus:bh},SD="service_hjvrjoa",ED="ED2eDc6-CLeSavBsg",cfe="template_attendance_risk_id",ffe="template_task_overdue_id",TD="/SARASVA/icon.svg",h6={async requestPermission(){return"Notification"in window?Notification.requestPermission():"denied"},get permission(){return"Notification"in window?Notification.permission:"denied"},push(t,e){if("Notification"in window&&Notification.permission==="granted")try{new Notification(t,{body:e,icon:TD,badge:TD})}catch{}},async sendAttendanceAlert(t,e,r){const n=r.map(i=>` ${i.subject.name}: ${i.percent}% (need ${i.classesNeededFor75} more classes)`).join(`
`);try{await wD.send(SD,cfe,{to_email:t,to_name:e,subject_list:n,reply_to:t},ED)}catch{}},async sendTaskAlert(t,e,r){const n=r.map(i=>` ${i.title}${i.dueDate?` (due ${new Date(i.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})`:""}`).join(`
`);try{await wD.send(SD,ffe,{to_email:t,to_name:e,task_list:n,reply_to:t},ED)}catch{}},checkAndAlert(t,e,r){if(!t)return;const n=`sarasva_alerted_${t.id}_${new Date().toDateString()}`;if(sessionStorage.getItem(n))return;sessionStorage.setItem(n,"1");const i=e.filter(a=>a.zone==="risk"),o=r.filter(a=>!a.completed&&a.dueDate&&new Date(a.dueDate)<new Date);i.length>0&&(this.push("Attendance Risk ",`${i.length} subject${i.length!==1?"s":""} below 75%  check your dashboard.`),t.notificationsEmail&&t.email&&this.sendAttendanceAlert(t.email,t.name,i)),o.length>0&&(this.push("Overdue Tasks",`${o.length} task${o.length!==1?"s":""} past due date.`),t.notificationsEmail&&t.email&&this.sendTaskAlert(t.email,t.name,o))}};function p6({zone:t}){const e=t==="safe";return v.jsxs("span",{className:mt("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold",e?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-700"),children:[e?v.jsx(cT,{size:11}):v.jsx(I3,{size:11}),e?"SAFE":"RISK"]})}function tm({icon:t,label:e,value:r,sub:n,iconBg:i="bg-primary/10",iconColor:o="text-primary",to:a}){const u=v.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-border bg-card p-4 card-shadow hover:shadow-md transition-shadow",children:[v.jsx("div",{className:mt("mt-0.5 rounded-xl p-2.5",i,o),children:v.jsx(t,{size:17})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-2xl font-bold leading-none tracking-tight",children:r}),v.jsx("p",{className:"mt-0.5 text-xs font-medium text-muted-foreground",children:e}),n&&v.jsx("div",{className:"mt-1",children:typeof n=="string"?v.jsx("p",{className:"text-xs text-muted-foreground",children:n}):n})]})]});return a?v.jsx(mi,{to:a,children:u}):u}function dfe({active:t,payload:e}){if(!t||!(e!=null&&e.length))return null;const r=e[0].payload;return v.jsxs("div",{className:"rounded-xl border border-border bg-card px-3 py-2 shadow-lg text-xs",children:[v.jsx("p",{className:"font-semibold mb-1",children:r.name}),v.jsxs("p",{children:[r.percent,"% attendance"]}),v.jsxs("p",{className:"text-muted-foreground",children:[r.present," present / ",r.total," total"]}),r.zone==="risk"&&r.classesNeededFor75>0&&v.jsxs("p",{className:"mt-1 font-medium text-rose-600",children:["Need ",r.classesNeededFor75," more to reach 75%"]})]})}function hfe({percent:t,zone:e}){const r=[{value:t,fill:e==="safe"?"#10b981":"#f43f5e"}];return v.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[v.jsxs(Gce,{width:156,height:156,cx:78,cy:78,innerRadius:52,outerRadius:70,startAngle:225,endAngle:-45,data:r,barSize:14,children:[v.jsx(yh,{type:"number",domain:[0,100],angleAxisId:0,tick:!1}),v.jsx(vh,{dataKey:"value",cornerRadius:8,background:{fill:"hsl(var(--muted))"},angleAxisId:0})]}),v.jsxs("div",{className:"absolute flex flex-col items-center",children:[v.jsxs("span",{className:"text-2xl font-bold leading-none",children:[t,"%"]}),v.jsx(p6,{zone:e})]})]})}function pfe({subjects:t}){const e=t.filter(r=>r.zone==="risk").sort((r,n)=>n.classesNeededFor75-r.classesNeededFor75);return e.length===0?v.jsxs("div",{className:"flex flex-col items-center gap-1 py-6 text-center text-sm text-muted-foreground",children:[v.jsx(cT,{size:28,className:"text-emerald-500 opacity-80"}),v.jsx("p",{children:"All subjects above 75%!"})]}):v.jsx("div",{className:"space-y-2",children:e.map(r=>v.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2.5",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-semibold text-rose-900",children:r.subject.name}),v.jsxs("span",{className:"text-xs font-bold text-rose-700",children:[r.percent,"%"]})]}),v.jsx("div",{className:"my-1.5 h-1.5 w-full overflow-hidden rounded-full bg-rose-200",children:v.jsx("div",{className:"h-full rounded-full bg-rose-500",style:{width:`${r.percent}%`}})}),v.jsxs("p",{className:"text-xs text-rose-700",children:["Attend ",v.jsx("strong",{children:r.classesNeededFor75})," consecutive class",r.classesNeededFor75!==1?"es":""," to reach 75%"]})]},r.subject.id))})}function mfe({today:t=[],date:e,day:r}){const n=t.filter(i=>!i.alreadyMarked);return t.length===0?v.jsxs("p",{className:"py-3 text-center text-sm text-muted-foreground",children:["No classes today (",r,")."]}):v.jsxs("div",{className:"space-y-1.5",children:[n.length>0&&v.jsxs("p",{className:"text-xs font-semibold text-amber-700 bg-amber-50 rounded-lg px-2 py-1",children:[n.length," class",n.length!==1?"es":""," not yet marked"]}),t.map(({subject:i,markedStatus:o,alreadyMarked:a})=>v.jsxs("div",{className:"flex items-center justify-between rounded-xl px-2.5 py-1.5 hover:bg-muted/60 transition-colors",children:[v.jsx("span",{className:"text-sm",children:i.name}),a?v.jsx("span",{className:mt("rounded-full px-2 py-0.5 text-xs font-semibold capitalize",o==="present"&&"bg-emerald-100 text-emerald-800",o==="absent"&&"bg-rose-100 text-rose-700",o==="cancelled"&&"bg-amber-100 text-amber-700",o==="extra"&&"bg-blue-100 text-blue-700"),children:o}):v.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:"unmarked"})]},i.id))]})}function gfe({tasks:t,toggle:e}){const r=new Date,n=t.filter(c=>!c.completed&&c.dueDate&&new Date(c.dueDate)<r),i=t.filter(c=>!c.completed&&c.priority==="high"&&!n.find(f=>f.id===c.id)),o=[...n,...i].slice(0,4),a=t.filter(c=>!c.completed),u=a.length===0;return v.jsxs("div",{className:mt("rounded-2xl border p-5 card-shadow",u?"border-emerald-200 bg-emerald-50":n.length>0?"border-rose-200 bg-gradient-to-br from-rose-50 to-orange-50":"border-amber-200 bg-gradient-to-br from-amber-50 to-yellow-50"),children:[v.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2.5",children:[v.jsx("div",{className:mt("rounded-xl p-2",u?"bg-emerald-100":n.length>0?"bg-rose-100":"bg-amber-100"),children:u?v.jsx(_3,{size:18,className:"text-emerald-600"}):n.length>0?v.jsx(pH,{size:18,className:"text-rose-600"}):v.jsx(N1,{size:18,className:"text-amber-600"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-bold text-foreground",children:u?"All tasks complete!":"Tasks"}),!u&&v.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.length>0&&`${n.length} overdue  `,a.length," pending"]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(mi,{to:"/tasks",className:"flex items-center gap-1 rounded-lg bg-white/70 border border-border px-3 py-1.5 text-xs font-medium text-foreground hover:bg-white transition-colors",children:[v.jsx(Ur,{size:11})," Add"]}),v.jsxs(mi,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["All ",v.jsx(C1,{size:11})]})]})]}),u?v.jsx("p",{className:"text-sm text-emerald-700 font-medium text-center py-1",children:"You're all caught up! Great work."}):o.length>0?v.jsxs("div",{className:"space-y-1.5",children:[o.map(c=>{const f=c.dueDate&&new Date(c.dueDate)<r;return v.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-white/60 px-3 py-2.5 hover:bg-white/90 transition-colors",children:[v.jsx("button",{onClick:()=>e(c.id,c.completed),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:v.jsx(S3,{size:17})}),v.jsx("span",{className:"flex-1 text-sm font-medium truncate",children:c.title}),v.jsx("span",{className:mt("shrink-0 rounded-full px-2 py-0.5 text-xs font-semibold",f?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"),children:f?"overdue":"high"})]},c.id)}),a.length>o.length&&v.jsxs(mi,{to:"/tasks",className:"block text-center text-xs text-muted-foreground hover:text-primary pt-1",children:["+",a.length-o.length," more tasks"]})]}):v.jsxs("p",{className:"text-sm text-muted-foreground px-1",children:[a.length," pending task",a.length!==1?"s":"","  no urgent ones right now."," ",v.jsx(mi,{to:"/tasks",className:"text-primary underline",children:"View all"})]})]})}function yfe(){var P;const{user:t}=Yo(),{overall:e,subjects:r=[]}=i6(),{today:n=[],date:i,day:o}=n6(),{tasks:a=[],toggle:u}=vA({archived:!1}),{exams:c=[]}=hT(),f=a.filter(O=>!O.completed).length,h=r.filter(O=>O.zone==="risk").length,p=c.filter(O=>!O.archived).length,y=n.filter(O=>!O.alreadyMarked).length;F.useEffect(()=>{!t||r.length===0||h6.checkAndAlert(t,r,a)},[t,r,a]);const x=F.useMemo(()=>r.map(O=>({name:O.subject.name.length>10?O.subject.name.slice(0,10)+"":O.subject.name,fullName:O.subject.name,percent:O.percent,present:O.present,total:O.total,zone:O.zone,classesNeededFor75:O.classesNeededFor75})),[r]),S=(e==null?void 0:e.percent)??0,w=(e==null?void 0:e.zone)??"risk",b=new Date().getHours(),E=b<12?"Good morning":b<17?"Good afternoon":"Good evening";return v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:[E,", ",v.jsx("span",{className:"font-medium text-foreground",children:(P=t==null?void 0:t.name)==null?void 0:P.split(" ")[0]})]})]}),v.jsx(gfe,{tasks:a,toggle:u}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:grid-cols-4",children:[v.jsx(tm,{icon:uy,label:"Overall Attendance",value:`${S}%`,sub:v.jsx(p6,{zone:w}),iconBg:"bg-blue-50",iconColor:"text-blue-600",to:"/attendance"}),v.jsx(tm,{icon:SH,label:"Subjects at Risk",value:h,sub:h>0?"Need attention":"All safe",iconBg:h>0?"bg-rose-50":"bg-emerald-50",iconColor:h>0?"text-rose-600":"text-emerald-600",to:"/attendance"}),v.jsx(tm,{icon:A3,label:"Pending Tasks",value:f,sub:f>0?`${a.filter(O=>!O.completed&&O.dueDate&&new Date(O.dueDate)<new Date).length} overdue`:"All clear",iconBg:"bg-violet-50",iconColor:"text-violet-600",to:"/tasks"}),v.jsx(tm,{icon:vc,label:"Active Exams",value:p,sub:`${y} class${y!==1?"es":""} unmarked today`,iconBg:"bg-amber-50",iconColor:"text-amber-600",to:"/exams"})]}),v.jsxs("div",{className:"grid gap-4 lg:grid-cols-5",children:[v.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[v.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[v.jsx("h3",{className:"mb-3 text-sm font-semibold",children:"Overall Attendance"}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(hfe,{percent:S,zone:w}),v.jsx("div",{className:"space-y-1.5 text-sm",children:[["Present",(e==null?void 0:e.present)??0],["Total",(e==null?void 0:e.total)??0],["Absent",((e==null?void 0:e.total)??0)-((e==null?void 0:e.present)??0)]].map(([O,M])=>v.jsxs("div",{className:"flex justify-between gap-6",children:[v.jsx("span",{className:"text-muted-foreground",children:O}),v.jsx("span",{className:"font-semibold",children:M})]},O))})]})]}),v.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[v.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[v.jsx("h3",{className:"text-sm font-semibold",children:"Below 75% Alert"}),v.jsxs(mi,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Details ",v.jsx(C1,{size:11})]})]}),v.jsx(pfe,{subjects:r})]})]}),v.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow lg:col-span-3",children:[v.jsx("h3",{className:"mb-4 text-sm font-semibold",children:"Subject-wise Attendance"}),x.length===0?v.jsx("div",{className:"flex h-48 items-center justify-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking classes."}):v.jsx(ZQ,{width:"100%",height:220,children:v.jsxs(Hce,{data:x,margin:{top:4,right:8,left:-20,bottom:0},barSize:28,children:[v.jsx(BV,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),v.jsx(Qy,{dataKey:"name",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),v.jsx(Jy,{domain:[0,100],tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),v.jsx(Hy,{y:75,stroke:"#f59e0b",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:"75%",position:"insideTopRight",fontSize:10,fill:"#f59e0b"}}),v.jsx(Di,{content:v.jsx(dfe,{}),cursor:{fill:"hsl(var(--accent))"}}),v.jsx(bl,{dataKey:"percent",radius:[6,6,0,0],children:x.map((O,M)=>v.jsx(Ay,{fill:O.zone==="safe"?"#10b981":"#f43f5e",fillOpacity:.82},M))})]})}),v.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:[v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-emerald-500"}),"  75% Safe"]}),v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-rose-500"})," < 75% Risk"]}),v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"inline-block h-0.5 w-5 bg-amber-400",style:{borderTop:"1px dashed #f59e0b"}})," 75% line"]})]})]})]}),v.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[v.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold",children:"Today's Classes"}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[o,", ",i]})]}),v.jsxs(mi,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Mark ",v.jsx(C1,{size:11})]})]}),v.jsx(mfe,{today:n,date:i,day:o})]})]})}function AD({zone:t}){const e=t==="safe";return v.jsxs("span",{className:mt("inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-semibold",e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e?v.jsx(cT,{size:12}):v.jsx(I3,{size:12}),e?"SAFE":"RISK"]})}function PD({percent:t}){const e=t>=75;return v.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:v.jsx("div",{className:mt("h-full rounded-full transition-all",e?"bg-green-500":"bg-red-400"),style:{width:`${Math.min(t,100)}%`}})})}function vfe({date:t,day:e,today:r,marking:n,onMark:i}){return r.length===0?v.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:["No classes scheduled for today (",e,"). ",v.jsx("br",{}),v.jsx("span",{className:"text-xs",children:"Add a timetable or set one as active to see scheduled subjects."})]}):v.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[v.jsxs("div",{className:"border-b border-border px-4 py-3",children:[v.jsx("h3",{className:"font-semibold",children:"Today's Classes"}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[e,", ",t]})]}),v.jsx("div",{className:"divide-y divide-border",children:r.map(({subject:o,markedStatus:a,alreadyMarked:u})=>v.jsxs("div",{className:"flex flex-col gap-2 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[v.jsx("span",{className:"text-sm font-medium",children:o.name}),u?v.jsx("span",{className:mt("rounded-full px-3 py-1 text-xs font-semibold",a==="present"?"bg-green-100 text-green-800":a==="absent"?"bg-red-100 text-red-800":a==="cancelled"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:a.toUpperCase()}):v.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[v.jsx("button",{disabled:n===o.id,onClick:()=>i(o.id,"present"),className:"rounded-md bg-green-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-50",children:"Present"}),v.jsx("button",{disabled:n===o.id,onClick:()=>i(o.id,"absent"),className:"rounded-md bg-red-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-red-600 disabled:opacity-50",children:"Absent"}),v.jsx("button",{disabled:n===o.id,onClick:()=>i(o.id,"cancelled"),className:"rounded-md border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:bg-accent disabled:opacity-50",children:"Cancelled"})]})]},o.id))})]})}function bfe({overall:t,subjects:e}){return e.length===0?v.jsx("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking your classes above."}):v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[v.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(EH,{size:16,className:"text-muted-foreground"}),v.jsx("span",{className:"text-sm font-semibold",children:"Overall Attendance"})]}),v.jsx(AD,{zone:t.zone})]}),v.jsx(PD,{percent:t.percent}),v.jsxs("p",{className:"mt-1.5 text-xs text-muted-foreground",children:[t.present," present / ",t.total," total  ",t.percent,"%"]})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:[v.jsx("div",{className:"px-4 py-2.5",children:v.jsx("h3",{className:"text-sm font-semibold",children:"Subject-wise Intelligence"})}),e.map(({subject:r,percent:n,present:i,total:o,zone:a,classesNeededFor75:u})=>v.jsxs("div",{className:"px-4 py-3 space-y-1.5",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-medium",children:r.name}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-sm font-semibold",children:[n,"%"]}),v.jsx(AD,{zone:a})]})]}),v.jsx(PD,{percent:n}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[v.jsxs("span",{children:[i," present / ",o," total"]}),a==="risk"&&u>0&&v.jsxs("span",{className:"font-medium text-red-600",children:["Need ",u," consecutive present class",u!==1?"es":""," to reach 75%"]}),a==="safe"&&v.jsx("span",{className:"font-medium text-green-600",children:"On track"})]})]},r.id))]})]})}function xfe(){const{date:t,day:e,today:r,error:n,marking:i,mark:o}=n6(),{overall:a,subjects:u,refresh:c}=i6();function f(h,p){o(h,p),setTimeout(c,50)}return v.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(uy,{size:24,className:"text-primary"}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Attendance"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark today's classes and track your progress."})]})]}),n&&v.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:n}),v.jsx(vfe,{date:t,day:e,today:r??[],marking:i,onMark:f}),v.jsxs("div",{children:[v.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Attendance Intelligence"}),v.jsx(bfe,{overall:a??{percent:0,present:0,total:0,zone:"risk"},subjects:u??[]})]})]})}function _fe(){const{user:t}=Xo(),[e,r]=F.useState([]),[n,i]=F.useState(!0),[o,a]=F.useState(null);F.useEffect(()=>{if(!t)return;const y=Xr(Yr(t.id,"timetables"),Ut("archived","==",!1));return In(y,S=>{const w=S.docs.map(b=>({id:b.id,...b.data()})).sort((b,E)=>b.createdAt.localeCompare(E.createdAt));r(w),i(!1)},S=>{a(S.message),i(!1)})},[t]);const u=F.useCallback(async({name:y})=>{if(t)try{await qa(Yr(t.id,"timetables"),{name:y,active:!1,archived:!1,slots:[],createdAt:new Date().toISOString()})}catch(x){a(x.message)}},[t]),c=F.useCallback(async y=>{if(t)try{const x=tH(Ht);e.forEach(S=>{x.update(Ot(t.id,"timetables",S.id),{active:S.id===y})}),await x.commit()}catch(x){a(x.message)}},[t,e]),f=F.useCallback(async y=>{if(t)try{await wt(Ot(t.id,"timetables",y),{archived:!0,active:!1})}catch(x){a(x.message)}},[t]),h=F.useCallback(async(y,x)=>{if(t)try{const S=e.find(b=>b.id===y);if(!S)return;const w={id:crypto.randomUUID(),...x};await wt(Ot(t.id,"timetables",y),{slots:[...S.slots??[],w]})}catch(S){a(S.message)}},[t,e]),p=F.useCallback(async(y,x)=>{if(t)try{const S=e.find(w=>w.id===y);if(!S)return;await wt(Ot(t.id,"timetables",y),{slots:(S.slots??[]).filter(w=>w.id!==x)})}catch(S){a(S.message)}},[t,e]);return{timetables:e,loading:n,error:o,create:u,activate:c,archive:f,addSlot:h,deleteSlot:p}}const m6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function wfe({timetableId:t,subjects:e,onAdd:r}){const[n,i]=F.useState({day:"Monday",subjectId:"",startTime:"09:00",endTime:"10:00"}),[o,a]=F.useState("");function u(f,h){i(p=>({...p,[f]:h}))}function c(f){if(f.preventDefault(),!n.subjectId){a("Select a subject.");return}if(n.startTime>=n.endTime){a("End time must be after start time.");return}r(t,n),i(h=>({...h,subjectId:""})),a("")}return v.jsxs("form",{onSubmit:c,className:"space-y-2 rounded-lg bg-muted/50 p-3",children:[v.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Add slot"}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[v.jsx("select",{value:n.day,onChange:f=>u("day",f.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:m6.map(f=>v.jsx("option",{children:f},f))}),v.jsxs("select",{value:n.subjectId,onChange:f=>u("subjectId",f.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[v.jsx("option",{value:"",children:" Subject "}),e.map(f=>v.jsx("option",{value:f.id,children:f.name},f.id))]}),v.jsx("input",{type:"time",value:n.startTime,onChange:f=>u("startTime",f.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),v.jsx("input",{type:"time",value:n.endTime,onChange:f=>u("endTime",f.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),o&&v.jsx("p",{className:"text-xs text-destructive",children:o}),v.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[v.jsx(Ur,{size:13})," Add slot"]})]})}function Sfe({slot:t,subjects:e,onDelete:r}){const n=e.find(i=>i.id===t.subjectId);return v.jsxs("div",{className:"flex items-center justify-between border-b border-border px-1 py-2 last:border-0",children:[v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx("span",{className:"w-24 font-medium text-muted-foreground",children:t.day}),v.jsx("span",{className:"font-medium",children:(n==null?void 0:n.name)??"Unknown"}),v.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.startTime,"  ",t.endTime]})]}),v.jsx("button",{onClick:()=>r(t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Remove slot",children:v.jsx(bc,{size:14})})]})}function Efe({tt:t,subjects:e,onActivate:r,onArchive:n,onAddSlot:i,onDeleteSlot:o}){const[a,u]=F.useState(!1);return v.jsxs("div",{className:mt("overflow-hidden rounded-xl border bg-card transition-all",t.active?"border-primary shadow-sm":"border-border"),children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-semibold",children:t.name}),t.active&&v.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary",children:"Active"}),v.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.slots.length," slot",t.slots.length!==1?"s":""]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[!t.active&&v.jsxs("button",{onClick:()=>r(t.id),className:"flex items-center gap-1 rounded-md px-2.5 py-1.5 text-xs font-medium text-primary hover:bg-primary/10",children:[v.jsx(OH,{size:13})," Activate"]}),v.jsx("button",{onClick:()=>n(t.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive",children:v.jsx(bc,{size:15})}),v.jsx("button",{onClick:()=>u(c=>!c),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",children:a?v.jsx(fy,{size:15}):v.jsx(cy,{size:15})})]})]}),a&&v.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[t.slots.length===0?v.jsx("p",{className:"text-sm text-muted-foreground",children:"No slots yet."}):m6.map(c=>{const f=t.slots.filter(h=>h.day===c);return f.length>0?v.jsxs("div",{children:[v.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:c}),f.map(h=>v.jsx(Sfe,{slot:h,subjects:e,onDelete:p=>o(t.id,p)},h.id))]},c):null}),v.jsx(wfe,{timetableId:t.id,subjects:e,onAdd:i})]})]})}function Tfe(){const{timetables:t,create:e,activate:r,archive:n,addSlot:i,deleteSlot:o}=_fe(),{subjects:a}=dy({archived:!1}),[u,c]=F.useState("");function f(y){y.preventDefault();const x=u.trim();x&&(e({name:x}),c(""))}function h(y){confirm("Archive this timetable?")&&n(y)}const p=t.filter(y=>!y.archived);return v.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Timetable"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Create timetables and add class slots. Only one timetable is active at a time."})]}),a.length===0&&v.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",v.jsx("strong",{children:"Subjects"})," page before creating slots."]}),v.jsx("div",{className:"rounded-xl border border-border bg-card p-4",children:v.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[v.jsx("input",{value:u,onChange:y=>c(y.target.value),placeholder:'e.g. "Sem 4 Regular"',className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),v.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[v.jsx(Ur,{size:15})," Create"]})]})}),p.length===0?v.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[v.jsx(sT,{size:36,className:"opacity-30"}),v.jsx("p",{className:"text-sm",children:"No timetables yet."})]}):v.jsx("div",{className:"space-y-3",children:p.map(y=>v.jsx(Efe,{tt:y,subjects:a,onActivate:r,onArchive:h,onAddSlot:i,onDeleteSlot:o},y.id))})]})}function Afe(){const{subjects:t,create:e,update:r,archive:n}=dy({archived:!1}),[i,o]=F.useState(""),[a,u]=F.useState(null),[c,f]=F.useState(""),[h,p]=F.useState("");function y(E){E.preventDefault();const P=i.trim();if(P){if(t.find(O=>O.name.toLowerCase()===P.toLowerCase())){p("A subject with this name already exists.");return}e(P),o(""),p("")}}function x(E){u(E.id),f(E.name)}function S(E){const P=c.trim();if(!P){w();return}r(E,{name:P}),u(null)}function w(){u(null),f("")}function b(E){confirm("Archive this subject? It won't appear in attendance or timetable.")&&n(E)}return v.jsxs("div",{className:"mx-auto max-w-xl space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Subjects"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subjects. Archived subjects are hidden from attendance and timetable."})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[v.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[v.jsx("input",{value:i,onChange:E=>{o(E.target.value),p("")},placeholder:"Subject name (e.g. Mathematics)",className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),v.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[v.jsx(Ur,{size:15}),"Add"]})]}),h&&v.jsx("p",{className:"mt-2 text-xs text-destructive",children:h})]}),v.jsx("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:t.length===0?v.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-muted-foreground",children:[v.jsx(uH,{size:32,className:"opacity-30"}),v.jsx("p",{className:"text-sm",children:"No subjects yet. Add one above."})]}):t.map(E=>a===E.id?v.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[v.jsx("input",{autoFocus:!0,value:c,onChange:P=>f(P.target.value),onKeyDown:P=>{P.key==="Enter"&&S(E.id),P.key==="Escape"&&w()},className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background"}),v.jsx("button",{onClick:()=>S(E.id),className:"rounded-md p-1.5 text-green-600 hover:bg-green-50",title:"Save",children:v.jsx(Da,{size:16})}),v.jsx("button",{onClick:w,className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",title:"Cancel",children:v.jsx($i,{size:16})})]},E.id):v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 hover:bg-accent/50 transition-colors",children:[v.jsx("span",{className:"text-sm font-medium",children:E.name}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>x(E),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground",title:"Rename",children:v.jsx(P3,{size:15})}),v.jsx("button",{onClick:()=>b(E.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive",children:v.jsx(bc,{size:15})})]})]},E.id))}),t.length>0&&v.jsxs("p",{className:"text-right text-xs text-muted-foreground",children:[t.length," subject",t.length!==1?"s":""]})]})}function g6({score:t}){const e=t>60?"high":t>30?"medium":"low";return v.jsxs("span",{className:mt("rounded-full px-2 py-0.5 text-xs font-semibold",e==="high"&&"bg-red-100 text-red-800",e==="medium"&&"bg-amber-100 text-amber-800",e==="low"&&"bg-green-100 text-green-800"),children:["P",t]})}function Yw({value:t,color:e="bg-primary"}){return v.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:v.jsx("div",{className:mt("h-full rounded-full",e),style:{width:`${t}%`}})})}function Pfe({chapter:t,examId:e,subjectId:r,onUpdate:n,onDelete:i}){const[o,a]=F.useState(!1),[u,c]=F.useState({name:t.name,theoryProgress:t.theoryProgress,practiceProgress:t.practiceProgress,weightage:t.weightage});function f(){n(e,r,t.id,{...u,theoryProgress:Number(u.theoryProgress),practiceProgress:Number(u.practiceProgress),weightage:Number(u.weightage)}),a(!1)}return o?v.jsxs("div",{className:"space-y-2 rounded-lg bg-muted/50 p-3",children:[v.jsx("input",{autoFocus:!0,value:u.name,onChange:h=>c(p=>({...p,name:h.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",placeholder:"Chapter name"}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"theoryProgress",label:"Theory %"},{key:"practiceProgress",label:"Practice %"},{key:"weightage",label:"Weightage"}].map(({key:h,label:p})=>v.jsxs("div",{className:"space-y-0.5",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:p}),v.jsx("input",{type:"number",min:0,max:h==="weightage"?10:100,value:u[h],onChange:y=>c(x=>({...x,[h]:y.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]},h))}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:f,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[v.jsx(Da,{size:12})," Save"]}),v.jsxs("button",{onClick:()=>a(!1),className:"flex items-center gap-1 rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent",children:[v.jsx($i,{size:12})," Cancel"]})]})]}):v.jsxs("div",{className:"space-y-1.5 rounded-lg border border-border bg-background p-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-medium",children:t.name}),v.jsx(g6,{score:t.priorityScore})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>a(!0),className:"rounded p-1 text-muted-foreground hover:bg-accent hover:text-foreground",children:v.jsx(P3,{size:13})}),v.jsx("button",{onClick:()=>i(e,r,t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",children:v.jsx(bc,{size:13})})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-muted-foreground",children:[v.jsxs("div",{className:"space-y-0.5",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Theory"}),v.jsxs("span",{children:[t.theoryProgress,"%"]})]}),v.jsx(Yw,{value:t.theoryProgress,color:"bg-blue-400"})]}),v.jsxs("div",{className:"space-y-0.5",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Practice"}),v.jsxs("span",{children:[t.practiceProgress,"%"]})]}),v.jsx(Yw,{value:t.practiceProgress,color:"bg-violet-400"})]})]}),v.jsxs("div",{className:"space-y-0.5",children:[v.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[v.jsx("span",{children:"Overall"}),v.jsxs("span",{className:"font-semibold text-foreground",children:[t.overallProgress,"%"]})]}),v.jsx(Yw,{value:t.overallProgress,color:t.overallProgress>=75?"bg-green-500":"bg-amber-400"})]})]})}function Ife({examId:t,subjectId:e,onAdd:r}){const[n,i]=F.useState(!1),[o,a]=F.useState({name:"",theoryProgress:0,practiceProgress:0,weightage:1}),[u,c]=F.useState("");function f(h){if(h.preventDefault(),!o.name.trim()){c("Chapter name is required.");return}r(t,e,{name:o.name.trim(),theoryProgress:Number(o.theoryProgress),practiceProgress:Number(o.practiceProgress),weightage:Number(o.weightage)}),a({name:"",theoryProgress:0,practiceProgress:0,weightage:1}),c(""),i(!1)}return n?v.jsxs("form",{onSubmit:f,className:"space-y-2 rounded-lg border border-border bg-muted/30 p-3",children:[v.jsx("input",{autoFocus:!0,value:o.name,onChange:h=>a(p=>({...p,name:h.target.value})),placeholder:"Chapter name",className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"theoryProgress",label:"Theory %",max:100},{key:"practiceProgress",label:"Practice %",max:100},{key:"weightage",label:"Weight",max:10}].map(({key:h,label:p,max:y})=>v.jsxs("div",{className:"space-y-0.5",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:p}),v.jsx("input",{type:"number",min:0,max:y,value:o[h],onChange:x=>a(S=>({...S,[h]:x.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]},h))}),u&&v.jsx("p",{className:"text-xs text-destructive",children:u}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[v.jsx(Ur,{size:12})," Add"]}),v.jsx("button",{type:"button",onClick:()=>i(!1),className:"rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent",children:"Cancel"})]})]}):v.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-3 py-1.5 text-xs text-muted-foreground hover:border-primary hover:text-primary",children:[v.jsx(Ur,{size:13})," Add chapter"]})}function Ofe({examSubject:t,allSubjects:e,examId:r,onRemoveSubject:n,onAddChapter:i,onUpdateChapter:o,onDeleteChapter:a}){var c;const u=((c=e.find(f=>f.id===t.subjectId))==null?void 0:c.name)??"Unknown";return v.jsxs("div",{className:"space-y-2 rounded-xl border border-border bg-card/50 p-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h4",{className:"text-sm font-semibold",children:u}),v.jsx("button",{onClick:()=>n(r,t.subjectId),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Remove subject from exam",children:v.jsx($i,{size:14})})]}),v.jsxs("div",{className:"space-y-2",children:[t.chapters.length===0?v.jsx("p",{className:"text-xs text-muted-foreground",children:"No chapters yet."}):t.chapters.map(f=>v.jsx(Pfe,{chapter:f,examId:r,subjectId:t.subjectId,onUpdate:o,onDelete:a},f.id)),v.jsx(Ife,{examId:r,subjectId:t.subjectId,onAdd:i})]})]})}function kfe({exam:t,allSubjects:e,onArchive:r,onAddSubject:n,onRemoveSubject:i,onAddChapter:o,onUpdateChapter:a,onDeleteChapter:u}){const[c,f]=F.useState(!1),[h,p]=F.useState(""),y=t.subjects.map(b=>b.subjectId),x=e.filter(b=>!y.includes(b.id));function S(){h&&(n(t.id,h),p(""))}const w=t.subjects.flatMap(b=>b.chapters.filter(E=>E.priorityScore>40).map(E=>{var P;return{subject:((P=e.find(O=>O.id===b.subjectId))==null?void 0:P.name)??"Unknown",chapter:E.name,score:E.priorityScore,overall:E.overallProgress}})).sort((b,E)=>E.score-b.score);return v.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-semibold",children:t.name}),v.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.subjects.length," subject",t.subjects.length!==1?"s":""]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>{confirm("Archive this exam?")&&r(t.id)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive exam",children:v.jsx(bc,{size:15})}),v.jsx("button",{onClick:()=>f(b=>!b),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",children:c?v.jsx(fy,{size:15}):v.jsx(cy,{size:15})})]})]}),c&&v.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[w.length>0&&v.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[v.jsxs("div",{className:"mb-2 flex items-center gap-1.5 text-xs font-semibold text-amber-800",children:[v.jsx(TH,{size:13})," Needs Attention"]}),v.jsx("ul",{className:"space-y-1",children:w.slice(0,5).map((b,E)=>v.jsxs("li",{className:"flex items-center justify-between text-xs text-amber-900",children:[v.jsxs("span",{children:[b.subject,"  ",b.chapter]}),v.jsx(g6,{score:b.score})]},E))})]}),x.length>0&&v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("select",{value:h,onChange:b=>p(b.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[v.jsx("option",{value:"",children:" Add a subject "}),x.map(b=>v.jsx("option",{value:b.id,children:b.name},b.id))]}),v.jsxs("button",{onClick:S,disabled:!h,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 disabled:opacity-40",children:[v.jsx(Ur,{size:13})," Add"]})]}),t.subjects.length===0?v.jsx("p",{className:"text-sm text-muted-foreground",children:"No subjects added yet."}):t.subjects.map(b=>v.jsx(Ofe,{examSubject:b,allSubjects:e,examId:t.id,onRemoveSubject:i,onAddChapter:o,onUpdateChapter:a,onDeleteChapter:u},b.subjectId))]})]})}function Cfe(){const{exams:t,create:e,archive:r,addSubject:n,removeSubject:i,addChapter:o,updateChapter:a,deleteChapter:u}=hT(),{subjects:c}=dy({archived:!1}),[f,h]=F.useState("");function p(x){x.preventDefault();const S=f.trim();S&&(e({name:S}),h(""))}const y=t.filter(x=>!x.archived);return v.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Exam Preparation"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Track theory and practice progress per chapter. High priority chapters are flagged automatically."})]}),c.length===0&&v.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",v.jsx("strong",{children:"Subjects"})," page."]}),v.jsx("div",{className:"rounded-xl border border-border bg-card p-4",children:v.jsxs("form",{onSubmit:p,className:"flex gap-2",children:[v.jsx("input",{value:f,onChange:x=>h(x.target.value),placeholder:'Exam name (e.g. "Mid Sem 1")',className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),v.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[v.jsx(Ur,{size:15})," Create"]})]})}),y.length===0?v.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[v.jsx(vc,{size:36,className:"opacity-30"}),v.jsx("p",{className:"text-sm",children:"No exams yet. Create one above."})]}):v.jsx("div",{className:"space-y-3",children:y.map(x=>v.jsx(kfe,{exam:x,allSubjects:c,onArchive:r,onAddSubject:n,onRemoveSubject:i,onAddChapter:o,onUpdateChapter:a,onDeleteChapter:u},x.id))})]})}const y6=["low","medium","high"];function Nfe({priority:t}){return v.jsx("span",{className:mt("rounded-full px-2 py-0.5 text-xs font-semibold capitalize",t==="high"&&"bg-rose-100 text-rose-700",t==="medium"&&"bg-amber-100 text-amber-700",t==="low"&&"bg-emerald-100 text-emerald-700"),children:t})}function jfe({task:t,onAdd:e,onToggle:r,onDelete:n}){const[i,o]=F.useState(""),a=F.useRef(null),u=t.subtasks||[],c=u.filter(p=>p.completed).length,f=u.length;function h(p){var x;p.preventDefault();const y=i.trim();y&&(e(t.id,y),o(""),(x=a.current)==null||x.focus())}return v.jsxs("div",{className:"mt-2 ml-8 space-y-1 border-l-2 border-border pl-3 pb-1",children:[u.map(p=>v.jsxs("div",{className:"group flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-muted/60 transition-colors",children:[v.jsx("button",{onClick:()=>r(t.id,p.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:p.completed?v.jsx(_3,{size:15,className:"text-primary"}):v.jsx(S3,{size:15})}),v.jsx("span",{className:mt("flex-1 text-xs leading-snug",p.completed&&"line-through text-muted-foreground"),children:p.title}),v.jsx("button",{onClick:()=>n(t.id,p.id),className:"shrink-0 opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-destructive transition-all",children:v.jsx($i,{size:12})})]},p.id)),v.jsxs("form",{onSubmit:h,className:"flex items-center gap-2 pt-0.5",children:[v.jsx(Ur,{size:13,className:"shrink-0 text-muted-foreground ml-0.5"}),v.jsx("input",{ref:a,value:i,onChange:p=>o(p.target.value),placeholder:"Add a subtask",className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground py-1",onKeyDown:p=>{p.key==="Escape"&&o("")}}),i.trim()&&v.jsx("button",{type:"submit",className:"shrink-0 rounded-md bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary hover:bg-primary/20 transition-colors",children:"Add"})]}),f>0&&v.jsxs("p",{className:"text-[10px] text-muted-foreground pl-1",children:[c,"/",f," completed"]})]})}function ID({task:t,onToggle:e,onArchive:r,onAddSubtask:n,onToggleSubtask:i,onDeleteSubtask:o}){const[a,u]=F.useState(!1),c=t.dueDate&&!t.completed&&new Date(t.dueDate)<new Date,f=t.subtasks||[],h=f.filter(p=>p.completed).length;return v.jsxs("div",{className:mt("transition-colors",t.completed&&"opacity-55"),children:[v.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-muted/40 transition-colors",children:[v.jsx("button",{onClick:()=>e(t.id,t.completed),className:"mt-0.5 shrink-0 text-muted-foreground hover:text-primary transition-colors",title:t.completed?"Mark incomplete":"Mark complete",children:t.completed?v.jsx(fT,{size:17,className:"text-primary"}):v.jsx(wH,{size:17})}),v.jsxs("div",{className:"min-w-0 flex-1 cursor-pointer",onClick:()=>u(p=>!p),children:[v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("p",{className:mt("text-sm font-medium leading-snug",t.completed&&"line-through text-muted-foreground"),children:t.title}),f.length>0&&v.jsxs("span",{className:"rounded-full bg-muted px-1.5 py-0.5 text-[10px] text-muted-foreground font-medium",children:[h,"/",f.length]}),v.jsx(uT,{size:13,className:mt("ml-auto text-muted-foreground transition-transform duration-200",a&&"rotate-90")})]}),t.description&&v.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground truncate",children:t.description}),v.jsxs("div",{className:"mt-1 flex items-center gap-2 flex-wrap",children:[v.jsx(Nfe,{priority:t.priority}),t.dueDate&&v.jsxs("span",{className:mt("text-xs",c?"font-medium text-rose-600":"text-muted-foreground"),children:[c?"Overdue  ":"Due  ",new Date(t.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})]}),v.jsx("button",{onClick:()=>r(t.id),className:"mt-0.5 shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive task",children:v.jsx(bc,{size:13})})]}),a&&v.jsx("div",{className:"px-4 pb-2",children:v.jsx(jfe,{task:t,onAdd:n,onToggle:i,onDelete:o})})]})}function Rfe({onCreate:t}){const[e,r]=F.useState(!1),[n,i]=F.useState({title:"",description:"",dueDate:"",priority:"medium"}),[o,a]=F.useState("");function u(f,h){i(p=>({...p,[f]:h}))}function c(f){if(f.preventDefault(),!n.title.trim()){a("Title is required.");return}t({title:n.title.trim(),description:n.description.trim(),dueDate:n.dueDate||null,priority:n.priority}),i({title:"",description:"",dueDate:"",priority:"medium"}),a(""),r(!1)}return v.jsx("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:e?v.jsxs("form",{onSubmit:c,className:"space-y-3",children:[v.jsx("input",{autoFocus:!0,value:n.title,onChange:f=>u("title",f.target.value),placeholder:"Task title",className:"w-full rounded-xl border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),v.jsx("input",{value:n.description,onChange:f=>u("description",f.target.value),placeholder:"Description (optional)",className:"w-full rounded-xl border border-input bg-background px-3 py-1.5 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("div",{className:"flex-1 space-y-0.5",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Due date"}),v.jsx("input",{type:"date",value:n.dueDate,onChange:f=>u("dueDate",f.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition"})]}),v.jsxs("div",{className:"flex-1 space-y-0.5",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Priority"}),v.jsx("select",{value:n.priority,onChange:f=>u("priority",f.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",children:y6.map(f=>v.jsx("option",{value:f,className:"capitalize",children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]})]}),o&&v.jsx("p",{className:"text-xs text-destructive",children:o}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-xl bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[v.jsx(Ur,{size:14})," Add task"]}),v.jsx("button",{type:"button",onClick:()=>{r(!1),a("")},className:"rounded-xl border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]})]}):v.jsxs("button",{onClick:()=>r(!0),className:"flex w-full items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[v.jsx("div",{className:"rounded-lg bg-primary/10 p-1.5",children:v.jsx(Ur,{size:14,className:"text-primary"})}),"Add a new task"]})})}function Mfe(){const{tasks:t,create:e,toggle:r,archive:n,addSubtask:i,toggleSubtask:o,deleteSubtask:a}=vA({archived:!1}),[u,c]=F.useState("all"),[f,h]=F.useState(!1),p=t.filter(b=>!b.completed),y=t.filter(b=>b.completed);function x(b){return u==="all"?b:b.filter(E=>E.priority===u)}const S=x(p),w=x(y);return v.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[v.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tasks"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.length," pending  ",y.length," done"]})]}),v.jsx("div",{className:"flex self-start overflow-hidden rounded-xl border border-border text-xs font-medium bg-card",children:["all",...y6].map(b=>v.jsx("button",{onClick:()=>c(b),className:mt("px-3 py-1.5 capitalize transition-colors",u===b?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:b},b))})]}),v.jsx(Rfe,{onCreate:e}),S.length===0&&u==="all"?v.jsxs("div",{className:"flex flex-col items-center gap-2 py-10 text-muted-foreground",children:[v.jsx(A3,{size:36,className:"opacity-25"}),v.jsx("p",{className:"text-sm",children:"No pending tasks. Add one above."})]}):v.jsx("div",{className:"overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:S.length===0?v.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No ",u," priority tasks pending."]}):S.map(b=>v.jsx(ID,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:o,onDeleteSubtask:a},b.id))}),y.length>0&&v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>h(b=>!b),className:"flex w-full items-center justify-between rounded-xl px-2 py-2.5 text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:[v.jsxs("span",{children:["Completed (",w.length,")"]}),f?v.jsx(fy,{size:15}):v.jsx(cy,{size:15})]}),f&&v.jsx("div",{className:"mt-1 overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:w.length===0?v.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No completed ",u," priority tasks."]}):w.map(b=>v.jsx(ID,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:o,onDeleteSubtask:a},b.id))})]})]})}const Dfe=[{key:"focusModeEnabled",label:"Focus Mode",desc:"Hide distracting elements during study sessions"},{key:"strictFocusEnabled",label:"Strict Focus",desc:"Lock navigation while focus mode is active"},{key:"motivationEnabled",label:"Motivation Quotes",desc:"Show inspirational quotes on the dashboard"},{key:"analyticsEnabled",label:"Analytics",desc:"Track detailed study and attendance patterns"},{key:"safeModeEnabled",label:"Safe Mode",desc:"Show confirmation dialogs before destructive actions"}];function Lfe(){var ue;const{user:t,refreshUser:e}=Yo(),[r,n]=F.useState({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??""}),[i,o]=F.useState(!1),[a,u]=F.useState(!1),[c,f]=F.useState("");async function h(te){te.preventDefault();const be=r.name.trim();if(be){o(!0),f(""),u(!1);try{await hi.updateProfile({name:be,course:r.course.trim(),semester:r.semester.trim()}),await e(),u(!0),setTimeout(()=>u(!1),2500)}catch(Ne){f(Ne.message||"Failed to save profile.")}finally{o(!1)}}}const[p,y]=F.useState((t==null?void 0:t.settings)??{focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0}),[x,S]=F.useState(!1),[w,b]=F.useState(!1),[E,P]=F.useState("");async function O(te){const be={...p,[te]:!p[te]};y(be),S(!0),P(""),b(!1);try{await hi.updateSettings(be),await e(),b(!0),setTimeout(()=>b(!1),2e3)}catch(Ne){y(p),P(Ne.message||"Failed to save settings.")}finally{S(!1)}}const[M,k]=F.useState(()=>typeof Notification<"u"?Notification.permission:"denied"),[R,I]=F.useState((t==null?void 0:t.notificationsEmail)??!1),[C,j]=F.useState(!1),[U,V]=F.useState(!1);async function L(){const te=await h6.requestPermission();k(te)}async function $(){const te=!R;I(te),j(!0),V(!1);try{await hi.updateNotificationPrefs({notificationsEmail:te}),await e(),V(!0),setTimeout(()=>V(!1),2e3)}catch{I(!te)}finally{j(!1)}}const Z=(((ue=sn.currentUser)==null?void 0:ue.providerData.map(te=>te.providerId))??[]).includes("password"),[ie,ae]=F.useState({password:"",confirm:""}),[X,oe]=F.useState(!1),[ne,q]=F.useState(!1),[K,fe]=F.useState("");async function Se(te){if(te.preventDefault(),ie.password!==ie.confirm){fe("Passwords do not match.");return}if(ie.password.length<6){fe("Password must be at least 6 characters.");return}oe(!0),fe(""),q(!1);try{await hi.addPassword(ie.password),q(!0),ae({password:"",confirm:""})}catch(be){fe(be.message||"Failed to set password.")}finally{oe(!1)}}return v.jsxs("div",{className:"mx-auto max-w-xl space-y-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Profile & Settings"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your personal info and app preferences."})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-3",children:[v.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Account"}),v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx(vH,{size:15,className:"text-muted-foreground shrink-0"}),v.jsx("span",{children:(t==null?void 0:t.email)??""})]})]}),!Z&&v.jsxs("div",{className:"rounded-xl border border-amber-400/40 bg-amber-50/5 p-5 space-y-4",children:[v.jsxs("h3",{className:"text-sm font-semibold text-amber-500 uppercase tracking-wide flex items-center gap-2",children:[v.jsx(gH,{size:14}),"Set a Password"]}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Your account uses Google sign-in only. Set a password to also log in with your email."}),K&&v.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:K}),ne&&v.jsxs("div",{className:"rounded-md bg-green-500/10 px-3 py-2 text-sm text-green-600 flex items-center gap-1.5",children:[v.jsx(Da,{size:14})," Password set  you can now log in with email & password."]}),v.jsxs("form",{onSubmit:Se,className:"space-y-3",children:[v.jsx("input",{type:"password",placeholder:"New password",value:ie.password,onChange:te=>ae(be=>({...be,password:te.target.value})),required:!0,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),v.jsx("input",{type:"password",placeholder:"Confirm password",value:ie.confirm,onChange:te=>ae(be=>({...be,confirm:te.target.value})),required:!0,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),v.jsx("button",{type:"submit",disabled:X,className:"rounded-md bg-amber-500 px-4 py-2 text-sm font-semibold text-white transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:X?"Setting password...":"Set password"})]})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Personal Info"}),c&&v.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:c}),v.jsxs("form",{onSubmit:h,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("label",{htmlFor:"name",className:"flex items-center gap-1.5 text-sm font-medium",children:[v.jsx(IH,{size:13,className:"text-muted-foreground"}),"Full name"]}),v.jsx("input",{id:"name",value:r.name,onChange:te=>n(be=>({...be,name:te.target.value})),placeholder:"Your name",required:!0,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("label",{htmlFor:"course",className:"flex items-center gap-1.5 text-sm font-medium",children:[v.jsx(vc,{size:13,className:"text-muted-foreground"}),"Course"]}),v.jsx("input",{id:"course",value:r.course,onChange:te=>n(be=>({...be,course:te.target.value})),placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("label",{htmlFor:"semester",className:"flex items-center gap-1.5 text-sm font-medium",children:[v.jsx(mH,{size:13,className:"text-muted-foreground"}),"Semester"]}),v.jsx("input",{id:"semester",value:r.semester,onChange:te=>n(be=>({...be,semester:te.target.value})),placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{type:"submit",disabled:i,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:i?"Saving...":"Save changes"}),a&&v.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[v.jsx(Da,{size:14})," Saved"]})]})]})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[v.jsx(_H,{size:14}),"App Settings"]}),w&&v.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[v.jsx(Da,{size:12})," Saved"]})]}),E&&v.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:E}),v.jsx("div",{className:"divide-y divide-border",children:Dfe.map(({key:te,label:be,desc:Ne})=>v.jsxs("div",{className:"flex items-center justify-between py-3",children:[v.jsxs("div",{className:"space-y-0.5",children:[v.jsx("p",{className:"text-sm font-medium",children:be}),v.jsx("p",{className:"text-xs text-muted-foreground",children:Ne})]}),v.jsx("button",{type:"button",role:"switch","aria-checked":p[te],onClick:()=>O(te),disabled:x,className:`relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${p[te]?"bg-primary":"bg-input"}`,children:v.jsx("span",{className:`pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-lg transform transition duration-200 ease-in-out ${p[te]?"translate-x-4":"translate-x-0"}`})})]},te))})]}),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[v.jsx(wk,{size:14}),"Notifications"]}),U&&v.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[v.jsx(Da,{size:12})," Saved"]})]}),v.jsxs("div",{className:"divide-y divide-border",children:[v.jsxs("div",{className:"flex items-center justify-between py-3",children:[v.jsxs("div",{className:"space-y-0.5",children:[v.jsx("p",{className:"text-sm font-medium",children:"Browser Notifications"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:M==="granted"?"Enabled  you'll see alerts for attendance risk and overdue tasks.":M==="denied"?"Blocked by browser. Allow notifications in your browser/system settings.":"Get on-device alerts when attendance drops or tasks are overdue."})]}),M==="granted"?v.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-semibold text-emerald-700",children:[v.jsx(wk,{size:11})," On"]}):M==="denied"?v.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-muted px-2.5 py-1 text-xs font-semibold text-muted-foreground",children:[v.jsx(lH,{size:11})," Blocked"]}):v.jsx("button",{onClick:L,className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-semibold text-primary-foreground hover:opacity-90 transition-opacity",children:"Enable"})]}),v.jsxs("div",{className:"flex items-center justify-between py-3",children:[v.jsxs("div",{className:"space-y-0.5",children:[v.jsx("p",{className:"text-sm font-medium",children:"Email Alerts"}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:["Send alerts to ",v.jsx("span",{className:"font-medium",children:t==null?void 0:t.email})," for attendance risk and overdue tasks."," ","Requires EmailJS to be configured by the admin."]})]}),v.jsx("button",{type:"button",role:"switch","aria-checked":R,onClick:$,disabled:C,className:`relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${R?"bg-primary":"bg-input"}`,children:v.jsx("span",{className:`pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-lg transform transition duration-200 ease-in-out ${R?"translate-x-4":"translate-x-0"}`})})]})]})]})]})}const Qw={high:"bg-rose-500",medium:"bg-amber-400",low:"bg-emerald-500"},$fe={high:"text-rose-600",medium:"text-amber-600",low:"text-emerald-600"},Vfe={high:"bg-rose-50 dark:bg-rose-950/30",medium:"bg-amber-50 dark:bg-amber-950/30",low:"bg-emerald-50 dark:bg-emerald-950/30"},Ffe=["January","February","March","April","May","June","July","August","September","October","November","December"],Ufe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function OD(t){return String(t).padStart(2,"0")}function kD(t,e,r){return`${t}-${OD(e+1)}-${OD(r)}`}function Bfe(){const t=new Date,e=kD(t.getFullYear(),t.getMonth(),t.getDate()),[r,n]=F.useState(t.getFullYear()),[i,o]=F.useState(t.getMonth()),[a,u]=F.useState(e),{tasks:c}=vA({archived:!1}),f=qo(),h=F.useMemo(()=>{var P;const E={};for(const O of c)O.dueDate&&(E[P=O.dueDate]??(E[P]=[])).push(O);return E},[c]),{days:p,firstDow:y}=F.useMemo(()=>{const E=new Date(r,i,1),P=new Date(r,i+1,0).getDate(),O=E.getDay();return{days:Array.from({length:P},(k,R)=>({d:R+1,dateStr:kD(r,i,R+1)})),firstDow:O}},[r,i]);function x(){i===0?(n(E=>E-1),o(11)):o(E=>E-1),u(null)}function S(){i===11?(n(E=>E+1),o(0)):o(E=>E+1),u(null)}const w=a?h[a]??[]:[];function b(E){return E?new Date(E+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"}):""}return v.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[v.jsx("h1",{className:"text-xl font-bold",children:"Task Calendar"}),v.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-card px-4 py-3",children:[v.jsx("button",{onClick:x,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:v.jsx(dH,{size:18})}),v.jsxs("span",{className:"text-sm font-semibold",children:[Ffe[i]," ",r]}),v.jsx("button",{onClick:S,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:v.jsx(uT,{size:18})})]}),v.jsx("div",{className:"grid grid-cols-7",children:Ufe.map(E=>v.jsx("div",{className:"py-1 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:E},E))}),v.jsxs("div",{className:"grid grid-cols-7 gap-px overflow-hidden rounded-xl border border-border bg-border",children:[Array.from({length:y}).map((E,P)=>v.jsx("div",{className:"bg-background/60 aspect-square"},`e${P}`)),p.map(({d:E,dateStr:P})=>{const O=h[P]??[],M=P===e,k=P===a,R=[...new Set(O.map(I=>I.priority))].slice(0,3);return v.jsxs("button",{onClick:()=>u(k?null:P),className:`flex min-h-[52px] flex-col items-center bg-background pb-1.5 pt-1 transition-colors hover:bg-accent ${k?"ring-2 ring-inset ring-primary bg-primary/5":""}`,children:[v.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-medium ${M?"bg-primary text-primary-foreground":k?"font-bold":""}`,children:E}),R.length>0&&v.jsx("div",{className:"mt-0.5 flex flex-wrap justify-center gap-0.5",children:R.map(I=>v.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${Qw[I]??"bg-muted"}`},I))})]},P)})]}),v.jsx("div",{className:"flex justify-center gap-5",children:Object.entries(Qw).map(([E,P])=>v.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[v.jsx("span",{className:`h-2 w-2 rounded-full ${P}`}),E.charAt(0).toUpperCase()+E.slice(1)]},E))}),a&&v.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[v.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-sm font-semibold",children:b(a)}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.length," task",w.length!==1?"s":""]})]}),v.jsxs("button",{onClick:()=>f("/tasks"),className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium hover:bg-accent transition-colors",children:[v.jsx(Ur,{size:12}),"Add Task"]})]}),w.length===0?v.jsx("p",{className:"py-6 text-center text-xs text-muted-foreground",children:"No tasks due on this day."}):v.jsx("div",{className:"flex flex-col gap-2",children:w.map(E=>v.jsxs("div",{className:`flex items-start gap-2.5 rounded-lg p-2.5 ${Vfe[E.priority]??""} ${E.completed?"opacity-50":""}`,children:[v.jsx("span",{className:`mt-1 h-2 w-2 shrink-0 rounded-full ${Qw[E.priority]??"bg-muted"}`}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("p",{className:`text-sm font-medium leading-snug ${E.completed?"line-through text-muted-foreground":""}`,children:E.title}),E.description&&v.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:E.description}),v.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide ${$fe[E.priority]??""}`,children:E.priority})]}),E.completed&&v.jsx("span",{className:"shrink-0 text-[10px] text-muted-foreground",children:"Done"})]},E.id))})]})]})}function zfe(t){return xi(Ht,"publicProfiles",t)}function CD(){return Ki(Ht,"friendRequests")}function ND(t){return xi(Ht,"friendRequests",t)}const jf={async upsertPublicProfile(t,{name:e,course:r}){const n=e??"";await ko(zfe(t),{name:n,nameLower:n.toLowerCase(),course:r??"",uid:t},{merge:!0})},async searchUsers(t){const e=t.toLowerCase(),r=Xr(Ki(Ht,"publicProfiles"),Ut("nameLower",">=",e),Ut("nameLower","<=",e+""),YW(20));return(await $u(r)).docs.map(i=>({...i.data()}))},async sendRequest(t,e,r,n){const i=Xr(CD(),Ut("fromUid","==",t),Ut("toUid","==",r),Ut("status","==","pending"));if(!(await $u(i)).empty)throw new Error("Friend request already sent.");if((await _o(Ot(t,"friends",r))).exists())throw new Error("Already friends.");await qa(CD(),{fromUid:t,fromName:e,toUid:r,toName:n,status:"pending",createdAt:new Date().toISOString()})},async acceptRequest(t,e,r,n,i){await ko(Ot(n,"friends",e),{uid:e,name:r,addedAt:new Date().toISOString()}),await ko(Ot(e,"friends",n),{uid:n,name:i,addedAt:new Date().toISOString()}),await wt(ND(t),{status:"accepted"})},async rejectRequest(t){await wt(ND(t),{status:"rejected"})},async removeFriend(t,e){await _k(Ot(t,"friends",e)),await _k(Ot(e,"friends",t))}};function v6(){const{user:t}=Xo(),[e,r]=F.useState([]),[n,i]=F.useState([]),[o,a]=F.useState([]),[u,c]=F.useState(!0),[f,h]=F.useState(null);F.useEffect(()=>{if(t)return In(Yr(t.id,"friends"),b=>{r(b.docs.map(E=>({id:E.id,...E.data()}))),c(!1)},b=>{h(b.message),c(!1)})},[t]),F.useEffect(()=>{if(!t)return;const b=Xr(Ki(Ht,"friendRequests"),Ut("toUid","==",t.id),Ut("status","==","pending"));return In(b,E=>{i(E.docs.map(P=>({id:P.id,...P.data()})))})},[t]),F.useEffect(()=>{if(!t)return;const b=Xr(Ki(Ht,"friendRequests"),Ut("fromUid","==",t.id),Ut("status","==","pending"));return In(b,E=>{a(E.docs.map(P=>({id:P.id,...P.data()})))})},[t]);const p=F.useCallback(async b=>{if(!b.trim()||!t)return{results:[],error:null};try{return{results:(await jf.searchUsers(b.trim())).filter(P=>P.uid!==t.id&&!e.find(O=>O.uid===P.uid)),error:null}}catch(E){return{results:[],error:E.message}}},[t,e]),y=F.useCallback(async b=>{if(t)try{await jf.sendRequest(t.id,t.name,b.uid,b.name)}catch(E){throw h(E.message),E}},[t]),x=F.useCallback(async b=>{if(t)try{await jf.acceptRequest(b.id,b.fromUid,b.fromName,t.id,t.name)}catch(E){h(E.message)}},[t]),S=F.useCallback(async b=>{if(t)try{await jf.rejectRequest(b)}catch(E){h(E.message)}},[t]),w=F.useCallback(async b=>{if(t)try{await jf.removeFriend(t.id,b)}catch(E){h(E.message)}},[t]);return{friends:e,incomingRequests:n,outgoingRequests:o,loading:u,error:f,searchUsers:p,sendRequest:y,acceptRequest:x,rejectRequest:S,removeFriend:w}}const Jw=t=>xi(Ht,"studyGroups",t),qfe=t=>Ki(Ht,"studyGroups",t,"posts"),jD=()=>Ki(Ht,"groupInvites"),RD=t=>xi(Ht,"groupInvites",t),Ks={async createGroup(t,e,r){const n=await qa(Ki(Ht,"studyGroups"),{name:r,createdBy:t,memberUids:[t],members:[{uid:t,name:e,joinedAt:new Date().toISOString()}],createdAt:new Date().toISOString()});return await ko(Ot(t,"groups",n.id),{groupId:n.id,name:r,joinedAt:new Date().toISOString()}),n.id},async inviteToGroup(t,e,r,n,i,o){var c,f;if((f=(c=(await _o(Jw(t))).data())==null?void 0:c.memberUids)!=null&&f.includes(i))throw new Error("Already a member of this group.");if(!(await $u(Xr(jD(),Ut("groupId","==",t),Ut("toUid","==",i),Ut("status","==","pending")))).empty)throw new Error("Invite already sent.");await qa(jD(),{groupId:t,groupName:e,fromUid:r,fromName:n,toUid:i,toName:o,status:"pending",createdAt:new Date().toISOString()})},async acceptGroupInvite(t,e,r,n){var a;const o=((a=(await _o(Jw(e))).data())==null?void 0:a.name)??"";await wt(Jw(e),{memberUids:qb(r),members:qb({uid:r,name:n,joinedAt:new Date().toISOString()})}),await ko(Ot(r,"groups",e),{groupId:e,name:o,joinedAt:new Date().toISOString()}),await wt(RD(t),{status:"accepted"})},async rejectGroupInvite(t){await wt(RD(t),{status:"rejected"})},async createPost(t,{authorUid:e,authorName:r,type:n,title:i,description:o,date:a}){await qa(qfe(t),{authorUid:e,authorName:r,type:n,title:i,description:o??"",date:a??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r){await wt(xi(Ht,"studyGroups",t,"posts",e),{savedBy:qb(r)})},async unsavePost(t,e,r){await wt(xi(Ht,"studyGroups",t,"posts",e),{savedBy:eH(r)})}};function b6(){const{user:t}=Xo(),[e,r]=F.useState([]),[n,i]=F.useState([]),[o,a]=F.useState(!0);F.useEffect(()=>{if(t)return In(Yr(t.id,"groups"),p=>{r(p.docs.map(y=>({id:y.id,...y.data()})).sort((y,x)=>(x.joinedAt??"").localeCompare(y.joinedAt??""))),a(!1)})},[t]),F.useEffect(()=>{if(!t)return;const p=Xr(Ki(Ht,"groupInvites"),Ut("toUid","==",t.id),Ut("status","==","pending"));return In(p,y=>{i(y.docs.map(x=>({id:x.id,...x.data()})))})},[t]);const u=F.useCallback(async p=>{if(!(!t||!p.trim()))return Ks.createGroup(t.id,t.name,p.trim())},[t]),c=F.useCallback(async(p,y,x)=>{if(t)return Ks.inviteToGroup(p,y,t.id,t.name,x.uid,x.name)},[t]),f=F.useCallback(async p=>{if(t)return Ks.acceptGroupInvite(p.id,p.groupId,t.id,t.name)},[t]),h=F.useCallback(async p=>Ks.rejectGroupInvite(p),[]);return{myGroups:e,groupInvites:n,loading:o,createGroup:u,inviteToGroup:c,acceptInvite:f,rejectInvite:h}}function Wfe(t){const{user:e}=Xo(),[r,n]=F.useState(null),[i,o]=F.useState([]),[a,u]=F.useState(!0);F.useEffect(()=>{if(!e||!t)return;const h=In(xi(Ht,"studyGroups",t),y=>{y.exists()&&n({id:y.id,...y.data()}),u(!1)}),p=In(Xr(Ki(Ht,"studyGroups",t,"posts"),XW("createdAt","desc")),y=>{o(y.docs.map(x=>({id:x.id,...x.data()})))});return()=>{h(),p()}},[e,t]);const c=F.useCallback(async h=>{if(!(!e||!t))return Ks.createPost(t,{...h,authorUid:e.id,authorName:e.name})},[e,t]),f=F.useCallback(async(h,p)=>{if(!(!e||!t))return p?Ks.unsavePost(t,h,e.id):Ks.savePost(t,h,e.id)},[e,t]);return{group:r,posts:i,loading:a,createPost:c,toggleSave:f}}function rm({name:t,size:e="md"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="sm"?"h-9 w-9 text-xs":"h-11 w-11 text-sm";return v.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function Hfe(){const t=qo(),{friends:e,incomingRequests:r,outgoingRequests:n,loading:i,searchUsers:o,sendRequest:a,acceptRequest:u,rejectRequest:c,removeFriend:f}=v6(),{myGroups:h,groupInvites:p,createGroup:y,acceptInvite:x,rejectInvite:S}=b6(),[w,b]=F.useState(""),[E,P]=F.useState([]),[O,M]=F.useState(!1),[k,R]=F.useState(null),[I,C]=F.useState({}),j=F.useRef(null),[U,V]=F.useState("friends"),[L,$]=F.useState(!1),[Y,Z]=F.useState(""),[ie,ae]=F.useState("");async function X(ue){if(b(ue),R(null),clearTimeout(j.current),!ue.trim()){P([]);return}j.current=setTimeout(async()=>{M(!0);const{results:te,error:be}=await o(ue);P(te),R(be),M(!1)},400)}async function oe(ue){try{await a(ue),C(te=>({...te,[ue.uid]:!0}))}catch{}}async function ne(ue){if(ue.preventDefault(),!!Y.trim()){ae("");try{const te=await y(Y);Z(""),$(!1),te&&t(`/ptp/group/${te}`)}catch(te){ae(te.message)}}}const q=w.length>0,K=r.length+p.length;function fe(ue){return I[ue]||n.some(te=>te.toUid===ue)}function Se(ue){return e.some(te=>te.uid===ue)}return v.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold",children:"Study Peers"}),v.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Connect, form study groups, and share resources"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(xH,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),v.jsx("input",{value:w,onChange:ue=>X(ue.target.value),placeholder:"Search peers by name",className:"w-full rounded-xl border border-border bg-card py-2.5 pl-9 pr-9 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),w&&v.jsx("button",{onClick:()=>{b(""),P([]),R(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:v.jsx($i,{size:14})})]}),q&&v.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[v.jsx("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Search Results"}),O?v.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"Searching"}):k?v.jsxs("div",{className:"px-4 py-6 text-center",children:[v.jsx("p",{className:"text-sm font-medium text-destructive",children:"Search failed"}),v.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Firestore rules may not be published yet. Go to Firebase Console  Firestore  Rules and publish the rules from ",v.jsx("code",{className:"font-mono",children:"firestore.rules"}),"."]})]}):E.length===0?v.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No users found."}):v.jsx("div",{className:"divide-y divide-border",children:E.map(ue=>v.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[v.jsx(rm,{name:ue.name}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("p",{className:"truncate text-sm font-medium",children:ue.name}),ue.course&&v.jsx("p",{className:"truncate text-xs text-muted-foreground",children:ue.course})]}),Se(ue.uid)?v.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600",children:[v.jsx(AH,{size:14})," Friends"]}):fe(ue.uid)?v.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[v.jsx(N1,{size:13})," Sent"]}):v.jsxs("button",{onClick:()=>oe(ue),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground",children:[v.jsx(k3,{size:12})," Add"]})]},ue.uid))})]}),v.jsx("div",{className:"flex gap-1 rounded-xl bg-muted p-1",children:[{key:"friends",label:`Friends (${e.length})`},{key:"requests",label:"Requests",badge:K},{key:"groups",label:`Groups (${h.length})`}].map(({key:ue,label:te,badge:be})=>v.jsxs("button",{onClick:()=>V(ue),className:mt("relative flex-1 rounded-lg py-1.5 text-xs font-medium transition-colors",U===ue?"bg-card shadow-sm":"text-muted-foreground"),children:[te,be>0&&v.jsx("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[9px] font-bold text-white",children:be})]},ue))}),U==="friends"&&v.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:i?v.jsx("p",{className:"py-10 text-center text-sm text-muted-foreground",children:"Loading"}):e.length===0?v.jsxs("div",{className:"flex flex-col items-center gap-2 py-14",children:[v.jsx(C3,{size:38,className:"text-muted-foreground/30"}),v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study peers yet"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Search above to find classmates"})]}):v.jsx("div",{className:"divide-y divide-border",children:e.map(ue=>v.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[v.jsx(rm,{name:ue.name}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("p",{className:"truncate text-sm font-medium",children:ue.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Study peer"})]}),v.jsx("button",{onClick:()=>f(ue.uid),className:"text-xs text-muted-foreground transition-colors hover:text-destructive",children:"Remove"})]},ue.id))})}),U==="requests"&&v.jsxs("div",{className:"space-y-3",children:[r.length>0&&v.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[v.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Friend Requests (",r.length,")"]}),v.jsx("div",{className:"divide-y divide-border",children:r.map(ue=>v.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[v.jsx(rm,{name:ue.fromName}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("p",{className:"truncate text-sm font-medium",children:ue.fromName}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"wants to study together"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>u(ue),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:v.jsx(Da,{size:14})}),v.jsx("button",{onClick:()=>c(ue.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:v.jsx($i,{size:14})})]})]},ue.id))})]}),p.length>0&&v.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[v.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Group Invites (",p.length,")"]}),v.jsx("div",{className:"divide-y divide-border",children:p.map(ue=>v.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[v.jsx("div",{className:"flex h-11 w-11 shrink-0 items-center justify-center rounded-full bg-primary/10",children:v.jsx(Xf,{size:18,className:"text-primary"})}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("p",{className:"truncate text-sm font-semibold",children:ue.groupName}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:["Invited by ",ue.fromName]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>x(ue),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:v.jsx(Da,{size:14})}),v.jsx("button",{onClick:()=>S(ue.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:v.jsx($i,{size:14})})]})]},ue.id))})]}),n.length>0&&v.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[v.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Sent (",n.length,")"]}),v.jsx("div",{className:"divide-y divide-border",children:n.map(ue=>v.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[v.jsx(rm,{name:ue.toName}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("p",{className:"truncate text-sm font-medium",children:ue.toName}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Request pending"})]}),v.jsx(N1,{size:14,className:"shrink-0 text-muted-foreground"})]},ue.id))})]}),r.length===0&&n.length===0&&p.length===0&&v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[v.jsx(PH,{size:38,className:"text-muted-foreground/30"}),v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No pending requests"})]})]}),U==="groups"&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:()=>{$(ue=>!ue),ae("")},className:mt("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",L?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[L?v.jsx($i,{size:15}):v.jsx(Ur,{size:15}),L?"Cancel":"Create Study Group"]}),L&&v.jsxs("form",{onSubmit:ne,className:"flex flex-col gap-2 rounded-xl border border-border bg-card p-4",children:[v.jsx("input",{autoFocus:!0,value:Y,onChange:ue=>Z(ue.target.value),placeholder:"Group name e.g. BCA Batch 26",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),ie&&v.jsx("p",{className:"text-xs text-destructive",children:ie}),v.jsx("button",{type:"submit",disabled:!Y.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:"Create & Open"})]}),h.length===0&&!L?v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[v.jsx(Xf,{size:38,className:"text-muted-foreground/30"}),v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study groups yet"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a group or accept an invitation"})]}):v.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card divide-y divide-border",children:h.map(ue=>v.jsxs("button",{onClick:()=>t(`/ptp/group/${ue.groupId}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[v.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:v.jsx(Xf,{size:17,className:"text-primary"})}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("p",{className:"truncate text-sm font-semibold",children:ue.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to open"})]}),v.jsx(uT,{size:15,className:"shrink-0 text-muted-foreground"})]},ue.id))})]})]})}const rE=[{value:"task",label:"Task",icon:E3,bg:"bg-blue-100 dark:bg-blue-950/40",text:"text-blue-700 dark:text-blue-400"},{value:"assignment",label:"Assignment",icon:hH,bg:"bg-purple-100 dark:bg-purple-950/40",text:"text-purple-700 dark:text-purple-400"},{value:"exam_date",label:"Exam Date",icon:lT,bg:"bg-rose-100 dark:bg-rose-950/40",text:"text-rose-700 dark:text-rose-400"},{value:"exam_pattern",label:"Exam Pattern",icon:vc,bg:"bg-amber-100 dark:bg-amber-950/40",text:"text-amber-700 dark:text-amber-400"},{value:"note",label:"Note",icon:O3,bg:"bg-emerald-100 dark:bg-emerald-950/40",text:"text-emerald-700 dark:text-emerald-400"}];function x6(t){return rE.find(e=>e.value===t)??rE[4]}function Zw({name:t,size:e="sm"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="xs"?"h-7 w-7 text-[10px]":"h-9 w-9 text-xs";return v.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function Gfe({type:t}){const e=x6(t),r=e.icon;return v.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold ${e.bg} ${e.text}`,children:[v.jsx(r,{size:10}),e.label]})}function Kfe(){var fe,Se,ue;const{groupId:t}=cU(),e=qo(),{user:r}=Yo(),{group:n,posts:i,loading:o,createPost:a,toggleSave:u}=Wfe(t),{inviteToGroup:c}=b6(),{friends:f}=v6(),[h,p]=F.useState(!1),[y,x]=F.useState("task"),[S,w]=F.useState(""),[b,E]=F.useState(""),[P,O]=F.useState(""),[M,k]=F.useState(""),[R,I]=F.useState(!1),[C,j]=F.useState(!1),[U,V]=F.useState(!1),[L,$]=F.useState({}),[Y,Z]=F.useState(""),[ie,ae]=F.useState({}),X=f.filter(te=>{var be;return!((be=n==null?void 0:n.memberUids)!=null&&be.includes(te.uid))});async function oe(te){if(te.preventDefault(),!!S.trim()){k(""),I(!0);try{await a({type:y,title:S.trim(),description:b.trim(),date:P||null}),w(""),E(""),O(""),p(!1)}catch(be){k(be.message)}I(!1)}}async function ne(te){var Ne;const be=ie[te.id]??((Ne=te.savedBy)==null?void 0:Ne.includes(r==null?void 0:r.id));if(ae(ge=>({...ge,[te.id]:!be})),await u(te.id,be),!be)try{await Us.create(r.id,{title:te.title,description:`[${(n==null?void 0:n.name)??"Group"}] ${te.description}`.trim(),dueDate:te.date??"",priority:te.type==="exam_date"?"high":"medium"})}catch{}}async function q(te){if(n){Z("");try{await c(t,n.name,te),$(be=>({...be,[te.uid]:!0}))}catch(be){Z(be.message)}}}if(o)return v.jsx("div",{className:"flex h-40 items-center justify-center",children:v.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})});if(!n)return v.jsxs("div",{className:"flex flex-col items-center gap-2 py-20",children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Group not found."}),v.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const K=["task","assignment","exam_date"].includes(y);return v.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:v.jsx(sH,{size:18})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h1",{className:"text-lg font-bold truncate",children:n.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[((fe=n.memberUids)==null?void 0:fe.length)??0," member",((Se=n.memberUids)==null?void 0:Se.length)!==1?"s":""]})]})]}),v.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[v.jsxs("button",{onClick:()=>j(te=>!te),className:"flex w-full items-center justify-between px-4 py-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[v.jsx(C3,{size:14,className:"text-primary"}),"Members (",((ue=n.members)==null?void 0:ue.length)??0,")"]}),C?v.jsx(fy,{size:14,className:"text-muted-foreground"}):v.jsx(cy,{size:14,className:"text-muted-foreground"})]}),C&&v.jsxs("div",{className:"border-t border-border",children:[v.jsx("div",{className:"divide-y divide-border",children:(n.members??[]).map(te=>v.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5",children:[v.jsx(Zw,{name:te.name,size:"xs"}),v.jsx("p",{className:"flex-1 text-sm",children:te.name}),te.uid===n.createdBy&&v.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:"Admin"})]},te.uid))}),v.jsxs("div",{className:"border-t border-border p-3 space-y-2",children:[v.jsxs("button",{onClick:()=>{V(te=>!te),Z("")},className:"flex items-center gap-1.5 text-xs font-medium text-primary",children:[v.jsx(k3,{size:13}),U?"Close":"Invite a Friend"]}),U&&v.jsxs("div",{className:"space-y-1.5",children:[Y&&v.jsx("p",{className:"text-xs text-destructive",children:Y}),X.length===0?v.jsx("p",{className:"py-2 text-center text-xs text-muted-foreground",children:"All your friends are already in this group."}):X.map(te=>v.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted px-3 py-2",children:[v.jsx(Zw,{name:te.name,size:"xs"}),v.jsx("span",{className:"flex-1 text-sm",children:te.name}),L[te.uid]?v.jsx("span",{className:"text-xs text-muted-foreground",children:"Sent"}):v.jsx("button",{onClick:()=>q(te),className:"rounded-lg bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground",children:"Invite"})]},te.uid))]})]})]})]}),v.jsxs("button",{onClick:()=>p(te=>!te),className:mt("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",h?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[h?v.jsx($i,{size:15}):v.jsx(Ur,{size:15}),h?"Cancel":"Share with Group"]}),h&&v.jsxs("form",{onSubmit:oe,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[v.jsx("div",{className:"flex flex-wrap gap-1.5",children:rE.map(te=>{const be=y===te.value;return v.jsx("button",{type:"button",onClick:()=>x(te.value),className:mt("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",be?`${te.bg} ${te.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:te.label},te.value)})}),v.jsx("input",{autoFocus:!0,value:S,onChange:te=>w(te.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),v.jsx("textarea",{value:b,onChange:te=>E(te.target.value),placeholder:"Details, topics to cover, notes",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),K&&v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),v.jsx("input",{type:"date",value:P,onChange:te=>O(te.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),M&&v.jsx("p",{className:"text-xs text-destructive",children:M}),v.jsx("button",{type:"submit",disabled:R||!S.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:R?"Sharing":"Share"})]}),i.length===0?v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[v.jsx(O3,{size:34,className:"text-muted-foreground/30"}),v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Be the first to share a task, exam tip, or note"})]}):v.jsx("div",{className:"space-y-3",children:i.map(te=>{var Ne;const be=ie[te.id]??((Ne=te.savedBy)==null?void 0:Ne.includes(r==null?void 0:r.id));return x6(te.type),v.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2",children:[v.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[v.jsx(Gfe,{type:te.type}),v.jsx("p",{className:"text-sm font-semibold leading-snug",children:te.title})]}),v.jsx("button",{onClick:()=>ne(te),className:mt("shrink-0 rounded-lg p-1.5 transition-colors",be?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:be?"Saved to my tasks":"Save to my tasks",children:be?v.jsx(cH,{size:16}):v.jsx(fH,{size:16})})]}),te.description&&v.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:te.description}),v.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx(Zw,{name:te.authorName,size:"xs"}),v.jsx("span",{className:"text-xs text-muted-foreground",children:te.authorName})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[te.date&&v.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(te.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),be&&v.jsx("span",{className:"text-[10px] font-semibold text-primary",children:"Saved "})]})]})]},te.id)})})]})}function Xfe(){const{loading:t}=Yo();return t?v.jsx("div",{className:"flex h-screen items-center justify-center",children:v.jsx("span",{className:"text-muted-foreground text-sm",children:"Loading..."})}):v.jsxs(AU,{children:[v.jsx(Er,{path:"/login",element:v.jsx(yG,{})}),v.jsx(Er,{path:"/register",element:v.jsx(vG,{})}),v.jsx(Er,{element:v.jsx(gG,{}),children:v.jsxs(Er,{element:v.jsx(mG,{}),children:[v.jsx(Er,{index:!0,element:v.jsx(r1,{to:"/dashboard",replace:!0})}),v.jsx(Er,{path:"/dashboard",element:v.jsx(yfe,{})}),v.jsx(Er,{path:"/attendance",element:v.jsx(xfe,{})}),v.jsx(Er,{path:"/timetable",element:v.jsx(Tfe,{})}),v.jsx(Er,{path:"/subjects",element:v.jsx(Afe,{})}),v.jsx(Er,{path:"/exams",element:v.jsx(Cfe,{})}),v.jsx(Er,{path:"/tasks",element:v.jsx(Mfe,{})}),v.jsx(Er,{path:"/profile",element:v.jsx(Lfe,{})}),v.jsx(Er,{path:"/calendar",element:v.jsx(Bfe,{})}),v.jsx(Er,{path:"/ptp",element:v.jsx(Hfe,{})}),v.jsx(Er,{path:"/ptp/group/:groupId",element:v.jsx(Kfe,{})})]})}),v.jsx(Er,{path:"*",element:v.jsx(r1,{to:"/dashboard",replace:!0})})]})}jF.createRoot(document.getElementById("root")).render(v.jsx(F.StrictMode,{children:v.jsx(RU,{children:v.jsx(nH,{children:v.jsx(Xfe,{})})})}));
