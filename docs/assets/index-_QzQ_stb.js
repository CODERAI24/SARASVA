function XF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nb={exports:{}},wd={},Rb={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I;function YF(){if($I)return Qe;$I=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function b(q,X,de){this.props=q,this.context=X,this.refs=_,this.updater=de||x}b.prototype.isReactComponent={},b.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=b.prototype;function P(q,X,de){this.props=q,this.context=X,this.refs=_,this.updater=de||x}var k=P.prototype=new E;k.constructor=P,S(k,b.prototype),k.isPureReactComponent=!0;var R=Array.isArray,O=Object.prototype.hasOwnProperty,j={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(q,X,de){var se,we={},be=null,ke=null;if(X!=null)for(se in X.ref!==void 0&&(ke=X.ref),X.key!==void 0&&(be=""+X.key),X)O.call(X,se)&&!I.hasOwnProperty(se)&&(we[se]=X[se]);var Re=arguments.length-2;if(Re===1)we.children=de;else if(1<Re){for(var ge=Array(Re),Oe=0;Oe<Re;Oe++)ge[Oe]=arguments[Oe+2];we.children=ge}if(q&&q.defaultProps)for(se in Re=q.defaultProps,Re)we[se]===void 0&&(we[se]=Re[se]);return{$$typeof:t,type:q,key:be,ref:ke,props:we,_owner:j.current}}function M(q,X){return{$$typeof:t,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(de){return X[de]})}var $=/\/+/g;function L(q,X){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):X.toString(36)}function W(q,X,de,se,we){var be=typeof q;(be==="undefined"||be==="boolean")&&(q=null);var ke=!1;if(q===null)ke=!0;else switch(be){case"string":case"number":ke=!0;break;case"object":switch(q.$$typeof){case t:case e:ke=!0}}if(ke)return ke=q,we=we(ke),q=se===""?"."+L(ke,0):se,R(we)?(de="",q!=null&&(de=q.replace($,"$&/")+"/"),W(we,X,de,"",function(Oe){return Oe})):we!=null&&(B(we)&&(we=M(we,de+(!we.key||ke&&ke.key===we.key?"":(""+we.key).replace($,"$&/")+"/")+q)),X.push(we)),1;if(ke=0,se=se===""?".":se+":",R(q))for(var Re=0;Re<q.length;Re++){be=q[Re];var ge=se+L(be,Re);ke+=W(be,X,de,ge,we)}else if(ge=y(q),typeof ge=="function")for(q=ge.call(q),Re=0;!(be=q.next()).done;)be=be.value,ge=se+L(be,Re++),ke+=W(be,X,de,ge,we);else if(be==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ke}function Y(q,X,de){if(q==null)return q;var se=[],we=0;return W(q,se,"","",function(be){return X.call(de,be,we++)}),se}function te(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(de){(q._status===0||q._status===-1)&&(q._status=1,q._result=de)},function(de){(q._status===0||q._status===-1)&&(q._status=2,q._result=de)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var ne={current:null},Q={transition:null},ae={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:Y,forEach:function(q,X,de){Y(q,function(){X.apply(this,arguments)},de)},count:function(q){var X=0;return Y(q,function(){X++}),X},toArray:function(q){return Y(q,function(X){return X})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Qe.Component=b,Qe.Fragment=r,Qe.Profiler=i,Qe.PureComponent=P,Qe.StrictMode=n,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Qe.act=ie,Qe.cloneElement=function(q,X,de){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var se=S({},q.props),we=q.key,be=q.ref,ke=q._owner;if(X!=null){if(X.ref!==void 0&&(be=X.ref,ke=j.current),X.key!==void 0&&(we=""+X.key),q.type&&q.type.defaultProps)var Re=q.type.defaultProps;for(ge in X)O.call(X,ge)&&!I.hasOwnProperty(ge)&&(se[ge]=X[ge]===void 0&&Re!==void 0?Re[ge]:X[ge])}var ge=arguments.length-2;if(ge===1)se.children=de;else if(1<ge){Re=Array(ge);for(var Oe=0;Oe<ge;Oe++)Re[Oe]=arguments[Oe+2];se.children=Re}return{$$typeof:t,type:q.type,key:we,ref:be,props:se,_owner:ke}},Qe.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},Qe.createElement=C,Qe.createFactory=function(q){var X=C.bind(null,q);return X.type=q,X},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(q){return{$$typeof:u,render:q}},Qe.isValidElement=B,Qe.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:te}},Qe.memo=function(q,X){return{$$typeof:d,type:q,compare:X===void 0?null:X}},Qe.startTransition=function(q){var X=Q.transition;Q.transition={};try{q()}finally{Q.transition=X}},Qe.unstable_act=ie,Qe.useCallback=function(q,X){return ne.current.useCallback(q,X)},Qe.useContext=function(q){return ne.current.useContext(q)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(q){return ne.current.useDeferredValue(q)},Qe.useEffect=function(q,X){return ne.current.useEffect(q,X)},Qe.useId=function(){return ne.current.useId()},Qe.useImperativeHandle=function(q,X,de){return ne.current.useImperativeHandle(q,X,de)},Qe.useInsertionEffect=function(q,X){return ne.current.useInsertionEffect(q,X)},Qe.useLayoutEffect=function(q,X){return ne.current.useLayoutEffect(q,X)},Qe.useMemo=function(q,X){return ne.current.useMemo(q,X)},Qe.useReducer=function(q,X,de){return ne.current.useReducer(q,X,de)},Qe.useRef=function(q){return ne.current.useRef(q)},Qe.useState=function(q){return ne.current.useState(q)},Qe.useSyncExternalStore=function(q,X,de){return ne.current.useSyncExternalStore(q,X,de)},Qe.useTransition=function(){return ne.current.useTransition()},Qe.version="18.3.1",Qe}var VI;function mE(){return VI||(VI=1,Rb.exports=YF()),Rb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function QF(){if(FI)return wd;FI=1;var t=mE(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,c,d){var h,p={},y=null,x=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:x,props:p,_owner:i.current}}return wd.Fragment=r,wd.jsx=o,wd.jsxs=o,wd}var BI;function JF(){return BI||(BI=1,Nb.exports=QF()),Nb.exports}var m=JF(),D=mE();const G=mt(D),ZF=XF({__proto__:null,default:G},[D]);var Wp={},Mb={exports:{}},sn={},Db={exports:{}},Lb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function eB(){return UI||(UI=1,(function(t){function e(Q,ae){var ie=Q.length;Q.push(ae);e:for(;0<ie;){var q=ie-1>>>1,X=Q[q];if(0<i(X,ae))Q[q]=ae,Q[ie]=X,ie=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ae=Q[0],ie=Q.pop();if(ie!==ae){Q[0]=ie;e:for(var q=0,X=Q.length,de=X>>>1;q<de;){var se=2*(q+1)-1,we=Q[se],be=se+1,ke=Q[be];if(0>i(we,ie))be<X&&0>i(ke,we)?(Q[q]=ke,Q[be]=ie,q=be):(Q[q]=we,Q[se]=ie,q=se);else if(be<X&&0>i(ke,ie))Q[q]=ke,Q[be]=ie,q=be;else break e}}return ae}function i(Q,ae){var ie=Q.sortIndex-ae.sortIndex;return ie!==0?ie:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],h=1,p=null,y=3,x=!1,S=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=Q)n(d),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=r(d)}}function R(Q){if(_=!1,k(Q),!S)if(r(c)!==null)S=!0,te(O);else{var ae=r(d);ae!==null&&ne(R,ae.startTime-Q)}}function O(Q,ae){S=!1,_&&(_=!1,E(C),C=-1),x=!0;var ie=y;try{for(k(ae),p=r(c);p!==null&&(!(p.expirationTime>ae)||Q&&!F());){var q=p.callback;if(typeof q=="function"){p.callback=null,y=p.priorityLevel;var X=q(p.expirationTime<=ae);ae=t.unstable_now(),typeof X=="function"?p.callback=X:p===r(c)&&n(c),k(ae)}else n(c);p=r(c)}if(p!==null)var de=!0;else{var se=r(d);se!==null&&ne(R,se.startTime-ae),de=!1}return de}finally{p=null,y=ie,x=!1}}var j=!1,I=null,C=-1,M=5,B=-1;function F(){return!(t.unstable_now()-B<M)}function $(){if(I!==null){var Q=t.unstable_now();B=Q;var ae=!0;try{ae=I(!0,Q)}finally{ae?L():(j=!1,I=null)}}else j=!1}var L;if(typeof P=="function")L=function(){P($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=$,L=function(){Y.postMessage(null)}}else L=function(){b($,0)};function te(Q){I=Q,j||(j=!0,L())}function ne(Q,ae){C=b(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,te(O))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ie=y;y=ae;try{return Q()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ie=y;y=Q;try{return ae()}finally{y=ie}},t.unstable_scheduleCallback=function(Q,ae,ie){var q=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?q+ie:q):ie=q,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ie+X,Q={id:h++,callback:ae,priorityLevel:Q,startTime:ie,expirationTime:X,sortIndex:-1},ie>q?(Q.sortIndex=ie,e(d,Q),r(c)===null&&Q===r(d)&&(_?(E(C),C=-1):_=!0,ne(R,ie-q))):(Q.sortIndex=X,e(c,Q),S||x||(S=!0,te(O))),Q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Q){var ae=y;return function(){var ie=y;y=ae;try{return Q.apply(this,arguments)}finally{y=ie}}}})(Lb)),Lb}var zI;function tB(){return zI||(zI=1,Db.exports=eB()),Db.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function rB(){if(qI)return sn;qI=1;var t=mE(),e=tB();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,l){o(s,l),o(s+"Capture",l)}function o(s,l){for(i[s]=l,s=0;s<l.length;s++)n.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(s){return c.call(p,s)?!0:c.call(h,s)?!1:d.test(s)?p[s]=!0:(h[s]=!0,!1)}function x(s,l,f,v){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,f,v){if(l===null||typeof l>"u"||x(s,l,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(s,l,f,v,w,A,V){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=s,this.type=l,this.sanitizeURL=A,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];b[l]=new _(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(E,P);b[l]=new _(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(E,P);b[l]=new _(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(E,P);b[l]=new _(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,l,f,v){var w=b.hasOwnProperty(l)?b[l]:null;(w!==null?w.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,f,w,v)&&(f=null),v||w===null?y(l)&&(f===null?s.removeAttribute(l):s.setAttribute(l,""+f)):w.mustUseProperty?s[w.propertyName]=f===null?w.type===3?!1:"":f:(l=w.attributeName,v=w.attributeNamespace,f===null?s.removeAttribute(l):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,v?s.setAttributeNS(v,l,f):s.setAttribute(l,f))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),j=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,q;function X(s){if(q===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+s}var de=!1;function se(s,l){if(!s||de)return"";de=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(re){var v=re}Reflect.construct(s,[],l)}else{try{l.call()}catch(re){v=re}s.call(l.prototype)}else{try{throw Error()}catch(re){v=re}s()}}catch(re){if(re&&v&&typeof re.stack=="string"){for(var w=re.stack.split(`
`),A=v.stack.split(`
`),V=w.length-1,z=A.length-1;1<=V&&0<=z&&w[V]!==A[z];)z--;for(;1<=V&&0<=z;V--,z--)if(w[V]!==A[z]){if(V!==1||z!==1)do if(V--,z--,0>z||w[V]!==A[z]){var H=`
`+w[V].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=V&&0<=z);break}}}finally{de=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?X(s):""}function we(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case j:return"Portal";case M:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case $:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return l=s.displayName||null,l!==null?l:be(s.type)||"Memo";case te:l=s._payload,s=s._init;try{return be(s(l))}catch{}}return null}function ke(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ge(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oe(s){var l=ge(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,A=f.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return w.call(this)},set:function(V){v=""+V,A.call(this,V)}}),Object.defineProperty(s,l,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function fe(s){s._valueTracker||(s._valueTracker=Oe(s))}function ue(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),v="";return s&&(v=ge(s)?s.checked?"true":"false":s.value),s=v,s!==f?(l.setValue(s),!0):!1}function Je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function He(s,l){var f=l.checked;return ie({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function xt(s,l){var f=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;f=Re(l.value!=null?l.value:f),s._wrapperState={initialChecked:v,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Tt(s,l){l=l.checked,l!=null&&k(s,"checked",l,!1)}function Gt(s,l){Tt(s,l);var f=Re(l.value),v=l.type;if(f!=null)v==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?gn(s,l.type,f):l.hasOwnProperty("defaultValue")&&gn(s,l.type,Re(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function mn(s,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,f||l===s.value||(s.value=l),s.defaultValue=l}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function gn(s,l,f){(l!=="number"||Je(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Jr=Array.isArray;function Sr(s,l,f,v){if(s=s.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<s.length;f++)w=l.hasOwnProperty("$"+s[f].value),s[f].selected!==w&&(s[f].selected=w),w&&v&&(s[f].defaultSelected=!0)}else{for(f=""+Re(f),l=null,w=0;w<s.length;w++){if(s[w].value===f){s[w].selected=!0,v&&(s[w].defaultSelected=!0);return}l!==null||s[w].disabled||(l=s[w])}l!==null&&(l.selected=!0)}}function yn(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ii(s,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Jr(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}s._wrapperState={initialValue:Re(f)}}function la(s,l){var f=Re(l.value),v=Re(l.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),l.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),v!=null&&(s.defaultValue=""+v)}function to(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function tr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?tr(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ua,jc=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,v,w){MSApp.execUnsafeLocalFunction(function(){return s(l,f,v,w)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(ua=ua||document.createElement("div"),ua.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ua.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function ro(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(s){fs.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),ds[l]=ds[s]})});function Nc(s,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ds.hasOwnProperty(s)&&ds[s]?(""+l).trim():l+"px"}function Rc(s,l){s=s.style;for(var f in l)if(l.hasOwnProperty(f)){var v=f.indexOf("--")===0,w=Nc(f,l[f],v);f==="float"&&(f="cssFloat"),v?s.setProperty(f,w):s[f]=w}}var Mc=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(s,l){if(l){if(Mc[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Lc(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hs=null;function Sl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var El=null,jn=null,ki=null;function Tl(s){if(s=sd(s)){if(typeof El!="function")throw Error(r(280));var l=s.stateNode;l&&(l=ap(l),El(s.stateNode,s.type,l))}}function Oi(s){jn?ki?ki.push(s):ki=[s]:jn=s}function $c(){if(jn){var s=jn,l=ki;if(ki=jn=null,Tl(s),l)for(s=0;s<l.length;s++)Tl(l[s])}}function ps(s,l){return s(l)}function Vc(){}var ca=!1;function Fc(s,l,f){if(ca)return s(l,f);ca=!0;try{return ps(s,l,f)}finally{ca=!1,(jn!==null||ki!==null)&&(Vc(),$c())}}function qt(s,l){var f=s.stateNode;if(f===null)return null;var v=ap(f);if(v===null)return null;f=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Al=!1;if(u)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Al=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Al=!1}function ms(s,l,f,v,w,A,V,z,H){var re=Array.prototype.slice.call(arguments,3);try{l.apply(f,re)}catch(me){this.onError(me)}}var gs=!1,Pl=null,ri=!1,Bc=null,sv={onError:function(s){gs=!0,Pl=s}};function Il(s,l,f,v,w,A,V,z,H){gs=!1,Pl=null,ms.apply(sv,arguments)}function Oh(s,l,f,v,w,A,V,z,H){if(Il.apply(this,arguments),gs){if(gs){var re=Pl;gs=!1,Pl=null}else throw Error(r(198));ri||(ri=!0,Bc=re)}}function ni(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function ys(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function ii(s){if(ni(s)!==s)throw Error(r(188))}function Ch(s){var l=s.alternate;if(!l){if(l=ni(s),l===null)throw Error(r(188));return l!==s?null:s}for(var f=s,v=l;;){var w=f.return;if(w===null)break;var A=w.alternate;if(A===null){if(v=w.return,v!==null){f=v;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===f)return ii(w),s;if(A===v)return ii(w),l;A=A.sibling}throw Error(r(188))}if(f.return!==v.return)f=w,v=A;else{for(var V=!1,z=w.child;z;){if(z===f){V=!0,f=w,v=A;break}if(z===v){V=!0,v=w,f=A;break}z=z.sibling}if(!V){for(z=A.child;z;){if(z===f){V=!0,f=A,v=w;break}if(z===v){V=!0,v=A,f=w;break}z=z.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:l}function Uc(s){return s=Ch(s),s!==null?kl(s):null}function kl(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=kl(s);if(l!==null)return l;s=s.sibling}return null}var Ol=e.unstable_scheduleCallback,zc=e.unstable_cancelCallback,jh=e.unstable_shouldYield,lv=e.unstable_requestPaint,_t=e.unstable_now,Nh=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,no=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,qc=e.unstable_LowPriority,Rh=e.unstable_IdlePriority,bs=null,vn=null;function Mh(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(bs,s,void 0,(s.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:Lh,Wc=Math.log,Dh=Math.LN2;function Lh(s){return s>>>=0,s===0?32:31-(Wc(s)/Dh|0)|0}var Cl=64,jl=4194304;function io(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xs(s,l){var f=s.pendingLanes;if(f===0)return 0;var v=0,w=s.suspendedLanes,A=s.pingedLanes,V=f&268435455;if(V!==0){var z=V&~w;z!==0?v=io(z):(A&=V,A!==0&&(v=io(A)))}else V=f&~w,V!==0?v=io(V):A!==0&&(v=io(A));if(v===0)return 0;if(l!==0&&l!==v&&(l&w)===0&&(w=v&-v,A=l&-l,w>=A||w===16&&(A&4194240)!==0))return l;if((v&4)!==0&&(v|=f&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)f=31-Wr(l),w=1<<f,v|=s[f],l&=~w;return v}function uv(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(s,l){for(var f=s.suspendedLanes,v=s.pingedLanes,w=s.expirationTimes,A=s.pendingLanes;0<A;){var V=31-Wr(A),z=1<<V,H=w[V];H===-1?((z&f)===0||(z&v)!==0)&&(w[V]=uv(z,l)):H<=l&&(s.expiredLanes|=z),A&=~z}}function bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function _s(){var s=Cl;return Cl<<=1,(Cl&4194240)===0&&(Cl=64),s}function ao(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function oo(s,l,f){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Wr(l),s[l]=f}function vt(s,l){var f=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<f;){var w=31-Wr(f),A=1<<w;l[w]=0,v[w]=-1,s[w]=-1,f&=~A}}function so(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var v=31-Wr(f),w=1<<v;w&l|s[v]&l&&(s[v]|=l),f&=~w}}var tt=0;function lo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var $h,Nl,Vh,Fh,Bh,Hc=!1,Ci=[],Er=null,ai=null,oi=null,uo=new Map,Rn=new Map,ji=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(s,l){switch(s){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":uo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(l.pointerId)}}function Zr(s,l,f,v,w,A){return s===null||s.nativeEvent!==A?(s={blockedOn:l,domEventName:f,eventSystemFlags:v,nativeEvent:A,targetContainers:[w]},l!==null&&(l=sd(l),l!==null&&Nl(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),s)}function dv(s,l,f,v,w){switch(l){case"focusin":return Er=Zr(Er,s,l,f,v,w),!0;case"dragenter":return ai=Zr(ai,s,l,f,v,w),!0;case"mouseover":return oi=Zr(oi,s,l,f,v,w),!0;case"pointerover":var A=w.pointerId;return uo.set(A,Zr(uo.get(A)||null,s,l,f,v,w)),!0;case"gotpointercapture":return A=w.pointerId,Rn.set(A,Zr(Rn.get(A)||null,s,l,f,v,w)),!0}return!1}function zh(s){var l=As(s.target);if(l!==null){var f=ni(l);if(f!==null){if(l=f.tag,l===13){if(l=ys(f),l!==null){s.blockedOn=l,Bh(s.priority,function(){Vh(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fa(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=Rl(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var v=new f.constructor(f.type,f);hs=v,f.target.dispatchEvent(v),hs=null}else return l=sd(f),l!==null&&Nl(l),s.blockedOn=f,!1;l.shift()}return!0}function ws(s,l,f){fa(s)&&f.delete(l)}function qh(){Hc=!1,Er!==null&&fa(Er)&&(Er=null),ai!==null&&fa(ai)&&(ai=null),oi!==null&&fa(oi)&&(oi=null),uo.forEach(ws),Rn.forEach(ws)}function si(s,l){s.blockedOn===l&&(s.blockedOn=null,Hc||(Hc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qh)))}function li(s){function l(w){return si(w,s)}if(0<Ci.length){si(Ci[0],s);for(var f=1;f<Ci.length;f++){var v=Ci[f];v.blockedOn===s&&(v.blockedOn=null)}}for(Er!==null&&si(Er,s),ai!==null&&si(ai,s),oi!==null&&si(oi,s),uo.forEach(l),Rn.forEach(l),f=0;f<ji.length;f++)v=ji[f],v.blockedOn===s&&(v.blockedOn=null);for(;0<ji.length&&(f=ji[0],f.blockedOn===null);)zh(f),f.blockedOn===null&&ji.shift()}var ha=R.ReactCurrentBatchConfig,co=!0;function Ct(s,l,f,v){var w=tt,A=ha.transition;ha.transition=null;try{tt=1,Gc(s,l,f,v)}finally{tt=w,ha.transition=A}}function fv(s,l,f,v){var w=tt,A=ha.transition;ha.transition=null;try{tt=4,Gc(s,l,f,v)}finally{tt=w,ha.transition=A}}function Gc(s,l,f,v){if(co){var w=Rl(s,l,f,v);if(w===null)Sv(s,l,v,Ss,f),Uh(s,v);else if(dv(w,s,l,f,v))v.stopPropagation();else if(Uh(s,v),l&4&&-1<cv.indexOf(s)){for(;w!==null;){var A=sd(w);if(A!==null&&$h(A),A=Rl(s,l,f,v),A===null&&Sv(s,l,v,Ss,f),A===w)break;w=A}w!==null&&v.stopPropagation()}else Sv(s,l,v,null,f)}}var Ss=null;function Rl(s,l,f,v){if(Ss=null,s=Sl(v),s=As(s),s!==null)if(l=ni(s),l===null)s=null;else if(f=l.tag,f===13){if(s=ys(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Ss=s,null}function Kc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nh()){case vs:return 1;case no:return 4;case Nn:case qc:return 16;case Rh:return 536870912;default:return 16}default:return 16}}var xn=null,Ml=null,en=null;function Xc(){if(en)return en;var s,l=Ml,f=l.length,v,w="value"in xn?xn.value:xn.textContent,A=w.length;for(s=0;s<f&&l[s]===w[s];s++);var V=f-s;for(v=1;v<=V&&l[f-v]===w[A-v];v++);return en=w.slice(s,1<v?1-v:void 0)}function Dl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ni(){return!0}function Yc(){return!1}function Tr(s){function l(f,v,w,A,V){this._reactName=f,this._targetInst=w,this.type=v,this.nativeEvent=A,this.target=V,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(f=s[z],this[z]=f?f(A):A[z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ni:Yc,this.isPropagationStopped=Yc,this}return ie(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),l}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Tr(ui),Ri=ie({},ui,{view:0,detail:0}),hv=Tr(Ri),$l,pa,fo,Es=ie({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fo&&(fo&&s.type==="mousemove"?($l=s.screenX-fo.screenX,pa=s.screenY-fo.screenY):pa=$l=0,fo=s),$l)},movementY:function(s){return"movementY"in s?s.movementY:pa}}),Vl=Tr(Es),Qc=ie({},Es,{dataTransfer:0}),Wh=Tr(Qc),Fl=ie({},Ri,{relatedTarget:0}),Bl=Tr(Fl),Hh=ie({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Tr(Hh),Gh=ie({},ui,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kh=Tr(Gh),Xh=ie({},ui,{data:0}),Jc=Tr(Xh),Ul={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Yh[s])?!!l[s]:!1}function Mi(){return Qh}var g=ie({},Ri,{key:function(s){if(s.key){var l=Ul[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Dl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(s){return s.type==="keypress"?Dl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Dl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T=Tr(g),N=ie({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Tr(N),J=ie({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),oe=Tr(J),xe=ie({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=Tr(xe),nr=ie({},Es,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Tr(nr),fr=[9,13,27,32],Kt=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var _n=u&&"TextEvent"in window&&!Mn,Ts=u&&(!Kt||Mn&&8<Mn&&11>=Mn),zl=" ",jA=!1;function NA(s,l){switch(s){case"keyup":return fr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ql=!1;function H6(s,l){switch(s){case"compositionend":return RA(l);case"keypress":return l.which!==32?null:(jA=!0,zl);case"textInput":return s=l.data,s===zl&&jA?null:s;default:return null}}function G6(s,l){if(ql)return s==="compositionend"||!Kt&&NA(s,l)?(s=Xc(),en=Ml=xn=null,ql=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ts&&l.locale!=="ko"?null:l.data;default:return null}}var K6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MA(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!K6[s.type]:l==="textarea"}function DA(s,l,f,v){Oi(v),l=rp(l,"onChange"),0<l.length&&(f=new Ll("onChange","change",null,f,v),s.push({event:f,listeners:l}))}var Zc=null,ed=null;function X6(s){eP(s,0)}function Jh(s){var l=Xl(s);if(ue(l))return s}function Y6(s,l){if(s==="change")return l}var LA=!1;if(u){var pv;if(u){var mv="oninput"in document;if(!mv){var $A=document.createElement("div");$A.setAttribute("oninput","return;"),mv=typeof $A.oninput=="function"}pv=mv}else pv=!1;LA=pv&&(!document.documentMode||9<document.documentMode)}function VA(){Zc&&(Zc.detachEvent("onpropertychange",FA),ed=Zc=null)}function FA(s){if(s.propertyName==="value"&&Jh(ed)){var l=[];DA(l,ed,s,Sl(s)),Fc(X6,l)}}function Q6(s,l,f){s==="focusin"?(VA(),Zc=l,ed=f,Zc.attachEvent("onpropertychange",FA)):s==="focusout"&&VA()}function J6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jh(ed)}function Z6(s,l){if(s==="click")return Jh(l)}function eF(s,l){if(s==="input"||s==="change")return Jh(l)}function tF(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ci=typeof Object.is=="function"?Object.is:tF;function td(s,l){if(ci(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),v=Object.keys(l);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var w=f[v];if(!c.call(l,w)||!ci(s[w],l[w]))return!1}return!0}function BA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function UA(s,l){var f=BA(s);s=0;for(var v;f;){if(f.nodeType===3){if(v=s+f.textContent.length,s<=l&&v>=l)return{node:f,offset:l-s};s=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=BA(f)}}function zA(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?zA(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function qA(){for(var s=window,l=Je();l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=Je(s.document)}return l}function gv(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function rF(s){var l=qA(),f=s.focusedElem,v=s.selectionRange;if(l!==f&&f&&f.ownerDocument&&zA(f.ownerDocument.documentElement,f)){if(v!==null&&gv(f)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(s,f.value.length);else if(s=(l=f.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var w=f.textContent.length,A=Math.min(v.start,w);v=v.end===void 0?A:Math.min(v.end,w),!s.extend&&A>v&&(w=v,v=A,A=w),w=UA(f,A);var V=UA(f,v);w&&V&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==V.node||s.focusOffset!==V.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),s.removeAllRanges(),A>v?(s.addRange(l),s.extend(V.node,V.offset)):(l.setEnd(V.node,V.offset),s.addRange(l)))}}for(l=[],s=f;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)s=l[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var nF=u&&"documentMode"in document&&11>=document.documentMode,Wl=null,yv=null,rd=null,vv=!1;function WA(s,l,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;vv||Wl==null||Wl!==Je(v)||(v=Wl,"selectionStart"in v&&gv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),rd&&td(rd,v)||(rd=v,v=rp(yv,"onSelect"),0<v.length&&(l=new Ll("onSelect","select",null,l,f),s.push({event:l,listeners:v}),l.target=Wl)))}function Zh(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var Hl={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},bv={},HA={};u&&(HA=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function ep(s){if(bv[s])return bv[s];if(!Hl[s])return s;var l=Hl[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in HA)return bv[s]=l[f];return s}var GA=ep("animationend"),KA=ep("animationiteration"),XA=ep("animationstart"),YA=ep("transitionend"),QA=new Map,JA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(s,l){QA.set(s,l),a(l,[s])}for(var xv=0;xv<JA.length;xv++){var _v=JA[xv],iF=_v.toLowerCase(),aF=_v[0].toUpperCase()+_v.slice(1);ho(iF,"on"+aF)}ho(GA,"onAnimationEnd"),ho(KA,"onAnimationIteration"),ho(XA,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(YA,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oF=new Set("cancel close invalid load scroll toggle".split(" ").concat(nd));function ZA(s,l,f){var v=s.type||"unknown-event";s.currentTarget=f,Oh(v,l,void 0,s),s.currentTarget=null}function eP(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var v=s[f],w=v.event;v=v.listeners;e:{var A=void 0;if(l)for(var V=v.length-1;0<=V;V--){var z=v[V],H=z.instance,re=z.currentTarget;if(z=z.listener,H!==A&&w.isPropagationStopped())break e;ZA(w,z,re),A=H}else for(V=0;V<v.length;V++){if(z=v[V],H=z.instance,re=z.currentTarget,z=z.listener,H!==A&&w.isPropagationStopped())break e;ZA(w,z,re),A=H}}}if(ri)throw s=Bc,ri=!1,Bc=null,s}function At(s,l){var f=l[kv];f===void 0&&(f=l[kv]=new Set);var v=s+"__bubble";f.has(v)||(tP(l,s,2,!1),f.add(v))}function wv(s,l,f){var v=0;l&&(v|=4),tP(f,s,v,l)}var tp="_reactListening"+Math.random().toString(36).slice(2);function id(s){if(!s[tp]){s[tp]=!0,n.forEach(function(f){f!=="selectionchange"&&(oF.has(f)||wv(f,!1,s),wv(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[tp]||(l[tp]=!0,wv("selectionchange",!1,l))}}function tP(s,l,f,v){switch(Kc(l)){case 1:var w=Ct;break;case 4:w=fv;break;default:w=Gc}f=w.bind(null,l,f,s),w=void 0,!Al||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),v?w!==void 0?s.addEventListener(l,f,{capture:!0,passive:w}):s.addEventListener(l,f,!0):w!==void 0?s.addEventListener(l,f,{passive:w}):s.addEventListener(l,f,!1)}function Sv(s,l,f,v,w){var A=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var z=v.stateNode.containerInfo;if(z===w||z.nodeType===8&&z.parentNode===w)break;if(V===4)for(V=v.return;V!==null;){var H=V.tag;if((H===3||H===4)&&(H=V.stateNode.containerInfo,H===w||H.nodeType===8&&H.parentNode===w))return;V=V.return}for(;z!==null;){if(V=As(z),V===null)return;if(H=V.tag,H===5||H===6){v=A=V;continue e}z=z.parentNode}}v=v.return}Fc(function(){var re=A,me=Sl(f),ye=[];e:{var pe=QA.get(s);if(pe!==void 0){var Ee=Ll,Ie=s;switch(s){case"keypress":if(Dl(f)===0)break e;case"keydown":case"keyup":Ee=T;break;case"focusin":Ie="focus",Ee=Bl;break;case"focusout":Ie="blur",Ee=Bl;break;case"beforeblur":case"afterblur":Ee=Bl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=oe;break;case GA:case KA:case XA:Ee=ma;break;case YA:Ee=ht;break;case"scroll":Ee=hv;break;case"wheel":Ee=rt;break;case"copy":case"cut":case"paste":Ee=Kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=U}var Ce=(l&4)!==0,Wt=!Ce&&s==="scroll",Z=Ce?pe!==null?pe+"Capture":null:pe;Ce=[];for(var K=re,ee;K!==null;){ee=K;var ve=ee.stateNode;if(ee.tag===5&&ve!==null&&(ee=ve,Z!==null&&(ve=qt(K,Z),ve!=null&&Ce.push(ad(K,ve,ee)))),Wt)break;K=K.return}0<Ce.length&&(pe=new Ee(pe,Ie,null,f,me),ye.push({event:pe,listeners:Ce}))}}if((l&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",pe&&f!==hs&&(Ie=f.relatedTarget||f.fromElement)&&(As(Ie)||Ie[ga]))break e;if((Ee||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ee?(Ie=f.relatedTarget||f.toElement,Ee=re,Ie=Ie?As(Ie):null,Ie!==null&&(Wt=ni(Ie),Ie!==Wt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ee=null,Ie=re),Ee!==Ie)){if(Ce=Vl,ve="onMouseLeave",Z="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=U,ve="onPointerLeave",Z="onPointerEnter",K="pointer"),Wt=Ee==null?pe:Xl(Ee),ee=Ie==null?pe:Xl(Ie),pe=new Ce(ve,K+"leave",Ee,f,me),pe.target=Wt,pe.relatedTarget=ee,ve=null,As(me)===re&&(Ce=new Ce(Z,K+"enter",Ie,f,me),Ce.target=ee,Ce.relatedTarget=Wt,ve=Ce),Wt=ve,Ee&&Ie)t:{for(Ce=Ee,Z=Ie,K=0,ee=Ce;ee;ee=Gl(ee))K++;for(ee=0,ve=Z;ve;ve=Gl(ve))ee++;for(;0<K-ee;)Ce=Gl(Ce),K--;for(;0<ee-K;)Z=Gl(Z),ee--;for(;K--;){if(Ce===Z||Z!==null&&Ce===Z.alternate)break t;Ce=Gl(Ce),Z=Gl(Z)}Ce=null}else Ce=null;Ee!==null&&rP(ye,pe,Ee,Ce,!1),Ie!==null&&Wt!==null&&rP(ye,Wt,Ie,Ce,!0)}}e:{if(pe=re?Xl(re):window,Ee=pe.nodeName&&pe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&pe.type==="file")var Ne=Y6;else if(MA(pe))if(LA)Ne=eF;else{Ne=J6;var De=Q6}else(Ee=pe.nodeName)&&Ee.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Ne=Z6);if(Ne&&(Ne=Ne(s,re))){DA(ye,Ne,f,me);break e}De&&De(s,pe,re),s==="focusout"&&(De=pe._wrapperState)&&De.controlled&&pe.type==="number"&&gn(pe,"number",pe.value)}switch(De=re?Xl(re):window,s){case"focusin":(MA(De)||De.contentEditable==="true")&&(Wl=De,yv=re,rd=null);break;case"focusout":rd=yv=Wl=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,WA(ye,f,me);break;case"selectionchange":if(nF)break;case"keydown":case"keyup":WA(ye,f,me)}var Le;if(Kt)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ql?NA(s,f)&&(Ue="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ts&&f.locale!=="ko"&&(ql||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ql&&(Le=Xc()):(xn=me,Ml="value"in xn?xn.value:xn.textContent,ql=!0)),De=rp(re,Ue),0<De.length&&(Ue=new Jc(Ue,s,null,f,me),ye.push({event:Ue,listeners:De}),Le?Ue.data=Le:(Le=RA(f),Le!==null&&(Ue.data=Le)))),(Le=_n?H6(s,f):G6(s,f))&&(re=rp(re,"onBeforeInput"),0<re.length&&(me=new Jc("onBeforeInput","beforeinput",null,f,me),ye.push({event:me,listeners:re}),me.data=Le))}eP(ye,l)})}function ad(s,l,f){return{instance:s,listener:l,currentTarget:f}}function rp(s,l){for(var f=l+"Capture",v=[];s!==null;){var w=s,A=w.stateNode;w.tag===5&&A!==null&&(w=A,A=qt(s,f),A!=null&&v.unshift(ad(s,A,w)),A=qt(s,l),A!=null&&v.push(ad(s,A,w))),s=s.return}return v}function Gl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function rP(s,l,f,v,w){for(var A=l._reactName,V=[];f!==null&&f!==v;){var z=f,H=z.alternate,re=z.stateNode;if(H!==null&&H===v)break;z.tag===5&&re!==null&&(z=re,w?(H=qt(f,A),H!=null&&V.unshift(ad(f,H,z))):w||(H=qt(f,A),H!=null&&V.push(ad(f,H,z)))),f=f.return}V.length!==0&&s.push({event:l,listeners:V})}var sF=/\r\n?/g,lF=/\u0000|\uFFFD/g;function nP(s){return(typeof s=="string"?s:""+s).replace(sF,`
`).replace(lF,"")}function np(s,l,f){if(l=nP(l),nP(s)!==l&&f)throw Error(r(425))}function ip(){}var Ev=null,Tv=null;function Av(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pv=typeof setTimeout=="function"?setTimeout:void 0,uF=typeof clearTimeout=="function"?clearTimeout:void 0,iP=typeof Promise=="function"?Promise:void 0,cF=typeof queueMicrotask=="function"?queueMicrotask:typeof iP<"u"?function(s){return iP.resolve(null).then(s).catch(dF)}:Pv;function dF(s){setTimeout(function(){throw s})}function Iv(s,l){var f=l,v=0;do{var w=f.nextSibling;if(s.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(v===0){s.removeChild(w),li(l);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=w}while(f);li(l)}function po(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function aP(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return s;l--}else f==="/$"&&l++}s=s.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),Di="__reactFiber$"+Kl,od="__reactProps$"+Kl,ga="__reactContainer$"+Kl,kv="__reactEvents$"+Kl,fF="__reactListeners$"+Kl,hF="__reactHandles$"+Kl;function As(s){var l=s[Di];if(l)return l;for(var f=s.parentNode;f;){if(l=f[ga]||f[Di]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=aP(s);s!==null;){if(f=s[Di])return f;s=aP(s)}return l}s=f,f=s.parentNode}return null}function sd(s){return s=s[Di]||s[ga],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Xl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function ap(s){return s[od]||null}var Ov=[],Yl=-1;function mo(s){return{current:s}}function Pt(s){0>Yl||(s.current=Ov[Yl],Ov[Yl]=null,Yl--)}function wt(s,l){Yl++,Ov[Yl]=s.current,s.current=l}var go={},Mr=mo(go),tn=mo(!1),Ps=go;function Ql(s,l){var f=s.type.contextTypes;if(!f)return go;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var w={},A;for(A in f)w[A]=l[A];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=w),w}function rn(s){return s=s.childContextTypes,s!=null}function op(){Pt(tn),Pt(Mr)}function oP(s,l,f){if(Mr.current!==go)throw Error(r(168));wt(Mr,l),wt(tn,f)}function sP(s,l,f){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var w in v)if(!(w in l))throw Error(r(108,ke(s)||"Unknown",w));return ie({},f,v)}function sp(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||go,Ps=Mr.current,wt(Mr,s),wt(tn,tn.current),!0}function lP(s,l,f){var v=s.stateNode;if(!v)throw Error(r(169));f?(s=sP(s,l,Ps),v.__reactInternalMemoizedMergedChildContext=s,Pt(tn),Pt(Mr),wt(Mr,s)):Pt(tn),wt(tn,f)}var ya=null,lp=!1,Cv=!1;function uP(s){ya===null?ya=[s]:ya.push(s)}function pF(s){lp=!0,uP(s)}function yo(){if(!Cv&&ya!==null){Cv=!0;var s=0,l=tt;try{var f=ya;for(tt=1;s<f.length;s++){var v=f[s];do v=v(!0);while(v!==null)}ya=null,lp=!1}catch(w){throw ya!==null&&(ya=ya.slice(s+1)),Ol(vs,yo),w}finally{tt=l,Cv=!1}}return null}var Jl=[],Zl=0,up=null,cp=0,Dn=[],Ln=0,Is=null,va=1,ba="";function ks(s,l){Jl[Zl++]=cp,Jl[Zl++]=up,up=s,cp=l}function cP(s,l,f){Dn[Ln++]=va,Dn[Ln++]=ba,Dn[Ln++]=Is,Is=s;var v=va;s=ba;var w=32-Wr(v)-1;v&=~(1<<w),f+=1;var A=32-Wr(l)+w;if(30<A){var V=w-w%5;A=(v&(1<<V)-1).toString(32),v>>=V,w-=V,va=1<<32-Wr(l)+w|f<<w|v,ba=A+s}else va=1<<A|f<<w|v,ba=s}function jv(s){s.return!==null&&(ks(s,1),cP(s,1,0))}function Nv(s){for(;s===up;)up=Jl[--Zl],Jl[Zl]=null,cp=Jl[--Zl],Jl[Zl]=null;for(;s===Is;)Is=Dn[--Ln],Dn[Ln]=null,ba=Dn[--Ln],Dn[Ln]=null,va=Dn[--Ln],Dn[Ln]=null}var wn=null,Sn=null,jt=!1,di=null;function dP(s,l){var f=Bn(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=s,l=s.deletions,l===null?(s.deletions=[f],s.flags|=16):l.push(f)}function fP(s,l){switch(s.tag){case 5:var f=s.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,wn=s,Sn=po(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,wn=s,Sn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Is!==null?{id:va,overflow:ba}:null,s.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Bn(18,null,null,0),f.stateNode=l,f.return=s,s.child=f,wn=s,Sn=null,!0):!1;default:return!1}}function Rv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Mv(s){if(jt){var l=Sn;if(l){var f=l;if(!fP(s,l)){if(Rv(s))throw Error(r(418));l=po(f.nextSibling);var v=wn;l&&fP(s,l)?dP(v,f):(s.flags=s.flags&-4097|2,jt=!1,wn=s)}}else{if(Rv(s))throw Error(r(418));s.flags=s.flags&-4097|2,jt=!1,wn=s}}}function hP(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wn=s}function dp(s){if(s!==wn)return!1;if(!jt)return hP(s),jt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Av(s.type,s.memoizedProps)),l&&(l=Sn)){if(Rv(s))throw pP(),Error(r(418));for(;l;)dP(s,l),l=po(l.nextSibling)}if(hP(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(l===0){Sn=po(s.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}s=s.nextSibling}Sn=null}}else Sn=wn?po(s.stateNode.nextSibling):null;return!0}function pP(){for(var s=Sn;s;)s=po(s.nextSibling)}function eu(){Sn=wn=null,jt=!1}function Dv(s){di===null?di=[s]:di.push(s)}var mF=R.ReactCurrentBatchConfig;function ld(s,l,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var v=f.stateNode}if(!v)throw Error(r(147,s));var w=v,A=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(V){var z=w.refs;V===null?delete z[A]:z[A]=V},l._stringRef=A,l)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function fp(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function mP(s){var l=s._init;return l(s._payload)}function gP(s){function l(Z,K){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[K],Z.flags|=16):ee.push(K)}}function f(Z,K){if(!s)return null;for(;K!==null;)l(Z,K),K=K.sibling;return null}function v(Z,K){for(Z=new Map;K!==null;)K.key!==null?Z.set(K.key,K):Z.set(K.index,K),K=K.sibling;return Z}function w(Z,K){return Z=To(Z,K),Z.index=0,Z.sibling=null,Z}function A(Z,K,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<K?(Z.flags|=2,K):ee):(Z.flags|=2,K)):(Z.flags|=1048576,K)}function V(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function z(Z,K,ee,ve){return K===null||K.tag!==6?(K=Pb(ee,Z.mode,ve),K.return=Z,K):(K=w(K,ee),K.return=Z,K)}function H(Z,K,ee,ve){var Ne=ee.type;return Ne===I?me(Z,K,ee.props.children,ve,ee.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===te&&mP(Ne)===K.type)?(ve=w(K,ee.props),ve.ref=ld(Z,K,ee),ve.return=Z,ve):(ve=Dp(ee.type,ee.key,ee.props,null,Z.mode,ve),ve.ref=ld(Z,K,ee),ve.return=Z,ve)}function re(Z,K,ee,ve){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=Ib(ee,Z.mode,ve),K.return=Z,K):(K=w(K,ee.children||[]),K.return=Z,K)}function me(Z,K,ee,ve,Ne){return K===null||K.tag!==7?(K=Ls(ee,Z.mode,ve,Ne),K.return=Z,K):(K=w(K,ee),K.return=Z,K)}function ye(Z,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Pb(""+K,Z.mode,ee),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return ee=Dp(K.type,K.key,K.props,null,Z.mode,ee),ee.ref=ld(Z,null,K),ee.return=Z,ee;case j:return K=Ib(K,Z.mode,ee),K.return=Z,K;case te:var ve=K._init;return ye(Z,ve(K._payload),ee)}if(Jr(K)||ae(K))return K=Ls(K,Z.mode,ee,null),K.return=Z,K;fp(Z,K)}return null}function pe(Z,K,ee,ve){var Ne=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ne!==null?null:z(Z,K,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:return ee.key===Ne?H(Z,K,ee,ve):null;case j:return ee.key===Ne?re(Z,K,ee,ve):null;case te:return Ne=ee._init,pe(Z,K,Ne(ee._payload),ve)}if(Jr(ee)||ae(ee))return Ne!==null?null:me(Z,K,ee,ve,null);fp(Z,ee)}return null}function Ee(Z,K,ee,ve,Ne){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Z=Z.get(ee)||null,z(K,Z,""+ve,Ne);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case O:return Z=Z.get(ve.key===null?ee:ve.key)||null,H(K,Z,ve,Ne);case j:return Z=Z.get(ve.key===null?ee:ve.key)||null,re(K,Z,ve,Ne);case te:var De=ve._init;return Ee(Z,K,ee,De(ve._payload),Ne)}if(Jr(ve)||ae(ve))return Z=Z.get(ee)||null,me(K,Z,ve,Ne,null);fp(K,ve)}return null}function Ie(Z,K,ee,ve){for(var Ne=null,De=null,Le=K,Ue=K=0,mr=null;Le!==null&&Ue<ee.length;Ue++){Le.index>Ue?(mr=Le,Le=null):mr=Le.sibling;var at=pe(Z,Le,ee[Ue],ve);if(at===null){Le===null&&(Le=mr);break}s&&Le&&at.alternate===null&&l(Z,Le),K=A(at,K,Ue),De===null?Ne=at:De.sibling=at,De=at,Le=mr}if(Ue===ee.length)return f(Z,Le),jt&&ks(Z,Ue),Ne;if(Le===null){for(;Ue<ee.length;Ue++)Le=ye(Z,ee[Ue],ve),Le!==null&&(K=A(Le,K,Ue),De===null?Ne=Le:De.sibling=Le,De=Le);return jt&&ks(Z,Ue),Ne}for(Le=v(Z,Le);Ue<ee.length;Ue++)mr=Ee(Le,Z,Ue,ee[Ue],ve),mr!==null&&(s&&mr.alternate!==null&&Le.delete(mr.key===null?Ue:mr.key),K=A(mr,K,Ue),De===null?Ne=mr:De.sibling=mr,De=mr);return s&&Le.forEach(function(Ao){return l(Z,Ao)}),jt&&ks(Z,Ue),Ne}function Ce(Z,K,ee,ve){var Ne=ae(ee);if(typeof Ne!="function")throw Error(r(150));if(ee=Ne.call(ee),ee==null)throw Error(r(151));for(var De=Ne=null,Le=K,Ue=K=0,mr=null,at=ee.next();Le!==null&&!at.done;Ue++,at=ee.next()){Le.index>Ue?(mr=Le,Le=null):mr=Le.sibling;var Ao=pe(Z,Le,at.value,ve);if(Ao===null){Le===null&&(Le=mr);break}s&&Le&&Ao.alternate===null&&l(Z,Le),K=A(Ao,K,Ue),De===null?Ne=Ao:De.sibling=Ao,De=Ao,Le=mr}if(at.done)return f(Z,Le),jt&&ks(Z,Ue),Ne;if(Le===null){for(;!at.done;Ue++,at=ee.next())at=ye(Z,at.value,ve),at!==null&&(K=A(at,K,Ue),De===null?Ne=at:De.sibling=at,De=at);return jt&&ks(Z,Ue),Ne}for(Le=v(Z,Le);!at.done;Ue++,at=ee.next())at=Ee(Le,Z,Ue,at.value,ve),at!==null&&(s&&at.alternate!==null&&Le.delete(at.key===null?Ue:at.key),K=A(at,K,Ue),De===null?Ne=at:De.sibling=at,De=at);return s&&Le.forEach(function(KF){return l(Z,KF)}),jt&&ks(Z,Ue),Ne}function Wt(Z,K,ee,ve){if(typeof ee=="object"&&ee!==null&&ee.type===I&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:e:{for(var Ne=ee.key,De=K;De!==null;){if(De.key===Ne){if(Ne=ee.type,Ne===I){if(De.tag===7){f(Z,De.sibling),K=w(De,ee.props.children),K.return=Z,Z=K;break e}}else if(De.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===te&&mP(Ne)===De.type){f(Z,De.sibling),K=w(De,ee.props),K.ref=ld(Z,De,ee),K.return=Z,Z=K;break e}f(Z,De);break}else l(Z,De);De=De.sibling}ee.type===I?(K=Ls(ee.props.children,Z.mode,ve,ee.key),K.return=Z,Z=K):(ve=Dp(ee.type,ee.key,ee.props,null,Z.mode,ve),ve.ref=ld(Z,K,ee),ve.return=Z,Z=ve)}return V(Z);case j:e:{for(De=ee.key;K!==null;){if(K.key===De)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){f(Z,K.sibling),K=w(K,ee.children||[]),K.return=Z,Z=K;break e}else{f(Z,K);break}else l(Z,K);K=K.sibling}K=Ib(ee,Z.mode,ve),K.return=Z,Z=K}return V(Z);case te:return De=ee._init,Wt(Z,K,De(ee._payload),ve)}if(Jr(ee))return Ie(Z,K,ee,ve);if(ae(ee))return Ce(Z,K,ee,ve);fp(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(f(Z,K.sibling),K=w(K,ee),K.return=Z,Z=K):(f(Z,K),K=Pb(ee,Z.mode,ve),K.return=Z,Z=K),V(Z)):f(Z,K)}return Wt}var tu=gP(!0),yP=gP(!1),hp=mo(null),pp=null,ru=null,Lv=null;function $v(){Lv=ru=pp=null}function Vv(s){var l=hp.current;Pt(hp),s._currentValue=l}function Fv(s,l,f){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===f)break;s=s.return}}function nu(s,l){pp=s,Lv=ru=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(nn=!0),s.firstContext=null)}function $n(s){var l=s._currentValue;if(Lv!==s)if(s={context:s,memoizedValue:l,next:null},ru===null){if(pp===null)throw Error(r(308));ru=s,pp.dependencies={lanes:0,firstContext:s}}else ru=ru.next=s;return l}var Os=null;function Bv(s){Os===null?Os=[s]:Os.push(s)}function vP(s,l,f,v){var w=l.interleaved;return w===null?(f.next=f,Bv(l)):(f.next=w.next,w.next=f),l.interleaved=f,xa(s,v)}function xa(s,l){s.lanes|=l;var f=s.alternate;for(f!==null&&(f.lanes|=l),f=s,s=s.return;s!==null;)s.childLanes|=l,f=s.alternate,f!==null&&(f.childLanes|=l),f=s,s=s.return;return f.tag===3?f.stateNode:null}var vo=!1;function Uv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bP(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _a(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function bo(s,l,f){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(it&2)!==0){var w=v.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),v.pending=l,xa(s,f)}return w=v.interleaved,w===null?(l.next=l,Bv(v)):(l.next=w.next,w.next=l),v.interleaved=l,xa(s,f)}function mp(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,f|=v,l.lanes=f,so(s,f)}}function xP(s,l){var f=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var w=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?w=A=V:A=A.next=V,f=f.next}while(f!==null);A===null?w=A=l:A=A.next=l}else w=A=l;f={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:v.shared,effects:v.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}function gp(s,l,f,v){var w=s.updateQueue;vo=!1;var A=w.firstBaseUpdate,V=w.lastBaseUpdate,z=w.shared.pending;if(z!==null){w.shared.pending=null;var H=z,re=H.next;H.next=null,V===null?A=re:V.next=re,V=H;var me=s.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==V&&(z===null?me.firstBaseUpdate=re:z.next=re,me.lastBaseUpdate=H))}if(A!==null){var ye=w.baseState;V=0,me=re=H=null,z=A;do{var pe=z.lane,Ee=z.eventTime;if((v&pe)===pe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ie=s,Ce=z;switch(pe=l,Ee=f,Ce.tag){case 1:if(Ie=Ce.payload,typeof Ie=="function"){ye=Ie.call(Ee,ye,pe);break e}ye=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ce.payload,pe=typeof Ie=="function"?Ie.call(Ee,ye,pe):Ie,pe==null)break e;ye=ie({},ye,pe);break e;case 2:vo=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,pe=w.effects,pe===null?w.effects=[z]:pe.push(z))}else Ee={eventTime:Ee,lane:pe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(re=me=Ee,H=ye):me=me.next=Ee,V|=pe;if(z=z.next,z===null){if(z=w.shared.pending,z===null)break;pe=z,z=pe.next,pe.next=null,w.lastBaseUpdate=pe,w.shared.pending=null}}while(!0);if(me===null&&(H=ye),w.baseState=H,w.firstBaseUpdate=re,w.lastBaseUpdate=me,l=w.shared.interleaved,l!==null){w=l;do V|=w.lane,w=w.next;while(w!==l)}else A===null&&(w.shared.lanes=0);Ns|=V,s.lanes=V,s.memoizedState=ye}}function _P(s,l,f){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],w=v.callback;if(w!==null){if(v.callback=null,v=f,typeof w!="function")throw Error(r(191,w));w.call(v)}}}var ud={},Li=mo(ud),cd=mo(ud),dd=mo(ud);function Cs(s){if(s===ud)throw Error(r(174));return s}function zv(s,l){switch(wt(dd,l),wt(cd,s),wt(Li,ud),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:rr(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=rr(l,s)}Pt(Li),wt(Li,l)}function iu(){Pt(Li),Pt(cd),Pt(dd)}function wP(s){Cs(dd.current);var l=Cs(Li.current),f=rr(l,s.type);l!==f&&(wt(cd,s),wt(Li,f))}function qv(s){cd.current===s&&(Pt(Li),Pt(cd))}var Lt=mo(0);function yp(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Wv=[];function Hv(){for(var s=0;s<Wv.length;s++)Wv[s]._workInProgressVersionPrimary=null;Wv.length=0}var vp=R.ReactCurrentDispatcher,Gv=R.ReactCurrentBatchConfig,js=0,$t=null,ir=null,hr=null,bp=!1,fd=!1,hd=0,gF=0;function Dr(){throw Error(r(321))}function Kv(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!ci(s[f],l[f]))return!1;return!0}function Xv(s,l,f,v,w,A){if(js=A,$t=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,vp.current=s===null||s.memoizedState===null?xF:_F,s=f(v,w),fd){A=0;do{if(fd=!1,hd=0,25<=A)throw Error(r(301));A+=1,hr=ir=null,l.updateQueue=null,vp.current=wF,s=f(v,w)}while(fd)}if(vp.current=wp,l=ir!==null&&ir.next!==null,js=0,hr=ir=$t=null,bp=!1,l)throw Error(r(300));return s}function Yv(){var s=hd!==0;return hd=0,s}function $i(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?$t.memoizedState=hr=s:hr=hr.next=s,hr}function Vn(){if(ir===null){var s=$t.alternate;s=s!==null?s.memoizedState:null}else s=ir.next;var l=hr===null?$t.memoizedState:hr.next;if(l!==null)hr=l,ir=s;else{if(s===null)throw Error(r(310));ir=s,s={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},hr===null?$t.memoizedState=hr=s:hr=hr.next=s}return hr}function pd(s,l){return typeof l=="function"?l(s):l}function Qv(s){var l=Vn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var v=ir,w=v.baseQueue,A=f.pending;if(A!==null){if(w!==null){var V=w.next;w.next=A.next,A.next=V}v.baseQueue=w=A,f.pending=null}if(w!==null){A=w.next,v=v.baseState;var z=V=null,H=null,re=A;do{var me=re.lane;if((js&me)===me)H!==null&&(H=H.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),v=re.hasEagerState?re.eagerState:s(v,re.action);else{var ye={lane:me,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};H===null?(z=H=ye,V=v):H=H.next=ye,$t.lanes|=me,Ns|=me}re=re.next}while(re!==null&&re!==A);H===null?V=v:H.next=z,ci(v,l.memoizedState)||(nn=!0),l.memoizedState=v,l.baseState=V,l.baseQueue=H,f.lastRenderedState=v}if(s=f.interleaved,s!==null){w=s;do A=w.lane,$t.lanes|=A,Ns|=A,w=w.next;while(w!==s)}else w===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Jv(s){var l=Vn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var v=f.dispatch,w=f.pending,A=l.memoizedState;if(w!==null){f.pending=null;var V=w=w.next;do A=s(A,V.action),V=V.next;while(V!==w);ci(A,l.memoizedState)||(nn=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),f.lastRenderedState=A}return[A,v]}function SP(){}function EP(s,l){var f=$t,v=Vn(),w=l(),A=!ci(v.memoizedState,w);if(A&&(v.memoizedState=w,nn=!0),v=v.queue,Zv(PP.bind(null,f,v,s),[s]),v.getSnapshot!==l||A||hr!==null&&hr.memoizedState.tag&1){if(f.flags|=2048,md(9,AP.bind(null,f,v,w,l),void 0,null),pr===null)throw Error(r(349));(js&30)!==0||TP(f,l,w)}return w}function TP(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=$t.updateQueue,l===null?(l={lastEffect:null,stores:null},$t.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function AP(s,l,f,v){l.value=f,l.getSnapshot=v,IP(l)&&kP(s)}function PP(s,l,f){return f(function(){IP(l)&&kP(s)})}function IP(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!ci(s,f)}catch{return!0}}function kP(s){var l=xa(s,1);l!==null&&mi(l,s,1,-1)}function OP(s){var l=$i();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:s},l.queue=s,s=s.dispatch=bF.bind(null,$t,s),[l.memoizedState,s]}function md(s,l,f,v){return s={tag:s,create:l,destroy:f,deps:v,next:null},l=$t.updateQueue,l===null?(l={lastEffect:null,stores:null},$t.updateQueue=l,l.lastEffect=s.next=s):(f=l.lastEffect,f===null?l.lastEffect=s.next=s:(v=f.next,f.next=s,s.next=v,l.lastEffect=s)),s}function CP(){return Vn().memoizedState}function xp(s,l,f,v){var w=$i();$t.flags|=s,w.memoizedState=md(1|l,f,void 0,v===void 0?null:v)}function _p(s,l,f,v){var w=Vn();v=v===void 0?null:v;var A=void 0;if(ir!==null){var V=ir.memoizedState;if(A=V.destroy,v!==null&&Kv(v,V.deps)){w.memoizedState=md(l,f,A,v);return}}$t.flags|=s,w.memoizedState=md(1|l,f,A,v)}function jP(s,l){return xp(8390656,8,s,l)}function Zv(s,l){return _p(2048,8,s,l)}function NP(s,l){return _p(4,2,s,l)}function RP(s,l){return _p(4,4,s,l)}function MP(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function DP(s,l,f){return f=f!=null?f.concat([s]):null,_p(4,4,MP.bind(null,l,s),f)}function eb(){}function LP(s,l){var f=Vn();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&Kv(l,v[1])?v[0]:(f.memoizedState=[s,l],s)}function $P(s,l){var f=Vn();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&Kv(l,v[1])?v[0]:(s=s(),f.memoizedState=[s,l],s)}function VP(s,l,f){return(js&21)===0?(s.baseState&&(s.baseState=!1,nn=!0),s.memoizedState=f):(ci(f,l)||(f=_s(),$t.lanes|=f,Ns|=f,s.baseState=!0),l)}function yF(s,l){var f=tt;tt=f!==0&&4>f?f:4,s(!0);var v=Gv.transition;Gv.transition={};try{s(!1),l()}finally{tt=f,Gv.transition=v}}function FP(){return Vn().memoizedState}function vF(s,l,f){var v=So(s);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},BP(s))UP(l,f);else if(f=vP(s,l,f,v),f!==null){var w=Kr();mi(f,s,v,w),zP(f,l,v)}}function bF(s,l,f){var v=So(s),w={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(BP(s))UP(l,w);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var V=l.lastRenderedState,z=A(V,f);if(w.hasEagerState=!0,w.eagerState=z,ci(z,V)){var H=l.interleaved;H===null?(w.next=w,Bv(l)):(w.next=H.next,H.next=w),l.interleaved=w;return}}catch{}finally{}f=vP(s,l,w,v),f!==null&&(w=Kr(),mi(f,s,v,w),zP(f,l,v))}}function BP(s){var l=s.alternate;return s===$t||l!==null&&l===$t}function UP(s,l){fd=bp=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function zP(s,l,f){if((f&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,f|=v,l.lanes=f,so(s,f)}}var wp={readContext:$n,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},xF={readContext:$n,useCallback:function(s,l){return $i().memoizedState=[s,l===void 0?null:l],s},useContext:$n,useEffect:jP,useImperativeHandle:function(s,l,f){return f=f!=null?f.concat([s]):null,xp(4194308,4,MP.bind(null,l,s),f)},useLayoutEffect:function(s,l){return xp(4194308,4,s,l)},useInsertionEffect:function(s,l){return xp(4,2,s,l)},useMemo:function(s,l){var f=$i();return l=l===void 0?null:l,s=s(),f.memoizedState=[s,l],s},useReducer:function(s,l,f){var v=$i();return l=f!==void 0?f(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=vF.bind(null,$t,s),[v.memoizedState,s]},useRef:function(s){var l=$i();return s={current:s},l.memoizedState=s},useState:OP,useDebugValue:eb,useDeferredValue:function(s){return $i().memoizedState=s},useTransition:function(){var s=OP(!1),l=s[0];return s=yF.bind(null,s[1]),$i().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,f){var v=$t,w=$i();if(jt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),pr===null)throw Error(r(349));(js&30)!==0||TP(v,l,f)}w.memoizedState=f;var A={value:f,getSnapshot:l};return w.queue=A,jP(PP.bind(null,v,A,s),[s]),v.flags|=2048,md(9,AP.bind(null,v,A,f,l),void 0,null),f},useId:function(){var s=$i(),l=pr.identifierPrefix;if(jt){var f=ba,v=va;f=(v&~(1<<32-Wr(v)-1)).toString(32)+f,l=":"+l+"R"+f,f=hd++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=gF++,l=":"+l+"r"+f.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},_F={readContext:$n,useCallback:LP,useContext:$n,useEffect:Zv,useImperativeHandle:DP,useInsertionEffect:NP,useLayoutEffect:RP,useMemo:$P,useReducer:Qv,useRef:CP,useState:function(){return Qv(pd)},useDebugValue:eb,useDeferredValue:function(s){var l=Vn();return VP(l,ir.memoizedState,s)},useTransition:function(){var s=Qv(pd)[0],l=Vn().memoizedState;return[s,l]},useMutableSource:SP,useSyncExternalStore:EP,useId:FP,unstable_isNewReconciler:!1},wF={readContext:$n,useCallback:LP,useContext:$n,useEffect:Zv,useImperativeHandle:DP,useInsertionEffect:NP,useLayoutEffect:RP,useMemo:$P,useReducer:Jv,useRef:CP,useState:function(){return Jv(pd)},useDebugValue:eb,useDeferredValue:function(s){var l=Vn();return ir===null?l.memoizedState=s:VP(l,ir.memoizedState,s)},useTransition:function(){var s=Jv(pd)[0],l=Vn().memoizedState;return[s,l]},useMutableSource:SP,useSyncExternalStore:EP,useId:FP,unstable_isNewReconciler:!1};function fi(s,l){if(s&&s.defaultProps){l=ie({},l),s=s.defaultProps;for(var f in s)l[f]===void 0&&(l[f]=s[f]);return l}return l}function tb(s,l,f,v){l=s.memoizedState,f=f(v,l),f=f==null?l:ie({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Sp={isMounted:function(s){return(s=s._reactInternals)?ni(s)===s:!1},enqueueSetState:function(s,l,f){s=s._reactInternals;var v=Kr(),w=So(s),A=_a(v,w);A.payload=l,f!=null&&(A.callback=f),l=bo(s,A,w),l!==null&&(mi(l,s,w,v),mp(l,s,w))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var v=Kr(),w=So(s),A=_a(v,w);A.tag=1,A.payload=l,f!=null&&(A.callback=f),l=bo(s,A,w),l!==null&&(mi(l,s,w,v),mp(l,s,w))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=Kr(),v=So(s),w=_a(f,v);w.tag=2,l!=null&&(w.callback=l),l=bo(s,w,v),l!==null&&(mi(l,s,v,f),mp(l,s,v))}};function qP(s,l,f,v,w,A,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,A,V):l.prototype&&l.prototype.isPureReactComponent?!td(f,v)||!td(w,A):!0}function WP(s,l,f){var v=!1,w=go,A=l.contextType;return typeof A=="object"&&A!==null?A=$n(A):(w=rn(l)?Ps:Mr.current,v=l.contextTypes,A=(v=v!=null)?Ql(s,w):go),l=new l(f,A),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Sp,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=A),l}function HP(s,l,f,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,v),l.state!==s&&Sp.enqueueReplaceState(l,l.state,null)}function rb(s,l,f,v){var w=s.stateNode;w.props=f,w.state=s.memoizedState,w.refs={},Uv(s);var A=l.contextType;typeof A=="object"&&A!==null?w.context=$n(A):(A=rn(l)?Ps:Mr.current,w.context=Ql(s,A)),w.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(tb(s,l,A,f),w.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&Sp.enqueueReplaceState(w,w.state,null),gp(s,f,w,v),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function au(s,l){try{var f="",v=l;do f+=we(v),v=v.return;while(v);var w=f}catch(A){w=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:l,stack:w,digest:null}}function nb(s,l,f){return{value:s,source:null,stack:f??null,digest:l??null}}function ib(s,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var SF=typeof WeakMap=="function"?WeakMap:Map;function GP(s,l,f){f=_a(-1,f),f.tag=3,f.payload={element:null};var v=l.value;return f.callback=function(){Op||(Op=!0,bb=v),ib(s,l)},f}function KP(s,l,f){f=_a(-1,f),f.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var w=l.value;f.payload=function(){return v(w)},f.callback=function(){ib(s,l)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){ib(s,l),typeof v!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var V=l.stack;this.componentDidCatch(l.value,{componentStack:V!==null?V:""})}),f}function XP(s,l,f){var v=s.pingCache;if(v===null){v=s.pingCache=new SF;var w=new Set;v.set(l,w)}else w=v.get(l),w===void 0&&(w=new Set,v.set(l,w));w.has(f)||(w.add(f),s=LF.bind(null,s,l,f),l.then(s,s))}function YP(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function QP(s,l,f,v,w){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=_a(-1,1),l.tag=2,bo(f,l,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var EF=R.ReactCurrentOwner,nn=!1;function Gr(s,l,f,v){l.child=s===null?yP(l,null,f,v):tu(l,s.child,f,v)}function JP(s,l,f,v,w){f=f.render;var A=l.ref;return nu(l,w),v=Xv(s,l,f,v,A,w),f=Yv(),s!==null&&!nn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,wa(s,l,w)):(jt&&f&&jv(l),l.flags|=1,Gr(s,l,v,w),l.child)}function ZP(s,l,f,v,w){if(s===null){var A=f.type;return typeof A=="function"&&!Ab(A)&&A.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=A,eI(s,l,A,v,w)):(s=Dp(f.type,null,v,l,l.mode,w),s.ref=l.ref,s.return=l,l.child=s)}if(A=s.child,(s.lanes&w)===0){var V=A.memoizedProps;if(f=f.compare,f=f!==null?f:td,f(V,v)&&s.ref===l.ref)return wa(s,l,w)}return l.flags|=1,s=To(A,v),s.ref=l.ref,s.return=l,l.child=s}function eI(s,l,f,v,w){if(s!==null){var A=s.memoizedProps;if(td(A,v)&&s.ref===l.ref)if(nn=!1,l.pendingProps=v=A,(s.lanes&w)!==0)(s.flags&131072)!==0&&(nn=!0);else return l.lanes=s.lanes,wa(s,l,w)}return ab(s,l,f,v,w)}function tI(s,l,f){var v=l.pendingProps,w=v.children,A=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(su,En),En|=f;else{if((f&1073741824)===0)return s=A!==null?A.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,wt(su,En),En|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=A!==null?A.baseLanes:f,wt(su,En),En|=v}else A!==null?(v=A.baseLanes|f,l.memoizedState=null):v=f,wt(su,En),En|=v;return Gr(s,l,w,f),l.child}function rI(s,l){var f=l.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function ab(s,l,f,v,w){var A=rn(f)?Ps:Mr.current;return A=Ql(l,A),nu(l,w),f=Xv(s,l,f,v,A,w),v=Yv(),s!==null&&!nn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,wa(s,l,w)):(jt&&v&&jv(l),l.flags|=1,Gr(s,l,f,w),l.child)}function nI(s,l,f,v,w){if(rn(f)){var A=!0;sp(l)}else A=!1;if(nu(l,w),l.stateNode===null)Tp(s,l),WP(l,f,v),rb(l,f,v,w),v=!0;else if(s===null){var V=l.stateNode,z=l.memoizedProps;V.props=z;var H=V.context,re=f.contextType;typeof re=="object"&&re!==null?re=$n(re):(re=rn(f)?Ps:Mr.current,re=Ql(l,re));var me=f.getDerivedStateFromProps,ye=typeof me=="function"||typeof V.getSnapshotBeforeUpdate=="function";ye||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(z!==v||H!==re)&&HP(l,V,v,re),vo=!1;var pe=l.memoizedState;V.state=pe,gp(l,v,V,w),H=l.memoizedState,z!==v||pe!==H||tn.current||vo?(typeof me=="function"&&(tb(l,f,me,v),H=l.memoizedState),(z=vo||qP(l,f,z,v,pe,H,re))?(ye||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(l.flags|=4194308)):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=H),V.props=v,V.state=H,V.context=re,v=z):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{V=l.stateNode,bP(s,l),z=l.memoizedProps,re=l.type===l.elementType?z:fi(l.type,z),V.props=re,ye=l.pendingProps,pe=V.context,H=f.contextType,typeof H=="object"&&H!==null?H=$n(H):(H=rn(f)?Ps:Mr.current,H=Ql(l,H));var Ee=f.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(z!==ye||pe!==H)&&HP(l,V,v,H),vo=!1,pe=l.memoizedState,V.state=pe,gp(l,v,V,w);var Ie=l.memoizedState;z!==ye||pe!==Ie||tn.current||vo?(typeof Ee=="function"&&(tb(l,f,Ee,v),Ie=l.memoizedState),(re=vo||qP(l,f,re,v,pe,Ie,H)||!1)?(me||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,Ie,H),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,Ie,H)),typeof V.componentDidUpdate=="function"&&(l.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof V.componentDidUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Ie),V.props=v,V.state=Ie,V.context=H,v=re):(typeof V.componentDidUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&pe===s.memoizedState||(l.flags|=1024),v=!1)}return ob(s,l,f,v,A,w)}function ob(s,l,f,v,w,A){rI(s,l);var V=(l.flags&128)!==0;if(!v&&!V)return w&&lP(l,f,!1),wa(s,l,A);v=l.stateNode,EF.current=l;var z=V&&typeof f.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&V?(l.child=tu(l,s.child,null,A),l.child=tu(l,null,z,A)):Gr(s,l,z,A),l.memoizedState=v.state,w&&lP(l,f,!0),l.child}function iI(s){var l=s.stateNode;l.pendingContext?oP(s,l.pendingContext,l.pendingContext!==l.context):l.context&&oP(s,l.context,!1),zv(s,l.containerInfo)}function aI(s,l,f,v,w){return eu(),Dv(w),l.flags|=256,Gr(s,l,f,v),l.child}var sb={dehydrated:null,treeContext:null,retryLane:0};function lb(s){return{baseLanes:s,cachePool:null,transitions:null}}function oI(s,l,f){var v=l.pendingProps,w=Lt.current,A=!1,V=(l.flags&128)!==0,z;if((z=V)||(z=s!==null&&s.memoizedState===null?!1:(w&2)!==0),z?(A=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),wt(Lt,w&1),s===null)return Mv(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(V=v.children,s=v.fallback,A?(v=l.mode,A=l.child,V={mode:"hidden",children:V},(v&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=V):A=Lp(V,v,0,null),s=Ls(s,v,f,null),A.return=l,s.return=l,A.sibling=s,l.child=A,l.child.memoizedState=lb(f),l.memoizedState=sb,s):ub(l,V));if(w=s.memoizedState,w!==null&&(z=w.dehydrated,z!==null))return TF(s,l,V,v,z,w,f);if(A){A=v.fallback,V=l.mode,w=s.child,z=w.sibling;var H={mode:"hidden",children:v.children};return(V&1)===0&&l.child!==w?(v=l.child,v.childLanes=0,v.pendingProps=H,l.deletions=null):(v=To(w,H),v.subtreeFlags=w.subtreeFlags&14680064),z!==null?A=To(z,A):(A=Ls(A,V,f,null),A.flags|=2),A.return=l,v.return=l,v.sibling=A,l.child=v,v=A,A=l.child,V=s.child.memoizedState,V=V===null?lb(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},A.memoizedState=V,A.childLanes=s.childLanes&~f,l.memoizedState=sb,v}return A=s.child,s=A.sibling,v=To(A,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=f),v.return=l,v.sibling=null,s!==null&&(f=l.deletions,f===null?(l.deletions=[s],l.flags|=16):f.push(s)),l.child=v,l.memoizedState=null,v}function ub(s,l){return l=Lp({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Ep(s,l,f,v){return v!==null&&Dv(v),tu(l,s.child,null,f),s=ub(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function TF(s,l,f,v,w,A,V){if(f)return l.flags&256?(l.flags&=-257,v=nb(Error(r(422))),Ep(s,l,V,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(A=v.fallback,w=l.mode,v=Lp({mode:"visible",children:v.children},w,0,null),A=Ls(A,w,V,null),A.flags|=2,v.return=l,A.return=l,v.sibling=A,l.child=v,(l.mode&1)!==0&&tu(l,s.child,null,V),l.child.memoizedState=lb(V),l.memoizedState=sb,A);if((l.mode&1)===0)return Ep(s,l,V,null);if(w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var z=v.dgst;return v=z,A=Error(r(419)),v=nb(A,v,void 0),Ep(s,l,V,v)}if(z=(V&s.childLanes)!==0,nn||z){if(v=pr,v!==null){switch(V&-V){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(v.suspendedLanes|V))!==0?0:w,w!==0&&w!==A.retryLane&&(A.retryLane=w,xa(s,w),mi(v,s,w,-1))}return Tb(),v=nb(Error(r(421))),Ep(s,l,V,v)}return w.data==="$?"?(l.flags|=128,l.child=s.child,l=$F.bind(null,s),w._reactRetry=l,null):(s=A.treeContext,Sn=po(w.nextSibling),wn=l,jt=!0,di=null,s!==null&&(Dn[Ln++]=va,Dn[Ln++]=ba,Dn[Ln++]=Is,va=s.id,ba=s.overflow,Is=l),l=ub(l,v.children),l.flags|=4096,l)}function sI(s,l,f){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),Fv(s.return,l,f)}function cb(s,l,f,v,w){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:w}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=f,A.tailMode=w)}function lI(s,l,f){var v=l.pendingProps,w=v.revealOrder,A=v.tail;if(Gr(s,l,v.children,f),v=Lt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sI(s,f,l);else if(s.tag===19)sI(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(wt(Lt,v),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(f=l.child,w=null;f!==null;)s=f.alternate,s!==null&&yp(s)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),cb(l,!1,w,f,A);break;case"backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(s=w.alternate,s!==null&&yp(s)===null){l.child=w;break}s=w.sibling,w.sibling=f,f=w,w=s}cb(l,!0,f,null,A);break;case"together":cb(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Tp(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function wa(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),Ns|=l.lanes,(f&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,f=To(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=To(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function AF(s,l,f){switch(l.tag){case 3:iI(l),eu();break;case 5:wP(l);break;case 1:rn(l.type)&&sp(l);break;case 4:zv(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,w=l.memoizedProps.value;wt(hp,v._currentValue),v._currentValue=w;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(wt(Lt,Lt.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?oI(s,l,f):(wt(Lt,Lt.current&1),s=wa(s,l,f),s!==null?s.sibling:null);wt(Lt,Lt.current&1);break;case 19:if(v=(f&l.childLanes)!==0,(s.flags&128)!==0){if(v)return lI(s,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),wt(Lt,Lt.current),v)break;return null;case 22:case 23:return l.lanes=0,tI(s,l,f)}return wa(s,l,f)}var uI,db,cI,dI;uI=function(s,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},db=function(){},cI=function(s,l,f,v){var w=s.memoizedProps;if(w!==v){s=l.stateNode,Cs(Li.current);var A=null;switch(f){case"input":w=He(s,w),v=He(s,v),A=[];break;case"select":w=ie({},w,{value:void 0}),v=ie({},v,{value:void 0}),A=[];break;case"textarea":w=yn(s,w),v=yn(s,v),A=[];break;default:typeof w.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=ip)}Dc(f,v);var V;f=null;for(re in w)if(!v.hasOwnProperty(re)&&w.hasOwnProperty(re)&&w[re]!=null)if(re==="style"){var z=w[re];for(V in z)z.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?A||(A=[]):(A=A||[]).push(re,null));for(re in v){var H=v[re];if(z=w!=null?w[re]:void 0,v.hasOwnProperty(re)&&H!==z&&(H!=null||z!=null))if(re==="style")if(z){for(V in z)!z.hasOwnProperty(V)||H&&H.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in H)H.hasOwnProperty(V)&&z[V]!==H[V]&&(f||(f={}),f[V]=H[V])}else f||(A||(A=[]),A.push(re,f)),f=H;else re==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(A=A||[]).push(re,H)):re==="children"?typeof H!="string"&&typeof H!="number"||(A=A||[]).push(re,""+H):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(H!=null&&re==="onScroll"&&At("scroll",s),A||z===H||(A=[])):(A=A||[]).push(re,H))}f&&(A=A||[]).push("style",f);var re=A;(l.updateQueue=re)&&(l.flags|=4)}},dI=function(s,l,f,v){f!==v&&(l.flags|=4)};function gd(s,l){if(!jt)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Lr(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,v=0;if(l)for(var w=s.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags&14680064,v|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=v,s.childLanes=f,l}function PF(s,l,f){var v=l.pendingProps;switch(Nv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(l),null;case 1:return rn(l.type)&&op(),Lr(l),null;case 3:return v=l.stateNode,iu(),Pt(tn),Pt(Mr),Hv(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(dp(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,di!==null&&(wb(di),di=null))),db(s,l),Lr(l),null;case 5:qv(l);var w=Cs(dd.current);if(f=l.type,s!==null&&l.stateNode!=null)cI(s,l,f,v,w),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Lr(l),null}if(s=Cs(Li.current),dp(l)){v=l.stateNode,f=l.type;var A=l.memoizedProps;switch(v[Di]=l,v[od]=A,s=(l.mode&1)!==0,f){case"dialog":At("cancel",v),At("close",v);break;case"iframe":case"object":case"embed":At("load",v);break;case"video":case"audio":for(w=0;w<nd.length;w++)At(nd[w],v);break;case"source":At("error",v);break;case"img":case"image":case"link":At("error",v),At("load",v);break;case"details":At("toggle",v);break;case"input":xt(v,A),At("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!A.multiple},At("invalid",v);break;case"textarea":Ii(v,A),At("invalid",v)}Dc(f,A),w=null;for(var V in A)if(A.hasOwnProperty(V)){var z=A[V];V==="children"?typeof z=="string"?v.textContent!==z&&(A.suppressHydrationWarning!==!0&&np(v.textContent,z,s),w=["children",z]):typeof z=="number"&&v.textContent!==""+z&&(A.suppressHydrationWarning!==!0&&np(v.textContent,z,s),w=["children",""+z]):i.hasOwnProperty(V)&&z!=null&&V==="onScroll"&&At("scroll",v)}switch(f){case"input":fe(v),mn(v,A,!0);break;case"textarea":fe(v),to(v);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(v.onclick=ip)}v=w,l.updateQueue=v,v!==null&&(l.flags|=4)}else{V=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=tr(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=V.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=V.createElement(f,{is:v.is}):(s=V.createElement(f),f==="select"&&(V=s,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):s=V.createElementNS(s,f),s[Di]=l,s[od]=v,uI(s,l,!1,!1),l.stateNode=s;e:{switch(V=Lc(f,v),f){case"dialog":At("cancel",s),At("close",s),w=v;break;case"iframe":case"object":case"embed":At("load",s),w=v;break;case"video":case"audio":for(w=0;w<nd.length;w++)At(nd[w],s);w=v;break;case"source":At("error",s),w=v;break;case"img":case"image":case"link":At("error",s),At("load",s),w=v;break;case"details":At("toggle",s),w=v;break;case"input":xt(s,v),w=He(s,v),At("invalid",s);break;case"option":w=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},w=ie({},v,{value:void 0}),At("invalid",s);break;case"textarea":Ii(s,v),w=yn(s,v),At("invalid",s);break;default:w=v}Dc(f,w),z=w;for(A in z)if(z.hasOwnProperty(A)){var H=z[A];A==="style"?Rc(s,H):A==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&jc(s,H)):A==="children"?typeof H=="string"?(f!=="textarea"||H!=="")&&ro(s,H):typeof H=="number"&&ro(s,""+H):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?H!=null&&A==="onScroll"&&At("scroll",s):H!=null&&k(s,A,H,V))}switch(f){case"input":fe(s),mn(s,v,!1);break;case"textarea":fe(s),to(s);break;case"option":v.value!=null&&s.setAttribute("value",""+Re(v.value));break;case"select":s.multiple=!!v.multiple,A=v.value,A!=null?Sr(s,!!v.multiple,A,!1):v.defaultValue!=null&&Sr(s,!!v.multiple,v.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=ip)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Lr(l),null;case 6:if(s&&l.stateNode!=null)dI(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(f=Cs(dd.current),Cs(Li.current),dp(l)){if(v=l.stateNode,f=l.memoizedProps,v[Di]=l,(A=v.nodeValue!==f)&&(s=wn,s!==null))switch(s.tag){case 3:np(v.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&np(v.nodeValue,f,(s.mode&1)!==0)}A&&(l.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Di]=l,l.stateNode=v}return Lr(l),null;case 13:if(Pt(Lt),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(jt&&Sn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)pP(),eu(),l.flags|=98560,A=!1;else if(A=dp(l),v!==null&&v.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Di]=l}else eu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Lr(l),A=!1}else di!==null&&(wb(di),di=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Lt.current&1)!==0?ar===0&&(ar=3):Tb())),l.updateQueue!==null&&(l.flags|=4),Lr(l),null);case 4:return iu(),db(s,l),s===null&&id(l.stateNode.containerInfo),Lr(l),null;case 10:return Vv(l.type._context),Lr(l),null;case 17:return rn(l.type)&&op(),Lr(l),null;case 19:if(Pt(Lt),A=l.memoizedState,A===null)return Lr(l),null;if(v=(l.flags&128)!==0,V=A.rendering,V===null)if(v)gd(A,!1);else{if(ar!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(V=yp(s),V!==null){for(l.flags|=128,gd(A,!1),v=V.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=f,f=l.child;f!==null;)A=f,s=v,A.flags&=14680066,V=A.alternate,V===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=V.childLanes,A.lanes=V.lanes,A.child=V.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=V.memoizedProps,A.memoizedState=V.memoizedState,A.updateQueue=V.updateQueue,A.type=V.type,s=V.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return wt(Lt,Lt.current&1|2),l.child}s=s.sibling}A.tail!==null&&_t()>lu&&(l.flags|=128,v=!0,gd(A,!1),l.lanes=4194304)}else{if(!v)if(s=yp(V),s!==null){if(l.flags|=128,v=!0,f=s.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),gd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!V.alternate&&!jt)return Lr(l),null}else 2*_t()-A.renderingStartTime>lu&&f!==1073741824&&(l.flags|=128,v=!0,gd(A,!1),l.lanes=4194304);A.isBackwards?(V.sibling=l.child,l.child=V):(f=A.last,f!==null?f.sibling=V:l.child=V,A.last=V)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=_t(),l.sibling=null,f=Lt.current,wt(Lt,v?f&1|2:f&1),l):(Lr(l),null);case 22:case 23:return Eb(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(En&1073741824)!==0&&(Lr(l),l.subtreeFlags&6&&(l.flags|=8192)):Lr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function IF(s,l){switch(Nv(l),l.tag){case 1:return rn(l.type)&&op(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return iu(),Pt(tn),Pt(Mr),Hv(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return qv(l),null;case 13:if(Pt(Lt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));eu()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Pt(Lt),null;case 4:return iu(),null;case 10:return Vv(l.type._context),null;case 22:case 23:return Eb(),null;case 24:return null;default:return null}}var Ap=!1,$r=!1,kF=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ou(s,l){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Bt(s,l,v)}else f.current=null}function fb(s,l,f){try{f()}catch(v){Bt(s,l,v)}}var fI=!1;function OF(s,l){if(Ev=co,s=qA(),gv(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var w=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var V=0,z=-1,H=-1,re=0,me=0,ye=s,pe=null;t:for(;;){for(var Ee;ye!==f||w!==0&&ye.nodeType!==3||(z=V+w),ye!==A||v!==0&&ye.nodeType!==3||(H=V+v),ye.nodeType===3&&(V+=ye.nodeValue.length),(Ee=ye.firstChild)!==null;)pe=ye,ye=Ee;for(;;){if(ye===s)break t;if(pe===f&&++re===w&&(z=V),pe===A&&++me===v&&(H=V),(Ee=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=Ee}f=z===-1||H===-1?null:{start:z,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(Tv={focusedElem:s,selectionRange:f},co=!1,Ae=l;Ae!==null;)if(l=Ae,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Ae=s;else for(;Ae!==null;){l=Ae;try{var Ie=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Ce=Ie.memoizedProps,Wt=Ie.memoizedState,Z=l.stateNode,K=Z.getSnapshotBeforeUpdate(l.elementType===l.type?Ce:fi(l.type,Ce),Wt);Z.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=l.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){Bt(l,l.return,ve)}if(s=l.sibling,s!==null){s.return=l.return,Ae=s;break}Ae=l.return}return Ie=fI,fI=!1,Ie}function yd(s,l,f){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var w=v=v.next;do{if((w.tag&s)===s){var A=w.destroy;w.destroy=void 0,A!==void 0&&fb(l,f,A)}w=w.next}while(w!==v)}}function Pp(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&s)===s){var v=f.create;f.destroy=v()}f=f.next}while(f!==l)}}function hb(s){var l=s.ref;if(l!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof l=="function"?l(s):l.current=s}}function hI(s){var l=s.alternate;l!==null&&(s.alternate=null,hI(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Di],delete l[od],delete l[kv],delete l[fF],delete l[hF])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function pI(s){return s.tag===5||s.tag===3||s.tag===4}function mI(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pb(s,l,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(s,l):f.insertBefore(s,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(s,f)):(l=f,l.appendChild(s)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=ip));else if(v!==4&&(s=s.child,s!==null))for(pb(s,l,f),s=s.sibling;s!==null;)pb(s,l,f),s=s.sibling}function mb(s,l,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(mb(s,l,f),s=s.sibling;s!==null;)mb(s,l,f),s=s.sibling}var Ar=null,hi=!1;function xo(s,l,f){for(f=f.child;f!==null;)gI(s,l,f),f=f.sibling}function gI(s,l,f){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(bs,f)}catch{}switch(f.tag){case 5:$r||ou(f,l);case 6:var v=Ar,w=hi;Ar=null,xo(s,l,f),Ar=v,hi=w,Ar!==null&&(hi?(s=Ar,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Ar.removeChild(f.stateNode));break;case 18:Ar!==null&&(hi?(s=Ar,f=f.stateNode,s.nodeType===8?Iv(s.parentNode,f):s.nodeType===1&&Iv(s,f),li(s)):Iv(Ar,f.stateNode));break;case 4:v=Ar,w=hi,Ar=f.stateNode.containerInfo,hi=!0,xo(s,l,f),Ar=v,hi=w;break;case 0:case 11:case 14:case 15:if(!$r&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){w=v=v.next;do{var A=w,V=A.destroy;A=A.tag,V!==void 0&&((A&2)!==0||(A&4)!==0)&&fb(f,l,V),w=w.next}while(w!==v)}xo(s,l,f);break;case 1:if(!$r&&(ou(f,l),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(z){Bt(f,l,z)}xo(s,l,f);break;case 21:xo(s,l,f);break;case 22:f.mode&1?($r=(v=$r)||f.memoizedState!==null,xo(s,l,f),$r=v):xo(s,l,f);break;default:xo(s,l,f)}}function yI(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new kF),l.forEach(function(v){var w=VF.bind(null,s,v);f.has(v)||(f.add(v),v.then(w,w))})}}function pi(s,l){var f=l.deletions;if(f!==null)for(var v=0;v<f.length;v++){var w=f[v];try{var A=s,V=l,z=V;e:for(;z!==null;){switch(z.tag){case 5:Ar=z.stateNode,hi=!1;break e;case 3:Ar=z.stateNode.containerInfo,hi=!0;break e;case 4:Ar=z.stateNode.containerInfo,hi=!0;break e}z=z.return}if(Ar===null)throw Error(r(160));gI(A,V,w),Ar=null,hi=!1;var H=w.alternate;H!==null&&(H.return=null),w.return=null}catch(re){Bt(w,l,re)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)vI(l,s),l=l.sibling}function vI(s,l){var f=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pi(l,s),Vi(s),v&4){try{yd(3,s,s.return),Pp(3,s)}catch(Ce){Bt(s,s.return,Ce)}try{yd(5,s,s.return)}catch(Ce){Bt(s,s.return,Ce)}}break;case 1:pi(l,s),Vi(s),v&512&&f!==null&&ou(f,f.return);break;case 5:if(pi(l,s),Vi(s),v&512&&f!==null&&ou(f,f.return),s.flags&32){var w=s.stateNode;try{ro(w,"")}catch(Ce){Bt(s,s.return,Ce)}}if(v&4&&(w=s.stateNode,w!=null)){var A=s.memoizedProps,V=f!==null?f.memoizedProps:A,z=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{z==="input"&&A.type==="radio"&&A.name!=null&&Tt(w,A),Lc(z,V);var re=Lc(z,A);for(V=0;V<H.length;V+=2){var me=H[V],ye=H[V+1];me==="style"?Rc(w,ye):me==="dangerouslySetInnerHTML"?jc(w,ye):me==="children"?ro(w,ye):k(w,me,ye,re)}switch(z){case"input":Gt(w,A);break;case"textarea":la(w,A);break;case"select":var pe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!A.multiple;var Ee=A.value;Ee!=null?Sr(w,!!A.multiple,Ee,!1):pe!==!!A.multiple&&(A.defaultValue!=null?Sr(w,!!A.multiple,A.defaultValue,!0):Sr(w,!!A.multiple,A.multiple?[]:"",!1))}w[od]=A}catch(Ce){Bt(s,s.return,Ce)}}break;case 6:if(pi(l,s),Vi(s),v&4){if(s.stateNode===null)throw Error(r(162));w=s.stateNode,A=s.memoizedProps;try{w.nodeValue=A}catch(Ce){Bt(s,s.return,Ce)}}break;case 3:if(pi(l,s),Vi(s),v&4&&f!==null&&f.memoizedState.isDehydrated)try{li(l.containerInfo)}catch(Ce){Bt(s,s.return,Ce)}break;case 4:pi(l,s),Vi(s);break;case 13:pi(l,s),Vi(s),w=s.child,w.flags&8192&&(A=w.memoizedState!==null,w.stateNode.isHidden=A,!A||w.alternate!==null&&w.alternate.memoizedState!==null||(vb=_t())),v&4&&yI(s);break;case 22:if(me=f!==null&&f.memoizedState!==null,s.mode&1?($r=(re=$r)||me,pi(l,s),$r=re):pi(l,s),Vi(s),v&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!me&&(s.mode&1)!==0)for(Ae=s,me=s.child;me!==null;){for(ye=Ae=me;Ae!==null;){switch(pe=Ae,Ee=pe.child,pe.tag){case 0:case 11:case 14:case 15:yd(4,pe,pe.return);break;case 1:ou(pe,pe.return);var Ie=pe.stateNode;if(typeof Ie.componentWillUnmount=="function"){v=pe,f=pe.return;try{l=v,Ie.props=l.memoizedProps,Ie.state=l.memoizedState,Ie.componentWillUnmount()}catch(Ce){Bt(v,f,Ce)}}break;case 5:ou(pe,pe.return);break;case 22:if(pe.memoizedState!==null){_I(ye);continue}}Ee!==null?(Ee.return=pe,Ae=Ee):_I(ye)}me=me.sibling}e:for(me=null,ye=s;;){if(ye.tag===5){if(me===null){me=ye;try{w=ye.stateNode,re?(A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(z=ye.stateNode,H=ye.memoizedProps.style,V=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Nc("display",V))}catch(Ce){Bt(s,s.return,Ce)}}}else if(ye.tag===6){if(me===null)try{ye.stateNode.nodeValue=re?"":ye.memoizedProps}catch(Ce){Bt(s,s.return,Ce)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===s)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===s)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===s)break e;me===ye&&(me=null),ye=ye.return}me===ye&&(me=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:pi(l,s),Vi(s),v&4&&yI(s);break;case 21:break;default:pi(l,s),Vi(s)}}function Vi(s){var l=s.flags;if(l&2){try{e:{for(var f=s.return;f!==null;){if(pI(f)){var v=f;break e}f=f.return}throw Error(r(160))}switch(v.tag){case 5:var w=v.stateNode;v.flags&32&&(ro(w,""),v.flags&=-33);var A=mI(s);mb(s,A,w);break;case 3:case 4:var V=v.stateNode.containerInfo,z=mI(s);pb(s,z,V);break;default:throw Error(r(161))}}catch(H){Bt(s,s.return,H)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function CF(s,l,f){Ae=s,bI(s)}function bI(s,l,f){for(var v=(s.mode&1)!==0;Ae!==null;){var w=Ae,A=w.child;if(w.tag===22&&v){var V=w.memoizedState!==null||Ap;if(!V){var z=w.alternate,H=z!==null&&z.memoizedState!==null||$r;z=Ap;var re=$r;if(Ap=V,($r=H)&&!re)for(Ae=w;Ae!==null;)V=Ae,H=V.child,V.tag===22&&V.memoizedState!==null?wI(w):H!==null?(H.return=V,Ae=H):wI(w);for(;A!==null;)Ae=A,bI(A),A=A.sibling;Ae=w,Ap=z,$r=re}xI(s)}else(w.subtreeFlags&8772)!==0&&A!==null?(A.return=w,Ae=A):xI(s)}}function xI(s){for(;Ae!==null;){var l=Ae;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:$r||Pp(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!$r)if(f===null)v.componentDidMount();else{var w=l.elementType===l.type?f.memoizedProps:fi(l.type,f.memoizedProps);v.componentDidUpdate(w,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&_P(l,A,v);break;case 3:var V=l.updateQueue;if(V!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}_P(l,V,f)}break;case 5:var z=l.stateNode;if(f===null&&l.flags&4){f=z;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&f.focus();break;case"img":H.src&&(f.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var re=l.alternate;if(re!==null){var me=re.memoizedState;if(me!==null){var ye=me.dehydrated;ye!==null&&li(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}$r||l.flags&512&&hb(l)}catch(pe){Bt(l,l.return,pe)}}if(l===s){Ae=null;break}if(f=l.sibling,f!==null){f.return=l.return,Ae=f;break}Ae=l.return}}function _I(s){for(;Ae!==null;){var l=Ae;if(l===s){Ae=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Ae=f;break}Ae=l.return}}function wI(s){for(;Ae!==null;){var l=Ae;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Pp(4,l)}catch(H){Bt(l,f,H)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var w=l.return;try{v.componentDidMount()}catch(H){Bt(l,w,H)}}var A=l.return;try{hb(l)}catch(H){Bt(l,A,H)}break;case 5:var V=l.return;try{hb(l)}catch(H){Bt(l,V,H)}}}catch(H){Bt(l,l.return,H)}if(l===s){Ae=null;break}var z=l.sibling;if(z!==null){z.return=l.return,Ae=z;break}Ae=l.return}}var jF=Math.ceil,Ip=R.ReactCurrentDispatcher,gb=R.ReactCurrentOwner,Fn=R.ReactCurrentBatchConfig,it=0,pr=null,Xt=null,Pr=0,En=0,su=mo(0),ar=0,vd=null,Ns=0,kp=0,yb=0,bd=null,an=null,vb=0,lu=1/0,Sa=null,Op=!1,bb=null,_o=null,Cp=!1,wo=null,jp=0,xd=0,xb=null,Np=-1,Rp=0;function Kr(){return(it&6)!==0?_t():Np!==-1?Np:Np=_t()}function So(s){return(s.mode&1)===0?1:(it&2)!==0&&Pr!==0?Pr&-Pr:mF.transition!==null?(Rp===0&&(Rp=_s()),Rp):(s=tt,s!==0||(s=window.event,s=s===void 0?16:Kc(s.type)),s)}function mi(s,l,f,v){if(50<xd)throw xd=0,xb=null,Error(r(185));oo(s,f,v),((it&2)===0||s!==pr)&&(s===pr&&((it&2)===0&&(kp|=f),ar===4&&Eo(s,Pr)),on(s,v),f===1&&it===0&&(l.mode&1)===0&&(lu=_t()+500,lp&&yo()))}function on(s,l){var f=s.callbackNode;da(s,l);var v=xs(s,s===pr?Pr:0);if(v===0)f!==null&&zc(f),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(f!=null&&zc(f),l===1)s.tag===0?pF(EI.bind(null,s)):uP(EI.bind(null,s)),cF(function(){(it&6)===0&&yo()}),f=null;else{switch(lo(v)){case 1:f=vs;break;case 4:f=no;break;case 16:f=Nn;break;case 536870912:f=Rh;break;default:f=Nn}f=jI(f,SI.bind(null,s))}s.callbackPriority=l,s.callbackNode=f}}function SI(s,l){if(Np=-1,Rp=0,(it&6)!==0)throw Error(r(327));var f=s.callbackNode;if(uu()&&s.callbackNode!==f)return null;var v=xs(s,s===pr?Pr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=Mp(s,v);else{l=v;var w=it;it|=2;var A=AI();(pr!==s||Pr!==l)&&(Sa=null,lu=_t()+500,Ms(s,l));do try{MF();break}catch(z){TI(s,z)}while(!0);$v(),Ip.current=A,it=w,Xt!==null?l=0:(pr=null,Pr=0,l=ar)}if(l!==0){if(l===2&&(w=bn(s),w!==0&&(v=w,l=_b(s,w))),l===1)throw f=vd,Ms(s,0),Eo(s,v),on(s,_t()),f;if(l===6)Eo(s,v);else{if(w=s.current.alternate,(v&30)===0&&!NF(w)&&(l=Mp(s,v),l===2&&(A=bn(s),A!==0&&(v=A,l=_b(s,A))),l===1))throw f=vd,Ms(s,0),Eo(s,v),on(s,_t()),f;switch(s.finishedWork=w,s.finishedLanes=v,l){case 0:case 1:throw Error(r(345));case 2:Ds(s,an,Sa);break;case 3:if(Eo(s,v),(v&130023424)===v&&(l=vb+500-_t(),10<l)){if(xs(s,0)!==0)break;if(w=s.suspendedLanes,(w&v)!==v){Kr(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=Pv(Ds.bind(null,s,an,Sa),l);break}Ds(s,an,Sa);break;case 4:if(Eo(s,v),(v&4194240)===v)break;for(l=s.eventTimes,w=-1;0<v;){var V=31-Wr(v);A=1<<V,V=l[V],V>w&&(w=V),v&=~A}if(v=w,v=_t()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*jF(v/1960))-v,10<v){s.timeoutHandle=Pv(Ds.bind(null,s,an,Sa),v);break}Ds(s,an,Sa);break;case 5:Ds(s,an,Sa);break;default:throw Error(r(329))}}}return on(s,_t()),s.callbackNode===f?SI.bind(null,s):null}function _b(s,l){var f=bd;return s.current.memoizedState.isDehydrated&&(Ms(s,l).flags|=256),s=Mp(s,l),s!==2&&(l=an,an=f,l!==null&&wb(l)),s}function wb(s){an===null?an=s:an.push.apply(an,s)}function NF(s){for(var l=s;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var w=f[v],A=w.getSnapshot;w=w.value;try{if(!ci(A(),w))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Eo(s,l){for(l&=~yb,l&=~kp,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var f=31-Wr(l),v=1<<f;s[f]=-1,l&=~v}}function EI(s){if((it&6)!==0)throw Error(r(327));uu();var l=xs(s,0);if((l&1)===0)return on(s,_t()),null;var f=Mp(s,l);if(s.tag!==0&&f===2){var v=bn(s);v!==0&&(l=v,f=_b(s,v))}if(f===1)throw f=vd,Ms(s,0),Eo(s,l),on(s,_t()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Ds(s,an,Sa),on(s,_t()),null}function Sb(s,l){var f=it;it|=1;try{return s(l)}finally{it=f,it===0&&(lu=_t()+500,lp&&yo())}}function Rs(s){wo!==null&&wo.tag===0&&(it&6)===0&&uu();var l=it;it|=1;var f=Fn.transition,v=tt;try{if(Fn.transition=null,tt=1,s)return s()}finally{tt=v,Fn.transition=f,it=l,(it&6)===0&&yo()}}function Eb(){En=su.current,Pt(su)}function Ms(s,l){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,uF(f)),Xt!==null)for(f=Xt.return;f!==null;){var v=f;switch(Nv(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&op();break;case 3:iu(),Pt(tn),Pt(Mr),Hv();break;case 5:qv(v);break;case 4:iu();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:Vv(v.type._context);break;case 22:case 23:Eb()}f=f.return}if(pr=s,Xt=s=To(s.current,null),Pr=En=l,ar=0,vd=null,yb=kp=Ns=0,an=bd=null,Os!==null){for(l=0;l<Os.length;l++)if(f=Os[l],v=f.interleaved,v!==null){f.interleaved=null;var w=v.next,A=f.pending;if(A!==null){var V=A.next;A.next=w,v.next=V}f.pending=v}Os=null}return s}function TI(s,l){do{var f=Xt;try{if($v(),vp.current=wp,bp){for(var v=$t.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}bp=!1}if(js=0,hr=ir=$t=null,fd=!1,hd=0,gb.current=null,f===null||f.return===null){ar=1,vd=l,Xt=null;break}e:{var A=s,V=f.return,z=f,H=l;if(l=Pr,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=H,me=z,ye=me.tag;if((me.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=YP(V);if(Ee!==null){Ee.flags&=-257,QP(Ee,V,z,A,l),Ee.mode&1&&XP(A,re,l),l=Ee,H=re;var Ie=l.updateQueue;if(Ie===null){var Ce=new Set;Ce.add(H),l.updateQueue=Ce}else Ie.add(H);break e}else{if((l&1)===0){XP(A,re,l),Tb();break e}H=Error(r(426))}}else if(jt&&z.mode&1){var Wt=YP(V);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),QP(Wt,V,z,A,l),Dv(au(H,z));break e}}A=H=au(H,z),ar!==4&&(ar=2),bd===null?bd=[A]:bd.push(A),A=V;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Z=GP(A,H,l);xP(A,Z);break e;case 1:z=H;var K=A.type,ee=A.stateNode;if((A.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(_o===null||!_o.has(ee)))){A.flags|=65536,l&=-l,A.lanes|=l;var ve=KP(A,z,l);xP(A,ve);break e}}A=A.return}while(A!==null)}II(f)}catch(Ne){l=Ne,Xt===f&&f!==null&&(Xt=f=f.return);continue}break}while(!0)}function AI(){var s=Ip.current;return Ip.current=wp,s===null?wp:s}function Tb(){(ar===0||ar===3||ar===2)&&(ar=4),pr===null||(Ns&268435455)===0&&(kp&268435455)===0||Eo(pr,Pr)}function Mp(s,l){var f=it;it|=2;var v=AI();(pr!==s||Pr!==l)&&(Sa=null,Ms(s,l));do try{RF();break}catch(w){TI(s,w)}while(!0);if($v(),it=f,Ip.current=v,Xt!==null)throw Error(r(261));return pr=null,Pr=0,ar}function RF(){for(;Xt!==null;)PI(Xt)}function MF(){for(;Xt!==null&&!jh();)PI(Xt)}function PI(s){var l=CI(s.alternate,s,En);s.memoizedProps=s.pendingProps,l===null?II(s):Xt=l,gb.current=null}function II(s){var l=s;do{var f=l.alternate;if(s=l.return,(l.flags&32768)===0){if(f=PF(f,l,En),f!==null){Xt=f;return}}else{if(f=IF(f,l),f!==null){f.flags&=32767,Xt=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ar=6,Xt=null;return}}if(l=l.sibling,l!==null){Xt=l;return}Xt=l=s}while(l!==null);ar===0&&(ar=5)}function Ds(s,l,f){var v=tt,w=Fn.transition;try{Fn.transition=null,tt=1,DF(s,l,f,v)}finally{Fn.transition=w,tt=v}return null}function DF(s,l,f,v){do uu();while(wo!==null);if((it&6)!==0)throw Error(r(327));f=s.finishedWork;var w=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var A=f.lanes|f.childLanes;if(vt(s,A),s===pr&&(Xt=pr=null,Pr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Cp||(Cp=!0,jI(Nn,function(){return uu(),null})),A=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||A){A=Fn.transition,Fn.transition=null;var V=tt;tt=1;var z=it;it|=4,gb.current=null,OF(s,f),vI(f,s),rF(Tv),co=!!Ev,Tv=Ev=null,s.current=f,CF(f),lv(),it=z,tt=V,Fn.transition=A}else s.current=f;if(Cp&&(Cp=!1,wo=s,jp=w),A=s.pendingLanes,A===0&&(_o=null),Mh(f.stateNode),on(s,_t()),l!==null)for(v=s.onRecoverableError,f=0;f<l.length;f++)w=l[f],v(w.value,{componentStack:w.stack,digest:w.digest});if(Op)throw Op=!1,s=bb,bb=null,s;return(jp&1)!==0&&s.tag!==0&&uu(),A=s.pendingLanes,(A&1)!==0?s===xb?xd++:(xd=0,xb=s):xd=0,yo(),null}function uu(){if(wo!==null){var s=lo(jp),l=Fn.transition,f=tt;try{if(Fn.transition=null,tt=16>s?16:s,wo===null)var v=!1;else{if(s=wo,wo=null,jp=0,(it&6)!==0)throw Error(r(331));var w=it;for(it|=4,Ae=s.current;Ae!==null;){var A=Ae,V=A.child;if((Ae.flags&16)!==0){var z=A.deletions;if(z!==null){for(var H=0;H<z.length;H++){var re=z[H];for(Ae=re;Ae!==null;){var me=Ae;switch(me.tag){case 0:case 11:case 15:yd(8,me,A)}var ye=me.child;if(ye!==null)ye.return=me,Ae=ye;else for(;Ae!==null;){me=Ae;var pe=me.sibling,Ee=me.return;if(hI(me),me===re){Ae=null;break}if(pe!==null){pe.return=Ee,Ae=pe;break}Ae=Ee}}}var Ie=A.alternate;if(Ie!==null){var Ce=Ie.child;if(Ce!==null){Ie.child=null;do{var Wt=Ce.sibling;Ce.sibling=null,Ce=Wt}while(Ce!==null)}}Ae=A}}if((A.subtreeFlags&2064)!==0&&V!==null)V.return=A,Ae=V;else e:for(;Ae!==null;){if(A=Ae,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:yd(9,A,A.return)}var Z=A.sibling;if(Z!==null){Z.return=A.return,Ae=Z;break e}Ae=A.return}}var K=s.current;for(Ae=K;Ae!==null;){V=Ae;var ee=V.child;if((V.subtreeFlags&2064)!==0&&ee!==null)ee.return=V,Ae=ee;else e:for(V=K;Ae!==null;){if(z=Ae,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Pp(9,z)}}catch(Ne){Bt(z,z.return,Ne)}if(z===V){Ae=null;break e}var ve=z.sibling;if(ve!==null){ve.return=z.return,Ae=ve;break e}Ae=z.return}}if(it=w,yo(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(bs,s)}catch{}v=!0}return v}finally{tt=f,Fn.transition=l}}return!1}function kI(s,l,f){l=au(f,l),l=GP(s,l,1),s=bo(s,l,1),l=Kr(),s!==null&&(oo(s,1,l),on(s,l))}function Bt(s,l,f){if(s.tag===3)kI(s,s,f);else for(;l!==null;){if(l.tag===3){kI(l,s,f);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_o===null||!_o.has(v))){s=au(f,s),s=KP(l,s,1),l=bo(l,s,1),s=Kr(),l!==null&&(oo(l,1,s),on(l,s));break}}l=l.return}}function LF(s,l,f){var v=s.pingCache;v!==null&&v.delete(l),l=Kr(),s.pingedLanes|=s.suspendedLanes&f,pr===s&&(Pr&f)===f&&(ar===4||ar===3&&(Pr&130023424)===Pr&&500>_t()-vb?Ms(s,0):yb|=f),on(s,l)}function OI(s,l){l===0&&((s.mode&1)===0?l=1:(l=jl,jl<<=1,(jl&130023424)===0&&(jl=4194304)));var f=Kr();s=xa(s,l),s!==null&&(oo(s,l,f),on(s,f))}function $F(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),OI(s,f)}function VF(s,l){var f=0;switch(s.tag){case 13:var v=s.stateNode,w=s.memoizedState;w!==null&&(f=w.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(l),OI(s,f)}var CI;CI=function(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps||tn.current)nn=!0;else{if((s.lanes&f)===0&&(l.flags&128)===0)return nn=!1,AF(s,l,f);nn=(s.flags&131072)!==0}else nn=!1,jt&&(l.flags&1048576)!==0&&cP(l,cp,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Tp(s,l),s=l.pendingProps;var w=Ql(l,Mr.current);nu(l,f),w=Xv(null,l,v,s,w,f);var A=Yv();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,rn(v)?(A=!0,sp(l)):A=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Uv(l),w.updater=Sp,l.stateNode=w,w._reactInternals=l,rb(l,v,s,f),l=ob(null,l,v,!0,A,f)):(l.tag=0,jt&&A&&jv(l),Gr(null,l,w,f),l=l.child),l;case 16:v=l.elementType;e:{switch(Tp(s,l),s=l.pendingProps,w=v._init,v=w(v._payload),l.type=v,w=l.tag=BF(v),s=fi(v,s),w){case 0:l=ab(null,l,v,s,f);break e;case 1:l=nI(null,l,v,s,f);break e;case 11:l=JP(null,l,v,s,f);break e;case 14:l=ZP(null,l,v,fi(v.type,s),f);break e}throw Error(r(306,v,""))}return l;case 0:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),ab(s,l,v,w,f);case 1:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),nI(s,l,v,w,f);case 3:e:{if(iI(l),s===null)throw Error(r(387));v=l.pendingProps,A=l.memoizedState,w=A.element,bP(s,l),gp(l,v,null,f);var V=l.memoizedState;if(v=V.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){w=au(Error(r(423)),l),l=aI(s,l,v,f,w);break e}else if(v!==w){w=au(Error(r(424)),l),l=aI(s,l,v,f,w);break e}else for(Sn=po(l.stateNode.containerInfo.firstChild),wn=l,jt=!0,di=null,f=yP(l,null,v,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(eu(),v===w){l=wa(s,l,f);break e}Gr(s,l,v,f)}l=l.child}return l;case 5:return wP(l),s===null&&Mv(l),v=l.type,w=l.pendingProps,A=s!==null?s.memoizedProps:null,V=w.children,Av(v,w)?V=null:A!==null&&Av(v,A)&&(l.flags|=32),rI(s,l),Gr(s,l,V,f),l.child;case 6:return s===null&&Mv(l),null;case 13:return oI(s,l,f);case 4:return zv(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=tu(l,null,v,f):Gr(s,l,v,f),l.child;case 11:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),JP(s,l,v,w,f);case 7:return Gr(s,l,l.pendingProps,f),l.child;case 8:return Gr(s,l,l.pendingProps.children,f),l.child;case 12:return Gr(s,l,l.pendingProps.children,f),l.child;case 10:e:{if(v=l.type._context,w=l.pendingProps,A=l.memoizedProps,V=w.value,wt(hp,v._currentValue),v._currentValue=V,A!==null)if(ci(A.value,V)){if(A.children===w.children&&!tn.current){l=wa(s,l,f);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var z=A.dependencies;if(z!==null){V=A.child;for(var H=z.firstContext;H!==null;){if(H.context===v){if(A.tag===1){H=_a(-1,f&-f),H.tag=2;var re=A.updateQueue;if(re!==null){re=re.shared;var me=re.pending;me===null?H.next=H:(H.next=me.next,me.next=H),re.pending=H}}A.lanes|=f,H=A.alternate,H!==null&&(H.lanes|=f),Fv(A.return,f,l),z.lanes|=f;break}H=H.next}}else if(A.tag===10)V=A.type===l.type?null:A.child;else if(A.tag===18){if(V=A.return,V===null)throw Error(r(341));V.lanes|=f,z=V.alternate,z!==null&&(z.lanes|=f),Fv(V,f,l),V=A.sibling}else V=A.child;if(V!==null)V.return=A;else for(V=A;V!==null;){if(V===l){V=null;break}if(A=V.sibling,A!==null){A.return=V.return,V=A;break}V=V.return}A=V}Gr(s,l,w.children,f),l=l.child}return l;case 9:return w=l.type,v=l.pendingProps.children,nu(l,f),w=$n(w),v=v(w),l.flags|=1,Gr(s,l,v,f),l.child;case 14:return v=l.type,w=fi(v,l.pendingProps),w=fi(v.type,w),ZP(s,l,v,w,f);case 15:return eI(s,l,l.type,l.pendingProps,f);case 17:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),Tp(s,l),l.tag=1,rn(v)?(s=!0,sp(l)):s=!1,nu(l,f),WP(l,v,w),rb(l,v,w,f),ob(null,l,v,!0,s,f);case 19:return lI(s,l,f);case 22:return tI(s,l,f)}throw Error(r(156,l.tag))};function jI(s,l){return Ol(s,l)}function FF(s,l,f,v){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(s,l,f,v){return new FF(s,l,f,v)}function Ab(s){return s=s.prototype,!(!s||!s.isReactComponent)}function BF(s){if(typeof s=="function")return Ab(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Y)return 14}return 2}function To(s,l){var f=s.alternate;return f===null?(f=Bn(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Dp(s,l,f,v,w,A){var V=2;if(v=s,typeof s=="function")Ab(s)&&(V=1);else if(typeof s=="string")V=5;else e:switch(s){case I:return Ls(f.children,w,A,l);case C:V=8,w|=8;break;case M:return s=Bn(12,f,l,w|2),s.elementType=M,s.lanes=A,s;case L:return s=Bn(13,f,l,w),s.elementType=L,s.lanes=A,s;case W:return s=Bn(19,f,l,w),s.elementType=W,s.lanes=A,s;case ne:return Lp(f,w,A,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:V=10;break e;case F:V=9;break e;case $:V=11;break e;case Y:V=14;break e;case te:V=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=Bn(V,f,l,w),l.elementType=s,l.type=v,l.lanes=A,l}function Ls(s,l,f,v){return s=Bn(7,s,v,l),s.lanes=f,s}function Lp(s,l,f,v){return s=Bn(22,s,v,l),s.elementType=ne,s.lanes=f,s.stateNode={isHidden:!1},s}function Pb(s,l,f){return s=Bn(6,s,null,l),s.lanes=f,s}function Ib(s,l,f){return l=Bn(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function UF(s,l,f,v,w){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function kb(s,l,f,v,w,A,V,z,H){return s=new UF(s,l,f,z,H),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Bn(3,null,null,l),s.current=A,A.stateNode=s,A.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uv(A),s}function zF(s,l,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:v==null?null:""+v,children:s,containerInfo:l,implementation:f}}function NI(s){if(!s)return go;s=s._reactInternals;e:{if(ni(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(rn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(rn(f))return sP(s,f,l)}return l}function RI(s,l,f,v,w,A,V,z,H){return s=kb(f,v,!0,s,w,A,V,z,H),s.context=NI(null),f=s.current,v=Kr(),w=So(f),A=_a(v,w),A.callback=l??null,bo(f,A,w),s.current.lanes=w,oo(s,w,v),on(s,v),s}function $p(s,l,f,v){var w=l.current,A=Kr(),V=So(w);return f=NI(f),l.context===null?l.context=f:l.pendingContext=f,l=_a(A,V),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=bo(w,l,V),s!==null&&(mi(s,w,V,A),mp(s,w,V)),V}function Vp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function MI(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function Ob(s,l){MI(s,l),(s=s.alternate)&&MI(s,l)}function qF(){return null}var DI=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cb(s){this._internalRoot=s}Fp.prototype.render=Cb.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));$p(s,l,null,null)},Fp.prototype.unmount=Cb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Rs(function(){$p(null,s,null,null)}),l[ga]=null}};function Fp(s){this._internalRoot=s}Fp.prototype.unstable_scheduleHydration=function(s){if(s){var l=Fh();s={blockedOn:null,target:s,priority:l};for(var f=0;f<ji.length&&l!==0&&l<ji[f].priority;f++);ji.splice(f,0,s),f===0&&zh(s)}};function jb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Bp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function LI(){}function WF(s,l,f,v,w){if(w){if(typeof v=="function"){var A=v;v=function(){var re=Vp(V);A.call(re)}}var V=RI(l,v,s,0,null,!1,!1,"",LI);return s._reactRootContainer=V,s[ga]=V.current,id(s.nodeType===8?s.parentNode:s),Rs(),V}for(;w=s.lastChild;)s.removeChild(w);if(typeof v=="function"){var z=v;v=function(){var re=Vp(H);z.call(re)}}var H=kb(s,0,!1,null,null,!1,!1,"",LI);return s._reactRootContainer=H,s[ga]=H.current,id(s.nodeType===8?s.parentNode:s),Rs(function(){$p(l,H,f,v)}),H}function Up(s,l,f,v,w){var A=f._reactRootContainer;if(A){var V=A;if(typeof w=="function"){var z=w;w=function(){var H=Vp(V);z.call(H)}}$p(l,V,s,w)}else V=WF(f,l,s,w,v);return Vp(V)}$h=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var f=io(l.pendingLanes);f!==0&&(so(l,f|1),on(l,_t()),(it&6)===0&&(lu=_t()+500,yo()))}break;case 13:Rs(function(){var v=xa(s,1);if(v!==null){var w=Kr();mi(v,s,1,w)}}),Ob(s,1)}},Nl=function(s){if(s.tag===13){var l=xa(s,134217728);if(l!==null){var f=Kr();mi(l,s,134217728,f)}Ob(s,134217728)}},Vh=function(s){if(s.tag===13){var l=So(s),f=xa(s,l);if(f!==null){var v=Kr();mi(f,s,l,v)}Ob(s,l)}},Fh=function(){return tt},Bh=function(s,l){var f=tt;try{return tt=s,l()}finally{tt=f}},El=function(s,l,f){switch(l){case"input":if(Gt(s,f),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var v=f[l];if(v!==s&&v.form===s.form){var w=ap(v);if(!w)throw Error(r(90));ue(v),Gt(v,w)}}}break;case"textarea":la(s,f);break;case"select":l=f.value,l!=null&&Sr(s,!!f.multiple,l,!1)}},ps=Sb,Vc=Rs;var HF={usingClientEntryPoint:!1,Events:[sd,Xl,ap,Oi,$c,Sb]},_d={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GF={bundleType:_d.bundleType,version:_d.version,rendererPackageName:_d.rendererPackageName,rendererConfig:_d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Uc(s),s===null?null:s.stateNode},findFiberByHostInstance:_d.findFiberByHostInstance||qF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{bs=zp.inject(GF),vn=zp}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HF,sn.createPortal=function(s,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jb(l))throw Error(r(200));return zF(s,l,null,f)},sn.createRoot=function(s,l){if(!jb(s))throw Error(r(299));var f=!1,v="",w=DI;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=kb(s,1,!1,null,null,f,!1,v,w),s[ga]=l.current,id(s.nodeType===8?s.parentNode:s),new Cb(l)},sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Uc(l),s=s===null?null:s.stateNode,s},sn.flushSync=function(s){return Rs(s)},sn.hydrate=function(s,l,f){if(!Bp(l))throw Error(r(200));return Up(null,s,l,!0,f)},sn.hydrateRoot=function(s,l,f){if(!jb(s))throw Error(r(405));var v=f!=null&&f.hydratedSources||null,w=!1,A="",V=DI;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),l=RI(l,null,s,1,f??null,w,!1,A,V),s[ga]=l.current,id(s),v)for(s=0;s<v.length;s++)f=v[s],w=f._getVersion,w=w(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,w]:l.mutableSourceEagerHydrationData.push(f,w);return new Fp(l)},sn.render=function(s,l,f){if(!Bp(l))throw Error(r(200));return Up(null,s,l,!1,f)},sn.unmountComponentAtNode=function(s){if(!Bp(s))throw Error(r(40));return s._reactRootContainer?(Rs(function(){Up(null,null,s,!1,function(){s._reactRootContainer=null,s[ga]=null})}),!0):!1},sn.unstable_batchedUpdates=Sb,sn.unstable_renderSubtreeIntoContainer=function(s,l,f,v){if(!Bp(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Up(s,l,f,!1,v)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var WI;function XD(){if(WI)return Mb.exports;WI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mb.exports=rB(),Mb.exports}var HI;function nB(){if(HI)return Wp;HI=1;var t=XD();return Wp.createRoot=t.createRoot,Wp.hydrateRoot=t.hydrateRoot,Wp}var iB=nB();XD();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sf.apply(this,arguments)}var Lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lo||(Lo={}));const GI="popstate";function aB(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:u="",hash:c=""}=dl(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),l1("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");u=d===-1?c:c.slice(0,d)}return u+"#"+(typeof a=="string"?a:Sm(a))}function n(i,a){Wg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return sB(e,r,n,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oB(){return Math.random().toString(36).substr(2,8)}function KI(t,e){return{usr:t.state,key:t.key,idx:e}}function l1(t,e,r,n){return r===void 0&&(r=null),sf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:r,key:e&&e.key||n||oB()})}function Sm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function dl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function sB(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,u=Lo.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(sf({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){u=Lo.Pop;let b=h(),E=b==null?null:b-d;d=b,c&&c({action:u,location:_.location,delta:E})}function y(b,E){u=Lo.Push;let P=l1(_.location,b,E);r&&r(P,b),d=h()+1;let k=KI(P,d),R=_.createHref(P);try{o.pushState(k,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(R)}a&&c&&c({action:u,location:_.location,delta:1})}function x(b,E){u=Lo.Replace;let P=l1(_.location,b,E);r&&r(P,b),d=h();let k=KI(P,d),R=_.createHref(P);o.replaceState(k,"",R),a&&c&&c({action:u,location:_.location,delta:0})}function S(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof b=="string"?b:Sm(b);return P=P.replace(/ $/,"%20"),Vt(E,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,E)}let _={get action(){return u},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(GI,p),c=b,()=>{i.removeEventListener(GI,p),c=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let E=S(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:x,go(b){return o.go(b)}};return _}var XI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XI||(XI={}));function lB(t,e,r){return r===void 0&&(r="/"),uB(t,e,r)}function uB(t,e,r,n){let i=typeof e=="string"?dl(e):e,a=ju(i.pathname||"/",r);if(a==null)return null;let o=YD(t);cB(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=_B(a);u=bB(o[c],d)}return u}function YD(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Vt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Bo([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(Vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),YD(a.children,e,h,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:yB(d,a.index),routesMeta:h})};return t.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,o);else for(let c of QD(a.path))i(a,o,c)}),e}function QD(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=QD(n.join("/")),u=[];return u.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function cB(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:vB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dB=/^:[\w-]+$/,fB=3,hB=2,pB=1,mB=10,gB=-2,YI=t=>t==="*";function yB(t,e){let r=t.split("/"),n=r.length;return r.some(YI)&&(n+=gB),e&&(n+=hB),r.filter(i=>!YI(i)).reduce((i,a)=>i+(dB.test(a)?fB:a===""?pB:mB),n)}function vB(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function bB(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let u=0;u<n.length;++u){let c=n[u],d=u===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=u1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),y=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Bo([a,p.pathname]),pathnameBase:AB(Bo([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Bo([a,p.pathnameBase]))}return o}function u1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=xB(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((d,h,p)=>{let{paramName:y,isOptional:x}=h;if(y==="*"){let _=u[p]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const S=u[p];return x&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function xB(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Wg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _B(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ju(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const wB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SB=t=>wB.test(t);function EB(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?dl(t):t,a;if(r)if(SB(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Wg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=QI(r.substring(1),"/"):a=QI(r,e)}else a=e;return{pathname:a,search:PB(n),hash:IB(i)}}function QI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $b(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TB(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function gE(t,e){let r=TB(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=dl(t):(i=sf({},t),Vt(!i.pathname||!i.pathname.includes("?"),$b("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),$b("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),$b("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let c=EB(i,u),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Bo=t=>t.join("/").replace(/\/\/+/g,"/"),AB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JD=["post","put","patch","delete"];new Set(JD);const OB=["get",...JD];new Set(OB);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lf.apply(this,arguments)}const Hg=D.createContext(null),ZD=D.createContext(null),Ka=D.createContext(null),Gg=D.createContext(null),ra=D.createContext({outlet:null,matches:[],isDataRoute:!1}),eL=D.createContext(null);function CB(t,e){let{relative:r}=e===void 0?{}:e;mc()||Vt(!1);let{basename:n,navigator:i}=D.useContext(Ka),{hash:a,pathname:o,search:u}=Kg(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Bo([n,o])),i.createHref({pathname:c,search:u,hash:a})}function mc(){return D.useContext(Gg)!=null}function fl(){return mc()||Vt(!1),D.useContext(Gg).location}function tL(t){D.useContext(Ka).static||D.useLayoutEffect(t)}function na(){let{isDataRoute:t}=D.useContext(ra);return t?HB():jB()}function jB(){mc()||Vt(!1);let t=D.useContext(Hg),{basename:e,future:r,navigator:n}=D.useContext(Ka),{matches:i}=D.useContext(ra),{pathname:a}=fl(),o=JSON.stringify(gE(i,r.v7_relativeSplatPath)),u=D.useRef(!1);return tL(()=>{u.current=!0}),D.useCallback(function(d,h){if(h===void 0&&(h={}),!u.current)return;if(typeof d=="number"){n.go(d);return}let p=yE(d,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Bo([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,a,t])}const NB=D.createContext(null);function RB(t){let e=D.useContext(ra).outlet;return e&&D.createElement(NB.Provider,{value:t},e)}function rL(){let{matches:t}=D.useContext(ra),e=t[t.length-1];return e?e.params:{}}function Kg(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(Ka),{matches:i}=D.useContext(ra),{pathname:a}=fl(),o=JSON.stringify(gE(i,n.v7_relativeSplatPath));return D.useMemo(()=>yE(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function MB(t,e){return DB(t,e)}function DB(t,e,r,n){mc()||Vt(!1);let{navigator:i}=D.useContext(Ka),{matches:a}=D.useContext(ra),o=a[a.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=fl(),h;if(e){var p;let b=typeof e=="string"?dl(e):e;c==="/"||(p=b.pathname)!=null&&p.startsWith(c)||Vt(!1),h=b}else h=d;let y=h.pathname||"/",x=y;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=lB(t,{pathname:x}),_=BB(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Bo([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Bo([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&_?D.createElement(Gg.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Lo.Pop}},_):_}function LB(){let t=WB(),e=kB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const $B=D.createElement(LB,null);class VB extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(ra.Provider,{value:this.props.routeContext},D.createElement(eL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FB(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(Hg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(ra.Provider,{value:e},n)}function BB(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let h=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);h>=0||Vt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:x}=r,S=p.route.loader&&y[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,y)=>{let x,S=!1,_=null,b=null;r&&(x=u&&p.route.id?u[p.route.id]:void 0,_=p.route.errorElement||$B,c&&(d<0&&y===0?(GB("route-fallback"),S=!0,b=null):d===y&&(S=!0,b=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,y+1)),P=()=>{let k;return x?k=_:S?k=b:p.route.Component?k=D.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,D.createElement(FB,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?D.createElement(VB,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):P()},null)}var nL=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(nL||{}),iL=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(iL||{});function UB(t){let e=D.useContext(Hg);return e||Vt(!1),e}function zB(t){let e=D.useContext(ZD);return e||Vt(!1),e}function qB(t){let e=D.useContext(ra);return e||Vt(!1),e}function aL(t){let e=qB(),r=e.matches[e.matches.length-1];return r.route.id||Vt(!1),r.route.id}function WB(){var t;let e=D.useContext(eL),r=zB(),n=aL();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function HB(){let{router:t}=UB(nL.UseNavigateStable),e=aL(iL.UseNavigateStable),r=D.useRef(!1);return tL(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lf({fromRouteId:e},a)))},[t,e])}const JI={};function GB(t,e,r){JI[t]||(JI[t]=!0)}function KB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function c1(t){let{to:e,replace:r,state:n,relative:i}=t;mc()||Vt(!1);let{future:a,static:o}=D.useContext(Ka),{matches:u}=D.useContext(ra),{pathname:c}=fl(),d=na(),h=yE(e,gE(u,a.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return D.useEffect(()=>d(JSON.parse(p),{replace:r,state:n,relative:i}),[d,p,i,r,n]),null}function oL(t){return RB(t.context)}function gr(t){Vt(!1)}function XB(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Lo.Pop,navigator:a,static:o=!1,future:u}=t;mc()&&Vt(!1);let c=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:a,static:o,future:lf({v7_relativeSplatPath:!1},u)}),[c,u,a,o]);typeof n=="string"&&(n=dl(n));let{pathname:h="/",search:p="",hash:y="",state:x=null,key:S="default"}=n,_=D.useMemo(()=>{let b=ju(h,c);return b==null?null:{location:{pathname:b,search:p,hash:y,state:x,key:S},navigationType:i}},[c,h,p,y,x,S,i]);return _==null?null:D.createElement(Ka.Provider,{value:d},D.createElement(Gg.Provider,{children:r,value:_}))}function YB(t){let{children:e,location:r}=t;return MB(d1(e),r)}new Promise(()=>{});function d1(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,d1(n.props.children,a));return}n.type!==gr&&Vt(!1),!n.props.index||!n.props.children||Vt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=d1(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Em.apply(this,arguments)}function sL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function QB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JB(t,e){return t.button===0&&(!e||e==="_self")&&!QB(t)}const ZB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tU="6";try{window.__reactRouterVersion=tU}catch{}const rU=D.createContext({isTransitioning:!1}),nU="startTransition",ZI=ZF[nU];function iU(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=aB({window:i,v5Compat:!0}));let o=a.current,[u,c]=D.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=D.useCallback(p=>{d&&ZI?ZI(()=>c(p)):c(p)},[c,d]);return D.useLayoutEffect(()=>o.listen(h),[o,h]),D.useEffect(()=>KB(n),[n]),D.createElement(XB,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:o,future:n})}const aU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:u,target:c,to:d,preventScrollReset:h,viewTransition:p}=e,y=sL(e,ZB),{basename:x}=D.useContext(Ka),S,_=!1;if(typeof d=="string"&&oU.test(d)&&(S=d,aU))try{let k=new URL(window.location.href),R=d.startsWith("//")?new URL(k.protocol+d):new URL(d),O=ju(R.pathname,x);R.origin===k.origin&&O!=null?d=O+R.search+R.hash:_=!0}catch{}let b=CB(d,{relative:i}),E=lU(d,{replace:o,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:p});function P(k){n&&n(k),k.defaultPrevented||E(k)}return D.createElement("a",Em({},y,{href:S||b,onClick:_||a?n:P,ref:r,target:c}))}),f1=D.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:d,children:h}=e,p=sL(e,eU),y=Kg(c,{relative:p.relative}),x=fl(),S=D.useContext(ZD),{navigator:_,basename:b}=D.useContext(Ka),E=S!=null&&uU(y)&&d===!0,P=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,k=x.pathname,R=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(k=k.toLowerCase(),R=R?R.toLowerCase():null,P=P.toLowerCase()),R&&b&&(R=ju(R,b)||R);const O=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let j=k===P||!o&&k.startsWith(P)&&k.charAt(O)==="/",I=R!=null&&(R===P||!o&&R.startsWith(P)&&R.charAt(P.length)==="/"),C={isActive:j,isPending:I,isTransitioning:E},M=j?n:void 0,B;typeof a=="function"?B=a(C):B=[a,j?"active":null,I?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let F=typeof u=="function"?u(C):u;return D.createElement(Gn,Em({},p,{"aria-current":M,className:B,ref:r,style:F,to:c,viewTransition:d}),typeof h=="function"?h(C):h)});var h1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h1||(h1={}));var ek;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ek||(ek={}));function sU(t){let e=D.useContext(Hg);return e||Vt(!1),e}function lU(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:u}=e===void 0?{}:e,c=na(),d=fl(),h=Kg(t,{relative:o});return D.useCallback(p=>{if(JB(p,r)){p.preventDefault();let y=n!==void 0?n:Sm(d)===Sm(h);c(t,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[d,c,h,n,i,r,t,a,o,u])}function uU(t,e){e===void 0&&(e={});let r=D.useContext(rU);r==null&&Vt(!1);let{basename:n}=sU(h1.useViewTransitionState),i=Kg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=ju(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ju(r.nextLocation.pathname,n)||r.nextLocation.pathname;return u1(i.pathname,o)!=null||u1(i.pathname,a)!=null}const cU=()=>{};var tk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},dU=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},uL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|d>>6,x=d&63;c||(x=64,o||(y=64)),n.push(r[h],r[p],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||p==null)throw new fU;const y=a<<2|u>>4;if(n.push(y),d!==64){const x=u<<4&240|d>>2;if(n.push(x),p!==64){const S=d<<6&192|p;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hU=function(t){const e=lL(t);return uL.encodeByteArray(e,!0)},Tm=function(t){return hU(t).replace(/\./g,"")},cL=function(t){try{return uL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=()=>pU().__FIREBASE_DEFAULTS__,gU=()=>{if(typeof process>"u"||typeof tk>"u")return;const t=tk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cL(t[1]);return e&&JSON.parse(e)},Xg=()=>{try{return cU()||mU()||gU()||yU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dL=t=>{var e,r;return(r=(e=Xg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},vU=t=>{const e=dL(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},fL=()=>{var t;return(t=Xg())===null||t===void 0?void 0:t.config},hL=t=>{var e;return(e=Xg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tm(JSON.stringify(r)),Tm(JSON.stringify(o)),""].join(".")}const Hd={};function _U(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hd))Hd[e]?t.emulator.push(e):t.prod.push(e);return t}function wU(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let rk=!1;function mL(t,e){if(typeof window>"u"||typeof document>"u"||!gc(window.location.host)||Hd[t]===e||Hd[t]||rk)return;Hd[t]=e;function r(y){return`__firebase__banner__${y}`}const n="__firebase__banner",a=_U().prod.length>0;function o(){const y=document.getElementById(n);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{rk=!0,o()},y}function h(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=wU(n),x=r("text"),S=document.getElementById(x)||document.createElement("span"),_=r("learnmore"),b=document.getElementById(_)||document.createElement("a"),E=r("preprendIcon"),P=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;u(k),h(b,_);const R=d();c(P,E),k.append(P,S,b,R),document.body.appendChild(k)}a?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function EU(){var t;const e=(t=Xg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IU(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kU(){return!EU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OU(){try{return typeof indexedDB=="object"}catch{return!1}}function CU(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="FirebaseError";class Xa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=jU,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?NU(a,n):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Xa(i,u,n)}}function NU(t,e){return t.replace(RU,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const RU=/\{\$([^}]+)}/g;function MU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(nk(a)&&nk(o)){if(!Va(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function nk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Dd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function DU(t,e){const r=new LU(t,e);return r.subscribe.bind(r)}class LU{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");$U(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Vb),i.error===void 0&&(i.error=Vb),i.complete===void 0&&(i.complete=Vb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $U(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Vb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class rl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new bU;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BU(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:FU(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FU(t){return t===Bs?void 0:t}function BU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new VU(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const zU={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},qU=Ze.INFO,WU={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},HU=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=WU[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vE{constructor(e){this.name=e,this._logLevel=qU,this._logHandler=HU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const GU=(t,e)=>e.some(r=>t instanceof r);let ik,ak;function KU(){return ik||(ik=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XU(){return ak||(ak=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gL=new WeakMap,p1=new WeakMap,yL=new WeakMap,Fb=new WeakMap,bE=new WeakMap;function YU(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Uo(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&gL.set(r,t)}).catch(()=>{}),bE.set(e,t),e}function QU(t){if(p1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});p1.set(t,e)}let m1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return p1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yL.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Uo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JU(t){m1=t(m1)}function ZU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Bb(this),e,...r);return yL.set(n,e.sort?e.sort():[e]),Uo(n)}:XU().includes(t)?function(...e){return t.apply(Bb(this),e),Uo(gL.get(this))}:function(...e){return Uo(t.apply(Bb(this),e))}}function ez(t){return typeof t=="function"?ZU(t):(t instanceof IDBTransaction&&QU(t),GU(t,KU())?new Proxy(t,m1):t)}function Uo(t){if(t instanceof IDBRequest)return YU(t);if(Fb.has(t))return Fb.get(t);const e=ez(t);return e!==t&&(Fb.set(t,e),bE.set(e,t)),e}const Bb=t=>bE.get(t);function tz(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=Uo(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Uo(o.result),c.oldVersion,c.newVersion,Uo(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const rz=["get","getKey","getAll","getAllKeys","count"],nz=["put","add","delete","clear"],Ub=new Map;function ok(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ub.get(e))return Ub.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=nz.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||rz.includes(r)))return;const a=async function(o,...u){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(u.shift())),(await Promise.all([d[r](...u),i&&c.done]))[0]};return Ub.set(e,a),a}JU(t=>({...t,get:(e,r,n)=>ok(e,r)||t.get(e,r,n),has:(e,r)=>!!ok(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(az(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function az(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g1="@firebase/app",sk="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new vE("@firebase/app"),oz="@firebase/app-compat",sz="@firebase/analytics-compat",lz="@firebase/analytics",uz="@firebase/app-check-compat",cz="@firebase/app-check",dz="@firebase/auth",fz="@firebase/auth-compat",hz="@firebase/database",pz="@firebase/data-connect",mz="@firebase/database-compat",gz="@firebase/functions",yz="@firebase/functions-compat",vz="@firebase/installations",bz="@firebase/installations-compat",xz="@firebase/messaging",_z="@firebase/messaging-compat",wz="@firebase/performance",Sz="@firebase/performance-compat",Ez="@firebase/remote-config",Tz="@firebase/remote-config-compat",Az="@firebase/storage",Pz="@firebase/storage-compat",Iz="@firebase/firestore",kz="@firebase/ai",Oz="@firebase/firestore-compat",Cz="firebase",jz="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="[DEFAULT]",Nz={[g1]:"fire-core",[oz]:"fire-core-compat",[lz]:"fire-analytics",[sz]:"fire-analytics-compat",[cz]:"fire-app-check",[uz]:"fire-app-check-compat",[dz]:"fire-auth",[fz]:"fire-auth-compat",[hz]:"fire-rtdb",[pz]:"fire-data-connect",[mz]:"fire-rtdb-compat",[gz]:"fire-fn",[yz]:"fire-fn-compat",[vz]:"fire-iid",[bz]:"fire-iid-compat",[xz]:"fire-fcm",[_z]:"fire-fcm-compat",[wz]:"fire-perf",[Sz]:"fire-perf-compat",[Ez]:"fire-rc",[Tz]:"fire-rc-compat",[Az]:"fire-gcs",[Pz]:"fire-gcs-compat",[Iz]:"fire-fst",[Oz]:"fire-fst-compat",[kz]:"fire-vertex","fire-js":"fire-js",[Cz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map,Rz=new Map,v1=new Map;function lk(t,e){try{t.container.addComponent(e)}catch(r){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Nu(t){const e=t.name;if(v1.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;v1.set(e,t);for(const r of Am.values())lk(r,t);for(const r of Rz.values())lk(r,t);return!0}function xE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new th("app","Firebase",Mz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=jz;function vL(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:y1,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw zo.create("bad-app-name",{appName:String(i)});if(r||(r=fL()),!r)throw zo.create("no-options");const a=Am.get(i);if(a){if(Va(r,a.options)&&Va(n,a.config))return a;throw zo.create("duplicate-app",{appName:i})}const o=new UU(i);for(const c of v1.values())o.addComponent(c);const u=new Dz(r,n,o);return Am.set(i,u),u}function bL(t=y1){const e=Am.get(t);if(!e&&t===y1&&fL())return vL();if(!e)throw zo.create("no-app",{appName:t});return e}function qo(t,e,r){var n;let i=(n=Nz[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(u.join(" "));return}Nu(new rl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="firebase-heartbeat-database",$z=1,uf="firebase-heartbeat-store";let zb=null;function xL(){return zb||(zb=tz(Lz,$z,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uf)}catch(r){console.warn(r)}}}}).catch(t=>{throw zo.create("idb-open",{originalErrorMessage:t.message})})),zb}async function Vz(t){try{const r=(await xL()).transaction(uf),n=await r.objectStore(uf).get(_L(t));return await r.done,n}catch(e){if(e instanceof Xa)Fa.warn(e.message);else{const r=zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fa.warn(r.message)}}}async function uk(t,e){try{const n=(await xL()).transaction(uf,"readwrite");await n.objectStore(uf).put(e,_L(t)),await n.done}catch(r){if(r instanceof Xa)Fa.warn(r.message);else{const n=zo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Fa.warn(n.message)}}}function _L(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=1024,Bz=30;class Uz{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new qz(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ck();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Bz){const o=Wz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Fa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ck(),{heartbeatsToSend:n,unsentEntries:i}=zz(this._heartbeatsCache.heartbeats),a=Tm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Fa.warn(r),""}}}function ck(){return new Date().toISOString().substring(0,10)}function zz(t,e=Fz){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),dk(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),dk(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class qz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OU()?CU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Vz(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return uk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return uk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dk(t){return Tm(JSON.stringify({version:2,heartbeats:t})).length}function Wz(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t){Nu(new rl("platform-logger",e=>new iz(e),"PRIVATE")),Nu(new rl("heartbeat",e=>new Uz(e),"PRIVATE")),qo(g1,sk,t),qo(g1,sk,"esm2017"),qo("fire-js","")}Hz("");function _E(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function wL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gz=wL,SL=new th("auth","Firebase",wL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new vE("@firebase/auth");function Kz(t,...e){Pm.logLevel<=Ze.WARN&&Pm.warn(`Auth (${yc}): ${t}`,...e)}function hm(t,...e){Pm.logLevel<=Ze.ERROR&&Pm.error(`Auth (${yc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw SE(t,...e)}function Si(t,...e){return SE(t,...e)}function wE(t,e,r){const n=Object.assign(Object.assign({},Gz()),{[e]:r});return new th("auth","Firebase",n).create(e,{appName:t.name})}function Ra(t){return wE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EL(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Jn(t,"argument-error"),wE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function SE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return SL.create(t,...e)}function Ve(t,e,...r){if(!t)throw SE(e,...r)}function ka(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hm(e),new Error(e)}function Ba(t,e){t||ka(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Xz(){return fk()==="http:"||fk()==="https:"}function fk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xz()||AU()||"connection"in navigator)?navigator.onLine:!0}function Qz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ba(r>e,"Short delay should be less than long delay!"),this.isMobile=SU()||PU()}get(){return Yz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t,e){Ba(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eq=new nh(3e4,6e4);function Ya(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ia(t,e,r,n,i={}){return AL(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const u=rh(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return TU()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&gc(t.emulatorConfig.host)&&(d.credentials="include"),TL.fetch()(await PL(t,t.config.apiHost,r,u),d)})}async function AL(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Jz),e);try{const i=new rq(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Hp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hp(t,"user-disabled",o);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw wE(t,h,d);Jn(t,h)}}catch(i){if(i instanceof Xa)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function ih(t,e,r,n,i={}){const a=await ia(t,e,r,n,i);return"mfaPendingCredential"in a&&Jn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function PL(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?EE(t.config,i):`${t.config.apiScheme}://${i}`;return Zz.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function tq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Si(this.auth,"network-request-failed")),eq.get())})}}function Hp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Si(t,e,n);return i.customData._tokenResponse=r,i}function hk(t){return t!==void 0&&t.enterprise!==void 0}class nq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return tq(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iq(t,e){return ia(t,"GET","/v2/recaptchaConfig",Ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aq(t,e){return ia(t,"POST","/v1/accounts:delete",e)}async function Im(t,e){return ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oq(t,e=!1){const r=Dt(t),n=await r.getIdToken(e),i=TE(n);Ve(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Gd(qb(i.auth_time)),issuedAtTime:Gd(qb(i.iat)),expirationTime:Gd(qb(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function qb(t){return Number(t)*1e3}function TE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=cL(r);return i?JSON.parse(i):(hm("Failed to decode base64 JWT payload"),null)}catch(i){return hm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pk(t){const e=TE(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Xa&&sq(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function sq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gd(this.lastLoginAt),this.creationTime=Gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Ru(t,Im(r,{idToken:n}));Ve(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?IL(a.providerUserInfo):[],u=cq(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),h=c?d:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new x1(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function uq(t){const e=Dt(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cq(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function IL(t){return t.map(e=>{var{providerId:r}=e,n=_E(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dq(t,e){const r=await AL(t,{},async()=>{const n=rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await PL(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:n};return t.emulatorConfig&&gc(t.emulatorConfig.host)&&(c.credentials="include"),TL.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function fq(t,e){return ia(t,"POST","/v2/accounts:revokeToken",Ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const r=pk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await dq(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Su;return n&&(Ve(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ve(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ve(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _i{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=_E(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new x1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return Ve(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return oq(this,e)}reload(){return uq(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new _i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await cf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await Ru(this,aq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,u,c,d,h;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,E=(d=r.createdAt)!==null&&d!==void 0?d:void 0,P=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:R,isAnonymous:O,providerData:j,stsTokenManager:I}=r;Ve(k&&I,e,"internal-error");const C=Su.fromJSON(this.name,I);Ve(typeof k=="string",e,"internal-error"),Po(p,e.name),Po(y,e.name),Ve(typeof R=="boolean",e,"internal-error"),Ve(typeof O=="boolean",e,"internal-error"),Po(x,e.name),Po(S,e.name),Po(_,e.name),Po(b,e.name),Po(E,e.name),Po(P,e.name);const M=new _i({uid:k,auth:e,email:y,emailVerified:R,displayName:p,isAnonymous:O,photoURL:S,phoneNumber:x,tenantId:_,stsTokenManager:C,createdAt:E,lastLoginAt:P});return j&&Array.isArray(j)&&(M.providerData=j.map(B=>Object.assign({},B))),b&&(M._redirectEventId=b),M}static async _fromIdTokenResponse(e,r,n=!1){const i=new Su;i.updateFromServerResponse(r);const a=new _i({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await cf(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?IL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Su;u.updateFromIdToken(n);const c=new _i({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new x1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Map;function Oa(t){Ba(t instanceof Function,"Expected a class definition");let e=mk.get(t);return e?(Ba(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}kL.type="NONE";const gk=kL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e,r){return`firebase:${t}:${e}:${r}`}class Eu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=pm(this.userKey,i.apiKey,a),this.fullPersistenceKey=pm("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Im(this.auth,{idToken:e}).catch(()=>{});return r?_i._fromGetAccountInfoResponse(this.auth,r,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Eu(Oa(gk),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Oa(gk);const o=pm(n,e.config.apiKey,e.name);let u=null;for(const d of r)try{const h=await d._get(o);if(h){let p;if(typeof h=="string"){const y=await Im(e,{idToken:h}).catch(()=>{});if(!y)break;p=await _i._fromGetAccountInfoResponse(e,y,h)}else p=_i._fromJSON(e,h);d!==a&&(u=p),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Eu(a,e,n):(a=c[0],u&&await a._set(o,u.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Eu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ML(e))return"Blackberry";if(DL(e))return"Webos";if(CL(e))return"Safari";if((e.includes("chrome/")||jL(e))&&!e.includes("edge/"))return"Chrome";if(RL(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function OL(t=qr()){return/firefox\//i.test(t)}function CL(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jL(t=qr()){return/crios\//i.test(t)}function NL(t=qr()){return/iemobile/i.test(t)}function RL(t=qr()){return/android/i.test(t)}function ML(t=qr()){return/blackberry/i.test(t)}function DL(t=qr()){return/webos/i.test(t)}function AE(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hq(t=qr()){var e;return AE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pq(){return IU()&&document.documentMode===10}function LL(t=qr()){return AE(t)||RL(t)||DL(t)||ML(t)||/windows phone/i.test(t)||NL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e=[]){let r;switch(t){case"Browser":r=yk(qr());break;case"Worker":r=`${yk(qr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${yc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,u)=>{try{const c=e(a);o(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gq(t,e={}){return ia(t,"GET","/v2/passwordPolicy",Ya(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=6;class vq{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:yq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vk(this),this.idTokenSubscription=new vk(this),this.beforeStateQueue=new mq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Oa(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Eu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Im(this,{idToken:e}),n=await _i._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Qz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Ra(this));const r=e?Dt(e):null;return r&&Ve(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gq(this),r=new vq(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new th("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await fq(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Oa(e)||this._popupRedirectResolver;Ve(r,this,"argument-error"),this.redirectPersistenceManager=await Eu.create(this,[Oa(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$L(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Kz(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Qa(t){return Dt(t)}class vk{constructor(e){this.auth=e,this.observer=null,this.addObserver=DU(r=>this.observer=r)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xq(t){Yg=t}function VL(t){return Yg.loadJS(t)}function _q(){return Yg.recaptchaEnterpriseScript}function wq(){return Yg.gapiScript}function Sq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Eq{constructor(){this.enterprise=new Tq}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Tq{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Aq="recaptcha-enterprise",FL="NO_RECAPTCHA";class Pq{constructor(e){this.type=Aq,this.auth=Qa(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{iq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new nq(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{u(c)})})}function i(a,o,u){const c=window.grecaptcha;hk(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(FL)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Eq().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(u=>{if(!r&&hk(window.grecaptcha))i(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_q();c.length!==0&&(c+=u),VL(c).then(()=>{i(u,a,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function bk(t,e,r,n=!1,i=!1){const a=new Pq(t);let o;if(i)o=FL;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function km(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bk(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await bk(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e){const r=xE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Va(a,e??{}))return i;Jn(i,"already-initialized")}return r.initialize({options:e})}function kq(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Oa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Oq(t,e,r){const n=Qa(t);Ve(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=BL(e),{host:o,port:u}=Cq(e),c=u===null?"":`:${u}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ve(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ve(Va(d,n.config.emulator)&&Va(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,gc(o)?(pL(`${a}//${o}${c}`),mL("Auth",!0)):jq()}function BL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cq(t){const e=BL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:xk(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:xk(o)}}}function xk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jq(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ka("not implemented")}_getIdTokenResponse(e){return ka("not implemented")}_linkToIdToken(e,r){return ka("not implemented")}_getReauthenticationResolver(e){return ka("not implemented")}}async function Nq(t,e){return ia(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){return ih(t,"POST","/v1/accounts:signInWithPassword",Ya(t,e))}async function Mq(t,e){return ia(t,"POST","/v1/accounts:sendOobCode",Ya(t,e))}async function Dq(t,e){return Mq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lq(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",Ya(t,e))}async function $q(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",Ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends PE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new df(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new df(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,r,"signInWithPassword",Rq);case"emailLink":return Lq(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,n,"signUpPassword",Nq);case"emailLink":return $q(e,{idToken:r,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t,e){return ih(t,"POST","/v1/accounts:signInWithIdp",Ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq="http://localhost";class nl extends PE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Jn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=_E(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new nl(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Tu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Tu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Tu(e,r)}buildRequest(){const e={requestUri:Vq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=rh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bq(t){const e=Md(Dd(t)).link,r=e?Md(Dd(e)).deep_link_id:null,n=Md(Dd(t)).deep_link_id;return(n?Md(Dd(n)).link:null)||n||r||e||t}class IE{constructor(e){var r,n,i,a,o,u;const c=Md(Dd(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,p=Fq((i=c.mode)!==null&&i!==void 0?i:null);Ve(d&&h&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=Bq(e);try{return new IE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,r){return df._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=IE.parseLink(r);return Ve(n,"argument-error"),df._fromEmailAndCode(e,n.code,n.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends ah{constructor(){super("facebook.com")}static credential(e){return nl._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.FACEBOOK_SIGN_IN_METHOD="facebook.com";No.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return nl._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ui.credential(r,n)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends ah{constructor(){super("github.com")}static credential(e){return nl._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.GITHUB_SIGN_IN_METHOD="github.com";Ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends ah{constructor(){super("twitter.com")}static credential(e,r){return nl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Mo.credential(r,n)}catch{return null}}}Mo.TWITTER_SIGN_IN_METHOD="twitter.com";Mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(t,e){return ih(t,"POST","/v1/accounts:signUp",Ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await _i._fromIdTokenResponse(e,n,i),o=_k(n);return new il({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=_k(n);return new il({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function _k(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Xa{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Om(e,r,n,i)}}function UL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,a,e,n):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function zL(t,e,r=!1){const n=await Ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return il._forOperation(t,"link",n)}async function qq(t,e,r){await cf(e);const n=zq(e.providerData);Ve(n.has(r)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wq(t,e,r=!1){const{auth:n}=t;if(Pn(n.app))return Promise.reject(Ra(n));const i="reauthenticate";try{const a=await Ru(t,UL(n,i,e,t),r);Ve(a.idToken,n,"internal-error");const o=TE(a.idToken);Ve(o,n,"internal-error");const{sub:u}=o;return Ve(t.uid===u,n,"user-mismatch"),il._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Jn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e,r=!1){if(Pn(t.app))return Promise.reject(Ra(t));const n="signIn",i=await UL(t,n,e),a=await il._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Hq(t,e){return qL(Qa(t),e)}async function Gq(t,e){const r=Dt(t);return await qq(!1,r,e.providerId),zL(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t){const e=Qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kq(t,e,r){const n=Qa(t);await km(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Dq)}async function Xq(t,e,r){if(Pn(t.app))return Promise.reject(Ra(t));const n=Qa(t),o=await km(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uq).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&WL(t),c}),u=await il._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function Yq(t,e,r){return Pn(t.app)?Promise.reject(Ra(t)):Hq(Dt(t),hl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&WL(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(t,e){return ia(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Dt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Ru(n,Qq(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function Jq(t,e,r,n){return Dt(t).onIdTokenChanged(e,r,n)}function Zq(t,e,r){return Dt(t).beforeAuthStateChanged(e,r)}function e9(t,e,r,n){return Dt(t).onAuthStateChanged(e,r,n)}function t9(t){return Dt(t).signOut()}const Cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=1e3,n9=10;class GL extends HL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);pq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,n9):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},r9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}GL.type="LOCAL";const i9=GL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL extends HL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}KL.type="SESSION";const XL=KL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Jg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(o).map(async d=>d(r.origin,a)),c=await a9(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,c)=>{const d=kE("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function s9(t){Wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function l9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function c9(){return YL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="firebaseLocalStorageDb",d9=1,jm="firebaseLocalStorage",JL="fbase_key";class oh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Zg(t,e){return t.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}function f9(){const t=indexedDB.deleteDatabase(QL);return new oh(t).toPromise()}function _1(){const t=indexedDB.open(QL,d9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(jm,{keyPath:JL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(jm)?e(n):(n.close(),await f9(),e(await _1()))})})}async function Sk(t,e,r){const n=Zg(t,!0).put({[JL]:e,value:r});return new oh(n).toPromise()}async function h9(t,e){const r=Zg(t,!1).get(e),n=await new oh(r).toPromise();return n===void 0?null:n.value}function Ek(t,e){const r=Zg(t,!0).delete(e);return new oh(r).toPromise()}const p9=800,m9=3;class ZL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>m9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jg._getInstance(c9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await l9(),!this.activeServiceWorker)return;this.sender=new o9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _1();return await Sk(e,Cm,"1"),await Ek(e,Cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>h9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ek(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zg(i,!1).getAll();return new oh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZL.type="LOCAL";const g9=ZL;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e){return e?Oa(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends PE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Tu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function y9(t){return qL(t.auth,new CE(t),t.bypassAuthState)}function v9(t){const{auth:e,user:r}=t;return Ve(r,e,"internal-error"),Wq(r,new CE(t),t.bypassAuthState)}async function b9(t){const{auth:e,user:r}=t;return Ve(r,e,"internal-error"),zL(r,new CE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y9;case"linkViaPopup":case"linkViaRedirect":return b9;case"reauthViaPopup":case"reauthViaRedirect":return v9;default:Jn(this.auth,"internal-error")}}resolve(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new nh(2e3,1e4);async function _9(t,e,r){if(Pn(t.app))return Promise.reject(Si(t,"operation-not-supported-in-this-environment"));const n=Qa(t);EL(t,e,Qg);const i=OE(n,r);return new $o(n,"signInViaPopup",e,i).executeNotNull()}async function w9(t,e,r){const n=Dt(t);EL(n.auth,e,Qg);const i=OE(n.auth,r);return new $o(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class $o extends e4{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ba(this.filter.length===1,"Popup operations only handle one event");const e=kE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x9.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="pendingRedirect",mm=new Map;class E9 extends e4{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const n=await T9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T9(t,e){const r=I9(e),n=P9(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function A9(t,e){mm.set(t._key(),e)}function P9(t){return Oa(t._redirectPersistence)}function I9(t){return pm(S9,t.config.apiKey,t.name)}async function k9(t,e,r=!1){if(Pn(t.app))return Promise.reject(Ra(t));const n=Qa(t),i=OE(n,e),o=await new E9(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=600*1e3;class C9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!t4(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Si(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tk(e))}saveEventToCache(e){this.cachedEventUids.add(Tk(e)),this.lastProcessedEventTime=Date.now()}}function Tk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function t4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(t,e={}){return ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M9=/^https?/;async function D9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N9(t);for(const r of e)try{if(L9(r))return}catch{}Jn(t,"unauthorized-domain")}function L9(t){const e=b1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!M9.test(r))return!1;if(R9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new nh(3e4,6e4);function Ak(){const t=Wi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function V9(t){return new Promise((e,r)=>{var n,i,a;function o(){Ak(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ak(),r(Si(t,"network-request-failed"))},timeout:$9.get()})}if(!((i=(n=Wi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Wi().gapi)===null||a===void 0)&&a.load)o();else{const u=Sq("iframefcb");return Wi()[u]=()=>{gapi.load?o():r(Si(t,"network-request-failed"))},VL(`${wq()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw gm=null,e})}let gm=null;function F9(t){return gm=gm||V9(t),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new nh(5e3,15e3),U9="__/auth/iframe",z9="emulator/auth/iframe",q9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H9(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?EE(e,z9):`https://${t.config.authDomain}/${U9}`,n={apiKey:e.apiKey,appName:t.name,v:yc},i=W9.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${rh(n).slice(1)}`}async function G9(t){const e=await F9(t),r=Wi().gapi;return Ve(r,t,"internal-error"),e.open({where:document.body,url:H9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q9,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Si(t,"network-request-failed"),u=Wi().setTimeout(()=>{a(o)},B9.get());function c(){Wi().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X9=500,Y9=600,Q9="_blank",J9="http://localhost";class Pk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z9(t,e,r,n=X9,i=Y9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},K9),{width:n.toString(),height:i.toString(),top:a,left:o}),d=qr().toLowerCase();r&&(u=jL(d)?Q9:r),OL(d)&&(e=e||J9,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(hq(d)&&u!=="_self")return e8(e||"",u),new Pk(null);const p=window.open(e||"",u,h);Ve(p,t,"popup-blocked");try{p.focus()}catch{}return new Pk(p)}function e8(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="__/auth/handler",r8="emulator/auth/handler",n8=encodeURIComponent("fac");async function Ik(t,e,r,n,i,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:yc,eventId:i};if(e instanceof Qg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof ah){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),d=c?`#${n8}=${encodeURIComponent(c)}`:"";return`${i8(t)}?${rh(u).slice(1)}${d}`}function i8({config:t}){return t.emulator?EE(t,r8):`https://${t.authDomain}/${t8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="webStorageSupport";class a8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XL,this._completeRedirectFn=k9,this._overrideRedirectResult=A9}async _openPopup(e,r,n,i){var a;Ba((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Ik(e,r,n,b1(),i);return Z9(e,o,kE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await Ik(e,r,n,b1(),i);return s9(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ba(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await G9(e),n=new C9(e);return r.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Wb,{type:Wb},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Wb];o!==void 0&&r(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=D9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return LL()||CL()||AE()}}const o8=a8;var kk="@firebase/auth",Ok="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u8(t){Nu(new rl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;Ve(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$L(t)},d=new bq(n,i,a,c);return kq(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Nu(new rl("auth-internal",e=>{const r=Qa(e.getProvider("auth").getImmediate());return(n=>new s8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),qo(kk,Ok,l8(t)),qo(kk,Ok,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=300,d8=hL("authIdTokenMaxAge")||c8;let Ck=null;const f8=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>d8)return;const i=r==null?void 0:r.token;Ck!==i&&(Ck=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function h8(t=bL()){const e=xE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Iq(t,{popupRedirectResolver:o8,persistence:[g9,i9,XL]}),n=hL("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=f8(a.toString());Zq(r,o,()=>o(r.currentUser)),Jq(r,u=>o(u))}}const i=dL("auth");return i&&Oq(r,`http://${i}`),r}function p8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xq({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Si("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",p8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u8("Browser");var m8="firebase",g8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qo(m8,g8,"app");var jk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,r4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function M(){}M.prototype=C.prototype,I.D=C.prototype,I.prototype=new M,I.prototype.constructor=I,I.C=function(B,F,$){for(var L=Array(arguments.length-2),W=2;W<arguments.length;W++)L[W-2]=arguments[W];return C.prototype[F].apply(B,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,C,M){M||(M=0);var B=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)B[F]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(F=0;16>F;++F)B[F]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=I.g[0],M=I.g[1],F=I.g[2];var $=I.g[3],L=C+($^M&(F^$))+B[0]+3614090360&4294967295;C=M+(L<<7&4294967295|L>>>25),L=$+(F^C&(M^F))+B[1]+3905402710&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(M^$&(C^M))+B[2]+606105819&4294967295,F=$+(L<<17&4294967295|L>>>15),L=M+(C^F&($^C))+B[3]+3250441966&4294967295,M=F+(L<<22&4294967295|L>>>10),L=C+($^M&(F^$))+B[4]+4118548399&4294967295,C=M+(L<<7&4294967295|L>>>25),L=$+(F^C&(M^F))+B[5]+1200080426&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(M^$&(C^M))+B[6]+2821735955&4294967295,F=$+(L<<17&4294967295|L>>>15),L=M+(C^F&($^C))+B[7]+4249261313&4294967295,M=F+(L<<22&4294967295|L>>>10),L=C+($^M&(F^$))+B[8]+1770035416&4294967295,C=M+(L<<7&4294967295|L>>>25),L=$+(F^C&(M^F))+B[9]+2336552879&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(M^$&(C^M))+B[10]+4294925233&4294967295,F=$+(L<<17&4294967295|L>>>15),L=M+(C^F&($^C))+B[11]+2304563134&4294967295,M=F+(L<<22&4294967295|L>>>10),L=C+($^M&(F^$))+B[12]+1804603682&4294967295,C=M+(L<<7&4294967295|L>>>25),L=$+(F^C&(M^F))+B[13]+4254626195&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(M^$&(C^M))+B[14]+2792965006&4294967295,F=$+(L<<17&4294967295|L>>>15),L=M+(C^F&($^C))+B[15]+1236535329&4294967295,M=F+(L<<22&4294967295|L>>>10),L=C+(F^$&(M^F))+B[1]+4129170786&4294967295,C=M+(L<<5&4294967295|L>>>27),L=$+(M^F&(C^M))+B[6]+3225465664&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^M&($^C))+B[11]+643717713&4294967295,F=$+(L<<14&4294967295|L>>>18),L=M+($^C&(F^$))+B[0]+3921069994&4294967295,M=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(M^F))+B[5]+3593408605&4294967295,C=M+(L<<5&4294967295|L>>>27),L=$+(M^F&(C^M))+B[10]+38016083&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^M&($^C))+B[15]+3634488961&4294967295,F=$+(L<<14&4294967295|L>>>18),L=M+($^C&(F^$))+B[4]+3889429448&4294967295,M=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(M^F))+B[9]+568446438&4294967295,C=M+(L<<5&4294967295|L>>>27),L=$+(M^F&(C^M))+B[14]+3275163606&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^M&($^C))+B[3]+4107603335&4294967295,F=$+(L<<14&4294967295|L>>>18),L=M+($^C&(F^$))+B[8]+1163531501&4294967295,M=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(M^F))+B[13]+2850285829&4294967295,C=M+(L<<5&4294967295|L>>>27),L=$+(M^F&(C^M))+B[2]+4243563512&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^M&($^C))+B[7]+1735328473&4294967295,F=$+(L<<14&4294967295|L>>>18),L=M+($^C&(F^$))+B[12]+2368359562&4294967295,M=F+(L<<20&4294967295|L>>>12),L=C+(M^F^$)+B[5]+4294588738&4294967295,C=M+(L<<4&4294967295|L>>>28),L=$+(C^M^F)+B[8]+2272392833&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^M)+B[11]+1839030562&4294967295,F=$+(L<<16&4294967295|L>>>16),L=M+(F^$^C)+B[14]+4259657740&4294967295,M=F+(L<<23&4294967295|L>>>9),L=C+(M^F^$)+B[1]+2763975236&4294967295,C=M+(L<<4&4294967295|L>>>28),L=$+(C^M^F)+B[4]+1272893353&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^M)+B[7]+4139469664&4294967295,F=$+(L<<16&4294967295|L>>>16),L=M+(F^$^C)+B[10]+3200236656&4294967295,M=F+(L<<23&4294967295|L>>>9),L=C+(M^F^$)+B[13]+681279174&4294967295,C=M+(L<<4&4294967295|L>>>28),L=$+(C^M^F)+B[0]+3936430074&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^M)+B[3]+3572445317&4294967295,F=$+(L<<16&4294967295|L>>>16),L=M+(F^$^C)+B[6]+76029189&4294967295,M=F+(L<<23&4294967295|L>>>9),L=C+(M^F^$)+B[9]+3654602809&4294967295,C=M+(L<<4&4294967295|L>>>28),L=$+(C^M^F)+B[12]+3873151461&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^M)+B[15]+530742520&4294967295,F=$+(L<<16&4294967295|L>>>16),L=M+(F^$^C)+B[2]+3299628645&4294967295,M=F+(L<<23&4294967295|L>>>9),L=C+(F^(M|~$))+B[0]+4096336452&4294967295,C=M+(L<<6&4294967295|L>>>26),L=$+(M^(C|~F))+B[7]+1126891415&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~M))+B[14]+2878612391&4294967295,F=$+(L<<15&4294967295|L>>>17),L=M+($^(F|~C))+B[5]+4237533241&4294967295,M=F+(L<<21&4294967295|L>>>11),L=C+(F^(M|~$))+B[12]+1700485571&4294967295,C=M+(L<<6&4294967295|L>>>26),L=$+(M^(C|~F))+B[3]+2399980690&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~M))+B[10]+4293915773&4294967295,F=$+(L<<15&4294967295|L>>>17),L=M+($^(F|~C))+B[1]+2240044497&4294967295,M=F+(L<<21&4294967295|L>>>11),L=C+(F^(M|~$))+B[8]+1873313359&4294967295,C=M+(L<<6&4294967295|L>>>26),L=$+(M^(C|~F))+B[15]+4264355552&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~M))+B[6]+2734768916&4294967295,F=$+(L<<15&4294967295|L>>>17),L=M+($^(F|~C))+B[13]+1309151649&4294967295,M=F+(L<<21&4294967295|L>>>11),L=C+(F^(M|~$))+B[4]+4149444226&4294967295,C=M+(L<<6&4294967295|L>>>26),L=$+(M^(C|~F))+B[11]+3174756917&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~M))+B[2]+718787259&4294967295,F=$+(L<<15&4294967295|L>>>17),L=M+($^(F|~C))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,I.g[2]=I.g[2]+F&4294967295,I.g[3]=I.g[3]+$&4294967295}n.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var M=C-this.blockSize,B=this.B,F=this.h,$=0;$<C;){if(F==0)for(;$<=M;)i(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<C;)if(B[F++]=I.charCodeAt($++),F==this.blockSize){i(this,B),F=0;break}}else for(;$<C;)if(B[F++]=I[$++],F==this.blockSize){i(this,B),F=0;break}}this.h=F,this.o+=C},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var M=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=M&255,M/=256;for(this.u(I),I=Array(16),C=M=0;4>C;++C)for(var B=0;32>B;B+=8)I[M++]=this.g[C]>>>B&255;return I};function a(I,C){var M=u;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=C(I)}function o(I,C){this.h=C;for(var M=[],B=!0,F=I.length-1;0<=F;F--){var $=I[F]|0;B&&$==C||(M[F]=$,B=!1)}this.g=M}var u={};function c(I){return-128<=I&&128>I?a(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return b(d(-I));for(var C=[],M=1,B=0;I>=M;B++)C[B]=I/M|0,M*=4294967296;return new o(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return b(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(C,8)),B=p,F=0;F<I.length;F+=8){var $=Math.min(8,I.length-F),L=parseInt(I.substring(F,F+$),C);8>$?($=d(Math.pow(C,$)),B=B.j($).add(d(L))):(B=B.j(M),B=B.add(d(L)))}return B}var p=c(0),y=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-b(this).m();for(var I=0,C=1,M=0;M<this.g.length;M++){var B=this.i(M);I+=(0<=B?B:4294967296+B)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(_(this))return"-"+b(this).toString(I);for(var C=d(Math.pow(I,6)),M=this,B="";;){var F=R(M,C).g;M=E(M,F.j(C));var $=((0<M.g.length?M.g[0]:M.h)>>>0).toString(I);if(M=F,S(M))return $+B;for(;6>$.length;)$="0"+$;B=$+B}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=E(this,I),_(I)?-1:S(I)?0:1};function b(I){for(var C=I.g.length,M=[],B=0;B<C;B++)M[B]=~I.g[B];return new o(M,~I.h).add(y)}t.abs=function(){return _(this)?b(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),M=[],B=0,F=0;F<=C;F++){var $=B+(this.i(F)&65535)+(I.i(F)&65535),L=($>>>16)+(this.i(F)>>>16)+(I.i(F)>>>16);B=L>>>16,$&=65535,L&=65535,M[F]=L<<16|$}return new o(M,M[M.length-1]&-2147483648?-1:0)};function E(I,C){return I.add(b(C))}t.j=function(I){if(S(this)||S(I))return p;if(_(this))return _(I)?b(this).j(b(I)):b(b(this).j(I));if(_(I))return b(this.j(b(I)));if(0>this.l(x)&&0>I.l(x))return d(this.m()*I.m());for(var C=this.g.length+I.g.length,M=[],B=0;B<2*C;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var F=0;F<I.g.length;F++){var $=this.i(B)>>>16,L=this.i(B)&65535,W=I.i(F)>>>16,Y=I.i(F)&65535;M[2*B+2*F]+=L*Y,P(M,2*B+2*F),M[2*B+2*F+1]+=$*Y,P(M,2*B+2*F+1),M[2*B+2*F+1]+=L*W,P(M,2*B+2*F+1),M[2*B+2*F+2]+=$*W,P(M,2*B+2*F+2)}for(B=0;B<C;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=C;B<2*C;B++)M[B]=0;return new o(M,0)};function P(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function k(I,C){this.g=I,this.h=C}function R(I,C){if(S(C))throw Error("division by zero");if(S(I))return new k(p,p);if(_(I))return C=R(b(I),C),new k(b(C.g),b(C.h));if(_(C))return C=R(I,b(C)),new k(b(C.g),C.h);if(30<I.g.length){if(_(I)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var M=y,B=C;0>=B.l(I);)M=O(M),B=O(B);var F=j(M,1),$=j(B,1);for(B=j(B,2),M=j(M,2);!S(B);){var L=$.add(B);0>=L.l(I)&&(F=F.add(M),$=L),B=j(B,1),M=j(M,1)}return C=E(I,F.j(C)),new k(F,C)}for(F=p;0<=I.l(C);){for(M=Math.max(1,Math.floor(I.m()/C.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),$=d(M),L=$.j(C);_(L)||0<L.l(I);)M-=B,$=d(M),L=$.j(C);S($)&&($=y),F=F.add($),I=E(I,L)}return new k(F,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),M=[],B=0;B<C;B++)M[B]=this.i(B)&I.i(B);return new o(M,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),M=[],B=0;B<C;B++)M[B]=this.i(B)|I.i(B);return new o(M,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),M=[],B=0;B<C;B++)M[B]=this.i(B)^I.i(B);return new o(M,this.h^I.h)};function O(I){for(var C=I.g.length+1,M=[],B=0;B<C;B++)M[B]=I.i(B)<<1|I.i(B-1)>>>31;return new o(M,I.h)}function j(I,C){var M=C>>5;C%=32;for(var B=I.g.length-M,F=[],$=0;$<B;$++)F[$]=0<C?I.i($+M)>>>C|I.i($+M+1)<<32-C:I.i($+M);return new o(F,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,r4=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Wo=o}).apply(typeof jk<"u"?jk:typeof self<"u"?self:typeof window<"u"?window:{});var Gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n4,Ld,i4,ym,w1,a4,o4,s4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,N){return g==Array.prototype||g==Object.prototype||(g[T]=N.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gp=="object"&&Gp];for(var T=0;T<g.length;++T){var N=g[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=r(this);function i(g,T){if(T)e:{var N=n;g=g.split(".");for(var U=0;U<g.length-1;U++){var J=g[U];if(!(J in N))break e;N=N[J]}g=g[g.length-1],U=N[g],T=T(U),T!=U&&T!=null&&e(N,g,{configurable:!0,writable:!0,value:T})}}function a(g,T){g instanceof String&&(g+="");var N=0,U=!1,J={next:function(){if(!U&&N<g.length){var oe=N++;return{value:T(oe,g[oe]),done:!1}}return U=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(g){return g||function(){return a(this,function(T,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function d(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function h(g,T,N){return g.call.apply(g.bind,arguments)}function p(g,T,N){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,U),g.apply(T,J)}}return function(){return g.apply(T,arguments)}}function y(g,T,N){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function x(g,T){var N=Array.prototype.slice.call(arguments,1);return function(){var U=N.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function S(g,T){function N(){}N.prototype=T.prototype,g.aa=T.prototype,g.prototype=new N,g.prototype.constructor=g,g.Qb=function(U,J,oe){for(var xe=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)xe[ht-2]=arguments[ht];return T.prototype[J].apply(U,xe)}}function _(g){const T=g.length;if(0<T){const N=Array(T);for(let U=0;U<T;U++)N[U]=g[U];return N}return[]}function b(g,T){for(let N=1;N<arguments.length;N++){const U=arguments[N];if(c(U)){const J=g.length||0,oe=U.length||0;g.length=J+oe;for(let xe=0;xe<oe;xe++)g[J+xe]=U[xe]}else g.push(U)}}class E{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function P(g){return/^[\s\xa0]*$/.test(g)}function k(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function R(g){return R[" "](g),g}R[" "]=function(){};var O=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function j(g,T,N){for(const U in g)T.call(N,g[U],U,g)}function I(g,T){for(const N in g)T.call(void 0,g[N],N,g)}function C(g){const T={};for(const N in g)T[N]=g[N];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(g,T){let N,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(N in U)g[N]=U[N];for(let oe=0;oe<M.length;oe++)N=M[oe],Object.prototype.hasOwnProperty.call(U,N)&&(g[N]=U[N])}}function F(g){var T=1;g=g.split(":");const N=[];for(;0<T&&g.length;)N.push(g.shift()),T--;return g.length&&N.push(g.join(":")),N}function $(g){u.setTimeout(()=>{throw g},0)}function L(){var g=ae;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class W{constructor(){this.h=this.g=null}add(T,N){const U=Y.get();U.set(T,N),this.h?this.h.next=U:this.g=U,this.h=U}}var Y=new E(()=>new te,g=>g.reset());class te{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,ae=new W,ie=()=>{const g=u.Promise.resolve(void 0);ne=()=>{g.then(q)}};var q=()=>{for(var g;g=L();){try{g.h.call(g.g)}catch(N){$(N)}var T=Y;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};u.addEventListener("test",N,T),u.removeEventListener("test",N,T)}catch{}return g})();function we(g,T){if(de.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var N=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(O){e:{try{R(T.nodeName);var J=!0;break e}catch{}J=!1}J||(T=null)}}else N=="mouseover"?T=g.fromElement:N=="mouseout"&&(T=g.toElement);this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:be[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&we.aa.h.call(this)}}S(we,de);var be={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Re=0;function ge(g,T,N,U,J){this.listener=g,this.proxy=null,this.src=T,this.type=N,this.capture=!!U,this.ha=J,this.key=++Re,this.da=this.fa=!1}function Oe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function fe(g){this.src=g,this.g={},this.h=0}fe.prototype.add=function(g,T,N,U,J){var oe=g.toString();g=this.g[oe],g||(g=this.g[oe]=[],this.h++);var xe=Je(g,T,U,J);return-1<xe?(T=g[xe],N||(T.fa=!1)):(T=new ge(T,this.src,oe,!!U,J),T.fa=N,g.push(T)),T};function ue(g,T){var N=T.type;if(N in g.g){var U=g.g[N],J=Array.prototype.indexOf.call(U,T,void 0),oe;(oe=0<=J)&&Array.prototype.splice.call(U,J,1),oe&&(Oe(T),g.g[N].length==0&&(delete g.g[N],g.h--))}}function Je(g,T,N,U){for(var J=0;J<g.length;++J){var oe=g[J];if(!oe.da&&oe.listener==T&&oe.capture==!!N&&oe.ha==U)return J}return-1}var He="closure_lm_"+(1e6*Math.random()|0),xt={};function Tt(g,T,N,U,J){if(Array.isArray(T)){for(var oe=0;oe<T.length;oe++)Tt(g,T[oe],N,U,J);return null}return N=to(N),g&&g[ke]?g.K(T,N,d(U)?!!U.capture:!1,J):Gt(g,T,N,!1,U,J)}function Gt(g,T,N,U,J,oe){if(!T)throw Error("Invalid event type");var xe=d(J)?!!J.capture:!!J,ht=Ii(g);if(ht||(g[He]=ht=new fe(g)),N=ht.add(T,N,U,xe,oe),N.proxy)return N;if(U=mn(),N.proxy=U,U.src=g,U.listener=N,g.addEventListener)se||(J=xe),J===void 0&&(J=!1),g.addEventListener(T.toString(),U,J);else if(g.attachEvent)g.attachEvent(Sr(T.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return N}function mn(){function g(N){return T.call(g.src,g.listener,N)}const T=yn;return g}function gn(g,T,N,U,J){if(Array.isArray(T))for(var oe=0;oe<T.length;oe++)gn(g,T[oe],N,U,J);else U=d(U)?!!U.capture:!!U,N=to(N),g&&g[ke]?(g=g.i,T=String(T).toString(),T in g.g&&(oe=g.g[T],N=Je(oe,N,U,J),-1<N&&(Oe(oe[N]),Array.prototype.splice.call(oe,N,1),oe.length==0&&(delete g.g[T],g.h--)))):g&&(g=Ii(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Je(T,N,U,J)),(N=-1<g?T[g]:null)&&Jr(N))}function Jr(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[ke])ue(T.i,g);else{var N=g.type,U=g.proxy;T.removeEventListener?T.removeEventListener(N,U,g.capture):T.detachEvent?T.detachEvent(Sr(N),U):T.addListener&&T.removeListener&&T.removeListener(U),(N=Ii(T))?(ue(N,g),N.h==0&&(N.src=null,T[He]=null)):Oe(g)}}}function Sr(g){return g in xt?xt[g]:xt[g]="on"+g}function yn(g,T){if(g.da)g=!0;else{T=new we(T,this);var N=g.listener,U=g.ha||g.src;g.fa&&Jr(g),g=N.call(U,T)}return g}function Ii(g){return g=g[He],g instanceof fe?g:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(g){return typeof g=="function"?g:(g[la]||(g[la]=function(T){return g.handleEvent(T)}),g[la])}function tr(){X.call(this),this.i=new fe(this),this.M=this,this.F=null}S(tr,X),tr.prototype[ke]=!0,tr.prototype.removeEventListener=function(g,T,N,U){gn(this,g,T,N,U)};function rr(g,T){var N,U=g.F;if(U)for(N=[];U;U=U.F)N.push(U);if(g=g.M,U=T.type||T,typeof T=="string")T=new de(T,g);else if(T instanceof de)T.target=T.target||g;else{var J=T;T=new de(U,g),B(T,J)}if(J=!0,N)for(var oe=N.length-1;0<=oe;oe--){var xe=T.g=N[oe];J=ua(xe,U,!0,T)&&J}if(xe=T.g=g,J=ua(xe,U,!0,T)&&J,J=ua(xe,U,!1,T)&&J,N)for(oe=0;oe<N.length;oe++)xe=T.g=N[oe],J=ua(xe,U,!1,T)&&J}tr.prototype.N=function(){if(tr.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var N=g.g[T],U=0;U<N.length;U++)Oe(N[U]);delete g.g[T],g.h--}}this.F=null},tr.prototype.K=function(g,T,N,U){return this.i.add(String(g),T,!1,N,U)},tr.prototype.L=function(g,T,N,U){return this.i.add(String(g),T,!0,N,U)};function ua(g,T,N,U){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var J=!0,oe=0;oe<T.length;++oe){var xe=T[oe];if(xe&&!xe.da&&xe.capture==N){var ht=xe.listener,nr=xe.ha||xe.src;xe.fa&&ue(g.i,xe),J=ht.call(nr,U)!==!1&&J}}return J&&!U.defaultPrevented}function jc(g,T,N){if(typeof g=="function")N&&(g=y(g,N));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(g,T||0)}function ro(g){g.g=jc(()=>{g.g=null,g.i&&(g.i=!1,ro(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class ds extends X{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(g){X.call(this),this.h=g,this.g={}}S(fs,X);var Nc=[];function Rc(g){j(g.g,function(T,N){this.g.hasOwnProperty(N)&&Jr(T)},g),g.g={}}fs.prototype.N=function(){fs.aa.N.call(this),Rc(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mc=u.JSON.stringify,Dc=u.JSON.parse,Lc=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function hs(){}hs.prototype.h=null;function Sl(g){return g.h||(g.h=g.i())}function El(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){de.call(this,"d")}S(ki,de);function Tl(){de.call(this,"c")}S(Tl,de);var Oi={},$c=null;function ps(){return $c=$c||new tr}Oi.La="serverreachability";function Vc(g){de.call(this,Oi.La,g)}S(Vc,de);function ca(g){const T=ps();rr(T,new Vc(T))}Oi.STAT_EVENT="statevent";function Fc(g,T){de.call(this,Oi.STAT_EVENT,g),this.stat=T}S(Fc,de);function qt(g){const T=ps();rr(T,new Fc(T,g))}Oi.Ma="timingevent";function Al(g,T){de.call(this,Oi.Ma,g),this.size=T}S(Al,de);function ti(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},T)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function gs(g,T,N,U,J,oe){g.info(function(){if(g.g)if(oe)for(var xe="",ht=oe.split("&"),nr=0;nr<ht.length;nr++){var rt=ht[nr].split("=");if(1<rt.length){var fr=rt[0];rt=rt[1];var Kt=fr.split("_");xe=2<=Kt.length&&Kt[1]=="type"?xe+(fr+"="+rt+"&"):xe+(fr+"=redacted&")}}else xe=null;else xe=oe;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+T+`
`+N+`
`+xe})}function Pl(g,T,N,U,J,oe,xe){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+T+`
`+N+`
`+oe+" "+xe})}function ri(g,T,N,U){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+sv(g,N)+(U?" "+U:"")})}function Bc(g,T){g.info(function(){return"TIMEOUT: "+T})}ms.prototype.info=function(){};function sv(g,T){if(!g.g)return T;if(!T)return null;try{var N=JSON.parse(T);if(N){for(g=0;g<N.length;g++)if(Array.isArray(N[g])){var U=N[g];if(!(2>U.length)){var J=U[1];if(Array.isArray(J)&&!(1>J.length)){var oe=J[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var xe=1;xe<J.length;xe++)J[xe]=""}}}}return Mc(N)}catch{return T}}var Il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ys(){}S(ys,hs),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},ni=new ys;function ii(g,T,N,U){this.j=g,this.i=T,this.l=N,this.R=U||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ch}function Ch(){this.i=null,this.g="",this.h=!1}var Uc={},kl={};function Ol(g,T,N){g.L=1,g.v=so(bn(T)),g.m=N,g.P=!0,zc(g,null)}function zc(g,T){g.F=Date.now(),_t(g),g.A=bn(g.v);var N=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),uo(N.i,"t",U),g.C=0,N=g.j.J,g.h=new Ch,g.g=Xh(g.j,N?T:null,!g.m),0<g.O&&(g.M=new ds(y(g.Y,g,g.g),g.O)),T=g.U,N=g.g,U=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(Nc[0]=J.toString()),J=Nc);for(var oe=0;oe<J.length;oe++){var xe=Tt(N,J[oe],U||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),ca(),gs(g.i,g.u,g.A,g.l,g.R,g.m)}ii.prototype.ca=function(g){g=g.target;const T=this.M;T&&en(g)==3?T.j():this.Y(g)},ii.prototype.Y=function(g){try{if(g==this.g)e:{const Kt=en(this.g);var T=this.g.Ba();const Mn=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Xc(this.g)))){this.J||Kt!=4||T==7||(T==8||0>=Mn?ca(3):ca(2)),vs(this);var N=this.g.Z();this.X=N;t:if(jh(this)){var U=Xc(this.g);g="";var J=U.length,oe=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),no(this);var xe="";break t}this.h.i=new u.TextDecoder}for(T=0;T<J;T++)this.h.h=!0,g+=this.h.i.decode(U[T],{stream:!(oe&&T==J-1)});U.length=0,this.h.g+=g,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=N==200,Pl(this.i,this.u,this.A,this.l,this.R,Kt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,nr=this.g;if((ht=nr.g?nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(ht)){var rt=ht;break t}}rt=null}if(N=rt)ri(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,N);else{this.o=!1,this.s=3,qt(12),Nn(this),no(this);break e}}if(this.P){N=!0;let _n;for(;!this.J&&this.C<xe.length;)if(_n=lv(this,xe),_n==kl){Kt==4&&(this.s=4,qt(14),N=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Uc){this.s=4,qt(15),ri(this.i,this.l,xe,"[Invalid Chunk]"),N=!1;break}else ri(this.i,this.l,_n,null),qc(this,_n);if(jh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||xe.length!=0||this.h.h||(this.s=1,qt(16),N=!1),this.o=this.o&&N,!N)ri(this.i,this.l,xe,"[Invalid Chunked Response]"),Nn(this),no(this);else if(0<xe.length&&!this.W){this.W=!0;var fr=this.j;fr.g==this&&fr.ba&&!fr.M&&(fr.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),Qc(fr),fr.M=!0,qt(11))}}else ri(this.i,this.l,xe,null),qc(this,xe);Kt==4&&Nn(this),this.o&&!this.J&&(Kt==4?Bl(this.j,this):(this.o=!1,_t(this)))}else Dl(this.g),N==400&&0<xe.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Nn(this),no(this)}}}catch{}finally{}};function jh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function lv(g,T){var N=g.C,U=T.indexOf(`
`,N);return U==-1?kl:(N=Number(T.substring(N,U)),isNaN(N)?Uc:(U+=1,U+N>T.length?kl:(T=T.slice(U,U+N),g.C=U+N,T)))}ii.prototype.cancel=function(){this.J=!0,Nn(this)};function _t(g){g.S=Date.now()+g.I,Nh(g,g.I)}function Nh(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ti(y(g.ba,g),T)}function vs(g){g.B&&(u.clearTimeout(g.B),g.B=null)}ii.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Bc(this.i,this.A),this.L!=2&&(ca(),qt(17)),Nn(this),this.s=2,no(this)):Nh(this,this.S-g)};function no(g){g.j.G==0||g.J||Bl(g.j,g)}function Nn(g){vs(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,Rc(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function qc(g,T){try{var N=g.j;if(N.G!=0&&(N.g==g||Wr(N.h,g))){if(!g.K&&Wr(N.h,g)&&N.G==3){try{var U=N.Da.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<g.F)Fl(N),ui(N);else break e;Vl(N),qt(18)}}else N.za=J[1],0<N.za-N.T&&37500>J[2]&&N.F&&N.v==0&&!N.C&&(N.C=ti(y(N.Za,N),6e3));if(1>=Mh(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ma(N,11)}else if((g.K||N.g==g)&&Fl(N),!P(T))for(J=N.Da.g.parse(T),T=0;T<J.length;T++){let rt=J[T];if(N.T=rt[0],rt=rt[1],N.G==2)if(rt[0]=="c"){N.K=rt[1],N.ia=rt[2];const fr=rt[3];fr!=null&&(N.la=fr,N.j.info("VER="+N.la));const Kt=rt[4];Kt!=null&&(N.Aa=Kt,N.j.info("SVER="+N.Aa));const Mn=rt[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(U=1.5*Mn,N.L=U,N.j.info("backChannelRequestTimeoutMs_="+U)),U=N;const _n=g.g;if(_n){const Ts=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var oe=U.h;oe.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Wc(oe,oe.h),oe.h=null))}if(U.D){const zl=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(U.ya=zl,vt(U.I,U.D,zl))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-g.F,N.j.info("Handshake RTT: "+N.R+"ms")),U=N;var xe=g;if(U.qa=Kh(U,U.J?U.ia:null,U.W),xe.K){Dh(U.h,xe);var ht=xe,nr=U.L;nr&&(ht.I=nr),ht.B&&(vs(ht),_t(ht)),U.g=xe}else Es(U);0<N.i.length&&Ri(N)}else rt[0]!="stop"&&rt[0]!="close"||ma(N,7);else N.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ma(N,7):Tr(N):rt[0]!="noop"&&N.l&&N.l.ta(rt),N.v=0)}}ca(4)}catch{}}var Rh=class{constructor(g,T){this.g=g,this.map=T}};function bs(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Mh(g){return g.h?1:g.g?g.g.size:0}function Wr(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Wc(g,T){g.g?g.g.add(T):g.h=T}function Dh(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}bs.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Lh(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const N of g.g.values())T=T.concat(N.D);return T}return _(g.i)}function Cl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var T=[],N=g.length,U=0;U<N;U++)T.push(g[U]);return T}T=[],N=0;for(U in g)T[N++]=g[U];return T}function jl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var T=[];g=g.length;for(var N=0;N<g;N++)T.push(N);return T}T=[],N=0;for(const U in g)T[N++]=U;return T}}}function io(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var N=jl(g),U=Cl(g),J=U.length,oe=0;oe<J;oe++)T.call(void 0,U[oe],N&&N[oe],g)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uv(g,T){if(g){g=g.split("&");for(var N=0;N<g.length;N++){var U=g[N].indexOf("="),J=null;if(0<=U){var oe=g[N].substring(0,U);J=g[N].substring(U+1)}else oe=g[N];T(oe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function da(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof da){this.h=g.h,_s(this,g.j),this.o=g.o,this.g=g.g,ao(this,g.s),this.l=g.l;var T=g.i,N=new Ci;N.i=T.i,T.g&&(N.g=new Map(T.g),N.h=T.h),oo(this,N),this.m=g.m}else g&&(T=String(g).match(xs))?(this.h=!1,_s(this,T[1]||"",!0),this.o=tt(T[2]||""),this.g=tt(T[3]||"",!0),ao(this,T[4]),this.l=tt(T[5]||"",!0),oo(this,T[6]||"",!0),this.m=tt(T[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}da.prototype.toString=function(){var g=[],T=this.j;T&&g.push(lo(T,Nl,!0),":");var N=this.g;return(N||T=="file")&&(g.push("//"),(T=this.o)&&g.push(lo(T,Nl,!0),"@"),g.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&g.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(lo(N,N.charAt(0)=="/"?Fh:Vh,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",lo(N,Hc)),g.join("")};function bn(g){return new da(g)}function _s(g,T,N){g.j=N?tt(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function ao(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function oo(g,T,N){T instanceof Ci?(g.i=T,ji(g.i,g.h)):(N||(T=lo(T,Bh)),g.i=new Ci(T,g.h))}function vt(g,T,N){g.i.set(T,N)}function so(g){return vt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function tt(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function lo(g,T,N){return typeof g=="string"?(g=encodeURI(g).replace(T,$h),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function $h(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Nl=/[#\/\?@]/g,Vh=/[#\?:]/g,Fh=/[#\?]/g,Bh=/[#\?@]/g,Hc=/#/g;function Ci(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Er(g){g.g||(g.g=new Map,g.h=0,g.i&&uv(g.i,function(T,N){g.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=Ci.prototype,t.add=function(g,T){Er(this),this.i=null,g=Rn(this,g);var N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(T),this.h+=1,this};function ai(g,T){Er(g),T=Rn(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function oi(g,T){return Er(g),T=Rn(g,T),g.g.has(T)}t.forEach=function(g,T){Er(this),this.g.forEach(function(N,U){N.forEach(function(J){g.call(T,J,U,this)},this)},this)},t.na=function(){Er(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),N=[];for(let U=0;U<T.length;U++){const J=g[U];for(let oe=0;oe<J.length;oe++)N.push(T[U])}return N},t.V=function(g){Er(this);let T=[];if(typeof g=="string")oi(this,g)&&(T=T.concat(this.g.get(Rn(this,g))));else{g=Array.from(this.g.values());for(let N=0;N<g.length;N++)T=T.concat(g[N])}return T},t.set=function(g,T){return Er(this),this.i=null,g=Rn(this,g),oi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function uo(g,T,N){ai(g,T),0<N.length&&(g.i=null,g.g.set(Rn(g,T),_(N)),g.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var N=0;N<T.length;N++){var U=T[N];const oe=encodeURIComponent(String(U)),xe=this.V(U);for(U=0;U<xe.length;U++){var J=oe;xe[U]!==""&&(J+="="+encodeURIComponent(String(xe[U]))),g.push(J)}}return this.i=g.join("&")};function Rn(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function ji(g,T){T&&!g.j&&(Er(g),g.i=null,g.g.forEach(function(N,U){var J=U.toLowerCase();U!=J&&(ai(this,U),uo(this,J,N))},g)),g.j=T}function cv(g,T){const N=new ms;if(u.Image){const U=new Image;U.onload=x(Zr,N,"TestLoadImage: loaded",!0,T,U),U.onerror=x(Zr,N,"TestLoadImage: error",!1,T,U),U.onabort=x(Zr,N,"TestLoadImage: abort",!1,T,U),U.ontimeout=x(Zr,N,"TestLoadImage: timeout",!1,T,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else T(!1)}function Uh(g,T){const N=new ms,U=new AbortController,J=setTimeout(()=>{U.abort(),Zr(N,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:U.signal}).then(oe=>{clearTimeout(J),oe.ok?Zr(N,"TestPingServer: ok",!0,T):Zr(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),Zr(N,"TestPingServer: error",!1,T)})}function Zr(g,T,N,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(N)}catch{}}function dv(){this.g=new Lc}function zh(g,T,N){const U=N||"";try{io(g,function(J,oe){let xe=J;d(J)&&(xe=Mc(J)),T.push(U+oe+"="+encodeURIComponent(xe))})}catch(J){throw T.push(U+"type="+encodeURIComponent("_badmap")),J}}function fa(g){this.l=g.Ub||null,this.j=g.eb||!1}S(fa,hs),fa.prototype.g=function(){return new ws(this.l,this.j)},fa.prototype.i=(function(g){return function(){return g}})({});function ws(g,T){tr.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ws,tr),t=ws.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,li(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qh(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function qh(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?si(this):li(this),this.readyState==3&&qh(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,si(this))},t.Qa=function(g){this.g&&(this.response=g,si(this))},t.ga=function(){this.g&&si(this)};function si(g){g.readyState=4,g.l=null,g.j=null,g.v=null,li(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=T.next();return g.join(`\r
`)};function li(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ha(g){let T="";return j(g,function(N,U){T+=U,T+=":",T+=N,T+=`\r
`}),T}function co(g,T,N){e:{for(U in N){var U=!1;break e}U=!0}U||(N=ha(N),typeof g=="string"?N!=null&&encodeURIComponent(String(N)):vt(g,T,N))}function Ct(g){tr.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ct,tr);var fv=/^https?$/i,Gc=["POST","PUT"];t=Ct.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,N,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?Sl(this.o):Sl(ni),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(oe){Ss(this,oe);return}if(g=N||"",N=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)N.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const oe of U.keys())N.set(oe,U.get(oe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(N.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Gc,T,void 0))||U||J||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,xe]of N)this.g.setRequestHeader(oe,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ml(this),this.u=!0,this.g.send(g),this.u=!1}catch(oe){Ss(this,oe)}};function Ss(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,Rl(g),xn(g)}function Rl(g){g.A||(g.A=!0,rr(g,"complete"),rr(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,rr(this,"complete"),rr(this,"abort"),xn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kc(this):this.bb())},t.bb=function(){Kc(this)};function Kc(g){if(g.h&&typeof o<"u"&&(!g.v[1]||en(g)!=4||g.Z()!=2)){if(g.u&&en(g)==4)jc(g.Ea,0,g);else if(rr(g,"readystatechange"),en(g)==4){g.h=!1;try{const xe=g.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var U;if(U=xe===0){var J=String(g.D).match(xs)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),U=!fv.test(J?J.toLowerCase():"")}N=U}if(N)rr(g,"complete"),rr(g,"success");else{g.m=6;try{var oe=2<en(g)?g.g.statusText:""}catch{oe=""}g.l=oe+" ["+g.Z()+"]",Rl(g)}}finally{xn(g)}}}}function xn(g,T){if(g.g){Ml(g);const N=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||rr(g,"ready");try{N.onreadystatechange=U}catch{}}}function Ml(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function en(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),Dc(T)}};function Xc(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(g){const T={};g=(g.g&&2<=en(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(P(g[U]))continue;var N=F(g[U]);const J=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const oe=T[J]||[];T[J]=oe,oe.push(N)}I(T,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(g,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||T}function Yc(g){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ni("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ni("baseRetryDelayMs",5e3,g),this.cb=Ni("retryDelaySeedMs",1e4,g),this.Wa=Ni("forwardChannelMaxRetries",2,g),this.wa=Ni("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(g&&g.concurrentRequestLimit),this.Da=new dv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yc.prototype,t.la=8,t.G=1,t.connect=function(g,T,N,U){qt(0),this.W=g,this.H=T||{},N&&U!==void 0&&(this.H.OSID=N,this.H.OAID=U),this.F=this.X,this.I=Kh(this,null,this.W),Ri(this)};function Tr(g){if(Ll(g),g.G==3){var T=g.U++,N=bn(g.I);if(vt(N,"SID",g.K),vt(N,"RID",T),vt(N,"TYPE","terminate"),pa(g,N),T=new ii(g,g.j,T),T.L=2,T.v=so(bn(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!N&&u.Image&&(new Image().src=T.v,N=!0),N||(T.g=Xh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),_t(T)}Gh(g)}function ui(g){g.g&&(Qc(g),g.g.cancel(),g.g=null)}function Ll(g){ui(g),g.u&&(u.clearTimeout(g.u),g.u=null),Fl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Ri(g){if(!vn(g.h)&&!g.s){g.s=!0;var T=g.Ga;ne||ie(),Q||(ne(),Q=!0),ae.add(T,g),g.B=0}}function hv(g,T){return Mh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ti(y(g.Ga,g,T),Hh(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new ii(this,this.j,g);let oe=this.o;if(this.S&&(oe?(oe=C(oe),B(oe,this.S)):oe=this.S),this.m!==null||this.O||(J.H=oe,oe=null),this.P)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var U=this.i[N];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,4096<T){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=fo(this,J,T),N=bn(this.I),vt(N,"RID",g),vt(N,"CVER",22),this.D&&vt(N,"X-HTTP-Session-Id",this.D),pa(this,N),oe&&(this.O?T="headers="+encodeURIComponent(String(ha(oe)))+"&"+T:this.m&&co(N,this.m,oe)),Wc(this.h,J),this.Ua&&vt(N,"TYPE","init"),this.P?(vt(N,"$req",T),vt(N,"SID","null"),J.T=!0,Ol(J,N,null)):Ol(J,N,T),this.G=2}}else this.G==3&&(g?$l(this,g):this.i.length==0||vn(this.h)||$l(this))};function $l(g,T){var N;T?N=T.l:N=g.U++;const U=bn(g.I);vt(U,"SID",g.K),vt(U,"RID",N),vt(U,"AID",g.T),pa(g,U),g.m&&g.o&&co(U,g.m,g.o),N=new ii(g,g.j,N,g.B+1),g.m===null&&(N.H=g.o),T&&(g.i=T.D.concat(g.i)),T=fo(g,N,1e3),N.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Wc(g.h,N),Ol(N,U,T)}function pa(g,T){g.H&&j(g.H,function(N,U){vt(T,U,N)}),g.l&&io({},function(N,U){vt(T,U,N)})}function fo(g,T,N){N=Math.min(g.i.length,N);var U=g.l?y(g.l.Na,g.l,g):null;e:{var J=g.i;let oe=-1;for(;;){const xe=["count="+N];oe==-1?0<N?(oe=J[0].g,xe.push("ofs="+oe)):oe=0:xe.push("ofs="+oe);let ht=!0;for(let nr=0;nr<N;nr++){let rt=J[nr].g;const fr=J[nr].map;if(rt-=oe,0>rt)oe=Math.max(0,J[nr].g-100),ht=!1;else try{zh(fr,xe,"req"+rt+"_")}catch{U&&U(fr)}}if(ht){U=xe.join("&");break e}}}return g=g.i.splice(0,N),T.D=g,U}function Es(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;ne||ie(),Q||(ne(),Q=!0),ae.add(T,g),g.v=0}}function Vl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ti(y(g.Fa,g),Hh(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Wh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ti(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),ui(this),Wh(this))};function Qc(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Wh(g){g.g=new ii(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=bn(g.qa);vt(T,"RID","rpc"),vt(T,"SID",g.K),vt(T,"AID",g.T),vt(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&vt(T,"TO",g.ja),vt(T,"TYPE","xmlhttp"),pa(g,T),g.m&&g.o&&co(T,g.m,g.o),g.L&&(g.g.I=g.L);var N=g.g;g=g.ia,N.L=1,N.v=so(bn(T)),N.m=null,N.P=!0,zc(N,g)}t.Za=function(){this.C!=null&&(this.C=null,ui(this),Vl(this),qt(19))};function Fl(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Bl(g,T){var N=null;if(g.g==T){Fl(g),Qc(g),g.g=null;var U=2}else if(Wr(g.h,T))N=T.D,Dh(g.h,T),U=1;else return;if(g.G!=0){if(T.o)if(U==1){N=T.m?T.m.length:0,T=Date.now()-T.F;var J=g.B;U=ps(),rr(U,new Al(U,N)),Ri(g)}else Es(g);else if(J=T.s,J==3||J==0&&0<T.X||!(U==1&&hv(g,T)||U==2&&Vl(g)))switch(N&&0<N.length&&(T=g.h,T.i=T.i.concat(N)),J){case 1:ma(g,5);break;case 4:ma(g,10);break;case 3:ma(g,6);break;default:ma(g,2)}}}function Hh(g,T){let N=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(N*=2),N*T}function ma(g,T){if(g.j.info("Error code "+T),T==2){var N=y(g.fb,g),U=g.Xa;const J=!U;U=new da(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||_s(U,"https"),so(U),J?cv(U.toString(),N):Uh(U.toString(),N)}else qt(2);g.G=0,g.l&&g.l.sa(T),Gh(g),Ll(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Gh(g){if(g.G=0,g.ka=[],g.l){const T=Lh(g.h);(T.length!=0||g.i.length!=0)&&(b(g.ka,T),b(g.ka,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.ra()}}function Kh(g,T,N){var U=N instanceof da?bn(N):new da(N);if(U.g!="")T&&(U.g=T+"."+U.g),ao(U,U.s);else{var J=u.location;U=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;var oe=new da(null);U&&_s(oe,U),T&&(oe.g=T),J&&ao(oe,J),N&&(oe.l=N),U=oe}return N=g.D,T=g.ya,N&&T&&vt(U,N,T),vt(U,"VER",g.la),pa(g,U),U}function Xh(g,T,N){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new Ct(new fa({eb:N})):new Ct(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}t=Jc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ul(){}Ul.prototype.g=function(g,T){return new Hr(g,T)};function Hr(g,T){tr.call(this),this.g=new Yc(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!P(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!P(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Mi(this)}S(Hr,tr),Hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){Tr(this.g)},Hr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.u&&(N={},N.__data__=Mc(g),g=N);T.i.push(new Rh(T.Ya++,g)),T.G==3&&Ri(T)},Hr.prototype.N=function(){this.g.l=null,delete this.j,Tr(this.g),delete this.g,Hr.aa.N.call(this)};function Yh(g){ki.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const N in T){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}S(Yh,ki);function Qh(){Tl.call(this),this.status=1}S(Qh,Tl);function Mi(g){this.g=g}S(Mi,Jc),Mi.prototype.ua=function(){rr(this.g,"a")},Mi.prototype.ta=function(g){rr(this.g,new Yh(g))},Mi.prototype.sa=function(g){rr(this.g,new Qh)},Mi.prototype.ra=function(){rr(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,s4=function(){return new Ul},o4=function(){return ps()},a4=Oi,w1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,ym=Il,Oh.COMPLETE="complete",i4=Oh,El.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",tr.prototype.listen=tr.prototype.K,Ld=El,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,n4=Ct}).apply(typeof Gp<"u"?Gp:typeof self<"u"?self:typeof window<"u"?window:{});const Nk="@firebase/firestore",Rk="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new vE("@firebase/firestore");function mu(){return al.logLevel}function Te(t,...e){if(al.logLevel<=Ze.DEBUG){const r=e.map(jE);al.debug(`Firestore (${vc}): ${t}`,...r)}}function Ua(t,...e){if(al.logLevel<=Ze.ERROR){const r=e.map(jE);al.error(`Firestore (${vc}): ${t}`,...r)}}function Xo(t,...e){if(al.logLevel<=Ze.WARN){const r=e.map(jE);al.warn(`Firestore (${vc}): ${t}`,...r)}}function jE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,l4(t,n,r)}function l4(t,e,r){let n=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ua(n),new Error(n)}function ft(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||l4(e,i,n)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Xa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Br.UNAUTHENTICATED)))}shutdown(){}}class v8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class b8{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ft(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ma,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ma)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ft(typeof n.accessToken=="string",31837,{l:n}),new u4(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Br(e)}}class x8{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _8{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new x8(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w8{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ft(this.o===void 0,3512);const n=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ft(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Mk(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=S8(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Xe(t,e){return t<e?-1:t>e?1:0}function S1(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Xe(n,i);{const a=c4(),o=E8(a.encode(Dk(t,r)),a.encode(Dk(e,r)));return o!==0?o:Xe(n,i)}}r+=n>65535?2:1}return Xe(t.length,e.length)}function Dk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function E8(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Xe(t[r],e[r]);return Xe(t.length,e.length)}function Mu(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="__name__";class Fi{constructor(e,r,n){r===void 0?r=0:r>e.length&&Fe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Fe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Fi.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Xe(e.length,r.length)}static compareSegments(e,r){const n=Fi.isNumericId(e),i=Fi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Fi.extractNumericId(e).compare(Fi.extractNumericId(r)):S1(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wo.fromString(e.substring(4,e.length-2))}}class Et extends Fi{construct(e,r,n){return new Et(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Et(r)}static emptyPath(){return new Et([])}}const T8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends Fi{construct(e,r,n){return new jr(e,r,n)}static isValidIdentifier(e){return T8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lk}static keyField(){return new jr([Lk])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(n+=u,i++):(a(),i++)}if(a(),o)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(r)}static emptyPath(){return new jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Et.fromString(e))}static fromName(e){return new Me(Et.fromString(e).popFirst(5))}static empty(){return new Me(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Et.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t,e,r){if(!r)throw new Se(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A8(t,e,r,n){if(e===!0&&n===!0)throw new Se(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function $k(t){if(!Me.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vk(t){if(Me.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function f4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ey(t);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const r={typeString:t};return e&&(r.value=e),r}function sh(t,e){if(!f4(t))throw new Se(ce.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Se(ce.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=-62135596800,Bk=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Bk);return new Ot(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Fk)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bk}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sh(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:Zt("string",Ot._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ot(0,0))}static max(){return new qe(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=-1;function P8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(n===1e9?new Ot(r+1,0):new Ot(r,n));return new Yo(i,Me.empty(),e)}function I8(t){return new Yo(t.readTime,t.key,ff)}class Yo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Yo(qe.min(),Me.empty(),ff)}static max(){return new Yo(qe.max(),Me.empty(),ff)}}function k8(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Me.comparator(t.documentKey,e.documentKey),r!==0?r:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==O8)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):he.reject(r)}static resolve(e){return new he(((r,n)=>{r(e)}))}static reject(e){return new he(((r,n)=>{n(e)}))}static waitFor(e){return new he(((r,n)=>{let i=0,a=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++a,o&&a===i&&r()}),(c=>n(c)))})),o=!0,a===i&&r()}))}static or(e){let r=he.resolve(!1);for(const n of e)r=r.next((i=>i?he.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new he(((n,i)=>{const a=e.length,o=new Array(a);let u=0;for(let c=0;c<a;c++){const d=c;r(e[d]).next((h=>{o[d]=h,++u,u===a&&n(o)}),(h=>i(h)))}}))}static doWhile(e,r){return new he(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function j8(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this._e(n),this.ae=n=>r.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ty.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-1;function ry(t){return t==null}function Nm(t){return t===0&&1/t==-1/0}function N8(t){return typeof t=="number"&&Number.isInteger(t)&&!Nm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="";function R8(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Uk(e)),e=M8(t.get(r),e);return Uk(e)}function M8(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case h4:r+="";break;default:r+=a}}return r}function Uk(t){return t+h4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ns(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function p4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,r){this.comparator=e,this.root=r||kr.EMPTY}insert(e,r){return new Ft(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kp(this.root,e,this.comparator,!0)}}class Kp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??kr.RED,this.left=i??kr.EMPTY,this.right=a??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new kr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return kr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new kr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new qk(this.data.getIterator())}getIteratorFrom(e){return new qk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new ur(this.comparator);return r.data=e,r}}class qk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new kn([])}unionWith(e){let r=new ur(jr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new kn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new m4("Invalid base64 string: "+a):a}})(e);return new Nr(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Nr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const r=D8.exec(t);if(ft(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?Nr.fromBase64String(t):Nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="server_timestamp",y4="__type__",v4="__previous_value__",b4="__local_write_time__";function ME(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[y4])===null||r===void 0?void 0:r.stringValue)===g4}function ny(t){const e=t.mapValue.fields[v4];return ME(e)?ny(e):e}function hf(t){const e=Qo(t.mapValue.fields[b4].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,r,n,i,a,o,u,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Rm="(default)";class pf{constructor(e,r){this.projectId=e,this.database=r||Rm}static empty(){return new pf("","")}get isDefaultDatabase(){return this.database===Rm}isEqual(e){return e instanceof pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="__type__",$8="__max__",Xp={mapValue:{}},_4="__vector__",Mm="value";function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ME(t)?4:F8(t)?9007199254740991:V8(t)?10:11:Fe(28295,{value:t})}function Zi(t,e){if(t===e)return!0;const r=Zo(t);if(r!==Zo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hf(t).isEqual(hf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Qo(i.timestampValue),u=Qo(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Jo(i.bytesValue).isEqual(Jo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ht(i.geoPointValue.latitude)===Ht(a.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ht(i.integerValue)===Ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Ht(i.doubleValue),u=Ht(a.doubleValue);return o===u?Nm(o)===Nm(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(zk(o)!==zk(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!Zi(o[c],u[c])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function mf(t,e){return(t.values||[]).find((r=>Zi(r,e)))!==void 0}function Du(t,e){if(t===e)return 0;const r=Zo(t),n=Zo(e);if(r!==n)return Xe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=Ht(a.integerValue||a.doubleValue),c=Ht(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return Wk(t.timestampValue,e.timestampValue);case 4:return Wk(hf(t),hf(e));case 5:return S1(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=Jo(a),c=Jo(o);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),c=o.split("/");for(let d=0;d<u.length&&d<c.length;d++){const h=Xe(u[d],c[d]);if(h!==0)return h}return Xe(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=Xe(Ht(a.latitude),Ht(o.latitude));return u!==0?u:Xe(Ht(a.longitude),Ht(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Hk(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var u,c,d,h;const p=a.fields||{},y=o.fields||{},x=(u=p[Mm])===null||u===void 0?void 0:u.arrayValue,S=(c=y[Mm])===null||c===void 0?void 0:c.arrayValue,_=Xe(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:Hk(x,S)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Xp.mapValue&&o===Xp.mapValue)return 0;if(a===Xp.mapValue)return 1;if(o===Xp.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=S1(c[p],h[p]);if(y!==0)return y;const x=Du(u[c[p]],d[h[p]]);if(x!==0)return x}return Xe(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{le:r})}}function Wk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const r=Qo(t),n=Qo(e),i=Xe(r.seconds,n.seconds);return i!==0?i:Xe(r.nanos,n.nanos)}function Hk(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Du(r[i],n[i]);if(a)return a}return Xe(r.length,n.length)}function Lu(t){return E1(t)}function E1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Qo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Jo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Me.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=E1(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${E1(r.fields[o])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function vm(t){switch(Zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ny(t);return e?16+vm(e):16;case 5:return 2*t.stringValue.length;case 6:return Jo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+vm(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return ns(n.fields,((a,o)=>{i+=a.length+vm(o)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function Gk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T1(t){return!!t&&"integerValue"in t}function DE(t){return!!t&&"arrayValue"in t}function Kk(t){return!!t&&"nullValue"in t}function Xk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bm(t){return!!t&&"mapValue"in t}function V8(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[x4])===null||r===void 0?void 0:r.stringValue)===_4}function Kd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ns(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Kd(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Kd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function F8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!bm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(r)}setAll(e){let r=jr.emptyPath(),n={},i=[];e.forEach(((o,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}o?n[u.lastSegment()]=Kd(o):i.push(u.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());bm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];bm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ns(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new cn(Kd(this.value))}}function w4(t){const e=[];return ns(t.fields,((r,n)=>{const i=new jr([r]);if(bm(n)){const a=w4(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,r,n,i,a,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Ur(e,0,qe.min(),qe.min(),qe.min(),cn.empty(),0)}static newFoundDocument(e,r,n,i){return new Ur(e,1,r,qe.min(),n,i,0)}static newNoDocument(e,r){return new Ur(e,2,r,qe.min(),qe.min(),cn.empty(),0)}static newUnknownDocument(e,r){return new Ur(e,3,r,qe.min(),qe.min(),cn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,r){this.position=e,this.inclusive=r}}function Yk(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Me.comparator(Me.fromName(o.referenceValue),r.key):n=Du(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Qk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Zi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,r="asc"){this.field=e,this.dir=r}}function B8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{}class Jt extends S4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new z8(e,r,n):r==="array-contains"?new H8(e,n):r==="in"?new G8(e,n):r==="not-in"?new K8(e,n):r==="array-contains-any"?new X8(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new q8(e,n):new W8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Du(r,this.value)):r!==null&&Zo(this.value)===Zo(r)&&this.matchesComparison(Du(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends S4{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new Ei(e,r)}matches(e){return E4(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function E4(t){return t.op==="and"}function T4(t){return U8(t)&&E4(t)}function U8(t){for(const e of t.filters)if(e instanceof Ei)return!1;return!0}function A1(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Lu(t.value);if(T4(t))return t.filters.map((e=>A1(e))).join(",");{const e=t.filters.map((r=>A1(r))).join(",");return`${t.op}(${e})`}}function A4(t,e){return t instanceof Jt?(function(n,i){return i instanceof Jt&&n.op===i.op&&n.field.isEqual(i.field)&&Zi(n.value,i.value)})(t,e):t instanceof Ei?(function(n,i){return i instanceof Ei&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,u)=>a&&A4(o,i.filters[u])),!0):!1})(t,e):void Fe(19439)}function P4(t){return t instanceof Jt?(function(r){return`${r.field.canonicalString()} ${r.op} ${Lu(r.value)}`})(t):t instanceof Ei?(function(r){return r.op.toString()+" {"+r.getFilters().map(P4).join(" ,")+"}"})(t):"Filter"}class z8 extends Jt{constructor(e,r,n){super(e,r,n),this.key=Me.fromName(n.referenceValue)}matches(e){const r=Me.comparator(e.key,this.key);return this.matchesComparison(r)}}class q8 extends Jt{constructor(e,r){super(e,"in",r),this.keys=I4("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class W8 extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=I4("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function I4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>Me.fromName(n.referenceValue)))}class H8 extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return DE(r)&&mf(r.arrayValue,this.value)}}class G8 extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&mf(this.value.arrayValue,r)}}class K8 extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!mf(this.value.arrayValue,r)}}class X8 extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!DE(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>mf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,r=null,n=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Pe=null}}function Jk(t,e=null,r=[],n=[],i=null,a=null,o=null){return new Y8(t,e,r,n,i,a,o)}function LE(t){const e=We(t);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>A1(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),ry(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Lu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Lu(n))).join(",")),e.Pe=r}return e.Pe}function $E(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!B8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!A4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qk(t.startAt,e.startAt)&&Qk(t.endAt,e.endAt)}function P1(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,r=null,n=[],i=[],a=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Q8(t,e,r,n,i,a,o,u){return new _c(t,e,r,n,i,a,o,u)}function iy(t){return new _c(t)}function Zk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function k4(t){return t.collectionGroup!==null}function Xd(t){const e=We(t);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new ur(jr.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new gf(a,n))})),r.has(jr.keyField().canonicalString())||e.Te.push(new gf(jr.keyField(),n))}return e.Te}function Hi(t){const e=We(t);return e.Ie||(e.Ie=J8(e,Xd(t))),e.Ie}function J8(t,e){if(t.limitType==="F")return Jk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new gf(i.field,a)}));const r=t.endAt?new Dm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Dm(t.startAt.position,t.startAt.inclusive):null;return Jk(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function I1(t,e){const r=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function k1(t,e,r){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ay(t,e){return $E(Hi(t),Hi(e))&&t.limitType===e.limitType}function O4(t){return`${LE(Hi(t))}|lt:${t.limitType}`}function gu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>P4(i))).join(", ")}]`),ry(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Lu(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Lu(i))).join(",")),`Target(${n})`})(Hi(t))}; limitType=${t.limitType})`}function oy(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Me.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of Xd(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,u,c){const d=Yk(o,u,c);return o.inclusive?d<=0:d<0})(n.startAt,Xd(n),i)||n.endAt&&!(function(o,u,c){const d=Yk(o,u,c);return o.inclusive?d>=0:d>0})(n.endAt,Xd(n),i))})(t,e)}function Z8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function C4(t){return(e,r)=>{let n=!1;for(const i of Xd(t)){const a=e7(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function e7(t,e,r){const n=t.field.isKeyField()?Me.comparator(e.key,r.key):(function(a,o,u){const c=o.data.field(a),d=u.data.field(a);return c!==null&&d!==null?Du(c,d):Fe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return p4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=new Ft(Me.comparator);function za(){return t7}const j4=new Ft(Me.comparator);function $d(...t){let e=j4;for(const r of t)e=e.insert(r.key,r);return e}function N4(t){let e=j4;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Hs(){return Yd()}function R4(){return Yd()}function Yd(){return new pl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const r7=new Ft(Me.comparator),n7=new ur(Me.comparator);function et(...t){let e=n7;for(const r of t)e=e.add(r);return e}const i7=new ur(Xe);function a7(){return i7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nm(e)?"-0":e}}function M4(t){return{integerValue:""+t}}function o7(t,e){return N8(e)?M4(e):VE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this._=void 0}}function s7(t,e,r){return t instanceof Lm?(function(i,a){const o={fields:{[y4]:{stringValue:g4},[b4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ME(a)&&(a=ny(a)),a&&(o.fields[v4]=a),{mapValue:o}})(r,e):t instanceof $u?L4(t,e):t instanceof Vu?$4(t,e):(function(i,a){const o=D4(i,a),u=eO(o)+eO(i.Ee);return T1(o)&&T1(i.Ee)?M4(u):VE(i.serializer,u)})(t,e)}function l7(t,e,r){return t instanceof $u?L4(t,e):t instanceof Vu?$4(t,e):r}function D4(t,e){return t instanceof $m?(function(n){return T1(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Lm extends sy{}class $u extends sy{constructor(e){super(),this.elements=e}}function L4(t,e){const r=V4(e);for(const n of t.elements)r.some((i=>Zi(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Vu extends sy{constructor(e){super(),this.elements=e}}function $4(t,e){let r=V4(e);for(const n of t.elements)r=r.filter((i=>!Zi(i,n)));return{arrayValue:{values:r}}}class $m extends sy{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function eO(t){return Ht(t.integerValue||t.doubleValue)}function V4(t){return DE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,r){this.field=e,this.transform=r}}function u7(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof $u&&i instanceof $u||n instanceof Vu&&i instanceof Vu?Mu(n.elements,i.elements,Zi):n instanceof $m&&i instanceof $m?Zi(n.Ee,i.Ee):n instanceof Lm&&i instanceof Lm})(t.transform,e.transform)}class c7{constructor(e,r){this.version=e,this.transformResults=r}}class Qr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ly{}function B4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uy(t.key,Qr.none()):new lh(t.key,t.data,Qr.none());{const r=t.data,n=cn.empty();let i=new ur(jr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new is(t.key,n,new kn(i.toArray()),Qr.none())}}function d7(t,e,r){t instanceof lh?(function(i,a,o){const u=i.value.clone(),c=rO(i.fieldTransforms,a,o.transformResults);u.setAll(c),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,r):t instanceof is?(function(i,a,o){if(!xm(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=rO(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(U4(i)),c.setAll(u),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Qd(t,e,r,n){return t instanceof lh?(function(a,o,u,c){if(!xm(a.precondition,o))return u;const d=a.value.clone(),h=nO(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof is?(function(a,o,u,c){if(!xm(a.precondition,o))return u;const d=nO(a.fieldTransforms,c,o),h=o.data;return h.setAll(U4(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,o,u){return xm(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,r)}function f7(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=D4(n.transform,i||null);a!=null&&(r===null&&(r=cn.empty()),r.set(n.field,a))}return r||null}function tO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Mu(n,i,((a,o)=>u7(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lh extends ly{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends ly{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function U4(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function rO(t,e,r){const n=new Map;ft(t.length===r.length,32656,{Ae:r.length,Re:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);n.set(a.field,l7(o,u,r[i]))}return n}function nO(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,s7(a,o,e))}return n}class uy extends ly{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h7 extends ly{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&d7(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Qd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Qd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=R4();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=r.has(i.key)?null:u;const c=B4(o,u);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(qe.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),et())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,((r,n)=>tO(r,n)))&&Mu(this.baseMutations,e.baseMutations,((r,n)=>tO(r,n)))}}class FE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ft(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=(function(){return r7})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new FE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,nt;function y7(t){switch(t){case ce.OK:return Fe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function z4(t){if(t===void 0)return Ua("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Yt.OK:return ce.OK;case Yt.CANCELLED:return ce.CANCELLED;case Yt.UNKNOWN:return ce.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ce.INTERNAL;case Yt.UNAVAILABLE:return ce.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ce.NOT_FOUND;case Yt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Yt.ABORTED:return ce.ABORTED;case Yt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Yt.DATA_LOSS:return ce.DATA_LOSS;default:return Fe(39323,{code:t})}}(nt=Yt||(Yt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new Wo([4294967295,4294967295],0);function iO(t){const e=c4().encode(t),r=new r4;return r.update(e),new Uint8Array(r.digest())}function aO(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wo([r,n],0),new Wo([i,a],0)]}class BE{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Vd(`Invalid padding: ${r}`);if(n<0)throw new Vd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Vd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Vd(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=Wo.fromNumber(this.fe)}pe(e,r,n){let i=e.add(r.multiply(Wo.fromNumber(n)));return i.compare(v7)===1&&(i=new Wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=iO(e),[n,i]=aO(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);if(!this.ye(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new BE(a,i,r);return n.forEach((u=>o.insert(u))),o}insert(e){if(this.fe===0)return;const r=iO(e),[n,i]=aO(r);for(let a=0;a<this.hashCount;a++){const o=this.pe(n,i,a);this.we(o)}}we(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new cy(qe.min(),i,new Ft(Xe),za(),et())}}class uh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new uh(n,r,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.be=i}}class q4{constructor(e,r){this.targetId=e,this.De=r}}class W4{constructor(e,r,n=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class oO{constructor(){this.ve=0,this.Ce=sO(),this.Fe=Nr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=et(),r=et(),n=et();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Fe(38017,{changeType:a})}})),new uh(this.Fe,this.Me,e,r,n)}ke(){this.xe=!1,this.Ce=sO()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class b7{constructor(e){this.We=e,this.Ge=new Map,this.ze=za(),this.je=Yp(),this.Je=Yp(),this.He=new Ft(Xe)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const n=this.tt(r);switch(e.state){case 0:this.nt(r)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),n.Be(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((n,i)=>{this.nt(i)&&r(i)}))}it(e){const r=e.targetId,n=e.De.count,i=this.st(r);if(i){const a=i.target;if(P1(a))if(n===0){const o=new Me(a.path);this.Xe(r,o,Ur.newNoDocument(o,qe.min()))}else ft(n===1,20013,{expectedCount:n});else{const o=this.ot(r);if(o!==n){const u=this._t(e),c=u?this.ut(u,e,o):1;if(c!==0){this.rt(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,d)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,u;try{o=Jo(n).toUint8Array()}catch(c){if(c instanceof m4)return Xo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new BE(o,i,a)}catch(c){return Xo(c instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.fe===0?null:u}ut(e,r,n){return r.De.count===n-this.ht(e,r.targetId)?0:2}ht(e,r){const n=this.We.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.We.lt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Xe(r,a,null),i++)})),i}Pt(e){const r=new Map;this.Ge.forEach(((a,o)=>{const u=this.st(o);if(u){if(a.current&&P1(u.target)){const c=new Me(u.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Ur.newNoDocument(c,e))}a.Ne&&(r.set(o,a.Le()),a.ke())}}));let n=et();this.Je.forEach(((a,o)=>{let u=!0;o.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(a))})),this.ze.forEach(((a,o)=>o.setReadTime(e)));const i=new cy(e,r,this.He,this.ze,n);return this.ze=za(),this.je=Yp(),this.Je=Yp(),this.He=new Ft(Xe),i}Ze(e,r){if(!this.nt(e))return;const n=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,n),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,r)?i.qe(r,1):i.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),n&&(this.ze=this.ze.insert(r,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new oO,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new ur(Xe),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new ur(Xe),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||Te("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new oO),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function Yp(){return new Ft(Me.comparator)}function sO(){return new Ft(Me.comparator)}const x7={asc:"ASCENDING",desc:"DESCENDING"},_7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w7={and:"AND",or:"OR"};class S7{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function O1(t,e){return t.useProto3Json||ry(e)?e:{value:e}}function Vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E7(t,e){return Vm(t,e.toTimestamp())}function Gi(t){return ft(!!t,49232),qe.fromTimestamp((function(r){const n=Qo(r);return new Ot(n.seconds,n.nanos)})(t))}function UE(t,e){return C1(t,e).canonicalString()}function C1(t,e){const r=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function G4(t){const e=Et.fromString(t);return ft(J4(e),10190,{key:e.toString()}),e}function j1(t,e){return UE(t.databaseId,e.path)}function Hb(t,e){const r=G4(e);if(r.get(1)!==t.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Me(X4(r))}function K4(t,e){return UE(t.databaseId,e)}function T7(t){const e=G4(t);return e.length===4?Et.emptyPath():X4(e)}function N1(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X4(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lO(t,e,r){return{name:j1(t,e),fields:r.value.mapValue.fields}}function A7(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(ft(h===void 0||typeof h=="string",58123),Nr.fromBase64String(h||"")):(ft(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(d){const h=d.code===void 0?ce.UNKNOWN:z4(d.code);return new Se(h,d.message||"")})(o);r=new W4(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Hb(t,n.document.name),a=Gi(n.document.updateTime),o=n.document.createTime?Gi(n.document.createTime):qe.min(),u=new cn({mapValue:{fields:n.document.fields}}),c=Ur.newFoundDocument(i,a,o,u),d=n.targetIds||[],h=n.removedTargetIds||[];r=new _m(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Hb(t,n.document),a=n.readTime?Gi(n.readTime):qe.min(),o=Ur.newNoDocument(i,a),u=n.removedTargetIds||[];r=new _m([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Hb(t,n.document),a=n.removedTargetIds||[];r=new _m([],a,i,null)}else{if(!("filter"in e))return Fe(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new g7(i,a),u=n.targetId;r=new q4(u,o)}}return r}function P7(t,e){let r;if(e instanceof lh)r={update:lO(t,e.key,e.value)};else if(e instanceof uy)r={delete:j1(t,e.key)};else if(e instanceof is)r={update:lO(t,e.key,e.data),updateMask:D7(e.fieldMask)};else{if(!(e instanceof h7))return Fe(16599,{Rt:e.type});r={verify:j1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const u=o.transform;if(u instanceof Lm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $u)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Vu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $m)return{fieldPath:o.field.canonicalString(),increment:u.Ee};throw Fe(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:E7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(t,e.precondition)),r}function I7(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?Gi(i.updateTime):Gi(a);return o.isEqual(qe.min())&&(o=Gi(a)),new c7(o,i.transformResults||[])})(r,e)))):[]}function k7(t,e){return{documents:[K4(t,e.path)]}}function O7(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=K4(t,i);const a=(function(d){if(d.length!==0)return Q4(Ei.create(d,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((h=>(function(y){return{field:yu(y.field),direction:N7(y.dir)}})(h)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=O1(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:r,parent:i}}function C7(t){let e=T7(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ft(n===1,65062);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=(function(p){const y=Y4(p);return y instanceof Ei&&T4(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((y=>(function(S){return new gf(vu(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,ry(y)?null:y})(r.limit));let c=null;r.startAt&&(c=(function(p){const y=!!p.before,x=p.values||[];return new Dm(x,y)})(r.startAt));let d=null;return r.endAt&&(d=(function(p){const y=!p.before,x=p.values||[];return new Dm(x,y)})(r.endAt)),Q8(e,i,o,a,u,"F",c,d)}function j7(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Y4(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=vu(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=vu(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vu(r.unaryFilter.field);return Jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vu(r.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Jt.create(vu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Ei.create(r.compositeFilter.filters.map((n=>Y4(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(r.compositeFilter.op))})(t):Fe(30097,{filter:t})}function N7(t){return x7[t]}function R7(t){return _7[t]}function M7(t){return w7[t]}function yu(t){return{fieldPath:t.canonicalString()}}function vu(t){return jr.fromServerFormat(t.fieldPath)}function Q4(t){return t instanceof Jt?(function(r){if(r.op==="=="){if(Xk(r.value))return{unaryFilter:{field:yu(r.field),op:"IS_NAN"}};if(Kk(r.value))return{unaryFilter:{field:yu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Xk(r.value))return{unaryFilter:{field:yu(r.field),op:"IS_NOT_NAN"}};if(Kk(r.value))return{unaryFilter:{field:yu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(r.field),op:R7(r.op),value:r.value}}})(t):t instanceof Ei?(function(r){const n=r.getFilters().map((i=>Q4(i)));return n.length===1?n[0]:{compositeFilter:{op:M7(r.op),filters:n}}})(t):Fe(54877,{filter:t})}function D7(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function J4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,r,n,i,a=qe.min(),o=qe.min(),u=Nr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.gt=e}}function $7(t){const e=C7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?k1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.Dn=new F7}addToCollectionParentIndex(e,r){return this.Dn.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve(Yo.min())}updateCollectionGroup(e,r,n){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class F7{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ur(Et.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ur(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z4=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Z4,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Fu(0)}static ur(){return new Fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="LruGarbageCollector",B7=1048576;function dO([t,e],[r,n]){const i=Xe(t,r);return i===0?Xe(e,n):i}class U7{constructor(e){this.Tr=e,this.buffer=new ur(dO),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();dO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class z7{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Te(cO,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){xc(r)?Te(cO,"Ignoring IndexedDB error during garbage collection: ",r):await bc(r)}await this.Rr(3e5)}))}}class q7{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return he.resolve(ty.ue);const n=new U7(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(uO)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uO):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let n,i,a,o,u,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,u=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(d=Date.now(),mu()<=Ze.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function W7(t,e){return new q7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.changes=new pl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?he.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Qd(n.mutation,i,kn.empty(),Ot.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,et()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=et()){const i=Hs();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=$d();return a.forEach(((u,c)=>{o=o.insert(u,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Hs();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,et())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,u)=>{r.set(o,u)}))}))}computeViews(e,r,n,i){let a=za();const o=Yd(),u=(function(){return Yd()})();return r.forEach(((c,d)=>{const h=n.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof is)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Qd(h.mutation,d,h.mutation.getFieldMask(),Ot.now())):o.set(d.key,kn.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,h)=>o.set(d,h))),r.forEach(((d,h)=>{var p;return u.set(d,new G7(h,(p=o.get(d))!==null&&p!==void 0?p:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Yd();let i=new Ft(((o,u)=>o-u)),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const u of o)u.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let h=n.get(c)||kn.empty();h=u.applyToLocalView(d,h),n.set(c,h);const p=(i.get(u.batchId)||et()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,h=c.value,p=R4();h.forEach((y=>{if(!a.has(y)){const x=B4(r.get(y),n.get(y));x!==null&&p.set(y,x),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return he.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return Me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):k4(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):he.resolve(Hs());let u=ff,c=a;return o.next((d=>he.forEach(d,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,et()))).next((h=>({batchId:u,changes:N4(h)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Me(r)).next((n=>{let i=$d();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=$d();return this.indexManager.getCollectionParents(e,a).next((u=>he.forEach(u,(c=>{const d=(function(p,y){return new _c(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((h=>{h.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ur.newInvalidDocument(h)))}));let u=$d();return o.forEach(((c,d)=>{const h=a.get(c);h!==void 0&&Qd(h.mutation,d,kn.empty(),Ot.now()),oy(r,d)&&(u=u.insert(c,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return he.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}})(r)),he.resolve()}getNamedQuery(e,r){return he.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(i){return{name:i.name,query:$7(i.bundledQuery),readTime:Gi(i.readTime)}})(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(){this.overlays=new Ft(Me.comparator),this.kr=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Hs();return he.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.wt(e,r,a)})),he.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(n)),he.resolve()}getOverlaysForCollection(e,r,n){const i=Hs(),a=r.length+1,o=new Me(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return he.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ft(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let h=a.get(d.largestBatchId);h===null&&(h=Hs(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=Hs(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return he.resolve(u)}wt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new m7(r,n));let a=this.kr.get(r);a===void 0&&(a=et(),this.kr.set(r,a)),this.kr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(){this.sessionToken=Nr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.qr=new ur(vr.Qr),this.$r=new ur(vr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const n=new vr(e,r);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new vr(e,r))}Gr(e,r){e.forEach((n=>this.removeReference(n,r)))}zr(e){const r=new Me(new Et([])),n=new vr(r,e),i=new vr(r,e+1),a=[];return this.$r.forEachInRange([n,i],(o=>{this.Wr(o),a.push(o.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new Me(new Et([])),n=new vr(r,e),i=new vr(r,e+1);let a=et();return this.$r.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new vr(e,0),n=this.qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class vr{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return Me.comparator(e.key,r.key)||Xe(e.Hr,r.Hr)}static Ur(e,r){return Xe(e.Hr,r.Hr)||Me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new ur(vr.Qr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new p7(a,r,n,i);this.mutationQueue.push(o);for(const u of i)this.Yr=this.Yr.add(new vr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,r){return he.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?RE:this.er-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new vr(r,0),i=new vr(r,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,i],(o=>{const u=this.Zr(o.Hr);a.push(u)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ur(Xe);return r.forEach((i=>{const a=new vr(i,0),o=new vr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,o],(u=>{n=n.add(u.Hr)}))})),he.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Me.isDocumentKey(a)||(a=a.child(""));const o=new vr(new Me(a),0);let u=new ur(Xe);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.Hr)),!0)}),o),he.resolve(this.ei(u))}ei(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ft(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return he.forEach(r.mutations,(i=>{const a=new vr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,r){const n=new vr(r,0),i=this.Yr.firstAfterOrEqual(n);return he.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.ni=e,this.docs=(function(){return new Ft(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ni(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return he.resolve(n?n.document.mutableCopy():Ur.newInvalidDocument(r))}getEntries(e,r){let n=za();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ur.newInvalidDocument(i))})),he.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=za();const o=r.path,u=new Me(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||k8(I8(h),n)<=0||(i.has(h.key)||oy(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Fe(9500)}ri(e,r){return he.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new eW(this)}getSize(e){return he.resolve(this.size)}}class eW extends H7{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),he.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e){this.persistence=e,this.ii=new pl((r=>LE(r)),$E),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.si=0,this.oi=new zE,this.targetCount=0,this._i=Fu.ar()}forEachTarget(e,r){return this.ii.forEach(((n,i)=>r(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.si&&(this.si=r),he.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Fu(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.hr(r),he.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ii.forEach(((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const n=this.ii.get(r)||null;return he.resolve(n)}addMatchingKeys(e,r,n){return this.oi.Kr(r,n),he.resolve()}removeMatchingKeys(e,r,n){this.oi.Gr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),he.resolve()}getMatchingKeysForTargetId(e,r){const n=this.oi.Jr(r);return he.resolve(n)}containsKey(e,r){return he.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,r){this.ai={},this.overlays={},this.ui=new ty(0),this.ci=!1,this.ci=!0,this.li=new Q7,this.referenceDelegate=e(this),this.hi=new tW(this),this.indexManager=new V7,this.remoteDocumentCache=(function(i){return new Z7(i)})((n=>this.referenceDelegate.Pi(n))),this.serializer=new L7(r),this.Ti=new X7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Y7,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ai[e.toKey()];return n||(n=new J7(r,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,n){Te("MemoryPersistence","Starting transaction:",e);const i=new rW(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,r){return he.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,r))))}}class rW extends C8{constructor(e){super(),this.currentSequenceNumber=e}}class qE{constructor(e){this.persistence=e,this.Ai=new zE,this.Ri=null}static Vi(e){return new qE(e)}get mi(){if(this.Ri)return this.Ri;throw Fe(60996)}addReference(e,r,n){return this.Ai.addReference(n,r),this.mi.delete(n.toString()),he.resolve()}removeReference(e,r,n){return this.Ai.removeReference(n,r),this.mi.add(n.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),he.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((i=>this.mi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.mi,(n=>{const i=Me.fromPath(n);return this.fi(e,i).next((a=>{a||r.removeEntry(i,qe.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((n=>{n?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return he.or([()=>he.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Fm{constructor(e,r){this.persistence=e,this.gi=new pl((n=>R8(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=W7(this,r)}static Vi(e,r){return new Fm(e,r)}Ii(){}di(e){return he.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}yr(e){let r=0;return this.gr(e,(n=>{r++})).next((()=>r))}gr(e,r){return he.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((a=>a?he.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(o=>this.Sr(e,o,r).next((u=>{u||(n++,a.removeEntry(o,qe.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}removeReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),he.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=vm(e.data.value)),r}Sr(e,r,n){return he.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.gi.get(r);return he.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Is=n,this.ds=i}static Es(e,r){let n=et(),i=et();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new WE(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return kU()?8:j8(qr())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ps(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ys(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new nW;return this.ws(e,r,o).next((u=>{if(a.result=u,this.Rs)return this.Ss(e,r,o,u.size)}))})).next((()=>a.result))}Ss(e,r,n,i){return n.documentReadCount<this.Vs?(mu()<=Ze.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",gu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(mu()<=Ze.DEBUG&&Te("QueryEngine","Query:",gu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(mu()<=Ze.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",gu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(r))):he.resolve())}ps(e,r){if(Zk(r))return he.resolve(null);let n=Hi(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=k1(r,null,"F"),n=Hi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=et(...a);return this.gs.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.bs(r,u);return this.Ds(r,d,o,c.readTime)?this.ps(e,k1(r,null,"F")):this.vs(e,d,r,c)}))))})))))}ys(e,r,n,i){return Zk(r)||i.isEqual(qe.min())?he.resolve(null):this.gs.getDocuments(e,n).next((a=>{const o=this.bs(r,a);return this.Ds(r,o,n,i)?he.resolve(null):(mu()<=Ze.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gu(r)),this.vs(e,o,r,P8(i,ff)).next((u=>u)))}))}bs(e,r){let n=new ur(C4(e));return r.forEach(((i,a)=>{oy(e,a)&&(n=n.add(a))})),n}Ds(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,r,n){return mu()<=Ze.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",gu(r)),this.gs.getDocumentsMatchingQuery(e,r,Yo.min(),n)}vs(e,r,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="LocalStore",aW=3e8;class oW{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.Fs=new Ft(Xe),this.Ms=new pl((a=>LE(a)),$E),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K7(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function sW(t,e,r,n){return new oW(t,e,r,n)}async function t3(t,e){const r=We(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Ns(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],u=[];let c=et();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){u.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Bs:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function lW(t,e){const r=We(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Os.newChangeBuffer({trackRemovals:!0});return(function(u,c,d,h){const p=d.batch,y=p.keys();let x=he.resolve();return y.forEach((S=>{x=x.next((()=>h.getEntry(c,S))).next((_=>{const b=d.docVersions.get(S);ft(b!==null,48541),_.version.compareTo(b)<0&&(p.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let c=et();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function r3(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function uW(t,e){const r=We(t),n=e.snapshotVersion;let i=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Os.newChangeBuffer({trackRemovals:!0});i=r.Fs;const u=[];e.targetChanges.forEach(((h,p)=>{const y=i.get(p);if(!y)return;u.push(r.hi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>r.hi.addMatchingKeys(a,h.addedDocuments,p))));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(Nr.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,n)),i=i.insert(p,x),(function(_,b,E){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=aW?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(y,x,h)&&u.push(r.hi.updateTargetData(a,x))}));let c=za(),d=et();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(cW(a,o,e.documentUpdates).next((h=>{c=h.Ls,d=h.ks}))),!n.isEqual(qe.min())){const h=r.hi.getLastRemoteSnapshotVersion(a).next((p=>r.hi.setTargetsMetadata(a,a.currentSequenceNumber,n)));u.push(h)}return he.waitFor(u).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(r.Fs=i,a)))}function cW(t,e,r){let n=et(),i=et();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=za();return r.forEach(((u,c)=>{const d=a.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(qe.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):Te(HE,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{Ls:o,ks:i}}))}function dW(t,e){const r=We(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=RE),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function fW(t,e){const r=We(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.hi.getTargetData(n,e).next((a=>a?(i=a,he.resolve(i)):r.hi.allocateTargetId(n).next((o=>(i=new Vo(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.hi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(n.targetId,n),r.Ms.set(e,n.targetId)),n}))}async function R1(t,e,r){const n=We(t),i=n.Fs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xc(o))throw o;Te(HE,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function fO(t,e,r){const n=We(t);let i=qe.min(),a=et();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,h){const p=We(c),y=p.Ms.get(h);return y!==void 0?he.resolve(p.Fs.get(y)):p.hi.getTargetData(d,h)})(n,o,Hi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(o,u.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(o,e,r?i:qe.min(),r?a:et()))).next((u=>(hW(n,Z8(e),u),{documents:u,qs:a})))))}function hW(t,e,r){let n=t.xs.get(e)||qe.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.xs.set(e,n)}class hO{constructor(){this.activeTargetIds=a7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pW{constructor(){this.Fo=new hO,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,n){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new hO,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="ConnectivityMonitor";class mO{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Te(pO,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Te(pO,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp=null;function M1(){return Qp===null?Qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qp++,"0x"+Qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="RestConnection",gW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yW{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===Rm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const o=M1(),u=this.Go(e,r.toUriEncodedString());Te(Gb,`Sending RPC '${e}' ${o}:`,u,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:d}=new URL(u),h=gc(d);return this.jo(e,u,c,n,h).then((p=>(Te(Gb,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Xo(Gb,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",n),p}))}Jo(e,r,n,i,a,o){return this.Wo(e,r,n,i,a)}zo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Go(e,r){const n=gW[e];return`${this.$o}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="WebChannelConnection";class bW extends yW{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,n,i,a){const o=M1();return new Promise(((u,c)=>{const d=new n4;d.setWithCredentials(!0),d.listenOnce(i4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ym.NO_ERROR:const p=d.getResponseJson();Te(Vr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case ym.TIMEOUT:Te(Vr,`RPC '${e}' ${o} timed out`),c(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const y=d.getStatus();if(Te(Vr,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const _=(function(E){const P=E.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN})(S.status);c(new Se(_,S.message))}else c(new Se(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{Te(Vr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);Te(Vr,`RPC '${e}' ${o} sending request:`,i),d.send(r,"POST",h,n,15)}))}P_(e,r,n){const i=M1(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s4(),u=o4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");Te(Vr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);this.T_(p);let y=!1,x=!1;const S=new vW({Ho:b=>{x?Te(Vr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(Te(Vr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Te(Vr,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Yo:()=>p.close()}),_=(b,E,P)=>{b.listen(E,(k=>{try{P(k)}catch(R){setTimeout((()=>{throw R}),0)}}))};return _(p,Ld.EventType.OPEN,(()=>{x||(Te(Vr,`RPC '${e}' stream ${i} transport opened.`),S.s_())})),_(p,Ld.EventType.CLOSE,(()=>{x||(x=!0,Te(Vr,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))})),_(p,Ld.EventType.ERROR,(b=>{x||(x=!0,Xo(Vr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.__(new Se(ce.UNAVAILABLE,"The operation could not be completed")))})),_(p,Ld.EventType.MESSAGE,(b=>{var E;if(!x){const P=b.data[0];ft(!!P,16349);const k=P,R=(k==null?void 0:k.error)||((E=k[0])===null||E===void 0?void 0:E.error);if(R){Te(Vr,`RPC '${e}' stream ${i} received error:`,R);const O=R.status;let j=(function(M){const B=Yt[M];if(B!==void 0)return z4(B)})(O),I=R.message;j===void 0&&(j=ce.INTERNAL,I="Unknown error status: "+O+" with message "+R.message),x=!0,S.__(new Se(j,I)),p.close()}else Te(Vr,`RPC '${e}' stream ${i} received:`,P),S.a_(P)}})),_(u,a4.STAT_EVENT,(b=>{b.stat===w1.PROXY?Te(Vr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===w1.NOPROXY&&Te(Vr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.o_()}),0),S}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function Kb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){return new S7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=r,this.d_=n,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-n);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="PersistentStream";class i3{constructor(e,r,n,i,a,o,u,c){this.Fi=e,this.w_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new n3(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Ua(r.toString()),Ua("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.b_===r&&this.W_(n,i)}),(n=>{e((()=>{const i=new Se(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)}))}))}W_(e,r){const n=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{n((()=>this.G_(i)))})),this.stream.onMessage((i=>{n((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Te(gO,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(Te(gO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xW extends i3{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=A7(this.serializer,e),n=(function(a){if(!("targetChange"in a))return qe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?qe.min():o.readTime?Gi(o.readTime):qe.min()})(e);return this.listener.J_(r,n)}H_(e){const r={};r.database=N1(this.serializer),r.addTarget=(function(a,o){let u;const c=o.target;if(u=P1(c)?{documents:k7(a,c)}:{query:O7(a,c).Vt},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=H4(a,o.resumeToken);const d=O1(a,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(qe.min())>0){u.readTime=Vm(a,o.snapshotVersion.toTimestamp());const d=O1(a,o.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const n=j7(this.serializer,e);n&&(r.labels=n),this.k_(r)}Y_(e){const r={};r.database=N1(this.serializer),r.removeTarget=e,this.k_(r)}}class _W extends i3{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=I7(e.writeResults,e.commitTime),n=Gi(e.commitTime);return this.listener.ta(n,r)}na(){const e={};e.database=N1(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>P7(this.serializer,n)))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{}class SW extends wW{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Wo(e,C1(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ce.UNKNOWN,a.toString())}))}Jo(e,r,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Jo(e,C1(r,n),i,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ce.UNKNOWN,o.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class EW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ua(r),this._a=!1):Te("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="RemoteStore";class TW{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((o=>{n.enqueueAndForget((async()=>{ml(this)&&(Te(ol,"Restarting streams for network reachability change."),await(async function(c){const d=We(c);d.Ia.add(4),await ch(d),d.Aa.set("Unknown"),d.Ia.delete(4),await fy(d)})(this))}))})),this.Aa=new EW(n,i)}}async function fy(t){if(ml(t))for(const e of t.da)await e(!0)}async function ch(t){for(const e of t.da)await e(!1)}function a3(t,e){const r=We(t);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),YE(r)?XE(r):wc(r).x_()&&KE(r,e))}function GE(t,e){const r=We(t),n=wc(r);r.Ta.delete(e),n.x_()&&o3(r,e),r.Ta.size===0&&(n.x_()?n.B_():ml(r)&&r.Aa.set("Unknown"))}function KE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}wc(t).H_(e)}function o3(t,e){t.Ra.$e(e),wc(t).Y_(e)}function XE(t){t.Ra=new b7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),wc(t).start(),t.Aa.aa()}function YE(t){return ml(t)&&!wc(t).M_()&&t.Ta.size>0}function ml(t){return We(t).Ia.size===0}function s3(t){t.Ra=void 0}async function AW(t){t.Aa.set("Online")}async function PW(t){t.Ta.forEach(((e,r)=>{KE(t,e)}))}async function IW(t,e){s3(t),YE(t)?(t.Aa.la(e),XE(t)):t.Aa.set("Unknown")}async function kW(t,e,r){if(t.Aa.set("Online"),e instanceof W4&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ta.delete(u),i.Ra.removeTarget(u))})(t,e)}catch(n){Te(ol,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Bm(t,n)}else if(e instanceof _m?t.Ra.Ye(e):e instanceof q4?t.Ra.it(e):t.Ra.et(e),!r.isEqual(qe.min()))try{const n=await r3(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const u=a.Ra.Pt(o);return u.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ta.get(d);h&&a.Ta.set(d,h.withResumeToken(c.resumeToken,o))}})),u.targetMismatches.forEach(((c,d)=>{const h=a.Ta.get(c);if(!h)return;a.Ta.set(c,h.withResumeToken(Nr.EMPTY_BYTE_STRING,h.snapshotVersion)),o3(a,c);const p=new Vo(h.target,c,d,h.sequenceNumber);KE(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){Te(ol,"Failed to raise snapshot:",n),await Bm(t,n)}}async function Bm(t,e,r){if(!xc(e))throw e;t.Ia.add(1),await ch(t),t.Aa.set("Offline"),r||(r=()=>r3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(ol,"Retrying IndexedDB access"),await r(),t.Ia.delete(1),await fy(t)}))}function l3(t,e){return e().catch((r=>Bm(t,r,e)))}async function hy(t){const e=We(t),r=es(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:RE;for(;OW(e);)try{const i=await dW(e.localStore,n);if(i===null){e.Pa.length===0&&r.B_();break}n=i.batchId,CW(e,i)}catch(i){await Bm(e,i)}u3(e)&&c3(e)}function OW(t){return ml(t)&&t.Pa.length<10}function CW(t,e){t.Pa.push(e);const r=es(t);r.x_()&&r.Z_&&r.X_(e.mutations)}function u3(t){return ml(t)&&!es(t).M_()&&t.Pa.length>0}function c3(t){es(t).start()}async function jW(t){es(t).na()}async function NW(t){const e=es(t);for(const r of t.Pa)e.X_(r.mutations)}async function RW(t,e,r){const n=t.Pa.shift(),i=FE.from(n,e,r);await l3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await hy(t)}async function MW(t,e){e&&es(t).Z_&&await(async function(n,i){if((function(o){return y7(o)&&o!==ce.ABORTED})(i.code)){const a=n.Pa.shift();es(n).N_(),await l3(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await hy(n)}})(t,e),u3(t)&&c3(t)}async function yO(t,e){const r=We(t);r.asyncQueue.verifyOperationInProgress(),Te(ol,"RemoteStore received new credentials");const n=ml(r);r.Ia.add(3),await ch(r),n&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await fy(r)}async function DW(t,e){const r=We(t);e?(r.Ia.delete(2),await fy(r)):e||(r.Ia.add(2),await ch(r),r.Aa.set("Unknown"))}function wc(t){return t.Va||(t.Va=(function(r,n,i){const a=We(r);return a.ia(),new xW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:AW.bind(null,t),e_:PW.bind(null,t),n_:IW.bind(null,t),J_:kW.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),YE(t)?XE(t):t.Aa.set("Unknown")):(await t.Va.stop(),s3(t))}))),t.Va}function es(t){return t.ma||(t.ma=(function(r,n,i){const a=We(r);return a.ia(),new _W(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:jW.bind(null,t),n_:MW.bind(null,t),ea:NW.bind(null,t),ta:RW.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await hy(t)):(await t.ma.stop(),t.Pa.length>0&&(Te(ol,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,u=new QE(e,r,o,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JE(t,e){if(Ua("AsyncQueue",`${e}: ${t}`),xc(t))return new Se(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{static emptySet(e){return new Au(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Me.comparator(r.key,n.key):(r,n)=>Me.comparator(r.key,n.key),this.keyedMap=$d(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Au)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Au;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.fa=new Ft(Me.comparator)}track(e){const r=e.doc.key,n=this.fa.get(r);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(r,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(r):e.type===1&&n.type===2?this.fa=this.fa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):Fe(63341,{At:e,ga:n}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Bu{constructor(e,r,n,i,a,o,u,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((u=>{o.push({type:0,doc:u})})),new Bu(e,r,Au.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ay(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class $W{constructor(){this.queries=bO(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,n){const i=We(r),a=i.queries;i.queries=bO(),a.forEach(((o,u)=>{for(const c of u.wa)c.onError(n)}))})(this,new Se(ce.ABORTED,"Firestore shutting down"))}}function bO(){return new pl((t=>O4(t)),ay)}async function ZE(t,e){const r=We(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.ba()&&(n=2):(a=new LW,n=e.ba()?0:1);try{switch(n){case 0:a.ya=await r.onListen(i,!0);break;case 1:a.ya=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const u=JE(o,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.wa.push(e),e.va(r.onlineState),a.ya&&e.Ca(a.ya)&&tT(r)}async function eT(t,e){const r=We(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.wa.indexOf(e);o>=0&&(a.wa.splice(o,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function VW(t,e){const r=We(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const u of o.wa)u.Ca(i)&&(n=!0);o.ya=i}}n&&tT(r)}function FW(t,e,r){const n=We(t),i=n.queries.get(e);if(i)for(const a of i.wa)a.onError(r);n.queries.delete(e)}function tT(t){t.Da.forEach((e=>{e.next()}))}var D1,xO;(xO=D1||(D1={})).Fa="default",xO.Cache="cache";class rT{constructor(e,r,n){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Bu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const n=r!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==D1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.key=e}}class f3{constructor(e){this.key=e}}class BW{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=et(),this.mutatedKeys=et(),this.Xa=C4(e),this.eu=new Au(this.Xa)}get tu(){return this.Ha}nu(e,r){const n=r?r.ru:new vO,i=r?r.eu:this.eu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const y=i.get(h),x=oy(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?S!==_&&(n.track({type:3,doc:x}),b=!0):this.iu(y,x)||(n.track({type:2,doc:x}),b=!0,(c&&this.Xa(x,c)>0||d&&this.Xa(x,d)<0)&&(u=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(c||d)&&(u=!0)),b&&(x?(o=o.add(x),a=_?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{eu:o,ru:n,Ds:u,mutatedKeys:a}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((h,p)=>(function(x,S){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{At:b})}};return _(x)-_(S)})(h.type,p.type)||this.Xa(h.doc,p.doc))),this.su(n),i=i!=null&&i;const u=r&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,d=c!==this.Ya;return this.Ya=c,o.length!==0||d?{snapshot:new Bu(this.query,e.eu,a,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vO,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=et(),this.eu.forEach((n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))}));const r=[];return e.forEach((n=>{this.Za.has(n)||r.push(new f3(n))})),this.Za.forEach((n=>{e.has(n)||r.push(new d3(n))})),r}uu(e){this.Ha=e.qs,this.Za=et();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Bu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const nT="SyncEngine";class UW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class zW{constructor(e){this.key=e,this.lu=!1}}class qW{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new pl((u=>O4(u)),ay),this.Tu=new Map,this.Iu=new Set,this.du=new Ft(Me.comparator),this.Eu=new Map,this.Au=new zE,this.Ru={},this.Vu=new Map,this.mu=Fu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function WW(t,e,r=!0){const n=v3(t);let i;const a=n.Pu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await h3(n,e,r,!0),i}async function HW(t,e){const r=v3(t);await h3(r,e,!0,!1)}async function h3(t,e,r,n){const i=await fW(t.localStore,Hi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await GW(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&a3(t.remoteStore,i),u}async function GW(t,e,r,n,i){t.gu=(p,y,x)=>(async function(_,b,E,P){let k=b.view.nu(E);k.Ds&&(k=await fO(_.localStore,b.query,!1).then((({documents:I})=>b.view.nu(I,k))));const R=P&&P.targetChanges.get(b.targetId),O=P&&P.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(k,_.isPrimaryClient,R,O);return wO(_,b.targetId,j._u),j.snapshot})(t,p,y,x);const a=await fO(t.localStore,e,!0),o=new BW(e,a.qs),u=o.nu(a.documents),c=uh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,c);wO(t,r,d._u);const h=new UW(e,r,o);return t.Pu.set(e,h),t.Tu.has(r)?t.Tu.get(r).push(e):t.Tu.set(r,[e]),d.snapshot}async function KW(t,e,r){const n=We(t),i=n.Pu.get(e),a=n.Tu.get(i.targetId);if(a.length>1)return n.Tu.set(i.targetId,a.filter((o=>!ay(o,e)))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await R1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&GE(n.remoteStore,i.targetId),L1(n,i.targetId)})).catch(bc)):(L1(n,i.targetId),await R1(n.localStore,i.targetId,!0))}async function XW(t,e){const r=We(t),n=r.Pu.get(e),i=r.Tu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),GE(r.remoteStore,n.targetId))}async function YW(t,e,r){const n=nH(t);try{const i=await(function(o,u){const c=We(o),d=Ot.now(),h=u.reduce(((x,S)=>x.add(S.key)),et());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=za(),_=et();return c.Os.getEntries(x,h).next((b=>{S=b,S.forEach(((E,P)=>{P.isValidDocument()||(_=_.add(E))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,S))).next((b=>{p=b;const E=[];for(const P of u){const k=f7(P,p.get(P.key).overlayedDocument);k!=null&&E.push(new is(P.key,k,w4(k.value.mapValue),Qr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,E,u)})).next((b=>{y=b;const E=b.applyToLocalDocumentSet(p,_);return c.documentOverlayCache.saveOverlays(x,b.batchId,E)}))})).then((()=>({batchId:y.batchId,changes:N4(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,u,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new Ft(Xe)),d=d.insert(u,c),o.Ru[o.currentUser.toKey()]=d})(n,i.batchId,r),await dh(n,i.changes),await hy(n.remoteStore)}catch(i){const a=JE(i,"Failed to persist write");r.reject(a)}}async function p3(t,e){const r=We(t);try{const n=await uW(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Eu.get(a);o&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?ft(o.lu,14607):i.removedDocuments.size>0&&(ft(o.lu,42227),o.lu=!1))})),await dh(r,n,e)}catch(n){await bc(n)}}function _O(t,e,r){const n=We(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Pu.forEach(((a,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const c=We(o);c.onlineState=u;let d=!1;c.queries.forEach(((h,p)=>{for(const y of p.wa)y.va(u)&&(d=!0)})),d&&tT(c)})(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function QW(t,e,r){const n=We(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),a=i&&i.key;if(a){let o=new Ft(Me.comparator);o=o.insert(a,Ur.newNoDocument(a,qe.min()));const u=et().add(a),c=new cy(qe.min(),new Map,new Ft(Xe),o,u);await p3(n,c),n.du=n.du.remove(a),n.Eu.delete(e),iT(n)}else await R1(n.localStore,e,!1).then((()=>L1(n,e,r))).catch(bc)}async function JW(t,e){const r=We(t),n=e.batch.batchId;try{const i=await lW(r.localStore,e);g3(r,n,null),m3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await dh(r,i)}catch(i){await bc(i)}}async function ZW(t,e,r){const n=We(t);try{const i=await(function(o,u){const c=We(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return c.mutationQueue.lookupMutationBatch(d,u).next((p=>(ft(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>c.localDocuments.getDocuments(d,h)))}))})(n.localStore,e);g3(n,e,r),m3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await dh(n,i)}catch(i){await bc(i)}}function m3(t,e){(t.Vu.get(e)||[]).forEach((r=>{r.resolve()})),t.Vu.delete(e)}function g3(t,e,r){const n=We(t);let i=n.Ru[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function L1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Tu.get(e))t.Pu.delete(n),r&&t.hu.pu(n,r);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((n=>{t.Au.containsKey(n)||y3(t,n)}))}function y3(t,e){t.Iu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(GE(t.remoteStore,r),t.du=t.du.remove(e),t.Eu.delete(r),iT(t))}function wO(t,e,r){for(const n of r)n instanceof d3?(t.Au.addReference(n.key,e),eH(t,n)):n instanceof f3?(Te(nT,"Document no longer in limbo: "+n.key),t.Au.removeReference(n.key,e),t.Au.containsKey(n.key)||y3(t,n.key)):Fe(19791,{yu:n})}function eH(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Iu.has(n)||(Te(nT,"New document in limbo: "+r),t.Iu.add(n),iT(t))}function iT(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const r=new Me(Et.fromString(e)),n=t.mu.next();t.Eu.set(n,new zW(r)),t.du=t.du.insert(r,n),a3(t.remoteStore,new Vo(Hi(iy(r.path)),n,"TargetPurposeLimboResolution",ty.ue))}}async function dh(t,e,r){const n=We(t),i=[],a=[],o=[];n.Pu.isEmpty()||(n.Pu.forEach(((u,c)=>{o.push(n.gu(c,e,r).then((d=>{var h;if((d||r)&&n.isPrimaryClient){const p=d?!d.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){i.push(d);const p=WE.Es(c.targetId,d);a.push(p)}})))})),await Promise.all(o),n.hu.J_(i),await(async function(c,d){const h=We(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>he.forEach(d,(y=>he.forEach(y.Is,(x=>h.persistence.referenceDelegate.addReference(p,y.targetId,x))).next((()=>he.forEach(y.ds,(x=>h.persistence.referenceDelegate.removeReference(p,y.targetId,x)))))))))}catch(p){if(!xc(p))throw p;Te(HE,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const x=h.Fs.get(y),S=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(y,_)}}})(n.localStore,a))}async function tH(t,e){const r=We(t);if(!r.currentUser.isEqual(e)){Te(nT,"User change. New user:",e.toKey());const n=await t3(r.localStore,e);r.currentUser=e,(function(a,o){a.Vu.forEach((u=>{u.forEach((c=>{c.reject(new Se(ce.CANCELLED,o))}))})),a.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await dh(r,n.Bs)}}function rH(t,e){const r=We(t),n=r.Eu.get(e);if(n&&n.lu)return et().add(n.key);{let i=et();const a=r.Tu.get(e);if(!a)return i;for(const o of a){const u=r.Pu.get(o);i=i.unionWith(u.view.tu)}return i}}function v3(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QW.bind(null,e),e.hu.J_=VW.bind(null,e.eventManager),e.hu.pu=FW.bind(null,e.eventManager),e}function nH(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZW.bind(null,e),e}class Um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return sW(this.persistence,new iW,e.initialUser,this.serializer)}Du(e){return new e3(qE.Vi,this.serializer)}bu(e){return new pW}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Um.provider={build:()=>new Um};class iH extends Um{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){ft(this.persistence.referenceDelegate instanceof Fm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new z7(n,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new e3((n=>Fm.Vi(n,r)),this.serializer)}}class $1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>_O(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=tH.bind(null,this.syncEngine),await DW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $W})()}createDatastore(e){const r=dy(e.databaseInfo.databaseId),n=(function(a){return new bW(a)})(e.databaseInfo);return(function(a,o,u,c){return new SW(a,o,u,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,u){return new TW(n,i,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>_O(this.syncEngine,r,0)),(function(){return mO.C()?new mO:new mW})())}createSyncEngine(e,r){return(function(i,a,o,u,c,d,h){const p=new qW(i,a,o,u,c,d);return h&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=We(i);Te(ol,"RemoteStore shutting down."),a.Ia.add(5),await ch(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}$1.provider={build:()=>new $1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ua("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class aH{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=NE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{Te(ts,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Te(ts,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=JE(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Xb(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ts,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await t3(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>{Xo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{Te("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{Xo("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function SO(t,e){t.asyncQueue.verifyOperationInProgress();const r=await oH(t);Te(ts,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>yO(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>yO(e.remoteStore,i))),t._onlineComponents=e}async function oH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ts,"Using user provided OfflineComponentProvider");try{await Xb(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Xo("Error using user provided cache. Falling back to memory cache: "+r),await Xb(t,new Um)}}else Te(ts,"Using default OfflineComponentProvider"),await Xb(t,new iH(void 0));return t._offlineComponents}async function b3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ts,"Using user provided OnlineComponentProvider"),await SO(t,t._uninitializedComponentsProvider._online)):(Te(ts,"Using default OnlineComponentProvider"),await SO(t,new $1))),t._onlineComponents}function sH(t){return b3(t).then((e=>e.syncEngine))}async function zm(t){const e=await b3(t),r=e.eventManager;return r.onListen=WW.bind(null,e.syncEngine),r.onUnlisten=KW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=HW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=XW.bind(null,e.syncEngine),r}function lH(t,e,r={}){const n=new Ma;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,c,d){const h=new aT({next:y=>{h.Ou(),o.enqueueAndForget((()=>eT(a,p)));const x=y.docs.has(u);!x&&y.fromCache?d.reject(new Se(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&c&&c.source==="server"?d.reject(new Se(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new rT(iy(u.path),h,{includeMetadataChanges:!0,ka:!0});return ZE(a,p)})(await zm(t),t.asyncQueue,e,r,n))),n.promise}function uH(t,e,r={}){const n=new Ma;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,c,d){const h=new aT({next:y=>{h.Ou(),o.enqueueAndForget((()=>eT(a,p))),y.fromCache&&c.source==="server"?d.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new rT(u,h,{includeMetadataChanges:!0,ka:!0});return ZE(a,p)})(await zm(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="firestore.googleapis.com",TO=!0;class AO{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_3,this.ssl=TO}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:TO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B7)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class py{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new y8;switch(n.type){case"firstParty":return new _8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=EO.get(r);n&&(Te("ComponentProvider","Removing Datastore"),EO.delete(r),n.terminate())})(this),Promise.resolve()}}function cH(t,e,r,n={}){var i;t=Yr(t,py);const a=gc(e),o=t._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;a&&(pL(`https://${c}`),mL("Firestore",!0)),o.host!==_3&&o.host!==c&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:n});if(!Va(d,u)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Br.MOCK_USER;else{h=xU(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Br(y)}t._authCredentials=new v8(new u4(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class zt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(sh(r,zt._jsonSchema))return new zt(e,n||null,new Me(Et.fromString(r.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Zt("string",zt._jsonSchemaVersion),referencePath:Zt("string")};class Ho extends as{constructor(e,r,n){super(e,r,iy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Me(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function On(t,e,...r){if(t=Dt(t),d4("collection","path",e),t instanceof py){const n=Et.fromString(e,...r);return Vk(n),new Ho(t,null,n)}{if(!(t instanceof zt||t instanceof Ho))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Et.fromString(e,...r));return Vk(n),new Ho(t.firestore,null,n)}}function hn(t,e,...r){if(t=Dt(t),arguments.length===1&&(e=NE.newId()),d4("doc","path",e),t instanceof py){const n=Et.fromString(e,...r);return $k(n),new zt(t,null,new Me(n))}{if(!(t instanceof zt||t instanceof Ho))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Et.fromString(e,...r));return $k(n),new zt(t.firestore,t instanceof Ho?t.converter:null,new Me(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="AsyncQueue";class IO{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new n3(this,"async_queue_retry"),this.oc=()=>{const n=Kb();n&&Te(PO,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const r=Kb();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=Kb();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Ma;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xc(e))throw e;Te(PO,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((n=>{throw this.tc=n,this.nc=!1,Ua("INTERNAL UNHANDLED ERROR: ",kO(n)),n})).then((n=>(this.nc=!1,n))))));return this._c=r,r}enqueueAfterDelay(e,r,n){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const i=QE.createAndSchedule(this,e,r,n,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&Fe(47125,{hc:kO(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function kO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ea extends py{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new IO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IO(e),this._firestoreClient=void 0,await e}}}function dH(t,e){const r=typeof t=="object"?t:bL(),n=typeof t=="string"?t:Rm,i=xE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=vU("firestore");a&&cH(i,...a)}return i}function fh(t){if(t._terminated)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fH(t),t._firestoreClient}function fH(t){var e,r,n;const i=t._freezeSettings(),a=(function(u,c,d,h){return new L8(u,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,x3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new aH(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Nr.fromBase64String(e))}catch(r){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Hn(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sh(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Zt("string",Hn._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(sh(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Zt("string",Ki._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sh(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Xi(e.vectorValues);throw new Se(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Zt("string",Xi._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=/^__.*__$/;class pH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,r,this.fieldTransforms):new lh(e,this.data,r,this.fieldTransforms)}}class w3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new is(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function S3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ec:t})}}class my{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return qm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(S3(this.Ec)&&hH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class mH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||dy(e)}Dc(e,r,n,i=!1){return new my({Ec:e,methodName:r,bc:n,path:jr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mh(t){const e=t._freezeSettings(),r=dy(t._databaseId);return new mH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function oT(t,e,r,n,i,a={}){const o=t.Dc(a.merge||a.mergeFields?2:0,e,r,i);uT("Data must be an object, but it was:",o,n);const u=P3(n,o);let c,d;if(a.merge)c=new kn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const y=V1(e,p,r);if(!o.contains(y))throw new Se(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);k3(h,y)||h.push(y)}c=new kn(h),d=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=o.fieldTransforms;return new pH(new cn(u),c,d)}class gy extends ph{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gy}}function E3(t,e,r){return new my({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sT extends ph{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=E3(this,e,!0),n=this.vc.map((a=>gl(a,r))),i=new $u(n);return new F4(e.path,i)}isEqual(e){return e instanceof sT&&Va(this.vc,e.vc)}}class lT extends ph{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=E3(this,e,!0),n=this.vc.map((a=>gl(a,r))),i=new Vu(n);return new F4(e.path,i)}isEqual(e){return e instanceof lT&&Va(this.vc,e.vc)}}function T3(t,e,r,n){const i=t.Dc(1,e,r);uT("Data must be an object, but it was:",i,n);const a=[],o=cn.empty();ns(n,((c,d)=>{const h=cT(e,c,r);d=Dt(d);const p=i.gc(h);if(d instanceof gy)a.push(h);else{const y=gl(d,p);y!=null&&(a.push(h),o.set(h,y))}}));const u=new kn(a);return new w3(o,u,i.fieldTransforms)}function A3(t,e,r,n,i,a){const o=t.Dc(1,e,r),u=[V1(e,n,r)],c=[i];if(a.length%2!=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(V1(e,a[y])),c.push(a[y+1]);const d=[],h=cn.empty();for(let y=u.length-1;y>=0;--y)if(!k3(d,u[y])){const x=u[y];let S=c[y];S=Dt(S);const _=o.gc(x);if(S instanceof gy)d.push(x);else{const b=gl(S,_);b!=null&&(d.push(x),h.set(x,b))}}const p=new kn(d);return new w3(h,p,o.fieldTransforms)}function gH(t,e,r,n=!1){return gl(r,t.Dc(n?4:3,e))}function gl(t,e){if(I3(t=Dt(t)))return uT("Unsupported field value:",e,t),P3(t,e);if(t instanceof ph)return(function(n,i){if(!S3(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const u of n){let c=gl(u,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return o7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ot.fromDate(n);return{timestampValue:Vm(i.serializer,a)}}if(n instanceof Ot){const a=new Ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vm(i.serializer,a)}}if(n instanceof Ki)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hn)return{bytesValue:H4(i.serializer,n._byteString)};if(n instanceof zt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:UE(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Xi)return(function(o,u){return{mapValue:{fields:{[x4]:{stringValue:_4},[Mm]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw u.wc("VectorValues must only contain numeric values.");return VE(u.serializer,d)}))}}}}}})(n,i);throw i.wc(`Unsupported field value: ${ey(n)}`)})(t,e)}function P3(t,e){const r={};return p4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(t,((n,i)=>{const a=gl(i,e.Vc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function I3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Ki||t instanceof Hn||t instanceof zt||t instanceof ph||t instanceof Xi)}function uT(t,e,r){if(!I3(r)||!f4(r)){const n=ey(r);throw n==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+n)}}function V1(t,e,r){if((e=Dt(e))instanceof hh)return e._internalPath;if(typeof e=="string")return cT(t,e);throw qm("Field path arguments must be of type string or ",t,!1,void 0,r)}const yH=new RegExp("[~\\*/\\[\\]]");function cT(t,e,r){if(e.search(yH)>=0)throw qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new hh(...e.split("."))._internalPath}catch{throw qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function qm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new Se(ce.INVALID_ARGUMENT,u+t+c)}function k3(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class vH extends O3{data(){return super.data()}}function yy(t,e){return typeof e=="string"?cT(t,e):e instanceof hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dT{}class j3 extends dT{}function _r(t,e,...r){let n=[];e instanceof dT&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((c=>c instanceof fT)).length,u=a.filter((c=>c instanceof vy)).length;if(o>1||o>0&&u>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class vy extends j3{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new vy(e,r,n)}_apply(e){const r=this._parse(e);return R3(e._query,r),new as(e.firestore,e.converter,I1(e._query,r))}_parse(e){const r=mh(e.firestore);return(function(a,o,u,c,d,h,p){let y;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){jO(p,h);const S=[];for(const _ of p)S.push(CO(c,a,_));y={arrayValue:{values:S}}}else y=CO(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||jO(p,h),y=gH(u,o,p,h==="in"||h==="not-in");return Jt.create(d,h,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Nt(t,e,r){const n=e,i=yy("where",t);return vy._create(i,n,r)}class fT extends dT{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new fT(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Ei.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const u=a.getFlattenedFilters();for(const c of u)R3(o,c),o=I1(o,c)})(e._query,r),new as(e.firestore,e.converter,I1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hT extends j3{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new hT(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gf(a,o)})(e._query,this._field,this._direction);return new as(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new _c(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function N3(t,e="asc"){const r=e,n=yy("orderBy",t);return hT._create(n,r)}function CO(t,e,r){if(typeof(r=Dt(r))=="string"){if(r==="")throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k4(e)&&r.indexOf("/")!==-1)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Et.fromString(r));if(!Me.isDocumentKey(n))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Gk(t,new Me(n))}if(r instanceof zt)return Gk(t,r._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ey(r)}.`)}function jO(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R3(t,e){const r=(function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class bH{convertValue(e,r="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ns(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Mm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((o=>Ht(o.doubleValue)));return new Xi(a)}convertGeoPoint(e){return new Ki(Ht(e.latitude),Ht(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=ny(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const r=Qo(e);return new Ot(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Et.fromString(e);ft(J4(n),9688,{name:e});const i=new pf(n.get(1),n.get(3)),a=new Me(n.popFirst(5));return i.isEqual(r)||Ua(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Fd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends O3{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Qs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Zt("string",Qs._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class wm extends Qs{data(e={}){return super.data(e)}}class Js{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Fd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new wm(this._firestore,this._userDataWriter,n.key,n,new Fd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const c=new wm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const c=new wm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),h=o.indexOf(u.doc.key)),{type:xH(u.type),doc:c,oldIndex:d,newIndex:h}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=NE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){t=Yr(t,zt);const e=Yr(t.firestore,ea);return lH(fh(e),t._key).then((r=>M3(e,t,r)))}Js._jsonSchemaVersion="firestore/querySnapshot/1.0",Js._jsonSchema={type:Zt("string",Js._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class mT extends bH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,r)}}function Uu(t){t=Yr(t,as);const e=Yr(t.firestore,ea),r=fh(e),n=new mT(e);return C3(t._query),uH(r,t._query).then((i=>new Js(e,n,t,i)))}function Ti(t,e,r){t=Yr(t,zt);const n=Yr(t.firestore,ea),i=pT(t.converter,e,r);return gh(n,[oT(mh(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Qr.none())])}function dt(t,e,r,...n){t=Yr(t,zt);const i=Yr(t.firestore,ea),a=mh(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof hh?A3(a,"updateDoc",t._key,e,r,n):T3(a,"updateDoc",t._key,e),gh(i,[o.toMutation(t._key,Qr.exists(!0))])}function _H(t){return gh(Yr(t.firestore,ea),[new uy(t._key,Qr.none())])}function Yi(t,e){const r=Yr(t.firestore,ea),n=hn(t),i=pT(t.converter,e);return gh(r,[oT(mh(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Qr.exists(!1))]).then((()=>n))}function xr(t,...e){var r,n,i;t=Dt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||OO(e[o])||(a=e[o++]);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(OO(e[o])){const p=e[o];e[o]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[o+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,d,h;if(t instanceof zt)d=Yr(t.firestore,ea),h=iy(t._key.path),c={next:p=>{e[o]&&e[o](M3(d,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Yr(t,as);d=Yr(p.firestore,ea),h=p._query;const y=new mT(d);c={next:x=>{e[o]&&e[o](new Js(d,y,p,x))},error:e[o+1],complete:e[o+2]},C3(t._query)}return(function(y,x,S,_){const b=new aT(_),E=new rT(x,b,S);return y.asyncQueue.enqueueAndForget((async()=>ZE(await zm(y),E))),()=>{b.Ou(),y.asyncQueue.enqueueAndForget((async()=>eT(await zm(y),E)))}})(fh(d),h,u,c)}function gh(t,e){return(function(n,i){const a=new Ma;return n.asyncQueue.enqueueAndForget((async()=>YW(await sH(n),i,a))),a.promise})(fh(t),e)}function M3(t,e,r){const n=r.docs.get(e._key),i=new mT(t);return new Qs(t,i,e._key,n,new Fd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=mh(e)}set(e,r,n){this._verifyNotCommitted();const i=Yb(e,this._firestore),a=pT(i.converter,r,n),o=oT(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,Qr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Yb(e,this._firestore);let o;return o=typeof(r=Dt(r))=="string"||r instanceof hh?A3(this._dataReader,"WriteBatch.update",a._key,r,n,i):T3(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,Qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Yb(e,this._firestore);return this._mutations=this._mutations.concat(new uy(r._key,Qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yb(t,e){if((t=Dt(t)).firestore!==e)throw new Se(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Bd(...t){return new sT("arrayUnion",t)}function Ud(...t){return new lT("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){return fh(t=Yr(t,ea)),new wH(t,(e=>gh(t,e)))}(function(e,r=!0){(function(i){vc=i})(yc),Nu(new rl("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),u=new ea(new b8(n.getProvider("auth-internal")),new w8(o,n.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(d.options.projectId,h)})(o,i),o);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),qo(Nk,Rk,e),qo(Nk,Rk,"esm2017")})();const SH={apiKey:"AIzaSyCe85WvMIdGqpB4fQ-5l4c46fikr-EwO5s",authDomain:"sarasva-e25dd.firebaseapp.com",projectId:"sarasva-e25dd",storageBucket:"sarasva-e25dd.firebasestorage.app",messagingSenderId:"1033167676784",appId:"1:1033167676784:web:9134c434cc4716434ddbb5"},D3=vL(SH),ln=h8(D3),pt=dH(D3);function cr(t,e){return On(pt,"users",t,e)}function lt(t,e,r){return hn(pt,"users",t,e,r)}async function cu(t,{name:e,course:r}){const n=e??"";await Ti(hn(pt,"publicProfiles",t),{name:n,nameLower:n.toLowerCase(),course:r??"",uid:t},{merge:!0})}const Us={focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0};function gi(t){return hn(pt,"users",t,"profile","data")}function du(t,e={}){return{id:t.uid,name:e.name??t.displayName??"",email:t.email,course:e.course??"",semester:e.semester??"",institute:e.institute??"",settings:e.settings??Us,notificationsEmail:e.notificationsEmail??!1}}const bi={async register({name:t,email:e,password:r,course:n="",semester:i=""}){const a=await Xq(ln,e,r);await wk(a.user,{displayName:t});const o={name:t,course:n,semester:i,institute:"",settings:Us};return await Ti(gi(a.user.uid),o),await cu(a.user.uid,{name:t,course:n}),du(a.user,o)},async loginWithGoogle(){const t=new Ui,e=await _9(ln,t),r=await Wn(gi(e.user.uid));if(!r.exists()){const i={name:e.user.displayName??"",course:"",semester:"",settings:Us};return await Ti(gi(e.user.uid),i),await cu(e.user.uid,{name:i.name,course:""}),du(e.user,i)}const n=r.data();return cu(e.user.uid,{name:n.name??e.user.displayName??"",course:n.course??"",institute:n.institute??""}).catch(()=>{}),du(e.user,n)},async login({email:t,password:e}){try{const r=await Yq(ln,t,e),n=await Wn(gi(r.user.uid)),i=n.exists()?n.data():{};return cu(r.user.uid,{name:i.name??r.user.displayName??"",course:i.course??"",institute:i.institute??""}).catch(()=>{}),du(r.user,i)}catch(r){throw r.code==="auth/invalid-credential"||r.code==="auth/wrong-password"?Object.assign(new Error('Incorrect password. If you previously signed in with Google, use "Forgot password?" to set a password for email login.'),{code:r.code}):r}},async linkGoogle(){const t=ln.currentUser;if(!t)throw new Error("Not logged in.");const e=new Ui;await w9(t,e)},async addPassword(t){const e=ln.currentUser;if(!e)throw new Error("Not logged in.");if(!e.email)throw new Error("No email on account.");const r=hl.credential(e.email,t);await Gq(e,r)},async getMe(){const t=ln.currentUser;if(!t)return null;const e=await Wn(gi(t.uid)),r=e.exists()?e.data():{};return cu(t.uid,{name:r.name??t.displayName??"",course:r.course??"",institute:r.institute??""}).catch(()=>{}),du(t,r)},async logout(){await t9(ln)},async resetPassword(t){await Kq(ln,t)},async updateProfile({name:t,course:e,semester:r,institute:n}){const i=ln.currentUser;if(!i)throw new Error("Not logged in.");await wk(i,{displayName:t}),await dt(gi(i.uid),{name:t,course:e,semester:r,institute:n??""}),await cu(i.uid,{name:t,course:e});const a=await Wn(gi(i.uid));return du(i,a.data())},async getSettings(){const t=ln.currentUser;if(!t)return null;const e=await Wn(gi(t.uid));return e.exists()?e.data().settings??Us:Us},async updateSettings(t){const e=ln.currentUser;if(!e)throw new Error("Not logged in.");const r=await Wn(gi(e.uid)),i={...r.exists()?r.data().settings??Us:Us,...t};return await dt(gi(e.uid),{settings:i}),i},async updateNotificationPrefs({notificationsEmail:t}){const e=ln.currentUser;if(!e)throw new Error("Not logged in.");await dt(gi(e.uid),{notificationsEmail:t})}},gT=D.createContext(null);function Cn(){return D.useContext(gT)}function EH({children:t}){const[e,r]=D.useState(null),[n,i]=D.useState(!0);D.useEffect(()=>e9(ln,async p=>{if(p){const y=await bi.getMe();r(y)}else r(null);i(!1)}),[]);const a=D.useCallback(async(h,p)=>{const y=await bi.login({email:h,password:p});return r(y),y},[]),o=D.useCallback(async h=>{const p=await bi.register(h);return r(p),p},[]),u=D.useCallback(async()=>{const h=await bi.loginWithGoogle();return r(h),h},[]),c=D.useCallback(async()=>{await bi.logout(),r(null)},[]),d=D.useCallback(async()=>{const h=await bi.getMe();r(h??null)},[]);return m.jsx(gT.Provider,{value:{user:e,loading:n,login:a,loginWithGoogle:u,register:o,logout:c,refreshUser:d},children:t})}function aa(){const t=D.useContext(gT);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...u},c)=>D.createElement("svg",{ref:c,...AH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:L3("lucide",i),...u},[...o.map(([d,h])=>D.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(PH,{ref:a,iconNode:e,className:L3(`lucide-${TH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=je("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=je("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=je("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=je("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=je("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=je("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=je("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=je("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=je("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=je("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=je("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=je("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=je("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=je("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=je("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=je("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=je("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=je("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=je("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=je("MessageSquareShare",[["path",{d:"M21 12v3a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h7",key:"tqtdkg"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m16 8 5-5",key:"15mbrl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=je("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=je("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=je("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=je("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=je("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=je("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=je("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=je("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=je("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=je("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=je("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=je("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=je("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=je("ZapOff",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function e5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=e5(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ye(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=e5(t))&&(n&&(n+=" "),n+=e);return n}const wT="-",YH=t=>{const e=JH(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const u=o.split(wT);return u[0]===""&&u.length!==1&&u.shift(),t5(u,e)||QH(o)},getConflictingClassGroupIds:(o,u)=>{const c=r[o]||[];return u&&n[o]?[...c,...n[o]]:c}}},t5=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?t5(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(wT);return(o=e.validators.find(({validator:u})=>u(a)))==null?void 0:o.classGroupId},MO=/^\[(.+)\]$/,QH=t=>{if(MO.test(t)){const e=MO.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},JH=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return eG(Object.entries(t.classGroups),r).forEach(([a,o])=>{W1(o,n,a,e)}),n},W1=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:DO(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(ZH(i)){W1(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{W1(o,DO(e,a),r,n)})})},DO=(t,e)=>{let r=t;return e.split(wT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ZH=t=>t.isThemeGetter,eG=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,u])=>[e+o,u])):a);return[r,i]}):t,tG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},r5="!",rG=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=u=>{const c=[];let d=0,h=0,p;for(let b=0;b<u.length;b++){let E=u[b];if(d===0){if(E===i&&(n||u.slice(b,b+a)===e)){c.push(u.slice(h,b)),h=b+a;continue}if(E==="/"){p=b;continue}}E==="["?d++:E==="]"&&d--}const y=c.length===0?u:u.substring(h),x=y.startsWith(r5),S=x?y.substring(1):y,_=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:_}};return r?u=>r({className:u,parseClassName:o}):o},nG=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},iG=t=>({cache:tG(t.cacheSize),parseClassName:rG(t),...YH(t)}),aG=/\s+/,oG=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(aG);let u="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}=r(d);let S=!!x,_=n(S?y.substring(0,x):y);if(!_){if(!S){u=d+(u.length>0?" "+u:u);continue}if(_=n(y),!_){u=d+(u.length>0?" "+u:u);continue}S=!1}const b=nG(h).join(":"),E=p?b+r5:b,P=E+_;if(a.includes(P))continue;a.push(P);const k=i(_,S);for(let R=0;R<k.length;++R){const O=k[R];a.push(E+O)}u=d+(u.length>0?" "+u:u)}return u};function sG(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=n5(e))&&(n&&(n+=" "),n+=r);return n}const n5=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=n5(t[n]))&&(r&&(r+=" "),r+=e);return r};function lG(t,...e){let r,n,i,a=o;function o(c){const d=e.reduce((h,p)=>p(h),t());return r=iG(d),n=r.cache.get,i=r.cache.set,a=u,u(c)}function u(c){const d=n(c);if(d)return d;const h=oG(c,r);return i(c,h),h}return function(){return a(sG.apply(null,arguments))}}const It=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},i5=/^\[(?:([a-z-]+):)?(.+)\]$/i,uG=/^\d+\/\d+$/,cG=new Set(["px","full","screen"]),dG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ea=t=>Pu(t)||cG.has(t)||uG.test(t),Io=t=>Sc(t,"length",SG),Pu=t=>!!t&&!Number.isNaN(Number(t)),Qb=t=>Sc(t,"number",Pu),Sd=t=>!!t&&Number.isInteger(Number(t)),gG=t=>t.endsWith("%")&&Pu(t.slice(0,-1)),Ke=t=>i5.test(t),ko=t=>dG.test(t),yG=new Set(["length","size","percentage"]),vG=t=>Sc(t,yG,a5),bG=t=>Sc(t,"position",a5),xG=new Set(["image","url"]),_G=t=>Sc(t,xG,TG),wG=t=>Sc(t,"",EG),Ed=()=>!0,Sc=(t,e,r)=>{const n=i5.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},SG=t=>fG.test(t)&&!hG.test(t),a5=()=>!1,EG=t=>pG.test(t),TG=t=>mG.test(t),AG=()=>{const t=It("colors"),e=It("spacing"),r=It("blur"),n=It("brightness"),i=It("borderColor"),a=It("borderRadius"),o=It("borderSpacing"),u=It("borderWidth"),c=It("contrast"),d=It("grayscale"),h=It("hueRotate"),p=It("invert"),y=It("gap"),x=It("gradientColorStops"),S=It("gradientColorStopPositions"),_=It("inset"),b=It("margin"),E=It("opacity"),P=It("padding"),k=It("saturate"),R=It("scale"),O=It("sepia"),j=It("skew"),I=It("space"),C=It("translate"),M=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ke,e],$=()=>[Ke,e],L=()=>["",Ea,Io],W=()=>["auto",Pu,Ke],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Ke],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Pu,Ke];return{cacheSize:500,separator:":",theme:{colors:[Ed],spacing:[Ea,Io],blur:["none","",ko,Ke],brightness:q(),borderColor:[t],borderRadius:["none","","full",ko,Ke],borderSpacing:$(),borderWidth:L(),contrast:q(),grayscale:ae(),hueRotate:q(),invert:ae(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[gG,Io],inset:F(),margin:F(),opacity:q(),padding:$(),saturate:q(),scale:q(),sepia:ae(),skew:q(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[ko]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ke]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sd,Ke]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Sd,Ke]}],"grid-cols":[{"grid-cols":[Ed]}],"col-start-end":[{col:["auto",{span:["full",Sd,Ke]},Ke]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Ed]}],"row-start-end":[{row:["auto",{span:[Sd,Ke]},Ke]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[ko]},ko]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ko,Io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qb]}],"font-family":[{font:[Ed]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",Pu,Qb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ea,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ea,Io]}],"underline-offset":[{"underline-offset":["auto",Ea,Ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),bG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_G]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Ea,Ke]}],"outline-w":[{outline:[Ea,Io]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ea,Io]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ko,wG]}],"shadow-color":[{shadow:[Ed]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ko,Ke]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Sd,Ke]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ea,Io,Qb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PG=lG(AG);function Be(...t){return PG(Ye(t))}const IG=[{to:"/dashboard",label:"Dashboard",icon:H3},{to:"/attendance",label:"Attendance",icon:yf},{to:"/timetable",label:"Timetable",icon:yT},{to:"/subjects",label:"Subjects",icon:q1},{to:"/exams",label:"Exams",icon:yl},{to:"/tasks",label:"Tasks",icon:xT},{to:"/calendar",label:"Calendar",icon:by},{to:"/ptp",label:"Study Peers",icon:Jd}];function kG(){const{user:t,logout:e}=aa(),r=na();function n(){e(),r("/login")}return m.jsxs("aside",{className:"hidden lg:flex w-56 flex-shrink-0 flex-col border-r border-border bg-card px-3 py-6",children:[m.jsxs("div",{className:"mb-8 px-3",children:[m.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Sarasva"}),m.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:t==null?void 0:t.name})]}),m.jsx("nav",{className:"flex flex-col gap-1",children:IG.map(({to:i,label:a,icon:o})=>m.jsxs(f1,{to:i,className:({isActive:u})=>Be("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",u?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[m.jsx(o,{size:16}),a]},i))}),m.jsxs("div",{className:"mt-auto flex flex-col gap-1",children:[m.jsxs(f1,{to:"/profile",className:({isActive:i})=>Be("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[m.jsx(q3,{size:16}),"Profile"]}),m.jsxs("button",{onClick:n,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-destructive hover:text-destructive-foreground",children:[m.jsx(K3,{size:16}),"Logout"]})]})]})}const OG=[{to:"/dashboard",label:"Home",icon:H3},{to:"/attendance",label:"Attend",icon:yf},{to:"/exams",label:"Exams",icon:yl},{to:"/tasks",label:"Tasks",icon:xT},{to:"/ptp",label:"Peers",icon:Jd}];function CG(){return m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-16 lg:hidden border-t border-border bg-card",children:OG.map(({to:t,label:e,icon:r})=>m.jsxs(f1,{to:t,className:({isActive:n})=>Be("flex flex-1 flex-col items-center justify-center gap-0.5 text-[10px] font-medium transition-colors",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[m.jsx(r,{size:19}),m.jsx("span",{children:e})]},t))})}function bh({archived:t=!1}={}){const{user:e}=Cn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,u]=D.useState(null);D.useEffect(()=>{if(!e)return;const y=_r(cr(e.id,"subjects"),Nt("archived","==",t));return xr(y,S=>{const _=S.docs.map(b=>({id:b.id,...b.data()})).sort((b,E)=>b.createdAt.localeCompare(E.createdAt));n(_),a(!1)},S=>{u(S.message),a(!1)})},[e,t]);const c=D.useCallback(async y=>{if(e)try{await Yi(cr(e.id,"subjects"),{name:y,archived:!1,createdAt:new Date().toISOString()})}catch(x){u(x.message)}},[e]),d=D.useCallback(async(y,x)=>{if(e)try{await dt(lt(e.id,"subjects",y),x)}catch(S){u(S.message)}},[e]),h=D.useCallback(async y=>{await d(y,{archived:!0})},[d]),p=D.useCallback(()=>{},[]);return{subjects:r,loading:i,error:o,refresh:p,create:c,update:d,archive:h}}function jG(t){const e=Math.round((t.theoryProgress+t.practiceProgress)/2),r=Math.round((100-e)*t.weightage);return{...t,overallProgress:e,priorityScore:r}}function NG(t){return{...t,subjects:(t.subjects??[]).map(e=>({...e,chapters:(e.chapters??[]).map(jG)}))}}const Jb={async create(t,{name:e}){return(await Yi(cr(t,"exams"),{name:e,archived:!1,subjects:[],createdAt:new Date().toISOString()})).id},async update(t,e,r){await dt(lt(t,"exams",e),r)},async archive(t,e){await dt(lt(t,"exams",e),{archived:!0})}};function ST(){const{user:t}=Cn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>{if(!t)return;const _=_r(cr(t.id,"exams"),Nt("archived","==",!1));return xr(_,b=>{const E=b.docs.map(P=>NG({id:P.id,...P.data()})).sort((P,k)=>P.createdAt.localeCompare(k.createdAt));r(E),i(!1)},b=>{o(b.message),i(!1)})},[t]);const u=D.useCallback(async({name:_})=>{if(t)try{await Jb.create(t.id,{name:_})}catch(b){o(b.message)}},[t]),c=D.useCallback(async(_,b)=>{if(t)try{await Jb.update(t.id,_,b)}catch(E){o(E.message)}},[t]),d=D.useCallback(async _=>{if(t)try{await Jb.archive(t.id,_)}catch(b){o(b.message)}},[t]),h=D.useCallback(async(_,b)=>{if(t)try{const E=e.find(k=>k.id===_);if(!E)return;if(E.subjects.find(k=>k.subjectId===b))throw new Error("Subject already added.");const P=[...E.subjects,{subjectId:b,chapters:[]}];await dt(lt(t.id,"exams",_),{subjects:P})}catch(E){o(E.message)}},[t,e]),p=D.useCallback(async(_,b)=>{if(t)try{const E=e.find(k=>k.id===_);if(!E)return;const P=E.subjects.filter(k=>k.subjectId!==b);await dt(lt(t.id,"exams",_),{subjects:P})}catch(E){o(E.message)}},[t,e]),y=D.useCallback(async(_,b,E)=>{if(t)try{const P=e.find(O=>O.id===_);if(!P)return;const k={id:crypto.randomUUID(),name:E.name,theoryProgress:E.theoryProgress??0,practiceProgress:E.practiceProgress??0,weightage:E.weightage??1},R=P.subjects.map(O=>O.subjectId===b?{...O,chapters:[...O.chapters,k]}:O);await dt(lt(t.id,"exams",_),{subjects:R})}catch(P){o(P.message)}},[t,e]),x=D.useCallback(async(_,b,E,P)=>{if(t)try{const k=e.find(O=>O.id===_);if(!k)return;const R=k.subjects.map(O=>O.subjectId===b?{...O,chapters:O.chapters.map(j=>j.id===E?{...j,...P}:j)}:O);await dt(lt(t.id,"exams",_),{subjects:R})}catch(k){o(k.message)}},[t,e]),S=D.useCallback(async(_,b,E)=>{if(t)try{const P=e.find(R=>R.id===_);if(!P)return;const k=P.subjects.map(R=>R.subjectId===b?{...R,chapters:R.chapters.filter(O=>O.id!==E)}:R);await dt(lt(t.id,"exams",_),{subjects:k})}catch(P){o(P.message)}},[t,e]);return{exams:e,loading:n,error:a,create:u,update:c,archive:d,addSubject:h,removeSubject:p,addChapter:y,updateChapter:x,deleteChapter:S}}function RG({open:t,onClose:e}){const[r,n]=D.useState(!1),[i,a]=D.useState(""),[o,u]=D.useState(""),[c,d]=D.useState(!1),[h,p]=D.useState(""),{create:y}=bh({archived:!1}),{create:x}=ST(),S=na();async function _(R){if(R.preventDefault(),!!i.trim()){u("");try{await y(i.trim()),a(""),n(!1)}catch(O){u(O.message)}}}async function b(R){R.preventDefault(),h.trim()&&(await x({name:h.trim()}),p(""),d(!1))}function E(R){S(R),e()}function P(){n(R=>!R),d(!1),u("")}function k(){d(R=>!R),n(!1)}return m.jsxs(m.Fragment,{children:[t&&m.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:e}),m.jsxs("div",{className:`fixed top-0 left-0 z-50 h-full w-72 bg-card shadow-2xl transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-4",children:[m.jsx("h2",{className:"text-base font-bold tracking-tight",children:"Quick Actions"}),m.jsx("button",{onClick:e,className:"rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground",children:m.jsx(Kn,{size:18})})]}),m.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto p-4 h-[calc(100%-61px)]",children:[m.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[m.jsxs("button",{onClick:P,className:"flex w-full items-center gap-3",children:[m.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:m.jsx(q1,{size:15,className:"text-primary"})}),m.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add Subject"}),m.jsx(Rr,{size:15,className:`text-primary transition-transform duration-200 ${r?"rotate-45":""}`})]}),r&&m.jsxs("form",{onSubmit:_,className:"mt-3 flex flex-col gap-2",children:[m.jsx("input",{autoFocus:!0,value:i,onChange:R=>a(R.target.value),placeholder:"e.g. Mathematics",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),o&&m.jsx("p",{className:"text-xs text-destructive",children:o}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),m.jsx("button",{type:"button",onClick:()=>{n(!1),a("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[m.jsxs("button",{onClick:k,className:"flex w-full items-center gap-3",children:[m.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:m.jsx(vT,{size:15,className:"text-primary"})}),m.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Add New Exam"}),m.jsx(Rr,{size:15,className:`text-primary transition-transform duration-200 ${c?"rotate-45":""}`})]}),c&&m.jsxs("form",{onSubmit:b,className:"mt-3 flex flex-col gap-2",children:[m.jsx("input",{autoFocus:!0,value:h,onChange:R=>p(R.target.value),placeholder:"e.g. Mid-term 2026",className:"w-full rounded-lg border border-border bg-card px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary py-1.5 text-xs font-medium text-primary-foreground",children:"Add"}),m.jsx("button",{type:"button",onClick:()=>{d(!1),p("")},className:"rounded-lg border border-border px-3 py-1.5 text-xs text-muted-foreground",children:"Cancel"})]})]})]}),m.jsx("div",{className:"my-1 border-t border-border"}),m.jsxs("button",{onClick:()=>E("/calendar"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[m.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:m.jsx(by,{size:15,className:"text-primary"})}),m.jsx("span",{className:"text-sm font-medium",children:"Task Calendar"})]}),m.jsxs("button",{onClick:()=>E("/subjects"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[m.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:m.jsx(q1,{size:15,className:"text-primary"})}),m.jsx("span",{className:"text-sm font-medium",children:"Manage Subjects"})]}),m.jsxs("button",{onClick:()=>E("/timetable"),className:"flex w-full items-center gap-3 rounded-xl border border-border bg-background p-3 hover:bg-accent transition-colors",children:[m.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:m.jsx(yT,{size:15,className:"text-primary"})}),m.jsx("span",{className:"text-sm font-medium",children:"Schedule / Timetable"})]})]})]})]})}function MG(){const{user:t}=aa(),[e,r]=D.useState(!1);return m.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[m.jsx(kG,{}),m.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[m.jsxs("header",{className:"flex lg:hidden shrink-0 items-center justify-between border-b border-border bg-card px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>r(!0),className:"-ml-1 rounded-lg p-1 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Open quick actions",children:m.jsx(LH,{size:20})}),m.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Sarasva"})]}),m.jsx(Gn,{to:"/profile",className:"text-muted-foreground hover:text-foreground",title:"Profile",children:m.jsx(q3,{size:22})})]}),m.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-20 lg:p-6 lg:pb-6",children:m.jsx(oL,{})})]}),m.jsx(CG,{}),m.jsx(RG,{open:e,onClose:()=>r(!1)})]})}function DG(){const{user:t}=aa();return t?m.jsx(oL,{}):m.jsx(c1,{to:"/login",replace:!0})}function LG(){var k;const{login:t,loginWithGoogle:e,user:r}=aa(),n=na(),i=fl(),[a,o]=D.useState({email:"",password:""}),[u,c]=D.useState(""),[d,h]=D.useState(""),[p,y]=D.useState(!1),[x,S]=D.useState(!1);if(r)return n(((k=i.state)==null?void 0:k.from)||"/dashboard",{replace:!0}),null;function _(R){o(O=>({...O,[R.target.name]:R.target.value}))}async function b(R){var O;R.preventDefault(),c(""),h(""),y(!0);try{await t(a.email,a.password),n(((O=i.state)==null?void 0:O.from)||"/dashboard",{replace:!0})}catch(j){c(j.message||"Login failed. Please try again.")}finally{y(!1)}}async function E(){var R;c(""),h(""),S(!0);try{await e(),n(((R=i.state)==null?void 0:R.from)||"/dashboard",{replace:!0})}catch(O){O.code!=="auth/popup-closed-by-user"&&c(O.message||"Google sign-in failed. Please try again.")}finally{S(!1)}}async function P(){if(!a.email){c("Please enter your email address to reset your password.");return}c(""),h("");try{await bi.resetPassword(a.email),h("Password reset email sent. Please check your inbox.")}catch(R){c(R.message||"Failed to send reset email.")}}return m.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:m.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),m.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Sign in to your account"})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[u&&m.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:u}),d&&m.jsx("div",{className:"rounded-md bg-green-500/10 px-3 py-2 text-sm text-green-600",children:d}),m.jsxs("button",{type:"button",onClick:E,disabled:x||p,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),m.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),m.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),m.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),x?"Signing in...":"Continue with Google"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-px flex-1 bg-border"}),m.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),m.jsx("div",{className:"h-px flex-1 bg-border"})]}),m.jsxs("form",{onSubmit:b,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:_,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),m.jsx("button",{type:"button",onClick:P,className:"text-xs text-muted-foreground hover:text-primary hover:underline",children:"Forgot password?"})]}),m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:_,placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none ring-offset-background placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),m.jsx("button",{type:"submit",disabled:p||x,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:p?"Signing in...":"Sign in"})]})]}),m.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",m.jsx(Gn,{to:"/register",className:"font-medium text-primary underline underline-offset-4",children:"Sign up"})]})]})})}function $G(){const{register:t,loginWithGoogle:e}=aa(),r=na(),[n,i]=D.useState({name:"",email:"",password:"",course:"",semester:""}),[a,o]=D.useState(""),[u,c]=D.useState(!1),[d,h]=D.useState(!1);function p(S){i(_=>({..._,[S.target.name]:S.target.value}))}async function y(S){if(S.preventDefault(),o(""),n.password.length<8){o("Password must be at least 8 characters.");return}c(!0);try{await t(n),r("/dashboard",{replace:!0})}catch(_){o(_.message||"Registration failed. Please try again.")}finally{c(!1)}}async function x(){o(""),h(!0);try{await e(),r("/dashboard",{replace:!0})}catch(S){S.code!=="auth/popup-closed-by-user"&&o(S.message||"Google sign-in failed. Please try again.")}finally{h(!1)}}return m.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-4",children:m.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sarasva"}),m.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create your account"})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm space-y-4",children:[a&&m.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:a}),m.jsxs("button",{type:"button",onClick:x,disabled:d||u,className:"flex w-full items-center justify-center gap-2.5 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.14 0 5.95 1.08 8.17 2.85l6.1-6.1C34.36 3.02 29.47 1 24 1 14.82 1 7.07 6.49 3.56 14.27l7.1 5.52C12.38 13.68 17.74 9.5 24 9.5z"}),m.jsx("path",{fill:"#4285F4",d:"M46.52 24.5c0-1.56-.14-3.06-.4-4.5H24v8.5h12.67c-.55 2.9-2.2 5.36-4.67 7.01l7.27 5.65C43.27 37.19 46.52 31.31 46.52 24.5z"}),m.jsx("path",{fill:"#FBBC05",d:"M10.66 28.79A14.5 14.5 0 0 1 9.5 24c0-1.66.29-3.27.79-4.79l-7.1-5.52A23.94 23.94 0 0 0 0 24c0 3.87.93 7.53 2.56 10.77l8.1-5.98z"}),m.jsx("path",{fill:"#34A853",d:"M24 47c5.47 0 10.07-1.81 13.43-4.91l-7.27-5.65c-1.88 1.26-4.28 2.06-6.16 2.06-6.26 0-11.62-4.18-13.34-9.79l-8.1 5.98C7.07 41.51 14.82 47 24 47z"})]}),d?"Signing in...":"Continue with Google"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-px flex-1 bg-border"}),m.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),m.jsx("div",{className:"h-px flex-1 bg-border"})]}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Full name"}),m.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:p,placeholder:"Arjun Sharma",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:p,placeholder:"you@example.com",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:p,placeholder:"Min. 8 characters",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("label",{htmlFor:"course",className:"text-sm font-medium",children:["Course ",m.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),m.jsx("input",{id:"course",name:"course",type:"text",value:n.course,onChange:p,placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("label",{htmlFor:"semester",className:"text-sm font-medium",children:["Semester ",m.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),m.jsx("input",{id:"semester",name:"semester",type:"text",value:n.semester,onChange:p,placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]})]}),m.jsx("button",{type:"submit",disabled:u||d,className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:u?"Creating account...":"Create account"})]})]}),m.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",m.jsx(Gn,{to:"/login",className:"font-medium text-primary underline underline-offset-4",children:"Sign in"})]})]})})}var Zb,LO;function pn(){if(LO)return Zb;LO=1;var t=Array.isArray;return Zb=t,Zb}var e0,$O;function o5(){if($O)return e0;$O=1;var t=typeof qp=="object"&&qp&&qp.Object===Object&&qp;return e0=t,e0}var t0,VO;function oa(){if(VO)return t0;VO=1;var t=o5(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return t0=r,t0}var r0,FO;function xh(){if(FO)return r0;FO=1;var t=oa(),e=t.Symbol;return r0=e,r0}var n0,BO;function VG(){if(BO)return n0;BO=1;var t=xh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var h=n.call(o);return d&&(u?o[i]=c:delete o[i]),h}return n0=a,n0}var i0,UO;function FG(){if(UO)return i0;UO=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return i0=r,i0}var a0,zO;function Ja(){if(zO)return a0;zO=1;var t=xh(),e=VG(),r=FG(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return a0=o,a0}var o0,qO;function Za(){if(qO)return o0;qO=1;function t(e){return e!=null&&typeof e=="object"}return o0=t,o0}var s0,WO;function Ec(){if(WO)return s0;WO=1;var t=Ja(),e=Za(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return s0=n,s0}var l0,HO;function ET(){if(HO)return l0;HO=1;var t=pn(),e=Ec(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return l0=i,l0}var u0,GO;function ss(){if(GO)return u0;GO=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return u0=t,u0}var c0,KO;function TT(){if(KO)return c0;KO=1;var t=Ja(),e=ss(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return c0=o,c0}var d0,XO;function BG(){if(XO)return d0;XO=1;var t=oa(),e=t["__core-js_shared__"];return d0=e,d0}var f0,YO;function UG(){if(YO)return f0;YO=1;var t=BG(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return f0=r,f0}var h0,QO;function s5(){if(QO)return h0;QO=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return h0=r,h0}var p0,JO;function zG(){if(JO)return p0;JO=1;var t=TT(),e=UG(),r=ss(),n=s5(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,c=o.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!r(y)||e(y))return!1;var x=t(y)?h:a;return x.test(n(y))}return p0=p,p0}var m0,ZO;function qG(){if(ZO)return m0;ZO=1;function t(e,r){return e==null?void 0:e[r]}return m0=t,m0}var g0,eC;function vl(){if(eC)return g0;eC=1;var t=zG(),e=qG();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return g0=r,g0}var y0,tC;function xy(){if(tC)return y0;tC=1;var t=vl(),e=t(Object,"create");return y0=e,y0}var v0,rC;function WG(){if(rC)return v0;rC=1;var t=xy();function e(){this.__data__=t?t(null):{},this.size=0}return v0=e,v0}var b0,nC;function HG(){if(nC)return b0;nC=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return b0=t,b0}var x0,iC;function GG(){if(iC)return x0;iC=1;var t=xy(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return n.call(o,a)?o[a]:void 0}return x0=i,x0}var _0,aC;function KG(){if(aC)return _0;aC=1;var t=xy(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return _0=n,_0}var w0,oC;function XG(){if(oC)return w0;oC=1;var t=xy(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return w0=r,w0}var S0,sC;function YG(){if(sC)return S0;sC=1;var t=WG(),e=HG(),r=GG(),n=KG(),i=XG();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var d=o[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,S0=a,S0}var E0,lC;function QG(){if(lC)return E0;lC=1;function t(){this.__data__=[],this.size=0}return E0=t,E0}var T0,uC;function AT(){if(uC)return T0;uC=1;function t(e,r){return e===r||e!==e&&r!==r}return T0=t,T0}var A0,cC;function _y(){if(cC)return A0;cC=1;var t=AT();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return A0=e,A0}var P0,dC;function JG(){if(dC)return P0;dC=1;var t=_y(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():r.call(a,o,1),--this.size,!0}return P0=n,P0}var I0,fC;function ZG(){if(fC)return I0;fC=1;var t=_y();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return I0=e,I0}var k0,hC;function eK(){if(hC)return k0;hC=1;var t=_y();function e(r){return t(this.__data__,r)>-1}return k0=e,k0}var O0,pC;function tK(){if(pC)return O0;pC=1;var t=_y();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return O0=e,O0}var C0,mC;function wy(){if(mC)return C0;mC=1;var t=QG(),e=JG(),r=ZG(),n=eK(),i=tK();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var d=o[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,C0=a,C0}var j0,gC;function PT(){if(gC)return j0;gC=1;var t=vl(),e=oa(),r=t(e,"Map");return j0=r,j0}var N0,yC;function rK(){if(yC)return N0;yC=1;var t=YG(),e=wy(),r=PT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return N0=n,N0}var R0,vC;function nK(){if(vC)return R0;vC=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return R0=t,R0}var M0,bC;function Sy(){if(bC)return M0;bC=1;var t=nK();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return M0=e,M0}var D0,xC;function iK(){if(xC)return D0;xC=1;var t=Sy();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return D0=e,D0}var L0,_C;function aK(){if(_C)return L0;_C=1;var t=Sy();function e(r){return t(this,r).get(r)}return L0=e,L0}var $0,wC;function oK(){if(wC)return $0;wC=1;var t=Sy();function e(r){return t(this,r).has(r)}return $0=e,$0}var V0,SC;function sK(){if(SC)return V0;SC=1;var t=Sy();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return V0=e,V0}var F0,EC;function IT(){if(EC)return F0;EC=1;var t=rK(),e=iK(),r=aK(),n=oK(),i=sK();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var d=o[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,F0=a,F0}var B0,TC;function l5(){if(TC)return B0;TC=1;var t=IT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],c=a.cache;if(c.has(u))return c.get(u);var d=n.apply(this,o);return a.cache=c.set(u,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,B0=r,B0}var U0,AC;function lK(){if(AC)return U0;AC=1;var t=l5(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return U0=r,U0}var z0,PC;function uK(){if(PC)return z0;PC=1;var t=lK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,c,d){a.push(c?d.replace(r,"$1"):u||o)}),a});return z0=n,z0}var q0,IC;function kT(){if(IC)return q0;IC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return q0=t,q0}var W0,kC;function cK(){if(kC)return W0;kC=1;var t=xh(),e=kT(),r=pn(),n=Ec(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return W0=o,W0}var H0,OC;function u5(){if(OC)return H0;OC=1;var t=cK();function e(r){return r==null?"":t(r)}return H0=e,H0}var G0,CC;function c5(){if(CC)return G0;CC=1;var t=pn(),e=ET(),r=uK(),n=u5();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return G0=i,G0}var K0,jC;function Ey(){if(jC)return K0;jC=1;var t=Ec();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return K0=e,K0}var X0,NC;function OT(){if(NC)return X0;NC=1;var t=c5(),e=Ey();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return X0=r,X0}var Y0,RC;function d5(){if(RC)return Y0;RC=1;var t=OT();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Y0=e,Y0}var dK=d5();const Yn=mt(dK);var Q0,MC;function fK(){if(MC)return Q0;MC=1;function t(e){return e==null}return Q0=t,Q0}var hK=fK();const ot=mt(hK);var J0,DC;function pK(){if(DC)return J0;DC=1;var t=Ja(),e=pn(),r=Za(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return J0=i,J0}var mK=pK();const sl=mt(mK);var gK=TT();const Ge=mt(gK);var yK=ss();const Tc=mt(yK);var Z0={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function vK(){if(LC)return ut;LC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function _(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case r:case i:case n:case d:case h:return b;default:switch(b=b&&b.$$typeof,b){case u:case o:case c:case y:case p:case a:return b;default:return E}}case e:return E}}}return ut.ContextConsumer=o,ut.ContextProvider=a,ut.Element=t,ut.ForwardRef=c,ut.Fragment=r,ut.Lazy=y,ut.Memo=p,ut.Portal=e,ut.Profiler=i,ut.StrictMode=n,ut.Suspense=d,ut.SuspenseList=h,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(b){return _(b)===o},ut.isContextProvider=function(b){return _(b)===a},ut.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},ut.isForwardRef=function(b){return _(b)===c},ut.isFragment=function(b){return _(b)===r},ut.isLazy=function(b){return _(b)===y},ut.isMemo=function(b){return _(b)===p},ut.isPortal=function(b){return _(b)===e},ut.isProfiler=function(b){return _(b)===i},ut.isStrictMode=function(b){return _(b)===n},ut.isSuspense=function(b){return _(b)===d},ut.isSuspenseList=function(b){return _(b)===h},ut.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===d||b===h||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===p||b.$$typeof===a||b.$$typeof===o||b.$$typeof===c||b.$$typeof===S||b.getModuleId!==void 0)},ut.typeOf=_,ut}var $C;function bK(){return $C||($C=1,Z0.exports=vK()),Z0.exports}var xK=bK(),ex,VC;function f5(){if(VC)return ex;VC=1;var t=Ja(),e=Za(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return ex=n,ex}var tx,FC;function _K(){if(FC)return tx;FC=1;var t=f5();function e(r){return t(r)&&r!=+r}return tx=e,tx}var wK=_K();const _h=mt(wK);var SK=f5();const EK=mt(SK);var dn=function(e){return e===0?0:e>0?1:-1},Gs=function(e){return sl(e)&&e.indexOf("%")===e.length-1},_e=function(e){return EK(e)&&!_h(e)},TK=function(e){return ot(e)},lr=function(e){return _e(e)||sl(e)},AK=0,Ty=function(e){var r=++AK;return"".concat(e||"").concat(r)},wi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!sl(e))return n;var a;if(Gs(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return _h(a)&&(a=n),i&&a>r&&(a=r),a},Do=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},PK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Pa=function(e,r){return _e(e)&&_e(r)?function(n){return e+n*(r-e)}:function(){return r}};function H1(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Yn(n,e))===r})}var IK=function(e,r){return _e(e)&&_e(r)?e-r:sl(e)&&sl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Iu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function G1(t){"@babel/helpers - typeof";return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G1(t)}var kK=["viewBox","children"],OK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BC=["points","pathLength"],rx={svg:kK,polygon:BC,polyline:BC},CT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!Tc(n))return null;var i={};return Object.keys(n).forEach(function(a){CT.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},CK=function(e,r,n){return function(i){return e(r,n,i),null}},rs=function(e,r,n){if(!Tc(e)||G1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];CT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=CK(o,r,n))}),i},jK=["children"],NK=["children"];function UC(t,e){if(t==null)return{};var r=RK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Da=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},qC=null,nx=null,jT=function t(e){if(e===qC&&Array.isArray(nx))return nx;var r=[];return D.Children.forEach(e,function(n){ot(n)||(xK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),nx=r,qC=e,r};function Qn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Da(i)}):n=[Da(e)],jT(t).forEach(function(i){var a=Yn(i,"type.displayName")||Yn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function An(t,e){var r=Qn(t,e);return r&&r[0]}var WC=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!_e(n)||n<=0||!_e(i)||i<=0)},MK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DK=function(e){return e&&e.type&&sl(e.type)&&MK.indexOf(e.type)>=0},LK=function(e,r,n,i){var a,o=(a=rx==null?void 0:rx[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ge(e)&&(i&&o.includes(r)||OK.includes(r))||n&&CT.includes(r)},ze=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Tc(i))return null;var a={};return Object.keys(i).forEach(function(o){var u;LK((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(a[o]=i[o])}),a},K1=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return HC(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!HC(a,o))return!1}return!0},HC=function(e,r){if(ot(e)&&ot(r))return!0;if(!ot(e)&&!ot(r)){var n=e.props||{},i=n.children,a=UC(n,jK),o=r.props||{},u=o.children,c=UC(o,NK);return i&&u?Iu(a,c)&&K1(i,u):!i&&!u?Iu(a,c):!1}return!1},GC=function(e,r){var n=[],i={};return jT(e).forEach(function(a,o){if(DK(a))n.push(a);else if(a){var u=Da(a.type),c=r[u]||{},d=c.handler,h=c.once;if(d&&(!h||!i[u])){var p=d(a,u,o);n.push(p),i[u]=!0}}}),n},$K=function(e){var r=e&&e.type;return r&&zC[r]?zC[r]:null},VK=function(e,r){return jT(r).indexOf(e)},FK=["children","width","height","viewBox","className","style","title","desc"];function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X1.apply(this,arguments)}function BK(t,e){if(t==null)return{};var r=UK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y1(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,u=t.title,c=t.desc,d=BK(t,FK),h=i||{width:r,height:n,x:0,y:0},p=Ye("recharts-surface",a);return G.createElement("svg",X1({},ze(d,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),G.createElement("title",null,u),G.createElement("desc",null,c),e)}var zK=["children","className"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q1.apply(this,arguments)}function qK(t,e){if(t==null)return{};var r=WK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var yt=G.forwardRef(function(t,e){var r=t.children,n=t.className,i=qK(t,zK),a=Ye("recharts-layer",n);return G.createElement("g",Q1({className:a},ze(i,!0),{ref:e}),r)}),La=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},ix,KC;function HK(){if(KC)return ix;KC=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return ix=t,ix}var ax,XC;function GK(){if(XC)return ax;XC=1;var t=HK();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return ax=e,ax}var ox,YC;function h5(){if(YC)return ox;YC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+a+"]");function c(d){return u.test(d)}return ox=c,ox}var sx,QC;function KK(){if(QC)return sx;QC=1;function t(e){return e.split("")}return sx=t,sx}var lx,JC;function XK(){if(JC)return lx;JC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=d+"?",_="["+a+"]?",b="(?:"+x+"(?:"+[h,p,y].join("|")+")"+_+S+")*",E=_+S+b,P="(?:"+[h+u+"?",u,p,y,o].join("|")+")",k=RegExp(c+"(?="+c+")|"+P+E,"g");function R(O){return O.match(k)||[]}return lx=R,lx}var ux,ZC;function YK(){if(ZC)return ux;ZC=1;var t=KK(),e=h5(),r=XK();function n(i){return e(i)?r(i):t(i)}return ux=n,ux}var cx,ej;function QK(){if(ej)return cx;ej=1;var t=GK(),e=h5(),r=YK(),n=u5();function i(a){return function(o){o=n(o);var u=e(o)?r(o):void 0,c=u?u[0]:o.charAt(0),d=u?t(u,1).join(""):o.slice(1);return c[a]()+d}}return cx=i,cx}var dx,tj;function JK(){if(tj)return dx;tj=1;var t=QK(),e=t("toUpperCase");return dx=e,dx}var ZK=JK();const Ay=mt(ZK);function St(t){return function(){return t}}const p5=Math.cos,Gm=Math.sin,Pi=Math.sqrt,Km=Math.PI,Py=2*Km,J1=Math.PI,Z1=2*J1,zs=1e-6,eX=Z1-zs;function m5(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function tX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return m5;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class rX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?m5:tX(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,c=n-e,d=i-r,h=o-e,p=u-r,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>zs)if(!(Math.abs(p*c-d*h)>zs)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,S=i-u,_=c*c+d*d,b=x*x+S*S,E=Math.sqrt(_),P=Math.sqrt(y),k=a*Math.tan((J1-Math.acos((_+y-b)/(2*E*P)))/2),R=k/P,O=k/E;Math.abs(R-1)>zs&&this._append`L${e+R*h},${r+R*p}`,this._append`A${a},${a},0,0,${+(p*x>h*S)},${this._x1=e+O*c},${this._y1=r+O*d}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),d=e+u,h=r+c,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>zs||Math.abs(this._y1-h)>zs)&&this._append`L${d},${h}`,n&&(y<0&&(y=y%Z1+Z1),y>eX?this._append`A${n},${n},0,1,${p},${e-u},${r-c}A${n},${n},0,1,${p},${this._x1=d},${this._y1=h}`:y>zs&&this._append`A${n},${n},0,${+(y>=J1)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function NT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new rX(e)}function RT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g5(t){this._context=t}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Iy(t){return new g5(t)}function y5(t){return t[0]}function v5(t){return t[1]}function b5(t,e){var r=St(!0),n=null,i=Iy,a=null,o=NT(u);t=typeof t=="function"?t:t===void 0?y5:St(t),e=typeof e=="function"?e:e===void 0?v5:St(e);function u(c){var d,h=(c=RT(c)).length,p,y=!1,x;for(n==null&&(a=i(x=o())),d=0;d<=h;++d)!(d<h&&r(p=c[d],d,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,d,c),+e(p,d,c));if(x)return a=null,x+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:St(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:St(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:St(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function Jp(t,e,r){var n=null,i=St(!0),a=null,o=Iy,u=null,c=NT(d);t=typeof t=="function"?t:t===void 0?y5:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?v5:St(+r);function d(p){var y,x,S,_=(p=RT(p)).length,b,E=!1,P,k=new Array(_),R=new Array(_);for(a==null&&(u=o(P=c())),y=0;y<=_;++y){if(!(y<_&&i(b=p[y],y,p))===E)if(E=!E)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(k[S],R[S]);u.lineEnd(),u.areaEnd()}E&&(k[y]=+t(b,y,p),R[y]=+e(b,y,p),u.point(n?+n(b,y,p):k[y],r?+r(b,y,p):R[y]))}if(P)return u=null,P+""||null}function h(){return b5().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),n=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),d):t},d.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:St(+p),d):n},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),r=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),d):e},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:St(+p),d):r},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(r)},d.lineX1=function(){return h().x(n).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:St(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),d):a},d}class x5{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function nX(t){return new x5(t,!0)}function iX(t){return new x5(t,!1)}const MT={draw(t,e){const r=Pi(e/Km);t.moveTo(r,0),t.arc(0,0,r,0,Py)}},aX={draw(t,e){const r=Pi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},_5=Pi(1/3),oX=_5*2,sX={draw(t,e){const r=Pi(e/oX),n=r*_5;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},lX={draw(t,e){const r=Pi(e),n=-r/2;t.rect(n,n,r,r)}},uX=.8908130915292852,w5=Gm(Km/10)/Gm(7*Km/10),cX=Gm(Py/10)*w5,dX=-p5(Py/10)*w5,fX={draw(t,e){const r=Pi(e*uX),n=cX*r,i=dX*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Py*a/5,u=p5(o),c=Gm(o);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},fx=Pi(3),hX={draw(t,e){const r=-Pi(e/(fx*3));t.moveTo(0,r*2),t.lineTo(-fx*r,-r),t.lineTo(fx*r,-r),t.closePath()}},Un=-.5,zn=Pi(3)/2,eS=1/Pi(12),pX=(eS/2+1)*3,mX={draw(t,e){const r=Pi(e/pX),n=r/2,i=r*eS,a=n,o=r*eS+r,u=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(u,c),t.lineTo(Un*n-zn*i,zn*n+Un*i),t.lineTo(Un*a-zn*o,zn*a+Un*o),t.lineTo(Un*u-zn*c,zn*u+Un*c),t.lineTo(Un*n+zn*i,Un*i-zn*n),t.lineTo(Un*a+zn*o,Un*o-zn*a),t.lineTo(Un*u+zn*c,Un*c-zn*u),t.closePath()}};function gX(t,e){let r=null,n=NT(i);t=typeof t=="function"?t:St(t||MT),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:St(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:St(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xm(){}function Ym(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function S5(t){this._context=t}S5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ym(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yX(t){return new S5(t)}function E5(t){this._context=t}E5.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vX(t){return new E5(t)}function T5(t){this._context=t}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bX(t){return new T5(t)}function A5(t){this._context=t}A5.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xX(t){return new A5(t)}function rj(t){return t<0?-1:1}function nj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),u=(a*i+o*n)/(n+i);return(rj(a)+rj(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function ij(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function hx(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,o-u*r,a,o)}function Qm(t){this._context=t}Qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hx(this,this._t0,ij(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hx(this,ij(this,r=nj(this,t,e)),r);break;default:hx(this,this._t0,r=nj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function P5(t){this._context=new I5(t)}(P5.prototype=Object.create(Qm.prototype)).point=function(t,e){Qm.prototype.point.call(this,e,t)};function I5(t){this._context=t}I5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function _X(t){return new Qm(t)}function wX(t){return new P5(t)}function k5(t){this._context=t}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=aj(t),i=aj(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aj(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function SX(t){return new k5(t)}function ky(t,e){this._context=t,this._t=e}ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function EX(t){return new ky(t,.5)}function TX(t){return new ky(t,0)}function AX(t){return new ky(t,1)}function qu(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,u=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function tS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function PX(t,e){return t[e]}function IX(t){const e=[];return e.key=t,e}function kX(){var t=St([]),e=tS,r=qu,n=PX;function i(a){var o=Array.from(t.apply(this,arguments),IX),u,c=o.length,d=-1,h;for(const p of a)for(u=0,++d;u<c;++u)(o[u][d]=[0,+n(p,o[u].key,d,a)]).data=p;for(u=0,h=RT(e(o));u<c;++u)o[h[u]].index=u;return r(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:St(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:St(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?tS:typeof a=="function"?a:St(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??qu,i):r},i}function OX(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}qu(t,e)}}function CX(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}qu(t,e)}}function jX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var u=0,c=0,d=0;u<o;++u){for(var h=t[e[u]],p=h[n][1]||0,y=h[n-1][1]||0,x=(p-y)/2,S=0;S<u;++S){var _=t[e[S]],b=_[n][1]||0,E=_[n-1][1]||0;x+=b-E}c+=p,d+=x*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,qu(t,e)}}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}var NX=["type","size","sizeType"];function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rS.apply(this,arguments)}function oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(r),!0).forEach(function(n){RX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RX(t,e,r){return e=MX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MX(t){var e=DX(t,"string");return vf(e)=="symbol"?e:e+""}function DX(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LX(t,e){if(t==null)return{};var r=$X(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $X(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var O5={symbolCircle:MT,symbolCross:aX,symbolDiamond:sX,symbolSquare:lX,symbolStar:fX,symbolTriangle:hX,symbolWye:mX},VX=Math.PI/180,FX=function(e){var r="symbol".concat(Ay(e));return O5[r]||MT},BX=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*VX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UX=function(e,r){O5["symbol".concat(Ay(e))]=r},DT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,c=LX(e,NX),d=sj(sj({},c),{},{type:n,size:a,sizeType:u}),h=function(){var b=FX(n),E=gX().type(b).size(BX(a,u,n));return E()},p=d.className,y=d.cx,x=d.cy,S=ze(d,!0);return y===+y&&x===+x&&a===+a?G.createElement("path",rS({},S,{className:Ye("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(x,")"),d:h()})):null};DT.registerSymbol=UX;function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nS.apply(this,arguments)}function lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(r),!0).forEach(function(n){bf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j5(n.key),n)}}function HX(t,e,r){return e&&WX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GX(t,e,r){return e=Jm(e),KX(t,C5()?Reflect.construct(e,r||[],Jm(t).constructor):e.apply(t,r))}function KX(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(t)}function XX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C5=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(t)}function YX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iS(t,e)}function bf(t,e,r){return e=j5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j5(t){var e=QX(t,"string");return Wu(e)=="symbol"?e:e+""}function QX(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qn=32,LT=(function(t){function e(){return qX(this,e),GX(this,e,arguments)}return YX(e,t),HX(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=qn/2,o=qn/6,u=qn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:qn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(qn,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var d=zX({},n);return delete d.legendIcon,G.cloneElement(n.legendIcon,d)}return G.createElement(DT,{fill:c,cx:a,cy:a,size:qn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,u=i.layout,c=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:qn,height:qn},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,S){var _=x.formatter||c,b=Ye(bf(bf({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var E=Ge(x.value)?null:x.value;La(!Ge(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=x.inactive?d:x.color;return G.createElement("li",nS({className:b,style:p,key:"legend-item-".concat(S)},rs(n.props,x,S)),G.createElement(Y1,{width:o,height:o,viewBox:h,style:y},n.renderIcon(x)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},_?_(E,x,S):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(D.PureComponent);bf(LT,"displayName","Legend");bf(LT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var px,uj;function JX(){if(uj)return px;uj=1;var t=wy();function e(){this.__data__=new t,this.size=0}return px=e,px}var mx,cj;function ZX(){if(cj)return mx;cj=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return mx=t,mx}var gx,dj;function eY(){if(dj)return gx;dj=1;function t(e){return this.__data__.get(e)}return gx=t,gx}var yx,fj;function tY(){if(fj)return yx;fj=1;function t(e){return this.__data__.has(e)}return yx=t,yx}var vx,hj;function rY(){if(hj)return vx;hj=1;var t=wy(),e=PT(),r=IT(),n=200;function i(a,o){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,o),this.size=u.size,this}return vx=i,vx}var bx,pj;function N5(){if(pj)return bx;pj=1;var t=wy(),e=JX(),r=ZX(),n=eY(),i=tY(),a=rY();function o(u){var c=this.__data__=new t(u);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,bx=o,bx}var xx,mj;function nY(){if(mj)return xx;mj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return xx=e,xx}var _x,gj;function iY(){if(gj)return _x;gj=1;function t(e){return this.__data__.has(e)}return _x=t,_x}var wx,yj;function R5(){if(yj)return wx;yj=1;var t=IT(),e=nY(),r=iY();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,wx=n,wx}var Sx,vj;function M5(){if(vj)return Sx;vj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Sx=t,Sx}var Ex,bj;function D5(){if(bj)return Ex;bj=1;function t(e,r){return e.has(r)}return Ex=t,Ex}var Tx,xj;function L5(){if(xj)return Tx;xj=1;var t=R5(),e=M5(),r=D5(),n=1,i=2;function a(o,u,c,d,h,p){var y=c&n,x=o.length,S=u.length;if(x!=S&&!(y&&S>x))return!1;var _=p.get(o),b=p.get(u);if(_&&b)return _==u&&b==o;var E=-1,P=!0,k=c&i?new t:void 0;for(p.set(o,u),p.set(u,o);++E<x;){var R=o[E],O=u[E];if(d)var j=y?d(O,R,E,u,o,p):d(R,O,E,o,u,p);if(j!==void 0){if(j)continue;P=!1;break}if(k){if(!e(u,function(I,C){if(!r(k,C)&&(R===I||h(R,I,c,d,p)))return k.push(C)})){P=!1;break}}else if(!(R===O||h(R,O,c,d,p))){P=!1;break}}return p.delete(o),p.delete(u),P}return Tx=a,Tx}var Ax,_j;function aY(){if(_j)return Ax;_j=1;var t=oa(),e=t.Uint8Array;return Ax=e,Ax}var Px,wj;function oY(){if(wj)return Px;wj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return Px=t,Px}var Ix,Sj;function $T(){if(Sj)return Ix;Sj=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Ix=t,Ix}var kx,Ej;function sY(){if(Ej)return kx;Ej=1;var t=xh(),e=aY(),r=AT(),n=L5(),i=oY(),a=$T(),o=1,u=2,c="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",_="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",P="[object DataView]",k=t?t.prototype:void 0,R=k?k.valueOf:void 0;function O(j,I,C,M,B,F,$){switch(C){case P:if(j.byteLength!=I.byteLength||j.byteOffset!=I.byteOffset)return!1;j=j.buffer,I=I.buffer;case E:return!(j.byteLength!=I.byteLength||!F(new e(j),new e(I)));case c:case d:case y:return r(+j,+I);case h:return j.name==I.name&&j.message==I.message;case x:case _:return j==I+"";case p:var L=i;case S:var W=M&o;if(L||(L=a),j.size!=I.size&&!W)return!1;var Y=$.get(j);if(Y)return Y==I;M|=u,$.set(j,I);var te=n(L(j),L(I),M,B,F,$);return $.delete(j),te;case b:if(R)return R.call(j)==R.call(I)}return!1}return kx=O,kx}var Ox,Tj;function $5(){if(Tj)return Ox;Tj=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Ox=t,Ox}var Cx,Aj;function lY(){if(Aj)return Cx;Aj=1;var t=$5(),e=pn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return Cx=r,Cx}var jx,Pj;function uY(){if(Pj)return jx;Pj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[a++]=u)}return o}return jx=t,jx}var Nx,Ij;function cY(){if(Ij)return Nx;Ij=1;function t(){return[]}return Nx=t,Nx}var Rx,kj;function dY(){if(kj)return Rx;kj=1;var t=uY(),e=cY(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return Rx=a,Rx}var Mx,Oj;function fY(){if(Oj)return Mx;Oj=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Mx=t,Mx}var Dx,Cj;function hY(){if(Cj)return Dx;Cj=1;var t=Ja(),e=Za(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Dx=n,Dx}var Lx,jj;function VT(){if(jj)return Lx;jj=1;var t=hY(),e=Za(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Lx=a,Lx}var zd={exports:{}},$x,Nj;function pY(){if(Nj)return $x;Nj=1;function t(){return!1}return $x=t,$x}zd.exports;var Rj;function V5(){return Rj||(Rj=1,(function(t,e){var r=oa(),n=pY(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?r.Buffer:void 0,c=u?u.isBuffer:void 0,d=c||n;t.exports=d})(zd,zd.exports)),zd.exports}var Vx,Mj;function FT(){if(Mj)return Vx;Mj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Vx=r,Vx}var Fx,Dj;function BT(){if(Dj)return Fx;Dj=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Fx=e,Fx}var Bx,Lj;function mY(){if(Lj)return Bx;Lj=1;var t=Ja(),e=BT(),r=Za(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",P="[object Float32Array]",k="[object Float64Array]",R="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",B="[object Uint32Array]",F={};F[P]=F[k]=F[R]=F[O]=F[j]=F[I]=F[C]=F[M]=F[B]=!0,F[n]=F[i]=F[b]=F[a]=F[E]=F[o]=F[u]=F[c]=F[d]=F[h]=F[p]=F[y]=F[x]=F[S]=F[_]=!1;function $(L){return r(L)&&e(L.length)&&!!F[t(L)]}return Bx=$,Bx}var Ux,$j;function F5(){if($j)return Ux;$j=1;function t(e){return function(r){return e(r)}}return Ux=t,Ux}var qd={exports:{}};qd.exports;var Vj;function gY(){return Vj||(Vj=1,(function(t,e){var r=o5(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(qd,qd.exports)),qd.exports}var zx,Fj;function B5(){if(Fj)return zx;Fj=1;var t=mY(),e=F5(),r=gY(),n=r&&r.isTypedArray,i=n?e(n):t;return zx=i,zx}var qx,Bj;function yY(){if(Bj)return qx;Bj=1;var t=fY(),e=VT(),r=pn(),n=V5(),i=FT(),a=B5(),o=Object.prototype,u=o.hasOwnProperty;function c(d,h){var p=r(d),y=!p&&e(d),x=!p&&!y&&n(d),S=!p&&!y&&!x&&a(d),_=p||y||x||S,b=_?t(d.length,String):[],E=b.length;for(var P in d)(h||u.call(d,P))&&!(_&&(P=="length"||x&&(P=="offset"||P=="parent")||S&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,E)))&&b.push(P);return b}return qx=c,qx}var Wx,Uj;function vY(){if(Uj)return Wx;Uj=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Wx=e,Wx}var Hx,zj;function U5(){if(zj)return Hx;zj=1;function t(e,r){return function(n){return e(r(n))}}return Hx=t,Hx}var Gx,qj;function bY(){if(qj)return Gx;qj=1;var t=U5(),e=t(Object.keys,Object);return Gx=e,Gx}var Kx,Wj;function xY(){if(Wj)return Kx;Wj=1;var t=vY(),e=bY(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&o.push(u);return o}return Kx=i,Kx}var Xx,Hj;function wh(){if(Hj)return Xx;Hj=1;var t=TT(),e=BT();function r(n){return n!=null&&e(n.length)&&!t(n)}return Xx=r,Xx}var Yx,Gj;function Oy(){if(Gj)return Yx;Gj=1;var t=yY(),e=xY(),r=wh();function n(i){return r(i)?t(i):e(i)}return Yx=n,Yx}var Qx,Kj;function _Y(){if(Kj)return Qx;Kj=1;var t=lY(),e=dY(),r=Oy();function n(i){return t(i,r,e)}return Qx=n,Qx}var Jx,Xj;function wY(){if(Xj)return Jx;Xj=1;var t=_Y(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u,c,d,h){var p=u&e,y=t(a),x=y.length,S=t(o),_=S.length;if(x!=_&&!p)return!1;for(var b=x;b--;){var E=y[b];if(!(p?E in o:n.call(o,E)))return!1}var P=h.get(a),k=h.get(o);if(P&&k)return P==o&&k==a;var R=!0;h.set(a,o),h.set(o,a);for(var O=p;++b<x;){E=y[b];var j=a[E],I=o[E];if(c)var C=p?c(I,j,E,o,a,h):c(j,I,E,a,o,h);if(!(C===void 0?j===I||d(j,I,u,c,h):C)){R=!1;break}O||(O=E=="constructor")}if(R&&!O){var M=a.constructor,B=o.constructor;M!=B&&"constructor"in a&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof B=="function"&&B instanceof B)&&(R=!1)}return h.delete(a),h.delete(o),R}return Jx=i,Jx}var Zx,Yj;function SY(){if(Yj)return Zx;Yj=1;var t=vl(),e=oa(),r=t(e,"DataView");return Zx=r,Zx}var e_,Qj;function EY(){if(Qj)return e_;Qj=1;var t=vl(),e=oa(),r=t(e,"Promise");return e_=r,e_}var t_,Jj;function z5(){if(Jj)return t_;Jj=1;var t=vl(),e=oa(),r=t(e,"Set");return t_=r,t_}var r_,Zj;function TY(){if(Zj)return r_;Zj=1;var t=vl(),e=oa(),r=t(e,"WeakMap");return r_=r,r_}var n_,eN;function AY(){if(eN)return n_;eN=1;var t=SY(),e=PT(),r=EY(),n=z5(),i=TY(),a=Ja(),o=s5(),u="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",x=o(t),S=o(e),_=o(r),b=o(n),E=o(i),P=a;return(t&&P(new t(new ArrayBuffer(1)))!=y||e&&P(new e)!=u||r&&P(r.resolve())!=d||n&&P(new n)!=h||i&&P(new i)!=p)&&(P=function(k){var R=a(k),O=R==c?k.constructor:void 0,j=O?o(O):"";if(j)switch(j){case x:return y;case S:return u;case _:return d;case b:return h;case E:return p}return R}),n_=P,n_}var i_,tN;function PY(){if(tN)return i_;tN=1;var t=N5(),e=L5(),r=sY(),n=wY(),i=AY(),a=pn(),o=V5(),u=B5(),c=1,d="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(_,b,E,P,k,R){var O=a(_),j=a(b),I=O?h:i(_),C=j?h:i(b);I=I==d?p:I,C=C==d?p:C;var M=I==p,B=C==p,F=I==C;if(F&&o(_)){if(!o(b))return!1;O=!0,M=!1}if(F&&!M)return R||(R=new t),O||u(_)?e(_,b,E,P,k,R):r(_,b,I,E,P,k,R);if(!(E&c)){var $=M&&x.call(_,"__wrapped__"),L=B&&x.call(b,"__wrapped__");if($||L){var W=$?_.value():_,Y=L?b.value():b;return R||(R=new t),k(W,Y,E,P,R)}}return F?(R||(R=new t),n(_,b,E,P,k,R)):!1}return i_=S,i_}var a_,rN;function UT(){if(rN)return a_;rN=1;var t=PY(),e=Za();function r(n,i,a,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,u)}return a_=r,a_}var o_,nN;function IY(){if(nN)return o_;nN=1;var t=N5(),e=UT(),r=1,n=2;function i(a,o,u,c){var d=u.length,h=d,p=!c;if(a==null)return!h;for(a=Object(a);d--;){var y=u[d];if(p&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++d<h;){y=u[d];var x=y[0],S=a[x],_=y[1];if(p&&y[2]){if(S===void 0&&!(x in a))return!1}else{var b=new t;if(c)var E=c(S,_,x,a,o,b);if(!(E===void 0?e(_,S,r|n,c,b):E))return!1}}return!0}return o_=i,o_}var s_,iN;function q5(){if(iN)return s_;iN=1;var t=ss();function e(r){return r===r&&!t(r)}return s_=e,s_}var l_,aN;function kY(){if(aN)return l_;aN=1;var t=q5(),e=Oy();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],u=n[o];i[a]=[o,u,t(u)]}return i}return l_=r,l_}var u_,oN;function W5(){if(oN)return u_;oN=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return u_=t,u_}var c_,sN;function OY(){if(sN)return c_;sN=1;var t=IY(),e=kY(),r=W5();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return c_=n,c_}var d_,lN;function CY(){if(lN)return d_;lN=1;function t(e,r){return e!=null&&r in Object(e)}return d_=t,d_}var f_,uN;function jY(){if(uN)return f_;uN=1;var t=c5(),e=VT(),r=pn(),n=FT(),i=BT(),a=Ey();function o(u,c,d){c=t(c,u);for(var h=-1,p=c.length,y=!1;++h<p;){var x=a(c[h]);if(!(y=u!=null&&d(u,x)))break;u=u[x]}return y||++h!=p?y:(p=u==null?0:u.length,!!p&&i(p)&&n(x,p)&&(r(u)||e(u)))}return f_=o,f_}var h_,cN;function NY(){if(cN)return h_;cN=1;var t=CY(),e=jY();function r(n,i){return n!=null&&e(n,i,t)}return h_=r,h_}var p_,dN;function RY(){if(dN)return p_;dN=1;var t=UT(),e=d5(),r=NY(),n=ET(),i=q5(),a=W5(),o=Ey(),u=1,c=2;function d(h,p){return n(h)&&i(p)?a(o(h),p):function(y){var x=e(y,h);return x===void 0&&x===p?r(y,h):t(p,x,u|c)}}return p_=d,p_}var m_,fN;function Ac(){if(fN)return m_;fN=1;function t(e){return e}return m_=t,m_}var g_,hN;function MY(){if(hN)return g_;hN=1;function t(e){return function(r){return r==null?void 0:r[e]}}return g_=t,g_}var y_,pN;function DY(){if(pN)return y_;pN=1;var t=OT();function e(r){return function(n){return t(n,r)}}return y_=e,y_}var v_,mN;function LY(){if(mN)return v_;mN=1;var t=MY(),e=DY(),r=ET(),n=Ey();function i(a){return r(a)?t(n(a)):e(a)}return v_=i,v_}var b_,gN;function sa(){if(gN)return b_;gN=1;var t=OY(),e=RY(),r=Ac(),n=pn(),i=LY();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return b_=a,b_}var x_,yN;function H5(){if(yN)return x_;yN=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return x_=t,x_}var __,vN;function $Y(){if(vN)return __;vN=1;function t(e){return e!==e}return __=t,__}var w_,bN;function VY(){if(bN)return w_;bN=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return w_=t,w_}var S_,xN;function FY(){if(xN)return S_;xN=1;var t=H5(),e=$Y(),r=VY();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return S_=n,S_}var E_,_N;function BY(){if(_N)return E_;_N=1;var t=FY();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return E_=e,E_}var T_,wN;function UY(){if(wN)return T_;wN=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return T_=t,T_}var A_,SN;function zY(){if(SN)return A_;SN=1;function t(){}return A_=t,A_}var P_,EN;function qY(){if(EN)return P_;EN=1;var t=z5(),e=zY(),r=$T(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return P_=i,P_}var I_,TN;function WY(){if(TN)return I_;TN=1;var t=R5(),e=BY(),r=UY(),n=D5(),i=qY(),a=$T(),o=200;function u(c,d,h){var p=-1,y=e,x=c.length,S=!0,_=[],b=_;if(h)S=!1,y=r;else if(x>=o){var E=d?null:i(c);if(E)return a(E);S=!1,y=n,b=new t}else b=d?[]:_;e:for(;++p<x;){var P=c[p],k=d?d(P):P;if(P=h||P!==0?P:0,S&&k===k){for(var R=b.length;R--;)if(b[R]===k)continue e;d&&b.push(k),_.push(P)}else y(b,k,h)||(b!==_&&b.push(k),_.push(P))}return _}return I_=u,I_}var k_,AN;function HY(){if(AN)return k_;AN=1;var t=sa(),e=WY();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return k_=r,k_}var GY=HY();const PN=mt(GY);function G5(t,e,r){return e===!0?PN(t,r):Ge(e)?PN(t,e):t}function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}var KY=["ref"];function IN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(r),!0).forEach(function(n){Cy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X5(n.key),n)}}function YY(t,e,r){return e&&kN(t.prototype,e),r&&kN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QY(t,e,r){return e=Zm(e),JY(t,K5()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function JY(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(t)}function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K5=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function eQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aS(t,e)}function Cy(t,e,r){return e=X5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X5(t){var e=tQ(t,"string");return Hu(e)=="symbol"?e:e+""}function tQ(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rQ(t,e){if(t==null)return{};var r=nQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iQ(t){return t.value}function aQ(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=rQ(e,KY);return G.createElement(LT,r)}var ON=1,ku=(function(t){function e(){var r;XY(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=QY(this,e,[].concat(i)),Cy(r,"lastBoundingBox",{width:-1,height:-1}),r}return eQ(e,t),YY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ON||Math.abs(i.height-this.lastBoundingBox.height)>ON)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ta({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,u=i.verticalAlign,c=i.margin,d=i.chartWidth,h=i.chartHeight,p,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();p={left:((d||0)-x.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ta(Ta({},p),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,u=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,p=Ta(Ta({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(x){n.wrapperNode=x}},aQ(a,Ta(Ta({},this.props),{},{payload:G5(h,d,iQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ta(Ta({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&_e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(D.PureComponent);Cy(ku,"displayName","Legend");Cy(ku,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var O_,CN;function oQ(){if(CN)return O_;CN=1;var t=xh(),e=VT(),r=pn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return O_=i,O_}var C_,jN;function Y5(){if(jN)return C_;jN=1;var t=$5(),e=oQ();function r(n,i,a,o,u){var c=-1,d=n.length;for(a||(a=e),u||(u=[]);++c<d;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,o,u):t(u,h):o||(u[u.length]=h)}return u}return C_=r,C_}var j_,NN;function sQ(){if(NN)return j_;NN=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),u=i(r),c=u.length;c--;){var d=u[e?c:++a];if(n(o[d],d,o)===!1)break}return r}}return j_=t,j_}var N_,RN;function lQ(){if(RN)return N_;RN=1;var t=sQ(),e=t();return N_=e,N_}var R_,MN;function Q5(){if(MN)return R_;MN=1;var t=lQ(),e=Oy();function r(n,i){return n&&t(n,i,e)}return R_=r,R_}var M_,DN;function uQ(){if(DN)return M_;DN=1;var t=wh();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,u=n?o:-1,c=Object(i);(n?u--:++u<o)&&a(c[u],u,c)!==!1;);return i}}return M_=e,M_}var D_,LN;function zT(){if(LN)return D_;LN=1;var t=Q5(),e=uQ(),r=e(t);return D_=r,D_}var L_,$N;function J5(){if($N)return L_;$N=1;var t=zT(),e=wh();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(u,c,d){o[++a]=i(u,c,d)}),o}return L_=r,L_}var $_,VN;function cQ(){if(VN)return $_;VN=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return $_=t,$_}var V_,FN;function dQ(){if(FN)return V_;FN=1;var t=Ec();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,u=t(r),c=n!==void 0,d=n===null,h=n===n,p=t(n);if(!d&&!p&&!u&&r>n||u&&c&&h&&!d&&!p||a&&c&&h||!i&&h||!o)return 1;if(!a&&!u&&!p&&r<n||p&&i&&o&&!a&&!u||d&&i&&o||!c&&o||!h)return-1}return 0}return V_=e,V_}var F_,BN;function fQ(){if(BN)return F_;BN=1;var t=dQ();function e(r,n,i){for(var a=-1,o=r.criteria,u=n.criteria,c=o.length,d=i.length;++a<c;){var h=t(o[a],u[a]);if(h){if(a>=d)return h;var p=i[a];return h*(p=="desc"?-1:1)}}return r.index-n.index}return F_=e,F_}var B_,UN;function hQ(){if(UN)return B_;UN=1;var t=kT(),e=OT(),r=sa(),n=J5(),i=cQ(),a=F5(),o=fQ(),u=Ac(),c=pn();function d(h,p,y){p.length?p=t(p,function(_){return c(_)?function(b){return e(b,_.length===1?_[0]:_)}:_}):p=[u];var x=-1;p=t(p,a(r));var S=n(h,function(_,b,E){var P=t(p,function(k){return k(_)});return{criteria:P,index:++x,value:_}});return i(S,function(_,b){return o(_,b,y)})}return B_=d,B_}var U_,zN;function pQ(){if(zN)return U_;zN=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return U_=t,U_}var z_,qN;function mQ(){if(qN)return z_;qN=1;var t=pQ(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,c=e(o.length-i,0),d=Array(c);++u<c;)d[u]=o[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=o[u];return h[i]=a(d),t(n,this,h)}}return z_=r,z_}var q_,WN;function gQ(){if(WN)return q_;WN=1;function t(e){return function(){return e}}return q_=t,q_}var W_,HN;function Z5(){if(HN)return W_;HN=1;var t=vl(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return W_=e,W_}var H_,GN;function yQ(){if(GN)return H_;GN=1;var t=gQ(),e=Z5(),r=Ac(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return H_=n,H_}var G_,KN;function vQ(){if(KN)return G_;KN=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var u=r(),c=e-(u-o);if(o=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return G_=n,G_}var K_,XN;function bQ(){if(XN)return K_;XN=1;var t=yQ(),e=vQ(),r=e(t);return K_=r,K_}var X_,YN;function xQ(){if(YN)return X_;YN=1;var t=Ac(),e=mQ(),r=bQ();function n(i,a){return r(e(i,a,t),i+"")}return X_=n,X_}var Y_,QN;function jy(){if(QN)return Y_;QN=1;var t=AT(),e=wh(),r=FT(),n=ss();function i(a,o,u){if(!n(u))return!1;var c=typeof o;return(c=="number"?e(u)&&r(o,u.length):c=="string"&&o in u)?t(u[o],a):!1}return Y_=i,Y_}var Q_,JN;function _Q(){if(JN)return Q_;JN=1;var t=Y5(),e=hQ(),r=xQ(),n=jy(),i=r(function(a,o){if(a==null)return[];var u=o.length;return u>1&&n(a,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return Q_=i,Q_}var wQ=_Q();const qT=mt(wQ);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oS.apply(this,arguments)}function SQ(t,e){return PQ(t)||AQ(t,e)||TQ(t,e)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return ZN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(t,e)}}function ZN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function PQ(t){if(Array.isArray(t))return t}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){IQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IQ(t,e,r){return e=kQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kQ(t){var e=OQ(t,"string");return xf(e)=="symbol"?e:e+""}function OQ(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CQ(t){return Array.isArray(t)&&lr(t[0])&&lr(t[1])?t.join(" ~ "):t}var jQ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,p=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,_=e.label,b=e.labelFormatter,E=e.accessibilityLayer,P=E===void 0?!1:E,k=function(){if(h&&h.length){var $={padding:0,margin:0},L=(y?qT(h,y):h).map(function(W,Y){if(W.type==="none")return null;var te=J_({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},u),ne=W.formatter||p||CQ,Q=W.value,ae=W.name,ie=Q,q=ae;if(ne&&ie!=null&&q!=null){var X=ne(Q,ae,W,Y,h);if(Array.isArray(X)){var de=SQ(X,2);ie=de[0],q=de[1]}else ie=X}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:te},lr(q)?G.createElement("span",{className:"recharts-tooltip-item-name"},q):null,lr(q)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ie),G.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},R=J_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=J_({margin:0},d),j=!ot(_),I=j?_:"",C=Ye("recharts-default-tooltip",x),M=Ye("recharts-tooltip-label",S);j&&b&&h!==void 0&&h!==null&&(I=b(_,h));var B=P?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",oS({className:C,style:R},B),G.createElement("p",{className:M,style:O},G.isValidElement(I)?I:"".concat(I)),k())};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Zp(t,e,r){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NQ(t){var e=RQ(t,"string");return _f(e)=="symbol"?e:e+""}function RQ(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Td="recharts-tooltip-wrapper",MQ={visibility:"hidden"};function DQ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ye(Td,Zp(Zp(Zp(Zp({},"".concat(Td,"-right"),_e(r)&&e&&_e(e.x)&&r>=e.x),"".concat(Td,"-left"),_e(r)&&e&&_e(e.x)&&r<e.x),"".concat(Td,"-bottom"),_e(n)&&e&&_e(e.y)&&n>=e.y),"".concat(Td,"-top"),_e(n)&&e&&_e(e.y)&&n<e.y))}function t2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&_e(a[n]))return a[n];var h=r[n]-u-i,p=r[n]+i;if(e[n])return o[n]?h:p;if(o[n]){var y=h,x=c[n];return y<x?Math.max(p,c[n]):Math.max(h,c[n])}var S=p+u,_=c[n]+d;return S>_?Math.max(h,c[n]):Math.max(p,c[n])}function LQ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function $Q(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,d,h,p;return o.height>0&&o.width>0&&r?(h=t2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=t2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=LQ({translateX:h,translateY:p,useTranslate3d:u})):d=MQ,{cssProperties:d,cssClasses:DQ({translateX:h,translateY:p,coordinate:r})}}function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function r2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(r),!0).forEach(function(n){lS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function BQ(t,e,r){return e&&FQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UQ(t,e,r){return e=eg(e),zQ(t,e$()?Reflect.construct(e,r||[],eg(t).constructor):e.apply(t,r))}function zQ(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qQ(t)}function qQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(t)}function WQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sS(t,e)}function lS(t,e,r){return e=t$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=HQ(t,"string");return Gu(e)=="symbol"?e:e+""}function HQ(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i2=1,GQ=(function(t){function e(){var r;VQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=UQ(this,e,[].concat(i)),lS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,c,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return WQ(e,t),BQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>i2||Math.abs(n.height-this.state.lastBoundingBox.height)>i2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,d=i.children,h=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,_=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,k=$Q({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:x,position:S,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),R=k.cssClasses,O=k.cssProperties,j=n2(n2({transition:y&&a?"transform ".concat(u,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},P);return G.createElement("div",{tabIndex:-1,className:R,style:j,ref:function(C){n.wrapperNode=C}},d)}}])})(D.PureComponent),KQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pc={isSsr:KQ()};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){WT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n$(n.key),n)}}function QQ(t,e,r){return e&&YQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JQ(t,e,r){return e=tg(e),ZQ(t,r$()?Reflect.construct(e,r||[],tg(t).constructor):e.apply(t,r))}function ZQ(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eJ(t)}function eJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(t)}function tJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uS(t,e)}function WT(t,e,r){return e=n$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$(t){var e=rJ(t,"string");return Ku(e)=="symbol"?e:e+""}function rJ(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nJ(t){return t.dataKey}function iJ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(jQ,e)}var Bi=(function(t){function e(){return XQ(this,e),JQ(this,e,arguments)}return tJ(e,t),QQ(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,d=i.content,h=i.coordinate,p=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,_=i.payloadUniqBy,b=i.position,E=i.reverseDirection,P=i.useTranslate3d,k=i.viewBox,R=i.wrapperStyle,O=S??[];p&&O.length&&(O=G5(S.filter(function(I){return I.value!=null&&(I.hide!==!0||n.props.includeHidden)}),_,nJ));var j=O.length>0;return G.createElement(GQ,{allowEscapeViewBox:o,animationDuration:u,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:j,offset:x,position:b,reverseDirection:E,useTranslate3d:P,viewBox:k,wrapperStyle:R},iJ(d,o2(o2({},this.props),{},{payload:O})))}}])})(D.PureComponent);WT(Bi,"displayName","Tooltip");WT(Bi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Z_,s2;function aJ(){if(s2)return Z_;s2=1;var t=oa(),e=function(){return t.Date.now()};return Z_=e,Z_}var ew,l2;function oJ(){if(l2)return ew;l2=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ew=e,ew}var tw,u2;function sJ(){if(u2)return tw;u2=1;var t=oJ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return tw=r,tw}var rw,c2;function i$(){if(c2)return rw;c2=1;var t=sJ(),e=ss(),r=Ec(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=a.test(d);return p||o.test(d)?u(d.slice(2),p?2:8):i.test(d)?n:+d}return rw=c,rw}var nw,d2;function lJ(){if(d2)return nw;d2=1;var t=ss(),e=aJ(),r=i$(),n="Expected a function",i=Math.max,a=Math.min;function o(u,c,d){var h,p,y,x,S,_,b=0,E=!1,P=!1,k=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(E=!!d.leading,P="maxWait"in d,y=P?i(r(d.maxWait)||0,c):y,k="trailing"in d?!!d.trailing:k);function R(L){var W=h,Y=p;return h=p=void 0,b=L,x=u.apply(Y,W),x}function O(L){return b=L,S=setTimeout(C,c),E?R(L):x}function j(L){var W=L-_,Y=L-b,te=c-W;return P?a(te,y-Y):te}function I(L){var W=L-_,Y=L-b;return _===void 0||W>=c||W<0||P&&Y>=y}function C(){var L=e();if(I(L))return M(L);S=setTimeout(C,j(L))}function M(L){return S=void 0,k&&h?R(L):(h=p=void 0,x)}function B(){S!==void 0&&clearTimeout(S),b=0,h=_=p=S=void 0}function F(){return S===void 0?x:M(e())}function $(){var L=e(),W=I(L);if(h=arguments,p=this,_=L,W){if(S===void 0)return O(_);if(P)return clearTimeout(S),S=setTimeout(C,c),R(_)}return S===void 0&&(S=setTimeout(C,c)),x}return $.cancel=B,$.flush=F,$}return nw=o,nw}var iw,f2;function uJ(){if(f2)return iw;f2=1;var t=lJ(),e=ss(),r="Expected a function";function n(i,a,o){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return iw=n,iw}var cJ=uJ();const a$=mt(cJ);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function em(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){dJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dJ(t,e,r){return e=fJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fJ(t){var e=hJ(t,"string");return wf(e)=="symbol"?e:e+""}function hJ(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pJ(t,e){return vJ(t)||yJ(t,e)||gJ(t,e)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return p2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p2(t,e)}}function p2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function vJ(t){if(Array.isArray(t))return t}var bJ=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,d=t.minWidth,h=d===void 0?0:d,p=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,_=S===void 0?0:S,b=t.id,E=t.className,P=t.onResize,k=t.style,R=k===void 0?{}:k,O=D.useRef(null),j=D.useRef();j.current=P,D.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var I=D.useState({containerWidth:i.width,containerHeight:i.height}),C=pJ(I,2),M=C[0],B=C[1],F=D.useCallback(function(L,W){B(function(Y){var te=Math.round(L),ne=Math.round(W);return Y.containerWidth===te&&Y.containerHeight===ne?Y:{containerWidth:te,containerHeight:ne}})},[]);D.useEffect(function(){var L=function(ae){var ie,q=ae[0].contentRect,X=q.width,de=q.height;F(X,de),(ie=j.current)===null||ie===void 0||ie.call(j,X,de)};_>0&&(L=a$(L,_,{trailing:!0,leading:!1}));var W=new ResizeObserver(L),Y=O.current.getBoundingClientRect(),te=Y.width,ne=Y.height;return F(te,ne),W.observe(O.current),function(){W.disconnect()}},[F,_]);var $=D.useMemo(function(){var L=M.containerWidth,W=M.containerHeight;if(L<0||W<0)return null;La(Gs(o)||Gs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),La(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Gs(o)?L:o,te=Gs(c)?W:c;r&&r>0&&(Y?te=Y/r:te&&(Y=te*r),y&&te>y&&(te=y)),La(Y>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,te,o,c,h,p,r);var ne=!Array.isArray(x)&&Da(x.type).endsWith("Chart");return G.Children.map(x,function(Q){return G.isValidElement(Q)?D.cloneElement(Q,em({width:Y,height:te},ne?{style:em({height:"100%",width:"100%",maxHeight:te,maxWidth:Y},Q.props.style)}:{})):Q})},[r,x,c,y,p,h,M,o]);return G.createElement("div",{id:b?"".concat(b):void 0,className:Ye("recharts-responsive-container",E),style:em(em({},R),{},{width:o,height:c,minWidth:h,minHeight:p,maxHeight:y}),ref:O},$)}),Ny=function(e){return null};Ny.displayName="Cell";function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(n){xJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xJ(t,e,r){return e=_J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _J(t){var e=wJ(t,"string");return Sf(e)=="symbol"?e:e+""}function wJ(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fu={widthCache:{},cacheCount:0},SJ=2e3,EJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},g2="recharts_measurement_span";function TJ(t){var e=cS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Zd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pc.isSsr)return{width:0,height:0};var n=TJ(r),i=JSON.stringify({text:e,copyStyle:n});if(fu.widthCache[i])return fu.widthCache[i];try{var a=document.getElementById(g2);a||(a=document.createElement("span"),a.setAttribute("id",g2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=cS(cS({},EJ),n);Object.assign(a.style,o),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return fu.widthCache[i]=c,++fu.cacheCount>SJ&&(fu.cacheCount=0,fu.widthCache={}),c}catch{return{width:0,height:0}}},AJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function rg(t,e){return OJ(t)||kJ(t,e)||IJ(t,e)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(t,e){if(t){if(typeof t=="string")return y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(t,e)}}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function OJ(t){if(Array.isArray(t))return t}function CJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NJ(n.key),n)}}function jJ(t,e,r){return e&&v2(t.prototype,e),r&&v2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NJ(t){var e=RJ(t,"string");return Ef(e)=="symbol"?e:e+""}function RJ(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LJ=Object.keys(o$),bu="NaN";function $J(t,e){return t*o$[e]}var tm=(function(){function t(e,r){CJ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!MJ.test(r)&&(this.num=NaN,this.unit=""),LJ.includes(r)&&(this.num=$J(e,r),this.unit="px")}return jJ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=DJ.exec(r))!==null&&n!==void 0?n:[],a=rg(i,3),o=a[1],u=a[2];return new t(parseFloat(o),u??"")}}])})();function s$(t){if(t.includes(bu))return bu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=b2.exec(e))!==null&&r!==void 0?r:[],i=rg(n,4),a=i[1],o=i[2],u=i[3],c=tm.parse(a??""),d=tm.parse(u??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return bu;e=e.replace(b2,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=x2.exec(e))!==null&&p!==void 0?p:[],x=rg(y,4),S=x[1],_=x[2],b=x[3],E=tm.parse(S??""),P=tm.parse(b??""),k=_==="+"?E.add(P):E.subtract(P);if(k.isNaN())return bu;e=e.replace(x2,k.toString())}return e}var _2=/\(([^()]*)\)/;function VJ(t){for(var e=t;e.includes("(");){var r=_2.exec(e),n=rg(r,2),i=n[1];e=e.replace(_2,s$(i))}return e}function FJ(t){var e=t.replace(/\s+/g,"");return e=VJ(e),e=s$(e),e}function BJ(t){try{return FJ(t)}catch{return bu}}function aw(t){var e=BJ(t.slice(5,-1));return e===bu?"":e}var UJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zJ=["dx","dy","angle","className","breakAll"];function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dS.apply(this,arguments)}function w2(t,e){if(t==null)return{};var r=qJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function S2(t,e){return KJ(t)||GJ(t,e)||HJ(t,e)||WJ()}function WJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HJ(t,e){if(t){if(typeof t=="string")return E2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function KJ(t){if(Array.isArray(t))return t}var l$=/[ \f\n\r\t\v\u2028\u2029]+/,u$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ot(r)||(n?a=r.toString().split(""):a=r.toString().split(l$));var o=a.map(function(c){return{word:c,width:Zd(c,i).width}}),u=n?0:Zd("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},XJ=function(e,r,n,i,a){var o=e.maxLines,u=e.children,c=e.style,d=e.breakAll,h=_e(o),p=u,y=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(te,ne){var Q=ne.word,ae=ne.width,ie=te[te.length-1];if(ie&&(i==null||a||ie.width+ae+n<Number(i)))ie.words.push(Q),ie.width+=ae+n;else{var q={words:[Q],width:ae};te.push(q)}return te},[])},x=y(r),S=function(Y){return Y.reduce(function(te,ne){return te.width>ne.width?te:ne})};if(!h)return x;for(var _="",b=function(Y){var te=p.slice(0,Y),ne=u$({breakAll:d,style:c,children:te+_}).wordsWithComputedWidth,Q=y(ne),ae=Q.length>o||S(Q).width>Number(i);return[ae,Q]},E=0,P=p.length-1,k=0,R;E<=P&&k<=p.length-1;){var O=Math.floor((E+P)/2),j=O-1,I=b(j),C=S2(I,2),M=C[0],B=C[1],F=b(O),$=S2(F,1),L=$[0];if(!M&&!L&&(E=O+1),M&&L&&(P=O-1),!M&&L){R=B;break}k++}return R||x},T2=function(e){var r=ot(e)?[]:e.toString().split(l$);return[{words:r}]},YJ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!Pc.isSsr){var c,d,h=u$({breakAll:o,children:i,style:a});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;c=p,d=y}else return T2(i);return XJ({breakAll:o,children:i,maxLines:u,style:a},c,d,r,n)}return T2(i)},A2="#808080",Xu=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,_=S===void 0?"end":S,b=e.fill,E=b===void 0?A2:b,P=w2(e,UJ),k=D.useMemo(function(){return YJ({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:p,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,p,P.style,P.width]),R=P.dx,O=P.dy,j=P.angle,I=P.className,C=P.breakAll,M=w2(P,zJ);if(!lr(n)||!lr(a))return null;var B=n+(_e(R)?R:0),F=a+(_e(O)?O:0),$;switch(_){case"start":$=aw("calc(".concat(d,")"));break;case"middle":$=aw("calc(".concat((k.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:$=aw("calc(".concat(k.length-1," * -").concat(u,")"));break}var L=[];if(p){var W=k[0].width,Y=P.width;L.push("scale(".concat((_e(Y)?Y/W:1)/W,")"))}return j&&L.push("rotate(".concat(j,", ").concat(B,", ").concat(F,")")),L.length&&(M.transform=L.join(" ")),G.createElement("text",dS({},ze(M,!0),{x:B,y:F,className:Ye("recharts-text",I),textAnchor:x,fill:E.includes("url")?A2:E}),k.map(function(te,ne){var Q=te.words.join(C?"":" ");return G.createElement("tspan",{x:B,dy:ne===0?$:u,key:"".concat(Q,"-").concat(ne)},Q)}))};function Go(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HT(t){let e,r,n;t.length!==2?(e=Go,r=(u,c)=>Go(t(u),c),n=(u,c)=>t(u)-c):(e=t===Go||t===QJ?t:JJ,r=t,n=t);function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;r(u[p],c)<0?d=p+1:h=p}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;r(u[p],c)<=0?d=p+1:h=p}while(d<h)}return d}function o(u,c,d=0,h=u.length){const p=i(u,c,d,h-1);return p>d&&n(u[p-1],c)>-n(u[p],c)?p-1:p}return{left:i,center:o,right:a}}function JJ(){return 0}function c$(t){return t===null?NaN:+t}function*ZJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const eZ=HT(Go),Sh=eZ.right;HT(c$).center;class P2 extends Map{constructor(e,r=nZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(I2(this,e))}has(e){return super.has(I2(this,e))}set(e,r){return super.set(tZ(this,e),r)}delete(e){return super.delete(rZ(this,e))}}function I2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function tZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function rZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function nZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iZ(t=Go){if(t===Go)return d$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function d$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aZ=Math.sqrt(50),oZ=Math.sqrt(10),sZ=Math.sqrt(2);function ng(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=aZ?10:a>=oZ?5:a>=sZ?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/o,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=r&&r<2?ng(t,e,r*2):[u,c,d]}function fS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?ng(e,t,r):ng(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(o<0)for(let d=0;d<u;++d)c[d]=(a-d)/-o;else for(let d=0;d<u;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<u;++d)c[d]=(i+d)/-o;else for(let d=0;d<u;++d)c[d]=(i+d)*o;return c}function hS(t,e,r){return e=+e,t=+t,r=+r,ng(t,e,r)[2]}function pS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?hS(e,t,r):hS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function k2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function O2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function f$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?d$:iZ(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(d-c/2<0?-1:1),x=Math.max(r,Math.floor(e-d*p/c+y)),S=Math.min(n,Math.floor(e+(c-d)*p/c+y));f$(t,e,x,S,i)}const a=t[e];let o=r,u=n;for(Ad(t,r,e),i(t[n],a)>0&&Ad(t,r,n);o<u;){for(Ad(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Ad(t,r,u):(++u,Ad(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Ad(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function lZ(t,e,r){if(t=Float64Array.from(ZJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return O2(t);if(e>=1)return k2(t);var n,i=(n-1)*e,a=Math.floor(i),o=k2(f$(t,a).subarray(0,a+1)),u=O2(t.subarray(a+1));return o+(u-o)*(i-a)}}function uZ(t,e,r=c$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function cZ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function eo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mS=Symbol("implicit");function GT(){var t=new P2,e=[],r=[],n=mS;function i(a){let o=t.get(a);if(o===void 0){if(n!==mS)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new P2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return GT(e,r).unknown(n)},ei.apply(i,arguments),i}function Tf(){var t=GT().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,u=!1,c=0,d=0,h=.5;delete t.unknown;function p(){var y=e().length,x=i<n,S=x?i:n,_=x?n:i;a=(_-S)/Math.max(1,y-c+d*2),u&&(a=Math.floor(a)),S+=(_-S-a*(y-c))*h,o=a*(1-c),u&&(S=Math.round(S),o=Math.round(o));var b=cZ(y).map(function(E){return S+a*E});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return Tf(e(),[n,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},ei.apply(p(),arguments)}function h$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return h$(e())},t}function ef(){return h$(Tf.apply(null,arguments).paddingInner(1))}function KT(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function p$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Eh(){}var Af=.7,ig=1/Af,Ou="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dZ=/^#([0-9a-f]{3,8})$/,fZ=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),hZ=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),pZ=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${Pf}\\)$`),mZ=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${Pf}\\)$`),gZ=new RegExp(`^hsl\\(${Pf},${Qi},${Qi}\\)$`),yZ=new RegExp(`^hsla\\(${Pf},${Qi},${Qi},${Pf}\\)$`),C2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KT(Eh,If,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:j2,formatHex:j2,formatHex8:vZ,formatHsl:bZ,formatRgb:N2,toString:N2});function j2(){return this.rgb().formatHex()}function vZ(){return this.rgb().formatHex8()}function bZ(){return m$(this).formatHsl()}function N2(){return this.rgb().formatRgb()}function If(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=dZ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?R2(e):r===3?new fn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?rm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?rm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fZ.exec(t))?new fn(e[1],e[2],e[3],1):(e=hZ.exec(t))?new fn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pZ.exec(t))?rm(e[1],e[2],e[3],e[4]):(e=mZ.exec(t))?rm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gZ.exec(t))?L2(e[1],e[2]/100,e[3]/100,1):(e=yZ.exec(t))?L2(e[1],e[2]/100,e[3]/100,e[4]):C2.hasOwnProperty(t)?R2(C2[t]):t==="transparent"?new fn(NaN,NaN,NaN,0):null}function R2(t){return new fn(t>>16&255,t>>8&255,t&255,1)}function rm(t,e,r,n){return n<=0&&(t=e=r=NaN),new fn(t,e,r,n)}function xZ(t){return t instanceof Eh||(t=If(t)),t?(t=t.rgb(),new fn(t.r,t.g,t.b,t.opacity)):new fn}function gS(t,e,r,n){return arguments.length===1?xZ(t):new fn(t,e,r,n??1)}function fn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}KT(fn,gS,p$(Eh,{brighter(t){return t=t==null?ig:Math.pow(ig,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fn(Zs(this.r),Zs(this.g),Zs(this.b),ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M2,formatHex:M2,formatHex8:_Z,formatRgb:D2,toString:D2}));function M2(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}`}function _Z(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}${Ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function D2(){const t=ag(this.opacity);return`${t===1?"rgb(":"rgba("}${Zs(this.r)}, ${Zs(this.g)}, ${Zs(this.b)}${t===1?")":`, ${t})`}`}function ag(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ks(t){return t=Zs(t),(t<16?"0":"")+t.toString(16)}function L2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new xi(t,e,r,n)}function m$(t){if(t instanceof xi)return new xi(t.h,t.s,t.l,t.opacity);if(t instanceof Eh||(t=If(t)),!t)return new xi;if(t instanceof xi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,u=a-i,c=(a+i)/2;return u?(e===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-e)/u+2:o=(e-r)/u+4,u/=c<.5?a+i:2-a-i,o*=60):u=c>0&&c<1?0:o,new xi(o,u,c,t.opacity)}function wZ(t,e,r,n){return arguments.length===1?m$(t):new xi(t,e,r,n??1)}function xi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}KT(xi,wZ,p$(Eh,{brighter(t){return t=t==null?ig:Math.pow(ig,t),new xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new fn(ow(t>=240?t-240:t+120,i,n),ow(t,i,n),ow(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new xi($2(this.h),nm(this.s),nm(this.l),ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ag(this.opacity);return`${t===1?"hsl(":"hsla("}${$2(this.h)}, ${nm(this.s)*100}%, ${nm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $2(t){return t=(t||0)%360,t<0?t+360:t}function nm(t){return Math.max(0,Math.min(1,t||0))}function ow(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const XT=t=>()=>t;function SZ(t,e){return function(r){return t+r*e}}function EZ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function TZ(t){return(t=+t)==1?g$:function(e,r){return r-e?EZ(e,r,t):XT(isNaN(e)?r:e)}}function g$(t,e){var r=e-t;return r?SZ(t,r):XT(isNaN(t)?e:t)}const V2=(function t(e){var r=TZ(e);function n(i,a){var o=r((i=gS(i)).r,(a=gS(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),d=g$(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return n.gamma=t,n})(1);function AZ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function PZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function IZ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ic(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function kZ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function og(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function OZ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ic(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var yS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sw=new RegExp(yS.source,"g");function CZ(t){return function(){return t}}function jZ(t){return function(e){return t(e)+""}}function NZ(t,e){var r=yS.lastIndex=sw.lastIndex=0,n,i,a,o=-1,u=[],c=[];for(t=t+"",e=e+"";(n=yS.exec(t))&&(i=sw.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,c.push({i:o,x:og(n,i)})),r=sw.lastIndex;return r<e.length&&(a=e.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?jZ(c[0].x):CZ(e):(e=c.length,function(d){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(d);return u.join("")})}function Ic(t,e){var r=typeof e,n;return e==null||r==="boolean"?XT(e):(r==="number"?og:r==="string"?(n=If(e))?(e=n,V2):NZ:e instanceof If?V2:e instanceof Date?kZ:PZ(e)?AZ:Array.isArray(e)?IZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?OZ:og)(t,e)}function YT(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function RZ(t,e){e===void 0&&(e=t,t=Ic);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[u](o-u)}}function MZ(t){return function(){return t}}function sg(t){return+t}var F2=[0,1];function Xr(t){return t}function vS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:MZ(isNaN(e)?NaN:.5)}function DZ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function LZ(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=vS(i,n),a=r(o,a)):(n=vS(n,i),a=r(a,o)),function(u){return a(n(u))}}function $Z(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=vS(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(u){var c=Sh(t,u,1,n)-1;return a[c](i[c](u))}}function Th(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ry(){var t=F2,e=F2,r=Ic,n,i,a,o=Xr,u,c,d;function h(){var y=Math.min(t.length,e.length);return o!==Xr&&(o=DZ(t[0],t[y-1])),u=y>2?$Z:LZ,c=d=null,p}function p(y){return y==null||isNaN(y=+y)?a:(c||(c=u(t.map(n),e,r)))(n(o(y)))}return p.invert=function(y){return o(i((d||(d=u(e,t.map(n),og)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,sg),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),r=YT,h()},p.clamp=function(y){return arguments.length?(o=y?!0:Xr,h()):o!==Xr},p.interpolate=function(y){return arguments.length?(r=y,h()):r},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,x){return n=y,i=x,h()}}function QT(){return Ry()(Xr,Xr)}function VZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lg(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Yu(t){return t=lg(Math.abs(t)),t?t[1]:NaN}function FZ(t,e){return function(r,n){for(var i=r.length,a=[],o=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function BZ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var UZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kf(t){if(!(e=UZ.exec(t)))throw new Error("invalid format: "+t);var e;return new JT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kf.prototype=JT.prototype;function JT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zZ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ug;function qZ(t,e){var r=lg(t,e);if(!r)return ug=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(ug=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+lg(t,Math.max(0,e+a-1))[0]}function B2(t,e){var r=lg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const U2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:VZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>B2(t*100,e),r:B2,s:qZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function z2(t){return t}var q2=Array.prototype.map,W2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function WZ(t){var e=t.grouping===void 0||t.thousands===void 0?z2:FZ(q2.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?z2:BZ(q2.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p,y){p=kf(p);var x=p.fill,S=p.align,_=p.sign,b=p.symbol,E=p.zero,P=p.width,k=p.comma,R=p.precision,O=p.trim,j=p.type;j==="n"?(k=!0,j="g"):U2[j]||(R===void 0&&(R=12),O=!0,j="g"),(E||x==="0"&&S==="=")&&(E=!0,x="0",S="=");var I=(y&&y.prefix!==void 0?y.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),C=(b==="$"?n:/[%p]/.test(j)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),M=U2[j],B=/[defgprs%]/.test(j);R=R===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function F($){var L=I,W=C,Y,te,ne;if(j==="c")W=M($)+W,$="";else{$=+$;var Q=$<0||1/$<0;if($=isNaN($)?c:M(Math.abs($),R),O&&($=zZ($)),Q&&+$==0&&_!=="+"&&(Q=!1),L=(Q?_==="("?_:u:_==="-"||_==="("?"":_)+L,W=(j==="s"&&!isNaN($)&&ug!==void 0?W2[8+ug/3]:"")+W+(Q&&_==="("?")":""),B){for(Y=-1,te=$.length;++Y<te;)if(ne=$.charCodeAt(Y),48>ne||ne>57){W=(ne===46?i+$.slice(Y+1):$.slice(Y))+W,$=$.slice(0,Y);break}}}k&&!E&&($=e($,1/0));var ae=L.length+$.length+W.length,ie=ae<P?new Array(P-ae+1).join(x):"";switch(k&&E&&($=e(ie+$,ie.length?P-W.length:1/0),ie=""),S){case"<":$=L+$+W+ie;break;case"=":$=L+ie+$+W;break;case"^":$=ie.slice(0,ae=ie.length>>1)+L+$+W+ie.slice(ae);break;default:$=ie+L+$+W;break}return a($)}return F.toString=function(){return p+""},F}function h(p,y){var x=Math.max(-8,Math.min(8,Math.floor(Yu(y)/3)))*3,S=Math.pow(10,-x),_=d((p=kf(p),p.type="f",p),{suffix:W2[8+x/3]});return function(b){return _(S*b)}}return{format:d,formatPrefix:h}}var im,ZT,y$;HZ({thousands:",",grouping:[3],currency:["$",""]});function HZ(t){return im=WZ(t),ZT=im.format,y$=im.formatPrefix,im}function GZ(t){return Math.max(0,-Yu(Math.abs(t)))}function KZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yu(e)/3)))*3-Yu(Math.abs(t)))}function XZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yu(e)-Yu(t))+1}function v$(t,e,r,n){var i=pS(t,e,r),a;switch(n=kf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=KZ(i,o))&&(n.precision=a),y$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=XZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=GZ(i))&&(n.precision=a-(n.type==="%")*2);break}}return ZT(n)}function ls(t){var e=t.domain;return t.ticks=function(r){var n=e();return fS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return v$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],u=n[a],c,d,h=10;for(u<o&&(d=o,o=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=hS(o,u,r),d===c)return n[i]=o,n[a]=u,e(n);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function cg(){var t=QT();return t.copy=function(){return Th(t,cg())},ei.apply(t,arguments),ls(t)}function b$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,sg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return b$(t).unknown(e)},t=arguments.length?Array.from(t,sg):[0,1],ls(r)}function x$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function H2(t){return Math.log(t)}function G2(t){return Math.exp(t)}function YZ(t){return-Math.log(-t)}function QZ(t){return-Math.exp(-t)}function JZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ZZ(t){return t===10?JZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function K2(t){return(e,r)=>-t(-e,r)}function eA(t){const e=t(H2,G2),r=e.domain;let n=10,i,a;function o(){return i=eee(n),a=ZZ(n),r()[0]<0?(i=K2(i),a=K2(a),t(YZ,QZ)):t(H2,G2),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const c=r();let d=c[0],h=c[c.length-1];const p=h<d;p&&([d,h]=[h,d]);let y=i(d),x=i(h),S,_;const b=u==null?10:+u;let E=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),d>0){for(;y<=x;++y)for(S=1;S<n;++S)if(_=y<0?S/a(-y):S*a(y),!(_<d)){if(_>h)break;E.push(_)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(_=y>0?S/a(-y):S*a(y),!(_<d)){if(_>h)break;E.push(_)}E.length*2<b&&(E=fS(d,h,b))}else E=fS(y,x,Math.min(x-y,b)).map(a);return p?E.reverse():E},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=kf(c)).precision==null&&(c.trim=!0),c=ZT(c)),u===1/0)return c;const d=Math.max(1,n*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=d?c(h):""}},e.nice=()=>r(x$(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function _$(){const t=eA(Ry()).domain([1,10]);return t.copy=()=>Th(t,_$()).base(t.base()),ei.apply(t,arguments),t}function X2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Y2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tA(t){var e=1,r=t(X2(e),Y2(e));return r.constant=function(n){return arguments.length?t(X2(e=+n),Y2(e)):e},ls(r)}function w$(){var t=tA(Ry());return t.copy=function(){return Th(t,w$()).constant(t.constant())},ei.apply(t,arguments)}function Q2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ree(t){return t<0?-t*t:t*t}function rA(t){var e=t(Xr,Xr),r=1;function n(){return r===1?t(Xr,Xr):r===.5?t(tee,ree):t(Q2(r),Q2(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ls(e)}function nA(){var t=rA(Ry());return t.copy=function(){return Th(t,nA()).exponent(t.exponent())},ei.apply(t,arguments),t}function nee(){return nA.apply(null,arguments).exponent(.5)}function J2(t){return Math.sign(t)*t*t}function iee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function S$(){var t=QT(),e=[0,1],r=!1,n;function i(a){var o=iee(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(J2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,sg)).map(J2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ei.apply(i,arguments),ls(i)}function E$(){var t=[],e=[],r=[],n;function i(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=uZ(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Sh(r,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Go),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return E$().domain(t).range(e).unknown(n)},ei.apply(a,arguments)}function T$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Sh(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return T$().domain([t,e]).range(i).unknown(a)},ei.apply(ls(o),arguments)}function A$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Sh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return A$().domain(t).range(e).unknown(r)},ei.apply(i,arguments)}const lw=new Date,uw=new Date;function dr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return c;let d;do c.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<o);return c},i.filter=a=>dr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(lw.setTime(+a),uw.setTime(+o),t(lw),t(uw),Math.floor(r(lw,uw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const dg=dr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):dg);dg.range;const Ca=1e3,Xn=Ca*60,ja=Xn*60,qa=ja*24,iA=qa*7,Z2=qa*30,cw=qa*365,Xs=dr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCSeconds());Xs.range;const aA=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ca)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getMinutes());aA.range;const oA=dr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getUTCMinutes());oA.range;const sA=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ca-t.getMinutes()*Xn)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getHours());sA.range;const lA=dr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getUTCHours());lA.range;const Ah=dr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/qa,t=>t.getDate()-1);Ah.range;const My=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qa,t=>t.getUTCDate()-1);My.range;const P$=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qa,t=>Math.floor(t/qa));P$.range;function bl(t){return dr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/iA)}const Dy=bl(0),fg=bl(1),aee=bl(2),oee=bl(3),Qu=bl(4),see=bl(5),lee=bl(6);Dy.range;fg.range;aee.range;oee.range;Qu.range;see.range;lee.range;function xl(t){return dr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/iA)}const Ly=xl(0),hg=xl(1),uee=xl(2),cee=xl(3),Ju=xl(4),dee=xl(5),fee=xl(6);Ly.range;hg.range;uee.range;cee.range;Ju.range;dee.range;fee.range;const uA=dr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uA.range;const cA=dr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cA.range;const Wa=dr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Wa.range;const Ha=dr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ha.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ha.range;function I$(t,e,r,n,i,a){const o=[[Xs,1,Ca],[Xs,5,5*Ca],[Xs,15,15*Ca],[Xs,30,30*Ca],[a,1,Xn],[a,5,5*Xn],[a,15,15*Xn],[a,30,30*Xn],[i,1,ja],[i,3,3*ja],[i,6,6*ja],[i,12,12*ja],[n,1,qa],[n,2,2*qa],[r,1,iA],[e,1,Z2],[e,3,3*Z2],[t,1,cw]];function u(d,h,p){const y=h<d;y&&([d,h]=[h,d]);const x=p&&typeof p.range=="function"?p:c(d,h,p),S=x?x.range(d,+h+1):[];return y?S.reverse():S}function c(d,h,p){const y=Math.abs(h-d)/p,x=HT(([,,b])=>b).right(o,y);if(x===o.length)return t.every(pS(d/cw,h/cw,p));if(x===0)return dg.every(Math.max(pS(d,h,p),1));const[S,_]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return S.every(_)}return[u,c]}const[hee,pee]=I$(Ha,cA,Ly,P$,lA,oA),[mee,gee]=I$(Wa,uA,Dy,Ah,sA,aA);function dw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function yee(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,c=t.shortMonths,d=Id(i),h=kd(i),p=Id(a),y=kd(a),x=Id(o),S=kd(o),_=Id(u),b=kd(u),E=Id(c),P=kd(c),k={a:ne,A:Q,b:ae,B:ie,c:null,d:aR,e:aR,f:Fee,g:Yee,G:Jee,H:Lee,I:$ee,j:Vee,L:k$,m:Bee,M:Uee,p:q,q:X,Q:lR,s:uR,S:zee,u:qee,U:Wee,V:Hee,w:Gee,W:Kee,x:null,X:null,y:Xee,Y:Qee,Z:Zee,"%":sR},R={a:de,A:se,b:we,B:be,c:null,d:oR,e:oR,f:nte,g:hte,G:mte,H:ete,I:tte,j:rte,L:C$,m:ite,M:ate,p:ke,q:Re,Q:lR,s:uR,S:ote,u:ste,U:lte,V:ute,w:cte,W:dte,x:null,X:null,y:fte,Y:pte,Z:gte,"%":sR},O={a:B,A:F,b:$,B:L,c:W,d:nR,e:nR,f:Nee,g:rR,G:tR,H:iR,I:iR,j:kee,L:jee,m:Iee,M:Oee,p:M,q:Pee,Q:Mee,s:Dee,S:Cee,u:wee,U:See,V:Eee,w:_ee,W:Tee,x:Y,X:te,y:rR,Y:tR,Z:Aee,"%":Ree};k.x=j(r,k),k.X=j(n,k),k.c=j(e,k),R.x=j(r,R),R.X=j(n,R),R.c=j(e,R);function j(ge,Oe){return function(fe){var ue=[],Je=-1,He=0,xt=ge.length,Tt,Gt,mn;for(fe instanceof Date||(fe=new Date(+fe));++Je<xt;)ge.charCodeAt(Je)===37&&(ue.push(ge.slice(He,Je)),(Gt=eR[Tt=ge.charAt(++Je)])!=null?Tt=ge.charAt(++Je):Gt=Tt==="e"?" ":"0",(mn=Oe[Tt])&&(Tt=mn(fe,Gt)),ue.push(Tt),He=Je+1);return ue.push(ge.slice(He,Je)),ue.join("")}}function I(ge,Oe){return function(fe){var ue=Pd(1900,void 0,1),Je=C(ue,ge,fe+="",0),He,xt;if(Je!=fe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Oe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(He=fw(Pd(ue.y,0,1)),xt=He.getUTCDay(),He=xt>4||xt===0?hg.ceil(He):hg(He),He=My.offset(He,(ue.V-1)*7),ue.y=He.getUTCFullYear(),ue.m=He.getUTCMonth(),ue.d=He.getUTCDate()+(ue.w+6)%7):(He=dw(Pd(ue.y,0,1)),xt=He.getDay(),He=xt>4||xt===0?fg.ceil(He):fg(He),He=Ah.offset(He,(ue.V-1)*7),ue.y=He.getFullYear(),ue.m=He.getMonth(),ue.d=He.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),xt="Z"in ue?fw(Pd(ue.y,0,1)).getUTCDay():dw(Pd(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(xt+5)%7:ue.w+ue.U*7-(xt+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,fw(ue)):dw(ue)}}function C(ge,Oe,fe,ue){for(var Je=0,He=Oe.length,xt=fe.length,Tt,Gt;Je<He;){if(ue>=xt)return-1;if(Tt=Oe.charCodeAt(Je++),Tt===37){if(Tt=Oe.charAt(Je++),Gt=O[Tt in eR?Oe.charAt(Je++):Tt],!Gt||(ue=Gt(ge,fe,ue))<0)return-1}else if(Tt!=fe.charCodeAt(ue++))return-1}return ue}function M(ge,Oe,fe){var ue=d.exec(Oe.slice(fe));return ue?(ge.p=h.get(ue[0].toLowerCase()),fe+ue[0].length):-1}function B(ge,Oe,fe){var ue=x.exec(Oe.slice(fe));return ue?(ge.w=S.get(ue[0].toLowerCase()),fe+ue[0].length):-1}function F(ge,Oe,fe){var ue=p.exec(Oe.slice(fe));return ue?(ge.w=y.get(ue[0].toLowerCase()),fe+ue[0].length):-1}function $(ge,Oe,fe){var ue=E.exec(Oe.slice(fe));return ue?(ge.m=P.get(ue[0].toLowerCase()),fe+ue[0].length):-1}function L(ge,Oe,fe){var ue=_.exec(Oe.slice(fe));return ue?(ge.m=b.get(ue[0].toLowerCase()),fe+ue[0].length):-1}function W(ge,Oe,fe){return C(ge,e,Oe,fe)}function Y(ge,Oe,fe){return C(ge,r,Oe,fe)}function te(ge,Oe,fe){return C(ge,n,Oe,fe)}function ne(ge){return o[ge.getDay()]}function Q(ge){return a[ge.getDay()]}function ae(ge){return c[ge.getMonth()]}function ie(ge){return u[ge.getMonth()]}function q(ge){return i[+(ge.getHours()>=12)]}function X(ge){return 1+~~(ge.getMonth()/3)}function de(ge){return o[ge.getUTCDay()]}function se(ge){return a[ge.getUTCDay()]}function we(ge){return c[ge.getUTCMonth()]}function be(ge){return u[ge.getUTCMonth()]}function ke(ge){return i[+(ge.getUTCHours()>=12)]}function Re(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Oe=j(ge+="",k);return Oe.toString=function(){return ge},Oe},parse:function(ge){var Oe=I(ge+="",!1);return Oe.toString=function(){return ge},Oe},utcFormat:function(ge){var Oe=j(ge+="",R);return Oe.toString=function(){return ge},Oe},utcParse:function(ge){var Oe=I(ge+="",!0);return Oe.toString=function(){return ge},Oe}}}var eR={"-":"",_:" ",0:"0"},wr=/^\s*\d+/,vee=/^%/,bee=/[\\^$*+?|[\]().{}]/g;function st(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function xee(t){return t.replace(bee,"\\$&")}function Id(t){return new RegExp("^(?:"+t.map(xee).join("|")+")","i")}function kd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function _ee(t,e,r){var n=wr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wee(t,e,r){var n=wr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function See(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Eee(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Tee(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function tR(t,e,r){var n=wr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function rR(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Aee(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Pee(t,e,r){var n=wr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Iee(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function nR(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function kee(t,e,r){var n=wr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function iR(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Oee(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Cee(t,e,r){var n=wr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function jee(t,e,r){var n=wr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Nee(t,e,r){var n=wr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ree(t,e,r){var n=vee.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Mee(t,e,r){var n=wr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Dee(t,e,r){var n=wr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function aR(t,e){return st(t.getDate(),e,2)}function Lee(t,e){return st(t.getHours(),e,2)}function $ee(t,e){return st(t.getHours()%12||12,e,2)}function Vee(t,e){return st(1+Ah.count(Wa(t),t),e,3)}function k$(t,e){return st(t.getMilliseconds(),e,3)}function Fee(t,e){return k$(t,e)+"000"}function Bee(t,e){return st(t.getMonth()+1,e,2)}function Uee(t,e){return st(t.getMinutes(),e,2)}function zee(t,e){return st(t.getSeconds(),e,2)}function qee(t){var e=t.getDay();return e===0?7:e}function Wee(t,e){return st(Dy.count(Wa(t)-1,t),e,2)}function O$(t){var e=t.getDay();return e>=4||e===0?Qu(t):Qu.ceil(t)}function Hee(t,e){return t=O$(t),st(Qu.count(Wa(t),t)+(Wa(t).getDay()===4),e,2)}function Gee(t){return t.getDay()}function Kee(t,e){return st(fg.count(Wa(t)-1,t),e,2)}function Xee(t,e){return st(t.getFullYear()%100,e,2)}function Yee(t,e){return t=O$(t),st(t.getFullYear()%100,e,2)}function Qee(t,e){return st(t.getFullYear()%1e4,e,4)}function Jee(t,e){var r=t.getDay();return t=r>=4||r===0?Qu(t):Qu.ceil(t),st(t.getFullYear()%1e4,e,4)}function Zee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function oR(t,e){return st(t.getUTCDate(),e,2)}function ete(t,e){return st(t.getUTCHours(),e,2)}function tte(t,e){return st(t.getUTCHours()%12||12,e,2)}function rte(t,e){return st(1+My.count(Ha(t),t),e,3)}function C$(t,e){return st(t.getUTCMilliseconds(),e,3)}function nte(t,e){return C$(t,e)+"000"}function ite(t,e){return st(t.getUTCMonth()+1,e,2)}function ate(t,e){return st(t.getUTCMinutes(),e,2)}function ote(t,e){return st(t.getUTCSeconds(),e,2)}function ste(t){var e=t.getUTCDay();return e===0?7:e}function lte(t,e){return st(Ly.count(Ha(t)-1,t),e,2)}function j$(t){var e=t.getUTCDay();return e>=4||e===0?Ju(t):Ju.ceil(t)}function ute(t,e){return t=j$(t),st(Ju.count(Ha(t),t)+(Ha(t).getUTCDay()===4),e,2)}function cte(t){return t.getUTCDay()}function dte(t,e){return st(hg.count(Ha(t)-1,t),e,2)}function fte(t,e){return st(t.getUTCFullYear()%100,e,2)}function hte(t,e){return t=j$(t),st(t.getUTCFullYear()%100,e,2)}function pte(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function mte(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ju(t):Ju.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function gte(){return"+0000"}function sR(){return"%"}function lR(t){return+t}function uR(t){return Math.floor(+t/1e3)}var hu,N$,R$;yte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yte(t){return hu=yee(t),N$=hu.format,hu.parse,R$=hu.utcFormat,hu.utcParse,hu}function vte(t){return new Date(t)}function bte(t){return t instanceof Date?+t:+new Date(+t)}function dA(t,e,r,n,i,a,o,u,c,d){var h=QT(),p=h.invert,y=h.domain,x=d(".%L"),S=d(":%S"),_=d("%I:%M"),b=d("%I %p"),E=d("%a %d"),P=d("%b %d"),k=d("%B"),R=d("%Y");function O(j){return(c(j)<j?x:u(j)<j?S:o(j)<j?_:a(j)<j?b:n(j)<j?i(j)<j?E:P:r(j)<j?k:R)(j)}return h.invert=function(j){return new Date(p(j))},h.domain=function(j){return arguments.length?y(Array.from(j,bte)):y().map(vte)},h.ticks=function(j){var I=y();return t(I[0],I[I.length-1],j??10)},h.tickFormat=function(j,I){return I==null?O:d(I)},h.nice=function(j){var I=y();return(!j||typeof j.range!="function")&&(j=e(I[0],I[I.length-1],j??10)),j?y(x$(I,j)):h},h.copy=function(){return Th(h,dA(t,e,r,n,i,a,o,u,c,d))},h}function xte(){return ei.apply(dA(mee,gee,Wa,uA,Dy,Ah,sA,aA,Xs,N$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _te(){return ei.apply(dA(hee,pee,Ha,cA,Ly,My,lA,oA,Xs,R$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $y(){var t=0,e=1,r,n,i,a,o=Xr,u=!1,c;function d(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(y){var x,S;return arguments.length?([x,S]=y,o=p(x,S),d):[o(0),o(1)]}}return d.range=h(Ic),d.rangeRound=h(YT),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),d}}function us(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function M$(){var t=ls($y()(Xr));return t.copy=function(){return us(t,M$())},eo.apply(t,arguments)}function D$(){var t=eA($y()).domain([1,10]);return t.copy=function(){return us(t,D$()).base(t.base())},eo.apply(t,arguments)}function L$(){var t=tA($y());return t.copy=function(){return us(t,L$()).constant(t.constant())},eo.apply(t,arguments)}function fA(){var t=rA($y());return t.copy=function(){return us(t,fA()).exponent(t.exponent())},eo.apply(t,arguments)}function wte(){return fA.apply(null,arguments).exponent(.5)}function $$(){var t=[],e=Xr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Go),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>lZ(t,a/n))},r.copy=function(){return $$(e).domain(t)},eo.apply(r,arguments)}function Vy(){var t=0,e=.5,r=1,n=1,i,a,o,u,c,d=Xr,h,p=!1,y;function x(_){return isNaN(_=+_)?y:(_=.5+((_=+h(_))-a)*(n*_<n*a?u:c),d(p?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([t,e,r]=_,i=h(t=+t),a=h(e=+e),o=h(r=+r),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(_){return arguments.length?(p=!!_,x):p},x.interpolator=function(_){return arguments.length?(d=_,x):d};function S(_){return function(b){var E,P,k;return arguments.length?([E,P,k]=b,d=RZ(_,[E,P,k]),x):[d(0),d(.5),d(1)]}}return x.range=S(Ic),x.rangeRound=S(YT),x.unknown=function(_){return arguments.length?(y=_,x):y},function(_){return h=_,i=_(t),a=_(e),o=_(r),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function V$(){var t=ls(Vy()(Xr));return t.copy=function(){return us(t,V$())},eo.apply(t,arguments)}function F$(){var t=eA(Vy()).domain([.1,1,10]);return t.copy=function(){return us(t,F$()).base(t.base())},eo.apply(t,arguments)}function B$(){var t=tA(Vy());return t.copy=function(){return us(t,B$()).constant(t.constant())},eo.apply(t,arguments)}function hA(){var t=rA(Vy());return t.copy=function(){return us(t,hA()).exponent(t.exponent())},eo.apply(t,arguments)}function Ste(){return hA.apply(null,arguments).exponent(.5)}const cR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tf,scaleDiverging:V$,scaleDivergingLog:F$,scaleDivergingPow:hA,scaleDivergingSqrt:Ste,scaleDivergingSymlog:B$,scaleIdentity:b$,scaleImplicit:mS,scaleLinear:cg,scaleLog:_$,scaleOrdinal:GT,scalePoint:ef,scalePow:nA,scaleQuantile:E$,scaleQuantize:T$,scaleRadial:S$,scaleSequential:M$,scaleSequentialLog:D$,scaleSequentialPow:fA,scaleSequentialQuantile:$$,scaleSequentialSqrt:wte,scaleSequentialSymlog:L$,scaleSqrt:nee,scaleSymlog:w$,scaleThreshold:A$,scaleTime:xte,scaleUtc:_te,tickFormat:v$},Symbol.toStringTag,{value:"Module"}));var hw,dR;function Fy(){if(dR)return hw;dR=1;var t=Ec();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var u=r[a],c=n(u);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,h=u}return h}return hw=e,hw}var pw,fR;function U$(){if(fR)return pw;fR=1;function t(e,r){return e>r}return pw=t,pw}var mw,hR;function Ete(){if(hR)return mw;hR=1;var t=Fy(),e=U$(),r=Ac();function n(i){return i&&i.length?t(i,r,e):void 0}return mw=n,mw}var Tte=Ete();const By=mt(Tte);var gw,pR;function z$(){if(pR)return gw;pR=1;function t(e,r){return e<r}return gw=t,gw}var yw,mR;function Ate(){if(mR)return yw;mR=1;var t=Fy(),e=z$(),r=Ac();function n(i){return i&&i.length?t(i,r,e):void 0}return yw=n,yw}var Pte=Ate();const Uy=mt(Pte);var vw,gR;function Ite(){if(gR)return vw;gR=1;var t=kT(),e=sa(),r=J5(),n=pn();function i(a,o){var u=n(a)?t:r;return u(a,e(o,3))}return vw=i,vw}var bw,yR;function kte(){if(yR)return bw;yR=1;var t=Y5(),e=Ite();function r(n,i){return t(e(n,i),1)}return bw=r,bw}var Ote=kte();const Cte=mt(Ote);var xw,vR;function jte(){if(vR)return xw;vR=1;var t=UT();function e(r,n){return t(r,n)}return xw=e,xw}var Nte=jte();const zy=mt(Nte);var kc=1e9,Rte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mA,Rt=!0,Zn="[DecimalError] ",el=Zn+"Invalid argument: ",pA=Zn+"Exponent out of range: ",Oc=Math.floor,qs=Math.pow,Mte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,br=1e7,kt=7,q$=9007199254740991,pg=Oc(q$/kt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(t){return $a(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,r=e.constructor;return bt($a(e,new r(t),0,1),r.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return er(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(In))throw Error(Zn+"NaN");if(r.s<1)throw Error(Zn+(r.s?"NaN":"-Infinity"));return r.eq(In)?new n(0):(Rt=!1,e=$a(Of(r,a),Of(t,a),a),Rt=!0,bt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G$(e,t):W$(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Zn+"NaN");return r.s?(Rt=!1,e=$a(r,t,0,1).times(t),Rt=!0,r.minus(e)):bt(new n(r),i)};Pe.naturalExponential=Pe.exp=function(){return H$(this)};Pe.naturalLogarithm=Pe.ln=function(){return Of(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W$(e,t):G$(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(el+t);if(e=er(i)+1,n=i.d.length-1,r=n*kt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Pe.squareRoot=Pe.sqrt=function(){var t,e,r,n,i,a,o,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Zn+"NaN")}for(t=er(u),Rt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=qi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Oc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus($a(u,a,o+2)).times(.5),qi(a.d).slice(0,o)===(e=qi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(bt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;o+=4}return Rt=!0,bt(n,r)};Pe.times=Pe.mul=function(t){var e,r,n,i,a,o,u,c,d,h=this,p=h.constructor,y=h.d,x=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,c=y.length,d=x.length,c<d&&(a=y,y=x,x=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+x[n]*y[i-n-1]+e,a[i--]=u%br|0,e=u/br|0;a[i]=(a[i]+e)%br|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Rt?bt(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ta(t,0,kc),e===void 0?e=n.rounding:ta(e,0,8),bt(r,t+er(r)+1,e))};Pe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ll(n,!0):(ta(t,0,kc),e===void 0?e=i.rounding:ta(e,0,8),n=bt(new i(n),t+1,e),r=ll(n,!0,t+1)),r};Pe.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ll(i):(ta(t,0,kc),e===void 0?e=a.rounding:ta(e,0,8),n=bt(new a(i),t+er(i)+1,e),r=ll(n.abs(),!1,t+er(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return bt(new e(t),er(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,r,n,i,a,o,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(In);if(u=new c(u),!u.s){if(t.s<1)throw Error(Zn+"Infinity");return u}if(u.eq(In))return u;if(n=c.precision,t.eq(In))return bt(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=u.s,o){if((r=h<0?-h:h)<=q$){for(i=new c(In),e=Math.ceil(n/kt+4),Rt=!1;r%2&&(i=i.times(u),xR(i.d,e)),r=Oc(r/2),r!==0;)u=u.times(u),xR(u.d,e);return Rt=!0,t.s<0?new c(In).div(i):bt(i,n)}}else if(a<0)throw Error(Zn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Rt=!1,i=t.times(Of(u,n+d)),Rt=!0,i=H$(i),i.s=a,i};Pe.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=er(i),n=ll(i,r<=a.toExpNeg||r>=a.toExpPos)):(ta(t,1,kc),e===void 0?e=a.rounding:ta(e,0,8),i=bt(new a(i),t,e),r=er(i),n=ll(i,t<=r||r<=a.toExpNeg,t)),n};Pe.toSignificantDigits=Pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ta(t,1,kc),e===void 0?e=n.rounding:ta(e,0,8)),bt(new n(r),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=er(t),r=t.constructor;return ll(t,e<=r.toExpNeg||e>=r.toExpPos)};function W$(t,e){var r,n,i,a,o,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Rt?bt(e,p):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,u=d.length):(n=d,i=o,u=c.length),o=Math.ceil(p/kt),u=o>u?o+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/br|0,c[a]%=br;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Rt?bt(e,p):e}function ta(t,e,r){if(t!==~~t||t<e||t>r)throw Error(el+t)}function qi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=kt-n.length,r&&(a+=Co(r)),a+=n;o=t[e],n=o+"",r=kt-n.length,r&&(a+=Co(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var $a=(function(){function t(n,i){var a,o=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+o,n[u]=a%br|0,o=a/br|0;return o&&n.unshift(o),n}function e(n,i,a,o){var u,c;if(a!=o)c=a>o?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*br+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var u,c,d,h,p,y,x,S,_,b,E,P,k,R,O,j,I,C,M=n.constructor,B=n.s==i.s?1:-1,F=n.d,$=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(Zn+"Division by zero");for(c=n.e-i.e,I=$.length,O=F.length,x=new M(B),S=x.d=[],d=0;$[d]==(F[d]||0);)++d;if($[d]>(F[d]||0)&&--c,a==null?P=a=M.precision:o?P=a+(er(n)-er(i))+1:P=a,P<0)return new M(0);if(P=P/kt+2|0,d=0,I==1)for(h=0,$=$[0],P++;(d<O||h)&&P--;d++)k=h*br+(F[d]||0),S[d]=k/$|0,h=k%$|0;else{for(h=br/($[0]+1)|0,h>1&&($=t($,h),F=t(F,h),I=$.length,O=F.length),R=I,_=F.slice(0,I),b=_.length;b<I;)_[b++]=0;C=$.slice(),C.unshift(0),j=$[0],$[1]>=br/2&&++j;do h=0,u=e($,_,I,b),u<0?(E=_[0],I!=b&&(E=E*br+(_[1]||0)),h=E/j|0,h>1?(h>=br&&(h=br-1),p=t($,h),y=p.length,b=_.length,u=e(p,_,y,b),u==1&&(h--,r(p,I<y?C:$,y))):(h==0&&(u=h=1),p=$.slice()),y=p.length,y<b&&p.unshift(0),r(_,p,b),u==-1&&(b=_.length,u=e($,_,I,b),u<1&&(h++,r(_,I<b?C:$,b))),b=_.length):u===0&&(h++,_=[0]),S[d++]=h,u&&_[0]?_[b++]=F[R]||0:(_=[F[R]],b=1);while((R++<O||_[0]!==void 0)&&P--)}return S[0]||S.shift(),x.e=c,bt(x,o?a+er(x)+1:a)}})();function H$(t,e){var r,n,i,a,o,u,c=0,d=0,h=t.constructor,p=h.precision;if(er(t)>16)throw Error(pA+er(t));if(!t.s)return new h(In);for(Rt=!1,u=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(qs(2,d))/Math.LN10*2+5|0,u+=n,r=i=a=new h(In),h.precision=u;;){if(i=bt(i.times(t),u),r=r.times(++c),o=a.plus($a(i,r,u)),qi(o.d).slice(0,u)===qi(a.d).slice(0,u)){for(;d--;)a=bt(a.times(a),u);return h.precision=p,e==null?(Rt=!0,bt(a,p)):a}a=o}}function er(t){for(var e=t.e*kt,r=t.d[0];r>=10;r/=10)e++;return e}function _w(t,e,r){if(e>t.LN10.sd())throw Rt=!0,r&&(t.precision=r),Error(Zn+"LN10 precision limit exceeded");return bt(new t(t.LN10),e)}function Co(t){for(var e="";t--;)e+="0";return e}function Of(t,e){var r,n,i,a,o,u,c,d,h,p=1,y=10,x=t,S=x.d,_=x.constructor,b=_.precision;if(x.s<1)throw Error(Zn+(x.s?"NaN":"-Infinity"));if(x.eq(In))return new _(0);if(e==null?(Rt=!1,d=b):d=e,x.eq(10))return e==null&&(Rt=!0),_w(_,d);if(d+=y,_.precision=d,r=qi(S),n=r.charAt(0),a=er(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=qi(x.d),n=r.charAt(0),p++;a=er(x),n>1?(x=new _("0."+r),a++):x=new _(n+"."+r.slice(1))}else return c=_w(_,d+2,b).times(a+""),x=Of(new _(n+"."+r.slice(1)),d-y).plus(c),_.precision=b,e==null?(Rt=!0,bt(x,b)):x;for(u=o=x=$a(x.minus(In),x.plus(In),d),h=bt(x.times(x),d),i=3;;){if(o=bt(o.times(h),d),c=u.plus($a(o,new _(i),d)),qi(c.d).slice(0,d)===qi(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(_w(_,d+2,b).times(a+""))),u=$a(u,new _(p),d),_.precision=b,e==null?(Rt=!0,bt(u,b)):u;u=c,i+=2}}function bR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Oc(r/kt),t.d=[],n=(r+1)%kt,r<0&&(n+=kt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=kt;n<i;)t.d.push(+e.slice(n,n+=kt));e=e.slice(n),n=kt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Rt&&(t.e>pg||t.e<-pg))throw Error(pA+r)}else t.s=0,t.e=0,t.d=[0];return t}function bt(t,e,r){var n,i,a,o,u,c,d,h,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=kt,i=e,d=p[h=0];else{if(h=Math.ceil((n+1)/kt),a=p.length,h>=a)return t;for(d=a=p[h],o=1;a>=10;a/=10)o++;n%=kt,i=n-kt+o}if(r!==void 0&&(a=qs(10,o-i-1),u=d/a%10|0,c=e<0||p[h+1]!==void 0||d%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?d/qs(10,o-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(a=er(t),p.length=1,e=e-a-1,p[0]=qs(10,(kt-e%kt)%kt),t.e=Oc(-e/kt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,a=1,h--):(p.length=h+1,a=qs(10,kt-n),p[h]=i>0?(d/qs(10,o-i)%qs(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==br&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=br)break;p[h--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(Rt&&(t.e>pg||t.e<-pg))throw Error(pA+er(t));return t}function G$(t,e){var r,n,i,a,o,u,c,d,h,p,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Rt?bt(e,x):e;if(c=t.d,p=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(h=o<0,h?(r=c,o=-o,u=p.length):(r=p,n=d,u=c.length),i=Math.max(Math.ceil(x/kt),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(r=c,c=p,p=r,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=br-1;--c[a],c[i]+=br}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Rt?bt(e,x):e):new y(0)}function ll(t,e,r){var n,i=er(t),a=qi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Co(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Co(-i-1)+a,r&&(n=r-o)>0&&(a+=Co(n))):i>=o?(a+=Co(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Co(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Co(n))),t.s<0?"-"+a:a}function xR(t,e){if(t.length>e)return t.length=e,!0}function K$(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(el+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return bR(o,a.toString())}else if(typeof a!="string")throw Error(el+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Mte.test(a))bR(o,a);else throw Error(el+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K$,i.config=i.set=Dte,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Dte(t){if(!t||typeof t!="object")throw Error(Zn+"Object expected");var e,r,n,i=["precision",1,kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Oc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(el+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(el+r+": "+n);return this}var mA=K$(Rte);In=new mA(1);const gt=mA;function Lte(t){return Bte(t)||Fte(t)||Vte(t)||$te()}function $te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(t,e){if(t){if(typeof t=="string")return bS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bS(t,e)}}function Fte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bte(t){if(Array.isArray(t))return bS(t)}function bS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ute=function(e){return e},X$={},Y$=function(e){return e===X$},_R=function(e){return function r(){return arguments.length===0||arguments.length===1&&Y$(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},zte=function t(e,r){return e===1?r:_R(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(u){return u!==X$}).length;return o>=e?r.apply(void 0,i):t(e-o,_R(function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];var h=i.map(function(p){return Y$(p)?c.shift():p});return r.apply(void 0,Lte(h).concat(c))}))})},qy=function(e){return zte(e.length,e)},xS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},qte=qy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Wte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Ute;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},_S=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Q$=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function Hte(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function Gte(t,e,r){for(var n=new gt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Kte=qy(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Xte=qy(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Yte=qy(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Wy={rangeStep:Gte,getDigitCount:Hte,interpolateNumber:Kte,uninterpolateNumber:Xte,uninterpolateTruncation:Yte};function wS(t){return Zte(t)||Jte(t)||J$(t)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Zte(t){if(Array.isArray(t))return SS(t)}function Cf(t,e){return rre(t)||tre(t,e)||J$(t,e)||ere()}function ere(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J$(t,e){if(t){if(typeof t=="string")return SS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SS(t,e)}}function SS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function rre(t){if(Array.isArray(t))return t}function Z$(t){var e=Cf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function eV(t,e,r){if(t.lte(0))return new gt(0);var n=Wy.getDigitCount(t.toNumber()),i=new gt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,u=new gt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=u.mul(i);return e?c:new gt(Math.ceil(c))}function nre(t,e,r){var n=1,i=new gt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new gt(10).pow(Wy.getDigitCount(t)-1),i=new gt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):r||(i=new gt(Math.floor(t)));var o=Math.floor((e-1)/2),u=Wte(qte(function(c){return i.add(new gt(c-o).mul(n)).toNumber()}),xS);return u(0,e)}function tV(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var a=eV(new gt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new gt(0):(o=new gt(t).add(e).div(2),o=o.sub(new gt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new gt(e).sub(o).div(a).toNumber()),d=u+c+1;return d>r?tV(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,u=e>0?u:u+(r-d)),{step:a,tickMin:o.sub(new gt(u).mul(a)),tickMax:o.add(new gt(c).mul(a))})}function ire(t){var e=Cf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=Z$([r,n]),c=Cf(u,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var p=h===1/0?[d].concat(wS(xS(0,i-1).map(function(){return 1/0}))):[].concat(wS(xS(0,i-1).map(function(){return-1/0})),[h]);return r>n?_S(p):p}if(d===h)return nre(d,i,a);var y=tV(d,h,o,a),x=y.step,S=y.tickMin,_=y.tickMax,b=Wy.rangeStep(S,_.add(new gt(.1).mul(x)),x);return r>n?_S(b):b}function are(t,e){var r=Cf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Z$([n,i]),u=Cf(o,2),c=u[0],d=u[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var h=Math.max(e,2),p=eV(new gt(d).sub(c).div(h-1),a,0),y=[].concat(wS(Wy.rangeStep(new gt(c),new gt(d).sub(new gt(.99).mul(p)),p)),[d]);return n>i?_S(y):y}var ore=Q$(ire),sre=Q$(are),lre="Invariant failed";function ul(t,e){throw new Error(lre)}var ure=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mg.apply(this,arguments)}function cre(t,e){return pre(t)||hre(t,e)||fre(t,e)||dre()}function dre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fre(t,e){if(t){if(typeof t=="string")return wR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wR(t,e)}}function wR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function pre(t){if(Array.isArray(t))return t}function mre(t,e){if(t==null)return{};var r=gre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iV(n.key),n)}}function bre(t,e,r){return e&&vre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xre(t,e,r){return e=gg(e),_re(t,rV()?Reflect.construct(e,r||[],gg(t).constructor):e.apply(t,r))}function _re(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wre(t)}function wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(t)}function Sre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ES(t,e)}function nV(t,e,r){return e=iV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iV(t){var e=Ere(t,"string");return Zu(e)=="symbol"?e:e+""}function Ere(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hy=(function(t){function e(){return yre(this,e),xre(this,e,arguments)}return Sre(e,t),bre(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,u=n.dataKey,c=n.data,d=n.dataPointFormatter,h=n.xAxis,p=n.yAxis,y=mre(n,ure),x=ze(y,!1);this.props.direction==="x"&&h.type!=="number"&&ul();var S=c.map(function(_){var b=d(_,u),E=b.x,P=b.y,k=b.value,R=b.errorVal;if(!R)return null;var O=[],j,I;if(Array.isArray(R)){var C=cre(R,2);j=C[0],I=C[1]}else j=I=R;if(a==="vertical"){var M=h.scale,B=P+i,F=B+o,$=B-o,L=M(k-j),W=M(k+I);O.push({x1:W,y1:F,x2:W,y2:$}),O.push({x1:L,y1:B,x2:W,y2:B}),O.push({x1:L,y1:F,x2:L,y2:$})}else if(a==="horizontal"){var Y=p.scale,te=E+i,ne=te-o,Q=te+o,ae=Y(k-j),ie=Y(k+I);O.push({x1:ne,y1:ie,x2:Q,y2:ie}),O.push({x1:te,y1:ae,x2:te,y2:ie}),O.push({x1:ne,y1:ae,x2:Q,y2:ae})}return G.createElement(yt,mg({className:"recharts-errorBar",key:"bar-".concat(O.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},x),O.map(function(q){return G.createElement("line",mg({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return G.createElement(yt,{className:"recharts-errorBars"},S)}}])})(G.Component);nV(Hy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nV(Hy,"displayName","ErrorBar");function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){Tre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tre(t,e,r){return e=Are(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Are(t){var e=Pre(t,"string");return jf(e)=="symbol"?e:e+""}function Pre(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aV=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=An(r,ku);if(!o)return null;var u=ku.defaultProps,c=u!==void 0?$s($s({},u),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(h,p){var y=p.item,x=p.props,S=x.sectors||x.data||[];return h.concat(S.map(function(_){return{type:o.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):d=(n||[]).map(function(h){var p=h.item,y=p.type.defaultProps,x=y!==void 0?$s($s({},y),p.props):{},S=x.dataKey,_=x.name,b=x.legendType,E=x.hide;return{inactive:E,dataKey:S,type:c.iconType||b||"square",color:gA(p),value:_||S,payload:x}}),$s($s($s({},c),ku.getWithHeight(o,i)),{},{payload:d,item:o})};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function ER(t){return Cre(t)||Ore(t)||kre(t)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kre(t,e){if(t){if(typeof t=="string")return TS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(t,e)}}function Ore(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cre(t){if(Array.isArray(t))return TS(t)}function TS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){Cu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cu(t,e,r){return e=jre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jre(t){var e=Nre(t,"string");return Nf(e)=="symbol"?e:e+""}function Nre(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ai(t,e,r){return ot(t)||ot(e)?r:lr(e)?Yn(t,e,r):Ge(e)?e(t):r}function tf(t,e,r,n){var i=Cte(t,function(u){return Ai(u,e)});if(r==="number"){var a=i.filter(function(u){return _e(u)||parseFloat(u)});return a.length?[Uy(a),By(a)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!ot(u)}):i;return o.map(function(u){return lr(u)||u instanceof Date?u:""})}var Rre=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<u;d++){var h=d>0?i[d-1].coordinate:i[u-1].coordinate,p=i[d].coordinate,y=d>=u-1?i[0].coordinate:i[d+1].coordinate,x=void 0;if(dn(p-h)!==dn(y-p)){var S=[];if(dn(y-p)===dn(c[1]-c[0])){x=y;var _=p+c[1]-c[0];S[0]=Math.min(_,(_+h)/2),S[1]=Math.max(_,(_+h)/2)}else{x=h;var b=y+c[1]-c[0];S[0]=Math.min(p,(b+p)/2),S[1]=Math.max(p,(b+p)/2)}var E=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>E[0]&&e<=E[1]||e>=S[0]&&e<=S[1]){o=i[d].index;break}}else{var P=Math.min(h,y),k=Math.max(h,y);if(e>(P+p)/2&&e<=(k+p)/2){o=i[d].index;break}}}else for(var R=0;R<u;R++)if(R===0&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R===u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2){o=n[R].index;break}return o},gA=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,o=a.stroke,u=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:u;break;default:c=u;break}return c},Mre=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},u=Object.keys(a),c=0,d=u.length;c<d;c++)for(var h=a[u[c]].stackGroups,p=Object.keys(h),y=0,x=p.length;y<x;y++){var S=h[p[y]],_=S.items,b=S.cateAxisId,E=_.filter(function(I){return Da(I.type).indexOf("Bar")>=0});if(E&&E.length){var P=E[0].type.defaultProps,k=P!==void 0?Ut(Ut({},P),E[0].props):E[0].props,R=k.barSize,O=k[b];o[O]||(o[O]=[]);var j=ot(R)?r:R;o[O].push({item:E[0],stackList:E.slice(1),barSize:ot(j)?void 0:wi(j,n,0)})}}return o},Dre=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,u=e.maxBarSize,c=o.length;if(c<1)return null;var d=wi(r,i,0,!0),h,p=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=i/c,S=o.reduce(function(R,O){return R+O.barSize||0},0);S+=(c-1)*d,S>=i&&(S-=(c-1)*d,d=0),S>=i&&x>0&&(y=!0,x*=.9,S=c*x);var _=(i-S)/2>>0,b={offset:_-d,size:0};h=o.reduce(function(R,O){var j={item:O.item,position:{offset:b.offset+b.size+d,size:y?x:O.barSize}},I=[].concat(ER(R),[j]);return b=I[I.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(C){I.push({item:C,position:b})}),I},p)}else{var E=wi(n,i,0,!0);i-2*E-(c-1)*d<=0&&(d=0);var P=(i-2*E-(c-1)*d)/c;P>1&&(P>>=0);var k=u===+u?Math.min(P,u):P;h=o.reduce(function(R,O,j){var I=[].concat(ER(R),[{item:O.item,position:{offset:E+(P+d)*j+(P-k)/2,size:k}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(C){I.push({item:C,position:I[I.length-1].position})}),I},p)}return h},Lre=function(e,r,n,i){var a=n.children,o=n.width,u=n.margin,c=o-(u.left||0)-(u.right||0),d=aV({children:a,legendWidth:c});if(d){var h=i||{},p=h.width,y=h.height,x=d.align,S=d.verticalAlign,_=d.layout;if((_==="vertical"||_==="horizontal"&&S==="middle")&&x!=="center"&&_e(e[x]))return Ut(Ut({},e),{},Cu({},x,e[x]+(p||0)));if((_==="horizontal"||_==="vertical"&&x==="center")&&S!=="middle"&&_e(e[S]))return Ut(Ut({},e),{},Cu({},S,e[S]+(y||0)))}return e},$re=function(e,r,n){return ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},oV=function(e,r,n,i,a){var o=r.props.children,u=Qn(o,Hy).filter(function(d){return $re(i,a,d.props.direction)});if(u&&u.length){var c=u.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var p=Ai(h,n);if(ot(p))return d;var y=Array.isArray(p)?[Uy(p),By(p)]:[p,p],x=c.reduce(function(S,_){var b=Ai(h,_,0),E=y[0]-Math.abs(Array.isArray(b)?b[0]:b),P=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,S[0]),Math.max(P,S[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},Vre=function(e,r,n,i,a){var o=r.map(function(u){return oV(e,u,n,a,i)}).filter(function(u){return!ot(u)});return o&&o.length?o.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},sV=function(e,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&oV(e,c,d,i)||tf(e,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var u={};return o.reduce(function(c,d){for(var h=0,p=d.length;h<p;h++)u[d[h]]||(u[d[h]]=!0,c.push(d[h]));return c},[])},lV=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},uV=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,u=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||u.push(r),o||u.push(n),u},Na=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?dn(u[0]-u[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=a?a.indexOf(p):p;return{coordinate:i(y)+d,value:p,offset:d}});return h.filter(function(p){return!_h(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+d,value:p,index:y,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+d,value:p,offset:d}}):i.domain().map(function(p,y){return{coordinate:i(p)+d,value:a?a[p]:p,index:y,offset:d}})},ww=new WeakMap,am=function(e,r){if(typeof r!="function")return e;ww.has(e)||ww.set(e,new WeakMap);var n=ww.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},cV=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:Tf(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:cg(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ef(),realScaleType:"point"}:a==="category"?{scale:Tf(),realScaleType:"band"}:{scale:cg(),realScaleType:"linear"};if(sl(i)){var c="scale".concat(Ay(i));return{scale:(cR[c]||ef)(),realScaleType:cR[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:ef(),realScaleType:"point"}},AR=1e-4,dV=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-AR,o=Math.max(i[0],i[1])+AR,u=e(r[0]),c=e(r[n-1]);(u<a||u>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},fV=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},hV=function(e,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<n)&&(a[0]=n),(!_e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Fre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,u=0;u<r;++u){var c=_h(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+c,o=e[u][n][1])}},Bre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var u=_h(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Ure={sign:Fre,expand:OX,none:qu,silhouette:CX,wiggle:jX,positive:Bre},zre=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=Ure[n],o=kX().keys(i).value(function(u,c){return+Ai(u,c,0)}).order(tS).offset(a);return o(e)},qre=function(e,r,n,i,a,o){if(!e)return null;var u=o?r.reverse():r,c={},d=u.reduce(function(p,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Ut(Ut({},y.type.defaultProps),y.props):y.props,_=S.stackId,b=S.hide;if(b)return p;var E=S[n],P=p[E]||{hasStack:!1,stackGroups:{}};if(lr(_)){var k=P.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};k.items.push(y),P.hasStack=!0,P.stackGroups[_]=k}else P.stackGroups[Ty("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Ut(Ut({},p),{},Cu({},E,P))},c),h={};return Object.keys(d).reduce(function(p,y){var x=d[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(_,b){var E=x.stackGroups[b];return Ut(Ut({},_),{},Cu({},b,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:zre(e,E.items,a)}))},S)}return Ut(Ut({},p),{},Cu({},y,x))},h)},pV=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=ore(d,a,u);return e.domain([Uy(h),By(h)]),{niceTicks:h}}if(a&&i==="number"){var p=e.domain(),y=sre(p,a,u);return{niceTicks:y}}return null},yg=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=Ai(o,r.dataKey,r.domain[u]);return ot(c)?null:r.scale(c)-a/2+i},mV=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Wre=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(lr(a)){var o=r[a];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},Hre=function(e){return e.reduce(function(r,n){return[Uy(n.concat([r[0]]).filter(_e)),By(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},gV=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],u=o.stackedData,c=u.reduce(function(d,h){var p=Hre(h.slice(r,n+1));return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},PR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AS=function(e,r,n){if(Ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(_e(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(PR.test(e[0])){var a=+PR.exec(e[0])[1];i[0]=r[0]-a}else Ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(_e(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(IR.test(e[1])){var o=+IR.exec(e[1])[1];i[1]=r[1]+o}else Ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},vg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=qT(r,function(p){return p.coordinate}),o=1/0,u=1,c=a.length;u<c;u++){var d=a[u],h=a[u-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},kR=function(e,r,n){return!e||!e.length||zy(e,Yn(n,"type.defaultProps.domain"))?r:e},yA=function(e,r){var n=e.type.defaultProps?Ut(Ut({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,u=n.formatter,c=n.tooltipType,d=n.chartType,h=n.hide;return Ut(Ut({},ze(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:a||i,color:gA(e),value:Ai(r,i),type:c,payload:r,chartType:d,hide:h})};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){yV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yV(t,e,r){return e=Gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=Kre(t,"string");return Rf(e)=="symbol"?e:e+""}function Kre(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xre(t,e){return Zre(t)||Jre(t,e)||Qre(t,e)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qre(t,e){if(t){if(typeof t=="string")return CR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CR(t,e)}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Zre(t){if(Array.isArray(t))return t}var bg=Math.PI/180,ene=function(e){return e*180/Math.PI},Mt=function(e,r,n,i){return{x:e+Math.cos(-bg*i)*n,y:r+Math.sin(-bg*i)*n}},tne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},rne=function(e,r,n,i,a){var o=e.width,u=e.height,c=e.startAngle,d=e.endAngle,h=wi(e.cx,o,o/2),p=wi(e.cy,u,u/2),y=tne(o,u,n),x=wi(e.innerRadius,y,0),S=wi(e.outerRadius,y,y*.8),_=Object.keys(r);return _.reduce(function(b,E){var P=r[E],k=P.domain,R=P.reversed,O;if(ot(P.range))i==="angleAxis"?O=[c,d]:i==="radiusAxis"&&(O=[x,S]),R&&(O=[O[1],O[0]]);else{O=P.range;var j=O,I=Xre(j,2);c=I[0],d=I[1]}var C=cV(P,a),M=C.realScaleType,B=C.scale;B.domain(k).range(O),dV(B);var F=pV(B,Aa(Aa({},P),{},{realScaleType:M})),$=Aa(Aa(Aa({},P),F),{},{range:O,radius:S,realScaleType:M,scale:B,cx:h,cy:p,innerRadius:x,outerRadius:S,startAngle:c,endAngle:d});return Aa(Aa({},b),{},yV({},E,$))},{})},nne=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},ine=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,u=nne({x:n,y:i},{x:a,y:o});if(u<=0)return{radius:u};var c=(n-a)/u,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:u,angle:ene(d),angleInRadian:d}},ane=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},one=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(a,o);return e+u*360},jR=function(e,r){var n=e.x,i=e.y,a=ine({x:n,y:i},r),o=a.radius,u=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=ane(r),p=h.startAngle,y=h.endAngle,x=u,S;if(p<=y){for(;x>y;)x-=360;for(;x<p;)x+=360;S=x>=p&&x<=y}else{for(;x>p;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=p}return S?Aa(Aa({},r),{},{radius:o,angle:one(x,r)}):null},vV=function(e){return!D.isValidElement(e)&&!Ge(e)&&typeof e!="boolean"?e.className:""};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var sne=["offset"];function lne(t){return fne(t)||dne(t)||cne(t)||une()}function une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cne(t,e){if(t){if(typeof t=="string")return PS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PS(t,e)}}function dne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fne(t){if(Array.isArray(t))return PS(t)}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hne(t,e){if(t==null)return{};var r=pne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(r),!0).forEach(function(n){mne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mne(t,e,r){return e=gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gne(t){var e=yne(t,"string");return Mf(e)=="symbol"?e:e+""}function yne(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}var vne=function(e){var r=e.value,n=e.formatter,i=ot(e.children)?r:e.children;return Ge(n)?n(i):i},bne=function(e,r){var n=dn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},xne=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,u=e.className,c=a,d=c.cx,h=c.cy,p=c.innerRadius,y=c.outerRadius,x=c.startAngle,S=c.endAngle,_=c.clockWise,b=(p+y)/2,E=bne(x,S),P=E>=0?1:-1,k,R;i==="insideStart"?(k=x+P*o,R=_):i==="insideEnd"?(k=S-P*o,R=!_):i==="end"&&(k=S+P*o,R=_),R=E<=0?R:!R;var O=Mt(d,h,b,k),j=Mt(d,h,b,k+(R?1:-1)*359),I="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(R?0:1,`,
    `).concat(j.x,",").concat(j.y),C=ot(e.id)?Ty("recharts-radial-line-"):e.id;return G.createElement("text",Df({},n,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",u)}),G.createElement("defs",null,G.createElement("path",{id:C,d:I})),G.createElement("textPath",{xlinkHref:"#".concat(C)},r))},_ne=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,u=a.cy,c=a.innerRadius,d=a.outerRadius,h=a.startAngle,p=a.endAngle,y=(h+p)/2;if(i==="outside"){var x=Mt(o,u,d+n,y),S=x.x,_=x.y;return{x:S,y:_,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,E=Mt(o,u,b,y),P=E.x,k=E.y;return{x:P,y:k,textAnchor:"middle",verticalAnchor:"middle"}},wne=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,u=o.x,c=o.y,d=o.width,h=o.height,p=h>=0?1:-1,y=p*i,x=p>0?"end":"start",S=p>0?"start":"end",_=d>=0?1:-1,b=_*i,E=_>0?"end":"start",P=_>0?"start":"end";if(a==="top"){var k={x:u+d/2,y:c-p*i,textAnchor:"middle",verticalAnchor:x};return sr(sr({},k),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var R={x:u+d/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return sr(sr({},R),n?{height:Math.max(n.y+n.height-(c+h),0),width:d}:{})}if(a==="left"){var O={x:u-b,y:c+h/2,textAnchor:E,verticalAnchor:"middle"};return sr(sr({},O),n?{width:Math.max(O.x-n.x,0),height:h}:{})}if(a==="right"){var j={x:u+d+b,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return sr(sr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:h}:{})}var I=n?{width:d,height:h}:{};return a==="insideLeft"?sr({x:u+b,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},I):a==="insideRight"?sr({x:u+d-b,y:c+h/2,textAnchor:E,verticalAnchor:"middle"},I):a==="insideTop"?sr({x:u+d/2,y:c+y,textAnchor:"middle",verticalAnchor:S},I):a==="insideBottom"?sr({x:u+d/2,y:c+h-y,textAnchor:"middle",verticalAnchor:x},I):a==="insideTopLeft"?sr({x:u+b,y:c+y,textAnchor:P,verticalAnchor:S},I):a==="insideTopRight"?sr({x:u+d-b,y:c+y,textAnchor:E,verticalAnchor:S},I):a==="insideBottomLeft"?sr({x:u+b,y:c+h-y,textAnchor:P,verticalAnchor:x},I):a==="insideBottomRight"?sr({x:u+d-b,y:c+h-y,textAnchor:E,verticalAnchor:x},I):Tc(a)&&(_e(a.x)||Gs(a.x))&&(_e(a.y)||Gs(a.y))?sr({x:u+wi(a.x,d),y:c+wi(a.y,h),textAnchor:"end",verticalAnchor:"end"},I):sr({x:u+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Sne=function(e){return"cx"in e&&_e(e.cx)};function Or(t){var e=t.offset,r=e===void 0?5:e,n=hne(t,sne),i=sr({offset:r},n),a=i.viewBox,o=i.position,u=i.value,c=i.children,d=i.content,h=i.className,p=h===void 0?"":h,y=i.textBreakAll;if(!a||ot(u)&&ot(c)&&!D.isValidElement(d)&&!Ge(d))return null;if(D.isValidElement(d))return D.cloneElement(d,i);var x;if(Ge(d)){if(x=D.createElement(d,i),D.isValidElement(x))return x}else x=vne(i);var S=Sne(a),_=ze(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return xne(i,x,_);var b=S?_ne(i):wne(i);return G.createElement(Xu,Df({className:Ye("recharts-label",p)},_,b,{breakAll:y}),x)}Or.displayName="Label";var bV=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,u=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,x=e.top,S=e.left,_=e.width,b=e.height,E=e.clockWise,P=e.labelViewBox;if(P)return P;if(_e(_)&&_e(b)){if(_e(p)&&_e(y))return{x:p,y,width:_,height:b};if(_e(x)&&_e(S))return{x,y:S,width:_,height:b}}return _e(p)&&_e(y)?{x:p,y,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:h||c||u||0,clockWise:E}:e.viewBox?e.viewBox:{}},Ene=function(e,r){return e?e===!0?G.createElement(Or,{key:"label-implicit",viewBox:r}):lr(e)?G.createElement(Or,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===Or?D.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(Or,{key:"label-implicit",content:e,viewBox:r}):Ge(e)?G.createElement(Or,{key:"label-implicit",content:e,viewBox:r}):Tc(e)?G.createElement(Or,Df({viewBox:r},e,{key:"label-implicit"})):null:null},Tne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=bV(e),o=Qn(i,Or).map(function(c,d){return D.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var u=Ene(e.label,r||a);return[u].concat(lne(o))};Or.parseViewBox=bV;Or.renderCallByParent=Tne;var Sw,RR;function Ane(){if(RR)return Sw;RR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Sw=t,Sw}var Pne=Ane();const Ine=mt(Pne);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var kne=["valueAccessor"],One=["data","dataKey","clockWise","id","textBreakAll"];function Cne(t){return Mne(t)||Rne(t)||Nne(t)||jne()}function jne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,e){if(t){if(typeof t=="string")return IS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IS(t,e)}}function Rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mne(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){Dne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dne(t,e,r){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lne(t){var e=$ne(t,"string");return Lf(e)=="symbol"?e:e+""}function $ne(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LR(t,e){if(t==null)return{};var r=Vne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Fne=function(e){return Array.isArray(e.value)?Ine(e.value):e.value};function Ko(t){var e=t.valueAccessor,r=e===void 0?Fne:e,n=LR(t,kne),i=n.data,a=n.dataKey,o=n.clockWise,u=n.id,c=n.textBreakAll,d=LR(n,One);return!i||!i.length?null:G.createElement(yt,{className:"recharts-label-list"},i.map(function(h,p){var y=ot(a)?r(h,p):Ai(h&&h.payload,a),x=ot(u)?{}:{id:"".concat(u,"-").concat(p)};return G.createElement(Or,xg({},ze(h,!0),d,x,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:Or.parseViewBox(ot(o)?h:DR(DR({},h),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Ko.displayName="LabelList";function Bne(t,e){return t?t===!0?G.createElement(Ko,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Ge(t)?G.createElement(Ko,{key:"labelList-implicit",data:e,content:t}):Tc(t)?G.createElement(Ko,xg({data:e},t,{key:"labelList-implicit"})):null:null}function Une(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Qn(n,Ko).map(function(o,u){return D.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=Bne(t.label,e);return[a].concat(Cne(i))}Ko.renderCallByParent=Une;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kS.apply(this,arguments)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){zne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zne(t,e,r){return e=qne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qne(t){var e=Wne(t,"string");return $f(e)=="symbol"?e:e+""}function Wne(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hne=function(e,r){var n=dn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},om=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,u=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/bg,y=d?a:a+o*p,x=Mt(r,n,h,y),S=Mt(r,n,i,y),_=d?a-o*p:a,b=Mt(r,n,h*Math.cos(p*bg),_);return{center:x,circleTangency:S,lineTangency:b,theta:p}},xV=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,u=e.endAngle,c=Hne(o,u),d=o+c,h=Mt(r,n,a,o),p=Mt(r,n,a,d),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var x=Mt(r,n,i,o),S=Mt(r,n,i,d);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},Gne=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,p=dn(h-d),y=om({cx:r,cy:n,radius:a,angle:d,sign:p,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,S=y.lineTangency,_=y.theta,b=om({cx:r,cy:n,radius:a,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:c}),E=b.circleTangency,P=b.lineTangency,k=b.theta,R=c?Math.abs(d-h):Math.abs(d-h)-_-k;if(R<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):xV({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h});var O="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
  `);if(i>0){var j=om({cx:r,cy:n,radius:i,angle:d,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=j.circleTangency,C=j.lineTangency,M=j.theta,B=om({cx:r,cy:n,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),F=B.circleTangency,$=B.lineTangency,L=B.theta,W=c?Math.abs(d-h):Math.abs(d-h)-M-L;if(W<0&&o===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},Kne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_V=function(e){var r=VR(VR({},Kne),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,y=r.className;if(o<a||h===p)return null;var x=Ye("recharts-sector",y),S=o-a,_=wi(u,S,0,!0),b;return _>0&&Math.abs(h-p)<360?b=Gne({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,S/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:p}):b=xV({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:p}),G.createElement("path",kS({},ze(r,!0),{className:x,d:b,role:"img"}))};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OS.apply(this,arguments)}function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){Xne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xne(t,e,r){return e=Yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yne(t){var e=Qne(t,"string");return Vf(e)=="symbol"?e:e+""}function Qne(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UR={curveBasisClosed:vX,curveBasisOpen:bX,curveBasis:yX,curveBumpX:nX,curveBumpY:iX,curveLinearClosed:xX,curveLinear:Iy,curveMonotoneX:_X,curveMonotoneY:wX,curveNatural:SX,curveStep:EX,curveStepAfter:AX,curveStepBefore:TX},sm=function(e){return e.x===+e.x&&e.y===+e.y},Od=function(e){return e.x},Cd=function(e){return e.y},Jne=function(e,r){if(Ge(e))return e;var n="curve".concat(Ay(e));return(n==="curveMonotone"||n==="curveBump")&&r?UR["".concat(n).concat(r==="vertical"?"Y":"X")]:UR[n]||Iy},Zne=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,u=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=Jne(n,u),p=d?a.filter(function(_){return sm(_)}):a,y;if(Array.isArray(o)){var x=d?o.filter(function(_){return sm(_)}):o,S=p.map(function(_,b){return BR(BR({},_),{},{base:x[b]})});return u==="vertical"?y=Jp().y(Cd).x1(Od).x0(function(_){return _.base.x}):y=Jp().x(Od).y1(Cd).y0(function(_){return _.base.y}),y.defined(sm).curve(h),y(S)}return u==="vertical"&&_e(o)?y=Jp().y(Cd).x1(Od).x0(o):_e(o)?y=Jp().x(Od).y1(Cd).y0(o):y=b5().x(Od).y(Cd),y.defined(sm).curve(h),y(p)},zR=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Zne(e):i;return D.createElement("path",OS({},ze(e,!1),Hm(e),{className:Ye("recharts-curve",r),d:o,ref:a}))},Ew={exports:{}},Tw,qR;function eie(){if(qR)return Tw;qR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tw=t,Tw}var Aw,WR;function tie(){if(WR)return Aw;WR=1;var t=eie();function e(){}function r(){}return r.resetWarningCache=e,Aw=function(){function n(o,u,c,d,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Aw}var HR;function rie(){return HR||(HR=1,Ew.exports=tie()()),Ew.exports}var nie=rie();const ct=mt(nie),{getOwnPropertyNames:iie,getOwnPropertySymbols:aie}=Object,{hasOwnProperty:oie}=Object.prototype;function Pw(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function lm(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),u=a.get(n);if(o&&u)return o===n&&u===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function sie(t){return t!=null?t[Symbol.toStringTag]:void 0}function GR(t){return iie(t).concat(aie(t))}const lie=Object.hasOwn||((t,e)=>oie.call(t,e));function _l(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const uie="__v",cie="__o",die="_owner",{getOwnPropertyDescriptor:KR,keys:XR}=Object;function fie(t,e){return t.byteLength===e.byteLength&&_g(new Uint8Array(t),new Uint8Array(e))}function hie(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function pie(t,e){return t.byteLength===e.byteLength&&_g(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function mie(t,e){return _l(t.getTime(),e.getTime())}function gie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yie(t,e){return t===e}function YR(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,u,c=0;for(;(o=a.next())&&!o.done;){const d=e.entries();let h=!1,p=0;for(;(u=d.next())&&!u.done;){if(i[p]){p++;continue}const y=o.value,x=u.value;if(r.equals(y[0],x[0],c,p,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const vie=_l;function bie(t,e,r){const n=XR(t);let i=n.length;if(XR(e).length!==i)return!1;for(;i-- >0;)if(!wV(t,e,r,n[i]))return!1;return!0}function jd(t,e,r){const n=GR(t);let i=n.length;if(GR(e).length!==i)return!1;let a,o,u;for(;i-- >0;)if(a=n[i],!wV(t,e,r,a)||(o=KR(t,a),u=KR(e,a),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function xie(t,e){return _l(t.valueOf(),e.valueOf())}function _ie(t,e){return t.source===e.source&&t.flags===e.flags}function QR(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,u;for(;(o=a.next())&&!o.done;){const c=e.values();let d=!1,h=0;for(;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function _g(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function wie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function wV(t,e,r,n){return(n===die||n===cie||n===uie)&&(t.$$typeof||e.$$typeof)?!0:lie(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Sie="[object ArrayBuffer]",Eie="[object Arguments]",Tie="[object Boolean]",Aie="[object DataView]",Pie="[object Date]",Iie="[object Error]",kie="[object Map]",Oie="[object Number]",Cie="[object Object]",jie="[object RegExp]",Nie="[object Set]",Rie="[object String]",Mie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Die="[object URL]",Lie=Object.prototype.toString;function $ie({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:y,areUrlsEqual:x,unknownTagComparators:S}){return function(b,E,P){if(b===E)return!0;if(b==null||E==null)return!1;const k=typeof b;if(k!==typeof E)return!1;if(k!=="object")return k==="number"?u(b,E,P):k==="function"?a(b,E,P):!1;const R=b.constructor;if(R!==E.constructor)return!1;if(R===Object)return c(b,E,P);if(Array.isArray(b))return e(b,E,P);if(R===Date)return n(b,E,P);if(R===RegExp)return h(b,E,P);if(R===Map)return o(b,E,P);if(R===Set)return p(b,E,P);const O=Lie.call(b);if(O===Pie)return n(b,E,P);if(O===jie)return h(b,E,P);if(O===kie)return o(b,E,P);if(O===Nie)return p(b,E,P);if(O===Cie)return typeof b.then!="function"&&typeof E.then!="function"&&c(b,E,P);if(O===Die)return x(b,E,P);if(O===Iie)return i(b,E,P);if(O===Eie)return c(b,E,P);if(Mie[O])return y(b,E,P);if(O===Sie)return t(b,E,P);if(O===Aie)return r(b,E,P);if(O===Tie||O===Oie||O===Rie)return d(b,E,P);if(S){let j=S[O];if(!j){const I=sie(b);I&&(j=S[I])}if(j)return j(b,E,P)}return!1}}function Vie({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:fie,areArraysEqual:r?jd:hie,areDataViewsEqual:pie,areDatesEqual:mie,areErrorsEqual:gie,areFunctionsEqual:yie,areMapsEqual:r?Pw(YR,jd):YR,areNumbersEqual:vie,areObjectsEqual:r?jd:bie,arePrimitiveWrappersEqual:xie,areRegExpsEqual:_ie,areSetsEqual:r?Pw(QR,jd):QR,areTypedArraysEqual:r?Pw(_g,jd):_g,areUrlsEqual:wie,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=lm(n.areArraysEqual),a=lm(n.areMapsEqual),o=lm(n.areObjectsEqual),u=lm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:u})}return n}function Fie(t){return function(e,r,n,i,a,o,u){return t(e,r,u)}}function Bie({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(u,c){const{cache:d=t?new WeakMap:void 0,meta:h}=r();return e(u,c,{cache:d,equals:n,meta:h,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,c){return e(u,c,a)}}const Uie=cs();cs({strict:!0});cs({circular:!0});cs({circular:!0,strict:!0});cs({createInternalComparator:()=>_l});cs({strict:!0,createInternalComparator:()=>_l});cs({circular:!0,createInternalComparator:()=>_l});cs({circular:!0,createInternalComparator:()=>_l,strict:!0});function cs(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Vie(t),o=$ie(a),u=r?r(o):Fie(o);return Bie({circular:e,comparator:o,createState:n,equals:u,strict:i})}function zie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function JR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):zie(i)};requestAnimationFrame(n)}function CS(t){"@babel/helpers - typeof";return CS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CS(t)}function qie(t){return Kie(t)||Gie(t)||Hie(t)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(t,e){if(t){if(typeof t=="string")return ZR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZR(t,e)}}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kie(t){if(Array.isArray(t))return t}function Xie(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,u=qie(o),c=u[0],d=u.slice(1);if(typeof c=="number"){JR(i.bind(null,d),c);return}i(c),JR(i.bind(null,d));return}CS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function eM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(r),!0).forEach(function(n){SV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SV(t,e,r){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yie(t){var e=Qie(t,"string");return Ff(e)==="symbol"?e:String(e)}function Qie(t,e){if(Ff(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jie=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Zie=function(e){return e},eae=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},rf=function(e,r){return Object.keys(r).reduce(function(n,i){return tM(tM({},n),{},SV({},i,e(i,r[i])))},{})},rM=function(e,r,n){return e.map(function(i){return"".concat(eae(i)," ").concat(r,"ms ").concat(n)}).join(",")};function tae(t,e){return iae(t)||nae(t,e)||EV(t,e)||rae()}function rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function iae(t){if(Array.isArray(t))return t}function aae(t){return lae(t)||sae(t)||EV(t)||oae()}function oae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(t,e){if(t){if(typeof t=="string")return jS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jS(t,e)}}function sae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lae(t){if(Array.isArray(t))return jS(t)}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wg=1e-4,TV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},AV=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},nM=function(e,r){return function(n){var i=TV(e,r);return AV(i,n)}},uae=function(e,r){return function(n){var i=TV(e,r),a=[].concat(aae(i.map(function(o,u){return o*u}).slice(1)),[0]);return AV(a,n)}},iM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,u=1;break;case"ease":i=.25,a=.1,o=.25,u=1;break;case"ease-in":i=.42,a=0,o=1,u=1;break;case"ease-out":i=.42,a=0,o=.58,u=1;break;case"ease-in-out":i=0,a=0,o=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=tae(d,4);i=h[0],a=h[1],o=h[2],u=h[3]}}}var p=nM(i,o),y=nM(a,u),x=uae(i,o),S=function(E){return E>1?1:E<0?0:E},_=function(E){for(var P=E>1?1:E,k=P,R=0;R<8;++R){var O=p(k)-P,j=x(k);if(Math.abs(O-P)<wg||j<wg)return y(k);k=S(k-O/j)}return y(k)};return _.isStepper=!1,_},cae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,c=function(h,p,y){var x=-(h-p)*n,S=y*a,_=y+(x-S)*u/1e3,b=y*u/1e3+h;return Math.abs(b-p)<wg&&Math.abs(_)<wg?[p,0]:[b,_]};return c.isStepper=!0,c.dt=u,c},dae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iM(i);case"spring":return cae();default:if(i.split("(")[0]==="cubic-bezier")return iM(i)}return typeof i=="function"?i:null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function aM(t){return pae(t)||hae(t)||PV(t)||fae()}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pae(t){if(Array.isArray(t))return RS(t)}function oM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(r),!0).forEach(function(n){NS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NS(t,e,r){return e=mae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mae(t){var e=gae(t,"string");return Bf(e)==="symbol"?e:String(e)}function gae(t,e){if(Bf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yae(t,e){return xae(t)||bae(t,e)||PV(t,e)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(t,e){if(t){if(typeof t=="string")return RS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RS(t,e)}}function RS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function xae(t){if(Array.isArray(t))return t}var Sg=function(e,r,n){return e+(r-e)*n},MS=function(e){var r=e.from,n=e.to;return r!==n},_ae=function t(e,r,n){var i=rf(function(a,o){if(MS(o)){var u=e(o.from,o.to,o.velocity),c=yae(u,2),d=c[0],h=c[1];return Ir(Ir({},o),{},{from:d,velocity:h})}return o},r);return n<1?rf(function(a,o){return MS(o)?Ir(Ir({},o),{},{velocity:Sg(o.velocity,i[a].velocity,n),from:Sg(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const wae=(function(t,e,r,n,i){var a=Jie(t,e),o=a.reduce(function(b,E){return Ir(Ir({},b),{},NS({},E,[t[E],e[E]]))},{}),u=a.reduce(function(b,E){return Ir(Ir({},b),{},NS({},E,{from:t[E],velocity:0,to:e[E]}))},{}),c=-1,d,h,p=function(){return null},y=function(){return rf(function(E,P){return P.from},u)},x=function(){return!Object.values(u).filter(MS).length},S=function(E){d||(d=E);var P=E-d,k=P/r.dt;u=_ae(r,u,k),i(Ir(Ir(Ir({},t),e),y())),d=E,x()||(c=requestAnimationFrame(p))},_=function(E){h||(h=E);var P=(E-h)/n,k=rf(function(O,j){return Sg.apply(void 0,aM(j).concat([r(P)]))},o);if(i(Ir(Ir(Ir({},t),e),k)),P<1)c=requestAnimationFrame(p);else{var R=rf(function(O,j){return Sg.apply(void 0,aM(j).concat([r(1)]))},o);i(Ir(Ir(Ir({},t),e),R))}};return p=r.isStepper?S:_,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}var Sae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Eae(t,e){if(t==null)return{};var r=Tae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tae(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Iw(t){return kae(t)||Iae(t)||Pae(t)||Aae()}function Aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pae(t,e){if(t){if(typeof t=="string")return DS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DS(t,e)}}function Iae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kae(t){if(Array.isArray(t))return DS(t)}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(r),!0).forEach(function(n){Wd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wd(t,e,r){return e=IV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IV(n.key),n)}}function jae(t,e,r){return e&&Cae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IV(t){var e=Nae(t,"string");return ec(e)==="symbol"?e:String(e)}function Nae(t,e){if(ec(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ec(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LS(t,e)}function Mae(t){var e=Dae();return function(){var n=Eg(t),i;if(e){var a=Eg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return $S(this,i)}}function $S(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VS(t)}function VS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(t)}var Ga=(function(t){Rae(r,t);var e=Mae(r);function r(n,i){var a;Oae(this,r),a=e.call(this,n,i);var o=a.props,u=o.isActive,c=o.attributeName,d=o.from,h=o.to,p=o.steps,y=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(VS(a)),a.changeStyle=a.changeStyle.bind(VS(a)),!u||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),$S(a);if(p&&p.length)a.state={style:p[0].style};else if(d){if(typeof y=="function")return a.state={style:d},$S(a);a.state={style:c?Wd({},c,d):d}}else a.state={style:{}};return a}return jae(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,u=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,h=a.to,p=a.from,y=this.state.style;if(u){if(!o){var x={style:c?Wd({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(x);return}if(!(Uie(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=S||d?p:i.to;if(this.state&&y){var b={style:c?Wd({},c,_):_};(c&&y[c]!==_||!c&&y!==_)&&this.setState(b)}this.runAnimation(yi(yi({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,u=i.to,c=i.duration,d=i.easing,h=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,x=wae(o,u,dae(d),c,this.changeStyle),S=function(){a.stopJSAnimation=x()};this.manager.start([y,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,u=i.begin,c=i.onAnimationStart,d=o[0],h=d.style,p=d.duration,y=p===void 0?0:p,x=function(_,b,E){if(E===0)return _;var P=b.duration,k=b.easing,R=k===void 0?"ease":k,O=b.style,j=b.properties,I=b.onAnimationEnd,C=E>0?o[E-1]:b,M=j||Object.keys(O);if(typeof R=="function"||R==="spring")return[].concat(Iw(_),[a.runJSAnimation.bind(a,{from:C.style,to:O,duration:P,easing:R}),P]);var B=rM(M,P,R),F=yi(yi(yi({},C.style),O),{},{transition:B});return[].concat(Iw(_),[F,P,I]).filter(Zie)};return this.manager.start([c].concat(Iw(o.reduce(x,[h,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Xie());var a=i.begin,o=i.duration,u=i.attributeName,c=i.to,d=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var _=u?Wd({},u,c):c,b=rM(Object.keys(_),o,d);S.start([h,a,yi(yi({},_),{},{transition:b}),o,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Eae(i,Sae),d=D.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||d===0||o<=0)return a;var p=function(x){var S=x.props,_=S.style,b=_===void 0?{}:_,E=S.className,P=D.cloneElement(x,yi(yi({},c),{},{style:yi(yi({},b),h),className:E}));return P};return d===1?p(D.Children.only(a)):G.createElement("div",null,D.Children.map(a,function(y){return p(y)}))}}]),r})(D.PureComponent);Ga.displayName="Animate";Ga.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ga.propTypes={from:ct.oneOfType([ct.object,ct.string]),to:ct.oneOfType([ct.object,ct.string]),attributeName:ct.string,duration:ct.number,begin:ct.number,easing:ct.oneOfType([ct.string,ct.func]),steps:ct.arrayOf(ct.shape({duration:ct.number.isRequired,style:ct.object.isRequired,easing:ct.oneOfType([ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ct.func]),properties:ct.arrayOf("string"),onAnimationEnd:ct.func})),children:ct.oneOfType([ct.node,ct.func]),isActive:ct.bool,canBegin:ct.bool,onAnimationEnd:ct.func,shouldReAnimate:ct.bool,onAnimationStart:ct.func,onAnimationReStart:ct.func};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function Lae(t,e){return Bae(t)||Fae(t,e)||Vae(t,e)||$ae()}function $ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vae(t,e){if(t){if(typeof t=="string")return lM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lM(t,e)}}function lM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Bae(t){if(Array.isArray(t))return t}function uM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(r),!0).forEach(function(n){Uae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uae(t,e,r){return e=zae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zae(t){var e=qae(t,"string");return Uf(e)=="symbol"?e:e+""}function qae(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dM=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,h;if(o>0&&a instanceof Array){for(var p=[0,0,0,0],y=0,x=4;y<x;y++)p[y]=a[y]>o?o:a[y];h="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+c*p[0],",").concat(r)),h+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+u*p[1])),h+="L ".concat(e+n,",").concat(r+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),h+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-u*p[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);h="M ".concat(e,",").concat(r+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n,",").concat(r+u*S,`
            L `).concat(e+n,",").concat(r+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e,",").concat(r+i-u*S," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},Wae=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var d=Math.min(a,a+u),h=Math.max(a,a+u),p=Math.min(o,o+c),y=Math.max(o,o+c);return n>=d&&n<=h&&i>=p&&i<=y}return!1},Hae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vA=function(e){var r=cM(cM({},Hae),e),n=D.useRef(),i=D.useState(-1),a=Lae(i,2),o=a[0],u=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&u(R)}catch{}},[]);var c=r.x,d=r.y,h=r.width,p=r.height,y=r.radius,x=r.className,S=r.animationEasing,_=r.animationDuration,b=r.animationBegin,E=r.isAnimationActive,P=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||p!==+p||h===0||p===0)return null;var k=Ye("recharts-rectangle",x);return P?G.createElement(Ga,{canBegin:o>0,from:{width:h,height:p,x:c,y:d},to:{width:h,height:p,x:c,y:d},duration:_,animationEasing:S,isActive:P},function(R){var O=R.width,j=R.height,I=R.x,C=R.y;return G.createElement(Ga,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,isActive:E,easing:S},G.createElement("path",Tg({},ze(r,!0),{className:k,d:dM(I,C,O,j,y),ref:n})))}):G.createElement("path",Tg({},ze(r,!0),{className:k,d:dM(c,d,h,p,y)}))},Gae=["points","className","baseLinePoints","connectNulls"];function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xu.apply(this,arguments)}function Kae(t,e){if(t==null)return{};var r=Xae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fM(t){return Zae(t)||Jae(t)||Qae(t)||Yae()}function Yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t,e){if(t){if(typeof t=="string")return FS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(t,e)}}function Jae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zae(t){if(Array.isArray(t))return FS(t)}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hM=function(e){return e&&e.x===+e.x&&e.y===+e.y},eoe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){hM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),hM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},nf=function(e,r){var n=eoe(e);r&&(n=[n.reduce(function(a,o){return[].concat(fM(a),fM(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,u,c){return"".concat(o).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},toe=function(e,r,n){var i=nf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(nf(r.reverse(),n).slice(1))},roe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Kae(e,Gae);if(!r||!r.length)return null;var u=Ye("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=toe(r,i,a);return G.createElement("g",{className:u},G.createElement("path",xu({},ze(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?G.createElement("path",xu({},ze(o,!0),{fill:"none",d:nf(r,a)})):null,c?G.createElement("path",xu({},ze(o,!0),{fill:"none",d:nf(i,a)})):null)}var h=nf(r,a);return G.createElement("path",xu({},ze(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:u,d:h}))};function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BS.apply(this,arguments)}var bA=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ye("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",BS({},ze(e,!1),Hm(e),{className:o,cx:r,cy:n,r:i})):null};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}var noe=["x","y","top","left","width","height","className"];function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},US.apply(this,arguments)}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ioe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){aoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aoe(t,e,r){return e=ooe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ooe(t){var e=soe(t,"string");return zf(e)=="symbol"?e:e+""}function soe(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function loe(t,e){if(t==null)return{};var r=uoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var coe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},doe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,u=o===void 0?0:o,c=e.left,d=c===void 0?0:c,h=e.width,p=h===void 0?0:h,y=e.height,x=y===void 0?0:y,S=e.className,_=loe(e,noe),b=ioe({x:n,y:a,top:u,left:d,width:p,height:x},_);return!_e(n)||!_e(a)||!_e(p)||!_e(x)||!_e(u)||!_e(d)?null:G.createElement("path",US({},ze(b,!0),{className:Ye("recharts-cross",S),d:coe(n,a,p,x,u,d)}))},kw,mM;function foe(){if(mM)return kw;mM=1;var t=Fy(),e=U$(),r=sa();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return kw=n,kw}var hoe=foe();const poe=mt(hoe);var Ow,gM;function moe(){if(gM)return Ow;gM=1;var t=Fy(),e=sa(),r=z$();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return Ow=n,Ow}var goe=moe();const yoe=mt(goe);var voe=["cx","cy","angle","ticks","axisLine"],boe=["ticks","tick","angle","tickFormatter","stroke"];function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},af.apply(this,arguments)}function yM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(r),!0).forEach(function(n){Gy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vM(t,e){if(t==null)return{};var r=xoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OV(n.key),n)}}function woe(t,e,r){return e&&bM(t.prototype,e),r&&bM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Soe(t,e,r){return e=Ag(e),Eoe(t,kV()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function Eoe(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Toe(t)}function Toe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function Aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zS(t,e)}function Gy(t,e,r){return e=OV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OV(t){var e=Poe(t,"string");return tc(e)=="symbol"?e:e+""}function Poe(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ky=(function(t){function e(){return _oe(this,e),Soe(this,e,arguments)}return Aoe(e,t),woe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,u=a.cx,c=a.cy;return Mt(u,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,c=poe(u,function(h){return h.coordinate||0}),d=yoe(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,c=n.axisLine,d=vM(n,voe),h=u.reduce(function(S,_){return[Math.min(S[0],_.coordinate),Math.max(S[1],_.coordinate)]},[1/0,-1/0]),p=Mt(i,a,h[0],o),y=Mt(i,a,h[1],o),x=Vs(Vs(Vs({},ze(d,!1)),{},{fill:"none"},ze(c,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return G.createElement("line",af({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.angle,c=i.tickFormatter,d=i.stroke,h=vM(i,boe),p=this.getTickTextAnchor(),y=ze(h,!1),x=ze(o,!1),S=a.map(function(_,b){var E=n.getTickValueCoord(_),P=Vs(Vs(Vs(Vs({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(E.x,", ").concat(E.y,")")},y),{},{stroke:"none",fill:d},x),{},{index:b},E),{},{payload:_});return G.createElement(yt,af({className:Ye("recharts-polar-radius-axis-tick",vV(o)),key:"tick-".concat(_.coordinate)},rs(n.props,_,b)),e.renderTickItem(o,P,c?c(_.value,b):_.value))});return G.createElement(yt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:G.createElement(yt,{className:Ye("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Ge(n)?o=n(i):o=G.createElement(Xu,af({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(D.PureComponent);Gy(Ky,"displayName","PolarRadiusAxis");Gy(Ky,"axisType","radiusAxis");Gy(Ky,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ws.apply(this,arguments)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){Xy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jV(n.key),n)}}function koe(t,e,r){return e&&_M(t.prototype,e),r&&_M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ooe(t,e,r){return e=Pg(e),Coe(t,CV()?Reflect.construct(e,r||[],Pg(t).constructor):e.apply(t,r))}function Coe(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(t)}function joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}function Noe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qS(t,e)}function Xy(t,e,r){return e=jV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jV(t){var e=Roe(t,"string");return rc(e)=="symbol"?e:e+""}function Roe(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Moe=Math.PI/180,wM=1e-5,Ph=(function(t){function e(){return Ioe(this,e),Ooe(this,e,arguments)}return Noe(e,t),koe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,u=i.radius,c=i.orientation,d=i.tickSize,h=d||8,p=Mt(a,o,u,n.coordinate),y=Mt(a,o,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Moe),o;return a>wM?o=i==="outer"?"start":"end":a<-wM?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,u=n.axisLine,c=n.axisLineType,d=Fs(Fs({},ze(this.props,!1)),{},{fill:"none"},ze(u,!1));if(c==="circle")return G.createElement(bA,Ws({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var h=this.props.ticks,p=h.map(function(y){return Mt(i,a,o,y.coordinate)});return G.createElement(roe,Ws({className:"recharts-polar-angle-axis-line"},d,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.tickLine,c=i.tickFormatter,d=i.stroke,h=ze(this.props,!1),p=ze(o,!1),y=Fs(Fs({},h),{},{fill:"none"},ze(u,!1)),x=a.map(function(S,_){var b=n.getTickLineCoord(S),E=n.getTickTextAnchor(S),P=Fs(Fs(Fs({textAnchor:E},h),{},{stroke:"none",fill:d},p),{},{index:_,payload:S,x:b.x2,y:b.y2});return G.createElement(yt,Ws({className:Ye("recharts-polar-angle-axis-tick",vV(o)),key:"tick-".concat(S.coordinate)},rs(n.props,S,_)),u&&G.createElement("line",Ws({className:"recharts-polar-angle-axis-tick-line"},y,b)),o&&e.renderTickItem(o,P,c?c(S.value,_):S.value))});return G.createElement(yt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:G.createElement(yt,{className:Ye("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):Ge(n)?o=n(i):o=G.createElement(Xu,Ws({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(D.PureComponent);Xy(Ph,"displayName","PolarAngleAxis");Xy(Ph,"axisType","angleAxis");Xy(Ph,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Cw,SM;function Doe(){if(SM)return Cw;SM=1;var t=U5(),e=t(Object.getPrototypeOf,Object);return Cw=e,Cw}var jw,EM;function Loe(){if(EM)return jw;EM=1;var t=Ja(),e=Doe(),r=Za(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,u=a.hasOwnProperty,c=o.call(Object);function d(h){if(!r(h)||t(h)!=n)return!1;var p=e(h);if(p===null)return!0;var y=u.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==c}return jw=d,jw}var $oe=Loe();const Voe=mt($oe);var Nw,TM;function Foe(){if(TM)return Nw;TM=1;var t=Ja(),e=Za(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Nw=n,Nw}var Boe=Foe();const Uoe=mt(Boe);function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(this,arguments)}function zoe(t,e){return Goe(t)||Hoe(t,e)||Woe(t,e)||qoe()}function qoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Woe(t,e){if(t){if(typeof t=="string")return AM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(t,e)}}function AM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Goe(t){if(Array.isArray(t))return t}function PM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(r),!0).forEach(function(n){Koe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Koe(t,e,r){return e=Xoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xoe(t){var e=Yoe(t,"string");return qf(e)=="symbol"?e:e+""}function Yoe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kM=function(e,r,n,i,a){var o=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+a),u+="L ".concat(e+n-o/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},Qoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Joe=function(e){var r=IM(IM({},Qoe),e),n=D.useRef(),i=D.useState(-1),a=zoe(i,2),o=a[0],u=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&u(k)}catch{}},[]);var c=r.x,d=r.y,h=r.upperWidth,p=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,_=r.animationDuration,b=r.animationBegin,E=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var P=Ye("recharts-trapezoid",x);return E?G.createElement(Ga,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:d},to:{upperWidth:h,lowerWidth:p,height:y,x:c,y:d},duration:_,animationEasing:S,isActive:E},function(k){var R=k.upperWidth,O=k.lowerWidth,j=k.height,I=k.x,C=k.y;return G.createElement(Ga,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,easing:S},G.createElement("path",Ig({},ze(r,!0),{className:P,d:kM(I,C,R,O,j),ref:n})))}):G.createElement("g",null,G.createElement("path",Ig({},ze(r,!0),{className:P,d:kM(c,d,h,p,y)})))},Zoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function ese(t,e){if(t==null)return{};var r=tse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(r),!0).forEach(function(n){rse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rse(t,e,r){return e=nse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nse(t){var e=ise(t,"string");return Wf(e)=="symbol"?e:e+""}function ise(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ase(t,e){return kg(kg({},e),t)}function ose(t,e){return t==="symbols"}function CM(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(vA,r);case"trapezoid":return G.createElement(Joe,r);case"sector":return G.createElement(_V,r);case"symbols":if(ose(e))return G.createElement(DT,r);break;default:return null}}function sse(t){return D.isValidElement(t)?t.props:t}function NV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?ase:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,u=t.isActive,c=ese(t,Zoe),d;if(D.isValidElement(e))d=D.cloneElement(e,kg(kg({},c),sse(e)));else if(Ge(e))d=e(c);else if(Voe(e)&&!Uoe(e)){var h=i(e,c);d=G.createElement(CM,{shapeType:r,elementProps:h})}else{var p=c;d=G.createElement(CM,{shapeType:r,elementProps:p})}return u?G.createElement(yt,{className:o},d):d}function Yy(t,e){return e!=null&&"trapezoids"in t.props}function Qy(t,e){return e!=null&&"sectors"in t.props}function Hf(t,e){return e!=null&&"points"in t.props}function lse(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function use(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function cse(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function dse(t,e){var r;return Yy(t,e)?r=lse:Qy(t,e)?r=use:Hf(t,e)&&(r=cse),r}function fse(t,e){var r;return Yy(t,e)?r="trapezoids":Qy(t,e)?r="sectors":Hf(t,e)&&(r="points"),r}function hse(t,e){if(Yy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Qy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hf(t,e)?e.payload:{}}function pse(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=fse(r,e),a=hse(r,e),o=n.filter(function(c,d){var h=zy(a,c),p=r.props[i].filter(function(S){var _=dse(r,e);return _(S,e)}),y=r.props[i].indexOf(p[p.length-1]),x=d===y;return h&&x}),u=n.indexOf(o[o.length-1]);return u}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WS.apply(this,arguments)}function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){mse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mse(t,e,r){return e=gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gse(t){var e=yse(t,"string");return Gf(e)=="symbol"?e:e+""}function yse(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NM(t){return typeof t=="string"?parseInt(t,10):t}function vse(t,e){var r="".concat(e.cx||t.cx),n=Number(r),i="".concat(e.cy||t.cy),a=Number(i);return Rw(Rw(Rw({},e),t),{},{cx:n,cy:a})}function RM(t){return G.createElement(NV,WS({shapeType:"sector",propTransformer:vse},t))}var bse=["shape","activeShape","activeIndex","cornerRadius"],xse=["value","background"];function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Og.apply(this,arguments)}function MM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DM(t,e){if(t==null)return{};var r=_se(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MV(n.key),n)}}function Sse(t,e,r){return e&&LM(t.prototype,e),r&&LM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ese(t,e,r){return e=Cg(e),Tse(t,RV()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function Tse(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ase(t)}function Ase(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HS(t,e)}function tl(t,e,r){return e=MV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MV(t){var e=Ise(t,"string");return nc(e)=="symbol"?e:e+""}function Ise(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ih=(function(t){function e(){var r;wse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ese(this,e,[].concat(i)),tl(r,"state",{isAnimationFinished:!1}),tl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(o)&&o()}),tl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(o)&&o()}),r}return Pse(e,t),Sse(e,[{key:"getDeltaAngle",value:function(){var n=this.props,i=n.startAngle,a=n.endAngle,o=dn(a-i),u=Math.min(Math.abs(a-i),360);return o*u}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.shape,u=a.activeShape,c=a.activeIndex,d=a.cornerRadius,h=DM(a,bse),p=ze(h,!1);return n.map(function(y,x){var S=x===c,_=yr(yr(yr(yr({},p),{},{cornerRadius:NM(d)},y),rs(i.props,y,x)),{},{className:"recharts-radial-bar-sector ".concat(y.className),forceCornerRadius:h.forceCornerRadius,cornerIsExternal:h.cornerIsExternal,isActive:S,option:S?u:o});return G.createElement(RM,Og({},_,{key:"sector-".concat(x)}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,d=i.animationEasing,h=i.animationId,p=this.state.prevData;return G.createElement(Ga,{begin:u,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,S=a.map(function(_,b){var E=p&&p[b];if(E){var P=Pa(E.startAngle,_.startAngle),k=Pa(E.endAngle,_.endAngle);return yr(yr({},_),{},{startAngle:P(x),endAngle:k(x)})}var R=_.endAngle,O=_.startAngle,j=Pa(O,R);return yr(yr({},_),{},{endAngle:j(x)})});return G.createElement(yt,null,n.renderSectorsStatically(S))})}},{key:"renderSectors",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!zy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"renderBackground",value:function(n){var i=this,a=this.props.cornerRadius,o=ze(this.props.background,!1);return n.map(function(u,c){u.value;var d=u.background,h=DM(u,xse);if(!d)return null;var p=yr(yr(yr(yr(yr({cornerRadius:NM(a)},h),{},{fill:"#eee"},d),o),rs(i.props,u,c)),{},{index:c,className:Ye("recharts-radial-bar-background-sector",o==null?void 0:o.className),option:d,isActive:!1});return G.createElement(RM,Og({},p,{key:"sector-".concat(c)}))})}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,u=n.background,c=n.isAnimationActive;if(i||!a||!a.length)return null;var d=this.state.isAnimationFinished,h=Ye("recharts-area",o);return G.createElement(yt,{className:h},u&&G.createElement(yt,{className:"recharts-radial-bar-background"},this.renderBackground(a)),G.createElement(yt,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!c||d)&&Ko.renderCallByParent(yr({},this.props),a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);tl(Ih,"displayName","RadialBar");tl(Ih,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!Pc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});tl(Ih,"getComposedData",function(t){var e=t.item,r=t.props,n=t.radiusAxis,i=t.radiusAxisTicks,a=t.angleAxis,o=t.angleAxisTicks,u=t.displayedData,c=t.dataKey,d=t.stackedData,h=t.barPosition,p=t.bandSize,y=t.dataStartIndex,x=fV(h,e);if(!x)return null;var S=a.cx,_=a.cy,b=r.layout,E=e.props,P=E.children,k=E.minPointSize,R=b==="radial"?a:n,O=d?R.scale.domain():null,j=mV({numericAxis:R}),I=Qn(P,Ny),C=u.map(function(M,B){var F,$,L,W,Y,te;if(d?F=hV(d[y+B],O):(F=Ai(M,c),Array.isArray(F)||(F=[j,F])),b==="radial"){$=yg({axis:n,ticks:i,bandSize:p,offset:x.offset,entry:M,index:B}),Y=a.scale(F[1]),W=a.scale(F[0]),L=$+x.size;var ne=Y-W;if(Math.abs(k)>0&&Math.abs(ne)<Math.abs(k)){var Q=dn(ne||k)*(Math.abs(k)-Math.abs(ne));Y+=Q}te={background:{cx:S,cy:_,innerRadius:$,outerRadius:L,startAngle:r.startAngle,endAngle:r.endAngle}}}else{$=n.scale(F[0]),L=n.scale(F[1]),W=yg({axis:a,ticks:o,bandSize:p,offset:x.offset,entry:M,index:B}),Y=W+x.size;var ae=L-$;if(Math.abs(k)>0&&Math.abs(ae)<Math.abs(k)){var ie=dn(ae||k)*(Math.abs(k)-Math.abs(ae));L+=ie}}return yr(yr(yr(yr({},M),te),{},{payload:M,value:d?F:F[1],cx:S,cy:_,innerRadius:$,outerRadius:L,startAngle:W,endAngle:Y},I&&I[B]&&I[B].props),{},{tooltipPayload:[yA(e,M)],tooltipPosition:Mt(S,_,($+L)/2,(W+Y)/2)})});return{data:C,layout:b}});var Mw,$M;function kse(){if($M)return Mw;$M=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var u=-1,c=e(t((i-n)/(a||1)),0),d=Array(c);c--;)d[o?c:++u]=n,n+=a;return d}return Mw=r,Mw}var Dw,VM;function DV(){if(VM)return Dw;VM=1;var t=i$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Dw=n,Dw}var Lw,FM;function Ose(){if(FM)return Lw;FM=1;var t=kse(),e=jy(),r=DV();function n(i){return function(a,o,u){return u&&typeof u!="number"&&e(a,o,u)&&(o=u=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),u=u===void 0?a<o?1:-1:r(u),t(a,o,u,i)}}return Lw=n,Lw}var $w,BM;function Cse(){if(BM)return $w;BM=1;var t=Ose(),e=t();return $w=e,$w}var jse=Cse();const jg=mt(jse);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function UM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(r),!0).forEach(function(n){LV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LV(t,e,r){return e=Nse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nse(t){var e=Rse(t,"string");return Kf(e)=="symbol"?e:e+""}function Rse(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mse=["Webkit","Moz","O","ms"],Dse=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Mse.reduce(function(a,o){return zM(zM({},a),{},LV({},o+n,r))},{});return i[e]=r,i};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function qM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(r),!0).forEach(function(n){Tn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VV(n.key),n)}}function $se(t,e,r){return e&&WM(t.prototype,e),r&&WM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vse(t,e,r){return e=Rg(e),Fse(t,$V()?Reflect.construct(e,r||[],Rg(t).constructor):e.apply(t,r))}function Fse(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bse(t)}function Bse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($V=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}function Use(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GS(t,e)}function GS(t,e){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GS(t,e)}function Tn(t,e,r){return e=VV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VV(t){var e=zse(t,"string");return ic(e)=="symbol"?e:e+""}function zse(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qse=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=ef().domain(jg(0,c)).range([a,a+o-u]),h=d.domain().map(function(p){return d(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:h}},HM=function(e){return e.changedTouches&&!!e.changedTouches.length},ac=(function(t){function e(r){var n;return Lse(this,e),n=Vse(this,e,[r]),Tn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Tn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Tn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,u=i.startIndex;o==null||o({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),Tn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tn(n,"handleSlideDragStart",function(i){var a=HM(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Use(e,t),$se(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,u=this.props,c=u.gap,d=u.data,h=d.length-1,p=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(o,p),S=e.getIndexInRange(o,y);return{startIndex:x-x%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,u=i.dataKey,c=Ai(a[n],u,n);return Ge(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,u=i.endX,c=this.props,d=c.x,h=c.width,p=c.travellerWidth,y=c.startIndex,x=c.endIndex,S=c.onChange,_=n.pageX-a;_>0?_=Math.min(_,d+h-p-u,d+h-p-o):_<0&&(_=Math.max(_,d-o,d-u));var b=this.getIndex({startX:o+_,endX:u+_});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:o+_,endX:u+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=HM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,c=i.startX,d=this.state[o],h=this.props,p=h.x,y=h.width,x=h.travellerWidth,S=h.onChange,_=h.gap,b=h.data,E={startX:this.state.startX,endX:this.state.endX},P=n.pageX-a;P>0?P=Math.min(P,p+y-x-d):P<0&&(P=Math.max(P,p-d)),E[o]=d+P;var k=this.getIndex(E),R=k.startIndex,O=k.endIndex,j=function(){var C=b.length-1;return o==="startX"&&(u>c?R%_===0:O%_===0)||u<c&&O===C||o==="endX"&&(u>c?O%_===0:R%_===0)||u>c&&O===C};this.setState(Tn(Tn({},o,d+P),"brushMoveStartX",n.pageX),function(){S&&j()&&S(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,u=o.scaleValues,c=o.startX,d=o.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var y=p+n;if(!(y===-1||y>=u.length)){var x=u[y];i==="startX"&&x>=d||i==="endX"&&x<=c||this.setState(Tn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,c=n.fill,d=n.stroke;return G.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,c=n.data,d=n.children,h=n.padding,p=D.Children.only(d);return p?G.cloneElement(p,{x:i,y:a,width:o,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,u=this,c=this.props,d=c.y,h=c.travellerWidth,p=c.height,y=c.traveller,x=c.ariaLabel,S=c.data,_=c.startIndex,b=c.endIndex,E=Math.max(n,this.props.x),P=Vw(Vw({},ze(this.props,!1)),{},{x:E,y:d,width:h,height:p}),k=x||"Min value: ".concat((a=S[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[b])===null||o===void 0?void 0:o.name);return G.createElement(yt,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,P))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,u=a.height,c=a.stroke,d=a.travellerWidth,h=Math.min(n,i)+d,p=Math.max(Math.abs(i-n)-d,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,u=n.height,c=n.travellerWidth,d=n.stroke,h=this.state,p=h.startX,y=h.endX,x=5,S={pointerEvents:"none",fill:d};return G.createElement(yt,{className:"recharts-brush-texts"},G.createElement(Xu,Ng({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-x,y:o+u/2},S),this.getTextOfTick(i)),G.createElement(Xu,Ng({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+x,y:o+u/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,u=n.x,c=n.y,d=n.width,h=n.height,p=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,_=y.isTextActive,b=y.isSlideMoving,E=y.isTravellerMoving,P=y.isTravellerFocused;if(!i||!i.length||!_e(u)||!_e(c)||!_e(d)||!_e(h)||d<=0||h<=0)return null;var k=Ye("recharts-brush",a),R=G.Children.count(o)===1,O=Dse("userSelect","none");return G.createElement(yt,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(_||b||E||P||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,u=n.height,c=n.stroke,d=Math.floor(a+u/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:a,width:o,height:u,fill:c,stroke:"none"}),G.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return G.isValidElement(n)?a=G.cloneElement(n,i):Ge(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,u=n.x,c=n.travellerWidth,d=n.updateId,h=n.startIndex,p=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Vw({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:u,prevWidth:o},a&&a.length?qse({data:a,width:o,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+o-c]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,u=a-1;u-o>1;){var c=Math.floor((o+u)/2);n[c]>i?u=c:o=c}return i>=n[u]?u:o}}])})(D.PureComponent);Tn(ac,"displayName","Brush");Tn(ac,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fw,GM;function Wse(){if(GM)return Fw;GM=1;var t=zT();function e(r,n){var i;return t(r,function(a,o,u){return i=n(a,o,u),!i}),!!i}return Fw=e,Fw}var Bw,KM;function Hse(){if(KM)return Bw;KM=1;var t=M5(),e=sa(),r=Wse(),n=pn(),i=jy();function a(o,u,c){var d=n(o)?t:r;return c&&i(o,u,c)&&(u=void 0),d(o,e(u,3))}return Bw=a,Bw}var Gse=Hse();const Kse=mt(Gse);var Ji=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Uw,XM;function Xse(){if(XM)return Uw;XM=1;var t=Z5();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Uw=e,Uw}var zw,YM;function Yse(){if(YM)return zw;YM=1;var t=Xse(),e=Q5(),r=sa();function n(i,a){var o={};return a=r(a,3),e(i,function(u,c,d){t(o,c,a(u,c,d))}),o}return zw=n,zw}var Qse=Yse();const Jse=mt(Qse);var qw,QM;function Zse(){if(QM)return qw;QM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return qw=t,qw}var Ww,JM;function ele(){if(JM)return Ww;JM=1;var t=zT();function e(r,n){var i=!0;return t(r,function(a,o,u){return i=!!n(a,o,u),i}),i}return Ww=e,Ww}var Hw,ZM;function tle(){if(ZM)return Hw;ZM=1;var t=Zse(),e=ele(),r=sa(),n=pn(),i=jy();function a(o,u,c){var d=n(o)?t:e;return c&&i(o,u,c)&&(u=void 0),d(o,r(u,3))}return Hw=a,Hw}var rle=tle();const FV=mt(rle);var nle=["x","y"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KS.apply(this,arguments)}function eD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(r),!0).forEach(function(n){ile(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ile(t,e,r){return e=ale(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ale(t){var e=ole(t,"string");return Xf(e)=="symbol"?e:e+""}function ole(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e){if(t==null)return{};var r=lle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ule(t,e){var r=t.x,n=t.y,i=sle(t,nle),a="".concat(r),o=parseInt(a,10),u="".concat(n),c=parseInt(u,10),d="".concat(e.height||i.height),h=parseInt(d,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Nd(Nd(Nd(Nd(Nd({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function tD(t){return G.createElement(NV,KS({shapeType:"rectangle",propTransformer:ule,activeClassName:"recharts-active-bar"},t))}var cle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=_e(n)||TK(n);return a?e(n,i):(a||ul(),r)}},dle=["value","background"],BV;function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function fle(t,e){if(t==null)return{};var r=hle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(this,arguments)}function rD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(r),!0).forEach(function(n){Fo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zV(n.key),n)}}function mle(t,e,r){return e&&nD(t.prototype,e),r&&nD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gle(t,e,r){return e=Dg(e),yle(t,UV()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function yle(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vle(t)}function vle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function ble(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XS(t,e)}function Fo(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=xle(t,"string");return oc(e)=="symbol"?e:e+""}function xle(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wl=(function(t){function e(){var r;ple(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gle(this,e,[].concat(i)),Fo(r,"state",{isAnimationFinished:!1}),Fo(r,"id",Ty("recharts-bar-")),Fo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Fo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ble(e,t),mle(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,u=a.dataKey,c=a.activeIndex,d=a.activeBar,h=ze(this.props,!1);return n&&n.map(function(p,y){var x=y===c,S=x?d:o,_=Qt(Qt(Qt({},h),p),{},{isActive:x,option:S,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(yt,Mg({className:"recharts-bar-rectangle"},rs(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),G.createElement(tD,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,u=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state.prevData;return G.createElement(Ga,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,_=a.map(function(b,E){var P=y&&y[E];if(P){var k=Pa(P.x,b.x),R=Pa(P.y,b.y),O=Pa(P.width,b.width),j=Pa(P.height,b.height);return Qt(Qt({},b),{},{x:k(S),y:R(S),width:O(S),height:j(S)})}if(o==="horizontal"){var I=Pa(0,b.height),C=I(S);return Qt(Qt({},b),{},{y:b.y+b.height-C,height:C})}var M=Pa(0,b.width),B=M(S);return Qt(Qt({},b),{},{width:B})});return G.createElement(yt,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!zy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,u=i.activeIndex,c=ze(this.props.background,!1);return a.map(function(d,h){d.value;var p=d.background,y=fle(d,dle);if(!p)return null;var x=Qt(Qt(Qt(Qt(Qt({},y),{},{fill:"#eee"},p),c),rs(n.props,d,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return G.createElement(tD,Mg({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,u=a.xAxis,c=a.yAxis,d=a.layout,h=a.children,p=Qn(h,Hy);if(!p)return null;var y=d==="vertical"?o[0].height/2:o[0].width/2,x=function(b,E){var P=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:P,errorVal:Ai(b,E)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(yt,S,p.map(function(_){return G.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:u,yAxis:c,layout:d,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,u=n.xAxis,c=n.yAxis,d=n.left,h=n.top,p=n.width,y=n.height,x=n.isAnimationActive,S=n.background,_=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,E=Ye("recharts-bar",o),P=u&&u.allowDataOverflow,k=c&&c.allowDataOverflow,R=P||k,O=ot(_)?this.id:_;return G.createElement(yt,{className:E},P||k?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(O)},G.createElement("rect",{x:P?d:d-p/2,y:k?h:h-y/2,width:P?p:p*2,height:k?y:y*2}))):null,G.createElement(yt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(O,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,O),(!x||b)&&Ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(D.PureComponent);BV=wl;Fo(wl,"displayName","Bar");Fo(wl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fo(wl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,x=fV(n,r);if(!x)return null;var S=e.layout,_=r.type.defaultProps,b=_!==void 0?Qt(Qt({},_),r.props):r.props,E=b.dataKey,P=b.children,k=b.minPointSize,R=S==="horizontal"?o:a,O=d?R.scale.domain():null,j=mV({numericAxis:R}),I=Qn(P,Ny),C=p.map(function(M,B){var F,$,L,W,Y,te;d?F=hV(d[h+B],O):(F=Ai(M,E),Array.isArray(F)||(F=[j,F]));var ne=cle(k,BV.defaultProps.minPointSize)(F[1],B);if(S==="horizontal"){var Q,ae=[o.scale(F[0]),o.scale(F[1])],ie=ae[0],q=ae[1];$=yg({axis:a,ticks:u,bandSize:i,offset:x.offset,entry:M,index:B}),L=(Q=q??ie)!==null&&Q!==void 0?Q:void 0,W=x.size;var X=ie-q;if(Y=Number.isNaN(X)?0:X,te={x:$,y:o.y,width:W,height:o.height},Math.abs(ne)>0&&Math.abs(Y)<Math.abs(ne)){var de=dn(Y||ne)*(Math.abs(ne)-Math.abs(Y));L-=de,Y+=de}}else{var se=[a.scale(F[0]),a.scale(F[1])],we=se[0],be=se[1];if($=we,L=yg({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:M,index:B}),W=be-we,Y=x.size,te={x:a.x,y:L,width:a.width,height:Y},Math.abs(ne)>0&&Math.abs(W)<Math.abs(ne)){var ke=dn(W||ne)*(Math.abs(ne)-Math.abs(W));W+=ke}}return Qt(Qt(Qt({},M),{},{x:$,y:L,width:W,height:Y,value:d?F:F[1],payload:M,background:te},I&&I[B]&&I[B].props),{},{tooltipPayload:[yA(r,M)],tooltipPosition:{x:$+W/2,y:L+Y/2}})});return Qt({data:C,layout:S},y)});function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function _le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qV(n.key),n)}}function wle(t,e,r){return e&&iD(t.prototype,e),r&&iD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(r),!0).forEach(function(n){Jy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jy(t,e,r){return e=qV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qV(t){var e=Sle(t,"string");return Yf(e)=="symbol"?e:e+""}function Sle(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=function(e,r,n,i,a){var o=e.width,u=e.height,c=e.layout,d=e.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!An(d,wl);return h.reduce(function(x,S){var _=r[S],b=_.orientation,E=_.domain,P=_.padding,k=P===void 0?{}:P,R=_.mirror,O=_.reversed,j="".concat(b).concat(R?"Mirror":""),I,C,M,B,F;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var $=E[1]-E[0],L=1/0,W=_.categoricalDomain.sort(IK);if(W.forEach(function(se,we){we>0&&(L=Math.min((se||0)-(W[we-1]||0),L))}),Number.isFinite(L)){var Y=L/$,te=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(I=Y*te/2),_.padding==="no-gap"){var ne=wi(e.barCategoryGap,Y*te),Q=Y*te/2;I=Q-ne-(Q-ne)/te*ne}}}i==="xAxis"?C=[n.left+(k.left||0)+(I||0),n.left+n.width-(k.right||0)-(I||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(I||0),n.top+n.height-(k.bottom||0)-(I||0)]:C=_.range,O&&(C=[C[1],C[0]]);var ae=cV(_,a,y),ie=ae.scale,q=ae.realScaleType;ie.domain(E).range(C),dV(ie);var X=pV(ie,vi(vi({},_),{},{realScaleType:q}));i==="xAxis"?(F=b==="top"&&!R||b==="bottom"&&R,M=n.left,B=p[j]-F*_.height):i==="yAxis"&&(F=b==="left"&&!R||b==="right"&&R,M=p[j]-F*_.width,B=n.top);var de=vi(vi(vi({},_),X),{},{realScaleType:q,x:M,y:B,scale:ie,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return de.bandSize=vg(de,X),!_.hide&&i==="xAxis"?p[j]+=(F?-1:1)*de.height:_.hide||(p[j]+=(F?-1:1)*de.width),vi(vi({},x),{},Jy({},S,de))},{})},WV=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Tle=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return WV({x:r,y:n},{x:i,y:a})},HV=(function(){function t(e){_le(this,t),this.scale=e}return wle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Jy(HV,"EPS",1e-4);var xA=function(e){var r=Object.keys(e).reduce(function(n,i){return vi(vi({},n),{},Jy({},i,HV.create(e[i])))},{});return vi(vi({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,u=a.position;return Jse(i,function(c,d){return r[d].apply(c,{bandAware:o,position:u})})},isInRange:function(i){return FV(i,function(a,o){return r[o].isInRange(a)})}})};function Ale(t){return(t%180+180)%180}var Ple=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ale(i),o=a*Math.PI/180,u=Math.atan(n/r),c=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Gw,oD;function Ile(){if(oD)return Gw;oD=1;var t=sa(),e=wh(),r=Oy();function n(i){return function(a,o,u){var c=Object(a);if(!e(a)){var d=t(o,3);a=r(a),o=function(p){return d(c[p],p,c)}}var h=i(a,o,u);return h>-1?c[d?a[h]:h]:void 0}}return Gw=n,Gw}var Kw,sD;function kle(){if(sD)return Kw;sD=1;var t=DV();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Kw=e,Kw}var Xw,lD;function Ole(){if(lD)return Xw;lD=1;var t=H5(),e=sa(),r=kle(),n=Math.max;function i(a,o,u){var c=a==null?0:a.length;if(!c)return-1;var d=u==null?0:r(u);return d<0&&(d=n(c+d,0)),t(a,e(o,3),d)}return Xw=i,Xw}var Yw,uD;function Cle(){if(uD)return Yw;uD=1;var t=Ile(),e=Ole(),r=t(e);return Yw=r,Yw}var jle=Cle();const Nle=mt(jle);var Rle=l5();const Mle=mt(Rle);var Dle=Mle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_A=D.createContext(void 0),wA=D.createContext(void 0),GV=D.createContext(void 0),KV=D.createContext({}),XV=D.createContext(void 0),YV=D.createContext(0),QV=D.createContext(0),cD=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,u=e.children,c=e.width,d=e.height,h=Dle(a);return G.createElement(_A.Provider,{value:n},G.createElement(wA.Provider,{value:i},G.createElement(KV.Provider,{value:a},G.createElement(GV.Provider,{value:h},G.createElement(XV.Provider,{value:o},G.createElement(YV.Provider,{value:d},G.createElement(QV.Provider,{value:c},u)))))))},Lle=function(){return D.useContext(XV)},JV=function(e){var r=D.useContext(_A);r==null&&ul();var n=r[e];return n==null&&ul(),n},$le=function(){var e=D.useContext(_A);return Do(e)},Vle=function(){var e=D.useContext(wA),r=Nle(e,function(n){return FV(n.domain,Number.isFinite)});return r||Do(e)},ZV=function(e){var r=D.useContext(wA);r==null&&ul();var n=r[e];return n==null&&ul(),n},Fle=function(){var e=D.useContext(GV);return e},Ble=function(){return D.useContext(KV)},SA=function(){return D.useContext(QV)},EA=function(){return D.useContext(YV)};function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function Ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t6(n.key),n)}}function qle(t,e,r){return e&&zle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wle(t,e,r){return e=Lg(e),Hle(t,e6()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function Hle(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(t)}function Gle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function Kle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YS(t,e)}function dD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(r),!0).forEach(function(n){TA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TA(t,e,r){return e=t6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t6(t){var e=Xle(t,"string");return sc(e)=="symbol"?e:e+""}function Xle(t,e){if(sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yle(t,e){return eue(t)||Zle(t,e)||Jle(t,e)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jle(t,e){if(t){if(typeof t=="string")return hD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hD(t,e)}}function hD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function eue(t){if(Array.isArray(t))return t}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QS.apply(this,arguments)}var tue=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):Ge(e)?n=e(r):n=G.createElement("line",QS({},r,{className:"recharts-reference-line-line"})),n},rue=function(e,r,n,i,a,o,u,c,d){var h=a.x,p=a.y,y=a.width,x=a.height;if(n){var S=d.y,_=e.y.apply(S,{position:o});if(Ji(d,"discard")&&!e.y.isInRange(_))return null;var b=[{x:h+y,y:_},{x:h,y:_}];return c==="left"?b.reverse():b}if(r){var E=d.x,P=e.x.apply(E,{position:o});if(Ji(d,"discard")&&!e.x.isInRange(P))return null;var k=[{x:P,y:p+x},{x:P,y:p}];return u==="top"?k.reverse():k}if(i){var R=d.segment,O=R.map(function(j){return e.apply(j,{position:o})});return Ji(d,"discard")&&Kse(O,function(j){return!e.isInRange(j)})?null:O}return null};function nue(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,u=t.className,c=t.alwaysShow,d=Lle(),h=JV(i),p=ZV(a),y=Fle();if(!d||!y)return null;La(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=xA({x:h.scale,y:p.scale}),S=lr(e),_=lr(r),b=n&&n.length===2,E=rue(x,S,_,b,y,t.position,h.orientation,p.orientation,t);if(!E)return null;var P=Yle(E,2),k=P[0],R=k.x,O=k.y,j=P[1],I=j.x,C=j.y,M=Ji(t,"hidden")?"url(#".concat(d,")"):void 0,B=fD(fD({clipPath:M},ze(t,!0)),{},{x1:R,y1:O,x2:I,y2:C});return G.createElement(yt,{className:Ye("recharts-reference-line",u)},tue(o,B),Or.renderCallByParent(t,Tle({x1:R,y1:O,x2:I,y2:C})))}var Zy=(function(t){function e(){return Ule(this,e),Wle(this,e,arguments)}return Kle(e,t),qle(e,[{key:"render",value:function(){return G.createElement(nue,this.props)}}])})(G.Component);TA(Zy,"displayName","ReferenceLine");TA(Zy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JS.apply(this,arguments)}function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function pD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(r),!0).forEach(function(n){ev(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n6(n.key),n)}}function oue(t,e,r){return e&&aue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sue(t,e,r){return e=$g(e),lue(t,r6()?Reflect.construct(e,r||[],$g(t).constructor):e.apply(t,r))}function lue(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uue(t)}function uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(t)}function cue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZS(t,e)}function ev(t,e,r){return e=n6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n6(t){var e=due(t,"string");return lc(e)=="symbol"?e:e+""}function due(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fue=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=xA({x:i.scale,y:a.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return Ji(e,"discard")&&!o.isInRange(u)?null:u},tv=(function(t){function e(){return iue(this,e),sue(this,e,arguments)}return cue(e,t),oue(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,u=n.alwaysShow,c=n.clipPathId,d=lr(i),h=lr(a);if(La(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var p=fue(this.props);if(!p)return null;var y=p.x,x=p.y,S=this.props,_=S.shape,b=S.className,E=Ji(this.props,"hidden")?"url(#".concat(c,")"):void 0,P=mD(mD({clipPath:E},ze(this.props,!0)),{},{cx:y,cy:x});return G.createElement(yt,{className:Ye("recharts-reference-dot",b)},e.renderDot(_,P),Or.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])})(G.Component);ev(tv,"displayName","ReferenceDot");ev(tv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ev(tv,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Ge(t)?r=t(e):r=G.createElement(bA,JS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eE.apply(this,arguments)}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){rv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a6(n.key),n)}}function mue(t,e,r){return e&&pue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gue(t,e,r){return e=Vg(e),yue(t,i6()?Reflect.construct(e,r||[],Vg(t).constructor):e.apply(t,r))}function yue(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vue(t)}function vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(t)}function bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tE(t,e)}function rv(t,e,r){return e=a6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a6(t){var e=xue(t,"string");return uc(e)=="symbol"?e:e+""}function xue(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ue=function(e,r,n,i,a){var o=a.x1,u=a.x2,c=a.y1,d=a.y2,h=a.xAxis,p=a.yAxis;if(!h||!p)return null;var y=xA({x:h.scale,y:p.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(d,{position:"end"}):y.y.rangeMax};return Ji(a,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:WV(x,S)},nv=(function(t){function e(){return hue(this,e),gue(this,e,arguments)}return bue(e,t),mue(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,u=n.y2,c=n.className,d=n.alwaysShow,h=n.clipPathId;La(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=lr(i),y=lr(a),x=lr(o),S=lr(u),_=this.props.shape;if(!p&&!y&&!x&&!S&&!_)return null;var b=_ue(p,y,x,S,this.props);if(!b&&!_)return null;var E=Ji(this.props,"hidden")?"url(#".concat(h,")"):void 0;return G.createElement(yt,{className:Ye("recharts-reference-area",c)},e.renderRect(_,yD(yD({clipPath:E},ze(this.props,!0)),b)),Or.renderCallByParent(this.props,b))}}])})(G.Component);rv(nv,"displayName","ReferenceArea");rv(nv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rv(nv,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Ge(t)?r=t(e):r=G.createElement(vA,eE({},e,{className:"recharts-reference-area-rect"})),r});function o6(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function wue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Ple(n,r)}function Sue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+o:a+u}:{start:n?i+o:a+u,end:n?i:a}}function Fg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Eue(t,e){return o6(t,e+1)}function Tue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,u=e.end,c=0,d=1,h=o,p=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:o6(n,d)};var _=c,b,E=function(){return b===void 0&&(b=r(S,_)),b},P=S.coordinate,k=c===0||Fg(t,P,E,h,u);k||(c=0,h=o,d+=1),k&&(h=P+t*(E()/2+i),c+=d)},y;d<=a.length;)if(y=p(),y)return y.v;return[]}function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(n){Aue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aue(t,e,r){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=Iue(t,"string");return Qf(e)=="symbol"?e:e+""}function Iue(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,u=e.start,c=e.end,d=function(y){var x=a[y],S,_=function(){return S===void 0&&(S=r(x,y)),S};if(y===o-1){var b=t*(x.coordinate+t*_()/2-c);a[y]=x=Fr(Fr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=Fr(Fr({},x),{},{tickCoord:x.coordinate});var E=Fg(t,x.tickCoord,_,u,c);E&&(c=x.tickCoord-t*(_()/2+i),a[y]=Fr(Fr({},x),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return a}function Oue(t,e,r,n,i,a){var o=(n||[]).slice(),u=o.length,c=e.start,d=e.end;if(a){var h=n[u-1],p=r(h,u-1),y=t*(h.coordinate+t*p/2-d);o[u-1]=h=Fr(Fr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var x=Fg(t,h.tickCoord,function(){return p},c,d);x&&(d=h.tickCoord-t*(p/2+i),o[u-1]=Fr(Fr({},h),{},{isShow:!0}))}for(var S=a?u-1:u,_=function(P){var k=o[P],R,O=function(){return R===void 0&&(R=r(k,P)),R};if(P===0){var j=t*(k.coordinate-t*O()/2-c);o[P]=k=Fr(Fr({},k),{},{tickCoord:j<0?k.coordinate-j*t:k.coordinate})}else o[P]=k=Fr(Fr({},k),{},{tickCoord:k.coordinate});var I=Fg(t,k.tickCoord,O,c,d);I&&(c=k.tickCoord+t*(O()/2+i),o[P]=Fr(Fr({},k),{},{isShow:!0}))},b=0;b<S;b++)_(b);return o}function AA(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,u=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(_e(c)||Pc.isSsr)return Eue(i,typeof c=="number"&&_e(c)?c:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",S=h&&x==="width"?Zd(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=function(k,R){var O=Ge(d)?d(k.value,R):k.value;return x==="width"?wue(Zd(O,{fontSize:e,letterSpacing:r}),S,p):Zd(O,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?dn(i[1].coordinate-i[0].coordinate):1,E=Sue(a,b,x);return c==="equidistantPreserveStart"?Tue(b,E,_,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=Oue(b,E,_,i,o,c==="preserveStartEnd"):y=kue(b,E,_,i,o),y.filter(function(P){return P.isShow}))}var Cue=["viewBox"],jue=["viewBox"],Nue=["ticks"];function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function bD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(r),!0).forEach(function(n){PA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qw(t,e){if(t==null)return{};var r=Rue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l6(n.key),n)}}function Due(t,e,r){return e&&xD(t.prototype,e),r&&xD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lue(t,e,r){return e=Bg(e),$ue(t,s6()?Reflect.construct(e,r||[],Bg(t).constructor):e.apply(t,r))}function $ue(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vue(t)}function Vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(t)}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rE(t,e)}function PA(t,e,r){return e=l6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l6(t){var e=Bue(t,"string");return cc(e)=="symbol"?e:e+""}function Bue(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cc=(function(t){function e(r){var n;return Mue(this,e),n=Lue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Fue(e,t),Due(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Qw(n,Cue),u=this.props,c=u.viewBox,d=Qw(u,jue);return!Iu(a,c)||!Iu(o,d)||!Iu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,u=i.width,c=i.height,d=i.orientation,h=i.tickSize,p=i.mirror,y=i.tickMargin,x,S,_,b,E,P,k=p?-1:1,R=n.tickSize||h,O=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":x=S=n.coordinate,b=o+ +!p*c,_=b-k*R,P=_-k*y,E=O;break;case"left":_=b=n.coordinate,S=a+ +!p*u,x=S-k*R,E=x-k*y,P=O;break;case"right":_=b=n.coordinate,S=a+ +p*u,x=S+k*R,E=x+k*y,P=O;break;default:x=S=n.coordinate,b=o+ +p*c,_=b+k*R,P=_+k*y,E=O;break}return{line:{x1:x,y1:_,x2:S,y2:b},tick:{x:E,y:P}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,c=n.orientation,d=n.mirror,h=n.axisLine,p=or(or(or({},ze(this.props,!1)),ze(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!d||c==="bottom"&&d);p=or(or({},p),{},{x1:i,y1:a+y*u,x2:i+o,y2:a+y*u})}else{var x=+(c==="left"&&!d||c==="right"&&d);p=or(or({},p),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+u})}return G.createElement("line",_u({},p,{className:Ye("recharts-cartesian-axis-line",Yn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,u=this.props,c=u.tickLine,d=u.stroke,h=u.tick,p=u.tickFormatter,y=u.unit,x=AA(or(or({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),b=ze(this.props,!1),E=ze(h,!1),P=or(or({},b),{},{fill:"none"},ze(c,!1)),k=x.map(function(R,O){var j=o.getTickLineCoord(R),I=j.line,C=j.tick,M=or(or(or(or({textAnchor:S,verticalAnchor:_},b),{},{stroke:"none",fill:d},E),C),{},{index:O,payload:R,visibleTicksCount:x.length,tickFormatter:p});return G.createElement(yt,_u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},rs(o.props,R,O)),c&&G.createElement("line",_u({},P,I,{className:Ye("recharts-cartesian-axis-tick-line",Yn(c,"className"))})),h&&e.renderTickItem(h,M,"".concat(Ge(p)?p(R.value,O):R.value).concat(y||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,u=i.height,c=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var p=this.props,y=p.ticks,x=Qw(p,Nue),S=y;return Ge(c)&&(S=y&&y.length>0?c(this.props):c(x)),o<=0||u<=0||!S||!S.length?null:G.createElement(yt,{className:Ye("recharts-cartesian-axis",d),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,u=Ye(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?o=G.cloneElement(n,or(or({},i),{},{className:u})):Ge(n)?o=n(or(or({},i),{},{className:u})):o=G.createElement(Xu,_u({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(D.Component);PA(Cc,"displayName","CartesianAxis");PA(Cc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Uue=["x1","y1","x2","y2","key"],zue=["offset"];function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function _D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(r),!0).forEach(function(n){que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function que(t,e,r){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wue(t){var e=Hue(t,"string");return cl(e)=="symbol"?e:e+""}function Hue(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ys.apply(this,arguments)}function wD(t,e){if(t==null)return{};var r=Gue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Kue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,u=e.height,c=e.ry;return G.createElement("rect",{x:i,y:a,ry:c,width:o,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function u6(t,e){var r;if(G.isValidElement(t))r=G.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,u=e.key,c=wD(e,Uue),d=ze(c,!1);d.offset;var h=wD(d,zue);r=G.createElement("line",Ys({},h,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:u}))}return r}function Xue(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,c){var d=zr(zr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return u6(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Yue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,c){var d=zr(zr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return u6(i,d)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Que(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,u=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==h[0]&&h.unshift(0);var p=h.map(function(y,x){var S=!h[x+1],_=S?i+o-y:h[x+1]-y;if(_<=0)return null;var b=x%e.length;return G.createElement("rect",{key:"react-".concat(x),y,x:n,height:_,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Jue(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,u=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var h=d.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==h[0]&&h.unshift(0);var p=h.map(function(y,x){var S=!h[x+1],_=S?a+u-y:h[x+1]-y;if(_<=0)return null;var b=x%n.length;return G.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:_,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Zue=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return uV(AA(zr(zr(zr({},Cc.defaultProps),n),{},{ticks:Na(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},ece=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return uV(AA(zr(zr(zr({},Cc.defaultProps),n),{},{ticks:Na(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},pu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function c6(t){var e,r,n,i,a,o,u=SA(),c=EA(),d=Ble(),h=zr(zr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:pu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:pu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:pu.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:pu.verticalFill,x:_e(t.x)?t.x:d.left,y:_e(t.y)?t.y:d.top,width:_e(t.width)?t.width:d.width,height:_e(t.height)?t.height:d.height}),p=h.x,y=h.y,x=h.width,S=h.height,_=h.syncWithTicks,b=h.horizontalValues,E=h.verticalValues,P=$le(),k=Vle();if(!_e(x)||x<=0||!_e(S)||S<=0||!_e(p)||p!==+p||!_e(y)||y!==+y)return null;var R=h.verticalCoordinatesGenerator||Zue,O=h.horizontalCoordinatesGenerator||ece,j=h.horizontalPoints,I=h.verticalPoints;if((!j||!j.length)&&Ge(O)){var C=b&&b.length,M=O({yAxis:k?zr(zr({},k),{},{ticks:C?b:k.ticks}):void 0,width:u,height:c,offset:d},C?!0:_);La(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cl(M),"]")),Array.isArray(M)&&(j=M)}if((!I||!I.length)&&Ge(R)){var B=E&&E.length,F=R({xAxis:P?zr(zr({},P),{},{ticks:B?E:P.ticks}):void 0,width:u,height:c,offset:d},B?!0:_);La(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cl(F),"]")),Array.isArray(F)&&(I=F)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(Kue,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),G.createElement(Xue,Ys({},h,{offset:d,horizontalPoints:j,xAxis:P,yAxis:k})),G.createElement(Yue,Ys({},h,{offset:d,verticalPoints:I,xAxis:P,yAxis:k})),G.createElement(Que,Ys({},h,{horizontalPoints:j})),G.createElement(Jue,Ys({},h,{verticalPoints:I})))}c6.displayName="CartesianGrid";function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function tce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h6(n.key),n)}}function nce(t,e,r){return e&&rce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ice(t,e,r){return e=Ug(e),ace(t,d6()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function ace(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oce(t)}function oce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d6=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nE(t,e)}function f6(t,e,r){return e=h6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h6(t){var e=lce(t,"string");return dc(e)=="symbol"?e:e+""}function lce(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iE.apply(this,arguments)}function uce(t){var e=t.xAxisId,r=SA(),n=EA(),i=JV(e);return i==null?null:D.createElement(Cc,iE({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Na(o,!0)}}))}var iv=(function(t){function e(){return tce(this,e),ice(this,e,arguments)}return sce(e,t),nce(e,[{key:"render",value:function(){return D.createElement(uce,this.props)}}])})(D.Component);f6(iv,"displayName","XAxis");f6(iv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g6(n.key),n)}}function fce(t,e,r){return e&&dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,r){return e=zg(e),pce(t,p6()?Reflect.construct(e,r||[],zg(t).constructor):e.apply(t,r))}function pce(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p6=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(t)}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aE(t,e)}function m6(t,e,r){return e=g6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g6(t){var e=yce(t,"string");return fc(e)=="symbol"?e:e+""}function yce(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oE.apply(this,arguments)}var vce=function(e){var r=e.yAxisId,n=SA(),i=EA(),a=ZV(r);return a==null?null:D.createElement(Cc,oE({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Na(u,!0)}}))},av=(function(t){function e(){return cce(this,e),hce(this,e,arguments)}return gce(e,t),fce(e,[{key:"render",value:function(){return D.createElement(vce,this.props)}}])})(D.Component);m6(av,"displayName","YAxis");m6(av,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SD(t){return wce(t)||_ce(t)||xce(t)||bce()}function bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(t,e){if(t){if(typeof t=="string")return sE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sE(t,e)}}function _ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wce(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lE=function(e,r,n,i,a){var o=Qn(e,Zy),u=Qn(e,tv),c=[].concat(SD(o),SD(u)),d=Qn(e,nv),h="".concat(i,"Id"),p=i[0],y=r;if(c.length&&(y=c.reduce(function(_,b){if(b.props[h]===n&&Ji(b.props,"extendDomain")&&_e(b.props[p])){var E=b.props[p];return[Math.min(_[0],E),Math.max(_[1],E)]}return _},y)),d.length){var x="".concat(p,"1"),S="".concat(p,"2");y=d.reduce(function(_,b){if(b.props[h]===n&&Ji(b.props,"extendDomain")&&_e(b.props[x])&&_e(b.props[S])){var E=b.props[x],P=b.props[S];return[Math.min(_[0],E,P),Math.max(_[1],E,P)]}return _},y)}return a&&a.length&&(y=a.reduce(function(_,b){return _e(b)?[Math.min(_[0],b),Math.max(_[1],b)]:_},y)),y},Jw={exports:{}},ED;function Sce(){return ED||(ED=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||c,y),S=r?r+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],x]:c._events[S].push(x):(c._events[S]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=r?r+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,x=p.length,S=new Array(x);y<x;y++)S[y]=p[y].fn;return S},u.prototype.listenerCount=function(d){var h=r?r+d:d,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,h,p,y,x,S){var _=r?r+d:d;if(!this._events[_])return!1;var b=this._events[_],E=arguments.length,P,k;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,p),!0;case 4:return b.fn.call(b.context,h,p,y),!0;case 5:return b.fn.call(b.context,h,p,y,x),!0;case 6:return b.fn.call(b.context,h,p,y,x,S),!0}for(k=1,P=new Array(E-1);k<E;k++)P[k-1]=arguments[k];b.fn.apply(b.context,P)}else{var R=b.length,O;for(k=0;k<R;k++)switch(b[k].once&&this.removeListener(d,b[k].fn,void 0,!0),E){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,h);break;case 3:b[k].fn.call(b[k].context,h,p);break;case 4:b[k].fn.call(b[k].context,h,p,y);break;default:if(!P)for(O=1,P=new Array(E-1);O<E;O++)P[O-1]=arguments[O];b[k].fn.apply(b[k].context,P)}}return!0},u.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},u.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},u.prototype.removeListener=function(d,h,p,y){var x=r?r+d:d;if(!this._events[x])return this;if(!h)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!y||S.once)&&(!p||S.context===p)&&o(this,x);else{for(var _=0,b=[],E=S.length;_<E;_++)(S[_].fn!==h||y&&!S[_].once||p&&S[_].context!==p)&&b.push(S[_]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Jw)),Jw.exports}var Ece=Sce();const Tce=mt(Ece);var Zw=new Tce,e1="recharts.syncMouseEvents";function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y6(n.key),n)}}function Ice(t,e,r){return e&&Pce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t1(t,e,r){return e=y6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y6(t){var e=kce(t,"string");return Jf(e)=="symbol"?e:e+""}function kce(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oce=(function(){function t(){Ace(this,t),t1(this,"activeIndex",0),t1(this,"coordinateList",[]),t1(this,"layout","horizontal")}return Ice(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,u=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,h=r.offset,p=h===void 0?null:h,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=a+c+d,y=o+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])})();function Cce(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&_e(n)&&_e(i))return!0}return!1}function jce(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function v6(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Mt(e,r,n,i),u=Mt(e,r,n,a);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Nce(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,p=e.angle,y=Mt(u,c,d,p),x=Mt(u,c,h,p);n=y.x,i=y.y,a=x.x,o=x.y}else return v6(e);return[{x:n,y:i},{x:a,y:o}]}function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function TD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function um(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(r),!0).forEach(function(n){Rce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rce(t,e,r){return e=Mce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mce(t){var e=Dce(t,"string");return Zf(e)=="symbol"?e:e+""}function Dce(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lce(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,u=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,_=zR;if(y==="ScatterChart")S=o,_=doe;else if(y==="BarChart")S=jce(p,o,c,h),_=vA;else if(p==="radial"){var b=v6(o),E=b.cx,P=b.cy,k=b.radius,R=b.startAngle,O=b.endAngle;S={cx:E,cy:P,startAngle:R,endAngle:O,innerRadius:k,outerRadius:k},_=_V}else S={points:Nce(p,o,c)},_=zR;var j=um(um(um(um({stroke:"#ccc",pointerEvents:"none"},c),S),ze(x,!1)),{},{payload:u,payloadIndex:d,className:Ye("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,j):D.createElement(_,j)}var $ce=["item"],Vce=["children","className","width","height","style","compact","title","desc"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function AD(t,e){return Uce(t)||Bce(t,e)||x6(t,e)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Uce(t){if(Array.isArray(t))return t}function PD(t,e){if(t==null)return{};var r=zce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_6(n.key),n)}}function Hce(t,e,r){return e&&Wce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gce(t,e,r){return e=qg(e),Kce(t,b6()?Reflect.construct(e,r||[],qg(t).constructor):e.apply(t,r))}function Kce(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xce(t)}function Xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(t)}function Yce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uE(t,e)}function pc(t){return Zce(t)||Jce(t)||x6(t)||Qce()}function Qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6(t,e){if(t){if(typeof t=="string")return cE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cE(t,e)}}function Jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zce(t){if(Array.isArray(t))return cE(t)}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $e(t,e,r){return e=_6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _6(t){var e=ede(t,"string");return hc(e)=="symbol"?e:e+""}function ede(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tde={xAxis:["bottom","top"],yAxis:["left","right"]},rde={width:"100%",height:"100%"},w6={x:0,y:0};function cm(t){return t}var nde=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ide=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,u=i.radius;return le(le(le({},i),Mt(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var c=a.coordinate,d=i.angle;return le(le(le({},i),Mt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return w6},ov=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(u,c){var d=c.props.data;return d&&d.length?[].concat(pc(u),pc(d)):u},[]);return o.length>0?o:e&&e.length&&_e(i)&&_e(a)?e.slice(i,a+1):[]};function S6(t){return t==="number"?[0,"auto"]:void 0}var dE=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,u=ov(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,d){var h,p=(h=d.props.data)!==null&&h!==void 0?h:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=p===void 0?u:p;y=H1(x,o.dataKey,i)}else y=p&&p[n]||u[n];return y?[].concat(pc(c),[yA(d,y)]):c},[])},kD=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=nde(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=Rre(o,u,d,c);if(h>=0&&d){var p=d[h]&&d[h].value,y=dE(e,r,h,p),x=ide(n,u,h,a);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:x}}return null},ade=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,x=lV(h,a);return n.reduce(function(S,_){var b,E=_.type.defaultProps!==void 0?le(le({},_.type.defaultProps),_.props):_.props,P=E.type,k=E.dataKey,R=E.allowDataOverflow,O=E.allowDuplicatedCategory,j=E.scale,I=E.ticks,C=E.includeHidden,M=E[o];if(S[M])return S;var B=ov(e.data,{graphicalItems:i.filter(function(X){var de,se=o in X.props?X.props[o]:(de=X.type.defaultProps)===null||de===void 0?void 0:de[o];return se===M}),dataStartIndex:c,dataEndIndex:d}),F=B.length,$,L,W;Cce(E.domain,R,P)&&($=AS(E.domain,null,R),x&&(P==="number"||j!=="auto")&&(W=tf(B,k,"category")));var Y=S6(P);if(!$||$.length===0){var te,ne=(te=E.domain)!==null&&te!==void 0?te:Y;if(k){if($=tf(B,k,P),P==="category"&&x){var Q=PK($);O&&Q?(L=$,$=jg(0,F)):O||($=kR(ne,$,_).reduce(function(X,de){return X.indexOf(de)>=0?X:[].concat(pc(X),[de])},[]))}else if(P==="category")O?$=$.filter(function(X){return X!==""&&!ot(X)}):$=kR(ne,$,_).reduce(function(X,de){return X.indexOf(de)>=0||de===""||ot(de)?X:[].concat(pc(X),[de])},[]);else if(P==="number"){var ae=Vre(B,i.filter(function(X){var de,se,we=o in X.props?X.props[o]:(de=X.type.defaultProps)===null||de===void 0?void 0:de[o],be="hide"in X.props?X.props.hide:(se=X.type.defaultProps)===null||se===void 0?void 0:se.hide;return we===M&&(C||!be)}),k,a,h);ae&&($=ae)}x&&(P==="number"||j!=="auto")&&(W=tf(B,k,"category"))}else x?$=jg(0,F):u&&u[M]&&u[M].hasStack&&P==="number"?$=y==="expand"?[0,1]:gV(u[M].stackGroups,c,d):$=sV(B,i.filter(function(X){var de=o in X.props?X.props[o]:X.type.defaultProps[o],se="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return de===M&&(C||!se)}),P,h,!0);if(P==="number")$=lE(p,$,M,a,I),ne&&($=AS(ne,$,R));else if(P==="category"&&ne){var ie=ne,q=$.every(function(X){return ie.indexOf(X)>=0});q&&($=ie)}}return le(le({},S),{},$e({},M,le(le({},E),{},{axisType:a,domain:$,categoricalDomain:W,duplicateDomain:L,originalDomain:(b=E.domain)!==null&&b!==void 0?b:Y,isCategorical:x,layout:h})))},{})},ode=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,p=e.children,y=ov(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),x=y.length,S=lV(h,a),_=-1;return n.reduce(function(b,E){var P=E.type.defaultProps!==void 0?le(le({},E.type.defaultProps),E.props):E.props,k=P[o],R=S6("number");if(!b[k]){_++;var O;return S?O=jg(0,x):u&&u[k]&&u[k].hasStack?(O=gV(u[k].stackGroups,c,d),O=lE(p,O,k,a)):(O=AS(R,sV(y,n.filter(function(j){var I,C,M=o in j.props?j.props[o]:(I=j.type.defaultProps)===null||I===void 0?void 0:I[o],B="hide"in j.props?j.props.hide:(C=j.type.defaultProps)===null||C===void 0?void 0:C.hide;return M===k&&!B}),"number",h),i.defaultProps.allowDataOverflow),O=lE(p,O,k,a)),le(le({},b),{},$e({},k,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yn(tde,"".concat(a,".").concat(_%2),null),domain:O,originalDomain:R,isCategorical:S,layout:h})))}return b},{})},sde=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.children,p="".concat(i,"Id"),y=Qn(h,a),x={};return y&&y.length?x=ade(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=ode(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:d})),x},lde=function(e){var r=Do(e),n=Na(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vg(r,n)}},OD=function(e){var r=e.children,n=e.defaultShowTooltip,i=An(r,ac),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ude=function(e){return!e||!e.length?!1:e.some(function(r){var n=Da(r&&r.type);return n&&n.indexOf("Bar")>=0})},CD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cde=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,d=n.width,h=n.height,p=n.children,y=n.margin||{},x=An(p,ac),S=An(p,ku),_=Object.keys(c).reduce(function(O,j){var I=c[j],C=I.orientation;return!I.mirror&&!I.hide?le(le({},O),{},$e({},C,O[C]+I.width)):O},{left:y.left||0,right:y.right||0}),b=Object.keys(o).reduce(function(O,j){var I=o[j],C=I.orientation;return!I.mirror&&!I.hide?le(le({},O),{},$e({},C,Yn(O,"".concat(C))+I.height)):O},{top:y.top||0,bottom:y.bottom||0}),E=le(le({},b),_),P=E.bottom;x&&(E.bottom+=x.props.height||ac.defaultProps.height),S&&r&&(E=Lre(E,i,n,r));var k=d-E.left-E.right,R=h-E.top-E.bottom;return le(le({brushBottom:P},E),{},{width:Math.max(k,0),height:Math.max(R,0)})},dde=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},E6=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,y=function(E,P){var k=P.graphicalItems,R=P.stackGroups,O=P.offset,j=P.updateId,I=P.dataStartIndex,C=P.dataEndIndex,M=E.barSize,B=E.layout,F=E.barGap,$=E.barCategoryGap,L=E.maxBarSize,W=CD(B),Y=W.numericAxisName,te=W.cateAxisName,ne=ude(k),Q=[];return k.forEach(function(ae,ie){var q=ov(E.data,{graphicalItems:[ae],dataStartIndex:I,dataEndIndex:C}),X=ae.type.defaultProps!==void 0?le(le({},ae.type.defaultProps),ae.props):ae.props,de=X.dataKey,se=X.maxBarSize,we=X["".concat(Y,"Id")],be=X["".concat(te,"Id")],ke={},Re=c.reduce(function(Sr,yn){var Ii=P["".concat(yn.axisType,"Map")],la=X["".concat(yn.axisType,"Id")];Ii&&Ii[la]||yn.axisType==="zAxis"||ul();var to=Ii[la];return le(le({},Sr),{},$e($e({},yn.axisType,to),"".concat(yn.axisType,"Ticks"),Na(to)))},ke),ge=Re[te],Oe=Re["".concat(te,"Ticks")],fe=R&&R[we]&&R[we].hasStack&&Wre(ae,R[we].stackGroups),ue=Da(ae.type).indexOf("Bar")>=0,Je=vg(ge,Oe),He=[],xt=ne&&Mre({barSize:M,stackGroups:R,totalSize:dde(Re,te)});if(ue){var Tt,Gt,mn=ot(se)?L:se,gn=(Tt=(Gt=vg(ge,Oe,!0))!==null&&Gt!==void 0?Gt:mn)!==null&&Tt!==void 0?Tt:0;He=Dre({barGap:F,barCategoryGap:$,bandSize:gn!==Je?gn:Je,sizeList:xt[be],maxBarSize:mn}),gn!==Je&&(He=He.map(function(Sr){return le(le({},Sr),{},{position:le(le({},Sr.position),{},{offset:Sr.position.offset-gn/2})})}))}var Jr=ae&&ae.type&&ae.type.getComposedData;Jr&&Q.push({props:le(le({},Jr(le(le({},Re),{},{displayedData:q,props:E,dataKey:de,item:ae,bandSize:Je,barPosition:He,offset:O,stackedData:fe,layout:B,dataStartIndex:I,dataEndIndex:C}))),{},$e($e($e({key:ae.key||"item-".concat(ie)},Y,Re[Y]),te,Re[te]),"animationId",j)),childIndex:VK(ae,E.children),item:ae})}),Q},x=function(E,P){var k=E.props,R=E.dataStartIndex,O=E.dataEndIndex,j=E.updateId;if(!WC({props:k}))return null;var I=k.children,C=k.layout,M=k.stackOffset,B=k.data,F=k.reverseStackOrder,$=CD(C),L=$.numericAxisName,W=$.cateAxisName,Y=Qn(I,n),te=qre(B,Y,"".concat(L,"Id"),"".concat(W,"Id"),M,F),ne=c.reduce(function(X,de){var se="".concat(de.axisType,"Map");return le(le({},X),{},$e({},se,sde(k,le(le({},de),{},{graphicalItems:Y,stackGroups:de.axisType===L&&te,dataStartIndex:R,dataEndIndex:O}))))},{}),Q=cde(le(le({},ne),{},{props:k,graphicalItems:Y}),P==null?void 0:P.legendBBox);Object.keys(ne).forEach(function(X){ne[X]=h(k,ne[X],Q,X.replace("Map",""),r)});var ae=ne["".concat(W,"Map")],ie=lde(ae),q=y(k,le(le({},ne),{},{dataStartIndex:R,dataEndIndex:O,updateId:j,graphicalItems:Y,stackGroups:te,offset:Q}));return le(le({formattedGraphicalItems:q,graphicalItems:Y,offset:Q,stackGroups:te},ie),ne)},S=(function(b){function E(P){var k,R,O;return qce(this,E),O=Gce(this,E,[P]),$e(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(O,"accessibilityManager",new Oce),$e(O,"handleLegendBBoxUpdate",function(j){if(j){var I=O.state,C=I.dataStartIndex,M=I.dataEndIndex,B=I.updateId;O.setState(le({legendBBox:j},x({props:O.props,dataStartIndex:C,dataEndIndex:M,updateId:B},le(le({},O.state),{},{legendBBox:j}))))}}),$e(O,"handleReceiveSyncEvent",function(j,I,C){if(O.props.syncId===j){if(C===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(I)}}),$e(O,"handleBrushChange",function(j){var I=j.startIndex,C=j.endIndex;if(I!==O.state.dataStartIndex||C!==O.state.dataEndIndex){var M=O.state.updateId;O.setState(function(){return le({dataStartIndex:I,dataEndIndex:C},x({props:O.props,dataStartIndex:I,dataEndIndex:C,updateId:M},O.state))}),O.triggerSyncEvent({dataStartIndex:I,dataEndIndex:C})}}),$e(O,"handleMouseEnter",function(j){var I=O.getMouseInfo(j);if(I){var C=le(le({},I),{},{isTooltipActive:!0});O.setState(C),O.triggerSyncEvent(C);var M=O.props.onMouseEnter;Ge(M)&&M(C,j)}}),$e(O,"triggeredAfterMouseMove",function(j){var I=O.getMouseInfo(j),C=I?le(le({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(C),O.triggerSyncEvent(C);var M=O.props.onMouseMove;Ge(M)&&M(C,j)}),$e(O,"handleItemMouseEnter",function(j){O.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),$e(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),$e(O,"handleMouseMove",function(j){j.persist(),O.throttleTriggeredAfterMouseMove(j)}),$e(O,"handleMouseLeave",function(j){O.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};O.setState(I),O.triggerSyncEvent(I);var C=O.props.onMouseLeave;Ge(C)&&C(I,j)}),$e(O,"handleOuterEvent",function(j){var I=$K(j),C=Yn(O.props,"".concat(I));if(I&&Ge(C)){var M,B;/.*touch.*/i.test(I)?B=O.getMouseInfo(j.changedTouches[0]):B=O.getMouseInfo(j),C((M=B)!==null&&M!==void 0?M:{},j)}}),$e(O,"handleClick",function(j){var I=O.getMouseInfo(j);if(I){var C=le(le({},I),{},{isTooltipActive:!0});O.setState(C),O.triggerSyncEvent(C);var M=O.props.onClick;Ge(M)&&M(C,j)}}),$e(O,"handleMouseDown",function(j){var I=O.props.onMouseDown;if(Ge(I)){var C=O.getMouseInfo(j);I(C,j)}}),$e(O,"handleMouseUp",function(j){var I=O.props.onMouseUp;if(Ge(I)){var C=O.getMouseInfo(j);I(C,j)}}),$e(O,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),$e(O,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseDown(j.changedTouches[0])}),$e(O,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseUp(j.changedTouches[0])}),$e(O,"handleDoubleClick",function(j){var I=O.props.onDoubleClick;if(Ge(I)){var C=O.getMouseInfo(j);I(C,j)}}),$e(O,"handleContextMenu",function(j){var I=O.props.onContextMenu;if(Ge(I)){var C=O.getMouseInfo(j);I(C,j)}}),$e(O,"triggerSyncEvent",function(j){O.props.syncId!==void 0&&Zw.emit(e1,O.props.syncId,j,O.eventEmitterSymbol)}),$e(O,"applySyncEvent",function(j){var I=O.props,C=I.layout,M=I.syncMethod,B=O.state.updateId,F=j.dataStartIndex,$=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)O.setState(le({dataStartIndex:F,dataEndIndex:$},x({props:O.props,dataStartIndex:F,dataEndIndex:$,updateId:B},O.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,W=j.chartY,Y=j.activeTooltipIndex,te=O.state,ne=te.offset,Q=te.tooltipTicks;if(!ne)return;if(typeof M=="function")Y=M(Q,j);else if(M==="value"){Y=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===j.activeLabel){Y=ae;break}}var ie=le(le({},ne),{},{x:ne.left,y:ne.top}),q=Math.min(L,ie.x+ie.width),X=Math.min(W,ie.y+ie.height),de=Q[Y]&&Q[Y].value,se=dE(O.state,O.props.data,Y),we=Q[Y]?{x:C==="horizontal"?Q[Y].coordinate:q,y:C==="horizontal"?X:Q[Y].coordinate}:w6;O.setState(le(le({},j),{},{activeLabel:de,activeCoordinate:we,activePayload:se,activeTooltipIndex:Y}))}else O.setState(j)}),$e(O,"renderCursor",function(j){var I,C=O.state,M=C.isTooltipActive,B=C.activeCoordinate,F=C.activePayload,$=C.offset,L=C.activeTooltipIndex,W=C.tooltipAxisBandSize,Y=O.getTooltipEventType(),te=(I=j.props.active)!==null&&I!==void 0?I:M,ne=O.props.layout,Q=j.key||"_recharts-cursor";return G.createElement(Lce,{key:Q,activeCoordinate:B,activePayload:F,activeTooltipIndex:L,chartName:r,element:j,isActive:te,layout:ne,offset:$,tooltipAxisBandSize:W,tooltipEventType:Y})}),$e(O,"renderPolarAxis",function(j,I,C){var M=Yn(j,"type.axisType"),B=Yn(O.state,"".concat(M,"Map")),F=j.type.defaultProps,$=F!==void 0?le(le({},F),j.props):j.props,L=B&&B[$["".concat(M,"Id")]];return D.cloneElement(j,le(le({},L),{},{className:Ye(M,L.className),key:j.key||"".concat(I,"-").concat(C),ticks:Na(L,!0)}))}),$e(O,"renderPolarGrid",function(j){var I=j.props,C=I.radialLines,M=I.polarAngles,B=I.polarRadius,F=O.state,$=F.radiusAxisMap,L=F.angleAxisMap,W=Do($),Y=Do(L),te=Y.cx,ne=Y.cy,Q=Y.innerRadius,ae=Y.outerRadius;return D.cloneElement(j,{polarAngles:Array.isArray(M)?M:Na(Y,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(B)?B:Na(W,!0).map(function(ie){return ie.coordinate}),cx:te,cy:ne,innerRadius:Q,outerRadius:ae,key:j.key||"polar-grid",radialLines:C})}),$e(O,"renderLegend",function(){var j=O.state.formattedGraphicalItems,I=O.props,C=I.children,M=I.width,B=I.height,F=O.props.margin||{},$=M-(F.left||0)-(F.right||0),L=aV({children:C,formattedGraphicalItems:j,legendWidth:$,legendContent:d});if(!L)return null;var W=L.item,Y=PD(L,$ce);return D.cloneElement(W,le(le({},Y),{},{chartWidth:M,chartHeight:B,margin:F,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),$e(O,"renderTooltip",function(){var j,I=O.props,C=I.children,M=I.accessibilityLayer,B=An(C,Bi);if(!B)return null;var F=O.state,$=F.isTooltipActive,L=F.activeCoordinate,W=F.activePayload,Y=F.activeLabel,te=F.offset,ne=(j=B.props.active)!==null&&j!==void 0?j:$;return D.cloneElement(B,{viewBox:le(le({},te),{},{x:te.left,y:te.top}),active:ne,label:Y,payload:ne?W:[],coordinate:L,accessibilityLayer:M})}),$e(O,"renderBrush",function(j){var I=O.props,C=I.margin,M=I.data,B=O.state,F=B.offset,$=B.dataStartIndex,L=B.dataEndIndex,W=B.updateId;return D.cloneElement(j,{key:j.key||"_recharts-brush",onChange:am(O.handleBrushChange,j.props.onChange),data:M,x:_e(j.props.x)?j.props.x:F.left,y:_e(j.props.y)?j.props.y:F.top+F.height+F.brushBottom-(C.bottom||0),width:_e(j.props.width)?j.props.width:F.width,startIndex:$,endIndex:L,updateId:"brush-".concat(W)})}),$e(O,"renderReferenceElement",function(j,I,C){if(!j)return null;var M=O,B=M.clipPathId,F=O.state,$=F.xAxisMap,L=F.yAxisMap,W=F.offset,Y=j.type.defaultProps||{},te=j.props,ne=te.xAxisId,Q=ne===void 0?Y.xAxisId:ne,ae=te.yAxisId,ie=ae===void 0?Y.yAxisId:ae;return D.cloneElement(j,{key:j.key||"".concat(I,"-").concat(C),xAxis:$[Q],yAxis:L[ie],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:B})}),$e(O,"renderActivePoints",function(j){var I=j.item,C=j.activePoint,M=j.basePoint,B=j.childIndex,F=j.isRange,$=[],L=I.props.key,W=I.item.type.defaultProps!==void 0?le(le({},I.item.type.defaultProps),I.item.props):I.item.props,Y=W.activeDot,te=W.dataKey,ne=le(le({index:B,dataKey:te,cx:C.x,cy:C.y,r:4,fill:gA(I.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ze(Y,!1)),Hm(Y));return $.push(E.renderActiveDot(Y,ne,"".concat(L,"-activePoint-").concat(B))),M?$.push(E.renderActiveDot(Y,le(le({},ne),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat(B))):F&&$.push(null),$}),$e(O,"renderGraphicChild",function(j,I,C){var M=O.filterFormatItem(j,I,C);if(!M)return null;var B=O.getTooltipEventType(),F=O.state,$=F.isTooltipActive,L=F.tooltipAxis,W=F.activeTooltipIndex,Y=F.activeLabel,te=O.props.children,ne=An(te,Bi),Q=M.props,ae=Q.points,ie=Q.isRange,q=Q.baseLine,X=M.item.type.defaultProps!==void 0?le(le({},M.item.type.defaultProps),M.item.props):M.item.props,de=X.activeDot,se=X.hide,we=X.activeBar,be=X.activeShape,ke=!!(!se&&$&&ne&&(de||we||be)),Re={};B!=="axis"&&ne&&ne.props.trigger==="click"?Re={onClick:am(O.handleItemMouseEnter,j.props.onClick)}:B!=="axis"&&(Re={onMouseLeave:am(O.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:am(O.handleItemMouseEnter,j.props.onMouseEnter)});var ge=D.cloneElement(j,le(le({},M.props),Re));function Oe(yn){return typeof L.dataKey=="function"?L.dataKey(yn.payload):null}if(ke)if(W>=0){var fe,ue;if(L.dataKey&&!L.allowDuplicatedCategory){var Je=typeof L.dataKey=="function"?Oe:"payload.".concat(L.dataKey.toString());fe=H1(ae,Je,Y),ue=ie&&q&&H1(q,Je,Y)}else fe=ae==null?void 0:ae[W],ue=ie&&q&&q[W];if(be||we){var He=j.props.activeIndex!==void 0?j.props.activeIndex:W;return[D.cloneElement(j,le(le(le({},M.props),Re),{},{activeIndex:He})),null,null]}if(!ot(fe))return[ge].concat(pc(O.renderActivePoints({item:M,activePoint:fe,basePoint:ue,childIndex:W,isRange:ie})))}else{var xt,Tt=(xt=O.getItemByXY(O.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:ge},Gt=Tt.graphicalItem,mn=Gt.item,gn=mn===void 0?j:mn,Jr=Gt.childIndex,Sr=le(le(le({},M.props),Re),{},{activeIndex:Jr});return[D.cloneElement(gn,Sr),null,null]}return ie?[ge,null,null]:[ge,null]}),$e(O,"renderCustomized",function(j,I,C){return D.cloneElement(j,le(le({key:"recharts-customized-".concat(C)},O.props),O.state))}),$e(O,"renderMap",{CartesianGrid:{handler:cm,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:cm},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:cm},YAxis:{handler:cm},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((k=P.id)!==null&&k!==void 0?k:Ty("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=a$(O.triggeredAfterMouseMove,(R=P.throttleDelay)!==null&&R!==void 0?R:1e3/60),O.state={},O}return Yce(E,b),Hce(E,[{key:"componentDidMount",value:function(){var k,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,R=k.children,O=k.data,j=k.height,I=k.layout,C=An(R,Bi);if(C){var M=C.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,F=dE(this.state,O,M,B),$=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+j)/2,W=I==="horizontal",Y=W?{x:$,y:L}:{y:$,x:L},te=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});te&&(Y=le(le({},Y),te.props.points[M].tooltipPosition),F=te.props.points[M].tooltipPayload);var ne={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:B,activePayload:F,activeCoordinate:Y};this.setState(ne),this.renderCursor(C),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var O,j;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(k){K1([An(k.children,Bi)],[An(this.props.children,Bi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=An(this.props.children,Bi);if(k&&typeof k.props.shared=="boolean"){var R=k.props.shared?"axis":"item";return u.indexOf(R)>=0?R:a}return a}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var R=this.container,O=R.getBoundingClientRect(),j=AJ(O),I={chartX:Math.round(k.pageX-j.left),chartY:Math.round(k.pageY-j.top)},C=O.width/R.offsetWidth||1,M=this.inRange(I.chartX,I.chartY,C);if(!M)return null;var B=this.state,F=B.xAxisMap,$=B.yAxisMap,L=this.getTooltipEventType(),W=kD(this.state,this.props.data,this.props.layout,M);if(L!=="axis"&&F&&$){var Y=Do(F).scale,te=Do($).scale,ne=Y&&Y.invert?Y.invert(I.chartX):null,Q=te&&te.invert?te.invert(I.chartY):null;return le(le({},I),{},{xValue:ne,yValue:Q},W)}return W?le(le({},I),W):null}},{key:"inRange",value:function(k,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,I=k/O,C=R/O;if(j==="horizontal"||j==="vertical"){var M=this.state.offset,B=I>=M.left&&I<=M.left+M.width&&C>=M.top&&C<=M.top+M.height;return B?{x:I,y:C}:null}var F=this.state,$=F.angleAxisMap,L=F.radiusAxisMap;if($&&L){var W=Do($);return jR({x:I,y:C},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,R=this.getTooltipEventType(),O=An(k,Bi),j={};O&&R==="axis"&&(O.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Hm(this.props,this.handleOuterEvent);return le(le({},I),j)}},{key:"addListener",value:function(){Zw.on(e1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zw.removeListener(e1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,R,O){for(var j=this.state.formattedGraphicalItems,I=0,C=j.length;I<C;I++){var M=j[I];if(M.item===k||M.props.key===k.key||R===Da(M.item.type)&&O===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,R=this.state.offset,O=R.left,j=R.top,I=R.height,C=R.width;return G.createElement("defs",null,G.createElement("clipPath",{id:k},G.createElement("rect",{x:O,y:j,height:I,width:C})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(R,O){var j=AD(O,2),I=j[0],C=j[1];return le(le({},R),{},$e({},I,C.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(R,O){var j=AD(O,2),I=j[0],C=j[1];return le(le({},R),{},$e({},I,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[k])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(k){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[k])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(k){var R=this.state,O=R.formattedGraphicalItems,j=R.activeItem;if(O&&O.length)for(var I=0,C=O.length;I<C;I++){var M=O[I],B=M.props,F=M.item,$=F.type.defaultProps!==void 0?le(le({},F.type.defaultProps),F.props):F.props,L=Da(F.type);if(L==="Bar"){var W=(B.data||[]).find(function(Q){return Wae(k,Q)});if(W)return{graphicalItem:M,payload:W}}else if(L==="RadialBar"){var Y=(B.data||[]).find(function(Q){return jR(k,Q)});if(Y)return{graphicalItem:M,payload:Y}}else if(Yy(M,j)||Qy(M,j)||Hf(M,j)){var te=pse({graphicalItem:M,activeTooltipItem:j,itemData:$.data}),ne=$.activeIndex===void 0?te:$.activeIndex;return{graphicalItem:le(le({},M),{},{childIndex:ne}),payload:Hf(M,j)?$.data[te]:M.props.data[te]}}}return null}},{key:"render",value:function(){var k=this;if(!WC(this))return null;var R=this.props,O=R.children,j=R.className,I=R.width,C=R.height,M=R.style,B=R.compact,F=R.title,$=R.desc,L=PD(R,Vce),W=ze(L,!1);if(B)return G.createElement(cD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(Y1,wu({},W,{width:I,height:C,title:F,desc:$}),this.renderClipPath(),GC(O,this.renderMap)));if(this.props.accessibilityLayer){var Y,te;W.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,W.role=(te=this.props.role)!==null&&te!==void 0?te:"application",W.onKeyDown=function(Q){k.accessibilityManager.keyboardEvent(Q)},W.onFocus=function(){k.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return G.createElement(cD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",wu({className:Ye("recharts-wrapper",j),style:le({position:"relative",cursor:"default",width:I,height:C},M)},ne,{ref:function(ae){k.container=ae}}),G.createElement(Y1,wu({},W,{width:I,height:C,title:F,desc:$,style:rde}),this.renderClipPath(),GC(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(D.Component);$e(S,"displayName",r),$e(S,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),$e(S,"getDerivedStateFromProps",function(b,E){var P=b.dataKey,k=b.data,R=b.children,O=b.width,j=b.height,I=b.layout,C=b.stackOffset,M=b.margin,B=E.dataStartIndex,F=E.dataEndIndex;if(E.updateId===void 0){var $=OD(b);return le(le(le({},$),{},{updateId:0},x(le(le({props:b},$),{},{updateId:0}),E)),{},{prevDataKey:P,prevData:k,prevWidth:O,prevHeight:j,prevLayout:I,prevStackOffset:C,prevMargin:M,prevChildren:R})}if(P!==E.prevDataKey||k!==E.prevData||O!==E.prevWidth||j!==E.prevHeight||I!==E.prevLayout||C!==E.prevStackOffset||!Iu(M,E.prevMargin)){var L=OD(b),W={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},Y=le(le({},kD(E,k,I)),{},{updateId:E.updateId+1}),te=le(le(le({},L),W),Y);return le(le(le({},te),x(le({props:b},te),E)),{},{prevDataKey:P,prevData:k,prevWidth:O,prevHeight:j,prevLayout:I,prevStackOffset:C,prevMargin:M,prevChildren:R})}if(!K1(R,E.prevChildren)){var ne,Q,ae,ie,q=An(R,ac),X=q&&(ne=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&ne!==void 0?ne:B,de=q&&(ae=(ie=q.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&ae!==void 0?ae:F,se=X!==B||de!==F,we=!ot(k),be=we&&!se?E.updateId:E.updateId+1;return le(le({updateId:be},x(le(le({props:b},E),{},{updateId:be,dataStartIndex:X,dataEndIndex:de}),E)),{},{prevChildren:R,dataStartIndex:X,dataEndIndex:de})}return null}),$e(S,"renderActiveDot",function(b,E,P){var k;return D.isValidElement(b)?k=D.cloneElement(b,E):Ge(b)?k=b(E):k=G.createElement(bA,E),G.createElement(yt,{className:"recharts-active-dot",key:P},k)});var _=D.forwardRef(function(E,P){return G.createElement(S,wu({},E,{ref:P}))});return _.displayName=S.displayName,_},fde=E6({chartName:"BarChart",GraphicalChild:wl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:iv},{axisType:"yAxis",AxisComp:av}],formatAxisMap:Ele}),hde=E6({chartName:"RadialBarChart",GraphicalChild:Ih,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:Ph},{axisType:"radiusAxis",AxisComp:Ky}],formatAxisMap:rne,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const fE=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function eh(){return new Date().toISOString().split("T")[0]}function pde(t){const e=t.length,r=t.filter(i=>i.status==="present").length,n=e===0?0:Math.round(r/e*100);return{total:e,present:r,percent:n}}function mde(t){return t>=75?"safe":"risk"}function gde(t,e){if(t===0)return 0;let r=0,n=t,i=e;for(;Math.round(i/n*100)<75;)n++,i++,r++;return r}function jD(t){const e=pde(t),r=mde(e.percent);return{...e,zone:r,classesNeededFor75:r==="risk"?gde(e.total,e.present):0}}const T6={async mark(t,{subjectId:e,status:r,date:n}){const i=n??eh(),a=`${e}_${i}`;await Ti(lt(t,"attendance",a),{subjectId:e,date:i,status:r,locked:!0,createdAt:new Date().toISOString()})}};function A6(){const{user:t}=Cn(),[e,r]=D.useState(eh()),[n,i]=D.useState(fE[new Date().getDay()]),[a,o]=D.useState([]),[u,c]=D.useState(!0),[d,h]=D.useState(null),[p,y]=D.useState(null);D.useEffect(()=>{if(!t)return;const _=eh(),b=fE[new Date().getDay()];let E=[],P=[],k=()=>{};function R(j){const I={};if(j.docs.forEach(B=>{I[B.data().subjectId]=B.data().status}),P.length===0)return E.map(B=>({subject:B,markedStatus:I[B.id]??null,alreadyMarked:!!I[B.id],timetableName:null,timetableId:null,uniqueKey:B.id}));const C=[],M=new Set;return P.forEach(B=>{(B.slots??[]).filter($=>$.day===b).sort(($,L)=>($.startTime??"").localeCompare(L.startTime??"")).forEach($=>{const L=E.find(Y=>Y.id===$.subjectId);if(!L)return;const W=`${B.id}_${L.id}`;M.has(W)||(M.add(W),C.push({subject:L,markedStatus:I[L.id]??null,alreadyMarked:!!I[L.id],timetableName:B.name,timetableId:B.id,uniqueKey:W,slot:$}))})}),C}return(async()=>{try{const[j,I]=await Promise.all([Uu(_r(cr(t.id,"subjects"),Nt("archived","==",!1))),Uu(_r(cr(t.id,"timetables"),Nt("active","==",!0)))]);E=j.docs.map(C=>({id:C.id,...C.data()})),P=I.docs.map(C=>({id:C.id,...C.data()})).filter(C=>!C.archived&&(!C.startDate||C.startDate<=_)),k=xr(_r(cr(t.id,"attendance"),Nt("date","==",_)),C=>{o(R(C)),r(_),i(b),c(!1)},C=>{h(C.message),c(!1)})}catch(j){h(j.message),c(!1)}})(),()=>k()},[t]);const x=D.useCallback(async(_,b,E)=>{if(t){y(_);try{await T6.mark(t.id,{subjectId:_,status:b,date:E})}catch(P){h(P.message)}finally{y(null)}}},[t]),S=D.useCallback(()=>{},[]);return{date:e,day:n,today:a,loading:u,error:d,marking:p,mark:x,refresh:S}}function P6(){const{user:t}=Cn(),[e,r]=D.useState(null),[n,i]=D.useState([]),[a,o]=D.useState(!0),[u,c]=D.useState(null);D.useEffect(()=>{if(!t)return;let h=[],p=()=>{};return(async()=>{try{h=(await Uu(_r(cr(t.id,"subjects"),Nt("archived","==",!1)))).docs.map(S=>({id:S.id,...S.data()})),p=xr(cr(t.id,"attendance"),S=>{const _=S.docs.map(E=>({id:E.id,...E.data()})),b=h.map(E=>{const P=_.filter(k=>k.subjectId===E.id);return{subject:E,...jD(P)}});r(jD(_)),i(b),o(!1)},S=>{c(S.message),o(!1)})}catch(x){c(x.message),o(!1)}})(),()=>p()},[t]);const d=D.useCallback(()=>{},[]);return{overall:e,subjects:n,loading:a,error:u,refresh:d}}function yde({subjectId:t,from:e,to:r}={}){const{user:n}=Cn(),[i,a]=D.useState([]),[o,u]=D.useState(!0);return D.useEffect(()=>{if(n)return xr(cr(n.id,"attendance"),c=>{let d=c.docs.map(h=>({id:h.id,...h.data()}));t&&(d=d.filter(h=>h.subjectId===t)),e&&(d=d.filter(h=>h.date>=e)),r&&(d=d.filter(h=>h.date<=r)),d.sort((h,p)=>p.date.localeCompare(h.date)),a(d),u(!1)})},[n,t,e,r]),{records:i,loading:o}}const jo={async create(t,{title:e,description:r="",dueDate:n=null,priority:i="medium"}){return(await Yi(cr(t,"tasks"),{title:e,description:r,dueDate:n,priority:i,completed:!1,archived:!1,subtasks:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id},async update(t,e,r){await dt(lt(t,"tasks",e),{...r,updatedAt:new Date().toISOString()})},async archive(t,e){await dt(lt(t,"tasks",e),{archived:!0,updatedAt:new Date().toISOString()})},async addSubtask(t,e,r,n){const i=Date.now().toString(36)+Math.random().toString(36).slice(2,5),a=[...r||[],{id:i,title:n,completed:!1}];await dt(lt(t,"tasks",e),{subtasks:a,updatedAt:new Date().toISOString()})},async toggleSubtask(t,e,r,n){const i=(r||[]).map(a=>a.id===n?{...a,completed:!a.completed}:a);await dt(lt(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})},async deleteSubtask(t,e,r,n){const i=(r||[]).filter(a=>a.id!==n);await dt(lt(t,"tasks",e),{subtasks:i,updatedAt:new Date().toISOString()})}};function IA({archived:t=!1}={}){const{user:e}=Cn(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,u]=D.useState(null);D.useEffect(()=>{if(!e)return;const _=_r(cr(e.id,"tasks"),Nt("archived","==",t));return xr(_,E=>{const P=E.docs.map(k=>({id:k.id,...k.data()})).sort((k,R)=>R.createdAt.localeCompare(k.createdAt));n(P),a(!1)},E=>{u(E.message),a(!1)})},[e,t]);const c=D.useCallback(async _=>{if(e)try{await jo.create(e.id,_)}catch(b){u(b.message)}},[e]),d=D.useCallback(async(_,b)=>{if(e)try{await jo.update(e.id,_,b)}catch(E){u(E.message)}},[e]),h=D.useCallback((_,b)=>d(_,{completed:!b}),[d]),p=D.useCallback(async _=>{if(e)try{await jo.archive(e.id,_)}catch(b){u(b.message)}},[e]),y=D.useCallback(async(_,b)=>{if(!e)return;const E=r.find(P=>P.id===_);try{await jo.addSubtask(e.id,_,(E==null?void 0:E.subtasks)??[],b)}catch(P){u(P.message)}},[e,r]),x=D.useCallback(async(_,b)=>{if(!e)return;const E=r.find(P=>P.id===_);try{await jo.toggleSubtask(e.id,_,(E==null?void 0:E.subtasks)??[],b)}catch(P){u(P.message)}},[e,r]),S=D.useCallback(async(_,b)=>{if(!e)return;const E=r.find(P=>P.id===_);try{await jo.deleteSubtask(e.id,_,(E==null?void 0:E.subtasks)??[],b)}catch(P){u(P.message)}},[e,r]);return{tasks:r,loading:i,error:o,create:c,update:d,toggle:h,archive:p,addSubtask:y,toggleSubtask:x,deleteSubtask:S}}const r1={async addHabit(t,e){await Yi(cr(t,"habits"),{name:e,active:!0,createdAt:new Date().toISOString()})},async archiveHabit(t,e){await dt(lt(t,"habits",e),{active:!1})},async toggleToday(t,e,r){const n=eh(),i=`${e}_${n}`;await Ti(lt(t,"habitLogs",i),{habitId:e,date:n,done:!r,updatedAt:new Date().toISOString()})}};function I6(){const{user:t}=Cn(),[e,r]=D.useState([]),[n,i]=D.useState({}),[a,o]=D.useState(!0);D.useEffect(()=>{if(!t)return;const h=_r(cr(t.id,"habits"),Nt("active","==",!0));return xr(h,p=>{r(p.docs.map(y=>({id:y.id,...y.data()})).sort((y,x)=>y.createdAt.localeCompare(x.createdAt))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const h=eh(),p=_r(cr(t.id,"habitLogs"),Nt("date","==",h));return xr(p,y=>{const x={};y.docs.forEach(S=>{x[S.data().habitId]=S.data().done}),i(x)})},[t]);const u=D.useCallback(async h=>{!t||!h.trim()||await r1.addHabit(t.id,h.trim())},[t]),c=D.useCallback(async h=>{t&&await r1.archiveHabit(t.id,h)},[t]),d=D.useCallback(async h=>{if(!t)return;const p=n[h]??!1;await r1.toggleToday(t.id,h,p)},[t,n]);return{habits:e,todayLogs:n,loading:a,addHabit:u,archiveHabit:c,toggleToday:d}}class kh{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const vde=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Cr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:vde()},kA=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},bde=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=kA(t);Cr.publicKey=r.publicKey,Cr.blockHeadless=r.blockHeadless,Cr.storageProvider=r.storageProvider,Cr.blockList=r.blockList,Cr.limitRate=r.limitRate,Cr.origin=r.origin||e},k6=async(t,e,r={})=>{const n=await fetch(Cr.origin+t,{method:"POST",headers:r,body:e}),i=await n.text(),a=new kh(n.status,i);if(n.ok)return a;throw a},O6=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},xde=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},C6=t=>t.webdriver||!t.languages||t.languages.length===0,j6=()=>new kh(451,"Unavailable For Headless Browser"),_de=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},wde=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Sde=(t,e)=>t instanceof FormData?t.get(e):t[e],N6=(t,e)=>{if(wde(t))return!1;_de(t.list,t.watchVariable);const r=Sde(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},R6=()=>new kh(403,"Forbidden"),Ede=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Tde=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},M6=async(t,e,r)=>{if(!e.throttle||!r)return!1;Ede(e.throttle,e.id);const n=e.id||t;return await Tde(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},D6=()=>new kh(429,"Too Many Requests"),Ade=async(t,e,r,n)=>{const i=kA(n),a=i.publicKey||Cr.publicKey,o=i.blockHeadless||Cr.blockHeadless,u=i.storageProvider||Cr.storageProvider,c={...Cr.blockList,...i.blockList},d={...Cr.limitRate,...i.limitRate};return o&&C6(navigator)?Promise.reject(j6()):(O6(a,t,e),xde(r),r&&N6(c,r)?Promise.reject(R6()):await M6(location.pathname,d,u)?Promise.reject(D6()):k6("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},Pde=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Ide=t=>typeof t=="string"?document.querySelector(t):t,kde=async(t,e,r,n)=>{const i=kA(n),a=i.publicKey||Cr.publicKey,o=i.blockHeadless||Cr.blockHeadless,u=Cr.storageProvider||i.storageProvider,c={...Cr.blockList,...i.blockList},d={...Cr.limitRate,...i.limitRate};if(o&&C6(navigator))return Promise.reject(j6());const h=Ide(r);O6(a,t,e),Pde(h);const p=new FormData(h);return N6(c,p)?Promise.reject(R6()):await M6(location.pathname,d,u)?Promise.reject(D6()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",a),k6("/api/v1.0/email/send-form",p))},ND={init:bde,send:Ade,sendForm:kde,EmailJSResponseStatus:kh},RD="service_hjvrjoa",MD="ED2eDc6-CLeSavBsg",Ode="template_attendance_risk_id",Cde="template_task_overdue_id",DD="/SARASVA/icon.svg",L6={async requestPermission(){return"Notification"in window?Notification.requestPermission():"denied"},get permission(){return"Notification"in window?Notification.permission:"denied"},push(t,e){if("Notification"in window&&Notification.permission==="granted")try{new Notification(t,{body:e,icon:DD,badge:DD})}catch{}},async sendAttendanceAlert(t,e,r){const n=r.map(i=>` ${i.subject.name}: ${i.percent}% (need ${i.classesNeededFor75} more classes)`).join(`
`);try{await ND.send(RD,Ode,{to_email:t,to_name:e,subject_list:n,reply_to:t},MD)}catch{}},async sendTaskAlert(t,e,r){const n=r.map(i=>` ${i.title}${i.dueDate?` (due ${new Date(i.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})`:""}`).join(`
`);try{await ND.send(RD,Cde,{to_email:t,to_name:e,task_list:n,reply_to:t},MD)}catch{}},checkAndAlert(t,e,r){if(!t)return;const n=`sarasva_alerted_${t.id}_${new Date().toDateString()}`;if(sessionStorage.getItem(n))return;sessionStorage.setItem(n,"1");const i=e.filter(o=>o.zone==="risk"),a=r.filter(o=>!o.completed&&o.dueDate&&new Date(o.dueDate)<new Date);i.length>0&&(this.push("Attendance Risk ",`${i.length} subject${i.length!==1?"s":""} below 75%  check your dashboard.`),t.notificationsEmail&&t.email&&this.sendAttendanceAlert(t.email,t.name,i)),a.length>0&&(this.push("Overdue Tasks",`${a.length} task${a.length!==1?"s":""} past due date.`),t.notificationsEmail&&t.email&&this.sendTaskAlert(t.email,t.name,a))}};function $6({zone:t}){const e=t==="safe";return m.jsxs("span",{className:Be("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold",e?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-700"),children:[e?m.jsx(bT,{size:11}):m.jsx(Q3,{size:11}),e?"SAFE":"RISK"]})}function dm({icon:t,label:e,value:r,sub:n,iconBg:i="bg-primary/10",iconColor:a="text-primary",to:o}){const u=m.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-border bg-card p-4 card-shadow hover:shadow-md transition-shadow",children:[m.jsx("div",{className:Be("mt-0.5 rounded-xl p-2.5",i,a),children:m.jsx(t,{size:17})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold leading-none tracking-tight",children:r}),m.jsx("p",{className:"mt-0.5 text-xs font-medium text-muted-foreground",children:e}),n&&m.jsx("div",{className:"mt-1",children:typeof n=="string"?m.jsx("p",{className:"text-xs text-muted-foreground",children:n}):n})]})]});return o?m.jsx(Gn,{to:o,children:u}):u}function jde({active:t,payload:e}){if(!t||!(e!=null&&e.length))return null;const r=e[0].payload;return m.jsxs("div",{className:"rounded-xl border border-border bg-card px-3 py-2 shadow-lg text-xs",children:[m.jsx("p",{className:"font-semibold mb-1",children:r.name}),m.jsxs("p",{children:[r.percent,"% attendance"]}),m.jsxs("p",{className:"text-muted-foreground",children:[r.present," present / ",r.total," total"]}),r.zone==="risk"&&r.classesNeededFor75>0&&m.jsxs("p",{className:"mt-1 font-medium text-rose-600",children:["Need ",r.classesNeededFor75," more to reach 75%"]})]})}function Nde({percent:t,zone:e}){const r=[{value:t,fill:e==="safe"?"#10b981":"#f43f5e"}];return m.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[m.jsxs(hde,{width:156,height:156,cx:78,cy:78,innerRadius:52,outerRadius:70,startAngle:225,endAngle:-45,data:r,barSize:14,children:[m.jsx(Ph,{type:"number",domain:[0,100],angleAxisId:0,tick:!1}),m.jsx(Ih,{dataKey:"value",cornerRadius:8,background:{fill:"hsl(var(--muted))"},angleAxisId:0})]}),m.jsxs("div",{className:"absolute flex flex-col items-center",children:[m.jsxs("span",{className:"text-2xl font-bold leading-none",children:[t,"%"]}),m.jsx($6,{zone:e})]})]})}function Rde({subjects:t}){const e=t.filter(r=>r.zone==="risk").sort((r,n)=>n.classesNeededFor75-r.classesNeededFor75);return e.length===0?m.jsxs("div",{className:"flex flex-col items-center gap-1 py-6 text-center text-sm text-muted-foreground",children:[m.jsx(bT,{size:28,className:"text-emerald-500 opacity-80"}),m.jsx("p",{children:"All subjects above 75%!"})]}):m.jsx("div",{className:"space-y-2",children:e.map(r=>m.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2.5",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-semibold text-rose-900",children:r.subject.name}),m.jsxs("span",{className:"text-xs font-bold text-rose-700",children:[r.percent,"%"]})]}),m.jsx("div",{className:"my-1.5 h-1.5 w-full overflow-hidden rounded-full bg-rose-200",children:m.jsx("div",{className:"h-full rounded-full bg-rose-500",style:{width:`${r.percent}%`}})}),m.jsxs("p",{className:"text-xs text-rose-700",children:["Attend ",m.jsx("strong",{children:r.classesNeededFor75})," consecutive class",r.classesNeededFor75!==1?"es":""," to reach 75%"]})]},r.subject.id))})}const Mde=[{key:"present",label:"P",activeBg:"bg-emerald-500",activeRing:"ring-emerald-400"},{key:"absent",label:"A",activeBg:"bg-rose-500",activeRing:"ring-rose-400"},{key:"cancelled",label:"C",activeBg:"bg-amber-400",activeRing:"ring-amber-300"}];function Dde({today:t=[],day:e,mark:r,marking:n}){const i=t.filter(o=>!o.alreadyMarked);if(t.length===0)return m.jsxs("p",{className:"py-4 text-center text-sm text-muted-foreground",children:["No classes scheduled today (",e,")."]});const a=i.length===0;return m.jsxs("div",{className:"space-y-2",children:[a?m.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg bg-emerald-50 px-2.5 py-1.5",children:[m.jsx(U3,{size:13,className:"text-emerald-600 shrink-0"}),m.jsx("p",{className:"text-xs font-semibold text-emerald-700",children:"All classes marked for today!"})]}):m.jsxs("p",{className:"rounded-lg bg-amber-50 px-2.5 py-1.5 text-xs font-semibold text-amber-700",children:[i.length," class",i.length!==1?"es":""," not yet marked"]}),t.map(({subject:o,markedStatus:u,uniqueKey:c,timetableName:d})=>m.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-background px-3 py-2.5",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("span",{className:"text-sm font-medium truncate",children:o.name}),d&&m.jsx("span",{className:"ml-1.5 text-[10px] text-primary/60 font-medium",children:d})]}),m.jsx("div",{className:"flex items-center gap-1.5 shrink-0",children:Mde.map(({key:h,label:p,activeBg:y,activeRing:x})=>{const S=u===h,_=n===o.id;return m.jsx("button",{disabled:_,onClick:()=>r(o.id,h),title:h.charAt(0).toUpperCase()+h.slice(1),className:Be("h-7 w-7 rounded-full text-[11px] font-bold transition-all duration-150 select-none",S?`${y} text-white ring-2 ring-offset-1 ${x} scale-110`:"bg-muted text-muted-foreground hover:bg-muted/80",_&&"opacity-50 cursor-not-allowed"),children:_&&n===o.id?"":p},h)})})]},c??o.id))]})}function Lde({tasks:t,toggle:e,toggleSubtask:r}){const n=new Date,i=t.filter(y=>!y.completed&&y.dueDate&&new Date(y.dueDate)<n),a=t.filter(y=>!y.completed&&y.priority==="high"&&!i.find(x=>x.id===y.id)),o=[...i,...a].slice(0,4),u=t.filter(y=>!y.completed),c=u.length===0,[d,h]=D.useState(new Set);function p(y){h(x=>{const S=new Set(x);return S.has(y)?S.delete(y):S.add(y),S})}return m.jsxs("div",{className:Be("rounded-2xl border p-5 card-shadow",c?"border-emerald-200 bg-emerald-50":i.length>0?"border-rose-200 bg-gradient-to-br from-rose-50 to-orange-50":"border-amber-200 bg-gradient-to-br from-amber-50 to-yellow-50"),children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx("div",{className:Be("rounded-xl p-2",c?"bg-emerald-100":i.length>0?"bg-rose-100":"bg-amber-100"),children:c?m.jsx(B1,{size:18,className:"text-emerald-600"}):i.length>0?m.jsx(CH,{size:18,className:"text-rose-600"}):m.jsx(z1,{size:18,className:"text-amber-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-bold text-foreground",children:c?"All tasks complete!":"Tasks"}),!c&&m.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length>0&&`${i.length} overdue  `,u.length," pending"]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs(Gn,{to:"/tasks",className:"flex items-center gap-1 rounded-lg bg-white/70 border border-border px-3 py-1.5 text-xs font-medium text-foreground hover:bg-white transition-colors",children:[m.jsx(Rr,{size:11})," Add"]}),m.jsxs(Gn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["All ",m.jsx(Wm,{size:11})]})]})]}),c?m.jsx("p",{className:"text-sm text-emerald-700 font-medium text-center py-1",children:"You're all caught up! Great work."}):o.length>0?m.jsxs("div",{className:"space-y-1.5",children:[o.map(y=>{const x=y.dueDate&&new Date(y.dueDate)<n,S=y.subtasks??[],_=d.has(y.id),b=S.filter(E=>E.completed).length;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-white/60 px-3 py-2.5 hover:bg-white/90 transition-colors",children:[m.jsx("button",{onClick:()=>e(y.id,y.completed),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:m.jsx(U1,{size:17})}),m.jsx("button",{className:"flex-1 text-left text-sm font-medium truncate focus:outline-none",onClick:()=>S.length>0&&p(y.id),children:y.title}),S.length>0&&m.jsxs("span",{className:"shrink-0 text-[10px] text-muted-foreground font-medium",children:[b,"/",S.length]}),S.length>0&&m.jsx(zu,{size:13,className:Be("shrink-0 text-muted-foreground transition-transform duration-200",_&&"rotate-90")}),m.jsx("span",{className:Be("shrink-0 rounded-full px-2 py-0.5 text-xs font-semibold",x?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"),children:x?"overdue":"high"})]}),m.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:_?`${S.length*44+8}px`:"0px"},children:m.jsx("div",{className:"ml-10 mt-1 space-y-0.5 pb-1",children:S.map(E=>m.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/50 px-3 py-1.5",children:[m.jsx("button",{onClick:()=>r(y.id,E.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:E.completed?m.jsx(B1,{size:14,className:"text-primary"}):m.jsx(U1,{size:14})}),m.jsx("span",{className:Be("text-xs",E.completed&&"line-through text-muted-foreground"),children:E.title})]},E.id))})})]},y.id)}),u.length>o.length&&m.jsxs(Gn,{to:"/tasks",className:"block text-center text-xs text-muted-foreground hover:text-primary pt-1",children:["+",u.length-o.length," more tasks"]})]}):m.jsxs("p",{className:"text-sm text-muted-foreground px-1",children:[u.length," pending task",u.length!==1?"s":"","  no urgent ones right now."," ",m.jsx(Gn,{to:"/tasks",className:"text-primary underline",children:"View all"})]})]})}function $de(){const{habits:t,todayLogs:e,toggleToday:r}=I6();if(t.length===0)return null;const n=t.filter(a=>e[a.id]).length,i=n===t.length;return m.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[m.jsx(Y3,{size:14,className:"text-violet-500"}),"Daily Habits"]}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[n,"/",t.length," completed today"]})]}),m.jsxs(Gn,{to:"/tasks",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Manage ",m.jsx(Wm,{size:11})]})]}),i&&m.jsxs("div",{className:"mb-2 flex items-center gap-1.5 rounded-lg bg-violet-50 px-2.5 py-1.5",children:[m.jsx(U3,{size:13,className:"text-violet-600 shrink-0"}),m.jsx("p",{className:"text-xs font-semibold text-violet-700",children:"All habits done for today!"})]}),m.jsx("div",{className:"space-y-1.5",children:t.map(a=>{const o=!!e[a.id];return m.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border bg-background px-3 py-2.5",children:[m.jsx("button",{onClick:()=>r(a.id),className:Be("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all duration-150",o?"bg-violet-500 border-violet-500 text-white scale-105":"border-muted-foreground/40 hover:border-violet-400"),children:o&&m.jsx(zi,{size:12})}),m.jsx("span",{className:Be("flex-1 text-sm truncate",o&&"line-through text-muted-foreground"),children:a.name}),o&&m.jsx("span",{className:"shrink-0 text-[10px] font-semibold text-violet-500",children:"Done "})]},a.id)})})]})}function Vde(){var O;const{user:t}=aa(),{overall:e,subjects:r=[]}=P6(),{today:n=[],date:i,day:a,mark:o,marking:u}=A6(),{tasks:c=[],toggle:d,toggleSubtask:h}=IA({archived:!1}),{exams:p=[]}=ST(),y=c.filter(j=>!j.completed).length,x=r.filter(j=>j.zone==="risk").length,S=p.filter(j=>!j.archived).length,_=n.filter(j=>!j.alreadyMarked).length;D.useEffect(()=>{!t||r.length===0||L6.checkAndAlert(t,r,c)},[t,r,c]);const b=D.useMemo(()=>r.map(j=>({name:j.subject.name.length>10?j.subject.name.slice(0,10)+"":j.subject.name,fullName:j.subject.name,percent:j.percent,present:j.present,total:j.total,zone:j.zone,classesNeededFor75:j.classesNeededFor75})),[r]),E=(e==null?void 0:e.percent)??0,P=(e==null?void 0:e.zone)??"risk",k=new Date().getHours(),R=k<12?"Good morning":k<17?"Good afternoon":"Good evening";return m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[R,", ",m.jsx("span",{className:"font-medium text-foreground",children:(O=t==null?void 0:t.name)==null?void 0:O.split(" ")[0]})]})]}),m.jsx(Lde,{tasks:c,toggle:d,toggleSubtask:h}),m.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[m.jsx(yf,{size:14,className:"text-primary"}),"Today's Attendance"]}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a,", ",i]})]}),m.jsxs(Gn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Full view ",m.jsx(Wm,{size:11})]})]}),m.jsx(Dde,{today:n,day:a,mark:o,marking:u})]}),m.jsx($de,{}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:grid-cols-4",children:[m.jsx(dm,{icon:yf,label:"Overall Attendance",value:`${E}%`,sub:m.jsx($6,{zone:P}),iconBg:"bg-blue-50",iconColor:"text-blue-600",to:"/attendance"}),m.jsx(dm,{icon:BH,label:"Subjects at Risk",value:x,sub:x>0?"Need attention":"All safe",iconBg:x>0?"bg-rose-50":"bg-emerald-50",iconColor:x>0?"text-rose-600":"text-emerald-600",to:"/attendance"}),m.jsx(dm,{icon:G3,label:"Pending Tasks",value:y,sub:y>0?`${c.filter(j=>!j.completed&&j.dueDate&&new Date(j.dueDate)<new Date).length} overdue`:"All clear",iconBg:"bg-violet-50",iconColor:"text-violet-600",to:"/tasks"}),m.jsx(dm,{icon:yl,label:"Active Exams",value:S,sub:`${_} class${_!==1?"es":""} unmarked today`,iconBg:"bg-amber-50",iconColor:"text-amber-600",to:"/exams"})]}),m.jsxs("div",{className:"grid gap-4 lg:grid-cols-5",children:[m.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[m.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[m.jsx("h3",{className:"mb-3 text-sm font-semibold",children:"Overall Attendance"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Nde,{percent:E,zone:P}),m.jsx("div",{className:"space-y-1.5 text-sm",children:[["Present",(e==null?void 0:e.present)??0],["Total",(e==null?void 0:e.total)??0],["Absent",((e==null?void 0:e.total)??0)-((e==null?void 0:e.present)??0)]].map(([j,I])=>m.jsxs("div",{className:"flex justify-between gap-6",children:[m.jsx("span",{className:"text-muted-foreground",children:j}),m.jsx("span",{className:"font-semibold",children:I})]},j))})]})]}),m.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[m.jsx("h3",{className:"text-sm font-semibold",children:"Below 75% Alert"}),m.jsxs(Gn,{to:"/attendance",className:"flex items-center gap-0.5 text-xs text-primary font-medium hover:underline",children:["Details ",m.jsx(Wm,{size:11})]})]}),m.jsx(Rde,{subjects:r})]})]}),m.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow lg:col-span-3",children:[m.jsx("h3",{className:"mb-4 text-sm font-semibold",children:"Subject-wise Attendance"}),b.length===0?m.jsx("div",{className:"flex h-48 items-center justify-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking classes."}):m.jsx(bJ,{width:"100%",height:220,children:m.jsxs(fde,{data:b,margin:{top:4,right:8,left:-20,bottom:0},barSize:28,children:[m.jsx(c6,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),m.jsx(iv,{dataKey:"name",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),m.jsx(av,{domain:[0,100],tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),m.jsx(Zy,{y:75,stroke:"#f59e0b",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:"75%",position:"insideTopRight",fontSize:10,fill:"#f59e0b"}}),m.jsx(Bi,{content:m.jsx(jde,{}),cursor:{fill:"hsl(var(--accent))"}}),m.jsx(wl,{dataKey:"percent",radius:[6,6,0,0],children:b.map((j,I)=>m.jsx(Ny,{fill:j.zone==="safe"?"#10b981":"#f43f5e",fillOpacity:.82},I))})]})}),m.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:[m.jsxs("span",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-emerald-500"}),"  75% Safe"]}),m.jsxs("span",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm bg-rose-500"})," < 75% Risk"]}),m.jsxs("span",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"inline-block h-0.5 w-5 bg-amber-400",style:{borderTop:"1px dashed #f59e0b"}})," 75% line"]})]})]})]})]})}function V6(){const{user:t}=Cn(),[e,r]=D.useState([]),[n,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>{if(!t)return;const y=_r(cr(t.id,"timetables"),Nt("archived","==",!1));return xr(y,S=>{const _=S.docs.map(b=>({id:b.id,...b.data()})).sort((b,E)=>b.createdAt.localeCompare(E.createdAt));r(_),i(!1)},S=>{o(S.message),i(!1)})},[t]);const u=D.useCallback(async({name:y,startDate:x})=>{if(t)try{await Yi(cr(t.id,"timetables"),{name:y,startDate:x||null,active:!1,archived:!1,slots:[],createdAt:new Date().toISOString()})}catch(S){o(S.message)}},[t]),c=D.useCallback(async y=>{if(t)try{const x=e.find(_=>_.id===y);if(!x)return;const S=F1(pt);if(x.active)S.update(lt(t.id,"timetables",y),{active:!1});else{const _=e.filter(b=>b.active);if(_.length>=2){const b=[..._].sort((E,P)=>(E.activatedAt??E.createdAt).localeCompare(P.activatedAt??P.createdAt))[0];S.update(lt(t.id,"timetables",b.id),{active:!1})}S.update(lt(t.id,"timetables",y),{active:!0,activatedAt:new Date().toISOString()})}await S.commit()}catch(x){o(x.message)}},[t,e]),d=D.useCallback(async y=>{if(t)try{await dt(lt(t.id,"timetables",y),{archived:!0,active:!1})}catch(x){o(x.message)}},[t]),h=D.useCallback(async(y,x)=>{if(t)try{const S=e.find(b=>b.id===y);if(!S)return;const _={id:crypto.randomUUID(),...x};await dt(lt(t.id,"timetables",y),{slots:[...S.slots??[],_]})}catch(S){o(S.message)}},[t,e]),p=D.useCallback(async(y,x)=>{if(t)try{const S=e.find(_=>_.id===y);if(!S)return;await dt(lt(t.id,"timetables",y),{slots:(S.slots??[]).filter(_=>_.id!==x)})}catch(S){o(S.message)}},[t,e]);return{timetables:e,loading:n,error:a,create:u,activate:c,archive:d,addSlot:h,deleteSlot:p}}function LD({zone:t}){const e=t==="safe";return m.jsxs("span",{className:Be("inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-semibold",e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e?m.jsx(bT,{size:12}):m.jsx(Q3,{size:12}),e?"SAFE":"RISK"]})}function $D({percent:t}){const e=t>=75;return m.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:m.jsx("div",{className:Be("h-full rounded-full transition-all",e?"bg-green-500":"bg-red-400"),style:{width:`${Math.min(t,100)}%`}})})}function F6({status:t}){if(!t)return null;const e={present:"bg-green-100 text-green-800",absent:"bg-red-100 text-red-800",cancelled:"bg-yellow-100 text-yellow-800",extra:"bg-blue-100 text-blue-800"};return m.jsx("span",{className:Be("rounded-full px-3 py-1 text-xs font-semibold",e[t]??"bg-muted text-muted-foreground"),children:t.toUpperCase()})}function B6({subjectId:t,marking:e,onMark:r,disabled:n}){return m.jsx("div",{className:"flex flex-wrap gap-1.5",children:[{key:"present",label:"Present",cls:"bg-green-600 hover:bg-green-700 text-white"},{key:"absent",label:"Absent",cls:"bg-red-500 hover:bg-red-600 text-white"},{key:"cancelled",label:"Cancelled",cls:"border border-border text-muted-foreground hover:bg-accent"}].map(({key:i,label:a,cls:o})=>m.jsx("button",{disabled:e===t||n,onClick:()=>r(t,i),className:Be("rounded-md px-3 py-1.5 text-xs font-semibold disabled:opacity-50",o),children:a},i))})}function Fde({date:t,day:e,today:r,marking:n,onMark:i}){if(r.length===0)return m.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:["No classes scheduled for today (",e,").",m.jsx("br",{}),m.jsx("span",{className:"text-xs",children:"Add a timetable or set one as active to see scheduled subjects."})]});const a=D.useMemo(()=>{const o=new Map;return r.forEach(u=>{const c=u.timetableId??"__none__";o.has(c)||o.set(c,{name:u.timetableName,items:[]}),o.get(c).items.push(u)}),[...o.values()]},[r]);return m.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[m.jsxs("div",{className:"border-b border-border px-4 py-3",children:[m.jsx("h3",{className:"font-semibold",children:"Today's Classes"}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[e,", ",t]})]}),m.jsx("div",{children:a.map((o,u)=>m.jsxs("div",{className:Be(u>0&&"border-t border-border"),children:[o.name&&m.jsx("div",{className:"px-4 pt-3 pb-1",children:m.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-primary/70 bg-primary/5 rounded-full px-2 py-0.5",children:o.name})}),m.jsx("div",{className:"divide-y divide-border",children:o.items.map(({subject:c,markedStatus:d,alreadyMarked:h,uniqueKey:p,slot:y})=>m.jsxs("div",{className:"flex flex-col gap-2 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium",children:c.name}),(y==null?void 0:y.startTime)&&m.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[y.startTime,"",y.endTime]})]}),h?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(F6,{status:d}),m.jsx("button",{onClick:()=>i(c.id,d==="present"?"absent":"present"),className:"text-[10px] text-muted-foreground hover:text-foreground underline",children:"change"})]}):m.jsx(B6,{subjectId:c.id,marking:n,onMark:i})]},p))})]},u))})]})}function VD(t){return t.toISOString().split("T")[0]}function Bde(t){if(!t||t.length===0)return null;const e={present:0,absent:0,cancelled:0};t.forEach(n=>{e[n.status]!==void 0&&e[n.status]++});const r=Math.max(e.present,e.absent,e.cancelled);return r===0?null:e.present===r?"present":e.absent===r?"absent":"cancelled"}const FD={present:"bg-green-400",absent:"bg-red-400",cancelled:"bg-yellow-400"},Ude={present:"bg-green-50 border-green-200",absent:"bg-red-50 border-red-200",cancelled:"bg-yellow-50 border-yellow-200"};function zde({allRecords:t,timetables:e,subjects:r,onRetroMark:n}){const i=new Date,[a,o]=D.useState(i.getFullYear()),[u,c]=D.useState(i.getMonth()),[d,h]=D.useState(null),p=D.useMemo(()=>{const E={};return t.forEach(P=>{E[P.date]||(E[P.date]=[]),E[P.date].push(P)}),E},[t]),y=D.useMemo(()=>{const E=new Date(a,u,1),P=new Date(a,u+1,0),k=(E.getDay()+6)%7,R=[];for(let O=0;O<k;O++)R.push(null);for(let O=1;O<=P.getDate();O++)R.push(new Date(a,u,O));for(;R.length%7!==0;)R.push(null);return R},[a,u]);function x(){u===0?(o(E=>E-1),c(11)):c(E=>E-1),h(null)}function S(){u===11?(o(E=>E+1),c(0)):c(E=>E+1),h(null)}const _=new Date(a,u,1).toLocaleDateString("en-IN",{month:"long",year:"numeric"}),b=VD(i);return m.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[m.jsx("h3",{className:"font-semibold text-sm",children:"Monthly Calendar"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:x,className:"rounded p-1 hover:bg-accent transition-colors",children:m.jsx(z3,{size:15})}),m.jsx("span",{className:"text-sm font-medium min-w-[130px] text-center",children:_}),m.jsx("button",{onClick:S,className:"rounded p-1 hover:bg-accent transition-colors",children:m.jsx(zu,{size:15})})]})]}),m.jsx("div",{className:"grid grid-cols-7 border-b border-border",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(E=>m.jsx("div",{className:"py-2 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:E},E))}),m.jsx("div",{className:"grid grid-cols-7",children:y.map((E,P)=>{if(!E)return m.jsx("div",{className:"aspect-square"},P);const k=VD(E),R=p[k],O=Bde(R),j=k===b,I=k===d,C=k>b;return m.jsxs("button",{disabled:C,onClick:()=>h(I?null:k),className:Be("aspect-square flex flex-col items-center justify-center gap-0.5 text-xs transition-colors border border-transparent",C?"opacity-30 cursor-default":"cursor-pointer hover:bg-accent",I&&"ring-2 ring-primary ring-inset",j&&!I&&"font-bold text-primary",O&&!I&&Ude[O]),children:[m.jsx("span",{className:Be("text-xs",j&&"underline underline-offset-2"),children:E.getDate()}),O&&m.jsx("span",{className:Be("h-1.5 w-1.5 rounded-full",FD[O])})]},k)})}),m.jsx("div",{className:"flex items-center gap-3 px-4 py-2 border-t border-border text-xs text-muted-foreground",children:[["present","green","Present"],["absent","red","Absent"],["cancelled","yellow","Cancelled"]].map(([E,P,k])=>m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("span",{className:Be("h-2 w-2 rounded-full",FD[E])})," ",k]},E))}),d&&m.jsx(qde,{date:d,timetables:e,subjects:r,existingRecords:p[d]??[],onMark:n,onClose:()=>h(null)})]})}function qde({date:t,timetables:e,subjects:r,existingRecords:n,onMark:i,onClose:a}){const[o,u]=D.useState(null),[c,d]=D.useState(null),h=new Date(t+"T12:00:00"),p=fE[h.getDay()],y=h.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),x=e.filter(P=>P.active&&!P.archived&&(!P.startDate||P.startDate<=t)),S=x.find(P=>P.id===o)??x[0]??null,_=D.useMemo(()=>S?(S.slots??[]).filter(k=>k.day===p).sort((k,R)=>(k.startTime??"").localeCompare(R.startTime??"")).map(k=>{const R=r.find(O=>O.id===k.subjectId);return R?{subject:R,slot:k}:null}).filter(Boolean):r.map(k=>({subject:k,slot:null})),[S,p,r]),b=D.useMemo(()=>{const P={};return n.forEach(k=>{P[k.subjectId]=k.status}),P},[n]);async function E(P,k){d(P);try{await i(P,k,t)}finally{d(null)}}return m.jsxs("div",{className:"border-t border-border bg-muted/30 p-4 space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold",children:y}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Mark attendance for this date"})]}),m.jsx("button",{onClick:a,className:"rounded p-1 hover:bg-accent transition-colors",children:m.jsx(Kn,{size:15})})]}),x.length>1&&m.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[m.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"Timetable:"}),x.map(P=>{var k;return m.jsx("button",{onClick:()=>u(P.id),className:Be("rounded-full px-2.5 py-1 text-xs font-medium transition-colors",(o??((k=x[0])==null?void 0:k.id))===P.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"),children:P.name},P.id)})]}),_.length===0?m.jsxs("p",{className:"text-sm text-muted-foreground text-center py-3",children:["No classes scheduled for ",p," in this timetable."]}):m.jsx("div",{className:"space-y-2",children:_.map(({subject:P,slot:k})=>{const R=b[P.id];return m.jsxs("div",{className:"flex flex-col gap-1.5 rounded-lg border border-border bg-background px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium",children:P.name}),(k==null?void 0:k.startTime)&&m.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[k.startTime,"",k.endTime]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[R&&m.jsx(F6,{status:R}),m.jsx(B6,{subjectId:P.id,marking:c,onMark:E})]})]},P.id)})})]})}function Wde({overall:t,subjects:e}){return e.length===0?m.jsx("div",{className:"rounded-xl border border-border bg-card p-6 text-center text-sm text-muted-foreground",children:"No attendance data yet. Start marking your classes above."}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(UH,{size:16,className:"text-muted-foreground"}),m.jsx("span",{className:"text-sm font-semibold",children:"Overall Attendance"})]}),m.jsx(LD,{zone:t.zone})]}),m.jsx($D,{percent:t.percent}),m.jsxs("p",{className:"mt-1.5 text-xs text-muted-foreground",children:[t.present," present / ",t.total," total  ",t.percent,"%"]})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:[m.jsx("div",{className:"px-4 py-2.5",children:m.jsx("h3",{className:"text-sm font-semibold",children:"Subject-wise Intelligence"})}),e.map(({subject:r,percent:n,present:i,total:a,zone:o,classesNeededFor75:u})=>m.jsxs("div",{className:"px-4 py-3 space-y-1.5",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium",children:r.name}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm font-semibold",children:[n,"%"]}),m.jsx(LD,{zone:o})]})]}),m.jsx($D,{percent:n}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[m.jsxs("span",{children:[i," present / ",a," total"]}),o==="risk"&&u>0&&m.jsxs("span",{className:"font-medium text-red-600",children:["Need ",u," consecutive present class",u!==1?"es":""," to reach 75%"]}),o==="safe"&&m.jsx("span",{className:"font-medium text-green-600",children:"On track"})]})]},r.id))]})]})}function Hde(){const{user:t}=Cn(),{date:e,day:r,today:n,error:i,marking:a,mark:o}=A6(),{overall:u,subjects:c,refresh:d}=P6(),{records:h}=yde(),{timetables:p}=V6(),{subjects:y}=bh({archived:!1});function x(_,b){o(_,b),setTimeout(d,50)}async function S(_,b,E){t&&(await T6.mark(t.id,{subjectId:_,status:b,date:E}),setTimeout(d,50))}return m.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(yf,{size:24,className:"text-primary"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Attendance"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark today's classes and track your progress."})]})]}),i&&m.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:i}),m.jsx(Fde,{date:e,day:r,today:n??[],marking:a,onMark:x}),m.jsxs("div",{children:[m.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Monthly View"}),m.jsx(zde,{allRecords:h,timetables:p,subjects:y,onRetroMark:S})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Attendance Intelligence"}),m.jsx(Wde,{overall:u??{percent:0,present:0,total:0,zone:"risk"},subjects:c??[]})]})]})}const OA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function Gde({timetableId:t,subjects:e,onAdd:r}){const[n,i]=D.useState({day:"Monday",subjectId:"",startTime:"09:00",endTime:"10:00"}),[a,o]=D.useState("");function u(d,h){i(p=>({...p,[d]:h}))}function c(d){if(d.preventDefault(),!n.subjectId){o("Select a subject.");return}if(n.startTime>=n.endTime){o("End time must be after start time.");return}r(t,n),i(h=>({...h,subjectId:""})),o("")}return m.jsxs("form",{onSubmit:c,className:"space-y-2 rounded-lg bg-muted/50 p-3",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Add slot"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[m.jsx("select",{value:n.day,onChange:d=>u("day",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:OA.map(d=>m.jsx("option",{children:d},d))}),m.jsxs("select",{value:n.subjectId,onChange:d=>u("subjectId",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"",children:" Subject "}),e.map(d=>m.jsx("option",{value:d.id,children:d.name},d.id))]}),m.jsx("input",{type:"time",value:n.startTime,onChange:d=>u("startTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),m.jsx("input",{type:"time",value:n.endTime,onChange:d=>u("endTime",d.target.value),className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),a&&m.jsx("p",{className:"text-xs text-destructive",children:a}),m.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[m.jsx(Rr,{size:13})," Add slot"]})]})}function Kde({slot:t,subjects:e,onDelete:r}){const n=e.find(i=>i.id===t.subjectId);return m.jsxs("div",{className:"flex items-center justify-between border-b border-border px-1 py-2 last:border-0",children:[m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx("span",{className:"w-24 font-medium text-muted-foreground",children:t.day}),m.jsx("span",{className:"font-medium",children:(n==null?void 0:n.name)??"Unknown"}),m.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.startTime,"  ",t.endTime]})]}),m.jsx("button",{onClick:()=>r(t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Remove slot",children:m.jsx(os,{size:14})})]})}function Xde({slots:t,subjects:e}){if(t.length===0)return m.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots yet. Add some below."});const r=OA.filter(i=>t.some(a=>a.day===i)),n=[...new Set(t.map(i=>`${i.startTime??""}${i.endTime??""}`))].sort();return m.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-border bg-muted/50",children:[m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-muted-foreground w-24",children:"Time"}),r.map(i=>m.jsx("th",{className:"px-3 py-2 text-center font-semibold text-muted-foreground",children:i.slice(0,3)},i))]})}),m.jsx("tbody",{children:n.map(i=>{const[a,o]=i.split("");return m.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30",children:[m.jsxs("td",{className:"px-3 py-2 text-muted-foreground font-mono whitespace-nowrap",children:[a,m.jsx("br",{}),m.jsx("span",{className:"text-[10px]",children:o})]}),r.map(u=>{const c=t.find(h=>h.day===u&&`${h.startTime??""}${h.endTime??""}`===i),d=c?e.find(h=>h.id===c.subjectId):null;return m.jsx("td",{className:"px-3 py-2 text-center",children:d?m.jsx("span",{className:"inline-block rounded-md bg-primary/10 px-1.5 py-0.5 text-[11px] font-medium text-primary",children:d.name}):m.jsx("span",{className:"text-muted-foreground/30",children:""})},u)})]},i)})})]})})}function Yde({tt:t,subjects:e,onActivate:r,onArchive:n,onAddSlot:i,onDeleteSlot:a}){const[o,u]=D.useState(!1),[c,d]=D.useState("list");return m.jsxs("div",{className:Be("overflow-hidden rounded-xl border bg-card transition-all",t.active?"border-primary shadow-sm":"border-border"),children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx("span",{className:"font-semibold",children:t.name}),t.active&&m.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary",children:"Active"}),m.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.slots.length," slot",t.slots.length!==1?"s":""]}),t.startDate&&m.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[m.jsx(B3,{size:11}),"From ",new Date(t.startDate+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>r(t.id),className:Be("flex items-center gap-1 rounded-md px-2.5 py-1.5 text-xs font-medium transition-colors",t.active?"text-amber-600 hover:bg-amber-50":"text-primary hover:bg-primary/10"),children:t.active?m.jsxs(m.Fragment,{children:[m.jsx(KH,{size:13})," Deactivate"]}):m.jsxs(m.Fragment,{children:[m.jsx(XH,{size:13})," Activate"]})}),m.jsx("button",{onClick:()=>n(t.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive",children:m.jsx(os,{size:15})}),m.jsx("button",{onClick:()=>u(h=>!h),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",children:o?m.jsx(vh,{size:15}):m.jsx(yh,{size:15})})]})]}),o&&m.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[t.slots.length>0&&m.jsxs("div",{className:"flex gap-1 self-start overflow-hidden rounded-lg border border-border text-xs",children:[m.jsxs("button",{onClick:()=>d("list"),className:Be("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[m.jsx(MH,{size:12})," List"]}),m.jsxs("button",{onClick:()=>d("table"),className:Be("flex items-center gap-1 px-2.5 py-1.5 transition-colors",c==="table"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:[m.jsx(RH,{size:12})," Table"]})]}),t.slots.length===0?m.jsx("p",{className:"text-sm text-muted-foreground",children:"No slots yet."}):c==="table"?m.jsx(Xde,{slots:t.slots,subjects:e}):OA.map(h=>{const p=t.slots.filter(y=>y.day===h).sort((y,x)=>(y.startTime??"").localeCompare(x.startTime??""));return p.length>0?m.jsxs("div",{children:[m.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:h}),p.map(y=>m.jsx(Kde,{slot:y,subjects:e,onDelete:x=>a(t.id,x)},y.id))]},h):null}),m.jsx(Gde,{timetableId:t.id,subjects:e,onAdd:i})]})]})}function Qde(){const{timetables:t,create:e,activate:r,archive:n,addSlot:i,deleteSlot:a}=V6(),{subjects:o}=bh({archived:!1}),[u,c]=D.useState(""),[d,h]=D.useState("");function p(_){_.preventDefault();const b=u.trim();b&&(e({name:b,startDate:d||null}),c(""),h(""))}function y(_){confirm("Archive this timetable?")&&n(_)}const x=t.filter(_=>!_.archived),S=x.filter(_=>_.active).length;return m.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Timetable"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Create timetables and add class slots. Up to 2 timetables can be active at once."})]}),S>=2&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-2 text-sm text-amber-800",children:"2 timetables are active. Activating another will deactivate the oldest one."}),o.length===0&&m.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",m.jsx("strong",{children:"Subjects"})," page before creating slots."]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[m.jsx("p",{className:"mb-3 text-sm font-semibold",children:"New Timetable"}),m.jsxs("form",{onSubmit:p,className:"space-y-2",children:[m.jsx("input",{value:u,onChange:_=>c(_.target.value),placeholder:'e.g. "Sem 4 Regular"',className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex-1 space-y-0.5",children:[m.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[m.jsx(B3,{size:11})," Start date (optional)"]}),m.jsx("input",{type:"date",value:d,onChange:_=>h(_.target.value),className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"})]}),m.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 self-end",children:[m.jsx(Rr,{size:15})," Create"]})]}),m.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Start date prevents the timetable from applying to dates before it was activated."})]})]}),x.length===0?m.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[m.jsx(yT,{size:36,className:"opacity-30"}),m.jsx("p",{className:"text-sm",children:"No timetables yet."})]}):m.jsx("div",{className:"space-y-3",children:x.map(_=>m.jsx(Yde,{tt:_,subjects:o,onActivate:r,onArchive:y,onAddSlot:i,onDeleteSlot:a},_.id))})]})}function Jde(){const{subjects:t,create:e,update:r,archive:n}=bh({archived:!1}),[i,a]=D.useState(""),[o,u]=D.useState(null),[c,d]=D.useState(""),[h,p]=D.useState("");function y(E){E.preventDefault();const P=i.trim();if(P){if(t.find(k=>k.name.toLowerCase()===P.toLowerCase())){p("A subject with this name already exists.");return}e(P),a(""),p("")}}function x(E){u(E.id),d(E.name)}function S(E){const P=c.trim();if(!P){_();return}r(E,{name:P}),u(null)}function _(){u(null),d("")}function b(E){confirm("Archive this subject? It won't appear in attendance or timetable.")&&n(E)}return m.jsxs("div",{className:"mx-auto max-w-xl space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Subjects"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subjects. Archived subjects are hidden from attendance and timetable."})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[m.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[m.jsx("input",{value:i,onChange:E=>{a(E.target.value),p("")},placeholder:"Subject name (e.g. Mathematics)",className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),m.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[m.jsx(Rr,{size:15}),"Add"]})]}),h&&m.jsx("p",{className:"mt-2 text-xs text-destructive",children:h})]}),m.jsx("div",{className:"rounded-xl border border-border bg-card divide-y divide-border overflow-hidden",children:t.length===0?m.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-muted-foreground",children:[m.jsx(kH,{size:32,className:"opacity-30"}),m.jsx("p",{className:"text-sm",children:"No subjects yet. Add one above."})]}):t.map(E=>o===E.id?m.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[m.jsx("input",{autoFocus:!0,value:c,onChange:P=>d(P.target.value),onKeyDown:P=>{P.key==="Enter"&&S(E.id),P.key==="Escape"&&_()},className:"flex-1 rounded-md border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background"}),m.jsx("button",{onClick:()=>S(E.id),className:"rounded-md p-1.5 text-green-600 hover:bg-green-50",title:"Save",children:m.jsx(zi,{size:16})}),m.jsx("button",{onClick:_,className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",title:"Cancel",children:m.jsx(Kn,{size:16})})]},E.id):m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 hover:bg-accent/50 transition-colors",children:[m.jsx("span",{className:"text-sm font-medium",children:E.name}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>x(E),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground",title:"Rename",children:m.jsx(X3,{size:15})}),m.jsx("button",{onClick:()=>b(E.id),className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive",children:m.jsx(os,{size:15})})]})]},E.id))}),t.length>0&&m.jsxs("p",{className:"text-right text-xs text-muted-foreground",children:[t.length," subject",t.length!==1?"s":""]})]})}function U6({score:t}){const e=t>60?"high":t>30?"medium":"low";return m.jsxs("span",{className:Be("rounded-full px-2 py-0.5 text-xs font-semibold",e==="high"&&"bg-red-100 text-red-800",e==="medium"&&"bg-amber-100 text-amber-800",e==="low"&&"bg-green-100 text-green-800"),children:["P",t]})}function n1({value:t,color:e="bg-primary"}){return m.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:m.jsx("div",{className:Be("h-full rounded-full",e),style:{width:`${t}%`}})})}function Zde({chapter:t,examId:e,subjectId:r,onUpdate:n,onDelete:i}){const[a,o]=D.useState(!1),[u,c]=D.useState({name:t.name,theoryProgress:t.theoryProgress,practiceProgress:t.practiceProgress,weightage:t.weightage});function d(){n(e,r,t.id,{...u,theoryProgress:Number(u.theoryProgress),practiceProgress:Number(u.practiceProgress),weightage:Number(u.weightage)}),o(!1)}return a?m.jsxs("div",{className:"space-y-2 rounded-lg bg-muted/50 p-3",children:[m.jsx("input",{autoFocus:!0,value:u.name,onChange:h=>c(p=>({...p,name:h.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",placeholder:"Chapter name"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"theoryProgress",label:"Theory %"},{key:"practiceProgress",label:"Practice %"},{key:"weightage",label:"Weightage"}].map(({key:h,label:p})=>m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:p}),m.jsx("input",{type:"number",min:0,max:h==="weightage"?10:100,value:u[h],onChange:y=>c(x=>({...x,[h]:y.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]},h))}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:d,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[m.jsx(zi,{size:12})," Save"]}),m.jsxs("button",{onClick:()=>o(!1),className:"flex items-center gap-1 rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent",children:[m.jsx(Kn,{size:12})," Cancel"]})]})]}):m.jsxs("div",{className:"space-y-1.5 rounded-lg border border-border bg-background p-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm font-medium",children:t.name}),m.jsx(U6,{score:t.priorityScore})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>o(!0),className:"rounded p-1 text-muted-foreground hover:bg-accent hover:text-foreground",children:m.jsx(X3,{size:13})}),m.jsx("button",{onClick:()=>i(e,r,t.id),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",children:m.jsx(os,{size:13})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-muted-foreground",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Theory"}),m.jsxs("span",{children:[t.theoryProgress,"%"]})]}),m.jsx(n1,{value:t.theoryProgress,color:"bg-blue-400"})]}),m.jsxs("div",{className:"space-y-0.5",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Practice"}),m.jsxs("span",{children:[t.practiceProgress,"%"]})]}),m.jsx(n1,{value:t.practiceProgress,color:"bg-violet-400"})]})]}),m.jsxs("div",{className:"space-y-0.5",children:[m.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[m.jsx("span",{children:"Overall"}),m.jsxs("span",{className:"font-semibold text-foreground",children:[t.overallProgress,"%"]})]}),m.jsx(n1,{value:t.overallProgress,color:t.overallProgress>=75?"bg-green-500":"bg-amber-400"})]})]})}function efe({examId:t,subjectId:e,onAdd:r}){const[n,i]=D.useState(!1),[a,o]=D.useState({name:"",theoryProgress:0,practiceProgress:0,weightage:1}),[u,c]=D.useState("");function d(h){if(h.preventDefault(),!a.name.trim()){c("Chapter name is required.");return}r(t,e,{name:a.name.trim(),theoryProgress:Number(a.theoryProgress),practiceProgress:Number(a.practiceProgress),weightage:Number(a.weightage)}),o({name:"",theoryProgress:0,practiceProgress:0,weightage:1}),c(""),i(!1)}return n?m.jsxs("form",{onSubmit:d,className:"space-y-2 rounded-lg border border-border bg-muted/30 p-3",children:[m.jsx("input",{autoFocus:!0,value:a.name,onChange:h=>o(p=>({...p,name:h.target.value})),placeholder:"Chapter name",className:"w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"theoryProgress",label:"Theory %",max:100},{key:"practiceProgress",label:"Practice %",max:100},{key:"weightage",label:"Weight",max:10}].map(({key:h,label:p,max:y})=>m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:p}),m.jsx("input",{type:"number",min:0,max:y,value:a[h],onChange:x=>o(S=>({...S,[h]:x.target.value})),className:"w-full rounded-md border border-input bg-background px-2 py-1 text-sm outline-none focus:ring-2 focus:ring-ring"})]},h))}),u&&m.jsx("p",{className:"text-xs text-destructive",children:u}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{type:"submit",className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90",children:[m.jsx(Rr,{size:12})," Add"]}),m.jsx("button",{type:"button",onClick:()=>i(!1),className:"rounded-md border border-border px-3 py-1.5 text-xs text-muted-foreground hover:bg-accent",children:"Cancel"})]})]}):m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 rounded-md border border-dashed border-border px-3 py-1.5 text-xs text-muted-foreground hover:border-primary hover:text-primary",children:[m.jsx(Rr,{size:13})," Add chapter"]})}function tfe({examSubject:t,allSubjects:e,examId:r,onRemoveSubject:n,onAddChapter:i,onUpdateChapter:a,onDeleteChapter:o}){var c;const u=((c=e.find(d=>d.id===t.subjectId))==null?void 0:c.name)??"Unknown";return m.jsxs("div",{className:"space-y-2 rounded-xl border border-border bg-card/50 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h4",{className:"text-sm font-semibold",children:u}),m.jsx("button",{onClick:()=>n(r,t.subjectId),className:"rounded p-1 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Remove subject from exam",children:m.jsx(Kn,{size:14})})]}),m.jsxs("div",{className:"space-y-2",children:[t.chapters.length===0?m.jsx("p",{className:"text-xs text-muted-foreground",children:"No chapters yet."}):t.chapters.map(d=>m.jsx(Zde,{chapter:d,examId:r,subjectId:t.subjectId,onUpdate:a,onDelete:o},d.id)),m.jsx(efe,{examId:r,subjectId:t.subjectId,onAdd:i})]})]})}function rfe({exam:t,allSubjects:e,onArchive:r,onAddSubject:n,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:u}){const[c,d]=D.useState(!1),[h,p]=D.useState(""),y=t.subjects.map(b=>b.subjectId),x=e.filter(b=>!y.includes(b.id));function S(){h&&(n(t.id,h),p(""))}const _=t.subjects.flatMap(b=>b.chapters.filter(E=>E.priorityScore>40).map(E=>{var P;return{subject:((P=e.find(k=>k.id===b.subjectId))==null?void 0:P.name)??"Unknown",chapter:E.name,score:E.priorityScore,overall:E.overallProgress}})).sort((b,E)=>E.score-b.score);return m.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-semibold",children:t.name}),m.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.subjects.length," subject",t.subjects.length!==1?"s":""]})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>{confirm("Archive this exam?")&&r(t.id)},className:"rounded-md p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive",title:"Archive exam",children:m.jsx(os,{size:15})}),m.jsx("button",{onClick:()=>d(b=>!b),className:"rounded-md p-1.5 text-muted-foreground hover:bg-accent",children:c?m.jsx(vh,{size:15}):m.jsx(yh,{size:15})})]})]}),c&&m.jsxs("div",{className:"space-y-4 border-t border-border px-4 pb-4 pt-3",children:[_.length>0&&m.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[m.jsxs("div",{className:"mb-2 flex items-center gap-1.5 text-xs font-semibold text-amber-800",children:[m.jsx(zH,{size:13})," Needs Attention"]}),m.jsx("ul",{className:"space-y-1",children:_.slice(0,5).map((b,E)=>m.jsxs("li",{className:"flex items-center justify-between text-xs text-amber-900",children:[m.jsxs("span",{children:[b.subject,"  ",b.chapter]}),m.jsx(U6,{score:b.score})]},E))})]}),x.length>0&&m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{value:h,onChange:b=>p(b.target.value),className:"flex-1 rounded-md border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"",children:" Add a subject "}),x.map(b=>m.jsx("option",{value:b.id,children:b.name},b.id))]}),m.jsxs("button",{onClick:S,disabled:!h,className:"flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground hover:opacity-90 disabled:opacity-40",children:[m.jsx(Rr,{size:13})," Add"]})]}),t.subjects.length===0?m.jsx("p",{className:"text-sm text-muted-foreground",children:"No subjects added yet."}):t.subjects.map(b=>m.jsx(tfe,{examSubject:b,allSubjects:e,examId:t.id,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:u},b.subjectId))]})]})}function nfe(){const{exams:t,create:e,archive:r,addSubject:n,removeSubject:i,addChapter:a,updateChapter:o,deleteChapter:u}=ST(),{subjects:c}=bh({archived:!1}),[d,h]=D.useState("");function p(x){x.preventDefault();const S=d.trim();S&&(e({name:S}),h(""))}const y=t.filter(x=>!x.archived);return m.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Exam Preparation"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Track theory and practice progress per chapter. High priority chapters are flagged automatically."})]}),c.length===0&&m.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:["Add subjects first from the ",m.jsx("strong",{children:"Subjects"})," page."]}),m.jsx("div",{className:"rounded-xl border border-border bg-card p-4",children:m.jsxs("form",{onSubmit:p,className:"flex gap-2",children:[m.jsx("input",{value:d,onChange:x=>h(x.target.value),placeholder:'Exam name (e.g. "Mid Sem 1")',className:"flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),m.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[m.jsx(Rr,{size:15})," Create"]})]})}),y.length===0?m.jsxs("div",{className:"flex flex-col items-center gap-2 py-16 text-muted-foreground",children:[m.jsx(yl,{size:36,className:"opacity-30"}),m.jsx("p",{className:"text-sm",children:"No exams yet. Create one above."})]}):m.jsx("div",{className:"space-y-3",children:y.map(x=>m.jsx(rfe,{exam:x,allSubjects:c,onArchive:r,onAddSubject:n,onRemoveSubject:i,onAddChapter:a,onUpdateChapter:o,onDeleteChapter:u},x.id))})]})}const z6=["low","medium","high"];function ife({priority:t}){return m.jsx("span",{className:Be("rounded-full px-2 py-0.5 text-xs font-semibold capitalize",t==="high"&&"bg-rose-100 text-rose-700",t==="medium"&&"bg-amber-100 text-amber-700",t==="low"&&"bg-emerald-100 text-emerald-700"),children:t})}function afe({task:t,onAdd:e,onToggle:r,onDelete:n}){const[i,a]=D.useState(""),o=D.useRef(null),u=t.subtasks||[],c=u.filter(p=>p.completed).length,d=u.length;function h(p){var x;p.preventDefault();const y=i.trim();y&&(e(t.id,y),a(""),(x=o.current)==null||x.focus())}return m.jsxs("div",{className:"mt-2 ml-8 space-y-1 border-l-2 border-border pl-3 pb-1",children:[u.map(p=>m.jsxs("div",{className:"group flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-muted/60 transition-colors",children:[m.jsx("button",{onClick:()=>r(t.id,p.id),className:"shrink-0 text-muted-foreground hover:text-primary transition-colors",children:p.completed?m.jsx(B1,{size:15,className:"text-primary"}):m.jsx(U1,{size:15})}),m.jsx("span",{className:Be("flex-1 text-xs leading-snug",p.completed&&"line-through text-muted-foreground"),children:p.title}),m.jsx("button",{onClick:()=>n(t.id,p.id),className:"shrink-0 opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-destructive transition-all",children:m.jsx(Kn,{size:12})})]},p.id)),m.jsxs("form",{onSubmit:h,className:"flex items-center gap-2 pt-0.5",children:[m.jsx(Rr,{size:13,className:"shrink-0 text-muted-foreground ml-0.5"}),m.jsx("input",{ref:o,value:i,onChange:p=>a(p.target.value),placeholder:"Add a subtask",className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground py-1",onKeyDown:p=>{p.key==="Escape"&&a("")}}),i.trim()&&m.jsx("button",{type:"submit",className:"shrink-0 rounded-md bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary hover:bg-primary/20 transition-colors",children:"Add"})]}),d>0&&m.jsxs("p",{className:"text-[10px] text-muted-foreground pl-1",children:[c,"/",d," completed"]})]})}function BD({task:t,onToggle:e,onArchive:r,onAddSubtask:n,onToggleSubtask:i,onDeleteSubtask:a}){const[o,u]=D.useState(!1),c=t.dueDate&&!t.completed&&new Date(t.dueDate)<new Date,d=t.subtasks||[],h=d.filter(p=>p.completed).length;return m.jsxs("div",{className:Be("transition-colors",t.completed&&"opacity-55"),children:[m.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-muted/40 transition-colors",children:[m.jsx("button",{onClick:()=>e(t.id,t.completed),className:"mt-0.5 shrink-0 text-muted-foreground hover:text-primary transition-colors",title:t.completed?"Mark incomplete":"Mark complete",children:t.completed?m.jsx(xT,{size:17,className:"text-primary"}):m.jsx(FH,{size:17})}),m.jsxs("div",{className:"min-w-0 flex-1 cursor-pointer",onClick:()=>u(p=>!p),children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("p",{className:Be("text-sm font-medium leading-snug",t.completed&&"line-through text-muted-foreground"),children:t.title}),d.length>0&&m.jsxs("span",{className:"rounded-full bg-muted px-1.5 py-0.5 text-[10px] text-muted-foreground font-medium",children:[h,"/",d.length]}),m.jsx(zu,{size:13,className:Be("ml-auto text-muted-foreground transition-transform duration-200",o&&"rotate-90")})]}),t.description&&m.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground truncate",children:t.description}),m.jsxs("div",{className:"mt-1 flex items-center gap-2 flex-wrap",children:[m.jsx(ife,{priority:t.priority}),t.dueDate&&m.jsxs("span",{className:Be("text-xs",c?"font-medium text-rose-600":"text-muted-foreground"),children:[c?"Overdue  ":"Due  ",new Date(t.dueDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})]}),m.jsx("button",{onClick:()=>r(t.id),className:"mt-0.5 shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Archive task",children:m.jsx(os,{size:13})})]}),o&&m.jsx("div",{className:"px-4 pb-2",children:m.jsx(afe,{task:t,onAdd:n,onToggle:i,onDelete:a})})]})}function ofe({onCreate:t}){const[e,r]=D.useState(!1),[n,i]=D.useState({title:"",description:"",dueDate:"",priority:"medium"}),[a,o]=D.useState("");function u(d,h){i(p=>({...p,[d]:h}))}function c(d){if(d.preventDefault(),!n.title.trim()){o("Title is required.");return}t({title:n.title.trim(),description:n.description.trim(),dueDate:n.dueDate||null,priority:n.priority}),i({title:"",description:"",dueDate:"",priority:"medium"}),o(""),r(!1)}return m.jsx("div",{className:"rounded-2xl border border-border bg-card p-4 card-shadow",children:e?m.jsxs("form",{onSubmit:c,className:"space-y-3",children:[m.jsx("input",{autoFocus:!0,value:n.title,onChange:d=>u("title",d.target.value),placeholder:"Task title",className:"w-full rounded-xl border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),m.jsx("input",{value:n.description,onChange:d=>u("description",d.target.value),placeholder:"Description (optional)",className:"w-full rounded-xl border border-input bg-background px-3 py-1.5 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-1 ring-offset-background transition"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1 space-y-0.5",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:"Due date"}),m.jsx("input",{type:"date",value:n.dueDate,onChange:d=>u("dueDate",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition"})]}),m.jsxs("div",{className:"flex-1 space-y-0.5",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:"Priority"}),m.jsx("select",{value:n.priority,onChange:d=>u("priority",d.target.value),className:"w-full rounded-xl border border-input bg-background px-2 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",children:z6.map(d=>m.jsx("option",{value:d,className:"capitalize",children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),a&&m.jsx("p",{className:"text-xs text-destructive",children:a}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{type:"submit",className:"flex items-center gap-1.5 rounded-xl bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 transition-opacity",children:[m.jsx(Rr,{size:14})," Add task"]}),m.jsx("button",{type:"button",onClick:()=>{r(!1),o("")},className:"rounded-xl border border-border px-4 py-2 text-sm text-muted-foreground hover:bg-muted transition-colors",children:"Cancel"})]})]}):m.jsxs("button",{onClick:()=>r(!0),className:"flex w-full items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx("div",{className:"rounded-lg bg-primary/10 p-1.5",children:m.jsx(Rr,{size:14,className:"text-primary"})}),"Add a new task"]})})}function sfe(){const{habits:t,todayLogs:e,addHabit:r,archiveHabit:n,toggleToday:i}=I6(),[a,o]=D.useState(""),[u,c]=D.useState(!1),[d,h]=D.useState(!0);function p(x){x.preventDefault();const S=a.trim();S&&(r(S),o(""),c(!1))}const y=t.filter(x=>e[x.id]).length;return m.jsxs("div",{className:"rounded-2xl border border-border bg-card card-shadow overflow-hidden",children:[m.jsxs("button",{onClick:()=>h(x=>!x),className:"flex w-full items-center justify-between px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"rounded-lg bg-violet-100 p-1.5",children:m.jsx(Y3,{size:14,className:"text-violet-600"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"text-sm font-semibold",children:"Daily Habits"}),t.length>0&&m.jsxs("p",{className:"text-xs text-muted-foreground",children:[y,"/",t.length," done today"]})]})]}),d?m.jsx(vh,{size:15,className:"text-muted-foreground"}):m.jsx(yh,{size:15,className:"text-muted-foreground"})]}),d&&m.jsxs("div",{className:"border-t border-border",children:[t.length===0?m.jsx("p",{className:"px-4 py-4 text-sm text-muted-foreground text-center",children:"No daily habits yet. Add one to start tracking!"}):m.jsx("div",{className:"divide-y divide-border",children:t.map(x=>{const S=!!e[x.id];return m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-muted/30 transition-colors",children:[m.jsx("button",{onClick:()=>i(x.id),className:Be("shrink-0 h-6 w-6 rounded-full border-2 flex items-center justify-center transition-all",S?"bg-violet-500 border-violet-500 text-white":"border-muted-foreground/40 hover:border-violet-400"),children:S&&m.jsx(zi,{size:12})}),m.jsx("span",{className:Be("flex-1 text-sm",S&&"line-through text-muted-foreground"),children:x.name}),m.jsx("button",{onClick:()=>n(x.id),className:"shrink-0 rounded-lg p-1.5 text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",title:"Remove habit",children:m.jsx(os,{size:13})})]},x.id)})}),m.jsx("div",{className:"border-t border-border p-3",children:u?m.jsxs("form",{onSubmit:p,className:"flex items-center gap-2",children:[m.jsx("input",{autoFocus:!0,value:a,onChange:x=>o(x.target.value),placeholder:"Habit name, e.g. Morning exercise",className:"flex-1 rounded-lg border border-input bg-background px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-ring transition",onKeyDown:x=>{x.key==="Escape"&&(c(!1),o(""))}}),m.jsx("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground disabled:opacity-50",children:"Add"}),m.jsx("button",{type:"button",onClick:()=>{c(!1),o("")},className:"rounded-lg border border-border px-2.5 py-1.5 text-xs text-muted-foreground hover:bg-muted",children:"Cancel"})]}):m.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1.5 text-xs text-primary font-medium hover:opacity-80 transition-opacity",children:[m.jsx(Rr,{size:13})," Add daily habit"]})})]})]})}function lfe(){const{tasks:t,create:e,toggle:r,archive:n,addSubtask:i,toggleSubtask:a,deleteSubtask:o}=IA({archived:!1}),[u,c]=D.useState("all"),[d,h]=D.useState(!1),p=t.filter(b=>!b.completed),y=t.filter(b=>b.completed);function x(b){return u==="all"?b:b.filter(E=>E.priority===u)}const S=x(p),_=x(y);return m.jsxs("div",{className:"mx-auto max-w-xl space-y-5",children:[m.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tasks"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.length," pending  ",y.length," done"]})]}),m.jsx("div",{className:"flex self-start overflow-hidden rounded-xl border border-border text-xs font-medium bg-card",children:["all",...z6].map(b=>m.jsx("button",{onClick:()=>c(b),className:Be("px-3 py-1.5 capitalize transition-colors",u===b?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"),children:b},b))})]}),m.jsx(ofe,{onCreate:e}),S.length===0&&u==="all"?m.jsxs("div",{className:"flex flex-col items-center gap-2 py-10 text-muted-foreground",children:[m.jsx(G3,{size:36,className:"opacity-25"}),m.jsx("p",{className:"text-sm",children:"No pending tasks. Add one above."})]}):m.jsx("div",{className:"overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:S.length===0?m.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No ",u," priority tasks pending."]}):S.map(b=>m.jsx(BD,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))}),m.jsx(sfe,{}),y.length>0&&m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>h(b=>!b),className:"flex w-full items-center justify-between rounded-xl px-2 py-2.5 text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:[m.jsxs("span",{children:["Completed (",_.length,")"]}),d?m.jsx(vh,{size:15}):m.jsx(yh,{size:15})]}),d&&m.jsx("div",{className:"mt-1 overflow-hidden rounded-2xl border border-border bg-card card-shadow divide-y divide-border",children:_.length===0?m.jsxs("p",{className:"px-4 py-3 text-sm text-muted-foreground",children:["No completed ",u," priority tasks."]}):_.map(b=>m.jsx(BD,{task:b,onToggle:r,onArchive:n,onAddSubtask:i,onToggleSubtask:a,onDeleteSubtask:o},b.id))})]})]})}const ufe=[{key:"focusModeEnabled",label:"Focus Mode",desc:"Hide distracting elements during study sessions"},{key:"strictFocusEnabled",label:"Strict Focus",desc:"Lock navigation while focus mode is active"},{key:"motivationEnabled",label:"Motivation Quotes",desc:"Show inspirational quotes on the dashboard"},{key:"analyticsEnabled",label:"Analytics",desc:"Track detailed study and attendance patterns"},{key:"safeModeEnabled",label:"Safe Mode",desc:"Show confirmation dialogs before destructive actions"}];function cfe(){var we;const{user:t,refreshUser:e}=aa(),[r,n]=D.useState({name:(t==null?void 0:t.name)??"",course:(t==null?void 0:t.course)??"",semester:(t==null?void 0:t.semester)??"",institute:(t==null?void 0:t.institute)??""}),[i,a]=D.useState(!1),[o,u]=D.useState(!1),[c,d]=D.useState("");async function h(be){be.preventDefault();const ke=r.name.trim();if(ke){a(!0),d(""),u(!1);try{await bi.updateProfile({name:ke,course:r.course.trim(),semester:r.semester.trim(),institute:r.institute.trim()}),await e(),u(!0),setTimeout(()=>u(!1),2500)}catch(Re){d(Re.message||"Failed to save profile.")}finally{a(!1)}}}const[p,y]=D.useState((t==null?void 0:t.settings)??{focusModeEnabled:!0,strictFocusEnabled:!1,motivationEnabled:!0,analyticsEnabled:!0,safeModeEnabled:!0}),[x,S]=D.useState(!1),[_,b]=D.useState(!1),[E,P]=D.useState("");async function k(be){const ke={...p,[be]:!p[be]};y(ke),S(!0),P(""),b(!1);try{await bi.updateSettings(ke),await e(),b(!0),setTimeout(()=>b(!1),2e3)}catch(Re){y(p),P(Re.message||"Failed to save settings.")}finally{S(!1)}}const[R,O]=D.useState(()=>typeof Notification<"u"?Notification.permission:"denied"),[j,I]=D.useState((t==null?void 0:t.notificationsEmail)??!1),[C,M]=D.useState(!1),[B,F]=D.useState(!1);async function $(){const be=await L6.requestPermission();O(be)}async function L(){const be=!j;I(be),M(!0),F(!1);try{await bi.updateNotificationPrefs({notificationsEmail:be}),await e(),F(!0),setTimeout(()=>F(!1),2e3)}catch{I(!be)}finally{M(!1)}}const Y=(((we=ln.currentUser)==null?void 0:we.providerData.map(be=>be.providerId))??[]).includes("password"),[te,ne]=D.useState({password:"",confirm:""}),[Q,ae]=D.useState(!1),[ie,q]=D.useState(!1),[X,de]=D.useState("");async function se(be){if(be.preventDefault(),te.password!==te.confirm){de("Passwords do not match.");return}if(te.password.length<6){de("Password must be at least 6 characters.");return}ae(!0),de(""),q(!1);try{await bi.addPassword(te.password),q(!0),ne({password:"",confirm:""})}catch(ke){de(ke.message||"Failed to set password.")}finally{ae(!1)}}return m.jsxs("div",{className:"mx-auto max-w-xl space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Profile & Settings"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your personal info and app preferences."})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-3",children:[m.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Account"}),m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(DH,{size:15,className:"text-muted-foreground shrink-0"}),m.jsx("span",{children:(t==null?void 0:t.email)??""})]})]}),!Y&&m.jsxs("div",{className:"rounded-xl border border-amber-400/40 bg-amber-50/5 p-5 space-y-4",children:[m.jsxs("h3",{className:"text-sm font-semibold text-amber-500 uppercase tracking-wide flex items-center gap-2",children:[m.jsx(NH,{size:14}),"Set a Password"]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Your account uses Google sign-in only. Set a password to also log in with your email."}),X&&m.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:X}),ie&&m.jsxs("div",{className:"rounded-md bg-green-500/10 px-3 py-2 text-sm text-green-600 flex items-center gap-1.5",children:[m.jsx(zi,{size:14})," Password set  you can now log in with email & password."]}),m.jsxs("form",{onSubmit:se,className:"space-y-3",children:[m.jsx("input",{type:"password",placeholder:"New password",value:te.password,onChange:be=>ne(ke=>({...ke,password:be.target.value})),required:!0,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),m.jsx("input",{type:"password",placeholder:"Confirm password",value:te.confirm,onChange:be=>ne(ke=>({...ke,confirm:be.target.value})),required:!0,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"}),m.jsx("button",{type:"submit",disabled:Q,className:"rounded-md bg-amber-500 px-4 py-2 text-sm font-semibold text-white transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:Q?"Setting password...":"Set password"})]})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[m.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Personal Info"}),c&&m.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:c}),m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("label",{htmlFor:"name",className:"flex items-center gap-1.5 text-sm font-medium",children:[m.jsx(GH,{size:13,className:"text-muted-foreground"}),"Full name"]}),m.jsx("input",{id:"name",value:r.name,onChange:be=>n(ke=>({...ke,name:be.target.value})),placeholder:"Your name",required:!0,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("label",{htmlFor:"course",className:"flex items-center gap-1.5 text-sm font-medium",children:[m.jsx(yl,{size:13,className:"text-muted-foreground"}),"Course"]}),m.jsx("input",{id:"course",value:r.course,onChange:be=>n(ke=>({...ke,course:be.target.value})),placeholder:"B.Tech",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("label",{htmlFor:"semester",className:"flex items-center gap-1.5 text-sm font-medium",children:[m.jsx(jH,{size:13,className:"text-muted-foreground"}),"Semester"]}),m.jsx("input",{id:"semester",value:r.semester,onChange:be=>n(ke=>({...ke,semester:be.target.value})),placeholder:"Sem 4",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("label",{htmlFor:"institute",className:"flex items-center gap-1.5 text-sm font-medium",children:[m.jsx(OH,{size:13,className:"text-muted-foreground"}),"Institute / College"]}),m.jsx("input",{id:"institute",value:r.institute,onChange:be=>n(ke=>({...ke,institute:be.target.value})),placeholder:"e.g. National Institute of Technology",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm outline-none placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-offset-background"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{type:"submit",disabled:i,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",children:i?"Saving...":"Save changes"}),o&&m.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[m.jsx(zi,{size:14})," Saved"]})]})]})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[m.jsx(VH,{size:14}),"App Settings"]}),_&&m.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[m.jsx(zi,{size:12})," Saved"]})]}),E&&m.jsx("div",{className:"rounded-md bg-destructive/10 px-3 py-2 text-sm text-destructive",children:E}),m.jsx("div",{className:"divide-y divide-border",children:ufe.map(({key:be,label:ke,desc:Re})=>m.jsxs("div",{className:"flex items-center justify-between py-3",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-sm font-medium",children:ke}),m.jsx("p",{className:"text-xs text-muted-foreground",children:Re})]}),m.jsx("button",{type:"button",role:"switch","aria-checked":p[be],onClick:()=>k(be),disabled:x,className:`relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${p[be]?"bg-primary":"bg-input"}`,children:m.jsx("span",{className:`pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-lg transform transition duration-200 ease-in-out ${p[be]?"translate-x-4":"translate-x-0"}`})})]},be))})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-5 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[m.jsx(NO,{size:14}),"Notifications"]}),B&&m.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[m.jsx(zi,{size:12})," Saved"]})]}),m.jsxs("div",{className:"divide-y divide-border",children:[m.jsxs("div",{className:"flex items-center justify-between py-3",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-sm font-medium",children:"Browser Notifications"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:R==="granted"?"Enabled  you'll see alerts for attendance risk and overdue tasks.":R==="denied"?"Blocked by browser. Allow notifications in your browser/system settings.":"Get on-device alerts when attendance drops or tasks are overdue."})]}),R==="granted"?m.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-semibold text-emerald-700",children:[m.jsx(NO,{size:11})," On"]}):R==="denied"?m.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-muted px-2.5 py-1 text-xs font-semibold text-muted-foreground",children:[m.jsx(IH,{size:11})," Blocked"]}):m.jsx("button",{onClick:$,className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-semibold text-primary-foreground hover:opacity-90 transition-opacity",children:"Enable"})]}),m.jsxs("div",{className:"flex items-center justify-between py-3",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-sm font-medium",children:"Email Alerts"}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:["Send alerts to ",m.jsx("span",{className:"font-medium",children:t==null?void 0:t.email})," for attendance risk and overdue tasks."," ","Requires EmailJS to be configured by the admin."]})]}),m.jsx("button",{type:"button",role:"switch","aria-checked":j,onClick:L,disabled:C,className:`relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${j?"bg-primary":"bg-input"}`,children:m.jsx("span",{className:`pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow-lg transform transition duration-200 ease-in-out ${j?"translate-x-4":"translate-x-0"}`})})]})]})]})]})}const i1={high:"bg-rose-500",medium:"bg-amber-400",low:"bg-emerald-500"},dfe={high:"text-rose-600",medium:"text-amber-600",low:"text-emerald-600"},ffe={high:"bg-rose-50 dark:bg-rose-950/30",medium:"bg-amber-50 dark:bg-amber-950/30",low:"bg-emerald-50 dark:bg-emerald-950/30"},hfe=["January","February","March","April","May","June","July","August","September","October","November","December"],pfe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function UD(t){return String(t).padStart(2,"0")}function zD(t,e,r){return`${t}-${UD(e+1)}-${UD(r)}`}function mfe(){const t=new Date,e=zD(t.getFullYear(),t.getMonth(),t.getDate()),[r,n]=D.useState(t.getFullYear()),[i,a]=D.useState(t.getMonth()),[o,u]=D.useState(e),{tasks:c}=IA({archived:!1}),d=na(),h=D.useMemo(()=>{var P;const E={};for(const k of c)k.dueDate&&(E[P=k.dueDate]??(E[P]=[])).push(k);return E},[c]),{days:p,firstDow:y}=D.useMemo(()=>{const E=new Date(r,i,1),P=new Date(r,i+1,0).getDate(),k=E.getDay();return{days:Array.from({length:P},(O,j)=>({d:j+1,dateStr:zD(r,i,j+1)})),firstDow:k}},[r,i]);function x(){i===0?(n(E=>E-1),a(11)):a(E=>E-1),u(null)}function S(){i===11?(n(E=>E+1),a(0)):a(E=>E+1),u(null)}const _=o?h[o]??[]:[];function b(E){return E?new Date(E+"T12:00:00").toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"}):""}return m.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[m.jsx("h1",{className:"text-xl font-bold",children:"Task Calendar"}),m.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-card px-4 py-3",children:[m.jsx("button",{onClick:x,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:m.jsx(z3,{size:18})}),m.jsxs("span",{className:"text-sm font-semibold",children:[hfe[i]," ",r]}),m.jsx("button",{onClick:S,className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:m.jsx(zu,{size:18})})]}),m.jsx("div",{className:"grid grid-cols-7",children:pfe.map(E=>m.jsx("div",{className:"py-1 text-center text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:E},E))}),m.jsxs("div",{className:"grid grid-cols-7 gap-px overflow-hidden rounded-xl border border-border bg-border",children:[Array.from({length:y}).map((E,P)=>m.jsx("div",{className:"bg-background/60 aspect-square"},`e${P}`)),p.map(({d:E,dateStr:P})=>{const k=h[P]??[],R=P===e,O=P===o,j=[...new Set(k.map(I=>I.priority))].slice(0,3);return m.jsxs("button",{onClick:()=>u(O?null:P),className:`flex min-h-[52px] flex-col items-center bg-background pb-1.5 pt-1 transition-colors hover:bg-accent ${O?"ring-2 ring-inset ring-primary bg-primary/5":""}`,children:[m.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-medium ${R?"bg-primary text-primary-foreground":O?"font-bold":""}`,children:E}),j.length>0&&m.jsx("div",{className:"mt-0.5 flex flex-wrap justify-center gap-0.5",children:j.map(I=>m.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${i1[I]??"bg-muted"}`},I))})]},P)})]}),m.jsx("div",{className:"flex justify-center gap-5",children:Object.entries(i1).map(([E,P])=>m.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[m.jsx("span",{className:`h-2 w-2 rounded-full ${P}`}),E.charAt(0).toUpperCase()+E.slice(1)]},E))}),o&&m.jsxs("div",{className:"rounded-xl border border-border bg-card p-4",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-sm font-semibold",children:b(o)}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.length," task",_.length!==1?"s":""]})]}),m.jsxs("button",{onClick:()=>d("/tasks"),className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium hover:bg-accent transition-colors",children:[m.jsx(Rr,{size:12}),"Add Task"]})]}),_.length===0?m.jsx("p",{className:"py-6 text-center text-xs text-muted-foreground",children:"No tasks due on this day."}):m.jsx("div",{className:"flex flex-col gap-2",children:_.map(E=>m.jsxs("div",{className:`flex items-start gap-2.5 rounded-lg p-2.5 ${ffe[E.priority]??""} ${E.completed?"opacity-50":""}`,children:[m.jsx("span",{className:`mt-1 h-2 w-2 shrink-0 rounded-full ${i1[E.priority]??"bg-muted"}`}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:`text-sm font-medium leading-snug ${E.completed?"line-through text-muted-foreground":""}`,children:E.title}),E.description&&m.jsx("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:E.description}),m.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wide ${dfe[E.priority]??""}`,children:E.priority})]}),E.completed&&m.jsx("span",{className:"shrink-0 text-[10px] text-muted-foreground",children:"Done"})]},E.id))})]})]})}function gfe(t){return hn(pt,"publicProfiles",t)}function qD(){return On(pt,"friendRequests")}function WD(t){return hn(pt,"friendRequests",t)}const Rd={async upsertPublicProfile(t,{name:e,course:r,institute:n}){const i=e??"";await Ti(gfe(t),{name:i,nameLower:i.toLowerCase(),course:r??"",institute:n??"",uid:t},{merge:!0})},async searchUsers(t){const e=t.toLowerCase();return(await Uu(On(pt,"publicProfiles"))).docs.map(n=>n.data()).filter(n=>(n.name??"").toLowerCase().includes(e))},async sendRequest(t,e,r,n,i,a){const o=_r(qD(),Nt("fromUid","==",t),Nt("toUid","==",i),Nt("status","==","pending"));if(!(await Uu(o)).empty)throw new Error("Friend request already sent.");if((await Wn(lt(t,"friends",i))).exists())throw new Error("Already friends.");await Yi(qD(),{fromUid:t,fromName:e,fromCourse:r??"",fromInstitute:n??"",toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()})},async acceptRequest(t,e,r,n,i,a,o){await Ti(lt(a,"friends",e),{uid:e,name:r,course:n??"",institute:i??"",addedAt:new Date().toISOString()}),await dt(WD(t),{status:"accepted"})},async rejectRequest(t){await dt(WD(t),{status:"rejected"})},async removeFriend(t,e){await _H(lt(t,"friends",e))}};function CA(){const{user:t}=Cn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState([]),[u,c]=D.useState(!0),[d,h]=D.useState(null);D.useEffect(()=>{if(t)return xr(cr(t.id,"friends"),b=>{r(b.docs.map(E=>({id:E.id,...E.data()}))),c(!1)},b=>{h(b.message),c(!1)})},[t]),D.useEffect(()=>{if(!t)return;const b=_r(On(pt,"friendRequests"),Nt("toUid","==",t.id),Nt("status","==","pending"));return xr(b,E=>{i(E.docs.map(P=>({id:P.id,...P.data()})))})},[t]),D.useEffect(()=>{if(!t)return;const b=_r(On(pt,"friendRequests"),Nt("fromUid","==",t.id),Nt("status","==","pending"));return xr(b,E=>{o(E.docs.map(P=>({id:P.id,...P.data()})))})},[t]),D.useEffect(()=>{if(!t)return;const b=_r(On(pt,"friendRequests"),Nt("fromUid","==",t.id),Nt("status","==","accepted"));return xr(b,async E=>{for(const P of E.docs){const k=P.data();(await Wn(lt(t.id,"friends",k.toUid))).exists()||await Ti(lt(t.id,"friends",k.toUid),{uid:k.toUid,name:k.toName,course:"",institute:"",addedAt:new Date().toISOString()})}})},[t]);const p=D.useCallback(async b=>{if(!b.trim()||!t)return{results:[],error:null};try{return{results:(await Rd.searchUsers(b.trim())).filter(P=>P.uid!==t.id),error:null}}catch(E){return{results:[],error:E.message}}},[t]),y=D.useCallback(async b=>{if(t)try{await Rd.sendRequest(t.id,t.name,t.course??"",t.institute??"",b.uid,b.name)}catch(E){throw h(E.message),E}},[t]),x=D.useCallback(async b=>{if(t)try{await Rd.acceptRequest(b.id,b.fromUid,b.fromName,b.fromCourse??"",b.fromInstitute??"",t.id,t.name)}catch(E){h(E.message)}},[t]),S=D.useCallback(async b=>{if(t)try{await Rd.rejectRequest(b)}catch(E){h(E.message)}},[t]),_=D.useCallback(async b=>{if(t)try{await Rd.removeFriend(t.id,b)}catch(E){h(E.message)}},[t]);return{friends:e,incomingRequests:n,outgoingRequests:a,loading:u,error:d,searchUsers:p,sendRequest:y,acceptRequest:x,rejectRequest:S,removeFriend:_}}const Oo=t=>hn(pt,"studyGroups",t),yfe=t=>On(pt,"studyGroups",t,"posts"),HD=()=>On(pt,"groupInvites"),GD=t=>hn(pt,"groupInvites",t),Ia={async createGroup(t,e,r){const n=await Yi(On(pt,"studyGroups"),{name:r,createdBy:t,memberUids:[t],members:[{uid:t,name:e,joinedAt:new Date().toISOString()}],createdAt:new Date().toISOString()});return await Ti(lt(t,"groups",n.id),{groupId:n.id,name:r,joinedAt:new Date().toISOString()}),n.id},async inviteToGroup(t,e,r,n,i,a){var c,d;if((d=(c=(await Wn(Oo(t))).data())==null?void 0:c.memberUids)!=null&&d.includes(i))throw new Error("Already a member of this group.");if(!(await Uu(_r(HD(),Nt("groupId","==",t),Nt("toUid","==",i),Nt("status","==","pending")))).empty)throw new Error("Invite already sent.");await Yi(HD(),{groupId:t,groupName:e,fromUid:r,fromName:n,toUid:i,toName:a,status:"pending",createdAt:new Date().toISOString()}),await dt(Oo(t),{pendingInviteUids:Bd(i)})},async acceptGroupInvite(t,e,r,n){var o;const a=((o=(await Wn(Oo(e))).data())==null?void 0:o.name)??"";await dt(Oo(e),{memberUids:Bd(r),members:Bd({uid:r,name:n,joinedAt:new Date().toISOString()}),pendingInviteUids:Ud(r)}),await Ti(lt(r,"groups",e),{groupId:e,name:a,joinedAt:new Date().toISOString()}),await dt(GD(t),{status:"accepted"})},async rejectGroupInvite(t){await dt(GD(t),{status:"rejected"})},async deleteGroup(t,e){const n=(await Wn(Oo(t))).data();if(!n)throw new Error("Group not found.");if(n.createdBy!==e)throw new Error("Only the group creator can delete this group.");const i=F1(pt);(n.memberUids??[]).forEach(a=>{i.delete(lt(a,"groups",t))}),i.delete(Oo(t)),await i.commit()},async leaveGroup(t,e){const n=(await Wn(Oo(t))).data();if(!n)throw new Error("Group not found.");const i=(n.members??[]).filter(o=>o.uid!==e),a=F1(pt);a.update(Oo(t),{memberUids:Ud(e),members:i,pendingInviteUids:Ud(e)}),a.delete(lt(e,"groups",t)),await a.commit()},async createPost(t,{authorUid:e,authorName:r,type:n,title:i,description:a,date:o}){await Yi(yfe(t),{authorUid:e,authorName:r,type:n,title:i,description:a??"",date:o??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r){await dt(hn(pt,"studyGroups",t,"posts",e),{savedBy:Bd(r)})},async unsavePost(t,e,r){await dt(hn(pt,"studyGroups",t,"posts",e),{savedBy:Ud(r)})}};function q6(){const{user:t}=Cn(),[e,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState(!0);D.useEffect(()=>{if(t)return xr(cr(t.id,"groups"),x=>{r(x.docs.map(S=>({id:S.id,...S.data()})).sort((S,_)=>(_.joinedAt??"").localeCompare(S.joinedAt??""))),o(!1)})},[t]),D.useEffect(()=>{if(!t)return;const x=_r(On(pt,"groupInvites"),Nt("toUid","==",t.id),Nt("status","==","pending"));return xr(x,S=>{i(S.docs.map(_=>({id:_.id,..._.data()})))})},[t]);const u=D.useCallback(async x=>{if(!(!t||!x.trim()))return Ia.createGroup(t.id,t.name,x.trim())},[t]),c=D.useCallback(async(x,S,_)=>{if(t)return Ia.inviteToGroup(x,S,t.id,t.name,_.uid,_.name)},[t]),d=D.useCallback(async x=>{if(t)return Ia.acceptGroupInvite(x.id,x.groupId,t.id,t.name)},[t]),h=D.useCallback(async x=>Ia.rejectGroupInvite(x),[]),p=D.useCallback(async x=>{if(t)return Ia.deleteGroup(x,t.id)},[t]),y=D.useCallback(async x=>{if(t)return Ia.leaveGroup(x,t.id)},[t]);return{myGroups:e,groupInvites:n,loading:a,createGroup:u,inviteToGroup:c,acceptInvite:d,rejectInvite:h,deleteGroup:p,leaveGroup:y}}function vfe(t){const{user:e}=Cn(),[r,n]=D.useState(null),[i,a]=D.useState([]),[o,u]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const h=xr(hn(pt,"studyGroups",t),y=>{y.exists()&&n({id:y.id,...y.data()}),u(!1)}),p=xr(_r(On(pt,"studyGroups",t,"posts"),N3("createdAt","desc")),y=>{a(y.docs.map(x=>({id:x.id,...x.data()})))});return()=>{h(),p()}},[e,t]);const c=D.useCallback(async h=>{if(!(!e||!t))return Ia.createPost(t,{...h,authorUid:e.id,authorName:e.name})},[e,t]),d=D.useCallback(async(h,p)=>{if(!(!e||!t))return p?Ia.unsavePost(t,h,e.id):Ia.savePost(t,h,e.id)},[e,t]);return{group:r,posts:i,loading:o,createPost:c,toggleSave:d}}function bfe(t){return t?t.trim().split(/\s+/).map(e=>e[0]).join("").toUpperCase().slice(0,6):""}function a1({course:t,institute:e}){const r=[t,bfe(e)].filter(Boolean);return r.length?m.jsx("p",{className:"truncate text-xs text-muted-foreground",children:r.join("  ")}):null}function fm({name:t,size:e="md"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="sm"?"h-9 w-9 text-xs":"h-11 w-11 text-sm";return m.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function xfe(){const t=na(),{friends:e,incomingRequests:r,outgoingRequests:n,loading:i,searchUsers:a,sendRequest:o,acceptRequest:u,rejectRequest:c}=CA(),{myGroups:d,groupInvites:h,createGroup:p,acceptInvite:y,rejectInvite:x}=q6(),[S,_]=D.useState(""),[b,E]=D.useState([]),[P,k]=D.useState(!1),[R,O]=D.useState(null),[j,I]=D.useState({}),C=D.useRef(null),[M,B]=D.useState("friends"),[F,$]=D.useState(!1),[L,W]=D.useState(""),[Y,te]=D.useState("");async function ne(se){if(_(se),O(null),clearTimeout(C.current),!se.trim()){E([]);return}C.current=setTimeout(async()=>{k(!0);const{results:we,error:be}=await a(se);E(we),O(be),k(!1)},400)}async function Q(se){try{await o(se),I(we=>({...we,[se.uid]:!0}))}catch{}}async function ae(se){if(se.preventDefault(),!!L.trim()){te("");try{const we=await p(L);W(""),$(!1),we&&t(`/ptp/group/${we}`)}catch(we){te(we.message)}}}const ie=S.length>0,q=r.length+h.length;function X(se){return j[se]||n.some(we=>we.toUid===se)}function de(se){return e.some(we=>we.uid===se)}return m.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold",children:"Study Peers"}),m.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Connect, form study groups, and share resources"})]}),m.jsxs("div",{className:"relative",children:[m.jsx($H,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),m.jsx("input",{value:S,onChange:se=>ne(se.target.value),placeholder:"Search peers by name",className:"w-full rounded-xl border border-border bg-card py-2.5 pl-9 pr-9 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),S&&m.jsx("button",{onClick:()=>{_(""),E([]),O(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:m.jsx(Kn,{size:14})})]}),ie&&m.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[m.jsx("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Search Results"}),P?m.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"Searching"}):R?m.jsxs("div",{className:"px-4 py-6 text-center",children:[m.jsx("p",{className:"text-sm font-medium text-destructive",children:"Search failed"}),m.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Firestore rules may not be published yet. Go to Firebase Console  Firestore  Rules and publish the rules from ",m.jsx("code",{className:"font-mono",children:"firestore.rules"}),"."]})]}):b.length===0?m.jsxs("div",{className:"px-4 py-6 text-center space-y-1",children:[m.jsxs("p",{className:"text-sm text-muted-foreground",children:['No users found for "',S,'".']}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"The person must open the Sarasva app at least once to appear in search."})]}):m.jsx("div",{className:"divide-y divide-border",children:b.map(se=>m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[m.jsx(fm,{name:se.name}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"truncate text-sm font-medium",children:se.name}),m.jsx(a1,{course:se.course,institute:se.institute})]}),de(se.uid)?m.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600",children:[m.jsx(qH,{size:14})," Friends"]}):X(se.uid)?m.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[m.jsx(z1,{size:13})," Sent"]}):m.jsxs("button",{onClick:()=>Q(se),className:"flex items-center gap-1.5 rounded-lg bg-primary px-3 py-1.5 text-xs font-medium text-primary-foreground",children:[m.jsx(J3,{size:12})," Add"]})]},se.uid))})]}),m.jsx("div",{className:"flex gap-1 rounded-xl bg-muted p-1",children:[{key:"friends",label:`Friends (${e.length})`},{key:"requests",label:"Requests",badge:q},{key:"groups",label:`Groups (${d.length})`}].map(({key:se,label:we,badge:be})=>m.jsxs("button",{onClick:()=>B(se),className:Be("relative flex-1 rounded-lg py-1.5 text-xs font-medium transition-colors",M===se?"bg-card shadow-sm":"text-muted-foreground"),children:[we,be>0&&m.jsx("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[9px] font-bold text-white",children:be})]},se))}),M==="friends"&&m.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:i?m.jsx("p",{className:"py-10 text-center text-sm text-muted-foreground",children:"Loading"}):e.length===0?m.jsxs("div",{className:"flex flex-col items-center gap-2 py-14",children:[m.jsx(Z3,{size:38,className:"text-muted-foreground/30"}),m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study peers yet"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Search above to find classmates"})]}):m.jsx("div",{className:"divide-y divide-border",children:e.map(se=>m.jsxs("button",{onClick:()=>t(`/ptp/friend/${se.uid}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[m.jsx(fm,{name:se.name}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"truncate text-sm font-medium",children:se.name}),m.jsx(a1,{course:se.course,institute:se.institute}),m.jsx("p",{className:"text-[10px] text-primary/60 mt-0.5",children:"Tap to view & share"})]}),m.jsx(zu,{size:15,className:"shrink-0 text-muted-foreground"})]},se.id))})}),M==="requests"&&m.jsxs("div",{className:"space-y-3",children:[r.length>0&&m.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[m.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Friend Requests (",r.length,")"]}),m.jsx("div",{className:"divide-y divide-border",children:r.map(se=>m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[m.jsx(fm,{name:se.fromName}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"truncate text-sm font-medium",children:se.fromName}),m.jsx(a1,{course:se.fromCourse,institute:se.fromInstitute})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>u(se),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:m.jsx(zi,{size:14})}),m.jsx("button",{onClick:()=>c(se.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:m.jsx(Kn,{size:14})})]})]},se.id))})]}),h.length>0&&m.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[m.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Group Invites (",h.length,")"]}),m.jsx("div",{className:"divide-y divide-border",children:h.map(se=>m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[m.jsx("div",{className:"flex h-11 w-11 shrink-0 items-center justify-center rounded-full bg-primary/10",children:m.jsx(Jd,{size:18,className:"text-primary"})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"truncate text-sm font-semibold",children:se.groupName}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:["Invited by ",se.fromName]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>y(se),className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500 text-white",children:m.jsx(zi,{size:14})}),m.jsx("button",{onClick:()=>x(se.id),className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:m.jsx(Kn,{size:14})})]})]},se.id))})]}),n.length>0&&m.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[m.jsxs("p",{className:"border-b border-border px-4 py-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:["Sent (",n.length,")"]}),m.jsx("div",{className:"divide-y divide-border",children:n.map(se=>m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[m.jsx(fm,{name:se.toName}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"truncate text-sm font-medium",children:se.toName}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Request pending"})]}),m.jsx(z1,{size:14,className:"shrink-0 text-muted-foreground"})]},se.id))})]}),r.length===0&&n.length===0&&h.length===0&&m.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[m.jsx(HH,{size:38,className:"text-muted-foreground/30"}),m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No pending requests"})]})]}),M==="groups"&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:()=>{$(se=>!se),te("")},className:Be("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",F?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[F?m.jsx(Kn,{size:15}):m.jsx(Rr,{size:15}),F?"Cancel":"Create Study Group"]}),F&&m.jsxs("form",{onSubmit:ae,className:"flex flex-col gap-2 rounded-xl border border-border bg-card p-4",children:[m.jsx("input",{autoFocus:!0,value:L,onChange:se=>W(se.target.value),placeholder:"Group name e.g. BCA Batch 26",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),Y&&m.jsx("p",{className:"text-xs text-destructive",children:Y}),m.jsx("button",{type:"submit",disabled:!L.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:"Create & Open"})]}),d.length===0&&!F?m.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[m.jsx(Jd,{size:38,className:"text-muted-foreground/30"}),m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No study groups yet"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a group or accept an invitation"})]}):m.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-card divide-y divide-border",children:d.map(se=>m.jsxs("button",{onClick:()=>t(`/ptp/group/${se.groupId}`),className:"flex w-full items-center gap-3 px-4 py-3 hover:bg-accent transition-colors text-left",children:[m.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:m.jsx(Jd,{size:17,className:"text-primary"})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"truncate text-sm font-semibold",children:se.name}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to open"})]}),m.jsx(zu,{size:15,className:"shrink-0 text-muted-foreground"})]},se.id))})]})]})}const hE=[{value:"task",label:"Task",icon:vT,bg:"bg-blue-100 dark:bg-blue-950/40",text:"text-blue-700 dark:text-blue-400"},{value:"assignment",label:"Assignment",icon:W3,bg:"bg-purple-100 dark:bg-purple-950/40",text:"text-purple-700 dark:text-purple-400"},{value:"exam_date",label:"Exam Date",icon:by,bg:"bg-rose-100 dark:bg-rose-950/40",text:"text-rose-700 dark:text-rose-400"},{value:"exam_pattern",label:"Exam Pattern",icon:yl,bg:"bg-amber-100 dark:bg-amber-950/40",text:"text-amber-700 dark:text-amber-400"},{value:"note",label:"Note",icon:_T,bg:"bg-emerald-100 dark:bg-emerald-950/40",text:"text-emerald-700 dark:text-emerald-400"}];function W6(t){return hE.find(e=>e.value===t)??hE[4]}function o1({name:t,size:e="sm"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="xs"?"h-7 w-7 text-[10px]":"h-9 w-9 text-xs";return m.jsx("div",{className:`${n} shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary`,children:r})}function _fe({type:t}){const e=W6(t),r=e.icon;return m.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold ${e.bg} ${e.text}`,children:[m.jsx(r,{size:10}),e.label]})}function wfe(){var Re,ge,Oe;const{groupId:t}=rL(),e=na(),{user:r}=aa(),{group:n,posts:i,loading:a,createPost:o,toggleSave:u}=vfe(t),{inviteToGroup:c,deleteGroup:d,leaveGroup:h}=q6(),{friends:p}=CA(),[y,x]=D.useState(!1),[S,_]=D.useState("task"),[b,E]=D.useState(""),[P,k]=D.useState(""),[R,O]=D.useState(""),[j,I]=D.useState(""),[C,M]=D.useState(!1),[B,F]=D.useState(!1),[$,L]=D.useState(!1),[W,Y]=D.useState({}),[te,ne]=D.useState(""),[Q,ae]=D.useState({}),ie=(n==null?void 0:n.createdBy)===(r==null?void 0:r.id),q=p.filter(fe=>{var ue;return!((ue=n==null?void 0:n.memberUids)!=null&&ue.includes(fe.uid))});async function X(fe){if(fe.preventDefault(),!!b.trim()){I(""),M(!0);try{await o({type:S,title:b.trim(),description:P.trim(),date:R||null}),E(""),k(""),O(""),x(!1)}catch(ue){I(ue.message)}M(!1)}}async function de(fe){var Je;const ue=Q[fe.id]??((Je=fe.savedBy)==null?void 0:Je.includes(r==null?void 0:r.id));if(ae(He=>({...He,[fe.id]:!ue})),await u(fe.id,ue),!ue)try{await jo.create(r.id,{title:fe.title,description:`[${(n==null?void 0:n.name)??"Group"}] ${fe.description}`.trim(),dueDate:fe.date??"",priority:fe.type==="exam_date"?"high":"medium"})}catch{}}async function se(fe){if(n){ne("");try{await c(t,n.name,fe),Y(ue=>({...ue,[fe.uid]:!0}))}catch(ue){ne(ue.message)}}}async function we(){if(confirm(`Delete "${n.name}"? This cannot be undone and will remove the group for all members.`))try{await d(t),e("/ptp")}catch(fe){alert(fe.message)}}async function be(){if(confirm(`Leave "${n.name}"?`))try{await h(t),e("/ptp")}catch(fe){alert(fe.message)}}if(a)return m.jsx("div",{className:"flex h-40 items-center justify-center",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})});if(!n)return m.jsxs("div",{className:"flex flex-col items-center gap-2 py-20",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Group not found."}),m.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const ke=["task","assignment","exam_date"].includes(S);return m.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:m.jsx($3,{size:18})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h1",{className:"text-lg font-bold truncate",children:n.name}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[((Re=n.memberUids)==null?void 0:Re.length)??0," member",((ge=n.memberUids)==null?void 0:ge.length)!==1?"s":""]})]}),ie?m.jsxs("button",{onClick:we,className:"flex items-center gap-1 rounded-lg border border-destructive/30 px-2.5 py-1.5 text-xs font-medium text-destructive hover:bg-destructive/10 transition-colors",title:"Delete group",children:[m.jsx(os,{size:13})," Delete"]}):m.jsxs("button",{onClick:be,className:"flex items-center gap-1 rounded-lg border border-border px-2.5 py-1.5 text-xs font-medium text-muted-foreground hover:bg-muted transition-colors",title:"Leave group",children:[m.jsx(K3,{size:13})," Leave"]})]}),m.jsxs("div",{className:"overflow-hidden rounded-xl border border-border bg-card",children:[m.jsxs("button",{onClick:()=>F(fe=>!fe),className:"flex w-full items-center justify-between px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[m.jsx(Z3,{size:14,className:"text-primary"}),"Members (",((Oe=n.members)==null?void 0:Oe.length)??0,")"]}),B?m.jsx(vh,{size:14,className:"text-muted-foreground"}):m.jsx(yh,{size:14,className:"text-muted-foreground"})]}),B&&m.jsxs("div",{className:"border-t border-border",children:[m.jsx("div",{className:"divide-y divide-border",children:(n.members??[]).map(fe=>m.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5",children:[m.jsx(o1,{name:fe.name,size:"xs"}),m.jsx("p",{className:"flex-1 text-sm",children:fe.name}),fe.uid===n.createdBy&&m.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:"Admin"})]},fe.uid))}),m.jsxs("div",{className:"border-t border-border p-3 space-y-2",children:[m.jsxs("button",{onClick:()=>{L(fe=>!fe),ne("")},className:"flex items-center gap-1.5 text-xs font-medium text-primary",children:[m.jsx(J3,{size:13}),$?"Close":"Invite a Friend"]}),$&&m.jsxs("div",{className:"space-y-1.5",children:[te&&m.jsx("p",{className:"text-xs text-destructive",children:te}),q.length===0?m.jsx("p",{className:"py-2 text-center text-xs text-muted-foreground",children:"All your friends are already in this group."}):q.map(fe=>m.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-muted px-3 py-2",children:[m.jsx(o1,{name:fe.name,size:"xs"}),m.jsx("span",{className:"flex-1 text-sm",children:fe.name}),W[fe.uid]?m.jsx("span",{className:"text-xs text-muted-foreground",children:"Sent"}):m.jsx("button",{onClick:()=>se(fe),className:"rounded-lg bg-primary px-2.5 py-1 text-xs font-medium text-primary-foreground",children:"Invite"})]},fe.uid))]})]})]})]}),m.jsxs("button",{onClick:()=>x(fe=>!fe),className:Be("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",y?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[y?m.jsx(Kn,{size:15}):m.jsx(Rr,{size:15}),y?"Cancel":"Share with Group"]}),y&&m.jsxs("form",{onSubmit:X,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[m.jsx("div",{className:"flex flex-wrap gap-1.5",children:hE.map(fe=>{const ue=S===fe.value;return m.jsx("button",{type:"button",onClick:()=>_(fe.value),className:Be("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",ue?`${fe.bg} ${fe.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:fe.label},fe.value)})}),m.jsx("input",{autoFocus:!0,value:b,onChange:fe=>E(fe.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),m.jsx("textarea",{value:P,onChange:fe=>k(fe.target.value),placeholder:"Details, topics to cover, notes",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),ke&&m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),m.jsx("input",{type:"date",value:R,onChange:fe=>O(fe.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),j&&m.jsx("p",{className:"text-xs text-destructive",children:j}),m.jsx("button",{type:"submit",disabled:C||!b.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:C?"Sharing":"Share"})]}),i.length===0?m.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[m.jsx(_T,{size:34,className:"text-muted-foreground/30"}),m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Be the first to share a task, exam tip, or note"})]}):m.jsx("div",{className:"space-y-3",children:i.map(fe=>{var Je;const ue=Q[fe.id]??((Je=fe.savedBy)==null?void 0:Je.includes(r==null?void 0:r.id));return W6(fe.type),m.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[m.jsx(_fe,{type:fe.type}),m.jsx("p",{className:"text-sm font-semibold leading-snug",children:fe.title})]}),m.jsx("button",{onClick:()=>de(fe),className:Be("shrink-0 rounded-lg p-1.5 transition-colors",ue?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:ue?"Saved to my tasks":"Save to my tasks",children:ue?m.jsx(V3,{size:16}):m.jsx(F3,{size:16})})]}),fe.description&&m.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:fe.description}),m.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(o1,{name:fe.authorName,size:"xs"}),m.jsx("span",{className:"text-xs text-muted-foreground",children:fe.authorName})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[fe.date&&m.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(fe.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),ue&&m.jsx("span",{className:"text-[10px] font-semibold text-primary",children:"Saved "})]})]})]},fe.id)})})]})}function of(t,e){return[t,e].sort().join("_")}function Sfe(t,e){return On(pt,"directChats",of(t,e),"posts")}const s1={async createPost(t,e,{authorUid:r,authorName:n,type:i,title:a,description:o,date:u}){const c=of(t,e);await Ti(hn(pt,"directChats",c),{memberUids:[t,e].sort(),updatedAt:new Date().toISOString()},{merge:!0}),await Yi(Sfe(t,e),{authorUid:r,authorName:n,type:i,title:a,description:o??"",date:u??null,savedBy:[],createdAt:new Date().toISOString()})},async savePost(t,e,r,n){const i=of(t,e);await dt(hn(pt,"directChats",i,"posts",r),{savedBy:Bd(n)})},async unsavePost(t,e,r,n){const i=of(t,e);await dt(hn(pt,"directChats",i,"posts",r),{savedBy:Ud(n)})}};function Efe(t){const{user:e}=Cn(),[r,n]=D.useState([]),[i,a]=D.useState(!0);D.useEffect(()=>{if(!e||!t)return;const c=of(e.id,t);return xr(_r(On(pt,"directChats",c,"posts"),N3("createdAt","desc")),h=>{n(h.docs.map(p=>({id:p.id,...p.data()}))),a(!1)},()=>a(!1))},[e,t]);const o=D.useCallback(async c=>{if(!(!e||!t))return s1.createPost(e.id,t,{...c,authorUid:e.id,authorName:e.name})},[e,t]),u=D.useCallback(async(c,d)=>{if(!(!e||!t))return d?s1.unsavePost(e.id,t,c,e.id):s1.savePost(e.id,t,c,e.id)},[e,t]);return{posts:r,loading:i,createPost:o,toggleSave:u}}const pE=[{value:"task",label:"Task",icon:vT,bg:"bg-blue-100",text:"text-blue-700"},{value:"assignment",label:"Assignment",icon:W3,bg:"bg-purple-100",text:"text-purple-700"},{value:"exam_date",label:"Exam Date",icon:by,bg:"bg-rose-100",text:"text-rose-700"},{value:"exam_pattern",label:"Exam Pattern",icon:yl,bg:"bg-amber-100",text:"text-amber-700"},{value:"note",label:"Note",icon:_T,bg:"bg-emerald-100",text:"text-emerald-700"}];function Tfe(t){return pE.find(e=>e.value===t)??pE[4]}function KD({name:t,size:e="lg"}){const r=(t??"?").split(" ").map(i=>i[0]).join("").slice(0,2).toUpperCase(),n=e==="lg"?"h-16 w-16 text-xl":e==="md"?"h-10 w-10 text-sm":"h-8 w-8 text-xs";return m.jsx("div",{className:Be("shrink-0 rounded-full bg-primary/15 flex items-center justify-center font-bold text-primary",n),children:r})}function Afe({type:t}){const e=Tfe(t),r=e.icon;return m.jsxs("span",{className:Be("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold",e.bg,e.text),children:[m.jsx(r,{size:10}),e.label]})}function Pfe(){const{friendUid:t}=rL(),e=na(),{user:r}=aa(),{friends:n,removeFriend:i}=CA(),{posts:a,loading:o,createPost:u,toggleSave:c}=Efe(t),d=D.useMemo(()=>n.find(W=>W.uid===t),[n,t]),[h,p]=D.useState(!1),[y,x]=D.useState("note"),[S,_]=D.useState(""),[b,E]=D.useState(""),[P,k]=D.useState(""),[R,O]=D.useState(""),[j,I]=D.useState(!1),[C,M]=D.useState({});async function B(){confirm(`Remove ${(d==null?void 0:d.name)??"this friend"}? This cannot be undone.`)&&(await i(t),e("/ptp"))}async function F(W){if(W.preventDefault(),!!S.trim()){O(""),I(!0);try{await u({type:y,title:S.trim(),description:b.trim(),date:P||null}),_(""),E(""),k(""),p(!1)}catch(Y){O(Y.message)}I(!1)}}async function $(W){var te;const Y=C[W.id]??((te=W.savedBy)==null?void 0:te.includes(r==null?void 0:r.id));if(M(ne=>({...ne,[W.id]:!Y})),await c(W.id,Y),!Y)try{await jo.create(r.id,{title:W.title,description:`[From ${(d==null?void 0:d.name)??"Friend"}] ${W.description}`.trim(),dueDate:W.date??"",priority:W.type==="exam_date"?"high":"medium"})}catch{}}if(!o&&!d)return m.jsxs("div",{className:"mx-auto max-w-md space-y-4 py-20 text-center",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Friend not found or you're no longer connected."}),m.jsx("button",{onClick:()=>e("/ptp"),className:"text-xs text-primary underline",children:"Back to Peers"})]});const L=["task","assignment","exam_date"].includes(y);return m.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>e("/ptp"),className:"rounded-lg p-1.5 hover:bg-accent transition-colors",children:m.jsx($3,{size:18})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h1",{className:"text-lg font-bold truncate",children:(d==null?void 0:d.name)??""}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Study peer"})]})]}),d&&m.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 flex items-center gap-4",children:[m.jsx(KD,{name:d.name,size:"lg"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-base font-semibold",children:d.name}),d.course&&m.jsx("p",{className:"text-sm text-muted-foreground",children:d.course}),d.institute&&m.jsx("p",{className:"text-xs text-muted-foreground",children:d.institute})]}),m.jsxs("button",{onClick:B,className:"flex items-center gap-1.5 rounded-lg border border-destructive/30 px-3 py-2 text-xs font-medium text-destructive hover:bg-destructive/10 transition-colors shrink-0",children:[m.jsx(WH,{size:13})," Remove"]})]}),m.jsxs("button",{onClick:()=>p(W=>!W),className:Be("flex w-full items-center justify-center gap-2 rounded-xl border py-2.5 text-sm font-medium transition-colors",h?"border-border bg-muted text-muted-foreground":"border-primary bg-primary/5 text-primary hover:bg-primary/10"),children:[h?m.jsx(Kn,{size:15}):m.jsx(RO,{size:15}),h?"Cancel":"Share with Friend"]}),h&&m.jsxs("form",{onSubmit:F,className:"space-y-3 rounded-xl border border-border bg-card p-4",children:[m.jsx("div",{className:"flex flex-wrap gap-1.5",children:pE.map(W=>{const Y=y===W.value;return m.jsx("button",{type:"button",onClick:()=>x(W.value),className:Be("rounded-full px-2.5 py-1 text-[11px] font-medium transition-colors",Y?`${W.bg} ${W.text}`:"bg-muted text-muted-foreground hover:bg-accent"),children:W.label},W.value)})}),m.jsx("input",{autoFocus:!0,value:S,onChange:W=>_(W.target.value),placeholder:"Title",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),m.jsx("textarea",{value:b,onChange:W=>E(W.target.value),placeholder:"Details, notes, tips",rows:3,className:"w-full resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),L&&m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs text-muted-foreground",children:"Date"}),m.jsx("input",{type:"date",value:P,onChange:W=>k(W.target.value),className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),R&&m.jsx("p",{className:"text-xs text-destructive",children:R}),m.jsx("button",{type:"submit",disabled:j||!S.trim(),className:"w-full rounded-lg bg-primary py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",children:j?"Sharing":"Share"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Shared between you two"}),o?m.jsx("div",{className:"flex h-24 items-center justify-center",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})}):a.length===0?m.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border border-border bg-card py-14",children:[m.jsx(RO,{size:34,className:"text-muted-foreground/30"}),m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nothing shared yet"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a task, exam tip, or note"})]}):m.jsx("div",{className:"space-y-3",children:a.map(W=>{var ne;const Y=C[W.id]??((ne=W.savedBy)==null?void 0:ne.includes(r==null?void 0:r.id)),te=W.authorUid===(r==null?void 0:r.id);return m.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-2.5",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[m.jsx(Afe,{type:W.type}),m.jsx("p",{className:"text-sm font-semibold leading-snug",children:W.title})]}),!te&&m.jsx("button",{onClick:()=>$(W),className:Be("shrink-0 rounded-lg p-1.5 transition-colors",Y?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent"),title:Y?"Saved to my tasks":"Save to my tasks",children:Y?m.jsx(V3,{size:16}):m.jsx(F3,{size:16})})]}),W.description&&m.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:W.description}),m.jsxs("div",{className:"flex items-center justify-between pt-0.5",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(KD,{name:W.authorName,size:"sm"}),m.jsx("span",{className:"text-xs text-muted-foreground",children:te?"You":W.authorName})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[W.date&&m.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:new Date(W.date+"T12:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),Y&&!te&&m.jsx("span",{className:"text-[10px] font-semibold text-primary",children:"Saved "})]})]})]},W.id)})})]})]})}function Ife(){const{loading:t}=aa();return t?m.jsx("div",{className:"flex h-screen items-center justify-center",children:m.jsx("span",{className:"text-muted-foreground text-sm",children:"Loading..."})}):m.jsxs(YB,{children:[m.jsx(gr,{path:"/login",element:m.jsx(LG,{})}),m.jsx(gr,{path:"/register",element:m.jsx($G,{})}),m.jsx(gr,{element:m.jsx(DG,{}),children:m.jsxs(gr,{element:m.jsx(MG,{}),children:[m.jsx(gr,{index:!0,element:m.jsx(c1,{to:"/dashboard",replace:!0})}),m.jsx(gr,{path:"/dashboard",element:m.jsx(Vde,{})}),m.jsx(gr,{path:"/attendance",element:m.jsx(Hde,{})}),m.jsx(gr,{path:"/timetable",element:m.jsx(Qde,{})}),m.jsx(gr,{path:"/subjects",element:m.jsx(Jde,{})}),m.jsx(gr,{path:"/exams",element:m.jsx(nfe,{})}),m.jsx(gr,{path:"/tasks",element:m.jsx(lfe,{})}),m.jsx(gr,{path:"/profile",element:m.jsx(cfe,{})}),m.jsx(gr,{path:"/calendar",element:m.jsx(mfe,{})}),m.jsx(gr,{path:"/ptp",element:m.jsx(xfe,{})}),m.jsx(gr,{path:"/ptp/group/:groupId",element:m.jsx(wfe,{})}),m.jsx(gr,{path:"/ptp/friend/:friendUid",element:m.jsx(Pfe,{})})]})}),m.jsx(gr,{path:"*",element:m.jsx(c1,{to:"/dashboard",replace:!0})})]})}iB.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(iU,{children:m.jsx(EH,{children:m.jsx(Ife,{})})})}));
